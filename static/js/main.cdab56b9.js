/*! For license information please see main.cdab56b9.js.LICENSE.txt */
!function(){var e={3761:function(e,t,n){"use strict";n.d(t,{A:function(){return _e},B:function(){return Z},E:function(){return V},a:function(){return B},b:function(){return Le},c:function(){return ue},d:function(){return ze},e:function(){return L},i:function(){return j},u:function(){return U},z:function(){return xe}});var r=n(9189),i=n(9677),a=n(7061),o=n(9900),s=n(4269),u=n(8114),l=n(3680),c=n(745),f=n(2533),d=n(9961),p=n(9382),h=n(7982),v=n(3358),m=n(5800);function g(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var y="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?v.useEffect:v.useLayoutEffect;var b=n(442),w=n.n(b),x=n(4852),_=function(e){return"object"===typeof e&&"function"===typeof e.then},S=[];function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);var i,a=(0,c.Z)(S);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(k(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}}}catch(u){a.e(u)}finally{a.f()}var s={keys:t,equal:r.equal,remove:function(){var e=S.indexOf(s);-1!==e&&S.splice(e,1)},promise:(_(e)?e:e.apply(void 0,(0,d.Z)(t))).then((function(e){s.response=e,r.lifespan&&r.lifespan>0&&(s.timeout=setTimeout(s.remove,r.lifespan))})).catch((function(e){return s.error=e}))};if(S.push(s),!n)throw s.promise}var C,M,T=["args","attach"],P=["args","children"],A=["args","children"],D=["children","key","ref"],I=["children","key","ref"],R=["params"],O={},L=function(e){Object.assign(O,e)};var N=function(e){return"colorSpace"in e||"outputColorSpace"in e},z=function(){var e;return null!=(e=O.ColorManagement)?e:null},F=function(e){return e&&e.isOrthographicCamera},j=function(e){return e&&e.hasOwnProperty("current")},B="undefined"!==typeof window&&(null!=(C=window.document)&&C.createElement||"ReactNative"===(null==(M=window.navigator)?void 0:M.product))?v.useLayoutEffect:v.useEffect;function U(e){var t=v.useRef(e);return B((function(){t.current=e}),[e]),t}function Z(e){var t=e.set;return B((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var V=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return(0,o.Z)(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(v.Component);V.getDerivedStateFromError=function(){return{error:!0}};var H="__default",W=new Map;function G(e){var t,n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}var q=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},X={obj:function(e){return e===Object(e)&&!X.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,o=void 0===a?"reference":a,s=n.strict,u=void 0===s||s;if(typeof e!==typeof t||!!e!==!!t)return!1;if(X.str(e)||X.num(e))return e===t;var l=X.obj(e);if(l&&"reference"===o)return e===t;var c,f=X.arr(e);if(f&&"reference"===i)return e===t;if((f||l)&&e===t)return!0;for(c in e)if(!(c in t))return!1;if(l&&"shallow"===i&&"shallow"===o){for(c in u?t:e)if(!X.equ(e[c],t[c],{strict:u,objects:"reference"}))return!1}else for(c in u?t:e)if(e[c]!==t[c])return!1;if(X.und(c)){if(f&&0===e.length&&0===t.length)return!0;if(l&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function K(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function Y(e,t){return e.__r3f=(0,i.Z)({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t),e}function Q(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:i}}return{target:n,key:t}}var $=/-\d+$/;function J(e,t,n){if(X.str(n)){if($.test(n)){var r=Q(e,n.replace($,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var o=Q(e,n),s=o.target,u=o.key;t.__r3f.previousAttach=s[u],s[u]=t}else t.__r3f.previousAttach=n(e,t)}function ee(e,t,n){var r,i;if(X.str(n)){var a=Q(e,n),o=a.target,s=a.key,u=t.__r3f.previousAttach;void 0===u?delete o[s]:o[s]=u}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function te(e,t){t.children,t.key,t.ref;var n,r=(0,p.Z)(t,D),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(a.children,a.key,a.ref,(0,p.Z)(a,I)),s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=null!=(n=null==e?void 0:e.__r3f)?n:{},c=Object.entries(r),f=[];if(s)for(var d=Object.keys(o),h=0;h<d.length;h++)r.hasOwnProperty(d[h])||c.unshift([d[h],H+"remove"]);c.forEach((function(t){var n,i=(0,l.Z)(t,2),a=i[0],s=i[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==a)&&!X.equ(s,o[a])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(a))return f.push([a,s,!0,[]]);var u=[];for(var c in a.includes("-")&&(u=a.split("-")),f.push([a,s,!1,u]),r){var d=r[c];c.startsWith("".concat(a,"-"))&&f.push([c,d,!1,c.split("-")])}}}));var v=(0,i.Z)({},r);return u.memoizedProps&&u.memoizedProps.args&&(v.args=u.memoizedProps.args),u.memoizedProps&&u.memoizedProps.attach&&(v.attach=u.memoizedProps.attach),{memoized:v,changes:f}}function ne(e,t){var n,i,a,o,s=null!=(n=e.__r3f)?n:{},u=s.root,c=null!=(i=null==u||null==u.getState?void 0:u.getState())?i:{},f=(o=t)&&o.memoized&&o.changes?t:te(e,t),p=f.memoized,v=f.changes,m=s.eventCount;e.__r3f&&(e.__r3f.memoizedProps=p);for(var g=0;g<v.length;g++){var y=(0,l.Z)(v[g],4),b=y[0],w=y[1],x=y[2],_=y[3];if(N(e)){var S="srgb",k="srgb-linear";"encoding"===b?(b="colorSpace",w=3001===w?S:k):"outputEncoding"===b&&(b="outputColorSpace",w=3001===w?S:k)}var E=e,C=E[b];if(_.length&&(C=_.reduce((function(e,t){return e[t]}),e),!C||!C.set)){var M=_.reverse(),T=(0,r.Z)(M),P=T[0];E=T.slice(1).reverse().reduce((function(e,t){return e[t]}),e),b=P}if(w===H+"remove")if(E.constructor){var A=W.get(E.constructor);A||(A=new E.constructor,W.set(E.constructor,A)),w=A[b]}else w=0;if(x)w?s.handlers[b]=w:delete s.handlers[b],s.eventCount=Object.keys(s.handlers).length;else if(C&&C.set&&(C.copy||C instanceof h.Layers)){var D;if(Array.isArray(w))C.fromArray?C.fromArray(w):(D=C).set.apply(D,(0,d.Z)(w));else if(C.copy&&w&&w.constructor&&C.constructor===w.constructor)C.copy(w);else if(void 0!==w){var I=C instanceof h.Color;!I&&C.setScalar?C.setScalar(w):C instanceof h.Layers&&w instanceof h.Layers?C.mask=w.mask:C.set(w),z()||c.linear||!I||C.convertSRGBToLinear()}}else if(E[b]=w,E[b]instanceof h.Texture&&E[b].format===h.RGBAFormat&&E[b].type===h.UnsignedByteType){var R=E[b];N(R)&&N(c.gl)?R.colorSpace=c.gl.outputColorSpace:R.encoding=c.gl.outputEncoding}re(e)}if(s.parent&&c.internal&&e.raycast&&m!==s.eventCount){var O=c.internal.interaction.indexOf(e);O>-1&&c.internal.interaction.splice(O,1),s.eventCount&&c.internal.interaction.push(e)}return!(1===v.length&&"onUpdate"===v[0][0])&&v.length&&null!=(a=e.__r3f)&&a.parent&&ie(e),e}function re(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function ie(e){null==e.onUpdate||e.onUpdate(e)}function ae(e,t){e.manual||(F(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function oe(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function se(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function ue(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,a=(0,c.Z)(r.hovered.values());try{var o=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var a=e.eventObject.__r3f,o=null==a?void 0:a.handlers;if(r.hovered.delete(oe(e)),null!=a&&a.eventCount){var s=(0,i.Z)((0,i.Z)({},e),{},{intersections:t});null==o.onPointerOut||o.onPointerOut(s),null==o.onPointerLeave||o.onPointerLeave(s)}}};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(a){switch(a){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((function(){r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(o){var s=e.getState(),u=s.onPointerMissed,l=s.internal;l.lastEvent.current=o;var f="onPointerMove"===a,p="onClick"===a||"onContextMenu"===a||"onDoubleClick"===a,v=function(t,n){for(var r=e.getState(),a=new Set,o=[],s=n?n(r.internal.interaction):r.internal.interaction,u=0;u<s.length;u++){var l=q(s[u]);l&&(l.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var f=s.flatMap((function(e){var n,r=q(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=q(e.object),r=q(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((function(e){var t=oe(e);return!a.has(t)&&(a.add(t),!0)}));r.events.filter&&(f=r.events.filter(f,r));var d,p=(0,c.Z)(f);try{for(p.s();!(d=p.n()).done;)for(var h=d.value,v=h.object;v;){var m;null!=(m=v.__r3f)&&m.eventCount&&o.push((0,i.Z)((0,i.Z)({},h),{},{eventObject:v})),v=v.parent}}catch(w){p.e(w)}finally{p.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var g,y=(0,c.Z)(r.internal.capturedMap.get(t.pointerId).values());try{for(y.s();!(g=y.n()).done;){var b=g.value;a.has(oe(b.intersection))||o.push(b.intersection)}}catch(w){y.e(w)}finally{y.f()}}return o}(o,f?t:void 0),m=p?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(o):0;"onPointerDown"===a&&(l.initialClick=[o.offsetX,o.offsetY],l.initialHits=v.map((function(e){return e.eventObject}))),p&&!v.length&&m<=2&&(r(o,l.interaction),u&&u(o)),f&&n(v),function(t,r,a,o){var s=e.getState();t.length&&function(){var e,u={stopped:!1},l=(0,c.Z)(t);try{var f=function(){var l=e.value,c=q(l.object)||s,f=c.raycaster,p=c.pointer,v=c.camera,m=c.internal,g=new h.Vector3(p.x,p.y,0).unproject(v),y=function(e){var t,n;return null!=(t=null==(n=m.capturedMap.get(e))?void 0:n.has(l.eventObject))&&t},b=function(e){var t={intersection:l,target:r.target};m.capturedMap.has(e)?m.capturedMap.get(e).set(l.eventObject,t):m.capturedMap.set(e,new Map([[l.eventObject,t]])),r.target.setPointerCapture(e)},w=function(e){var t=m.capturedMap.get(e);t&&se(m.capturedMap,l.eventObject,t,e)},x={};for(var _ in r){var S=r[_];"function"!==typeof S&&(x[_]=S)}var k=(0,i.Z)((0,i.Z)((0,i.Z)({},l),x),{},{pointer:p,intersections:t,stopped:u.stopped,delta:a,unprojectedPoint:g,ray:f.ray,camera:v,stopPropagation:function(){var e="pointerId"in r&&m.capturedMap.get(r.pointerId);if((!e||e.has(l.eventObject))&&(k.stopped=u.stopped=!0,m.hovered.size&&Array.from(m.hovered.values()).find((function(e){return e.eventObject===l.eventObject})))){var i=t.slice(0,t.indexOf(l));n([].concat((0,d.Z)(i),[l]))}},target:{hasPointerCapture:y,setPointerCapture:b,releasePointerCapture:w},currentTarget:{hasPointerCapture:y,setPointerCapture:b,releasePointerCapture:w},nativeEvent:r});if(o(k),!0===u.stopped)return"break"};for(l.s();!(e=l.n()).done&&"break"!==f(););}catch(p){l.e(p)}finally{l.f()}}()}(v,o,m,(function(e){var t=e.eventObject,n=t.__r3f,i=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(f){if(i.onPointerOver||i.onPointerEnter||i.onPointerOut||i.onPointerLeave){var s=oe(e),u=l.hovered.get(s);u?u.stopped&&e.stopPropagation():(l.hovered.set(s,e),null==i.onPointerOver||i.onPointerOver(e),null==i.onPointerEnter||i.onPointerEnter(e))}null==i.onPointerMove||i.onPointerMove(e)}else{var c=i[a];c?p&&!l.initialHits.includes(t)||(r(o,l.interaction.filter((function(e){return!l.initialHits.includes(e)}))),c(e)):p&&l.initialHits.includes(t)&&r(o,l.interaction.filter((function(e){return!l.initialHits.includes(e)})))}}))}}}}var le,ce=function(e){return!(null==e||!e.render)},fe=v.createContext(null);var de,pe,he=new Set,ve=new Set,me=new Set;function ge(e,t){if(e.size){var n,r=(0,c.Z)(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(i){r.e(i)}finally{r.f()}}}function ye(e,t){switch(e){case"before":return ge(he,t);case"after":return ge(ve,t);case"tail":return ge(me,t)}}function be(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),de=t.internal.subscribers,le=0;le<de.length;le++)(pe=de[le]).ref.current(pe.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function we(){var e=v.useContext(fe);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return we()(e,t)}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=we(),r=n.getState().internal.subscribe,i=U(e);return B((function(){return r(i,t,n)}),[t,r,n]),null}function Se(e,t){return function(n){var r=new n;e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,K(e.scene)),n(e)}),t,(function(t){return i(new Error("Could not load ".concat(e,": ").concat(t.message)))}))}))})))}}function ke(e,t,n,r){var i=Array.isArray(t)?t:[t],a=function(e,t,n){return E(e,t,!1,n)}(Se(n,r),[e].concat((0,d.Z)(i)),{equal:X.equ});return Array.isArray(t)?a:a[0]}ke.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){E(e,t,!0,n)}(Se(n),[e].concat((0,d.Z)(r)))},ke.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)S.splice(0,S.length);else{var t=S.find((function(t){return k(e,t.keys,t.equal)}));t&&t.remove()}}([e].concat((0,d.Z)(n)))};var Ee=new Map,Ce=function(e){var t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,ye("before",o);var s,u=(0,c.Z)(e.values());try{for(u.s();!(s=u.n()).done;){var l,f=s.value;!(r=f.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=be(o,r))}}catch(d){u.e(d)}finally{u.f()}if(ye("after",o),0===t)return ye("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState())}),o);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+o),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&ye("before",t),r)be(t,r,i);else{var a,o=(0,c.Z)(e.values());try{for(o.s();!(a=o.n()).done;){var s=a.value;be(t,s.store.getState())}}catch(u){o.e(u)}finally{o.f()}}n&&ye("after",t)}}}(Ee),Me=Ce.invalidate,Te=Ce.advance,Pe=function(e,t){function n(e,t,n){var r,i=t.args,a=void 0===i?[]:i,o=t.attach,s=(0,p.Z)(t,T),u="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=Y(s.object,{type:e,root:n,attach:o,primitive:!0})}else{var l=O[u];if(!l)throw new Error("R3F: ".concat(u," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");r=Y((0,f.Z)(l,(0,d.Z)(a)),{type:e,root:n,attach:o,memoizedProps:{args:a}})}return void 0===r.__r3f.attach&&(r instanceof h.BufferGeometry?r.__r3f.attach="geometry":r instanceof h.Material&&(r.__r3f.attach="material")),"inject"!==u&&ne(r,s),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?J(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||Y(t,{}),t.__r3f.parent=e,ie(t),re(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)J(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var o=e.children.filter((function(e){return e!==t})),s=o.indexOf(n);e.children=[].concat((0,d.Z)(o.slice(0,s)),[t],(0,d.Z)(o.slice(s))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||Y(t,{}),t.__r3f.parent=e,ie(t),re(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(0,d.Z)(e).forEach((function(e){return o(t,e,n)}))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)ee(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach((function(e,r){se(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}var u,l=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!l:n;if(!l)a(null==(u=t.__r3f)?void 0:u.objects,t,c),a(t.children,t,c);delete t.__r3f,c&&t.dispose&&"Scene"!==t.type&&(0,x.unstable_scheduleCallback)(x.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),re(e)}}var s=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")};return{reconciler:w()({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&o(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&i(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];var a=r.args,o=void 0===a?[]:a,s=(r.children,(0,p.Z)(r,P)),u=n.args,l=void 0===u?[]:u,c=(n.children,(0,p.Z)(n,A));if(!Array.isArray(o))throw new Error("R3F: the args prop must be an array!");if(o.some((function(e,t){return e!==l[t]})))return[!0];var f=te(e,s,c,!0);return f.changes.length?[!1,f]:null},commitUpdate:function(e,t,i,a,s,u){var f=(0,l.Z)(t,2),d=f[0],p=f[1];d?function(e,t,i,a){var s,u=null==(s=e.__r3f)?void 0:s.parent;if(u){var l=n(t,i,e.__r3f.root);if(e.children){var f,d=(0,c.Z)(e.children);try{for(d.s();!(f=d.n()).done;){var p=f.value;p.__r3f&&r(l,p)}}catch(h){d.e(h)}finally{d.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(l,e)})),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(u,e),l.parent&&(l.__r3f.autoRemovedBeforeAppend=!0),r(u,l),l.raycast&&l.__r3f.eventCount&&l.__r3f.root.getState().internal.interaction.push(l),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=l,e.ref&&("function"===typeof e.ref?e.ref(l):e.ref.current=l))}))}}(e,i,s,u):ne(e,p)},commitMount:function(e,t,n,r){var i,a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return Y(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&ee(i,e,r),e.isObject3D&&(e.visible=!1),re(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&J(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),re(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:function(){return t?t():m.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!==typeof performance&&X.fun(performance.now)?performance.now:X.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:X.fun(setTimeout)?setTimeout:void 0,cancelTimeout:X.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ne}}(0,(function(){var e,t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return m.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return m.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return m.ContinuousEventPriority;default:return m.DefaultEventPriority}})),Ae=Pe.reconciler,De=Pe.applyProps,Ie={objects:"shallow",strict:!1},Re=function(e,t){var n="function"===typeof e?e(t):e;return ce(n)?n:new h.WebGLRenderer((0,i.Z)({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function Oe(e,t){if(t)return t;if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){var n=e.parentElement.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,left:n.left}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}function Le(e){var t=Ee.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");var a,o="function"===typeof reportError?reportError:console.error,s=r||function(e,t){var n=function(e){var t="function"===typeof e?g(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,i=(0,v.useReducer)((function(e){return e+1}),0),a=(0,l.Z)(i,2)[1],o=t.getState(),s=(0,v.useRef)(o),u=(0,v.useRef)(n),c=(0,v.useRef)(r),f=(0,v.useRef)(!1),d=(0,v.useRef)();void 0===d.current&&(d.current=n(o));var p=!1;(s.current!==o||u.current!==n||c.current!==r||f.current)&&(e=n(o),p=!r(d.current,e)),y((function(){p&&(d.current=e),s.current=o,u.current=n,c.current=r,f.current=!1}));var h=(0,v.useRef)(o);y((function(){var e=function(){try{var e=t.getState(),n=u.current(e);c.current(d.current,n)||(s.current=e,d.current=n,a())}catch(r){f.current=!0,a()}},n=t.subscribe(e);return t.getState()!==h.current&&e(),n}),[]);var m=p?e:d.current;return(0,v.useDebugValue)(m),m};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}((function(n,r){var a=new h.Vector3,o=new h.Vector3,s=new h.Vector3;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r().size,i=n.width,u=n.height,l=n.top,c=n.left,f=i/u;t instanceof h.Vector3?s.copy(t):s.set.apply(s,(0,d.Z)(t));var p=e.getWorldPosition(a).distanceTo(s);if(F(e))return{width:i/e.zoom,height:u/e.zoom,top:l,left:c,factor:1,distance:p,aspect:f};var v=e.fov*Math.PI/180,m=2*Math.tan(v/2)*p,g=m*(i/u);return{width:g,height:m,top:l,left:c,factor:i/g,distance:p,aspect:f}}var l=void 0,c=function(e){return n((function(t){return{performance:(0,i.Z)((0,i.Z)({},t.performance),{},{current:e})}}))},f=new h.Vector2,p={set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(r(),t)},advance:function(e,n){return t(e,n,r())},legacy:!1,linear:!1,flat:!1,controls:null,clock:new h.Clock,pointer:f,mouse:f,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=r();l&&clearTimeout(l),e.performance.current!==e.performance.min&&c(e.performance.min),l=setTimeout((function(){return c(r().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:function(e){return n((function(t){return(0,i.Z)((0,i.Z)({},t),{},{events:(0,i.Z)((0,i.Z)({},t.events),e)})}))},setSize:function(e,t,a,s,l){var c=r().camera,f={width:e,height:t,top:s||0,left:l||0,updateStyle:a};n((function(e){return{size:f,viewport:(0,i.Z)((0,i.Z)({},e.viewport),u(c,o,f))}}))},setDpr:function(e){return n((function(t){var n=G(e);return{viewport:(0,i.Z)((0,i.Z)({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:v.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}};return p})),r=n.getState(),a=r.size,o=r.viewport.dpr,s=r.camera;return n.subscribe((function(){var e=n.getState(),t=e.camera,r=e.size,u=e.viewport,l=e.gl,c=e.set;if(r!==a||u.dpr!==o){var f;a=r,o=u.dpr,ae(t,r),l.setPixelRatio(u.dpr);var d=null!=(f=r.updateStyle)?f:"undefined"!==typeof HTMLCanvasElement&&l.domElement instanceof HTMLCanvasElement;l.setSize(r.width,r.height,d)}t!==s&&(s=t,c((function(e){return{viewport:(0,i.Z)((0,i.Z)({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),n.subscribe((function(t){return e(t)})),n}(Me,Te),u=n||Ae.createContainer(s,m.ConcurrentRoot,null,!1,null,"",o,null);t||Ee.set(e,{fiber:u,store:s});var c,f=!1;return{configure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t.size,o=t.scene,u=t.events,l=t.onCreated,d=t.shadows,v=void 0!==d&&d,m=t.linear,g=void 0!==m&&m,y=t.flat,b=void 0!==y&&y,w=t.legacy,x=void 0!==w&&w,_=t.orthographic,S=void 0!==_&&_,k=t.frameloop,E=void 0===k?"always":k,C=t.dpr,M=void 0===C?[1,2]:C,T=t.performance,P=t.raycaster,A=t.camera,D=t.onPointerMissed,I=s.getState(),O=I.gl;I.gl||I.set({gl:O=Re(n,e)});var L=I.raycaster;L||I.set({raycaster:L=new h.Raycaster});var N,F=P||{},j=F.params,B=(0,p.Z)(F,R);if(X.equ(B,L,Ie)||De(L,(0,i.Z)({},B)),X.equ(j,L.params,Ie)||De(L,{params:(0,i.Z)((0,i.Z)({},L.params),j)}),!I.camera||I.camera===c&&!X.equ(c,A,Ie)){c=A;var U=A instanceof h.Camera,Z=U?A:S?new h.OrthographicCamera(0,0,0,0,.1,1e3):new h.PerspectiveCamera(75,0,.1,1e3);U||(Z.position.z=5,A&&De(Z,A),I.camera||null!=A&&A.rotation||Z.lookAt(0,0,0)),I.set({camera:Z})}I.scene||(o instanceof h.Scene?N=o:(N=new h.Scene,o&&De(N,o)),I.set({scene:Y(N)}));if(!I.xr){var V,H=function(e,t){var n=s.getState();"never"!==n.frameloop&&Te(e,!0,n,t)},W=function(){var e=s.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?H:null),e.gl.xr.isPresenting||Me(e)},q={connect:function(){var e=s.getState().gl;e.xr.addEventListener("sessionstart",W),e.xr.addEventListener("sessionend",W)},disconnect:function(){var e=s.getState().gl;e.xr.removeEventListener("sessionstart",W),e.xr.removeEventListener("sessionend",W)}};"function"===typeof(null==(V=O.xr)?void 0:V.addEventListener)&&q.connect(),I.set({xr:q})}if(O.shadowMap){var K=O.shadowMap.enabled,Q=O.shadowMap.type;if(O.shadowMap.enabled=!!v,X.boo(v))O.shadowMap.type=h.PCFSoftShadowMap;else if(X.str(v)){var $,J={basic:h.BasicShadowMap,percentage:h.PCFShadowMap,soft:h.PCFSoftShadowMap,variance:h.VSMShadowMap};O.shadowMap.type=null!=($=J[v])?$:h.PCFSoftShadowMap}else X.obj(v)&&Object.assign(O.shadowMap,v);K===O.shadowMap.enabled&&Q===O.shadowMap.type||(O.shadowMap.needsUpdate=!0)}var ee=z();ee&&("enabled"in ee?ee.enabled=!x:"legacyMode"in ee&&(ee.legacyMode=x));var te=3e3,ne=3001;De(O,{outputEncoding:g?te:ne,toneMapping:b?h.NoToneMapping:h.ACESFilmicToneMapping}),I.legacy!==x&&I.set((function(){return{legacy:x}})),I.linear!==g&&I.set((function(){return{linear:g}})),I.flat!==b&&I.set((function(){return{flat:b}})),!n||X.fun(n)||ce(n)||X.equ(n,O,Ie)||De(O,n),u&&!I.events.handlers&&I.set({events:u(s)});var re=Oe(e,r);return X.equ(re,I.size,Ie)||I.setSize(re.width,re.height,re.updateStyle,re.top,re.left),M&&I.viewport.dpr!==G(M)&&I.setDpr(M),I.frameloop!==E&&I.setFrameloop(E),I.onPointerMissed||I.set({onPointerMissed:D}),T&&!X.equ(T,I.performance,Ie)&&I.set((function(e){return{performance:(0,i.Z)((0,i.Z)({},e.performance),T)}})),a=l,f=!0,this},render:function(t){return f||this.configure(),Ae.updateContainer(v.createElement(Ne,{store:s,children:t,onCreated:a,rootElement:e}),u,null,(function(){})),s},unmount:function(){ze(e)}}}function Ne(e){var t=e.store,n=e.children,r=e.onCreated,a=e.rootElement;return B((function(){var e=t.getState();e.set((function(e){return{internal:(0,i.Z)((0,i.Z)({},e.internal),{},{active:!0})}})),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),v.createElement(fe.Provider,{value:t},n)}function ze(e,t){var n=Ee.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),Ae.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),Ee.delete(e),t&&t(e)}catch(s){}}),500)}))}}Ae.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:v.version});v.unstable_act},2711:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,p=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,R(_);else{var t=r(c);null!==t&&O(x,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(C),C=-1),h=!0;var a=p;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&O(x,f.startTime-n),u=!1}return u}finally{d=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,C=-1,M=5,T=-1;function P(){return!(t.unstable_now()-T<M)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,I=D.port2;D.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){g(A,0)};function R(e){E=e,k||(k=!0,S())}function O(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(C),C=-1):m=!0,O(x,a-o))):(e.sortIndex=s,n(l,e),v||h||(v=!0,R(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},4852:function(e,t,n){"use strict";e.exports=n(2711)},8458:function(e,t,n){var r=n(3333).default,i=n(202).default,a=n(3298).default,o=n(1795).default,s=n(366).default,u=n(653).default,l=n(8648).default,c=n(1146).default,f=r().mark(Zt),d=r().mark(Ht),p=Object.defineProperty,h=Object.defineProperties,v=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,b=function(e,t,n){return t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n};!function(e,t){for(var n in function(e){p(e,"__esModule",{value:!0})}(e),t)p(e,n,{get:t[n],enumerable:!0})}(t,{Atom:function(){return Ft},PointerProxy:function(){return Wt},Ticker:function(){return Vt},getPointerParts:function(){return it},isPointer:function(){return st},isPrism:function(){return ct},iterateAndCountTicks:function(){return Zt},iterateOver:function(){return Ht},pointer:function(){return ot},pointerToPrism:function(){return Bt},prism:function(){return Rt},val:function(){return Ut}});var w=Array.isArray,x="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,_="object"==typeof self&&self&&self.Object===Object&&self,S=x||_||Function("return this")(),k=S.Symbol,E=Object.prototype,C=E.hasOwnProperty,M=E.toString,T=k?k.toStringTag:void 0;var P=function(e){var t=C.call(e,T),n=e[T];try{e[T]=void 0;var r=!0}catch(a){}var i=M.call(e);return r&&(t?e[T]=n:delete e[T]),i},A=Object.prototype.toString;var D=function(e){return A.call(e)},I=k?k.toStringTag:void 0;var R=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":I&&I in Object(e)?P(e):D(e)};var O=function(e){return null!=e&&"object"==typeof e};var L=function(e){return"symbol"==typeof e||O(e)&&"[object Symbol]"==R(e)},N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/;var F=function(e,t){if(w(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!L(e))||(z.test(e)||!N.test(e)||null!=t&&e in Object(t))};var j=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var B=function(e){if(!j(e))return!1;var t=R(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},U=S["__core-js_shared__"],Z=function(){var e=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var V=function(e){return!!Z&&Z in e},H=Function.prototype.toString;var W=function(e){if(null!=e){try{return H.call(e)}catch(t){}try{return e+""}catch(t){}}return""},G=/^\[object .+?Constructor\]$/,q=Function.prototype,X=Object.prototype,K=q.toString,Y=X.hasOwnProperty,Q=RegExp("^"+K.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var $=function(e){return!(!j(e)||V(e))&&(B(e)?Q:G).test(W(e))};var J=function(e,t){return null==e?void 0:e[t]};var ee=function(e,t){var n=J(e,t);return $(n)?n:void 0},te=ee(Object,"create");var ne=function(){this.__data__=te?te(null):{},this.size=0};var re=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ie=Object.prototype.hasOwnProperty;var ae=function(e){var t=this.__data__;if(te){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ie.call(t,e)?t[e]:void 0},oe=Object.prototype.hasOwnProperty;var se=function(e){var t=this.__data__;return te?void 0!==t[e]:oe.call(t,e)};var ue=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=te&&void 0===t?"__lodash_hash_undefined__":t,this};function le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}le.prototype.clear=ne,le.prototype.delete=re,le.prototype.get=ae,le.prototype.has=se,le.prototype.set=ue;var ce=le;var fe=function(){this.__data__=[],this.size=0};var de=function(e,t){return e===t||e!==e&&t!==t};var pe=function(e,t){for(var n=e.length;n--;)if(de(e[n][0],t))return n;return-1},he=Array.prototype.splice;var ve=function(e){var t=this.__data__,n=pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():he.call(t,n,1),--this.size,!0)};var me=function(e){var t=this.__data__,n=pe(t,e);return n<0?void 0:t[n][1]};var ge=function(e){return pe(this.__data__,e)>-1};var ye=function(e,t){var n=this.__data__,r=pe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}be.prototype.clear=fe,be.prototype.delete=ve,be.prototype.get=me,be.prototype.has=ge,be.prototype.set=ye;var we=be,xe=ee(S,"Map");var _e=function(){this.size=0,this.__data__={hash:new ce,map:new(xe||we),string:new ce}};var Se=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ke=function(e,t){var n=e.__data__;return Se(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ee=function(e){var t=ke(this,e).delete(e);return this.size-=t?1:0,t};var Ce=function(e){return ke(this,e).get(e)};var Me=function(e){return ke(this,e).has(e)};var Te=function(e,t){var n=ke(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pe.prototype.clear=_e,Pe.prototype.delete=Ee,Pe.prototype.get=Ce,Pe.prototype.has=Me,Pe.prototype.set=Te;var Ae=Pe;function De(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(De.Cache||Ae),n}De.Cache=Ae;var Ie=De;var Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/\\(\\)?/g,Le=function(e){var t=Ie(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Re,(function(e,n,r,i){t.push(r?i.replace(Oe,"$1"):n||e)})),t}));var Ne=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},ze=k?k.prototype:void 0,Fe=ze?ze.toString:void 0;var je=function e(t){if("string"==typeof t)return t;if(w(t))return Ne(t,e)+"";if(L(t))return Fe?Fe.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Be=function(e){return null==e?"":je(e)};var Ue=function(e,t){return w(e)?e:F(e,t)?[e]:Le(Be(e))};var Ze=function(e){if("string"==typeof e||L(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Ve=function(e,t){for(var n=0,r=(t=Ue(t,e)).length;null!=e&&n<r;)e=e[Ze(t[n++])];return n&&n==r?e:void 0};var He=function(e,t,n){var r=null==e?void 0:Ve(e,t);return void 0===r?n:r};var We=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),Ge=Function.prototype,qe=Object.prototype,Xe=Ge.toString,Ke=qe.hasOwnProperty,Ye=Xe.call(Object);var Qe=function(e){if(!O(e)||"[object Object]"!=R(e))return!1;var t=We(e);if(null===t)return!0;var n=Ke.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Xe.call(n)==Ye};var $e=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},Je=new WeakMap,et=new WeakMap,tt=Symbol("pointerMeta"),nt={get:function(e,t){if(t===tt)return Je.get(e);var n=et.get(e);n||(n=new Map,et.set(e,n));var r=n.get(t);if(void 0!==r)return r;var i=Je.get(e),a=at({root:i.root,path:[].concat(l(i.path),[t])});return n.set(t,a),a}},rt=function(e){return e[tt]},it=function(e){var t=rt(e);return{root:t.root,path:t.path}};function at(e){var t,n={root:e.root,path:null!=(t=e.path)?t:[]},r={};return Je.set(r,n),new Proxy(r,nt)}var ot=at,st=function(e){return e&&!!rt(e)};var ut=function e(t,n,r){if(0===n.length)return r(t);if(Array.isArray(t)){var i=u(n),a=i[0],o=i.slice(1);a=parseInt(String(a),10),isNaN(a)&&(a=0);var f=t[a],d=e(f,o,r);if(f===d)return t;var p=l(t);return p.splice(a,1,d),p}if("object"===typeof t&&null!==t){var w=u(n),x=w[0],_=w.slice(1),S=t[x],k=e(S,_,r);if(S===k)return t;var E=(C=function(e,t){for(var n in t||(t={}))g.call(t,n)&&b(e,n,t[n]);if(m){var r,i=c(m(t));try{for(i.s();!(r=i.n()).done;)n=r.value,y.call(t,n)&&b(e,n,t[n])}catch(a){i.e(a)}finally{i.f()}}return e}({},t),M=s({},x,k),h(C,v(M)));return E}var C,M,T=u(n),P=T[0],A=T.slice(1);return s({},P,e(void 0,A,r))},lt=function(){"use strict";function e(){a(this,e),this._head=void 0}return o(e,[{key:"peek",value:function(){return this._head&&this._head.data}},{key:"pop",value:function(){var e=this._head;if(e)return this._head=e.next,e.data}},{key:"push",value:function(e){var t={next:this._head,data:e};this._head=t}}]),e}();function ct(e){return!(!e||!e.isPrism||!0!==e.isPrism)}function ft(){var e=new lt,t=function(){};return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:function(){e.push(t)},stopIgnoringDependencies:function(){e.peek()!==t||e.pop()},reportResolutionStart:function(n){var r=e.peek();r&&r(n),e.push(t)},reportResolutionEnd:function(t){e.pop()},pushCollector:function(t){e.push(t)},popCollector:function(t){if(e.peek()!==t)throw new Error("Popped collector is not on top of the stack");e.pop()}}}var dt=function(){var e="__dataverse_discoveryMechanism_sharedStack",t="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};if(t){var r=t[e];if(r&&"object"===typeof r&&"Dataverse_discoveryMechanism"===r.type)return r;var i=ft();return t[e]=i,i}return ft()}(),pt=dt.startIgnoringDependencies,ht=dt.stopIgnoringDependencies,vt=dt.reportResolutionEnd,mt=dt.reportResolutionStart,gt=dt.pushCollector,yt=dt.popCollector,bt=function(){},wt=function(){"use strict";function e(t,n){var r=this;a(this,e),this._fn=t,this._prismInstance=n,this._didMarkDependentsAsStale=!1,this._isFresh=!1,this._cacheOfDendencyValues=new Map,this._dependents=new Set,this._dependencies=new Set,this._possiblyStaleDeps=new Set,this._scope=new St(this),this._lastValue=void 0,this._forciblySetToStale=!1,this._reactToDependencyGoingStale=function(e){r._possiblyStaleDeps.add(e),r._markAsStale()};var i,o=c(this._dependencies);try{for(o.s();!(i=o.n()).done;){i.value._addDependent(this._reactToDependencyGoingStale)}}catch(s){o.e(s)}finally{o.f()}pt(),this.getValue(),ht()}return o(e,[{key:"hasDependents",get:function(){return this._dependents.size>0}},{key:"removeDependent",value:function(e){this._dependents.delete(e)}},{key:"addDependent",value:function(e){this._dependents.add(e)}},{key:"destroy",value:function(){var e,t=c(this._dependencies);try{for(t.s();!(e=t.n()).done;){e.value._removeDependent(this._reactToDependencyGoingStale)}}catch(n){t.e(n)}finally{t.f()}kt(this._scope)}},{key:"getValue",value:function(){if(!this._isFresh){var e=this._recalculate();this._lastValue=e,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}},{key:"_recalculate",value:function(){var e,t=this;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){var n=!1;pt();var r,i=c(this._possiblyStaleDeps);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(this._cacheOfDendencyValues.get(a)!==a.getValue()){n=!0;break}}}catch(v){i.e(v)}finally{i.f()}if(ht(),this._possiblyStaleDeps.clear(),!n)return this._lastValue}var o=new Set;this._cacheOfDendencyValues.clear();var s=function(e){o.add(e),t._addDependency(e)};gt(s),Ct.push(this._scope);try{e=this._fn()}catch(m){console.error(m)}finally{Ct.pop()!==this._scope&&console.warn("The Prism hook stack has slipped. This is a bug.")}yt(s);var u,l=c(this._dependencies);try{for(l.s();!(u=l.n()).done;){var f=u.value;o.has(f)||this._removeDependency(f)}}catch(v){l.e(v)}finally{l.f()}this._dependencies=o,pt();var d,p=c(o);try{for(p.s();!(d=p.n()).done;){var h=d.value;this._cacheOfDendencyValues.set(h,h.getValue())}}catch(v){p.e(v)}finally{p.f()}return ht(),e}},{key:"forceStale",value:function(){this._forciblySetToStale=!0,this._markAsStale()}},{key:"_markAsStale",value:function(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;var e,t=c(this._dependents);try{for(t.s();!(e=t.n()).done;){(0,e.value)(this._prismInstance)}}catch(n){t.e(n)}finally{t.f()}}}},{key:"_addDependency",value:function(e){this._dependencies.has(e)||(this._dependencies.add(e),e._addDependent(this._reactToDependencyGoingStale))}},{key:"_removeDependency",value:function(e){this._dependencies.has(e)&&(this._dependencies.delete(e),e._removeDependent(this._reactToDependencyGoingStale))}}]),e}(),xt={},_t=function(){"use strict";function e(t){a(this,e),this._fn=t,this.isPrism=!0,this._state={hot:!1,handle:void 0}}return o(e,[{key:"isHot",get:function(){return this._state.hot}},{key:"onChange",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=function(){e.onThisOrNextTick(o)},a=xt,o=function(){var e=n.getValue();e!==a&&(a=e,t(e))};this._addDependent(i),r&&(a=this.getValue(),t(a));var s=function(){n._removeDependent(i),e.offThisOrNextTick(o),e.offNextTick(o)};return s}},{key:"onStale",value:function(e){var t=this,n=function(){return e()};return this._addDependent(n),function(){t._removeDependent(n)}}},{key:"keepHot",value:function(){return this.onStale((function(){}))}},{key:"_addDependent",value:function(e){this._state.hot||this._goHot(),this._state.handle.addDependent(e)}},{key:"_goHot",value:function(){var e=new wt(this._fn,this);this._state={hot:!0,handle:e}}},{key:"_removeDependent",value:function(e){var t=this._state;if(t.hot){var n=t.handle;n.removeDependent(e),n.hasDependents||(this._state={hot:!1,handle:void 0},n.destroy())}}},{key:"getValue",value:function(){mt(this);var e,t=this._state;return e=t.hot?t.handle.getValue():function(e){var t,n=new At;Ct.push(n);try{t=e()}catch(r){console.error(r)}finally{Ct.pop()!==n&&console.warn("The Prism hook stack has slipped. This is a bug.")}return t}(this._fn),vt(this),e}}]),e}(),St=function(){"use strict";function e(t){a(this,e),this._hotHandle=t,this._refs=new Map,this.isPrismScope=!0,this.subs={},this.effects=new Map,this.memos=new Map}return o(e,[{key:"ref",value:function(e,t){var n=this._refs.get(e);if(void 0!==n)return n;var r={current:t};return this._refs.set(e,r),r}},{key:"effect",value:function(e,t,n){var r=this.effects.get(e);void 0===r&&(r={cleanup:bt,deps:void 0},this.effects.set(e,r)),Mt(r.deps,n)&&(r.cleanup(),pt(),r.cleanup=Et(t,bt).value,ht(),r.deps=n)}},{key:"memo",value:function(e,t,n){var r=this.memos.get(e);return void 0===r&&(r={cachedValue:null,deps:void 0},this.memos.set(e,r)),Mt(r.deps,n)&&(pt(),r.cachedValue=Et(t,void 0).value,ht(),r.deps=n),r.cachedValue}},{key:"state",value:function(e,t){var n=this,r=this.memo("state/"+e,(function(){var e={current:t};return{value:e,setValue:function(t){e.current=t,n._hotHandle.forceStale()}}}),[]),i=r.value,a=r.setValue;return[i.current,a]}},{key:"sub",value:function(t){return this.subs[t]||(this.subs[t]=new e(this._hotHandle)),this.subs[t]}},{key:"cleanupEffects",value:function(){var e,t=c(this.effects.values());try{for(t.s();!(e=t.n()).done;){Et(e.value.cleanup,void 0)}}catch(n){t.e(n)}finally{t.f()}this.effects.clear()}},{key:"source",value:function(e,t){var n=this;return this.effect("$$source/blah",(function(){return e((function(){n._hotHandle.forceStale()}))}),[e]),t()}}]),e}();function kt(e){for(var t=0,n=Object.values(e.subs);t<n.length;t++){kt(n[t])}e.cleanupEffects()}function Et(e,t){try{return{value:e(),ok:!0}}catch(n){return setTimeout((function(){throw n})),{value:t,ok:!1}}}var Ct=new lt;function Mt(e,t){if(void 0===e||void 0===t)return!0;var n=e.length;if(n!==t.length)return!0;for(var r=0;r<n;r++)if(e[r]!==t[r])return!0;return!1}function Tt(e,t,n){var r=Ct.peek();if(!r)throw new Error("prism.memo() is called outside of a prism() call.");return r.memo(e,t,n)}var Pt=function(e){return new _t(e)},At=function(){"use strict";function e(){a(this,e)}return o(e,[{key:"effect",value:function(e,t,n){console.warn("prism.effect() does not run in cold prisms")}},{key:"memo",value:function(e,t,n){return t()}},{key:"state",value:function(e,t){return[t,function(){}]}},{key:"ref",value:function(e,t){return{current:t}}},{key:"sub",value:function(t){return new e}},{key:"source",value:function(e,t){return t()}}]),e}();Pt.ref=function(e,t){var n=Ct.peek();if(!n)throw new Error("prism.ref() is called outside of a prism() call.");return n.ref(e,t)},Pt.effect=function(e,t,n){var r=Ct.peek();if(!r)throw new Error("prism.effect() is called outside of a prism() call.");return r.effect(e,t,n)},Pt.memo=Tt,Pt.ensurePrism=function(){if(!Ct.peek())throw new Error("The parent function is called outside of a prism() call.")},Pt.state=function(e,t){var n=Ct.peek();if(!n)throw new Error("prism.state() is called outside of a prism() call.");return n.state(e,t)},Pt.scope=function(e,t){var n=Ct.peek();if(!n)throw new Error("prism.scope() is called outside of a prism() call.");var r=n.sub(e);Ct.push(r);var i=Et(t,void 0).value;return Ct.pop(),i},Pt.sub=function(e,t,n){return Tt(e,(function(){return Pt(t)}),n).getValue()},Pt.inPrism=function(){return!!Ct.peek()},Pt.source=function(e,t){var n=Ct.peek();if(!n)throw new Error("prism.source() is called outside of a prism() call.");return n.source(e,t)};var Dt,It,Rt=Pt;(It=Dt||(Dt={}))[It.Dict=0]="Dict",It[It.Array=1]="Array",It[It.Other=2]="Other";var Ot=function(e){return Array.isArray(e)?1:Qe(e)?0:2},Lt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ot(e);return 0===n&&"string"===typeof t||1===n&&Nt(t)?e[t]:void 0},Nt=function(e){var t="number"===typeof e?e:parseInt(e,10);return!isNaN(t)&&t>=0&&t<1/0&&(0|t)===t},zt=function(){"use strict";function e(t,n){a(this,e),this._parent=t,this._path=n,this.children=new Map,this.identityChangeListeners=new Set}return o(e,[{key:"addIdentityChangeListener",value:function(e){this.identityChangeListeners.add(e)}},{key:"removeIdentityChangeListener",value:function(e){this.identityChangeListeners.delete(e),this._checkForGC()}},{key:"removeChild",value:function(e){this.children.delete(e),this._checkForGC()}},{key:"getChild",value:function(e){return this.children.get(e)}},{key:"getOrCreateChild",value:function(t){var n=this.children.get(t);return n||(n=n=new e(this,this._path.concat([t])),this.children.set(t,n)),n}},{key:"_checkForGC",value:function(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild($e(this._path))}}]),e}(),Ft=function(){"use strict";function e(t){var n=this;a(this,e),this.$$isPointerToPrismProvider=!0,this.pointer=ot({root:this,path:[]}),this.prism=this.pointerToPrism(this.pointer),this._onPointerValueChange=function(e,t){var r=it(e).path,i=n._getOrCreateScopeForPath(r);i.identityChangeListeners.add(t);return function(){i.identityChangeListeners.delete(t)}},this._currentState=t,this._rootScope=new zt(void 0,[])}return o(e,[{key:"set",value:function(e){var t=this._currentState;this._currentState=e,this._checkUpdates(this._rootScope,t,e)}},{key:"get",value:function(){return this._currentState}},{key:"getByPointer",value:function(e){var t=st(e)?e:e(this.pointer),n=it(t).path;return this._getIn(n)}},{key:"_getIn",value:function(e){return 0===e.length?this.get():He(this.get(),e)}},{key:"reduce",value:function(e){this.set(e(this.get()))}},{key:"reduceByPointer",value:function(e,t){var n=st(e)?e:e(this.pointer),r=it(n).path,i=function(e,t,n){return 0===t.length?n(e):ut(e,t,n)}(this.get(),r,t);this.set(i)}},{key:"setByPointer",value:function(e,t){this.reduceByPointer(e,(function(){return t}))}},{key:"_checkUpdates",value:function(e,t,n){if(t!==n){var r,a=c(e.identityChangeListeners);try{for(a.s();!(r=a.n()).done;){(0,r.value)(n)}}catch(m){a.e(m)}finally{a.f()}if(0!==e.children.size){var o=Ot(t),s=Ot(n);if(2!==o||o!==s){var u,l=c(e.children);try{for(l.s();!(u=l.n()).done;){var f=i(u.value,2),d=f[0],p=f[1],h=Lt(t,d,o),v=Lt(n,d,s);this._checkUpdates(p,h,v)}}catch(m){l.e(m)}finally{l.f()}}}}}},{key:"_getOrCreateScopeForPath",value:function(e){var t,n=this._rootScope,r=c(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.getOrCreateChild(i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"pointerToPrism",value:function(e){var t=this,n=it(e).path,r=function(n){return t._onPointerValueChange(e,n)},i=function(){return t._getIn(n)};return Rt((function(){return Rt.source(r,i)}))}}]),e}(),jt=new WeakMap;var Bt=function(e){var t,n=rt(e),r=jt.get(n);if(!r){var i=n.root;if("object"!==typeof(t=i)||null===t||!0!==t.$$isPointerToPrismProvider)throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an PointerToPrismProvider");r=i.pointerToPrism(e),jt.set(n,r)}return r},Ut=function(e){return st(e)?Bt(e).getValue():ct(e)?e.getValue():e};function Zt(e){var t,n,i,a;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!st(e)){r.next=4;break}t=Bt(e),r.next=9;break;case 4:if(!ct(e)){r.next=8;break}t=e,r.next=9;break;case 8:throw new Error("Only pointers and prisms are supported");case 9:n=0,i=t.onStale((function(){n++})),r.prev=11;case 12:return a=n,n=0,r.next=17,{value:t.getValue(),ticks:a};case 17:r.next=12;break;case 19:return r.prev=19,i(),r.finish(19);case 22:case"end":return r.stop()}}),f,null,[[11,,19,22]])}var Vt=function(){"use strict";function e(t){a(this,e),this._conf=t,this._ticking=!1,this._dormant=!0,this._numberOfDormantTicks=0,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}return o(e,[{key:"dormant",get:function(){return this._dormant}},{key:"onThisOrNextTick",value:function(e){this._scheduledForThisOrNextTick.add(e),this._dormant&&this._goActive()}},{key:"onNextTick",value:function(e){this._scheduledForNextTick.add(e),this._dormant&&this._goActive()}},{key:"offThisOrNextTick",value:function(e){this._scheduledForThisOrNextTick.delete(e)}},{key:"offNextTick",value:function(e){this._scheduledForNextTick.delete(e)}},{key:"time",get:function(){return this._ticking?this._timeAtCurrentTick:performance.now()}},{key:"_goActive",value:function(){var e,t;this._dormant&&(this._dormant=!1,null==(t=null==(e=this._conf)?void 0:e.onActive)||t.call(e))}},{key:"_goDormant",value:function(){var e,t;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,null==(t=null==(e=this._conf)?void 0:e.onDormant)||t.call(e))}},{key:"tick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(this.__ticks++,!this._dormant&&0===this._scheduledForNextTick.size&&0===this._scheduledForThisOrNextTick.size&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=180))this._goDormant();else{this._ticking=!0,this._timeAtCurrentTick=e;var t,n=c(this._scheduledForNextTick);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._scheduledForThisOrNextTick.add(r)}}catch(i){n.e(i)}finally{n.f()}this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}}},{key:"_tick",value:function(e){var t=this.time;if(e>10&&console.warn("_tick() recursing for 10 times"),e>100)throw new Error("Maximum recursion limit for _tick()");var n=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;var r,i=c(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}if(this._scheduledForThisOrNextTick.size>0)return this._tick(e+1)}}]),e}();function Ht(e){var t,n,i;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!st(e)){r.next=4;break}t=Bt(e),r.next=9;break;case 4:if(!ct(e)){r.next=8;break}t=e,r.next=9;break;case 8:throw new Error("Only pointers and prisms are supported");case 9:n=new Vt,i=t.onChange(n,(function(e){})),r.prev=11;case 12:return n.tick(),r.next=16,t.getValue();case 16:r.next=12;break;case 18:return r.prev=18,i(),r.finish(18);case 21:case"end":return r.stop()}}),d,null,[[11,,18,21]])}var Wt=function(){"use strict";function e(t){a(this,e),this.$$isPointerToPrismProvider=!0,this._currentPointerBox=new Ft(t),this.pointer=ot({root:this,path:[]})}return o(e,[{key:"setPointer",value:function(e){this._currentPointerBox.set(e)}},{key:"pointerToPrism",value:function(e){var t=this,n=rt(e).path;return Rt((function(){var e=t._currentPointerBox.prism.getValue(),r=n.reduce((function(e,t){return e[t]}),e);return Ut(r)}))}}]),e}()},1501:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return tc}});var i,a,o,s,u,l,c,f,d,p,h,v,m=n(4771),g=n(2731),y=n(886),b=n(240),w=n(9189),x=n(7061),_=n(9900),S=n(4269),k=n(8114),E=n(2533),C=n(9961),M=n(3680),T=n(745),P=n(7982),A=n(1779),D=n(3504),I=n.n(D),R=n(8458),O=n(6821);e=n.hmd(e);var L=Object.create,N=Object.defineProperty,z=Object.defineProperties,F=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,Z=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,W=function(e,t,n){return t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},G=function(e,t){for(var n in t||(t={}))V.call(t,n)&&W(e,n,t[n]);if(U){var r,i=(0,T.Z)(U(t));try{for(i.s();!(r=i.n()).done;){n=r.value;H.call(t,n)&&W(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},q=function(e,t){return z(e,j(t))},X=function(e,t){var n={};for(var r in e)V.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&U){var i,a=(0,T.Z)(U(e));try{for(a.s();!(i=a.n()).done;){r=i.value;t.indexOf(r)<0&&H.call(e,r)&&(n[r]=e[r])}}catch(o){a.e(o)}finally{a.f()}}return n},K=function(e,t){return function(){return e&&(t=(0,e[B(e)[0]])(e=0)),t}},Y=function(e,t){return function(){return t||(0,e[B(e)[0]])((t={exports:{}}).exports,t),t.exports}},Q=function(e,t,n,r){if(t&&"object"==typeof t||"function"==typeof t){var i,a=(0,T.Z)(B(t));try{var o=function(){var a=i.value;!V.call(e,a)&&a!==n&&N(e,a,{get:function(){return t[a]},enumerable:!(r=F(t,a))||r.enumerable})};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}return e},$=function(e,t,n){return n=null!=e?L(Z(e)):{},Q(!t&&e&&e.__esModule?n:N(n,"default",{value:e,enumerable:!0}),e)},J=function(e,t,n){return W(e,"symbol"!=typeof t?t+"":t,n),n},ee=Y({"../../node_modules/react/cjs/react.production.min.js":function(e){var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,h(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,n,r){var i,a={},o=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(o=""+n.key),n)x.call(n,i)&&!S.hasOwnProperty(i)&&(a[i]=n[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:t,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var C=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,r,i,a,o){var s=typeof e;("undefined"===s||"boolean"===s)&&(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case t:case n:u=!0}}if(u)return o=o(u=e),e=""===a?"."+M(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),T(o,r,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),r.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+M(s=e[l],l);u+=T(s,r,i,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=T(s=s.value,r,i,c=a+M(s,l++),o);else if("object"===s)throw r=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)}),(function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},I={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:I,ReactCurrentOwner:_};e.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},e.Component=m,e.Fragment=r,e.Profiler=a,e.PureComponent=y,e.StrictMode=i,e.Suspense=l,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=h({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(o=n.ref,s=_.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in n)x.call(n,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===n[l]&&void 0!==u?u[l]:n[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:t,type:e.type,key:a,ref:o,props:i,_owner:s}},e.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},e.createElement=k,e.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:u,render:e}},e.isValidElement=E,e.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},e.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},e.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(e,t){return D.current.useCallback(e,t)},e.useContext=function(e){return D.current.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e){return D.current.useDeferredValue(e)},e.useEffect=function(e,t){return D.current.useEffect(e,t)},e.useId=function(){return D.current.useId()},e.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},e.useMemo=function(e,t){return D.current.useMemo(e,t)},e.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},e.useRef=function(e){return D.current.useRef(e)},e.useState=function(e){return D.current.useState(e)},e.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},e.useTransition=function(){return D.current.useTransition()},e.version="18.2.0"}}),te=Y({"../../node_modules/react/index.js":function(e,t){t.exports=ee()}}),ne=Y({"../../node_modules/react-reconciler/cjs/react-reconciler-constants.production.min.js":function(e){e.ConcurrentRoot=1,e.ContinuousEventPriority=4,e.DefaultEventPriority=16,e.DiscreteEventPriority=1,e.IdleEventPriority=536870912,e.LegacyRoot=0}}),re=Y({"../../node_modules/react-reconciler/constants.js":function(e,t){t.exports=ne()}}),ie=Y({"../../node_modules/scheduler/cjs/scheduler.production.min.js":function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>i(u,n))l<a&&0>i(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<a&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s});var a,o,s,u=[],l=[],c=1,f=null,d=3,p=!1,h=!1,v=!1,m="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(l);null!==i;){if(null===i.callback)r(l);else{if(!(i.startTime<=e))break;r(l),i.sortIndex=i.expirationTime,t(u,i)}i=n(l)}}function w(e){if(v=!1,b(e),!h)if(null!==n(u))h=!0,I(x);else{var t=n(l);null!==t&&R(w,t.startTime-e)}}function x(t,i){h=!1,v&&(v=!1,g(M),M=-1),p=!0;var a=d;try{for(b(i),f=n(u);null!==f&&(!(f.expirationTime>i)||t&&!A());){var o=f.callback;if("function"==typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?f.callback=s:f===n(u)&&r(u),b(i)}else r(u);f=n(u)}if(null!==f)var c=!0;else{var m=n(l);null!==m&&R(w,m.startTime-i),c=!1}return c}finally{f=null,d=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S,k,E=!1,C=null,M=-1,T=5,P=-1;function A(){return!(e.unstable_now()-P<T)}function D(){if(null!==C){var t=e.unstable_now();P=t;var n=!0;try{n=C(!0,t)}finally{n?_():(E=!1,C=null)}}else E=!1}function I(e){C=e,E||(E=!0,_())}function R(t,n){M=m((function(){t(e.unstable_now())}),n)}"function"==typeof y?_=function(){y(D)}:"undefined"!=typeof MessageChannel?(S=new MessageChannel,k=S.port2,S.port1.onmessage=D,_=function(){k.postMessage(null)}):_=function(){m(D,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,I(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),null===n(u)&&r===n(l)&&(v?(g(M),M=-1):v=!0,R(w,a-o))):(r.sortIndex=s,t(u,r),h||p||(h=!0,I(x))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}}),ae=Y({"../../node_modules/scheduler/index.js":function(e,t){t.exports=ie()}}),oe=Y({"../../node_modules/react-reconciler/cjs/react-reconciler.production.min.js":function(e,t){t.exports=function(e){var t={},n=te(),r=ae(),i=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=Symbol.for("react.element"),u=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var b=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function x(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=w&&e[w]||e["@@iterator"])?e:null}function _(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case u:return"Portal";case f:return"Profiler";case c:return"StrictMode";case v:return"Suspense";case m:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case h:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case g:return null!==(t=e.displayName||null)?t:_(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return _(e(t))}catch(n){}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(t);case 8:return t===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function k(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{4098&(t=e).flags&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function E(e){if(k(e)!==e)throw Error(a(188))}function C(e){var t=e.alternate;if(!t){if(null===(t=k(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return E(i),e;if(o===r)return E(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function M(e){return null!==(e=C(e))?T(e):null}function T(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=T(e);if(null!==t)return t;e=e.sibling}return null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=P(e);if(null!==t)return t}e=e.sibling}return null}var A,D=Array.isArray,I=e.getPublicInstance,R=e.getRootHostContext,O=e.getChildHostContext,L=e.prepareForCommit,N=e.resetAfterCommit,z=e.createInstance,F=e.appendInitialChild,j=e.finalizeInitialChildren,B=e.prepareUpdate,U=e.shouldSetTextContent,Z=e.createTextInstance,V=e.scheduleTimeout,H=e.cancelTimeout,W=e.noTimeout,G=e.isPrimaryRenderer,q=e.supportsMutation,X=e.supportsPersistence,K=e.supportsHydration,Y=e.getInstanceFromNode,Q=e.preparePortalMount,$=e.getCurrentEventPriority,J=e.detachDeletedInstance,ee=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,oe=e.getBoundingRect,se=e.getTextContent,ue=e.isHiddenSubtree,le=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,fe=e.setupIntersectionObserver,de=e.appendChild,pe=e.appendChildToContainer,he=e.commitTextUpdate,ve=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ye=e.insertInContainerBefore,be=e.removeChild,we=e.removeChildFromContainer,xe=e.resetTextContent,_e=e.hideInstance,Se=e.hideTextInstance,ke=e.unhideInstance,Ee=e.unhideTextInstance,Ce=e.clearContainer,Me=e.cloneInstance,Te=e.createContainerChildSet,Pe=e.appendChildToContainerChildSet,Ae=e.finalizeContainerChildren,De=e.replaceContainerChildren,Ie=e.cloneHiddenInstance,Re=e.cloneHiddenTextInstance,Oe=e.canHydrateInstance,Le=e.canHydrateTextInstance,Ne=e.canHydrateSuspenseInstance,ze=e.isSuspenseInstancePending,Fe=e.isSuspenseInstanceFallback,je=e.registerSuspenseInstanceRetry,Be=e.getNextHydratableSibling,Ue=e.getFirstHydratableChild,Ze=e.getFirstHydratableChildWithinContainer,Ve=e.getFirstHydratableChildWithinSuspenseInstance,He=e.hydrateInstance,We=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,Ke=e.commitHydratedSuspenseInstance,Ye=e.clearSuspenseBoundary,Qe=e.clearSuspenseBoundaryFromContainer,$e=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,et=e.didNotMatchHydratedTextInstance;function tt(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var nt=!1;function rt(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"==typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tt(e):""}var it=Object.prototype.hasOwnProperty,at=[],ot=-1;function st(e){return{current:e}}function ut(e){0>ot||(e.current=at[ot],at[ot]=null,ot--)}function lt(e,t){ot++,at[ot]=e.current,e.current=t}var ct={},ft=st(ct),dt=st(!1),pt=ct;function ht(e,t){var n=e.type.contextTypes;if(!n)return ct;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function vt(e){return null!=(e=e.childContextTypes)}function mt(){ut(dt),ut(ft)}function gt(e,t,n){if(ft.current!==ct)throw Error(a(168));lt(ft,t),lt(dt,n)}function yt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,S(e)||"Unknown",o));return i({},n,r)}function bt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ct,pt=ft.current,lt(ft,e),lt(dt,dt.current),!0}function wt(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yt(e,t,pt),r.__reactInternalMemoizedMergedChildContext=e,ut(dt),ut(ft),lt(ft,e)):ut(dt),lt(dt,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_t(e)/St|0)|0},_t=Math.log,St=Math.LN2;var kt=64,Et=4194304;function Ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Ct(s):0!==(a&=o)&&(r=Ct(a))}else 0!==(o=n&~i)?r=Ct(o):0!==a&&(r=Ct(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function Tt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function At(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function It(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rt=0;function Ot(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Lt=r.unstable_scheduleCallback,Nt=r.unstable_cancelCallback,zt=r.unstable_shouldYield,Ft=r.unstable_requestPaint,jt=r.unstable_now,Bt=r.unstable_ImmediatePriority,Ut=r.unstable_UserBlockingPriority,Zt=r.unstable_NormalPriority,Vt=r.unstable_IdlePriority,Ht=null,Wt=null;var Gt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},qt=null,Xt=!1,Kt=!1;function Yt(e){null===qt?qt=[e]:qt.push(e)}function Qt(){if(!Kt&&null!==qt){Kt=!0;var e=0,t=Rt;try{var n=qt;for(Rt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qt=null,Xt=!1}catch(i){throw null!==qt&&(qt=qt.slice(e+1)),Lt(Bt,Qt),i}finally{Rt=t,Kt=!1}}return null}var $t=o.ReactCurrentBatchConfig;function Jt(e,t){if(Gt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!it.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function en(e){switch(e.tag){case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return e=rt(e.type,!1);case 11:return e=rt(e.type.render,!1);case 1:return e=rt(e.type,!0);default:return""}}function tn(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var nn=st(null),rn=null,an=null,on=null;function sn(){on=an=rn=null}function un(e,t,n){G?(lt(nn,t._currentValue),t._currentValue=n):(lt(nn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=nn.current;ut(nn),G?e._currentValue=t:e._currentValue2=t}function cn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fn(e,t){rn=e,on=an=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.lanes&t&&(zi=!0),e.firstContext=null)}function dn(e){var t=G?e._currentValue:e._currentValue2;if(on!==e)if(e={context:e,memoizedValue:t,next:null},null===an){if(null===rn)throw Error(a(308));an=e,rn.dependencies={lanes:0,firstContext:e}}else an=an.next=e;return t}var pn=null,hn=!1;function vn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Ka&&1&e.mode&&!(2&Xa)?(null===(e=n.interleaved)?(t.next=t,null===pn?pn=[n]:pn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function bn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}function wn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xn(e,t,n,r){var a=e.updateQueue;hn=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var f=e.alternate;null!==f&&((u=(f=f.updateQueue).lastBaseUpdate)!==s&&(null===u?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(s=0,f=c=l=null,u=o;;){var p=u.lane,h=u.eventTime;if((r&p)===p){null!==f&&(f=f.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,m=u;switch(p=t,h=n,m.tag){case 1:if("function"==typeof(v=m.payload)){d=v.call(h,d,p);break e}d=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null==(p="function"==typeof(v=m.payload)?v.call(h,d,p):v))break e;d=i({},d,p);break e;case 2:hn=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===f?(c=f=h,l=d):f=f.next=h,s|=p;if(null===(u=u.next)){if(null===(u=a.shared.pending))break;u=(p=u).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===f&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);no|=s,e.lanes=s,e.memoizedState=d}}function _n(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var Sn=(new n.Component).refs;function kn(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var En={isMounted:function(e){return!!(e=e._reactInternals)&&k(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_o(),i=So(e),a=gn(r,i);a.payload=t,null!=n&&(a.callback=n),yn(e,a),null!==(t=ko(e,i,r))&&bn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_o(),i=So(e),a=gn(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),yn(e,a),null!==(t=ko(e,i,r))&&bn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_o(),r=So(e),i=gn(n,r);i.tag=2,null!=t&&(i.callback=t),yn(e,i),null!==(t=ko(e,r,n))&&bn(t,e,r)}};function Cn(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,r)||!Jt(i,a))}function Mn(e,t,n){var r=!1,i=ct,a=t.contextType;return"object"==typeof a&&null!==a?a=dn(a):(i=vt(t)?pt:ft.current,a=(r=null!=(r=t.contextTypes))?ht(e,i):ct),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=En,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Tn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&En.enqueueReplaceState(t,t.state,null)}function Pn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Sn,vn(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=dn(a):(a=vt(t)?pt:ft.current,i.context=ht(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(kn(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&En.enqueueReplaceState(i,i.state,null),xn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var An=[],Dn=0,In=null,Rn=0,On=[],Ln=0,Nn=null,zn=1,Fn="";function jn(e,t){An[Dn++]=Rn,An[Dn++]=In,In=e,Rn=t}function Bn(e,t,n){On[Ln++]=zn,On[Ln++]=Fn,On[Ln++]=Nn,Nn=e;var r=zn;e=Fn;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var a=32-xt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zn=1<<32-xt(t)+i|n<<i|r,Fn=a+e}else zn=1<<a|n<<i|r,Fn=e}function Un(e){null!==e.return&&(jn(e,1),Bn(e,1,0))}function Zn(e){for(;e===In;)In=An[--Dn],An[Dn]=null,Rn=An[--Dn],An[Dn]=null;for(;e===Nn;)Nn=On[--Ln],On[Ln]=null,Fn=On[--Ln],On[Ln]=null,zn=On[--Ln],On[Ln]=null}var Vn=null,Hn=null,Wn=!1,Gn=!1,qn=null;function Xn(e,t){var n=Jo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Kn(e,t){switch(e.tag){case 5:return null!==(t=Oe(t,e.type,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=Ue(t),!0);case 6:return null!==(t=Le(t,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=null,!0);case 13:if(null!==(t=Ne(t))){var n=null!==Nn?{id:zn,overflow:Fn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Jo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Vn=e,Hn=null,!0}return!1;default:return!1}}function Yn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Qn(e){if(Wn){var t=Hn;if(t){var n=t;if(!Kn(e,t)){if(Yn(e))throw Error(a(418));t=Be(n);var r=Vn;t&&Kn(e,t)?Xn(r,n):(e.flags=-4097&e.flags|2,Wn=!1,Vn=e)}}else{if(Yn(e))throw Error(a(418));e.flags=-4097&e.flags|2,Wn=!1,Vn=e}}}function $n(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vn=e}function Jn(e){if(!K||e!==Vn)return!1;if(!Wn)return $n(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||$e(e.type)&&!U(e.type,e.memoizedProps))){var t=Hn;if(t){if(Yn(e)){for(e=Hn;e;)e=Be(e);throw Error(a(418))}for(;t;)Xn(e,t),t=Be(t)}}if($n(e),13===e.tag){if(!K)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));Hn=qe(e)}else Hn=Vn?Be(e.stateNode):null;return!0}function er(){K&&(Hn=Vn=null,Gn=Wn=!1)}function tr(e){null===qn?qn=[e]:qn.push(e)}function nr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===Sn&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function rr(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ir(e){return(0,e._init)(e._payload)}function ar(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ts(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function c(t){return e&&null===t.alternate&&(t.flags|=2),t}function f(e,t,n,r){return null===t||6!==t.tag?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var a=n.type;return a===l?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===y&&ir(a)===t.type)?((r=i(t,n.props)).ref=nr(e,t,n),r.return=e,r):((r=ns(n.type,n.key,n.props,null,e.mode,r)).ref=nr(e,t,n),r.return=e,r)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=os(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=rs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=as(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case s:return(n=ns(t.type,t.key,t.props,null,e.mode,n)).ref=nr(e,null,t),n.return=e,n;case u:return(t=os(t,e.mode,n)).return=e,t;case y:return v(e,(0,t._init)(t._payload),n)}if(D(t)||x(t))return(t=rs(t,e.mode,n,null)).return=e,t;rr(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:f(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case s:return n.key===i?d(e,t,n,r):null;case u:return n.key===i?p(e,t,n,r):null;case y:return m(e,t,(i=n._init)(n._payload),r)}if(D(n)||x(n))return null!==i?null:h(e,t,n,r,null);rr(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return f(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case s:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return p(t,e=e.get(null===r.key?n:r.key)||null,r,i);case y:return g(e,t,n,(0,r._init)(r._payload),i)}if(D(r)||x(r))return h(t,e=e.get(n)||null,r,i,null);rr(t,r)}return null}return function f(d,p,h,b){if("object"==typeof h&&null!==h&&h.type===l&&null===h.key&&(h=h.props.children),"object"==typeof h&&null!==h){switch(h.$$typeof){case s:e:{for(var w=h.key,_=p;null!==_;){if(_.key===w){if((w=h.type)===l){if(7===_.tag){n(d,_.sibling),(p=i(_,h.props.children)).return=d,d=p;break e}}else if(_.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===y&&ir(w)===_.type){n(d,_.sibling),(p=i(_,h.props)).ref=nr(d,_,h),p.return=d,d=p;break e}n(d,_);break}t(d,_),_=_.sibling}h.type===l?((p=rs(h.props.children,d.mode,b,h.key)).return=d,d=p):((b=ns(h.type,h.key,h.props,null,d.mode,b)).ref=nr(d,p,h),b.return=d,d=b)}return c(d);case u:e:{for(_=h.key;null!==p;){if(p.key===_){if(4===p.tag&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(d,p.sibling),(p=i(p,h.children||[])).return=d,d=p;break e}n(d,p);break}t(d,p),p=p.sibling}(p=os(h,d.mode,b)).return=d,d=p}return c(d);case y:return f(d,p,(_=h._init)(h._payload),b)}if(D(h))return function(i,a,s,u){for(var l=null,c=null,f=a,d=a=0,p=null;null!==f&&d<s.length;d++){f.index>d?(p=f,f=null):p=f.sibling;var h=m(i,f,s[d],u);if(null===h){null===f&&(f=p);break}e&&f&&null===h.alternate&&t(i,f),a=o(h,a,d),null===c?l=h:c.sibling=h,c=h,f=p}if(d===s.length)return n(i,f),Wn&&jn(i,d),l;if(null===f){for(;d<s.length;d++)null!==(f=v(i,s[d],u))&&(a=o(f,a,d),null===c?l=f:c.sibling=f,c=f);return Wn&&jn(i,d),l}for(f=r(i,f);d<s.length;d++)null!==(p=g(f,i,d,s[d],u))&&(e&&null!==p.alternate&&f.delete(null===p.key?d:p.key),a=o(p,a,d),null===c?l=p:c.sibling=p,c=p);return e&&f.forEach((function(e){return t(i,e)})),Wn&&jn(i,d),l}(d,p,h,b);if(x(h))return function(i,s,u,l){var c=x(u);if("function"!=typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,d=s,p=s=0,h=null,y=u.next();null!==d&&!y.done;p++,y=u.next()){d.index>p?(h=d,d=null):h=d.sibling;var b=m(i,d,y.value,l);if(null===b){null===d&&(d=h);break}e&&d&&null===b.alternate&&t(i,d),s=o(b,s,p),null===f?c=b:f.sibling=b,f=b,d=h}if(y.done)return n(i,d),Wn&&jn(i,p),c;if(null===d){for(;!y.done;p++,y=u.next())null!==(y=v(i,y.value,l))&&(s=o(y,s,p),null===f?c=y:f.sibling=y,f=y);return Wn&&jn(i,p),c}for(d=r(i,d);!y.done;p++,y=u.next())null!==(y=g(d,i,p,y.value,l))&&(e&&null!==y.alternate&&d.delete(null===y.key?p:y.key),s=o(y,s,p),null===f?c=y:f.sibling=y,f=y);return e&&d.forEach((function(e){return t(i,e)})),Wn&&jn(i,p),c}(d,p,h,b);rr(d,h)}return"string"==typeof h&&""!==h||"number"==typeof h?(h=""+h,null!==p&&6===p.tag?(n(d,p.sibling),(p=i(p,h)).return=d,d=p):(n(d,p),(p=as(h,d.mode,b)).return=d,d=p),c(d)):n(d,p)}}var or=ar(!0),sr=ar(!1),ur={},lr=st(ur),cr=st(ur),fr=st(ur);function dr(e){if(e===ur)throw Error(a(174));return e}function pr(e,t){lt(fr,t),lt(cr,e),lt(lr,ur),e=R(t),ut(lr),lt(lr,e)}function hr(){ut(lr),ut(cr),ut(fr)}function vr(e){var t=dr(fr.current),n=dr(lr.current);n!==(t=O(n,e.type,t))&&(lt(cr,e),lt(lr,t))}function mr(e){cr.current===e&&(ut(lr),ut(cr))}var gr=st(0);function yr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||ze(n)||Fe(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var br=[];function wr(){for(var e=0;e<br.length;e++){var t=br[e];G?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}br.length=0}var xr=o.ReactCurrentDispatcher,_r=o.ReactCurrentBatchConfig,Sr=0,kr=null,Er=null,Cr=null,Mr=!1,Tr=!1,Pr=0,Ar=0;function Dr(){throw Error(a(321))}function Ir(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function Rr(e,t,n,r,i,o){if(Sr=o,kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xr.current=null===e||null===e.memoizedState?vi:mi,e=n(r,i),Tr){o=0;do{if(Tr=!1,Pr=0,25<=o)throw Error(a(301));o+=1,Cr=Er=null,t.updateQueue=null,xr.current=gi,e=n(r,i)}while(Tr)}if(xr.current=hi,t=null!==Er&&null!==Er.next,Sr=0,Cr=Er=kr=null,Mr=!1,t)throw Error(a(300));return e}function Or(){var e=0!==Pr;return Pr=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Cr?kr.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function Nr(){if(null===Er){var e=kr.alternate;e=null!==e?e.memoizedState:null}else e=Er.next;var t=null===Cr?kr.memoizedState:Cr.next;if(null!==t)Cr=t,Er=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Er=e).memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},null===Cr?kr.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function zr(e,t){return"function"==typeof t?t(e):t}function Fr(e){var t=Nr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Er,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((Sr&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,kr.lanes|=f,no|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,Gt(r,t.memoizedState)||(zi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,kr.lanes|=o,no|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jr(e){var t=Nr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Gt(o,t.memoizedState)||(zi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Br(){}function Ur(e,t){var n=kr,r=Nr(),i=t(),o=!Gt(r.memoizedState,i);if(o&&(r.memoizedState=i,zi=!0),r=r.queue,$r(Hr.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Cr&&1&Cr.memoizedState.tag){if(n.flags|=2048,qr(9,Vr.bind(null,n,r,i,t),void 0,null),null===Ka)throw Error(a(349));30&Sr||Zr(n,t,i)}return i}function Zr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=kr.updateQueue)?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Vr(e,t,n,r){t.value=n,t.getSnapshot=r,Wr(t)&&ko(e,1,-1)}function Hr(e,t,n){return n((function(){Wr(t)&&ko(e,1,-1)}))}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch(r){return!0}}function Gr(e){var t=Lr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,kr,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=kr.updateQueue)?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return Nr().memoizedState}function Kr(e,t,n,r){var i=Lr();kr.flags|=e,i.memoizedState=qr(1|t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var i=Nr();r=void 0===r?null:r;var a=void 0;if(null!==Er){var o=Er.memoizedState;if(a=o.destroy,null!==r&&Ir(r,o.deps))return void(i.memoizedState=qr(t,n,a,r))}kr.flags|=e,i.memoizedState=qr(1|t,n,a,r)}function Qr(e,t){return Kr(8390656,8,e,t)}function $r(e,t){return Yr(2048,8,e,t)}function Jr(e,t){return Yr(4,2,e,t)}function ei(e,t){return Yr(4,4,e,t)}function ti(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ni(e,t,n){return n=null!=n?n.concat([e]):null,Yr(4,4,ti.bind(null,t,e),n)}function ri(){}function ii(e,t){var n=Nr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ai(e,t){var n=Nr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oi(e,t){var n=Rt;Rt=0!==n&&4>n?n:4,e(!0);var r=_r.transition;_r.transition={};try{e(!1),t()}finally{Rt=n,_r.transition=r}}function si(){return Nr().memoizedState}function ui(e,t,n){var r=So(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ci(e)?fi(t,n):(di(e,t,n),null!==(e=ko(e,r,n=_o()))&&pi(e,t,r))}function li(e,t,n){var r=So(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ci(e))fi(t,i);else{di(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Gt(s,o))return}catch(u){}null!==(e=ko(e,r,n=_o()))&&pi(e,t,r)}}function ci(e){var t=e.alternate;return e===kr||null!==t&&t===kr}function fi(e,t){Tr=Mr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function di(e,t,n){null!==Ka&&1&e.mode&&!(2&Xa)?(null===(e=t.interleaved)?(n.next=n,null===pn?pn=[t]:pn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function pi(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}var hi={readContext:dn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},vi={readContext:dn,useCallback:function(e,t){return Lr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Qr,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Kr(4194308,4,ti.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kr(4,2,e,t)},useMemo:function(e,t){var n=Lr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ui.bind(null,kr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Lr().memoizedState=e},useState:Gr,useDebugValue:ri,useDeferredValue:function(e){var t=Gr(e),n=t[0],r=t[1];return Qr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){var e=Gr(!1),t=e[0];return e=oi.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kr,i=Lr();if(Wn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ka)throw Error(a(349));30&Sr||Zr(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Qr(Hr.bind(null,r,o,e),[e]),r.flags|=2048,qr(9,Vr.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Lr(),t=Ka.identifierPrefix;if(Wn){var n=Fn;t=":"+t+"R"+(n=(zn&~(1<<32-xt(zn)-1)).toString(32)+n),0<(n=Pr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ar++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mi={readContext:dn,useCallback:ii,useContext:dn,useEffect:$r,useImperativeHandle:ni,useInsertionEffect:Jr,useLayoutEffect:ei,useMemo:ai,useReducer:Fr,useRef:Xr,useState:function(){return Fr(zr)},useDebugValue:ri,useDeferredValue:function(e){var t=Fr(zr),n=t[0],r=t[1];return $r((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[Fr(zr)[0],Nr().memoizedState]},useMutableSource:Br,useSyncExternalStore:Ur,useId:si,unstable_isNewReconciler:!1},gi={readContext:dn,useCallback:ii,useContext:dn,useEffect:$r,useImperativeHandle:ni,useInsertionEffect:Jr,useLayoutEffect:ei,useMemo:ai,useReducer:jr,useRef:Xr,useState:function(){return jr(zr)},useDebugValue:ri,useDeferredValue:function(e){var t=jr(zr),n=t[0],r=t[1];return $r((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[jr(zr)[0],Nr().memoizedState]},useMutableSource:Br,useSyncExternalStore:Ur,useId:si,unstable_isNewReconciler:!1};function yi(e,t){try{var n="",r=t;do{n+=en(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function bi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var wi,xi,_i,Si,ki="function"==typeof WeakMap?WeakMap:Map;function Ei(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fo||(fo=!0,po=r),bi(0,t)},n}function Ci(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){bi(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){bi(0,t),"function"!=typeof r&&(null===ho?ho=new Set([this]):ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Mi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ki;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qo.bind(null,e,t,n),t.then(e,e))}function Ti(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Pi(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=gn(-1,1)).tag=2,yn(n,t))),n.lanes|=1),e)}function Ai(e){e.flags|=4}function Di(e,t){if(null!==e&&e.child===t.child)return!0;if(16&t.flags)return!1;for(e=t.child;null!==e;){if(12854&e.flags||12854&e.subtreeFlags)return!1;e=e.sibling}return!0}if(q)wi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)F(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xi=function(){},_i=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=dr(lr.current);n=B(a,n,e,r,i,o),(t.updateQueue=n)&&Ai(t)}},Si=function(e,t,n,r){n!==r&&Ai(t)};else if(X){wi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Ie(a,i.type,i.memoizedProps,i)),F(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Re(a,i.memoizedProps,i)),F(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),wi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ii=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=Ie(o,a.type,a.memoizedProps,a)),Pe(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Re(o,a.memoizedProps,a)),Pe(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};xi=function(e,t){var n=t.stateNode;if(!Di(e,t)){e=n.containerInfo;var r=Te(e);Ii(r,t,!1,!1),n.pendingChildren=r,Ai(t),Ae(e,r)}},_i=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Di(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,u=dr(lr.current),l=null;o!==r&&(l=B(s,n,o,r,i,u)),e&&null===l?t.stateNode=a:(a=Me(a,l,n,o,r,t,e,s),j(a,n,r,i,u)&&Ai(t),t.stateNode=a,e?Ai(t):wi(a,t,!1,!1))}},Si=function(e,t,n,r){n!==r?(e=dr(fr.current),n=dr(lr.current),t.stateNode=Z(r,e,n,t),Ai(t)):t.stateNode=e.stateNode}}else xi=function(){},_i=function(){},Si=function(){};function Ri(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Li(e,t,n){var r=t.pendingProps;switch(Zn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(t),null;case 1:case 17:return vt(t.type)&&mt(),Oi(t),null;case 3:return r=t.stateNode,hr(),ut(dt),ut(ft),wr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===e||null===e.child)&&(Jn(t)?Ai(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==qn&&(Po(qn),qn=null))),xi(e,t),Oi(t),null;case 5:mr(t),n=dr(fr.current);var i=t.type;if(null!==e&&null!=t.stateNode)_i(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Oi(t),null}if(e=dr(lr.current),Jn(t)){if(!K)throw Error(a(175));e=He(t.stateNode,t.type,t.memoizedProps,n,e,t,!Gn),t.updateQueue=e,null!==e&&Ai(t)}else{var o=z(i,r,n,e,t);wi(o,t,!1,!1),t.stateNode=o,j(o,i,r,n,e)&&Ai(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Oi(t),null;case 6:if(e&&null!=t.stateNode)Si(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=dr(fr.current),n=dr(lr.current),Jn(t)){if(!K)throw Error(a(176));if(e=t.stateNode,r=t.memoizedProps,(n=We(e,r,t,!Gn))&&null!==(i=Vn))switch(o=0!==(1&i.mode),i.tag){case 3:Je(i.stateNode.containerInfo,e,r,o);break;case 5:et(i.type,i.memoizedProps,i.stateNode,e,r,o)}n&&Ai(t)}else t.stateNode=Z(r,e,n,t)}return Oi(t),null;case 13:if(ut(gr),r=t.memoizedState,Wn&&null!==Hn&&1&t.mode&&!(128&t.flags)){for(e=Hn;e;)e=Be(e);return er(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Jn(t),null===e){if(!r)throw Error(a(318));if(!K)throw Error(a(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(317));Ge(e,t)}else er(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Oi(t),null}return null!==qn&&(Po(qn),qn=null),128&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Jn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&gr.current?0===eo&&(eo=3):zo())),null!==t.updateQueue&&(t.flags|=4),Oi(t),null);case 4:return hr(),xi(e,t),null===e&&Q(t.stateNode.containerInfo),Oi(t),null;case 10:return ln(t.type._context),Oi(t),null;case 19:if(ut(gr),null===(i=t.memoizedState))return Oi(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Ri(i,!1);else{if(0!==eo||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=yr(e))){for(t.flags|=128,Ri(i,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(o=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(gr,1&gr.current|2),t.child}e=e.sibling}null!==i.tail&&jt()>uo&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=yr(o))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ri(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Wn)return Oi(t),null}else 2*jt()-i.renderingStartTime>uo&&1073741824!==n&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jt(),t.sibling=null,e=gr.current,lt(gr,r?1&e|2:1&e),t):(Oi(t),null);case 22:case 23:return Ro(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?1073741824&$a&&(Oi(t),q&&6&t.subtreeFlags&&(t.flags|=8192)):Oi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}var Ni=o.ReactCurrentOwner,zi=!1;function Fi(e,t,n,r){t.child=null===e?sr(t,null,n,r):or(t,e.child,n,r)}function ji(e,t,n,r,i){n=n.render;var a=t.ref;return fn(t,i),r=Rr(e,t,n,r,a,i),n=Or(),null===e||zi?(Wn&&n&&Un(t),t.flags|=1,Fi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i))}function Bi(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||es(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ns(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ui(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jt)(o,r)&&e.ref===t.ref)return aa(e,t,i)}return t.flags|=1,(e=ts(a,r)).ref=t.ref,e.return=t,t.child=e}function Ui(e,t,n,r,i){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(zi=!1,0===(e.lanes&i))return t.lanes=e.lanes,aa(e,t,i);131072&e.flags&&(zi=!0)}return Hi(e,t,n,r,i)}function Zi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Ja,$a),$a|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,lt(Ja,$a),$a|=r}else t.memoizedState={baseLanes:0,cachePool:null},lt(Ja,$a),$a|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt(Ja,$a),$a|=r;return Fi(e,t,i,n),t.child}function Vi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hi(e,t,n,r,i){var a=vt(n)?pt:ft.current;return a=ht(t,a),fn(t,i),n=Rr(e,t,n,r,a,i),r=Or(),null===e||zi?(Wn&&r&&Un(t),t.flags|=1,Fi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i))}function Wi(e,t,n,r,i){if(vt(n)){var a=!0;bt(t)}else a=!1;if(fn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Mn(t,n,r),Pn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"==typeof l&&null!==l?l=dn(l):l=ht(t,l=vt(n)?pt:ft.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Tn(t,o,r,l),hn=!1;var d=t.memoizedState;o.state=d,xn(t,r,o,i),u=t.memoizedState,s!==r||d!==u||dt.current||hn?("function"==typeof c&&(kn(t,n,c,r),u=t.memoizedState),(s=hn||Cn(t,n,s,r,d,u,l))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,mn(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:tn(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"==typeof(u=n.contextType)&&null!==u?u=dn(u):u=ht(t,u=vt(n)?pt:ft.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Tn(t,o,r,u),hn=!1,d=t.memoizedState,o.state=d,xn(t,r,o,i);var h=t.memoizedState;s!==f||d!==h||dt.current||hn?("function"==typeof p&&(kn(t,n,p,r),h=t.memoizedState),(l=hn||Cn(t,n,l,r,d,h,u)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Gi(e,t,n,r,a,i)}function Gi(e,t,n,r,i,a){Vi(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&wt(t,n,!1),aa(e,t,a);r=t.stateNode,Ni.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=or(t,e.child,null,a),t.child=or(t,null,s,a)):Fi(e,t,s,a),t.memoizedState=r.state,i&&wt(t,n,!0),t.child}function qi(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),pr(e,t.containerInfo)}function Xi(e,t,n,r,i){return er(),tr(i),t.flags|=256,Fi(e,t,n,r),t.child}var Ki={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null}}function Qi(e,t,n){var r,i=t.pendingProps,o=gr.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),lt(gr,1&o),null===e)return Qn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?Fe(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},1&i||null===s?s=is(o,i,0,null):(s.childLanes=0,s.pendingProps=o),e=rs(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yi(n),t.memoizedState=Ki,e):$i(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,ta(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=is({mode:"visible",children:i.children},o,0,null),(s=rs(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,1&t.mode&&or(t,e.child,null,n),t.child.memoizedState=Yi(n),t.memoizedState=Ki,s);if(1&t.mode)if(Fe(r))t=ta(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),zi||i){if(null!==(i=Ka)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=s&(i.suspendedLanes|n)?0:s)&&i!==o.retryLane&&(o.retryLane=i,ko(e,i,-1))}zo(),t=ta(e,t,n,Error(a(421)))}else ze(r)?(t.flags|=128,t.child=e.child,t=Ko.bind(null,e),je(r,t),t=null):(n=o.treeContext,K&&(Hn=Ve(r),Vn=t,Wn=!0,qn=null,Gn=!1,null!==n&&(On[Ln++]=zn,On[Ln++]=Fn,On[Ln++]=Nn,zn=n.id,Fn=n.overflow,Nn=t)),(t=$i(t,t.pendingProps.children)).flags|=4096);else t=ta(e,t,n,null);return t}return s?(i=ea(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Yi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ki,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=ea(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Yi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ki,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}function $i(e,t){return(t=is({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ji(e,t,n,r){var i=e.child;return e=i.sibling,n=ts(i,{mode:"visible",children:n}),!(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function ea(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 1&a||t.child===e?(n=ts(e,s)).subtreeFlags=14680064&e.subtreeFlags:((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null),null!==o?r=ts(o,r):(r=rs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ta(e,t,n,r){return null!==r&&tr(r),or(t,e.child,null,n),(e=$i(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function na(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),cn(e.return,t,n)}function ra(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ia(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fi(e,t,r.children,n),2&(r=gr.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&na(e,n,t);else if(19===e.tag)na(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(gr,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===yr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ra(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===yr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ra(t,!0,n,null,a);break;case"together":ra(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function aa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),no|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=ts(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ts(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function oa(e,t){switch(Zn(t),t.tag){case 1:return vt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return hr(),ut(dt),ut(ft),wr(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mr(t),null;case 13:if(ut(gr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));er()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ut(gr),null;case 4:return hr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Ro(),null;default:return null}}var sa=!1,ua=!1,la="function"==typeof WeakSet?WeakSet:Set,ca=null;function fa(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Go(e,t,r)}else n.current=null}function da(e,t,n){try{n()}catch(r){Go(e,t,r)}}var pa=!1;function ha(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&da(t,n,a)}i=i.next}while(i!==r)}}function va(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ma(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=I(n);else e=n;"function"==typeof t?t(e):t.current=e}}function ga(e,t,n){if(Wt&&"function"==typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Ht,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&da(t,n,a),r=r.next}while(r!==e)}break;case 1:if(fa(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Go(t,n,o)}break;case 5:fa(t,n);break;case 4:q?Ea(e,t,n):X&&X&&(t=t.stateNode.containerInfo,n=Te(t),De(t,n))}}function ya(e,t,n){for(var r=t;;)if(ga(e,r,n),null===r.child||q&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ba(e){var t=e.alternate;null!==t&&(e.alternate=null,ba(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&J(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wa(e){return 5===e.tag||3===e.tag||4===e.tag}function xa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||wa(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _a(e){if(q){e:{for(var t=e.return;null!==t;){if(wa(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(xe(t),n.flags&=-33),ka(e,n=xa(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,Sa(e,n=xa(e),t);break;default:throw Error(a(161))}}}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ye(n,e,t):pe(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function ka(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(ka(e,t,n),e=e.sibling;null!==e;)ka(e,t,n),e=e.sibling}function Ea(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag)ya(e,o,n),i?we(r,o.stateNode):be(r,o.stateNode);else if(18===o.tag)i?Qe(r,o.stateNode):Ye(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ga(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function Ca(e,t){if(q){switch(t.tag){case 0:case 11:case 14:case 15:return ha(3,t,t.return),va(3,t),void ha(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&me(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(a(162));return n=t.memoizedProps,void he(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(K&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo));case 13:case 19:return void Ma(t)}throw Error(a(163))}switch(t.tag){case 0:case 11:case 14:case 15:return ha(3,t,t.return),va(3,t),void ha(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ma(t);case 3:K&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo)}e:if(X){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,De(t.containerInfo,t.pendingChildren);break e}throw Error(a(163))}}function Ma(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new la),t.forEach((function(t){var r=Yo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ta(e,t,n){ca=e,Pa(e,t,n)}function Pa(e,t,n){for(var r=0!==(1&e.mode);null!==ca;){var i=ca,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||sa;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||ua;s=sa;var l=ua;if(sa=o,(ua=u)&&!l)for(ca=i;null!==ca;)u=(o=ca).child,22===o.tag&&null!==o.memoizedState?Ia(i):null!==u?(u.return=o,ca=u):Ia(i);for(;null!==a;)ca=a,Pa(a,t,n),a=a.sibling;ca=i,sa=s,ua=l}Aa(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,ca=a):Aa(e)}}function Aa(e){for(;null!==ca;){var t=ca;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:ua||va(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ua)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&_n(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=I(t.child.stateNode);break;case 1:n=t.child.stateNode}_n(t,s,n)}break;case 5:var u=t.stateNode;null===n&&4&t.flags&&ve(u,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(K&&null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&Ke(f)}}}break;default:throw Error(a(163))}ua||512&t.flags&&ma(t)}catch(d){Go(t,t.return,d)}}if(t===e){ca=null;break}if(null!==(n=t.sibling)){n.return=t.return,ca=n;break}ca=t.return}}function Da(e){for(;null!==ca;){var t=ca;if(t===e){ca=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ca=n;break}ca=t.return}}function Ia(e){for(;null!==ca;){var t=ca;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{va(4,t)}catch(u){Go(t,n,u)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Go(t,i,u)}}var a=t.return;try{ma(t)}catch(u){Go(t,a,u)}break;case 5:var o=t.return;try{ma(t)}catch(u){Go(t,o,u)}}}catch(u){Go(t,t.return,u)}if(t===e){ca=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ca=s;break}ca=t.return}}var Ra=0,Oa=1,La=2,Na=3,za=4;if("function"==typeof Symbol&&Symbol.for){var Fa=Symbol.for;Ra=Fa("selector.component"),Oa=Fa("selector.has_pseudo_class"),La=Fa("selector.role"),Na=Fa("selector.test_id"),za=Fa("selector.text")}function ja(e){var t=Y(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=ie(e)))throw Error(a(362));return e.stateNode.current}function Ba(e,t){switch(t.$$typeof){case Ra:if(e.type===t.value)return!0;break;case Oa:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!ue(r)){for(;null!=o&&Ba(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case La:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case za:if((5===e.tag||6===e.tag)&&(null!==(e=se(e))&&0<=e.indexOf(t.value)))return!0;break;case Na:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Ua(e){switch(e.$$typeof){case Ra:return"<"+(_(e.value)||"Unknown")+">";case Oa:return":has("+(Ua(e)||"")+")";case La:return'[role="'+e.value+'"]';case za:return'"'+e.value+'"';case Na:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function Za(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!ue(i)){for(;null!=o&&Ba(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Va(e,t){if(!re)throw Error(a(363));e=Za(e=ja(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ue(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ha=Math.ceil,Wa=o.ReactCurrentDispatcher,Ga=o.ReactCurrentOwner,qa=o.ReactCurrentBatchConfig,Xa=0,Ka=null,Ya=null,Qa=0,$a=0,Ja=st(0),eo=0,to=null,no=0,ro=0,io=0,ao=null,oo=null,so=0,uo=1/0;function lo(){uo=jt()+500}var co,fo=!1,po=null,ho=null,vo=!1,mo=null,go=0,yo=0,bo=null,wo=-1,xo=0;function _o(){return 6&Xa?jt():-1!==wo?wo:wo=jt()}function So(e){return 1&e.mode?2&Xa&&0!==Qa?Qa&-Qa:null!==$t.transition?(0===xo&&(e=kt,!(4194240&(kt<<=1))&&(kt=64),xo=e),xo):0!==(e=Rt)?e:$():1}function ko(e,t,n){if(50<yo)throw yo=0,bo=null,Error(a(185));var r=Eo(e,t);return null===r?null:(Dt(r,t,n),(!(2&Xa)||r!==Ka)&&(r===Ka&&(!(2&Xa)&&(ro|=t),4===eo&&Ao(r,Qa)),Co(r,n),1===t&&0===Xa&&!(1&e.mode)&&(lo(),Xt&&Qt())),r)}function Eo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Co(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xt(a),s=1<<o,u=i[o];-1===u?(!(s&n)||s&r)&&(i[o]=Tt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Mt(e,e===Ka?Qa:0);if(0===r)null!==n&&Nt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Nt(n),1===t)0===e.tag?function(e){Xt=!0,Yt(e)}(Do.bind(null,e)):Yt(Do.bind(null,e)),ee?ne((function(){0===Xa&&Qt()})):Lt(Bt,Qt),n=null;else{switch(Ot(r)){case 1:n=Bt;break;case 4:n=Ut;break;case 16:default:n=Zt;break;case 536870912:n=Vt}n=Qo(n,Mo.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mo(e,t){if(wo=-1,xo=0,6&Xa)throw Error(a(327));var n=e.callbackNode;if(Ho()&&e.callbackNode!==n)return null;var r=Mt(e,e===Ka?Qa:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=Fo(e,r);else{t=r;var i=Xa;Xa|=2;var o=No();for((Ka!==e||Qa!==t)&&(lo(),Oo(e,t));;)try{Bo();break}catch(u){Lo(e,u)}sn(),Wa.current=o,Xa=i,null!==Ya?t=0:(Ka=null,Qa=0,t=eo)}if(0!==t){if(2===t&&(0!==(i=Pt(e))&&(r=i,t=To(e,i))),1===t)throw n=to,Oo(e,0),Ao(e,r),Co(e,jt()),n;if(6===t)Ao(e,r);else{if(i=e.current.alternate,!(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Fo(e,r))&&(0!==(o=Pt(e))&&(r=o,t=To(e,o))),1===t))throw n=to,Oo(e,0),Ao(e,r),Co(e,jt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Vo(e,oo);break;case 3:if(Ao(e,r),(130023424&r)===r&&10<(t=so+500-jt())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){_o(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=V(Vo.bind(null,e,oo),t);break}Vo(e,oo);break;case 4:if(Ao(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xt(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=jt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ha(r/1960))-r)){e.timeoutHandle=V(Vo.bind(null,e,oo),r);break}Vo(e,oo);break;default:throw Error(a(329))}}}return Co(e,jt()),e.callbackNode===n?Mo.bind(null,e):null}function To(e,t){var n=ao;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),2!==(e=Fo(e,t))&&(t=oo,oo=n,null!==t&&Po(t)),e}function Po(e){null===oo?oo=e:oo.push.apply(oo,e)}function Ao(e,t){for(t&=~io,t&=~ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Do(e){if(6&Xa)throw Error(a(327));Ho();var t=Mt(e,0);if(!(1&t))return Co(e,jt()),null;var n=Fo(e,t);if(0!==e.tag&&2===n){var r=Pt(e);0!==r&&(t=r,n=To(e,r))}if(1===n)throw n=to,Oo(e,0),Ao(e,t),Co(e,jt()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vo(e,oo),Co(e,jt()),null}function Io(e){null!==mo&&0===mo.tag&&!(6&Xa)&&Ho();var t=Xa;Xa|=1;var n=qa.transition,r=Rt;try{if(qa.transition=null,Rt=1,e)return e()}finally{Rt=r,qa.transition=n,!(6&(Xa=t))&&Qt()}}function Ro(){$a=Ja.current,ut(Ja)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==W&&(e.timeoutHandle=W,H(n)),null!==Ya)for(n=Ya.return;null!==n;){var r=n;switch(Zn(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&mt();break;case 3:hr(),ut(dt),ut(ft),wr();break;case 5:mr(r);break;case 4:hr();break;case 13:case 19:ut(gr);break;case 10:ln(r.type._context);break;case 22:case 23:Ro()}n=n.return}if(Ka=e,Ya=e=ts(e.current,null),Qa=$a=t,eo=0,to=null,io=ro=no=0,oo=ao=null,null!==pn){for(t=0;t<pn.length;t++)if(null!==(r=(n=pn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}pn=null}return e}function Lo(e,t){for(;;){var n=Ya;try{if(sn(),xr.current=hi,Mr){for(var r=kr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Mr=!1}if(Sr=0,Cr=Er=kr=null,Tr=!1,Pr=0,Ga.current=null,null===n||null===n.return){eo=1,to=t,Ya=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Qa,u.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,f=u,d=f.tag;if(!(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Ti(s);if(null!==h){h.flags&=-257,Pi(h,s,u,0,t),1&h.mode&&Mi(o,c,t),l=c;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(!(1&t)){Mi(o,c,t),zo();break e}l=Error(a(426))}else if(Wn&&1&u.mode){var g=Ti(s);if(null!==g){!(65536&g.flags)&&(g.flags|=256),Pi(g,s,u,0,t),tr(l);break e}}o=l,4!==eo&&(eo=2),null===ao?ao=[o]:ao.push(o),l=yi(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,wn(u,Ei(0,l,t));break e;case 1:o=l;var y=u.type,b=u.stateNode;if(!(128&u.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===ho||!ho.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,wn(u,Ci(u,o,t));break e}}u=u.return}while(null!==u)}Zo(n)}catch(w){t=w,Ya===n&&null!==n&&(Ya=n=n.return);continue}break}}function No(){var e=Wa.current;return Wa.current=hi,null===e?hi:e}function zo(){(0===eo||3===eo||2===eo)&&(eo=4),null===Ka||!(268435455&no)&&!(268435455&ro)||Ao(Ka,Qa)}function Fo(e,t){var n=Xa;Xa|=2;var r=No();for(Ka===e&&Qa===t||Oo(e,t);;)try{jo();break}catch(i){Lo(e,i)}if(sn(),Xa=n,Wa.current=r,null!==Ya)throw Error(a(261));return Ka=null,Qa=0,eo}function jo(){for(;null!==Ya;)Uo(Ya)}function Bo(){for(;null!==Ya&&!zt();)Uo(Ya)}function Uo(e){var t=co(e.alternate,e,$a);e.memoizedProps=e.pendingProps,null===t?Zo(e):Ya=t,Ga.current=null}function Zo(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=oa(n,t)))return n.flags&=32767,void(Ya=n);if(null===e)return eo=6,void(Ya=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Li(n,t,$a)))return void(Ya=n);if(null!==(t=t.sibling))return void(Ya=t);Ya=t=e}while(null!==t);0===eo&&(eo=5)}function Vo(e,t){var n=Rt,r=qa.transition;try{qa.transition=null,Rt=1,function(e,t,n){do{Ho()}while(null!==mo);if(6&Xa)throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ka&&(Ya=Ka=null,Qa=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||vo||(vo=!0,Qo(Zt,(function(){return Ho(),null}))),o=0!==(15990&r.flags),15990&r.subtreeFlags||o){o=qa.transition,qa.transition=null;var s=Rt;Rt=1;var u=Xa;Xa|=4,Ga.current=null,function(e,t){for(L(e.containerInfo),ca=t;null!==ca;)if(t=(e=ca).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,ca=t;else for(;null!==ca;){e=ca;try{var n=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,o=e.stateNode,s=o.getSnapshotBeforeUpdate(e.elementType===e.type?r:tn(e.type,r),i);o.__reactInternalSnapshotBeforeUpdate=s}break;case 3:q&&Ce(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(u){Go(e,e.return,u)}if(null!==(t=e.sibling)){t.return=e.return,ca=t;break}ca=e.return}n=pa,pa=!1}(e,r),function(e,t){for(ca=t;null!==ca;){var n=(t=ca).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;q?Ea(a,i,t):ya(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(x){Go(i,t,x)}}if(n=t.child,12854&t.subtreeFlags&&null!==n)n.return=t,ca=n;else for(;null!==ca;){t=ca;try{var s=t.flags;if(32&s&&q&&xe(t.stateNode),512&s){var u=t.alternate;if(null!==u){var l=u.ref;null!==l&&("function"==typeof l?l(null):l.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;(null===c||null===c.memoizedState)&&(so=jt())}break;case 22:var f=null!==t.memoizedState,d=t.alternate,p=null!==d&&null!==d.memoizedState;if(n=t,q)e:if(r=n,i=f,a=null,q)for(var h=r;;){if(5===h.tag){if(null===a){a=h;var v=h.stateNode;i?_e(v):ke(h.stateNode,h.memoizedProps)}}else if(6===h.tag){if(null===a){var m=h.stateNode;i?Se(m):Ee(m,h.memoizedProps)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===r)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===r)break;for(;null===h.sibling;){if(null===h.return||h.return===r)break e;a===h&&(a=null),h=h.return}a===h&&(a=null),h.sibling.return=h.return,h=h.sibling}if(f&&!p&&1&n.mode){ca=n;for(var g=n.child;null!==g;){for(n=ca=g;null!==ca;){var y=(r=ca).child;switch(r.tag){case 0:case 11:case 14:case 15:ha(4,r,r.return);break;case 1:fa(r,r.return);var b=r.stateNode;if("function"==typeof b.componentWillUnmount){var w=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(x){Go(r,w,x)}}break;case 5:fa(r,r.return);break;case 22:if(null!==r.memoizedState){Da(n);continue}}null!==y?(y.return=r,ca=y):Da(n)}g=g.sibling}}}switch(4102&s){case 2:_a(t),t.flags&=-3;break;case 6:_a(t),t.flags&=-3,Ca(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ca(t.alternate,t);break;case 4:Ca(t.alternate,t)}}catch(x){Go(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,ca=n;break}ca=t.return}}}(e,r),N(e.containerInfo),e.current=r,Ta(r,e,i),Ft(),Xa=u,Rt=s,qa.transition=o}else e.current=r;if(vo&&(vo=!1,mo=e,go=i),0===(o=e.pendingLanes)&&(ho=null),function(e){if(Wt&&"function"==typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Ht,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Co(e,jt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(fo)throw fo=!1,e=po,po=null,e;1&go&&0!==e.tag&&Ho(),1&(o=e.pendingLanes)?e===bo?yo++:(yo=0,bo=e):yo=0,Qt()}(e,t,n)}finally{qa.transition=r,Rt=n}return null}function Ho(){if(null!==mo){var e=Ot(go),t=qa.transition,n=Rt;try{if(qa.transition=null,Rt=16>e?16:e,null===mo)var r=!1;else{if(e=mo,mo=null,go=0,6&Xa)throw Error(a(331));var i=Xa;for(Xa|=4,ca=e.current;null!==ca;){var o=ca,s=o.child;if(16&ca.flags){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(ca=c;null!==ca;){var f=ca;switch(f.tag){case 0:case 11:case 15:ha(8,f,o)}var d=f.child;if(null!==d)d.return=f,ca=d;else for(;null!==ca;){var p=(f=ca).sibling,h=f.return;if(ba(f),f===c){ca=null;break}if(null!==p){p.return=h,ca=p;break}ca=h}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}ca=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,ca=s;else e:for(;null!==ca;){if(2048&(o=ca).flags)switch(o.tag){case 0:case 11:case 15:ha(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,ca=y;break e}ca=o.return}}var b=e.current;for(ca=b;null!==ca;){var w=(s=ca).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,ca=w;else e:for(s=b;null!==ca;){if(2048&(u=ca).flags)try{switch(u.tag){case 0:case 11:case 15:va(9,u)}}catch(_){Go(u,u.return,_)}if(u===s){ca=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,ca=x;break e}ca=u.return}}if(Xa=i,Qt(),Wt&&"function"==typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Ht,e)}catch(_){}r=!0}return r}finally{Rt=n,qa.transition=t}}return!1}function Wo(e,t,n){yn(e,t=Ei(0,t=yi(n,t),1)),t=_o(),null!==(e=Eo(e,1))&&(Dt(e,1,t),Co(e,t))}function Go(e,t,n){if(3===e.tag)Wo(e,e,n);else for(;null!==t;){if(3===t.tag){Wo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ho||!ho.has(r))){yn(t,e=Ci(t,e=yi(n,e),1)),e=_o(),null!==(t=Eo(t,1))&&(Dt(t,1,e),Co(t,e));break}}t=t.return}}function qo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=_o(),e.pingedLanes|=e.suspendedLanes&n,Ka===e&&(Qa&n)===n&&(4===eo||3===eo&&(130023424&Qa)===Qa&&500>jt()-so?Oo(e,0):io|=n),Co(e,t)}function Xo(e,t){0===t&&(1&e.mode?(t=Et,!(130023424&(Et<<=1))&&(Et=4194304)):t=1);var n=_o();null!==(e=Eo(e,t))&&(Dt(e,t,n),Co(e,n))}function Ko(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Xo(e,n)}function Yo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Xo(e,n)}function Qo(e,t){return Lt(e,t)}function $o(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jo(e,t,n,r){return new $o(e,t,n,r)}function es(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ts(e,t){var n=e.alternate;return null===n?((n=Jo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ns(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)es(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case l:return rs(n.children,i,o,t);case c:s=8,i|=8;break;case f:return(e=Jo(12,n,t,2|i)).elementType=f,e.lanes=o,e;case v:return(e=Jo(13,n,t,i)).elementType=v,e.lanes=o,e;case m:return(e=Jo(19,n,t,i)).elementType=m,e.lanes=o,e;case b:return is(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case d:s=10;break e;case p:s=9;break e;case h:s=11;break e;case g:s=14;break e;case y:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Jo(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function rs(e,t,n,r){return(e=Jo(7,e,r,t)).lanes=n,e}function is(e,t,n,r){return(e=Jo(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function as(e,t,n){return(e=Jo(6,e,null,t)).lanes=n,e}function os(e,t,n){return(t=Jo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ss(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=W,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=At(0),this.expirationTimes=At(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.identifierPrefix=r,this.onRecoverableError=i,K&&(this.mutableSourceEagerHydrationData=null)}function us(e,t,n,r,i,a,o,s,u){return e=new ss(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Jo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},vn(a),e}function ls(e){if(!e)return ct;e:{if(k(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(vt(n))return yt(e,n,t)}return t}function cs(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return null===(e=M(t))?null:e.stateNode}function fs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ds(e,t){fs(e,t),(e=e.alternate)&&fs(e,t)}function ps(e){return null===(e=M(e))?null:e.stateNode}function hs(){return null}return co=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)zi=!0;else{if(!(e.lanes&n)&&!(128&t.flags))return zi=!1,function(e,t,n){switch(t.tag){case 3:qi(t),er();break;case 5:vr(t);break;case 1:vt(t.type)&&bt(t);break;case 4:pr(t,t.stateNode.containerInfo);break;case 10:un(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(gr,1&gr.current),t.flags|=128,null):n&t.child.childLanes?Qi(e,t,n):(lt(gr,1&gr.current),null!==(e=aa(e,t,n))?e.sibling:null);lt(gr,1&gr.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return ia(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,Zi(e,t,n)}return aa(e,t,n)}(e,t,n);zi=!!(131072&e.flags)}else zi=!1,Wn&&1048576&t.flags&&Bn(t,Rn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ht(t,ft.current);fn(t,n),i=Rr(null,t,r,e,i,n);var o=Or();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(o=!0,bt(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,vn(t),i.updater=En,t.stateNode=i,i._reactInternals=t,Pn(t,r,e,n),t=Gi(null,t,r,!0,o,n)):(t.tag=0,Wn&&o&&Un(t),Fi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return es(e)?1:0;if(null!=e){if((e=e.$$typeof)===h)return 11;if(e===g)return 14}return 2}(r),e=tn(r,e),i){case 0:t=Hi(null,t,r,e,n);break e;case 1:t=Wi(null,t,r,e,n);break e;case 11:t=ji(null,t,r,e,n);break e;case 14:t=Bi(null,t,r,tn(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Hi(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wi(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 3:e:{if(qi(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,mn(e,t),xn(t,r,null,n);var s=t.memoizedState;if(r=s.element,K&&o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Xi(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Xi(e,t,r,n,i=Error(a(424)));break e}for(K&&(Hn=Ze(t.stateNode.containerInfo),Vn=t,Wn=!0,qn=null,Gn=!1),n=sr(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(er(),r===i){t=aa(e,t,n);break e}Fi(e,t,r,n)}t=t.child}return t;case 5:return vr(t),null===e&&Qn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,U(r,i)?s=null:null!==o&&U(r,o)&&(t.flags|=32),Vi(e,t),Fi(e,t,s,n),t.child;case 6:return null===e&&Qn(t),null;case 13:return Qi(e,t,n);case 4:return pr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=or(t,null,r,n):Fi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ji(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 7:return Fi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,un(0,r,s=i.value),null!==o)if(Gt(o.value,s)){if(o.children===i.children&&!dt.current){t=aa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=gn(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),cn(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),cn(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Fi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fn(t,n),r=r(i=dn(i)),t.flags|=1,Fi(e,t,r,n),t.child;case 14:return i=tn(r=t.type,t.pendingProps),Bi(e,t,r,i=tn(r.type,i),n);case 15:return Ui(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vt(r)?(e=!0,bt(t)):e=!1,fn(t,n),Mn(t,r,i),Pn(t,r,i,n),Gi(null,t,r,!0,e,n);case 19:return ia(e,t,n);case 22:return Zi(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(ko(e,134217728,_o()),ds(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=_o(),n=So(e);ko(e,n,t),ds(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ct(t.pendingLanes);0!==n&&(It(t,1|n),Co(t,jt()),!(6&Xa)&&(lo(),Qt()))}break;case 13:var r=_o();Io((function(){return ko(e,1,r)})),ds(e,1)}},t.batchedUpdates=function(e,t){var n=Xa;Xa|=1;try{return e(t)}finally{0===(Xa=n)&&(lo(),Xt&&Qt())}},t.createComponentSelector=function(e){return{$$typeof:Ra,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return us(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Oa,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,u){return(e=us(n,r,!0,e,0,a,0,s,u)).context=ls(null),n=e.current,(a=gn(r=_o(),i=So(n))).callback=null!=t?t:null,yn(n,a),e.current.lanes=i,Dt(e,i,r),Co(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:La,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Na,value:e}},t.createTextSelector=function(e){return{$$typeof:za,value:e}},t.deferredUpdates=function(e){var t=Rt,n=qa.transition;try{return qa.transition=null,Rt=16,e()}finally{Rt=t,qa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Rt,o=qa.transition;try{return qa.transition=null,Rt=1,e(t,n,r,i)}finally{Rt=a,qa.transition=o,0===Xa&&lo()}},t.findAllNodes=Va,t.findBoundingRects=function(e,t){if(!re)throw Error(a(363));t=Va(e,t),e=[];for(var n=0;n<t.length;n++)e.push(oe(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,s=o+n.height,u=t-1;0<=u;u--)if(t!==u){var l=e[u],c=l.x,f=c+l.width,d=l.y,p=d+l.height;if(r>=c&&o>=d&&i<=f&&s<=p){e.splice(t,1);break}if(!(r!==c||n.width!==l.width||p<o||d>s)){d>o&&(l.height+=d-o,l.y=o),p<s&&(l.height=s-d),e.splice(t,1);break}if(!(o!==d||n.height!==l.height||f<r||c>i)){c>r&&(l.width+=c-r,l.x=r),f<i&&(l.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=cs,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=C(e))?P(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return cs(e)},t.flushControlled=function(e){var t=Xa;Xa|=1;var n=qa.transition,r=Rt;try{qa.transition=null,Rt=1,e()}finally{Rt=r,qa.transition=n,0===(Xa=t)&&(lo(),Qt())}},t.flushPassiveEffects=Ho,t.flushSync=Io,t.focusWithin=function(e,t){if(!re)throw Error(a(363));for(t=Za(e=ja(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ue(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Rt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(a(363));var n=0,r=[];e=[ja(e),0];for(var i=0;i<e.length;){var o=e[i++],s=e[i++],u=t[s];if((5!==o.tag||!ue(o))&&(Ba(o,u)&&(r.push(Ua(u)),++s>n&&(n=s)),s<t.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ua(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?I(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:ps,findFiberByHostInstance:e.findFiberByHostInstance||hs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),Wt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(a(363));e=Va(e,t);var i=fe(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=_o(),o=So(i);return n=ls(n),null===t.context?t.context=n:t.pendingContext=n,(t=gn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),yn(i,t),null!==(e=ko(i,o,a))&&bn(e,i,o),o},t}}}),se=Y({"../../node_modules/react-reconciler/index.js":function(e,t){t.exports=oe()}}),ue=Y({"../../node_modules/debounce/index.js":function(e,t){function n(e,t,n){var r,i,a,o,s;function u(){var l=Date.now()-o;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}n.debounce=n,t.exports=n}}),le=Y({"../../node_modules/zustand/shallow.js":function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}}}),ce=Y({"../../node_modules/react-dom/cjs/react-dom-server-legacy.browser.production.min.js":function(e){var t=te();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Object.prototype.hasOwnProperty,i=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},o={};function s(e){return!!r.call(o,e)||!r.call(a,e)&&(i.test(e)?o[e]=!0:(a[e]=!0,!1))}function u(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var l={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){l[e]=new u(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];l[t]=new u(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){l[e]=new u(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){l[e]=new u(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){l[e]=new u(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){l[e]=new u(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){l[e]=new u(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){l[e]=new u(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){l[e]=new u(e,5,!1,e.toLowerCase(),null,!1,!1)}));var c=/[\-:]([a-z])/g;function f(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(c,f);l[t]=new u(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(c,f);l[t]=new u(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(c,f);l[t]=new u(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){l[e]=new u(e,1,!1,e.toLowerCase(),null,!1,!1)})),l.xlinkHref=new u("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){l[e]=new u(e,1,!1,e.toLowerCase(),null,!0,!0)}));var d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p=["Webkit","ms","Moz","O"];Object.keys(d).forEach((function(e){p.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),d[t]=d[e]}))}));var h=/["'&<>]/;function v(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=h.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var m=/([A-Z])/g,g=/^ms-/,y=Array.isArray;function b(e,t){return{insertionMode:e,selectedValue:t}}var w=new Map;function x(e,t,i){if("object"!=typeof i)throw Error(n(62));for(var a in t=!0,i)if(r.call(i,a)){var o=i[a];if(null!=o&&"boolean"!=typeof o&&""!==o){if(0===a.indexOf("--")){var s=v(a);o=v((""+o).trim())}else{s=a;var u=w.get(s);void 0!==u||(u=v(s.replace(m,"-$1").toLowerCase().replace(g,"-ms-")),w.set(s,u)),s=u,o="number"==typeof o?0===o||r.call(d,a)?""+o:o+"px":v((""+o).trim())}t?(t=!1,e.push(' style="',s,":",o)):e.push(";",s,":",o)}}t||e.push('"')}function _(e,t,n,r){switch(n){case"style":return void x(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=l.hasOwnProperty(n)?l[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:!0===r?e.push(" ",n,'=""'):!1!==r&&e.push(" ",n,'="',v(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',v(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',v(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',v(r),'"')}}else if(s(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',v(r),'"')}}function S(e,t,r){if(null!=t){if(null!=r)throw Error(n(60));if("object"!=typeof t||!("__html"in t))throw Error(n(61));null!=(t=t.__html)&&e.push(""+t)}}function k(e,t,n,i){e.push(M(n));var a,o=n=null;for(a in t)if(r.call(t,a)){var s=t[a];if(null!=s)switch(a){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:_(e,i,a,s)}}return e.push(">"),S(e,o,n),"string"==typeof n?(e.push(v(n)),null):n}var E=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,C=new Map;function M(e){var t=C.get(e);if(void 0===t){if(!E.test(e))throw Error(n(65,e));t="<"+e,C.set(e,t)}return t}function T(e,i,a,o,u){switch(i){case"select":e.push(M("select"));var l=null,c=null;for(h in a)if(r.call(a,h)){var f=a[h];if(null!=f)switch(h){case"children":l=f;break;case"dangerouslySetInnerHTML":c=f;break;case"defaultValue":case"value":break;default:_(e,o,h,f)}}return e.push(">"),S(e,c,l),l;case"option":c=u.selectedValue,e.push(M("option"));var d=f=null,p=null,h=null;for(l in a)if(r.call(a,l)){var m=a[l];if(null!=m)switch(l){case"children":f=m;break;case"selected":p=m;break;case"dangerouslySetInnerHTML":h=m;break;case"value":d=m;default:_(e,o,l,m)}}if(null!=c)if(a=null!==d?""+d:function(e){var n="";return t.Children.forEach(e,(function(e){null!=e&&(n+=e)})),n}(f),y(c)){for(o=0;o<c.length;o++)if(""+c[o]===a){e.push(' selected=""');break}}else""+c===a&&e.push(' selected=""');else p&&e.push(' selected=""');return e.push(">"),S(e,h,f),f;case"textarea":for(f in e.push(M("textarea")),h=c=l=null,a)if(r.call(a,f)&&null!=(d=a[f]))switch(f){case"children":h=d;break;case"value":l=d;break;case"defaultValue":c=d;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:_(e,o,f,d)}if(null===l&&null!==c&&(l=c),e.push(">"),null!=h){if(null!=l)throw Error(n(92));if(y(h)&&1<h.length)throw Error(n(93));l=""+h}return"string"==typeof l&&"\n"===l[0]&&e.push("\n"),null!==l&&e.push(v(""+l)),null;case"input":for(c in e.push(M("input")),d=h=f=l=null,a)if(r.call(a,c)&&null!=(p=a[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"defaultChecked":d=p;break;case"defaultValue":f=p;break;case"checked":h=p;break;case"value":l=p;break;default:_(e,o,c,p)}return null!==h?_(e,o,"checked",h):null!==d&&_(e,o,"checked",d),null!==l?_(e,o,"value",l):null!==f&&_(e,o,"value",f),e.push("/>"),null;case"menuitem":for(var g in e.push(M("menuitem")),a)if(r.call(a,g)&&null!=(l=a[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:_(e,o,g,l)}return e.push(">"),null;case"title":for(m in e.push(M("title")),l=null,a)if(r.call(a,m)&&null!=(c=a[m]))switch(m){case"children":l=c;break;case"dangerouslySetInnerHTML":throw Error(n(434));default:_(e,o,m,c)}return e.push(">"),l;case"listing":case"pre":for(d in e.push(M(i)),c=l=null,a)if(r.call(a,d)&&null!=(f=a[d]))switch(d){case"children":l=f;break;case"dangerouslySetInnerHTML":c=f;break;default:_(e,o,d,f)}if(e.push(">"),null!=c){if(null!=l)throw Error(n(60));if("object"!=typeof c||!("__html"in c))throw Error(n(61));null!=(a=c.__html)&&("string"==typeof a&&0<a.length&&"\n"===a[0]?e.push("\n",a):e.push(""+a))}return"string"==typeof l&&"\n"===l[0]&&e.push("\n"),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var b in e.push(M(i)),a)if(r.call(a,b)&&null!=(l=a[b]))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,i));default:_(e,o,b,l)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return k(e,a,i,o);case"html":return 0===u.insertionMode&&e.push("<!DOCTYPE html>"),k(e,a,i,o);default:if(-1===i.indexOf("-")&&"string"!=typeof a.is)return k(e,a,i,o);for(p in e.push(M(i)),c=l=null,a)if(r.call(a,p)&&null!=(f=a[p]))switch(p){case"children":l=f;break;case"dangerouslySetInnerHTML":c=f;break;case"style":x(e,o,f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:s(p)&&"function"!=typeof f&&"symbol"!=typeof f&&e.push(" ",p,'="',v(f),'"')}return e.push(">"),S(e,c,l),l}}function P(e,t,r){if(e.push('\x3c!--$?--\x3e<template id="'),null===r)throw Error(n(395));return e.push(r),e.push('"></template>')}var A=/[<\u2028\u2029]/g;function D(e){return JSON.stringify(e).replace(A,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function I(e,t,n,r){return n.generateStaticMarkup?(e.push(v(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(v(t)),e=!0),e)}var R=Object.assign,O=Symbol.for("react.element"),L=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),B=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),G=Symbol.for("react.scope"),q=Symbol.for("react.debug_trace_mode"),X=Symbol.for("react.legacy_hidden"),K=Symbol.for("react.default_value"),Y=Symbol.iterator;function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case N:return"Fragment";case L:return"Portal";case F:return"Profiler";case z:return"StrictMode";case Z:return"Suspense";case V:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case U:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case H:return null!==(t=e.displayName||null)?t:Q(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}var $={};function J(e,t){if(!(e=e.contextTypes))return $;var n,r={};for(n in e)r[n]=t[n];return r}var ee=null;function ne(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error(n(401))}else{if(null===r)throw Error(n(401));ne(e,r)}t.context._currentValue2=t.value}}function re(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&re(e)}function ie(e){var t=e.parent;null!==t&&ie(t),e.context._currentValue2=e.value}function ae(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?ne(e,t):ae(e,t)}function oe(e,t){var r=t.parent;if(null===r)throw Error(n(402));e.depth===r.depth?ne(e,r):oe(e,r),t.context._currentValue2=t.value}function se(e){var t=ee;t!==e&&(null===t?ie(e):null===e?re(t):t.depth===e.depth?ne(t,e):t.depth>e.depth?ae(t,e):oe(t,e),ee=e)}var ue={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function le(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=ue,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context="object"==typeof o&&null!==o?o._currentValue2:r,"function"==typeof(o=t.getDerivedStateFromProps)&&(i=null==(o=o(n,i))?i:R({},i,o),e.state=i),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&ue.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&1===t.length)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"==typeof s?s.call(e,a,n,r):s)&&(i?(i=!1,a=R({},a,s)):R(a,s))}e.state=a}else a.queue=null}var ce={id:1,overflow:""};function fe(e,t,n){var r=e.id;e=e.overflow;var i=32-de(r)-1;r&=~(1<<i),n+=1;var a=32-de(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-de(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var de=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/he|0)|0},pe=Math.log,he=Math.LN2;var ve="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},me=null,ge=null,ye=null,be=null,we=!1,xe=!1,_e=0,Se=null,ke=0;function Ee(){if(null===me)throw Error(n(321));return me}function Ce(){if(0<ke)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Me(){return null===be?null===ye?(we=!1,ye=be=Ce()):(we=!0,be=ye):null===be.next?(we=!1,be=be.next=Ce()):(we=!0,be=be.next),be}function Te(){ge=me=null,xe=!1,ye=null,ke=0,be=Se=null}function Pe(e,t){return"function"==typeof t?t(e):t}function Ae(e,t,n){if(me=Ee(),be=Me(),we){var r=be.queue;if(t=r.dispatch,null!==Se&&void 0!==(n=Se.get(r))){Se.delete(r),r=be.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return be.memoizedState=r,[r,t]}return[be.memoizedState,t]}return e=e===Pe?"function"==typeof t?t():t:void 0!==n?n(t):t,be.memoizedState=e,e=(e=be.queue={last:null,dispatch:null}).dispatch=Ie.bind(null,me,e),[be.memoizedState,e]}function De(e,t){if(me=Ee(),t=void 0===t?null:t,null!==(be=Me())){var n=be.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!ve(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),be.memoizedState=[e,t],e}function Ie(e,t,r){if(25<=ke)throw Error(n(301));if(e===me)if(xe=!0,e={action:r,next:null},null===Se&&(Se=new Map),void 0===(r=Se.get(t)))Se.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function Re(){throw Error(n(394))}function Oe(){}var Le={readContext:function(e){return e._currentValue2},useContext:function(e){return Ee(),e._currentValue2},useMemo:De,useReducer:Ae,useRef:function(e){me=Ee();var t=(be=Me()).memoizedState;return null===t?(e={current:e},be.memoizedState=e):t},useState:function(e){return Ae(Pe,e)},useInsertionEffect:Oe,useLayoutEffect:function(){},useCallback:function(e,t){return De((function(){return e}),t)},useImperativeHandle:Oe,useEffect:Oe,useDebugValue:Oe,useDeferredValue:function(e){return Ee(),e},useTransition:function(){return Ee(),[!1,Re]},useId:function(){var e=ge.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-de(e)-1)).toString(32)+t;var r=Ne;if(null===r)throw Error(n(404));return t=_e++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Ee(),t(e._source)},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error(n(407));return r()}},Ne=null,ze=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Fe(e){return console.error(e),null}function je(){}function Be(e,t,n,r,i,a,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var u={node:t,ping:function(){var t=e.pingedTasks;t.push(u),1===t.length&&tt(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(u),u}function Ue(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function Ze(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Ve(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function He(e,t,n,r,i){for(me={},ge=t,_e=0,e=n(r,i);xe;)xe=!1,_e=0,ke+=1,be=null,e=n(r,i);return Te(),e}function We(e,t,r,i){var a=r.render(),o=i.childContextTypes;if(null!=o){var s=t.legacyContext;if("function"!=typeof r.getChildContext)i=s;else{for(var u in r=r.getChildContext())if(!(u in o))throw Error(n(108,Q(i)||"Unknown",u));i=R({},s,r)}t.legacyContext=i,Xe(e,t,a),t.legacyContext=s}else Xe(e,t,a)}function Ge(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function qe(e,t,r,i,a){if("function"==typeof r)if(r.prototype&&r.prototype.isReactComponent){a=J(r,t.legacyContext);var o=r.contextType;le(o=new r(i,"object"==typeof o&&null!==o?o._currentValue2:a),r,i,a),We(e,t,o,r)}else{a=He(e,t,r,i,o=J(r,t.legacyContext));var s=0!==_e;if("object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof)le(a,r,i,o),We(e,t,a,r);else if(s){i=t.treeContext,t.treeContext=fe(i,1,0);try{Xe(e,t,a)}finally{t.treeContext=i}}else Xe(e,t,a)}else{if("string"!=typeof r){switch(r){case X:case q:case z:case F:case N:case V:return void Xe(e,t,i.children);case G:throw Error(n(343));case Z:e:{r=t.blockedBoundary,a=t.blockedSegment,o=i.fallback,i=i.children;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},l=Ue(0,a.chunks.length,u,a.formatContext,!1,!1);a.children.push(l),a.lastPushedText=!1;var c=Ue(0,0,null,a.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=c;try{if(Ye(e,t,i),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("\x3c!-- --\x3e"),c.status=1,Je(u,c),0===u.pendingTasks)break e}catch(f){c.status=4,u.forceClientRender=!0,u.errorDigest=Ze(e,f)}finally{t.blockedBoundary=r,t.blockedSegment=a}t=Be(e,o,r,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"==typeof r&&null!==r)switch(r.$$typeof){case U:if(i=He(e,t,r.render,i,a),0!==_e){r=t.treeContext,t.treeContext=fe(r,1,0);try{Xe(e,t,i)}finally{t.treeContext=r}}else Xe(e,t,i);return;case H:return void qe(e,t,r=r.type,i=Ge(r,i),a);case j:if(a=i.children,r=r._context,i=i.value,o=r._currentValue2,r._currentValue2=i,ee=i={parent:s=ee,depth:null===s?0:s.depth+1,context:r,parentValue:o,value:i},t.context=i,Xe(e,t,a),null===(e=ee))throw Error(n(403));return i=e.parentValue,e.context._currentValue2=i===K?e.context._defaultValue:i,e=ee=e.parent,void(t.context=e);case B:return void Xe(e,t,i=(i=i.children)(r._currentValue2));case W:return void qe(e,t,r=(a=r._init)(r._payload),i=Ge(r,i),void 0)}throw Error(n(130,null==r?r:typeof r,""))}switch(o=T((a=t.blockedSegment).chunks,r,i,e.responseState,a.formatContext),a.lastPushedText=!1,s=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return b(1,null!=n.value?n.value:n.defaultValue);case"svg":return b(2,null);case"math":return b(3,null);case"foreignObject":return b(1,null);case"table":return b(4,null);case"thead":case"tbody":case"tfoot":return b(5,null);case"colgroup":return b(7,null);case"tr":return b(6,null)}return 4<=e.insertionMode||0===e.insertionMode?b(1,null):e}(s,r,i),Ye(e,t,o),a.formatContext=s,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push("</",r,">")}a.lastPushedText=!1}}function Xe(e,t,r){if(t.node=r,"object"==typeof r&&null!==r){switch(r.$$typeof){case O:return void qe(e,t,r.type,r.props,r.ref);case L:throw Error(n(257));case W:var i=r._init;return void Xe(e,t,r=i(r._payload))}if(y(r))return void Ke(e,t,r);if(null===r||"object"!=typeof r?i=null:i="function"==typeof(i=Y&&r[Y]||r["@@iterator"])?i:null,i&&(i=i.call(r))){if(!(r=i.next()).done){var a=[];do{a.push(r.value),r=i.next()}while(!r.done);Ke(e,t,a)}return}throw e=Object.prototype.toString.call(r),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}"string"==typeof r?(i=t.blockedSegment).lastPushedText=I(t.blockedSegment.chunks,r,e.responseState,i.lastPushedText):"number"==typeof r&&((i=t.blockedSegment).lastPushedText=I(t.blockedSegment.chunks,""+r,e.responseState,i.lastPushedText))}function Ke(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=fe(a,r,i);try{Ye(e,t,n[i])}finally{t.treeContext=a}}}function Ye(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return Xe(e,t,n)}catch(u){if(Te(),"object"!=typeof u||null===u||"function"!=typeof u.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,se(a),u;n=u;var o=t.blockedSegment,s=Ue(0,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=Be(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,se(a)}}function Qe(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,et(this,t,e)}function $e(e,t,r){var i=e.blockedBoundary;e.blockedSegment.status=3,null===i?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=void 0===r?Error(n(432)):r,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach((function(e){return $e(e,t,r)})),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(i=t.onAllReady)())}function Je(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&Je(e,n)}else e.completedSegments.push(t)}function et(e,t,r){if(null===t){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=je,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(r.parentFlushed&&1===r.status&&Je(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Qe,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(Je(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function tt(e){if(2!==e.status){var t=ee,n=ze.current;ze.current=Le;var r=Ne;Ne=e.responseState;try{var i,a=e.pingedTasks;for(i=0;i<a.length;i++){var o=a[i],s=e,u=o.blockedSegment;if(0===u.status){se(o.context);try{Xe(s,o,o.node),s.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("\x3c!-- --\x3e"),o.abortSet.delete(o),u.status=1,et(s,o.blockedBoundary,u)}catch(p){if(Te(),"object"==typeof p&&null!==p&&"function"==typeof p.then){var l=o.ping;p.then(l,l)}else{o.abortSet.delete(o),u.status=4;var c=o.blockedBoundary,f=p,d=Ze(s,f);if(null===c?Ve(s,f):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=d,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}a.splice(0,i),null!==e.destination&&st(e,e.destination)}catch(p){Ze(e,p),Ve(e,p)}finally{Ne=r,ze.current=n,n===Le&&se(t)}}}function nt(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var i=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=i.toString(16),t.push(e),t.push('"></template>');case 1:r.status=2;var a=!0;i=r.chunks;var o=0;r=r.children;for(var s=0;s<r.length;s++){for(a=r[s];o<a.index;o++)t.push(i[o]);a=rt(e,t,a)}for(;o<i.length-1;o++)t.push(i[o]);return o<i.length&&(a=t.push(i[o])),a;default:throw Error(n(390))}}function rt(e,t,r){var i=r.boundary;if(null===i)return nt(e,t,r);if(i.parentFlushed=!0,i.forceClientRender)return e.responseState.generateStaticMarkup||(i=i.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),i&&(t.push(' data-dgst="'),i=v(i),t.push(i),t.push('"')),t.push("></template>")),nt(e,t,r),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var a=e.responseState,o=a.nextSuspenseID++;return a=a.boundaryPrefix+o.toString(16),i=i.id=a,P(t,e.responseState,i),nt(e,t,r),t.push("\x3c!--/$--\x3e")}if(i.byteSize>e.progressiveChunkSize)return i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),P(t,e.responseState,i.id),nt(e,t,r),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(r=i.completedSegments).length)throw Error(n(391));return rt(e,t,r[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function it(e,t,r){return function(e,t,r,i){switch(r.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');default:throw Error(n(397))}}(t,e.responseState,r.formatContext,r.id),rt(e,t,r),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(n(397))}}(t,r.formatContext)}function at(e,t,r){for(var i=r.completedSegments,a=0;a<i.length;a++)ot(e,t,r,i[a]);if(i.length=0,e=e.responseState,i=r.id,r=r.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===i)throw Error(n(395));return r=r.toString(16),t.push(i),t.push('","'),t.push(e.segmentPrefix),t.push(r),t.push('")<\/script>')}function ot(e,t,r,i){if(2===i.status)return!0;var a=i.id;if(-1===a){if(-1===(i.id=r.rootSegmentID))throw Error(n(392));return it(e,t,i)}return it(e,t,i),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),a=a.toString(16),t.push(a),t.push('","'),t.push(e.placeholderPrefix),t.push(a),t.push('")<\/script>')}function st(e,t){try{var r=e.completedRootSegment;if(null!==r&&0===e.pendingRootTasks){rt(e,t,r),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(r=0;r<i.length-1;r++)t.push(i[r]);r<i.length&&t.push(i[r])}var a,o=e.clientRenderedBoundaries;for(a=0;a<o.length;a++){var s=o[a];i=t;var u=e.responseState,l=s.id,c=s.errorDigest,f=s.errorMessage,d=s.errorComponentStack;if(i.push(u.startInlineScript),u.sentClientRenderFunction?i.push('$RX("'):(u.sentClientRenderFunction=!0,i.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===l)throw Error(n(395));if(i.push(l),i.push('"'),c||f||d){i.push(",");var p=D(c||"");i.push(p)}if(f||d){i.push(",");var h=D(f||"");i.push(h)}if(d){i.push(",");var v=D(d);i.push(v)}if(!i.push(")<\/script>"))return e.destination=null,a++,void o.splice(0,a)}o.splice(0,a);var m=e.completedBoundaries;for(a=0;a<m.length;a++)if(!at(e,t,m[a]))return e.destination=null,a++,void m.splice(0,a);m.splice(0,a);var g=e.partialBoundaries;for(a=0;a<g.length;a++){var y=g[a];e:{o=e,s=t;var b=y.completedSegments;for(u=0;u<b.length;u++)if(!ot(o,s,y,b[u])){u++,b.splice(0,u);var w=!1;break e}b.splice(0,u),w=!0}if(!w)return e.destination=null,a++,void g.splice(0,a)}g.splice(0,a);var x=e.completedBoundaries;for(a=0;a<x.length;a++)if(!at(e,t,x[a]))return e.destination=null,a++,void x.splice(0,a);x.splice(0,a)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function ut(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return $e(n,e,t)})),n.clear(),null!==e.destination&&st(e,e.destination)}catch(r){Ze(e,r),Ve(e,r)}}function lt(){}function ct(e,t,r,i){var a=!1,o=null,s="",u={push:function(e){return null!==e&&(s+=e),!0},destroy:function(e){a=!0,o=e}},l=!1;if(e=function(e,t,n,r,i,a,o,s,u){var l=[],c=new Set;return(n=Ue(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?Fe:i,onAllReady:void 0===a?je:a,onShellReady:void 0===o?je:o,onShellError:void 0===s?je:s,onFatalError:void 0===u?je:u},0,null,n,!1,!1)).parentFlushed=!0,e=Be(t,e,null,n,c,$,null,ce),l.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(r,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,lt,void 0,(function(){l=!0}),void 0,void 0),tt(e),ut(e,i),1===e.status)e.status=2,u.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=u;try{st(e,u)}catch(c){Ze(e,c),Ve(e,c)}}if(a)throw o;if(!l)throw Error(n(426));return s}e.renderToNodeStream=function(){throw Error(n(207))},e.renderToStaticMarkup=function(e,t){return ct(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},e.renderToStaticNodeStream=function(){throw Error(n(208))},e.renderToString=function(e,t){return ct(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},e.version="18.2.0"}}),fe=Y({"../../node_modules/react-dom/cjs/react-dom-server.browser.production.min.js":function(e){var t=te();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=null,i=0;function a(e,t){if(0!==t.length)if(512<t.length)0<i&&(e.enqueue(new Uint8Array(r.buffer,0,i)),r=new Uint8Array(512),i=0),e.enqueue(t);else{var n=r.length-i;n<t.length&&(0===n?e.enqueue(r):(r.set(t.subarray(0,n),i),e.enqueue(r),t=t.subarray(n)),r=new Uint8Array(512),i=0),r.set(t,i),i+=t.length}}function o(e,t){return a(e,t),!0}function s(e){r&&0<i&&(e.enqueue(new Uint8Array(r.buffer,0,i)),r=null,i=0)}var u=new TextEncoder;function l(e){return u.encode(e)}function c(e){return u.encode(e)}function f(e,t){"function"==typeof e.error?e.error(t):e.close()}var d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},v={};function m(e){return!!d.call(v,e)||!d.call(h,e)&&(p.test(e)?v[e]=!0:(h[e]=!0,!1))}function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,w);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","ms","Moz","O"];Object.keys(x).forEach((function(e){_.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),x[t]=x[e]}))}));var S=/["'&<>]/;function k(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=S.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var E=/([A-Z])/g,C=/^ms-/,M=Array.isArray,T=c("<script>"),P=c("<\/script>"),A=c('<script src="'),D=c('<script type="module" src="'),I=c('" async=""><\/script>'),R=/(<\/|<)(s)(cript)/gi;function O(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function L(e,t){return{insertionMode:e,selectedValue:t}}var N=c("\x3c!-- --\x3e");function z(e,t,n,r){return""===t?r:(r&&e.push(N),e.push(l(k(t))),!0)}var F=new Map,j=c(' style="'),B=c(":"),U=c(";");function Z(e,t,r){if("object"!=typeof r)throw Error(n(62));for(var i in t=!0,r)if(d.call(r,i)){var a=r[i];if(null!=a&&"boolean"!=typeof a&&""!==a){if(0===i.indexOf("--")){var o=l(k(i));a=l(k((""+a).trim()))}else{o=i;var s=F.get(o);void 0!==s||(s=c(k(o.replace(E,"-$1").toLowerCase().replace(C,"-ms-"))),F.set(o,s)),o=s,a="number"==typeof a?0===a||d.call(x,i)?l(""+a):l(a+"px"):l(k((""+a).trim()))}t?(t=!1,e.push(j,o,B,a)):e.push(U,o,B,a)}}t||e.push(W)}var V=c(" "),H=c('="'),W=c('"'),G=c('=""');function q(e,t,n,r){switch(n){case"style":return void Z(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=y.hasOwnProperty(n)?y[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=l(t.attributeName),t.type){case 3:r&&e.push(V,n,G);break;case 4:!0===r?e.push(V,n,G):!1!==r&&e.push(V,n,H,l(k(r)),W);break;case 5:isNaN(r)||e.push(V,n,H,l(k(r)),W);break;case 6:!isNaN(r)&&1<=r&&e.push(V,n,H,l(k(r)),W);break;default:t.sanitizeURL&&(r=""+r),e.push(V,n,H,l(k(r)),W)}}else if(m(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(V,l(n),H,l(k(r)),W)}}var X=c(">"),K=c("/>");function Y(e,t,r){if(null!=t){if(null!=r)throw Error(n(60));if("object"!=typeof t||!("__html"in t))throw Error(n(61));null!=(t=t.__html)&&e.push(l(""+t))}}var Q=c(' selected=""');function $(e,t,n,r){e.push(re(n));var i,a=n=null;for(i in t)if(d.call(t,i)){var o=t[i];if(null!=o)switch(i){case"children":n=o;break;case"dangerouslySetInnerHTML":a=o;break;default:q(e,r,i,o)}}return e.push(X),Y(e,a,n),"string"==typeof n?(e.push(l(k(n))),null):n}var J=c("\n"),ee=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ne=new Map;function re(e){var t=ne.get(e);if(void 0===t){if(!ee.test(e))throw Error(n(65,e));t=c("<"+e),ne.set(e,t)}return t}var ie=c("<!DOCTYPE html>");function ae(e,r,i,a,o){switch(r){case"select":e.push(re("select"));var s=null,u=null;for(h in i)if(d.call(i,h)){var c=i[h];if(null!=c)switch(h){case"children":s=c;break;case"dangerouslySetInnerHTML":u=c;break;case"defaultValue":case"value":break;default:q(e,a,h,c)}}return e.push(X),Y(e,u,s),s;case"option":u=o.selectedValue,e.push(re("option"));var f=c=null,p=null,h=null;for(s in i)if(d.call(i,s)){var v=i[s];if(null!=v)switch(s){case"children":c=v;break;case"selected":p=v;break;case"dangerouslySetInnerHTML":h=v;break;case"value":f=v;default:q(e,a,s,v)}}if(null!=u)if(i=null!==f?""+f:function(e){var n="";return t.Children.forEach(e,(function(e){null!=e&&(n+=e)})),n}(c),M(u)){for(a=0;a<u.length;a++)if(""+u[a]===i){e.push(Q);break}}else""+u===i&&e.push(Q);else p&&e.push(Q);return e.push(X),Y(e,h,c),c;case"textarea":for(c in e.push(re("textarea")),h=u=s=null,i)if(d.call(i,c)&&null!=(f=i[c]))switch(c){case"children":h=f;break;case"value":s=f;break;case"defaultValue":u=f;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:q(e,a,c,f)}if(null===s&&null!==u&&(s=u),e.push(X),null!=h){if(null!=s)throw Error(n(92));if(M(h)&&1<h.length)throw Error(n(93));s=""+h}return"string"==typeof s&&"\n"===s[0]&&e.push(J),null!==s&&e.push(l(k(""+s))),null;case"input":for(u in e.push(re("input")),f=h=c=s=null,i)if(d.call(i,u)&&null!=(p=i[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"defaultChecked":f=p;break;case"defaultValue":c=p;break;case"checked":h=p;break;case"value":s=p;break;default:q(e,a,u,p)}return null!==h?q(e,a,"checked",h):null!==f&&q(e,a,"checked",f),null!==s?q(e,a,"value",s):null!==c&&q(e,a,"value",c),e.push(K),null;case"menuitem":for(var g in e.push(re("menuitem")),i)if(d.call(i,g)&&null!=(s=i[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:q(e,a,g,s)}return e.push(X),null;case"title":for(v in e.push(re("title")),s=null,i)if(d.call(i,v)&&null!=(u=i[v]))switch(v){case"children":s=u;break;case"dangerouslySetInnerHTML":throw Error(n(434));default:q(e,a,v,u)}return e.push(X),s;case"listing":case"pre":for(f in e.push(re(r)),u=s=null,i)if(d.call(i,f)&&null!=(c=i[f]))switch(f){case"children":s=c;break;case"dangerouslySetInnerHTML":u=c;break;default:q(e,a,f,c)}if(e.push(X),null!=u){if(null!=s)throw Error(n(60));if("object"!=typeof u||!("__html"in u))throw Error(n(61));null!=(i=u.__html)&&("string"==typeof i&&0<i.length&&"\n"===i[0]?e.push(J,l(i)):e.push(l(""+i)))}return"string"==typeof s&&"\n"===s[0]&&e.push(J),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in e.push(re(r)),i)if(d.call(i,y)&&null!=(s=i[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,r));default:q(e,a,y,s)}return e.push(K),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return $(e,i,r,a);case"html":return 0===o.insertionMode&&e.push(ie),$(e,i,r,a);default:if(-1===r.indexOf("-")&&"string"!=typeof i.is)return $(e,i,r,a);for(p in e.push(re(r)),u=s=null,i)if(d.call(i,p)&&null!=(c=i[p]))switch(p){case"children":s=c;break;case"dangerouslySetInnerHTML":u=c;break;case"style":Z(e,a,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:m(p)&&"function"!=typeof c&&"symbol"!=typeof c&&e.push(V,l(p),H,l(k(c)),W)}return e.push(X),Y(e,u,s),s}}var oe=c("</"),se=c(">"),ue=c('<template id="'),le=c('"></template>'),ce=c("\x3c!--$--\x3e"),fe=c('\x3c!--$?--\x3e<template id="'),de=c('"></template>'),pe=c("\x3c!--$!--\x3e"),he=c("\x3c!--/$--\x3e"),ve=c("<template"),me=c('"'),ge=c(' data-dgst="');c(' data-msg="'),c(' data-stck="');var ye=c("></template>");function be(e,t,r){if(a(e,fe),null===r)throw Error(n(395));return a(e,r),o(e,de)}var we=c('<div hidden id="'),xe=c('">'),_e=c("</div>"),Se=c('<svg aria-hidden="true" style="display:none" id="'),ke=c('">'),Ee=c("</svg>"),Ce=c('<math aria-hidden="true" style="display:none" id="'),Me=c('">'),Te=c("</math>"),Pe=c('<table hidden id="'),Ae=c('">'),De=c("</table>"),Ie=c('<table hidden><tbody id="'),Re=c('">'),Oe=c("</tbody></table>"),Le=c('<table hidden><tr id="'),Ne=c('">'),ze=c("</tr></table>"),Fe=c('<table hidden><colgroup id="'),je=c('">'),Be=c("</colgroup></table>");var Ue=c('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Ze=c('$RS("'),Ve=c('","'),He=c('")<\/script>'),We=c('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Ge=c('$RC("'),qe=c('","'),Xe=c('")<\/script>'),Ke=c('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Ye=c('$RX("'),Qe=c('"'),$e=c(")<\/script>"),Je=c(","),et=/[<\u2028\u2029]/g;function tt(e){return JSON.stringify(e).replace(et,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var nt=Object.assign,rt=Symbol.for("react.element"),it=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),ot=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),lt=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),vt=Symbol.for("react.scope"),mt=Symbol.for("react.debug_trace_mode"),gt=Symbol.for("react.legacy_hidden"),yt=Symbol.for("react.default_value"),bt=Symbol.iterator;function wt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case at:return"Fragment";case it:return"Portal";case st:return"Profiler";case ot:return"StrictMode";case ft:return"Suspense";case dt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case lt:return(e.displayName||"Context")+".Consumer";case ut:return(e._context.displayName||"Context")+".Provider";case ct:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case pt:return null!==(t=e.displayName||null)?t:wt(e.type)||"Memo";case ht:t=e._payload,e=e._init;try{return wt(e(t))}catch(n){}}return null}var xt={};function _t(e,t){if(!(e=e.contextTypes))return xt;var n,r={};for(n in e)r[n]=t[n];return r}var St=null;function kt(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error(n(401))}else{if(null===r)throw Error(n(401));kt(e,r)}t.context._currentValue=t.value}}function Et(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Et(e)}function Ct(e){var t=e.parent;null!==t&&Ct(t),e.context._currentValue=e.value}function Mt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?kt(e,t):Mt(e,t)}function Tt(e,t){var r=t.parent;if(null===r)throw Error(n(402));e.depth===r.depth?kt(e,r):Tt(e,r),t.context._currentValue=t.value}function Pt(e){var t=St;t!==e&&(null===t?Ct(e):null===e?Et(t):t.depth===e.depth?kt(t,e):t.depth>e.depth?Mt(t,e):Tt(t,e),St=e)}var At={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Dt(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=At,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context="object"==typeof o&&null!==o?o._currentValue:r,"function"==typeof(o=t.getDerivedStateFromProps)&&(i=null==(o=o(n,i))?i:nt({},i,o),e.state=i),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&At.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&1===t.length)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"==typeof s?s.call(e,a,n,r):s)&&(i?(i=!1,a=nt({},a,s)):nt(a,s))}e.state=a}else a.queue=null}var It={id:1,overflow:""};function Rt(e,t,n){var r=e.id;e=e.overflow;var i=32-Ot(r)-1;r&=~(1<<i),n+=1;var a=32-Ot(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-Ot(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var Ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Lt(e)/Nt|0)|0},Lt=Math.log,Nt=Math.LN2;var zt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ft=null,jt=null,Bt=null,Ut=null,Zt=!1,Vt=!1,Ht=0,Wt=null,Gt=0;function qt(){if(null===Ft)throw Error(n(321));return Ft}function Xt(){if(0<Gt)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Kt(){return null===Ut?null===Bt?(Zt=!1,Bt=Ut=Xt()):(Zt=!0,Ut=Bt):null===Ut.next?(Zt=!1,Ut=Ut.next=Xt()):(Zt=!0,Ut=Ut.next),Ut}function Yt(){jt=Ft=null,Vt=!1,Bt=null,Gt=0,Ut=Wt=null}function Qt(e,t){return"function"==typeof t?t(e):t}function $t(e,t,n){if(Ft=qt(),Ut=Kt(),Zt){var r=Ut.queue;if(t=r.dispatch,null!==Wt&&void 0!==(n=Wt.get(r))){Wt.delete(r),r=Ut.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Ut.memoizedState=r,[r,t]}return[Ut.memoizedState,t]}return e=e===Qt?"function"==typeof t?t():t:void 0!==n?n(t):t,Ut.memoizedState=e,e=(e=Ut.queue={last:null,dispatch:null}).dispatch=en.bind(null,Ft,e),[Ut.memoizedState,e]}function Jt(e,t){if(Ft=qt(),t=void 0===t?null:t,null!==(Ut=Kt())){var n=Ut.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!zt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Ut.memoizedState=[e,t],e}function en(e,t,r){if(25<=Gt)throw Error(n(301));if(e===Ft)if(Vt=!0,e={action:r,next:null},null===Wt&&(Wt=new Map),void 0===(r=Wt.get(t)))Wt.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function tn(){throw Error(n(394))}function nn(){}var rn={readContext:function(e){return e._currentValue},useContext:function(e){return qt(),e._currentValue},useMemo:Jt,useReducer:$t,useRef:function(e){Ft=qt();var t=(Ut=Kt()).memoizedState;return null===t?(e={current:e},Ut.memoizedState=e):t},useState:function(e){return $t(Qt,e)},useInsertionEffect:nn,useLayoutEffect:function(){},useCallback:function(e,t){return Jt((function(){return e}),t)},useImperativeHandle:nn,useEffect:nn,useDebugValue:nn,useDeferredValue:function(e){return qt(),e},useTransition:function(){return qt(),[!1,tn]},useId:function(){var e=jt.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Ot(e)-1)).toString(32)+t;var r=an;if(null===r)throw Error(n(404));return t=Ht++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return qt(),t(e._source)},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error(n(407));return r()}},an=null,on=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function sn(e){return console.error(e),null}function un(){}function ln(e,t,n,r,i,a,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var u={node:t,ping:function(){var t=e.pingedTasks;t.push(u),1===t.length&&kn(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(u),u}function cn(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function fn(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function dn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,f(e.destination,t)):(e.status=1,e.fatalError=t)}function pn(e,t,n,r,i){for(Ft={},jt=t,Ht=0,e=n(r,i);Vt;)Vt=!1,Ht=0,Gt+=1,Ut=null,e=n(r,i);return Yt(),e}function hn(e,t,r,i){var a=r.render(),o=i.childContextTypes;if(null!=o){var s=t.legacyContext;if("function"!=typeof r.getChildContext)i=s;else{for(var u in r=r.getChildContext())if(!(u in o))throw Error(n(108,wt(i)||"Unknown",u));i=nt({},s,r)}t.legacyContext=i,gn(e,t,a),t.legacyContext=s}else gn(e,t,a)}function vn(e,t){if(e&&e.defaultProps){for(var n in t=nt({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function mn(e,t,r,i,a){if("function"==typeof r)if(r.prototype&&r.prototype.isReactComponent){a=_t(r,t.legacyContext);var o=r.contextType;Dt(o=new r(i,"object"==typeof o&&null!==o?o._currentValue:a),r,i,a),hn(e,t,o,r)}else{a=pn(e,t,r,i,o=_t(r,t.legacyContext));var s=0!==Ht;if("object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof)Dt(a,r,i,o),hn(e,t,a,r);else if(s){i=t.treeContext,t.treeContext=Rt(i,1,0);try{gn(e,t,a)}finally{t.treeContext=i}}else gn(e,t,a)}else{if("string"!=typeof r){switch(r){case gt:case mt:case ot:case st:case at:case dt:return void gn(e,t,i.children);case vt:throw Error(n(343));case ft:e:{r=t.blockedBoundary,a=t.blockedSegment,o=i.fallback,i=i.children;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},c=cn(0,a.chunks.length,u,a.formatContext,!1,!1);a.children.push(c),a.lastPushedText=!1;var f=cn(0,0,null,a.formatContext,!1,!1);f.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=f;try{if(bn(e,t,i),f.lastPushedText&&f.textEmbedded&&f.chunks.push(N),f.status=1,_n(u,f),0===u.pendingTasks)break e}catch(d){f.status=4,u.forceClientRender=!0,u.errorDigest=fn(e,d)}finally{t.blockedBoundary=r,t.blockedSegment=a}t=ln(e,o,r,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"==typeof r&&null!==r)switch(r.$$typeof){case ct:if(i=pn(e,t,r.render,i,a),0!==Ht){r=t.treeContext,t.treeContext=Rt(r,1,0);try{gn(e,t,i)}finally{t.treeContext=r}}else gn(e,t,i);return;case pt:return void mn(e,t,r=r.type,i=vn(r,i),a);case ut:if(a=i.children,r=r._context,i=i.value,o=r._currentValue,r._currentValue=i,St=i={parent:s=St,depth:null===s?0:s.depth+1,context:r,parentValue:o,value:i},t.context=i,gn(e,t,a),null===(e=St))throw Error(n(403));return i=e.parentValue,e.context._currentValue=i===yt?e.context._defaultValue:i,e=St=e.parent,void(t.context=e);case lt:return void gn(e,t,i=(i=i.children)(r._currentValue));case ht:return void mn(e,t,r=(a=r._init)(r._payload),i=vn(r,i),void 0)}throw Error(n(130,null==r?r:typeof r,""))}switch(o=ae((a=t.blockedSegment).chunks,r,i,e.responseState,a.formatContext),a.lastPushedText=!1,s=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return L(1,null!=n.value?n.value:n.defaultValue);case"svg":return L(2,null);case"math":return L(3,null);case"foreignObject":return L(1,null);case"table":return L(4,null);case"thead":case"tbody":case"tfoot":return L(5,null);case"colgroup":return L(7,null);case"tr":return L(6,null)}return 4<=e.insertionMode||0===e.insertionMode?L(1,null):e}(s,r,i),bn(e,t,o),a.formatContext=s,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push(oe,l(r),se)}a.lastPushedText=!1}}function gn(e,t,r){if(t.node=r,"object"==typeof r&&null!==r){switch(r.$$typeof){case rt:return void mn(e,t,r.type,r.props,r.ref);case it:throw Error(n(257));case ht:var i=r._init;return void gn(e,t,r=i(r._payload))}if(M(r))return void yn(e,t,r);if(null===r||"object"!=typeof r?i=null:i="function"==typeof(i=bt&&r[bt]||r["@@iterator"])?i:null,i&&(i=i.call(r))){if(!(r=i.next()).done){var a=[];do{a.push(r.value),r=i.next()}while(!r.done);yn(e,t,a)}return}throw e=Object.prototype.toString.call(r),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}"string"==typeof r?(i=t.blockedSegment).lastPushedText=z(t.blockedSegment.chunks,r,e.responseState,i.lastPushedText):"number"==typeof r&&((i=t.blockedSegment).lastPushedText=z(t.blockedSegment.chunks,""+r,e.responseState,i.lastPushedText))}function yn(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=Rt(a,r,i);try{bn(e,t,n[i])}finally{t.treeContext=a}}}function bn(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return gn(e,t,n)}catch(u){if(Yt(),"object"!=typeof u||null===u||"function"!=typeof u.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Pt(a),u;n=u;var o=t.blockedSegment,s=cn(0,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=ln(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Pt(a)}}function wn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Sn(this,t,e)}function xn(e,t,r){var i=e.blockedBoundary;e.blockedSegment.status=3,null===i?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=void 0===r?Error(n(432)):r,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach((function(e){return xn(e,t,r)})),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(i=t.onAllReady)())}function _n(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&_n(e,n)}else e.completedSegments.push(t)}function Sn(e,t,r){if(null===t){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=un,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(r.parentFlushed&&1===r.status&&_n(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(wn,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(_n(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function kn(e){if(2!==e.status){var t=St,n=on.current;on.current=rn;var r=an;an=e.responseState;try{var i,a=e.pingedTasks;for(i=0;i<a.length;i++){var o=a[i],s=e,u=o.blockedSegment;if(0===u.status){Pt(o.context);try{gn(s,o,o.node),u.lastPushedText&&u.textEmbedded&&u.chunks.push(N),o.abortSet.delete(o),u.status=1,Sn(s,o.blockedBoundary,u)}catch(p){if(Yt(),"object"==typeof p&&null!==p&&"function"==typeof p.then){var l=o.ping;p.then(l,l)}else{o.abortSet.delete(o),u.status=4;var c=o.blockedBoundary,f=p,d=fn(s,f);if(null===c?dn(s,f):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=d,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}a.splice(0,i),null!==e.destination&&An(e,e.destination)}catch(p){fn(e,p),dn(e,p)}finally{an=r,on.current=n,n===rn&&Pt(t)}}}function En(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var i=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,a(t,ue),a(t,e.placeholderPrefix),a(t,e=l(i.toString(16))),o(t,le);case 1:r.status=2;var s=!0;i=r.chunks;var u=0;r=r.children;for(var c=0;c<r.length;c++){for(s=r[c];u<s.index;u++)a(t,i[u]);s=Cn(e,t,s)}for(;u<i.length-1;u++)a(t,i[u]);return u<i.length&&(s=o(t,i[u])),s;default:throw Error(n(390))}}function Cn(e,t,r){var i=r.boundary;if(null===i)return En(e,t,r);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,o(t,pe),a(t,ve),i&&(a(t,ge),a(t,l(k(i))),a(t,me)),o(t,ye),En(e,t,r);else if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var s=e.responseState,u=s.nextSuspenseID++;s=c(s.boundaryPrefix+u.toString(16)),i=i.id=s,be(t,e.responseState,i),En(e,t,r)}else if(i.byteSize>e.progressiveChunkSize)i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),be(t,e.responseState,i.id),En(e,t,r);else{if(o(t,ce),1!==(r=i.completedSegments).length)throw Error(n(391));Cn(e,t,r[0])}return o(t,he)}function Mn(e,t,r){return function(e,t,r,i){switch(r.insertionMode){case 0:case 1:return a(e,we),a(e,t.segmentPrefix),a(e,l(i.toString(16))),o(e,xe);case 2:return a(e,Se),a(e,t.segmentPrefix),a(e,l(i.toString(16))),o(e,ke);case 3:return a(e,Ce),a(e,t.segmentPrefix),a(e,l(i.toString(16))),o(e,Me);case 4:return a(e,Pe),a(e,t.segmentPrefix),a(e,l(i.toString(16))),o(e,Ae);case 5:return a(e,Ie),a(e,t.segmentPrefix),a(e,l(i.toString(16))),o(e,Re);case 6:return a(e,Le),a(e,t.segmentPrefix),a(e,l(i.toString(16))),o(e,Ne);case 7:return a(e,Fe),a(e,t.segmentPrefix),a(e,l(i.toString(16))),o(e,je);default:throw Error(n(397))}}(t,e.responseState,r.formatContext,r.id),Cn(e,t,r),function(e,t){switch(t.insertionMode){case 0:case 1:return o(e,_e);case 2:return o(e,Ee);case 3:return o(e,Te);case 4:return o(e,De);case 5:return o(e,Oe);case 6:return o(e,ze);case 7:return o(e,Be);default:throw Error(n(397))}}(t,r.formatContext)}function Tn(e,t,r){for(var i=r.completedSegments,s=0;s<i.length;s++)Pn(e,t,r,i[s]);if(i.length=0,e=e.responseState,i=r.id,r=r.rootSegmentID,a(t,e.startInlineScript),e.sentCompleteBoundaryFunction?a(t,Ge):(e.sentCompleteBoundaryFunction=!0,a(t,We)),null===i)throw Error(n(395));return r=l(r.toString(16)),a(t,i),a(t,qe),a(t,e.segmentPrefix),a(t,r),o(t,Xe)}function Pn(e,t,r,i){if(2===i.status)return!0;var s=i.id;if(-1===s){if(-1===(i.id=r.rootSegmentID))throw Error(n(392));return Mn(e,t,i)}return Mn(e,t,i),a(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?a(t,Ze):(e.sentCompleteSegmentFunction=!0,a(t,Ue)),a(t,e.segmentPrefix),a(t,s=l(s.toString(16))),a(t,Ve),a(t,e.placeholderPrefix),a(t,s),o(t,He)}function An(e,t){r=new Uint8Array(512),i=0;try{var u=e.completedRootSegment;if(null!==u&&0===e.pendingRootTasks){Cn(e,t,u),e.completedRootSegment=null;var c=e.responseState.bootstrapChunks;for(u=0;u<c.length-1;u++)a(t,c[u]);u<c.length&&o(t,c[u])}var f,d=e.clientRenderedBoundaries;for(f=0;f<d.length;f++){var p=d[f];c=t;var h=e.responseState,v=p.id,m=p.errorDigest,g=p.errorMessage,y=p.errorComponentStack;if(a(c,h.startInlineScript),h.sentClientRenderFunction?a(c,Ye):(h.sentClientRenderFunction=!0,a(c,Ke)),null===v)throw Error(n(395));if(a(c,v),a(c,Qe),(m||g||y)&&(a(c,Je),a(c,l(tt(m||"")))),(g||y)&&(a(c,Je),a(c,l(tt(g||"")))),y&&(a(c,Je),a(c,l(tt(y)))),!o(c,$e))return e.destination=null,f++,void d.splice(0,f)}d.splice(0,f);var b=e.completedBoundaries;for(f=0;f<b.length;f++)if(!Tn(e,t,b[f]))return e.destination=null,f++,void b.splice(0,f);b.splice(0,f),s(t),r=new Uint8Array(512),i=0;var w=e.partialBoundaries;for(f=0;f<w.length;f++){var x=w[f];e:{d=e,p=t;var _=x.completedSegments;for(h=0;h<_.length;h++)if(!Pn(d,p,x,_[h])){h++,_.splice(0,h);var S=!1;break e}_.splice(0,h),S=!0}if(!S)return e.destination=null,f++,void w.splice(0,f)}w.splice(0,f);var k=e.completedBoundaries;for(f=0;f<k.length;f++)if(!Tn(e,t,k[f]))return e.destination=null,f++,void k.splice(0,f);k.splice(0,f)}finally{s(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function Dn(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return xn(n,e,t)})),n.clear(),null!==e.destination&&An(e,e.destination)}catch(r){fn(e,r),dn(e,r)}}e.renderToReadableStream=function(e,t){return new Promise((function(n,r){var i,a,o=new Promise((function(e,t){a=e,i=t})),s=function(e,t,n,r,i,a,o,s,u){var l=[],c=new Set;return(n=cn(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?sn:i,onAllReady:void 0===a?un:a,onShellReady:void 0===o?un:o,onShellError:void 0===s?un:s,onFatalError:void 0===u?un:u},0,null,n,!1,!1)).parentFlushed=!0,e=ln(t,e,null,n,c,xt,null,It),l.push(e),t}(e,function(e,t,n,r,i){e=void 0===e?"":e,t=void 0===t?T:c('<script nonce="'+k(t)+'">');var a=[];if(void 0!==n&&a.push(t,l((""+n).replace(R,O)),P),void 0!==r)for(n=0;n<r.length;n++)a.push(A,l(k(r[n])),I);if(void 0!==i)for(r=0;r<i.length;r++)a.push(D,l(k(i[r])),I);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:c(e+"P:"),segmentPrefix:c(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return L("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,f(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{An(s,e)}catch(t){fn(s,t),dn(s,t)}}},cancel:function(){Dn(s)}},{highWaterMark:0});e.allReady=o,n(e)}),(function(e){o.catch((function(){})),r(e)}),i);if(t&&t.signal){var u=t.signal;u.addEventListener("abort",(function e(){Dn(s,u.reason),u.removeEventListener("abort",e)}))}kn(s)}))},e.version="18.2.0"}}),de=Y({"../../node_modules/react-dom/server.browser.js":function(e){var t,n;t=ce(),n=fe(),e.version=t.version,e.renderToString=t.renderToString,e.renderToStaticMarkup=t.renderToStaticMarkup,e.renderToNodeStream=t.renderToNodeStream,e.renderToStaticNodeStream=t.renderToStaticNodeStream,e.renderToReadableStream=n.renderToReadableStream}}),pe=Y({"../../node_modules/react-is/cjs/react-is.production.min.js":function(e){var t,n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,l=60112,c=60113,f=60120,d=60115,p=60116,h=60121,v=60122,m=60117,g=60129,y=60131;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case p:case d:case s:return e;default:return t}}case r:return t}}}"function"==typeof Symbol&&Symbol.for&&(t=Symbol.for,n=t("react.element"),r=t("react.portal"),i=t("react.fragment"),a=t("react.strict_mode"),o=t("react.profiler"),s=t("react.provider"),u=t("react.context"),l=t("react.forward_ref"),c=t("react.suspense"),f=t("react.suspense_list"),d=t("react.memo"),p=t("react.lazy"),h=t("react.block"),v=t("react.server.block"),m=t("react.fundamental"),g=t("react.debug_trace_mode"),y=t("react.legacy_hidden"));var w=s,x=n,_=l,S=i,k=p,E=d,C=r,M=o,T=a,P=c;e.ContextConsumer=u,e.ContextProvider=w,e.Element=x,e.ForwardRef=_,e.Fragment=S,e.Lazy=k,e.Memo=E,e.Portal=C,e.Profiler=M,e.StrictMode=T,e.Suspense=P,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(e){return b(e)===u},e.isContextProvider=function(e){return b(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return b(e)===l},e.isFragment=function(e){return b(e)===i},e.isLazy=function(e){return b(e)===p},e.isMemo=function(e){return b(e)===d},e.isPortal=function(e){return b(e)===r},e.isProfiler=function(e){return b(e)===o},e.isStrictMode=function(e){return b(e)===a},e.isSuspense=function(e){return b(e)===c},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===o||e===g||e===a||e===c||e===f||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===s||e.$$typeof===u||e.$$typeof===l||e.$$typeof===m||e.$$typeof===h||e[0]===v)},e.typeOf=b}}),he=Y({"../../node_modules/react-is/index.js":function(e,t){t.exports=pe()}}),ve=Y({"../../node_modules/shallowequal/index.js":function(e,t){t.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var l=a[u];if(!s(l))return!1;var c=e[l],f=t[l];if(!1===(i=n?n.call(r,c,f,l):void 0)||void 0===i&&c!==f)return!1}return!0}}});function me(e){function t(e,r,u,l,d){for(var p,h,v,m,w,_=0,S=0,k=0,E=0,C=0,I=0,O=v=p=0,N=0,z=0,F=0,j=0,B=u.length,U=B-1,Z="",V="",H="",W="";N<B;){if(h=u.charCodeAt(N),N===U&&S+E+k+_!==0&&(0!==S&&(h=47===S?10:47),E=k=_=0,B++,U++),S+E+k+_===0){if(N===U&&(0<z&&(Z=Z.replace(f,"")),0<Z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:Z+=u.charAt(N)}h=59}switch(h){case 123:for(p=(Z=Z.trim()).charCodeAt(0),v=1,j=++N;N<B;){switch(h=u.charCodeAt(N)){case 123:v++;break;case 125:v--;break;case 47:switch(h=u.charCodeAt(N+1)){case 42:case 47:e:{for(O=N+1;O<U;++O)switch(u.charCodeAt(O)){case 47:if(42===h&&42===u.charCodeAt(O-1)&&N+2!==O){N=O+1;break e}break;case 10:if(47===h){N=O+1;break e}}N=O}}break;case 91:h++;case 40:h++;case 34:case 39:for(;N++<U&&u.charCodeAt(N)!==h;);}if(0===v)break;N++}if(64===(v=u.substring(j,N),0===p&&(p=(Z=Z.replace(c,"").trim()).charCodeAt(0)),p)){switch(0<z&&(Z=Z.replace(f,"")),h=Z.charCodeAt(1)){case 100:case 109:case 115:case 45:z=r;break;default:z=D}if(j=(v=t(r,z,v,h,d+1)).length,0<R&&(w=s(3,v,z=n(D,Z,F),r,T,M,j,h,d,l),Z=z.join(""),void 0!==w&&0===(j=(v=w.trim()).length)&&(h=0,v="")),0<j)switch(h){case 115:Z=Z.replace(x,o);case 100:case 109:case 45:v=Z+"{"+v+"}";break;case 107:v=(Z=Z.replace(g,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=Z+v,112===l&&(V+=v,v="")}else v=""}else v=t(r,n(r,Z,F),v,l,d+1);H+=v,v=F=z=O=p=0,Z="",h=u.charCodeAt(++N);break;case 125:case 59:if(1<(j=(Z=(0<z?Z.replace(f,""):Z).trim()).length))switch(0===O&&(p=Z.charCodeAt(0),45===p||96<p&&123>p)&&(j=(Z=Z.replace(" ",":")).length),0<R&&void 0!==(w=s(1,Z,r,e,T,M,V.length,l,d,l))&&0===(j=(Z=w.trim()).length)&&(Z="\0\0"),p=Z.charCodeAt(0),h=Z.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){W+=Z+u.charAt(N);break}default:58!==Z.charCodeAt(j-1)&&(V+=i(Z,p,h,Z.charCodeAt(2)))}F=z=O=p=0,Z="",h=u.charCodeAt(++N)}}switch(h){case 13:case 10:47===S?S=0:1+p===0&&107!==l&&0<Z.length&&(z=1,Z+="\0"),0<R*L&&s(0,Z,r,e,T,M,V.length,l,d,l),M=1,T++;break;case 59:case 125:if(S+E+k+_===0){M++;break}default:switch(M++,m=u.charAt(N),h){case 9:case 32:if(E+_+S===0)switch(C){case 44:case 58:case 9:case 32:m="";break;default:32!==h&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:E+S+_===0&&(z=F=1,m="\f"+m);break;case 108:if(E+S+_+P===0&&0<O)switch(N-O){case 2:112===C&&58===u.charCodeAt(N-3)&&(P=C);case 8:111===I&&(P=I)}break;case 58:E+S+_===0&&(O=N);break;case 44:S+k+E+_===0&&(z=1,m+="\r");break;case 34:case 39:0===S&&(E=E===h?0:0===E?h:E);break;case 91:E+S+k===0&&_++;break;case 93:E+S+k===0&&_--;break;case 41:E+S+_===0&&k--;break;case 40:if(E+S+_===0){if(0===p)if(2*C+3*I===533);else p=1;k++}break;case 64:S+k+E+_+O+v===0&&(v=1);break;case 42:case 47:if(!(0<E+_+k))switch(S){case 0:switch(2*h+3*u.charCodeAt(N+1)){case 235:S=47;break;case 220:j=N,S=42}break;case 42:47===h&&42===C&&j+2!==N&&(33===u.charCodeAt(j+2)&&(V+=u.substring(j,N+1)),m="",S=0)}}0===S&&(Z+=m)}I=C,C=h,N++}if(0<(j=V.length)){if(z=r,0<R&&(void 0!==(w=s(2,V,z,e,T,M,j,l,d,l))&&0===(V=w).length))return W+V+H;if(V=z.join(",")+"{"+V+"}",A*P!==0){switch(2!==A||a(V,2)||(P=0),P){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}P=0}}return W+V+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var l=0;l<o;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===A||2===A&&a(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return p.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(w,"tb");break;case 232:u=o.replace(w,"tb-rl");break;case 220:u=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,n+r===211&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(k,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,c){for(var f,d=0,p=t;d<R;++d)switch(f=I[d].call(l,e,p,n,r,i,a,o,s,u,c)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function u(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!=typeof e?A=1:(A=2,O=e):A=0),u}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,T,M,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var a=t(D,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,a,r,r,T,M,a.length,0,0,0))&&(a=i)),"",P=0,M=T=1,a}var c=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,M=1,T=1,P=0,A=1,D=[],I=[],R=0,O=null,L=0;return l.use=function e(t){switch(t){case void 0:case null:R=I.length=0;break;default:if("function"==typeof t)I[R++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},l.set=u,void 0!==e&&u(e),l}var ge,ye,be=K({"../../node_modules/@emotion/stylis/dist/stylis.browser.esm.js":function(){ge=me}}),we=K({"../../node_modules/@emotion/unitless/dist/unitless.browser.esm.js":function(){ye={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}}}),xe=Y({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.prod.js":function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}}}),_e=Y({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.js":function(e,t){t.exports=xe()}}),Se=Y({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.prod.js":function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=_e();function n(e){return e&&e.__esModule?e:{default:e}}var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=n(t).default((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));e.default=i}}),ke=Y({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.js":function(e,t){t.exports=Se()}}),Ee=Y({"../../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js":function(e){var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,m=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case c:case i:case o:case a:case d:return e;default:switch(e=e&&e.$$typeof){case u:case f:case v:case h:case s:return e;default:return t}}case r:return t}}}function x(e){return w(e)===c}e.AsyncMode=l,e.ConcurrentMode=c,e.ContextConsumer=u,e.ContextProvider=s,e.Element=n,e.ForwardRef=f,e.Fragment=i,e.Lazy=v,e.Memo=h,e.Portal=r,e.Profiler=o,e.StrictMode=a,e.Suspense=d,e.isAsyncMode=function(e){return x(e)||w(e)===l},e.isConcurrentMode=x,e.isContextConsumer=function(e){return w(e)===u},e.isContextProvider=function(e){return w(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return w(e)===f},e.isFragment=function(e){return w(e)===i},e.isLazy=function(e){return w(e)===v},e.isMemo=function(e){return w(e)===h},e.isPortal=function(e){return w(e)===r},e.isProfiler=function(e){return w(e)===o},e.isStrictMode=function(e){return w(e)===a},e.isSuspense=function(e){return w(e)===d},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===o||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===f||e.$$typeof===g||e.$$typeof===y||e.$$typeof===b||e.$$typeof===m)},e.typeOf=w}}),Ce=Y({"../../node_modules/hoist-non-react-statics/node_modules/react-is/index.js":function(e,t){t.exports=Ee()}}),Me=Y({"../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":function(e,t){var n=Ce(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return n.isMemo(e)?a:o[e.$$typeof]||r}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function e(t,n,r){if("string"!=typeof n){if(p){var a=d(n);a&&a!==p&&e(t,a,r)}var o=l(n);c&&(o=o.concat(c(n)));for(var h=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!i[g]&&(!r||!r[g])&&(!v||!v[g])&&(!h||!h[g])){var y=f(n,g);try{u(t,g,y)}catch(b){}}}}return t}}}),Te={};function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ae(e){return"function"==typeof e}function De(e){return e.displayName||e.name||"Component"}function Ie(e){return e&&"string"==typeof e.styledComponentId}function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function Oe(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Dt(t%52)+n;return(Dt(t%52)+n).replace(At,"$1-$2")}function Le(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ae(n)&&!Ie(n))return!1}return!0}function Ne(e){var t,n,r,i,a=void 0===e?at:e,o=a.options,s=void 0===o?at:o,u=a.plugins,l=void 0===u?it:u,c=new ge(s),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,r,i,a,o,s,u,l,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,a){return 0===r&&-1!==zt.indexOf(a[n.length])||a.match(i)?e:"."+t};function h(e,a,o,s){void 0===s&&(s="&");var u=e.replace(Nt,""),l=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(o||!a?"":a,l)}return c.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),h.hash=l.length?l.reduce((function(e,t){return t.name||Re(15),It(e,t.name)}),5381).toString():"",h}function ze(){return(0,$e.useContext)(Ft)||Ut}function Fe(){return(0,$e.useContext)(Bt)||Zt}function je(e){var t=(0,$e.useState)(e.stylisPlugins),n=t[0],r=t[1],i=ze(),a=(0,$e.useMemo)((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),o=(0,$e.useMemo)((function(){return Ne({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,$e.useEffect)((function(){(0,Je.default)(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),$e.default.createElement(Ft.Provider,{value:a},$e.default.createElement(Bt.Provider,{value:o},e.children))}function Be(e){return Ht.test(e)?e.replace(Wt,qt).replace(Gt,"-ms-"):e}function Ue(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=Ue(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Xt(e)?"":Ie(e)?"."+e.styledComponentId:Ae(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:Ue(e(t),t,n,r):e instanceof Vt?n?(e.inject(n,r),e.getName(r)):e:rt(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Xt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Ae(t[o])?a.push(Be(o)+":",t[o],";"):rt(t[o])?a.push.apply(a,e(t[o],o)):a.push(Be(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in ye||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}function Ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ae(e)||rt(e)?Kt(Ue(nt(it,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Kt(Ue(nt(e,n)))}function Ve(e){return e.replace(Qt,"-").replace($t,"")}function He(e){return"string"==typeof e&&!0}function We(e,t,n){var r=e[n];en(t)&&en(r)?Ge(r,t):e[n]=t}function Ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(en(o))for(var s in o)tn(s)&&We(e,o[s],s)}return e}function qe(e){var t=(0,$e.useContext)(nn),n=(0,$e.useMemo)((function(){return n=e.theme,r=t,n?Ae(n)?n(r):Array.isArray(n)||"object"!=typeof n?Re(8):r?Pe({},r,{},n):n:Re(14);var n,r}),[e.theme,t]);return e.children?$e.default.createElement(nn.Provider,{value:n},e.children):null}function Xe(e,t,n){var r,i=Ie(e),a=!He(e),o=t.attrs,s=void 0===o?it:o,u=t.componentId,l=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Ve(e);an[n]=(an[n]||0)+1;var r=n+"-"+Jt("5.3.11"+n+an[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,c=t.displayName,f=void 0===c?He(r=e)?"styled."+r:"Styled("+De(r)+")":c,d=t.displayName&&t.componentId?Ve(t.displayName)+"-"+t.componentId:t.componentId||l,p=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,h=t.shouldForwardProp;i&&e.shouldForwardProp&&(h=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new Lt(n,d,i?e.componentStyle:void 0),g=m.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,u=e.shouldForwardProp,l=e.styledComponentId,c=e.target,f=function(e,t,n){void 0===e&&(e=at);var r=Pe({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Ae(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Yt(t,(0,$e.useContext)(nn),o)||at,t,i),d=f[0],p=f[1],h=function(e,t,n,r){var i=ze(),a=Fe();return t?e.generateAndInjectStyles(at,i,a):e.generateAndInjectStyles(n,i,a)}(a,r,d),v=n,m=p.$as||t.$as||p.as||t.as||c,g=He(m),y=p!==t?Pe({},t,{},p):t,b={};for(var w in y)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=y[w]:(u?u(w,et.default,m):!g||(0,et.default)(w))&&(b[w]=y[w]));return t.style&&p.style!==t.style&&(b.style=Pe({},t.style,{},p.style)),b.className=Array.prototype.concat(s,l,h!==l?h:null,t.className,p.className).filter(Boolean).join(" "),b.ref=v,(0,$e.createElement)(m,b)}(v,e,t,g)};return y.displayName=f,(v=$e.default.forwardRef(y)).attrs=p,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=h,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):it,v.styledComponentId=d,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(He(e)?e:Ve(De(e)));return Xe(e,Pe({},i,{attrs:p,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Ge({},e.defaultProps,t):t}}),Object.defineProperty(v,"toString",{value:function(){return"."+v.styledComponentId}}),a&&(0,tt.default)(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}function Ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Ze.apply(void 0,[e].concat(n)),a="sc-global-"+Jt(JSON.stringify(i)),o=new sn(i,a);function s(e){var t=ze(),n=Fe(),r=(0,$e.useContext)(nn),i=(0,$e.useRef)(t.allocateGSInstance(a)).current;return t.server&&u(i,e,t,r,n),(0,$e.useLayoutEffect)((function(){if(!t.server)return u(i,e,t,r,n),function(){return o.removeStyles(i,t)}}),[i,e,t,r,n]),null}function u(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,ct,n,i);else{var a=Pe({},t,{theme:Yt(t,r,s.defaultProps)});o.renderStyles(e,a,n,i)}}return $e.default.memo(s)}function Ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Ze.apply(void 0,[e].concat(n)).join(""),a=Jt(i);return new Vt(a,i)}!function(e,t){for(var n in t)N(e,n,{get:t[n],enumerable:!0})}(Te,{ServerStyleSheet:function(){return un},StyleSheetConsumer:function(){return jt},StyleSheetContext:function(){return Ft},StyleSheetManager:function(){return je},ThemeConsumer:function(){return rn},ThemeContext:function(){return nn},ThemeProvider:function(){return qe},__PRIVATE__:function(){return fn},createGlobalStyle:function(){return Ke},css:function(){return Ze},default:function(){return dn},isStyledComponent:function(){return Ie},keyframes:function(){return Ye},useTheme:function(){return cn},version:function(){return st},withTheme:function(){return ln}});var Qe,$e,Je,et,tt,nt,rt,it,at,ot,st,ut,lt,ct,ft,dt,pt,ht,vt,mt,gt,yt,bt,wt,xt,_t,St,kt,Et,Ct,Mt,Tt,Pt,At,Dt,It,Rt,Ot,Lt,Nt,zt,Ft,jt,Bt,Ut,Zt,Vt,Ht,Wt,Gt,qt,Xt,Kt,Yt,Qt,$t,Jt,en,tn,nn,rn,an,on,sn,un,ln,cn,fn,dn,pn=K({"../../node_modules/styled-components/dist/styled-components.browser.esm.js":function(){Qe=$(he()),$e=$(te()),Je=$(ve()),be(),we(),et=$(ke()),tt=$(Me()),nt=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},rt=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Qe.typeOf)(e)},it=Object.freeze([]),at=Object.freeze({}),ot="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",st="5.3.11",ut="undefined"!=typeof window&&"HTMLElement"in window,lt=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&"false"!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),ct={},ft=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Re(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),dt=new Map,pt=new Map,ht=1,vt=function(e){if(dt.has(e))return dt.get(e);for(;pt.has(ht);)ht++;var t=ht++;return dt.set(e,t),pt.set(t,e),t},mt=function(e){return pt.get(e)},gt=function(e,t){t>=ht&&(ht=t+1),dt.set(e,t),pt.set(t,e)},yt="style["+ot+'][data-styled-version="5.3.11"]',bt=new RegExp("^"+ot+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),wt=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},xt=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(bt);if(s){var u=0|parseInt(s[1],10),l=s[2];0!==u&&(gt(l,u),wt(e,l,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},_t=function(){return n.nc},St=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(ot))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(ot,"active"),r.setAttribute("data-styled-version","5.3.11");var o=_t();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},kt=function(){function e(e){var t=this.element=St(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Re(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Et=function(){function e(e){var t=this.element=St(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ct=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Mt=ut,Tt={isServer:!ut,useCSSOMInjection:!lt},Pt=function(){function e(e,t,n){void 0===e&&(e=at),void 0===t&&(t={}),this.options=Pe({},Tt,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ut&&Mt&&(Mt=!1,function(e){for(var t=document.querySelectorAll(yt),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(ot)&&(xt(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return vt(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Pe({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Ct(i):r?new kt(i):new Et(i),new ft(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(vt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(vt(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(vt(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=mt(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=ot+".g"+i+'[id="'+a+'"]',l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+s+u+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),At=/(a)(d)/gi,Dt=function(e){return String.fromCharCode(e+(e>25?39:97))},It=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ot=(Rt=function(e){return It(5381,e)})("5.3.11"),Lt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Le(e),this.componentId=t,this.baseHash=It(Ot,t),this.baseStyle=n,Pt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Ue(this.rules,e,t,n).join(""),o=Oe(It(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,l=It(this.baseHash,n.hash),c="",f=0;f<u;f++){var d=this.rules[f];if("string"==typeof d)c+=d;else if(d){var p=Ue(d,e,t,n),h=Array.isArray(p)?p.join(""):p;l=It(l,h+f),c+=h}}if(c){var v=Oe(l>>>0);if(!t.hasNameForId(r,v)){var m=n(c,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Nt=/^\s*\/\/.*$/gm,zt=[":","[",".","#"],Ft=$e.default.createContext(),jt=Ft.Consumer,(Bt=$e.default.createContext()).Consumer,Ut=new Pt,Zt=Ne(),Vt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Zt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Re(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Zt),this.name+e.hash},e}(),Ht=/([A-Z])/,Wt=/([A-Z])/g,Gt=/^ms-/,qt=function(e){return"-"+e.toLowerCase()},Xt=function(e){return null==e||!1===e||""===e},Kt=function(e){return Array.isArray(e)&&(e.isCss=!0),e},Yt=function(e,t,n){return void 0===n&&(n=at),e.theme!==n.theme&&e.theme||t||n.theme},Qt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,$t=/(^-|-$)/g,Jt=function(e){return Oe(Rt(e)>>>0)},en=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},tn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e},nn=$e.default.createContext(),rn=nn.Consumer,an={},on=function(e){return function e(t,n,r){if(void 0===r&&(r=at),!(0,Qe.isValidElementType)(n))return Re(1,String(n));var i=function(){return t(n,r,Ze.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Pe({},r,{},i))},i.attrs=function(i){return e(t,n,Pe({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Xe,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){on[e]=on(e)})),sn=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Le(e),Pt.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(Ue(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Pt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}(),un=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=_t();return"<style "+[n&&'nonce="'+n+'"',ot+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Re(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Re(2);var n=((t={})[ot]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=_t();return r&&(n.nonce=r),[$e.default.createElement("style",Pe({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Pt({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?Re(2):$e.default.createElement(je,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Re(3)},e}(),ln=function(e){var t=$e.default.forwardRef((function(t,n){var r=(0,$e.useContext)(nn),i=e.defaultProps,a=Yt(t,r,i);return $e.default.createElement(e,Pe({},t,{theme:a,ref:n}))}));return(0,tt.default)(t,e),t.displayName="WithTheme("+De(e)+")",t},cn=function(){return(0,$e.useContext)(nn)},fn={StyleSheet:Pt,masterSheet:Ut},dn=on}}),hn=Y({"../../node_modules/react-dom/node_modules/scheduler/cjs/scheduler.production.min.js":function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>i(u,n))l<a&&0>i(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<a&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s});var a,o,s,u=[],l=[],c=1,f=null,d=3,p=!1,h=!1,v=!1,m="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(l);null!==i;){if(null===i.callback)r(l);else{if(!(i.startTime<=e))break;r(l),i.sortIndex=i.expirationTime,t(u,i)}i=n(l)}}function w(e){if(v=!1,b(e),!h)if(null!==n(u))h=!0,I(x);else{var t=n(l);null!==t&&R(w,t.startTime-e)}}function x(t,i){h=!1,v&&(v=!1,g(M),M=-1),p=!0;var a=d;try{for(b(i),f=n(u);null!==f&&(!(f.expirationTime>i)||t&&!A());){var o=f.callback;if("function"==typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?f.callback=s:f===n(u)&&r(u),b(i)}else r(u);f=n(u)}if(null!==f)var c=!0;else{var m=n(l);null!==m&&R(w,m.startTime-i),c=!1}return c}finally{f=null,d=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S,k,E=!1,C=null,M=-1,T=5,P=-1;function A(){return!(e.unstable_now()-P<T)}function D(){if(null!==C){var t=e.unstable_now();P=t;var n=!0;try{n=C(!0,t)}finally{n?_():(E=!1,C=null)}}else E=!1}function I(e){C=e,E||(E=!0,_())}function R(t,n){M=m((function(){t(e.unstable_now())}),n)}"function"==typeof y?_=function(){y(D)}:"undefined"!=typeof MessageChannel?(S=new MessageChannel,k=S.port2,S.port1.onmessage=D,_=function(){k.postMessage(null)}):_=function(){m(D,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,I(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),null===n(u)&&r===n(l)&&(v?(g(M),M=-1):v=!0,R(w,a-o))):(r.sortIndex=s,t(u,r),h||p||(h=!0,I(x))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}}),vn=Y({"../../node_modules/react-dom/node_modules/scheduler/index.js":function(e,t){t.exports=hn()}}),mn=Y({"../../node_modules/react-dom/cjs/react-dom.production.min.js":function(e){var t=te(),n=vn();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"==typeof window||"undefined"==typeof window.document||"undefined"==typeof window.document.createElement),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function g(e,t,n,r){var i=h.hasOwnProperty(t)?h[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"==typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!l.call(d,e)||!l.call(f,e)&&(c.test(e)?d[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,m);h[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,m);h[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,m);h[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var O,L=Object.assign;function N(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var z=!1;function F(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"==typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function j(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case S:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!=typeof n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"==typeof(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&g(e,"checked",t,!1)}function Y(e,t){K(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?$(e,t.type,n):t.hasOwnProperty("defaultValue")&&$(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function $(e,t,n){("number"!==t||G(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var J=Array.isArray;function ee(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(J(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function ie(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,ce=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function ke(e){if(e=bi(e)){if("function"!=typeof xe)throw Error(r(280));var t=e.stateNode;t&&(t=xi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Se;if(Se=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Me(e,t){return e(t)}function Te(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Me(e,t,n)}finally{Pe=!1,(null!==_e||null!==Se)&&(Te(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var i=xi(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ie,Re=!1;if(u)try{Ie={},Object.defineProperty(Ie,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(le){Re=!1}function Oe(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,Ne=null,ze=!1,Fe=null,je={onError:function(e){Le=!0,Ne=e}};function Be(e,t,n,r,i,a,o,s,u){Le=!1,Ne=null,Oe.apply(je,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{4098&(t=e).flags&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(r(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(i=a.return)){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ve(a),e;if(o===i)return Ve(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=n.unstable_scheduleCallback,qe=n.unstable_cancelCallback,Xe=n.unstable_shouldYield,Ke=n.unstable_requestPaint,Ye=n.unstable_now,Qe=n.unstable_getCurrentPriorityLevel,$e=n.unstable_ImmediatePriority,Je=n.unstable_UserBlockingPriority,et=n.unstable_NormalPriority,tt=n.unstable_LowPriority,nt=n.unstable_IdlePriority,rt=null,it=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2;var ut=64,lt=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ct(s):0!==(a&=o)&&(r=ct(a))}else 0!==(o=n&~i)?r=ct(o):0!==a&&(r=ct(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,xt,_t,St,kt,Et=!1,Ct=[],Mt=null,Tt=null,Pt=null,At=new Map,Dt=new Map,It=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void kt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function jt(){Et=!1,null!==Mt&&zt(Mt)&&(Mt=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Pt&&zt(Pt)&&(Pt=null),At.forEach(Ft),Dt.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Bt(Mt,e),null!==Tt&&Bt(Tt,e),null!==Pt&&Bt(Pt,e),At.forEach(t),Dt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Nt(n),null===n.blockedOn&&It.shift()}var Zt=y.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=yt,a=Zt.transition;Zt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=i,Zt.transition=a}}function Wt(e,t,n,r){var i=yt,a=Zt.transition;Zt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=i,Zt.transition=a}}function Gt(e,t,n,r){if(Vt){var i=Xt(e,t,n,r);if(null===i)Hr(e,t,r,qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Lt(Mt,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Hr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var qt=null;function Xt(e,t,n,r){if(qt=null,null!==(e=yi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case $e:return 1;case Je:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,$t=null;function Jt(){if($t)return $t;var e,t,n=Qt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,on,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=rn(un),cn=L({},un,{view:0,detail:0}),fn=rn(cn),dn=L({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=rn(dn),hn=rn(L({},dn,{dataTransfer:0})),mn=rn(L({},cn,{relatedTarget:0})),gn=rn(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),wn=rn(L({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return kn}var Cn=L({},cn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=rn(Cn),Tn=rn(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(L({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=rn(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=rn(Dn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Nn=u&&"TextEvent"in window&&!Ln,zn=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Xn(e){Fr(e,0)}function Kn(e){if(W(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn,$n,Jn,er=!1;function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(qn)){var t=[];Wn(t,qn,e,we(e)),Ae(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}u&&(u?(($n="oninput"in document)||((Jn=document.createElement("div")).setAttribute("oninput","return;"),$n="function"==typeof Jn.oninput),Qn=$n):Qn=!1,er=Qn&&(!document.documentMode||9<document.documentMode));var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!l.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},kr={};function Er(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr,Mr,Tr=Er("animationend"),Pr=Er("animationiteration"),Ar=Er("animationstart"),Dr=Er("transitionend"),Ir=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ir.set(e,t),o(t,[e])}for(Mr=0;Mr<Rr.length;Mr++)Or((Cr=Rr[Mr]).toLowerCase(),"on"+(Cr[0].toUpperCase()+Cr.slice(1)));Or(Tr,"onAnimationEnd"),Or(Pr,"onAnimationIteration"),Or(Ar,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Dr,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function zr(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,a,o,s,u,l){if(Be.apply(this,arguments),Le){if(!Le)throw Error(r(198));var c=Ne;Le=!1,Ne=null,ze||(ze=!0,Fe=c)}}(i,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;zr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;zr(i,s,l),a=u}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Ur]){e[Ur]=!0,i.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Kt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(!(1&t)&&!(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var u=ln,l=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":u=Mn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Tr:case Pr:case Ar:u=gn;break;case Dr:u=An;break;case"scroll":u=fn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==d&&(null!=(v=De(h,d))&&c.push(Wr(h,v,p)))),f)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(f=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",d="onMouseEnter",h="mouse",("pointerout"===e||"pointerover"===e)&&(c=Tn,v="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==u?s:wi(u),p=null==l?s:wi(l),(s=new c(v,h+"leave",u,n,i)).target=f,s.relatedTarget=p,v=null,yi(i)===r&&((c=new c(d,h+"enter",l,n,i)).target=p,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(d=l,h=0,p=c=u;p;p=qr(p))h++;for(p=0,v=d;v;v=qr(v))p++;for(;0<h-p;)c=qr(c),h--;for(;0<p-h;)d=qr(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=qr(c),d=qr(d)}c=null}else c=null;null!==u&&Xr(o,s,u,c,!1),null!==l&&null!==f&&Xr(o,f,l,c,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Hn(s))if(er)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&$(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(y=Jt()):(Qt="value"in(Yt=i)?Yt.value:Yt.textContent,Zn=!0)),0<(g=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!On&&Bn(e,t)?(e=Jt(),$t=Qt=Yt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=De(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"==typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(r(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,ai="function"==typeof Promise?Promise:void 0,oi="function"==typeof queueMicrotask?queueMicrotask:"undefined"!=typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,pi="__reactProps$"+fi,hi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function xi(e){return e[pi]||null}var _i=[],Si=-1;function ki(e){return{current:e}}function Ei(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Ci(e,t){Si++,_i[Si]=e.current,e.current=t}var Mi={},Ti=ki(Mi),Pi=ki(!1),Ai=Mi;function Di(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!=(e=e.childContextTypes)}function Ri(){Ei(Pi),Ei(Ti)}function Oi(e,t,n){if(Ti.current!==Mi)throw Error(r(168));Ci(Ti,t),Ci(Pi,n)}function Li(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in t))throw Error(r(108,U(e)||"Unknown",a));return L({},n,i)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ai=Ti.current,Ci(Ti,e),Ci(Pi,Pi.current),!0}function zi(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Li(e,t,Ai),i.__reactInternalMemoizedMergedChildContext=e,Ei(Pi),Ei(Ti),Ci(Ti,e)):Ei(Pi),Ci(Pi,n)}var Fi=null,ji=!1,Bi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function Zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=yt;try{var n=Fi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge($e,Zi),i}finally{yt=t,Bi=!1}}return null}var Vi=[],Hi=0,Wi=null,Gi=0,qi=[],Xi=0,Ki=null,Yi=1,Qi="";function $i(e,t){Vi[Hi++]=Gi,Vi[Hi++]=Wi,Wi=e,Gi=t}function Ji(e,t,n){qi[Xi++]=Yi,qi[Xi++]=Qi,qi[Xi++]=Ki,Ki=e;var r=Yi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var a=32-at(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-at(t)+i|n<<i|r,Qi=a+e}else Yi=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&($i(e,1),Ji(e,1,0))}function ta(e){for(;e===Wi;)Wi=Vi[--Hi],Vi[Hi]=null,Gi=Vi[--Hi],Vi[Hi]=null;for(;e===Ki;)Ki=qi[--Xi],qi[Xi]=null,Qi=qi[--Xi],qi[Xi]=null,Yi=qi[--Xi],qi[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Yi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(r(418));t=li(n.nextSibling);var i=na;t&&sa(e,t)?oa(i,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(r(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(r(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=li(e.nextSibling)}function pa(){ra=na=null,ia=!1}function ha(e){null===aa?aa=[e]:aa.push(e)}var va=y.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=ki(null),ya=null,ba=null,wa=null;function xa(){wa=ba=ya=null}function _a(e){var t=ga.current;Ei(ga),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.lanes&t&&(ws=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(r(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ca=null;function Ma(e){null===Ca?Ca=[e]:Ca.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ma(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Tu){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ma(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Na(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(d=t,p=n,v.tag){case 1:if("function"==typeof(h=v.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(d="function"==typeof(h=v.payload)?h.call(p,f,d):h))break e;f=L({},f,d);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=p,u=f):c=c.next=p,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Nu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(null!==a){if(i.callback=null,i=n,"function"!=typeof a)throw Error(r(191,a));a.call(i)}}}var ja=(new t.Component).refs;function Ba(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Ra(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Ra(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Ra(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nl(t,e,r,n),La(t,e,r))}};function Za(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Va(e,t,n){var r=!1,i=Mi,a=t.contextType;return"object"==typeof a&&null!==a?a=Ea(a):(i=Ii(t)?Ai:Ti.current,a=(r=null!=(r=t.contextTypes))?Di(e,i):Mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Da(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Ea(a):(a=Ii(t)?Ai:Ti.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),za(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var a=i,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=a.refs;t===ja&&(t=a.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=zl(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===A&&Xa(i)===t.type)?((r=a(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case w:return(t=Fl(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(J(t)||R(t))return(t=Ll(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return p(e,t,(i=n._init)(n._payload),r)}if(J(n)||R(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return h(e,t,n,(0,r._init)(r._payload),i)}if(J(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}return function u(l,c,f,v){if("object"==typeof f&&null!==f&&f.type===x&&null===f.key&&(f=f.props.children),"object"==typeof f&&null!==f){switch(f.$$typeof){case b:e:{for(var m=f.key,g=c;null!==g;){if(g.key===m){if((m=f.type)===x){if(7===g.tag){n(l,g.sibling),(c=a(g,f.props.children)).return=l,l=c;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===A&&Xa(m)===g.type){n(l,g.sibling),(c=a(g,f.props)).ref=Ga(l,g,f),c.return=l,l=c;break e}n(l,g);break}t(l,g),g=g.sibling}f.type===x?((c=Ll(f.props.children,l.mode,v,f.key)).return=l,l=c):((v=Ol(f.type,f.key,f.props,null,l.mode,v)).ref=Ga(l,c,f),v.return=l,l=v)}return s(l);case w:e:{for(g=f.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(l,c.sibling),(c=a(c,f.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=Fl(f,l.mode,v)).return=l,l=c}return s(l);case A:return u(l,c,(g=f._init)(f._payload),v)}if(J(f))return function(r,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=p(r,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(r,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(r,f),ia&&$i(r,v),l;if(null===f){for(;v<s.length;v++)null!==(f=d(r,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&$i(r,v),l}for(f=i(r,f);v<s.length;v++)null!==(m=h(f,r,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(r,e)})),ia&&$i(r,v),l}(l,c,f,v);if(R(f))return function(a,s,u,l){var c=R(u);if("function"!=typeof c)throw Error(r(150));if(null==(u=c.call(u)))throw Error(r(151));for(var f=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(a,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(a,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(a,v),ia&&$i(a,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(a,y.value,l))&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return ia&&$i(a,m),c}for(v=i(a,v);!y.done;m++,y=u.next())null!==(y=h(v,a,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(a,e)})),ia&&$i(a,m),c}(l,c,f,v);qa(l,f)}return"string"==typeof f&&""!==f||"number"==typeof f?(f=""+f,null!==c&&6===c.tag?(n(l,c.sibling),(c=a(c,f)).return=l,l=c):(n(l,c),(c=zl(f,l.mode,v)).return=l,l=c),s(l)):n(l,c)}}var Ya=Ka(!0),Qa=Ka(!1),$a={},Ja=ki($a),eo=ki($a),to=ki($a);function no(e){if(e===$a)throw Error(r(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Ja,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),Ci(Ja,t)}function io(){Ei(Ja),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ci(eo,e),Ci(Ja,n))}function oo(e){eo.current===e&&(Ei(Ja),Ei(eo))}var so=ki(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=y.ReactCurrentDispatcher,po=y.ReactCurrentBatchConfig,ho=0,vo=null,mo=null,go=null,yo=!1,bo=!1,wo=0,xo=0;function _o(){throw Error(r(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ko(e,t,n,i,a,o){if(ho=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(i,a),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(r(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=ls,e=n(i,a)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,ho=0,go=mo=vo=null,yo=!1,t)throw Error(r(300));return e}function Eo(){var e=0!==wo;return wo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Mo(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(r(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"==typeof t?t(e):t}function Po(e){var t=Mo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=mo,a=i.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,i=i.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((ho&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=i):l=l.next=d,vo.lanes|=f,Nu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=i:l.next=u,sr(i,t.memoizedState)||(ws=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=l,n.lastRenderedState=i}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,vo.lanes|=o,Nu|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Mo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Do(){}function Io(e,t){var n=vo,i=Mo(),a=t(),o=!sr(i.memoizedState,a);if(o&&(i.memoizedState=a,ws=!0),i=i.queue,Ho(Lo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,i,a,t),void 0,null),null===Pu)throw Error(r(349));30&ho||Ro(n,t,a)}return a}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&zo(e)}function Lo(e,t,n){return n((function(){No(t)&&zo(e)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function zo(e){var t=Pa(e,1);null!==t&&nl(t,e,1,-1)}function Fo(e){var t=Co();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Mo().memoizedState}function Uo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Zo(e,t,n,r){var i=Mo();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Vo(e,t){return Uo(8390656,8,e,t)}function Ho(e,t){return Zo(2048,8,e,t)}function Wo(e,t){return Zo(4,2,e,t)}function Go(e,t){return Zo(4,4,e,t)}function qo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!=n?n.concat([e]):null,Zo(4,4,qo.bind(null,t,e),n)}function Ko(){}function Yo(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 21&ho?(sr(n,t)||(n=ht(),vo.lanes|=n,Nu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n)}function Jo(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{yt=n,po.transition=r}}function es(){return Mo().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ma(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ta(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Uo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Fo,useDebugValue:Ko,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Jo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=vo,a=Co();if(ia){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Pu)throw Error(r(349));30&ho||Ro(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Vo(Lo.bind(null,i,o,e),[e]),i.flags|=2048,jo(9,Oo.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Pu.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Qo,useReducer:Po,useRef:Bo,useState:function(){return Po(To)},useDebugValue:Ko,useDeferredValue:function(e){return $o(Mo(),mo.memoizedState,e)},useTransition:function(){return[Po(To)[0],Mo().memoizedState]},useMutableSource:Do,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Qo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(To)},useDebugValue:Ko,useDeferredValue:function(e){var t=Mo();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Ao(To)[0],Mo().memoizedState]},useMutableSource:Do,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),ds(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e)}var bs=y.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Ya(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return ka(t,i),r=ko(e,t,n,r,a,i),n=Eo(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Il(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Rl(a,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);131072&e.flags&&(ws=!0)}}return Ms(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ru,Iu),Iu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ru,Iu),Iu|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ru,Iu),Iu|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ru,Iu),Iu|=r;return xs(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,i){var a=Ii(n)?Ai:Ti.current;return a=Di(t,a),ka(t,i),n=ko(e,t,n,r,a,i),r=Eo(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Ii(n)){var a=!0;Ni(t)}else a=!1;if(ka(t,i),null===t.stateNode)Vs(e,t),Va(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"==typeof l&&null!==l?l=Ea(l):l=Di(t,l=Ii(n)?Ai:Ti.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ha(t,o,r,l),Aa=!1;var d=t.memoizedState;o.state=d,za(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Pi.current||Aa?("function"==typeof c&&(Ba(t,n,c,r),u=t.memoizedState),(s=Aa||Za(t,n,s,r,d,u,l))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ia(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"==typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Di(t,u=Ii(n)?Ai:Ti.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Ha(t,o,r,u),Aa=!1,d=t.memoizedState,o.state=d,za(t,r,o,i);var h=t.memoizedState;s!==f||d!==h||Pi.current||Aa?("function"==typeof p&&(Ba(t,n,p,r),h=t.memoizedState),(l=Aa||Za(t,n,l,r,d,h,u)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&zi(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ds(e,t,n,r,i){return pa(),ha(i),t.flags|=256,xs(e,t,n,r),t.child}var Is,Rs,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var i,a=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((i=u)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),Ci(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=a.children,e=a.fallback,s?(a=t.mode,s=t.child,u={mode:"hidden",children:u},1&a||null===s?s=Nl(u,a,0,null):(s.childLanes=0,s.pendingProps=u),e=Ll(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ns(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,i=fs(Error(r(422))),js(e,t,s,i)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Nl({mode:"visible",children:i.children},a,0,null),(o=Ll(o,a,s,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,1&t.mode&&Ya(t,e.child,null,s),t.child.memoizedState=Ns(s),t.memoizedState=Ls,o);if(!(1&t.mode))return js(e,t,s,null);if("$!"===a.data){if(i=a.nextSibling&&a.nextSibling.dataset)var u=i.dgst;return i=u,js(e,t,s,i=fs(o=Error(r(419)),i,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(i=Pu)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=a&(i.suspendedLanes|s)?0:a)&&a!==o.retryLane&&(o.retryLane=a,Pa(e,a),nl(i,e,a,-1))}return vl(),js(e,t,s,i=fs(Error(r(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ml.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ra=li(a.nextSibling),na=t,ia=!0,aa=null,null!==e&&(qi[Xi++]=Yi,qi[Xi++]=Qi,qi[Xi++]=Ki,Yi=e.id,Qi=e.overflow,Ki=t),(t=Fs(t,i.children)).flags|=4096,t)}(e,t,u,a,i,o,n);if(s){s=a.fallback,u=t.mode,i=(o=e.child).sibling;var l={mode:"hidden",children:a.children};return 1&u||t.child===o?(a=Rl(o,l)).subtreeFlags=14680064&o.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null),null!==i?s=Rl(i,s):(s=Ll(s,u,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,u=null===(u=e.child.memoizedState)?Ns(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,a}return e=(s=e.child).sibling,a=Rl(s,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fs(e,t){return(t=Nl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&ha(r),Ya(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Us(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),2&(r=so.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Vs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nu|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ii(t.type)&&Ri(),Gs(t),null;case 3:return i=t.stateNode,io(),Ei(Pi),Ei(Ti),co(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Gs(t),null;case 5:oo(t);var o=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Gs(t),null}if(e=no(Ja.current),fa(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[di]=t,i[pi]=s,e=0!==(1&t.mode),n){case"dialog":jr("cancel",i),jr("close",i);break;case"iframe":case"object":case"embed":jr("load",i);break;case"video":case"audio":for(o=0;o<Lr.length;o++)jr(Lr[o],i);break;case"source":jr("error",i);break;case"img":case"image":case"link":jr("error",i),jr("load",i);break;case"details":jr("toggle",i);break;case"input":X(i,s),jr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},jr("invalid",i);break;case"textarea":re(i,s),jr("invalid",i)}for(var u in ge(n,s),o=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"==typeof l?i.textContent!==l&&(!0!==s.suppressHydrationWarning&&$r(i.textContent,l,e),o=["children",l]):"number"==typeof l&&i.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&$r(i.textContent,l,e),o=["children",""+l]):a.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&jr("scroll",i)}switch(n){case"input":H(i),Q(i,s,!0);break;case"textarea":H(i),ae(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=Jr)}i=o,t.updateQueue=i,null!==i&&(t.flags|=4)}else{u=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=u.createElement(n,{is:i.is}):(e=u.createElement(n),"select"===n&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,n),e[di]=t,e[pi]=i,Is(e,t),t.stateNode=e;e:{switch(u=ye(n,i),n){case"dialog":jr("cancel",e),jr("close",e),o=i;break;case"iframe":case"object":case"embed":jr("load",e),o=i;break;case"video":case"audio":for(o=0;o<Lr.length;o++)jr(Lr[o],e);o=i;break;case"source":jr("error",e),o=i;break;case"img":case"image":case"link":jr("error",e),jr("load",e),o=i;break;case"details":jr("toggle",e),o=i;break;case"input":X(e,i),o=q(e,i),jr("invalid",e);break;case"option":default:o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=L({},i,{value:void 0}),jr("invalid",e);break;case"textarea":re(e,i),o=ne(e,i),jr("invalid",e)}for(s in ge(n,o),l=o)if(l.hasOwnProperty(s)){var c=l[s];"style"===s?ve(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===s?"string"==typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"==typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&jr("scroll",e):null!=c&&g(e,s,c,u))}switch(n){case"input":H(e),Q(e,i,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+Z(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ee(e,!!i.multiple,s,!1):null!=i.defaultValue&&ee(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(n=no(to.current),no(Ja.current),fa(t)){if(i=t.stateNode,n=t.memoizedProps,i[di]=t,(s=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[di]=t,t.stateNode=i}return Gs(t),null;case 13:if(Ei(so),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&1&t.mode&&!(128&t.flags))da(),pa(),t.flags|=98560,s=!1;else if(s=fa(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[di]=t}else pa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),s=!1}else null!==aa&&(ol(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,1&t.mode&&(null===e||1&so.current?0===Ou&&(Ou=3):vl())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&Zr(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(s=t.memoizedState))return Gs(t),null;if(i=0!==(128&t.flags),null===(u=s.rendering))if(i)Ws(s,!1);else{if(0!==Ou||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(s,!1),null!==(i=u.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Zu&&(t.flags|=128,i=!0,Ws(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=uo(u))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Ye()-s.renderingStartTime>Zu&&1073741824!==n&&(t.flags|=128,i=!0,Ws(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ci(so,i?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fl(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?1073741824&Iu&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Xs(e,t){switch(ta(t),t.tag){case 1:return Ii(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Pi),Ei(Ti),co(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var o,s=null;switch(n){case"input":i=q(e,i),r=q(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=ne(e,i),r=ne(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),s||u===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Ys=!1,Qs="function"==typeof WeakSet?WeakSet:Set,$s=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){kl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ys||Js(n,t);case 6:var r=cu,i=fu;cu=null,du(e,t,n),fu=i,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ut(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=fu,cu=n.stateNode.containerInfo,fu=!0,du(e,t,n),cu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(2&a||4&a)&&eu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Ys&&(Js(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,du(e,t,n),Ys=r):du(e,t,n);break;default:du(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(r(160));pu(o,s,a),cu=null,fu=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(c){kl(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&i){try{nu(3,e,e.return),ru(3,e)}catch(m){kl(e,e.return,m)}try{nu(5,e,e.return)}catch(m){kl(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&i&&null!==n&&Js(n,n.return);break;case 5:if(vu(t,e),gu(e),512&i&&null!==n&&Js(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(m){kl(e,e.return,m)}}if(4&i&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&K(a,o),ye(u,s);var c=ye(u,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?ve(a,d):"dangerouslySetInnerHTML"===f?ce(a,d):"children"===f?fe(a,d):g(a,f,d,c)}switch(u){case"input":Y(a,o);break;case"textarea":ie(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ee(a,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ee(a,!!o.multiple,o.defaultValue,!0):ee(a,!!o.multiple,o.multiple?[]:"",!1))}a[pi]=o}catch(m){kl(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&i){if(null===e.stateNode)throw Error(r(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){kl(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){kl(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Uu=Ye())),4&i&&hu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||f,vu(t,e),Ys=c):vu(t,e),gu(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&1&e.mode)for($s=e,f=e.child;null!==f;){for(d=$s=f;null!==$s;){switch(h=(p=$s).child,p.tag){case 0:case 11:case 14:case 15:nu(4,p,p.return);break;case 1:Js(p,p.return);var v=p.stateNode;if("function"==typeof v.componentWillUnmount){i=p,n=p.return;try{t=i,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){kl(i,n,m)}}break;case 5:Js(p,p.return);break;case 22:if(null!==p.memoizedState){xu(d);continue}}null!==h?(h.return=p,$s=h):xu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{a=d.stateNode,c?"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,u.style.display=he("display",s))}catch(m){kl(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){kl(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),gu(e),4&i&&hu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var a=i.stateNode;32&i.flags&&(fe(a,""),i.flags&=-33),lu(e,su(e),a);break;case 3:case 4:var o=i.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(r(161))}}catch(s){kl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){$s=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Ks;var l=Ys;if(Ks=o,(Ys=u)&&!l)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,$s=u):_u(i);for(;null!==a;)$s=a,bu(a,t,n),a=a.sibling;$s=i,Ks=s,Ys=l}wu(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,$s=a):wu(e)}}function wu(e){for(;null!==$s;){var t=$s;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ys)if(null===n)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(r(163))}Ys||512&t.flags&&iu(t)}catch(p){kl(t,t.return,p)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function xu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function _u(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){kl(t,n,u)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){kl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){kl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){kl(t,o,u)}}}catch(u){kl(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Su,ku=Math.ceil,Eu=y.ReactCurrentDispatcher,Cu=y.ReactCurrentOwner,Mu=y.ReactCurrentBatchConfig,Tu=0,Pu=null,Au=null,Du=0,Iu=0,Ru=ki(0),Ou=0,Lu=null,Nu=0,zu=0,Fu=0,ju=null,Bu=null,Uu=0,Zu=1/0,Vu=null,Hu=!1,Wu=null,Gu=null,qu=!1,Xu=null,Ku=0,Yu=0,Qu=null,$u=-1,Ju=0;function el(){return 6&Tu?Ye():-1!==$u?$u:$u=Ye()}function tl(e){return 1&e.mode?2&Tu&&0!==Du?Du&-Du:null!==va.transition?(0===Ju&&(Ju=ht()),Ju):(0!==(e=yt)||(e=void 0===(e=window.event)?16:Kt(e.type)),e):1}function nl(e,t,n,i){if(50<Yu)throw Yu=0,Qu=null,Error(r(185));mt(e,n,i),(!(2&Tu)||e!==Pu)&&(e===Pu&&(!(2&Tu)&&(zu|=n),4===Ou&&sl(e,Du)),rl(e,i),1===n&&0===Tu&&!(1&t.mode)&&(Zu=Ye()+500,ji&&Zi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-at(a),s=1<<o,u=i[o];-1===u?(!(s&n)||s&r)&&(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Pu?Du:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){ji=!0,Ui(e)}(ul.bind(null,e)):Ui(ul.bind(null,e)),oi((function(){!(6&Tu)&&Zi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=Je;break;case 16:default:n=et;break;case 536870912:n=nt}n=Pl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if($u=-1,Ju=0,6&Tu)throw Error(r(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var i=ft(e,e===Pu?Du:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=ml(e,i);else{t=i;var a=Tu;Tu|=2;var o=hl();for((Pu!==e||Du!==t)&&(Vu=null,Zu=Ye()+500,dl(e,t));;)try{yl();break}catch(u){pl(e,u)}xa(),Eu.current=o,Tu=a,null!==Au?t=0:(Pu=null,Du=0,t=Ou)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(i=a,t=al(e,a))),1===t)throw n=Lu,dl(e,0),sl(e,i),rl(e,Ye()),n;if(6===t)sl(e,i);else{if(a=e.current.alternate,!(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=ml(e,i))&&(0!==(o=pt(e))&&(i=o,t=al(e,o))),1===t))throw n=Lu,dl(e,0),sl(e,i),rl(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:xl(e,Bu,Vu);break;case 3:if(sl(e,i),(130023424&i)===i&&10<(t=Uu+500-Ye())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&i)!==i){el(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ri(xl.bind(null,e,Bu,Vu),t);break}xl(e,Bu,Vu);break;case 4:if(sl(e,i),(4194240&i)===i)break;for(t=e.eventTimes,a=-1;0<i;){var s=31-at(i);o=1<<s,(s=t[s])>a&&(a=s),i&=~o}if(i=a,10<(i=(120>(i=Ye()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ku(i/1960))-i)){e.timeoutHandle=ri(xl.bind(null,e,Bu,Vu),i);break}xl(e,Bu,Vu);break;default:throw Error(r(329))}}}return rl(e,Ye()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Bu,Bu=n,null!==t&&ol(t)),e}function ol(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sl(e,t){for(t&=~Fu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(6&Tu)throw Error(r(327));_l();var t=ft(e,0);if(!(1&t))return rl(e,Ye()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=al(e,i))}if(1===n)throw n=Lu,dl(e,0),sl(e,t),rl(e,Ye()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,Bu,Vu),rl(e,Ye()),null}function ll(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(Zu=Ye()+500,ji&&Zi())}}function cl(e){null!==Xu&&0===Xu.tag&&!(6&Tu)&&_l();var t=Tu;Tu|=1;var n=Mu.transition,r=yt;try{if(Mu.transition=null,yt=1,e)return e()}finally{yt=r,Mu.transition=n,!(6&(Tu=t))&&Zi()}}function fl(){Iu=Ru.current,Ei(Ru)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ri();break;case 3:io(),Ei(Pi),Ei(Ti),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Pu=e,Au=e=Rl(e.current,null),Du=Iu=t,Ou=0,Lu=null,Fu=zu=Nu=0,Bu=ju=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pl(e,t){for(;;){var n=Au;try{if(xa(),fo.current=os,yo){for(var i=vo.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}yo=!1}if(ho=0,go=mo=vo=null,bo=!1,wo=0,Cu.current=null,null===n||null===n.return){Ou=1,Lu=t,Au=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Du,u.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,f=u,d=f.tag;if(!(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ys(h,s,u,0,t),1&h.mode&&ms(o,c,t),l=c;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(!(1&t)){ms(o,c,t),vl();break e}l=Error(r(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){!(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),ha(cs(l,u));break e}}o=l=cs(l,u),4!==Ou&&(Ou=2),null===ju?ju=[o]:ju.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Na(o,hs(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(!(128&o.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Na(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(w){t=w,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function hl(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vl(){(0===Ou||3===Ou||2===Ou)&&(Ou=4),null===Pu||!(268435455&Nu)&&!(268435455&zu)||sl(Pu,Du)}function ml(e,t){var n=Tu;Tu|=2;var i=hl();for((Pu!==e||Du!==t)&&(Vu=null,dl(e,t));;)try{gl();break}catch(a){pl(e,a)}if(xa(),Tu=n,Eu.current=i,null!==Au)throw Error(r(261));return Pu=null,Du=0,Ou}function gl(){for(;null!==Au;)bl(Au)}function yl(){for(;null!==Au&&!Xe();)bl(Au)}function bl(e){var t=Su(e.alternate,e,Iu);e.memoizedProps=e.pendingProps,null===t?wl(e):Au=t,Cu.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Ou=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=qs(n,t,Iu)))return void(Au=n);if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Ou&&(Ou=5)}function xl(e,t,n){var i=yt,a=Mu.transition;try{Mu.transition=null,yt=1,function(e,t,n,i){do{_l()}while(null!==Xu);if(6&Tu)throw Error(r(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Au=Pu=null,Du=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||qu||(qu=!0,Pl(et,(function(){return _l(),null}))),o=0!==(15990&n.flags),15990&n.subtreeFlags||o){o=Mu.transition,Mu.transition=null;var s=yt;yt=1;var u=Tu;Tu|=4,Cu.current=null,function(e,t){if(ei=Vt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==a&&3!==d.nodeType||(u=s+a),d!==o||0!==i&&3!==d.nodeType||(l=s+i),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===a&&(u=s),p===o&&++f===i&&(l=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(r(163))}}catch(x){kl(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=tu,tu=!1}(e,n),mu(n,e),hr(ti),Vt=!!ei,ti=ei=null,e.current=n,yu(n,e,a),Ke(),Tu=u,yt=s,Mu.transition=o}else e.current=n;if(qu&&(qu=!1,Xu=e,Ku=a),0===(o=e.pendingLanes)&&(Gu=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Ye()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i((a=t[n]).value,{componentStack:a.stack,digest:a.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;1&Ku&&0!==e.tag&&_l(),1&(o=e.pendingLanes)?e===Qu?Yu++:(Yu=0,Qu=e):Yu=0,Zi()}(e,t,n,i)}finally{Mu.transition=a,yt=i}return null}function _l(){if(null!==Xu){var e=bt(Ku),t=Mu.transition,n=yt;try{if(Mu.transition=null,yt=16>e?16:e,null===Xu)var i=!1;else{if(e=Xu,Xu=null,Ku=0,6&Tu)throw Error(r(331));var a=Tu;for(Tu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(16&$s.flags){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($s=c;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var d=f.child;if(null!==d)d.return=f,$s=d;else for(;null!==$s;){var p=(f=$s).sibling,h=f.return;if(au(f),f===c){$s=null;break}if(null!==p){p.return=h,$s=p;break}$s=h}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}$s=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(2048&(o=$s).flags)switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var w=(s=$s).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,$s=w;else e:for(s=b;null!==$s;){if(2048&(u=$s).flags)try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){kl(u,u.return,_)}if(u===s){$s=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,$s=x;break e}$s=u.return}}if(Tu=a,Zi(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(_){}i=!0}return i}finally{yt=n,Mu.transition=t}}return!1}function Sl(e,t,n){e=Oa(e,t=hs(0,t=cs(n,t),1),1),t=el(),null!==e&&(mt(e,1,t),rl(e,t))}function kl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Oa(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(mt(t,1,e),rl(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Du&n)===n&&(4===Ou||3===Ou&&(130023424&Du)===Du&&500>Ye()-Uu?dl(e,0):Fu|=n),rl(e,t)}function Cl(e,t){0===t&&(1&e.mode?(t=lt,!(130023424&(lt<<=1))&&(lt=4194304)):t=1);var n=el();null!==(e=Pa(e,t))&&(mt(e,t,n),rl(e,n))}function Ml(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),Cl(e,n)}function Pl(e,t){return Ge(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new Al(e,t,n,r)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,i,a,o){var s=2;if(i=e,"function"==typeof e)Il(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case x:return Ll(n.children,a,o,t);case _:s=8,a|=8;break;case S:return(e=Dl(12,n,t,2|a)).elementType=S,e.lanes=o,e;case M:return(e=Dl(13,n,t,a)).elementType=M,e.lanes=o,e;case T:return(e=Dl(19,n,t,a)).elementType=T,e.lanes=o,e;case D:return Nl(n,a,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case E:s=9;break e;case C:s=11;break e;case P:s=14;break e;case A:s=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Dl(s,n,t,a)).elementType=e,t.type=i,t.lanes=o,t}function Ll(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function Nl(e,t,n,r){return(e=Dl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function zl(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new jl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Ul(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zl(e){if(!e)return Mi;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Li(e,n,t)}return t}function Vl(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=Zl(null),n=e.current,(a=Ra(r=el(),i=tl(n))).callback=null!=t?t:null,Oa(n,a,i),e.current.lanes=i,mt(e,i,r),rl(e,r),e}function Hl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nl(e,i,o,a),La(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ql(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ws=!0;else{if(!(e.lanes&n)&&!(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:As(t),pa();break;case 5:ao(t);break;case 1:Ii(t.type)&&Ni(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):n&t.child.childLanes?zs(e,t,n):(Ci(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ws=!!(131072&e.flags)}else ws=!1,ia&&1048576&t.flags&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Vs(e,t),e=t.pendingProps;var a=Di(t,Ti.current);ka(t,n),a=ko(null,t,i,e,a,n);var o=Eo();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(i)?(o=!0,Ni(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Da(t),a.updater=Ua,t.stateNode=a,a._reactInternals=t,Wa(t,i,e,n),t=Ps(null,t,i,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return Il(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(i),e=ma(i,e),a){case 0:t=Ms(null,t,i,e,n);break e;case 1:t=Ts(null,t,i,e,n);break e;case 11:t=_s(null,t,i,e,n);break e;case 14:t=Ss(null,t,i,ma(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,Ms(e,t,i,a=t.elementType===i?a:ma(i,a),n);case 1:return i=t.type,a=t.pendingProps,Ts(e,t,i,a=t.elementType===i?a:ma(i,a),n);case 3:e:{if(As(t),null===e)throw Error(r(387));i=t.pendingProps,a=(o=t.memoizedState).element,Ia(e,t),za(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,i,n,a=cs(Error(r(423)),t));break e}if(i!==a){t=Ds(e,t,i,n,a=cs(Error(r(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),i===a){t=Hs(e,t,n);break e}xs(e,t,i,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ni(i,a)?s=null:null!==o&&ni(i,o)&&(t.flags|=32),Cs(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return zs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ya(t,null,i,n):xs(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,_s(e,t,i,a=t.elementType===i?a:ma(i,a),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ci(ga,i._currentValue),i._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Pi.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===i){if(1===o.tag){(l=Ra(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(r(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,ka(t,n),i=i(a=Ea(a)),t.flags|=1,xs(e,t,i,n),t.child;case 14:return a=ma(i=t.type,t.pendingProps),Ss(e,t,i,a=ma(i.type,a),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:ma(i,a),Vs(e,t),t.tag=1,Ii(i)?(e=!0,Ni(t)):e=!1,ka(t,n),Va(t,i,a),Wa(t,i,a,n),Ps(null,t,i,!0,e,n);case 19:return Zs(e,t,n);case 22:return Es(e,t,n)}throw Error(r(156,t.tag))};var Xl="function"==typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=Vl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[hi]=o.current,Zr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[hi]=u.current,Zr(8===e.nodeType?e.parentNode:e),cl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Hl(e,t,null,null)},Yl.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Hl(null,e,null,null)})),t[hi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(gt(t,1|n),rl(t,Ye()),!(6&Tu)&&(Zu=Ye()+500,Zi()))}break;case 13:cl((function(){var t=Pa(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),ql(e,1)}},xt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)nl(t,e,134217728,el());ql(e,134217728)}},_t=function(e){if(13===e.tag){var t=tl(e),n=Pa(e,t);if(null!==n)nl(n,e,t,el());ql(e,t)}},St=function(){return yt},kt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=xi(i);if(!a)throw Error(r(90));W(i),Y(i,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ee(e,!!n.multiple,t,!1)}},Me=ll,Te=cl;var tc,nc={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ee,Ce,ll]},rc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(!(tc=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled&&tc.supportsFiber))try{rt=tc.inject(ic),it=tc}catch(le){}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,e.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(r(200));return Ul(e,t,null,n)},e.createRoot=function(e,t){if(!Ql(e))throw Error(r(299));var n=!1,i="",a=Xl;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,i,a),e[hi]=t.current,Zr(8===e.nodeType?e.parentNode:e),new Kl(t)},e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=null===(e=He(t))?null:e.stateNode},e.flushSync=function(e){return cl(e)},e.hydrate=function(e,t,n){if(!$l(t))throw Error(r(200));return ec(null,e,t,!0,n)},e.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,a=!1,o="",s=Xl;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vl(t,null,e,1,null!=n?n:null,a,0,o,s),e[hi]=t.current,Zr(e),i)for(e=0;e<i.length;e++)a=(a=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yl(t)},e.render=function(e,t,n){if(!$l(t))throw Error(r(200));return ec(null,e,t,!1,n)},e.unmountComponentAtNode=function(e){if(!$l(e))throw Error(r(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},e.unstable_batchedUpdates=ll,e.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!$l(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return ec(e,t,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"}}),gn=Y({"../../node_modules/react-dom/index.js":function(e,t){(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}})(),t.exports=mn()}}),yn=Y({"../../node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t){t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}),bn=Y({"../../node_modules/prop-types/factoryWithThrowingShims.js":function(e,t){var n=yn();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}}}),wn=Y({"../../node_modules/prop-types/index.js":function(e,t){t.exports=bn()()}}),xn=Y({"../../node_modules/react-shadow/styled-components.js":function(e){Object.defineProperty(e,"__esModule",{value:!0});var t,r=te(),i=de(),a=(pn(),t=Te,Q(N({},"__esModule",{value:!0}),t)),o=gn(),s=wn();function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=u(r),c=u(s),f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function d(e,t){return e(t={exports:{}},t.exports),t.exports}var p=d((function(e){!function(t){var n=function e(t,n,r){if(!u(n)||c(n)||f(n)||d(n)||s(n))return n;var i,a=0,o=0;if(l(n))for(i=[],o=n.length;a<o;a++)i.push(e(t,n[a],r));else for(var p in i={},n)Object.prototype.hasOwnProperty.call(n,p)&&(i[t(p,r)]=e(t,n[p],r));return i},r=function(e){return p(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1)},i=function(e){var t=r(e);return t.substr(0,1).toUpperCase()+t.substr(1)},a=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)}(e,t).toLowerCase()},o=Object.prototype.toString,s=function(e){return"function"==typeof e},u=function(e){return e===Object(e)},l=function(e){return"[object Array]"==o.call(e)},c=function(e){return"[object Date]"==o.call(e)},f=function(e){return"[object RegExp]"==o.call(e)},d=function(e){return"[object Boolean]"==o.call(e)},p=function(e){return(e-=0)==e},h=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,r){return n(t,e,r)}},v={camelize:r,decamelize:a,pascalize:i,depascalize:a,camelizeKeys:function(e,t){return n(h(r,t),e)},decamelizeKeys:function(e,t){return n(h(a,t),e,t)},pascalizeKeys:function(e,t){return n(h(i,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=v:t.humps=v}(f)})).decamelize,h=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},m=d((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t})),g=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},y=r.createContext(null);function b(e){var t=e.children,n=g(e,["children"]);return"string"!=typeof t&&(t=i.renderToString(t)),l.default.createElement("template",m({},n,{dangerouslySetInnerHTML:{__html:t}}))}function w(e){var t=e.root,n=e.children;return o.createPortal(n,t)}function x(e){var t=r.forwardRef((function(t,n){var i,a,o=t.mode,s=t.delegatesFocus,u=t.styleSheets,c=t.ssr,f=t.children,d=g(t,["mode","delegatesFocus","styleSheets","ssr","children"]),p=(i=n,a=r.useRef(i&&i.current),r.useEffect((function(){i&&(i.current=a.current)}),[i]),a),h=r.useState(null),x=v(h,2),_=x[0],S=x[1],k="node_".concat(o).concat(s);return r.useLayoutEffect((function(){if(p.current)try{if("function"==typeof n&&n(p.current),c){var e=p.current.shadowRoot;return void S(e)}var t=p.current.attachShadow({mode:o,delegatesFocus:s});u.length>0&&(t.adoptedStyleSheets=u),S(t)}catch(r){!function(e){var t=e.error,n=e.styleSheets,r=e.root;if("NotSupportedError"!==t.name)throw t;n.length>0&&(r.adoptedStyleSheets=n)}({error:r,styleSheets:u,root:_})}}),[n,p,u]),l.default.createElement(l.default.Fragment,null,l.default.createElement(e.tag,m({key:k,ref:p},d),(_||c)&&l.default.createElement(y.Provider,{value:_},c?l.default.createElement(b,{shadowroot:o,shadowrootmode:o},e.render({root:_,ssr:c,children:f})):l.default.createElement(w,{root:_},e.render({root:_,ssr:c,children:f})))))}));return t.propTypes={mode:c.default.oneOf(["open","closed"]),delegatesFocus:c.default.bool,styleSheets:c.default.arrayOf(c.default.instanceOf(globalThis.CSSStyleSheet)),ssr:c.default.bool,children:c.default.node},t.defaultProps={mode:"open",delegatesFocus:!1,styleSheets:[],ssr:!1,children:null},t}b.propTypes={children:c.default.oneOfType([c.default.string,c.default.node])},b.defaultProps={children:""},w.propTypes={root:c.default.object.isRequired,children:c.default.node},w.defaultProps={children:null};var _=new Map;function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.children};return new Proxy(e,{get:function(e,r){var i=p(r,{separator:"-"}),a="".concat(t,"-").concat(i);return _.has(a)||_.set(a,x({tag:i,render:n})),_.get(a)}})}function k(e){var t=new a.ServerStyleSheet;return i.renderToString(l.default.createElement(a.StyleSheetManager,{sheet:t.instance},l.default.createElement(l.default.Fragment,null,e))),t.getStyleElement()}S();var E=S({},"styled-components",(function(e){var t=e.root,n=e.ssr,r=e.children;return n?l.default.createElement(l.default.Fragment,null,k(r),r):l.default.createElement(a.StyleSheetManager,{target:t},l.default.createElement(l.default.Fragment,null,r))}));e.default=E,e.getStyleSheets=k}}),_n=Y({"../../node_modules/react-dom/client.js":function(e){var t=gn();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot}}),Sn=Y({"../../node_modules/queue-microtask/index.js":function(e,t){var r;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n.g):function(e){return(r||(r=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))}}}),kn=Y({"../../node_modules/regenerator-runtime/runtime.js":function(e,t){var n=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(D){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?h:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",v={};function m(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(P([])));x&&x!==n&&r.call(x,a)&&(b=x);var _=y.prototype=m.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return g.prototype=y,u(_,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},S(k.prototype),u(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}}}),En=Y({"../../node_modules/@babel/runtime/regenerator/index.js":function(e,t){t.exports=kn()}}),Cn=Y({"../../node_modules/zustand/index.js":function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=En(),n=te();function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(t);function a(e){var t,n=new Set,r=function(e,r){var i="function"==typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e,r,a){void 0===r&&(r=i),void 0===a&&(a=Object.is);var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var o="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?n.useEffect:n.useLayoutEffect;e.default=function(e){var t="function"==typeof e?a(e):e,r=function(e,r){void 0===e&&(e=t.getState),void 0===r&&(r=Object.is);var i=n.useReducer((function(e){return e+1}),0)[1],a=t.getState(),s=n.useRef(a),u=n.useRef(e),l=n.useRef(r),c=n.useRef(!1),f=n.useRef();void 0===f.current&&(f.current=e(a));var d,p=!1;(s.current!==a||u.current!==e||l.current!==r||c.current)&&(d=e(a),p=!r(f.current,d)),o((function(){p&&(f.current=d),s.current=a,u.current=e,l.current=r,c.current=!1}));var h=n.useRef(a);return o((function(){var e=function(){try{var e=t.getState(),n=u.current(e);l.current(f.current,n)||(s.current=e,f.current=n,i())}catch(r){c.current=!0,i()}},n=t.subscribe(e);return t.getState()!==h.current&&e(),n}),[]),p?d:f.current};return Object.assign(r,t),r[Symbol.iterator]=i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),e.next=3,r;case 3:return e.next=5,t;case 5:case"end":return e.stop()}}),e)})),r}}}),Mn=$(te()),Tn=$(te()),Pn=$(te()),An=$(re()),Dn=$(te(),1);function In(e){var t,n=new Set,r=function(e,r){var i="function"==typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var Rn="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?Dn.useEffect:Dn.useLayoutEffect;function On(e){var t="function"==typeof e?In(e):e,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,r=(0,Dn.useReducer)((function(e){return e+1}),0),i=(0,M.Z)(r,2),a=i[1],o=t.getState(),s=(0,Dn.useRef)(o),u=(0,Dn.useRef)(e),l=(0,Dn.useRef)(n),c=(0,Dn.useRef)(!1),f=(0,Dn.useRef)();void 0===f.current&&(f.current=e(o));var d,p=!1;(s.current!==o||u.current!==e||l.current!==n||c.current)&&(d=e(o),p=!n(f.current,d)),Rn((function(){p&&(f.current=d),s.current=o,u.current=e,l.current=n,c.current=!1}));var h=(0,Dn.useRef)(o);Rn((function(){var e=function(){try{var e=t.getState(),n=u.current(e);l.current(f.current,n)||(s.current=e,f.current=n,a())}catch(r){c.current=!0,a()}},n=t.subscribe(e);return t.getState()!==h.current&&e(),n}),[]);var v=p?d:f.current;return(0,Dn.useDebugValue)(v),v};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}var Ln=$(se()),Nn=$(ae()),zn=function(e){return"object"==typeof e&&"function"==typeof e.then},Fn=[];function jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function Bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);var i,a=(0,T.Z)(Fn);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(jn(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}}}catch(u){a.e(u)}finally{a.f()}var s={keys:t,equal:r.equal,remove:function(){var e=Fn.indexOf(s);-1!==e&&Fn.splice(e,1)},promise:(zn(e)?e:e.apply(void 0,(0,C.Z)(t))).then((function(e){s.response=e,r.lifespan&&r.lifespan>0&&(s.timeout=setTimeout(s.remove,r.lifespan))})).catch((function(e){return s.error=e}))};if(Fn.push(s),!n)throw s.promise}var Un={};var Zn,Vn,Hn=function(e){return"colorSpace"in e||"outputColorSpace"in e},Wn=function(){var e;return null!=(e=Un.ColorManagement)?e:null},Gn=function(e){return e&&e.isOrthographicCamera},qn="undefined"!=typeof window&&(null!=(Zn=window.document)&&Zn.createElement||"ReactNative"===(null==(Vn=window.navigator)?void 0:Vn.product))?Pn.useLayoutEffect:Pn.useEffect;function Xn(e){var t=Pn.useRef(e);return qn((function(){t.current=e}),[e]),t}function Kn(e){var t=e.set;return qn((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var Yn=function(e){(0,S.Z)(n,e);var t=(0,k.Z)(n);function n(){var e;(0,x.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return(0,_.Z)(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(Pn.Component);Yn.getDerivedStateFromError=function(){return{error:!0}};var Qn="__default",$n=new Map;function Jn(e){var t,n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}var er=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},tr={obj:function(e){return e===Object(e)&&!tr.arr(e)&&"function"!=typeof e},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},boo:function(e){return"boolean"==typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,o=void 0===a?"reference":a,s=n.strict,u=void 0===s||s;if(typeof e!=typeof t||!!e!=!!t)return!1;if(tr.str(e)||tr.num(e))return e===t;var l=tr.obj(e);if(l&&"reference"===o)return e===t;var c,f=tr.arr(e);if(f&&"reference"===i)return e===t;if((f||l)&&e===t)return!0;for(c in e)if(!(c in t))return!1;if(l&&"shallow"===i&&"shallow"===o){for(c in u?t:e)if(!tr.equ(e[c],t[c],{strict:u,objects:"reference"}))return!1}else for(c in u?t:e)if(e[c]!==t[c])return!1;if(tr.und(c)){if(f&&0===e.length&&0===t.length||l&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function nr(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function rr(e,t){return e.__r3f=G({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t),e}function ir(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return{target:n=r.reduce((function(e,t){return e[t]}),e),key:i}}return{target:n,key:t}}var ar=/-\d+$/;function or(e,t,n){if(tr.str(n)){if(ar.test(n)){var r=ir(e,n.replace(ar,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var o=ir(e,n),s=o.target,u=o.key;t.__r3f.previousAttach=s[u],s[u]=t}else t.__r3f.previousAttach=n(e,t)}function sr(e,t,n){var r,i;if(tr.str(n)){var a=ir(e,n),o=a.target,s=a.key,u=t.__r3f.previousAttach;void 0===u?delete o[s]:o[s]=u}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function ur(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t,o=(a.children,a.key,a.ref,X(a,["children","key","ref"])),s=r,u=(s.children,s.key,s.ref,X(s,["children","key","ref"])),l=null!=(n=null==e?void 0:e.__r3f)?n:{},c=Object.entries(o),f=[];if(i)for(var d=Object.keys(u),p=0;p<d.length;p++)o.hasOwnProperty(d[p])||c.unshift([d[p],Qn+"remove"]);c.forEach((function(t){var n,r=(0,M.Z)(t,2),i=r[0],a=r[1];if(!(null!=(n=e.__r3f)&&n.primitive&&"object"===i||tr.equ(a,u[i]))){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(i))return f.push([i,a,!0,[]]);var s=[];for(var l in i.includes("-")&&(s=i.split("-")),f.push([i,a,!1,s]),o){var c=o[l];l.startsWith("".concat(i,"-"))&&f.push([l,c,!1,l.split("-")])}}}));var h=G({},o);return l.memoizedProps&&l.memoizedProps.args&&(h.args=l.memoizedProps.args),l.memoizedProps&&l.memoizedProps.attach&&(h.attach=l.memoizedProps.attach),{memoized:h,changes:f}}function lr(e,t){var n,r,i,a,o=null!=(n=e.__r3f)?n:{},s=o.root,u=null!=(r=null==s||null==s.getState?void 0:s.getState())?r:{},l=(a=t)&&a.memoized&&a.changes?t:ur(e,t),c=l.memoized,f=l.changes,d=o.eventCount;e.__r3f&&(e.__r3f.memoizedProps=c);for(var p=0;p<f.length;p++){var h=(0,M.Z)(f[p],4),v=h[0],m=h[1],g=h[2],y=h[3];if(Hn(e)){var b="srgb",x="srgb-linear";"encoding"===v?(v="colorSpace",m=3001===m?b:x):"outputEncoding"===v&&(v="outputColorSpace",m=3001===m?b:x)}var _=e,S=_[v];if(y.length&&(!(S=y.reduce((function(e,t){return e[t]}),e))||!S.set)){var k=y.reverse(),E=(0,w.Z)(k),T=E[0];_=E.slice(1).reverse().reduce((function(e,t){return e[t]}),e),v=T}if(m===Qn+"remove")if(_.constructor){var A=$n.get(_.constructor);A||(A=new _.constructor,$n.set(_.constructor,A)),m=A[v]}else m=0;if(g)m?o.handlers[v]=m:delete o.handlers[v],o.eventCount=Object.keys(o.handlers).length;else if(S&&S.set&&(S.copy||S instanceof P.Layers)){var D;if(Array.isArray(m))S.fromArray?S.fromArray(m):(D=S).set.apply(D,(0,C.Z)(m));else if(S.copy&&m&&m.constructor&&S.constructor===m.constructor)S.copy(m);else if(void 0!==m){var I=S instanceof P.Color;!I&&S.setScalar?S.setScalar(m):S instanceof P.Layers&&m instanceof P.Layers?S.mask=m.mask:S.set(m),!Wn()&&!u.linear&&I&&S.convertSRGBToLinear()}}else if(_[v]=m,_[v]instanceof P.Texture&&_[v].format===P.RGBAFormat&&_[v].type===P.UnsignedByteType){var R=_[v];Hn(R)&&Hn(u.gl)?R.colorSpace=u.gl.outputColorSpace:R.encoding=u.gl.outputEncoding}cr(e)}if(o.parent&&u.internal&&e.raycast&&d!==o.eventCount){var O=u.internal.interaction.indexOf(e);O>-1&&u.internal.interaction.splice(O,1),o.eventCount&&u.internal.interaction.push(e)}return!(1===f.length&&"onUpdate"===f[0][0])&&f.length&&null!=(i=e.__r3f)&&i.parent&&fr(e),e}function cr(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function fr(e){null==e.onUpdate||e.onUpdate(e)}function dr(e,t){e.manual||(Gn(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function pr(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function hr(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function vr(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,i=(0,T.Z)(r.hovered.values());try{var a=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var i=e.eventObject.__r3f,a=null==i?void 0:i.handlers;if(r.hovered.delete(pr(e)),null!=i&&i.eventCount){var o=q(G({},e),{intersections:t});null==a.onPointerOut||a.onPointerOut(o),null==a.onPointerLeave||a.onPointerLeave(o)}}};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((function(){r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){var o=e.getState(),s=o.onPointerMissed,u=o.internal;u.lastEvent.current=a;var l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,f=function(t,n){for(var r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction,s=0;s<o.length;s++){var u=er(o[s]);u&&(u.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var l=o.flatMap((function(e){var n,r=er(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=er(e.object),r=er(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((function(e){var t=pr(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(l=r.events.filter(l,r));var c,f=(0,T.Z)(l);try{for(f.s();!(c=f.n()).done;)for(var d=c.value,p=d.object;p;){var h;null!=(h=p.__r3f)&&h.eventCount&&a.push(q(G({},d),{eventObject:p})),p=p.parent}}catch(y){f.e(y)}finally{f.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var v,m=(0,T.Z)(r.internal.capturedMap.get(t.pointerId).values());try{for(m.s();!(v=m.n()).done;){var g=v.value;i.has(pr(g.intersection))||a.push(g.intersection)}}catch(y){m.e(y)}finally{m.f()}}return a}(a,l?t:void 0),d=c?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(u.initialClick=[a.offsetX,a.offsetY],u.initialHits=f.map((function(e){return e.eventObject}))),c&&!f.length&&d<=2&&(r(a,u.interaction),s&&s(a)),l&&n(f),function(t,r,i,a){var o=e.getState();t.length&&function(){var e,s={stopped:!1},u=(0,T.Z)(t);try{var l=function(){var u=e.value,l=er(u.object)||o,c=l.raycaster,f=l.pointer,d=l.camera,p=l.internal,h=new P.Vector3(f.x,f.y,0).unproject(d),v=function(e){var t,n;return null!=(t=null==(n=p.capturedMap.get(e))?void 0:n.has(u.eventObject))&&t},m=function(e){var t={intersection:u,target:r.target};p.capturedMap.has(e)?p.capturedMap.get(e).set(u.eventObject,t):p.capturedMap.set(e,new Map([[u.eventObject,t]])),r.target.setPointerCapture(e)},g=function(e){var t=p.capturedMap.get(e);t&&hr(p.capturedMap,u.eventObject,t,e)},y={};for(var b in r){var w=r[b];"function"!=typeof w&&(y[b]=w)}var x=q(G(G({},u),y),{pointer:f,intersections:t,stopped:s.stopped,delta:i,unprojectedPoint:h,ray:c.ray,camera:d,stopPropagation:function(){var e="pointerId"in r&&p.capturedMap.get(r.pointerId);if((!e||e.has(u.eventObject))&&(x.stopped=s.stopped=!0,p.hovered.size&&Array.from(p.hovered.values()).find((function(e){return e.eventObject===u.eventObject})))){var i=t.slice(0,t.indexOf(u));n([].concat((0,C.Z)(i),[u]))}},target:{hasPointerCapture:v,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:v,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r});if(a(x),!0===s.stopped)return"break"};for(u.s();!(e=u.n()).done&&"break"!==l(););}catch(c){u.e(c)}finally{u.f()}}()}(f,a,d,(function(e){var t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){var s=pr(e),f=u.hovered.get(s);f?f.stopped&&e.stopPropagation():(u.hovered.set(s,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{var d=o[i];d?(!c||u.initialHits.includes(t))&&(r(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)}))),d(e)):c&&u.initialHits.includes(t)&&r(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)})))}}))}}}}var mr,gr,yr,br=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],wr=function(e){return!(null==e||!e.render)},xr=Pn.createContext(null),_r=new Set,Sr=new Set,kr=new Set;function Er(e,t){if(e.size){var n,r=(0,T.Z)(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(i){r.e(i)}finally{r.f()}}}function Cr(e,t){switch(e){case"before":return Er(_r,t);case"after":return Er(Sr,t);case"tail":return Er(kr,t)}}function Mr(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),gr=t.internal.subscribers,mr=0;mr<gr.length;mr++)(yr=gr[mr]).ref.current(yr.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function Tr(){var e=Pn.useContext(xr);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function Pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return Tr()(e,t)}function Ar(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Tr(),r=n.getState().internal.subscribe,i=Xn(e);return qn((function(){return r(i,t,n)}),[t,r,n]),null}function Dr(e,t){return function(n){for(var r=new n,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return e&&e(r),Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,nr(e.scene)),n(e)}),t,(function(t){return i(new Error("Could not load ".concat(e,": ").concat(t.message)))}))}))})))}}function Ir(e,t,n,r){var i=Array.isArray(t)?t:[t],a=function(e,t,n){return Bn(e,t,!1,n)}(Dr(n,r),[e].concat((0,C.Z)(i)),{equal:tr.equ});return Array.isArray(t)?a:a[0]}Ir.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){Bn(e,t,!0,n)}(Dr(n),[e].concat((0,C.Z)(r)))},Ir.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)Fn.splice(0,Fn.length);else{var t=Fn.find((function(t){return jn(e,t.keys,t.equal)}));t&&t.remove()}}([e].concat((0,C.Z)(n)))};var Rr=new Map,Or=function(e){var t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,Cr("before",o);var s,u=(0,T.Z)(e.values());try{for(u.s();!(s=u.n()).done;){var l,c=s.value;(r=c.store.getState()).internal.active&&("always"===r.frameloop||r.internal.frames>0)&&(null==(l=r.gl.xr)||!l.isPresenting)&&(t+=Mr(o,r))}}catch(f){u.e(f)}finally{u.f()}if(Cr("after",o),0===t)return Cr("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState())}),o);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+o),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&Cr("before",t),r)Mr(t,r,i);else{var a,o=(0,T.Z)(e.values());try{for(o.s();!(a=o.n()).done;){var s=a.value;Mr(t,s.store.getState())}}catch(u){o.e(u)}finally{o.f()}}n&&Cr("after",t)}}}(Rr),Lr=Or.invalidate,Nr=Or.advance,zr=function(e,t){function n(e,t,n){var r,i=t,a=i.args,o=void 0===a?[]:a,s=i.attach,u=X(i,["args","attach"]),l="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===u.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=rr(u.object,{type:e,root:n,attach:s,primitive:!0})}else{var c=Un[l];if(!c)throw new Error("R3F: ".concat(l," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(o))throw new Error("R3F: The args prop must be an array!");r=rr((0,E.Z)(c,(0,C.Z)(o)),{type:e,root:n,attach:s,memoizedProps:{args:o}})}return void 0===r.__r3f.attach&&(r instanceof P.BufferGeometry?r.__r3f.attach="geometry":r instanceof P.Material&&(r.__r3f.attach="material")),"inject"!==l&&lr(r,u),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?or(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||rr(t,{}),t.__r3f.parent=e,fr(t),cr(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)or(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var o=e.children.filter((function(e){return e!==t})),s=o.indexOf(n);e.children=[].concat((0,C.Z)(o.slice(0,s)),[t],(0,C.Z)(o.slice(s))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||rr(t,{}),t.__r3f.parent=e,fr(t),cr(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(0,C.Z)(e).forEach((function(e){return o(t,e,n)}))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)sr(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){(e.eventObject===t||e.object===t)&&n.hovered.delete(r)})),n.capturedMap.forEach((function(e,r){hr(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}var u,l=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!l:n;if(!l)a(null==(u=t.__r3f)?void 0:u.objects,t,c),a(t.children,t,c);delete t.__r3f,c&&t.dispose&&"Scene"!==t.type&&(0,Nn.unstable_scheduleCallback)(Nn.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),cr(e)}}var s=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")};return{reconciler:(0,Ln.default)({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&o(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&i(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},prepareUpdate:function(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];var a=r,o=a.args,s=void 0===o?[]:o,u=(a.children,X(a,["args","children"])),l=n,c=l.args,f=void 0===c?[]:c,d=(l.children,X(l,["args","children"]));if(!Array.isArray(s))throw new Error("R3F: the args prop must be an array!");if(s.some((function(e,t){return e!==f[t]})))return[!0];var p=ur(e,u,d,!0);return p.changes.length?[!1,p]:null},commitUpdate:function(e,t,i,a,s,u){var l=(0,M.Z)(t,2),c=l[0],f=l[1];c?function(e,t,i,a){var s,u=null==(s=e.__r3f)?void 0:s.parent;if(u){var l=n(t,i,e.__r3f.root);if(e.children){var c,f=(0,T.Z)(e.children);try{for(f.s();!(c=f.n()).done;){var d=c.value;d.__r3f&&r(l,d)}}catch(p){f.e(p)}finally{f.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(l,e)})),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(u,e),l.parent&&(l.__r3f.autoRemovedBeforeAppend=!0),r(u,l),l.raycast&&l.__r3f.eventCount&&l.__r3f.root.getState().internal.interaction.push(l),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=l,e.ref&&("function"==typeof e.ref?e.ref(l):e.ref.current=l))}))}}(e,i,s,u):lr(e,f)},commitMount:function(e,t,n,r){var i,a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return rr(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&sr(i,e,r),e.isObject3D&&(e.visible=!1),cr(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&or(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),cr(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:function(){return t?t():An.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!=typeof performance&&tr.fun(performance.now)?performance.now:tr.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:tr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:tr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:lr}}(0,(function(){var e,t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return An.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return An.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return An.ContinuousEventPriority;default:return An.DefaultEventPriority}})),Fr=zr.reconciler,jr=zr.applyProps,Br={objects:"shallow",strict:!1},Ur=function(e,t){var n="function"==typeof e?e(t):e;return wr(n)?n:new P.WebGLRenderer(G({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function Zr(e,t){if(t)return t;if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){var n=e.parentElement.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,left:n.left}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}function Vr(e){var t=Rr.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");var i="function"==typeof reportError?reportError:console.error,a=r||function(e,t){var n=On((function(n,r){var i=new P.Vector3,a=new P.Vector3,o=new P.Vector3;function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r().size,s=n.width,u=n.height,l=n.top,c=n.left,f=s/u;t instanceof P.Vector3?o.copy(t):o.set.apply(o,(0,C.Z)(t));var d=e.getWorldPosition(i).distanceTo(o);if(Gn(e))return{width:s/e.zoom,height:u/e.zoom,top:l,left:c,factor:1,distance:d,aspect:f};var p=e.fov*Math.PI/180,h=2*Math.tan(p/2)*d,v=h*(s/u);return{width:v,height:h,top:l,left:c,factor:s/v,distance:d,aspect:f}}var u,l=function(e){return n((function(t){return{performance:q(G({},t.performance),{current:e})}}))},c=new P.Vector2;return{set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(r(),t)},advance:function(e,n){return t(e,n,r())},legacy:!1,linear:!1,flat:!1,controls:null,clock:new P.Clock,pointer:c,mouse:c,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=r();u&&clearTimeout(u),e.performance.current!==e.performance.min&&l(e.performance.min),u=setTimeout((function(){return l(r().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:s},setEvents:function(e){return n((function(t){return q(G({},t),{events:G(G({},t.events),e)})}))},setSize:function(e,t,i,o,u){var l=r().camera,c={width:e,height:t,top:o||0,left:u||0,updateStyle:i};n((function(e){return{size:c,viewport:G(G({},e.viewport),s(l,a,c))}}))},setDpr:function(e){return n((function(t){var n=Jn(e);return{viewport:q(G({},t.viewport),{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Pn.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}}})),r=n.getState(),i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe((function(){var e=n.getState(),t=e.camera,r=e.size,s=e.viewport,u=e.gl,l=e.set;if(r!==i||s.dpr!==a){var c;i=r,a=s.dpr,dr(t,r),u.setPixelRatio(s.dpr);var f=null!=(c=r.updateStyle)?c:"undefined"!=typeof HTMLCanvasElement&&u.domElement instanceof HTMLCanvasElement;u.setSize(r.width,r.height,f)}t!==o&&(o=t,l((function(e){return{viewport:G(G({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),n.subscribe((function(t){return e(t)})),n}(Lr,Nr),o=n||Fr.createContainer(a,An.ConcurrentRoot,null,!1,null,"",i,null);t||Rr.set(e,{fiber:o,store:a});var s,u,l=!1;return{configure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t.size,i=t.scene,o=t.events,c=t.onCreated,f=t.shadows,d=void 0!==f&&f,p=t.linear,h=void 0!==p&&p,v=t.flat,m=void 0!==v&&v,g=t.legacy,y=void 0!==g&&g,b=t.orthographic,w=void 0!==b&&b,x=t.frameloop,_=void 0===x?"always":x,S=t.dpr,k=void 0===S?[1,2]:S,E=t.performance,C=t.raycaster,M=t.camera,T=t.onPointerMissed,A=a.getState(),D=A.gl;A.gl||A.set({gl:D=Ur(n,e)});var I=A.raycaster;I||A.set({raycaster:I=new P.Raycaster});var R,O=C||{},L=O.params,N=X(O,["params"]);if(tr.equ(N,I,Br)||jr(I,G({},N)),tr.equ(L,I.params,Br)||jr(I,{params:G(G({},I.params),L)}),!A.camera||A.camera===u&&!tr.equ(u,M,Br)){u=M;var z=M instanceof P.Camera,F=z?M:w?new P.OrthographicCamera(0,0,0,0,.1,1e3):new P.PerspectiveCamera(75,0,.1,1e3);z||(F.position.z=5,M&&jr(F,M),!A.camera&&!(null!=M&&M.rotation)&&F.lookAt(0,0,0)),A.set({camera:F})}A.scene||(i instanceof P.Scene?R=i:(R=new P.Scene,i&&jr(R,i)),A.set({scene:rr(R)}));if(!A.xr){var j,B=function(e,t){var n=a.getState();"never"!==n.frameloop&&Nr(e,!0,n,t)},U=function(){var e=a.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?B:null),e.gl.xr.isPresenting||Lr(e)},Z={connect:function(){var e=a.getState().gl;e.xr.addEventListener("sessionstart",U),e.xr.addEventListener("sessionend",U)},disconnect:function(){var e=a.getState().gl;e.xr.removeEventListener("sessionstart",U),e.xr.removeEventListener("sessionend",U)}};"function"==typeof(null==(j=D.xr)?void 0:j.addEventListener)&&Z.connect(),A.set({xr:Z})}if(D.shadowMap){var V=D.shadowMap.enabled,H=D.shadowMap.type;if(D.shadowMap.enabled=!!d,tr.boo(d))D.shadowMap.type=P.PCFSoftShadowMap;else if(tr.str(d)){var W,q={basic:P.BasicShadowMap,percentage:P.PCFShadowMap,soft:P.PCFSoftShadowMap,variance:P.VSMShadowMap};D.shadowMap.type=null!=(W=q[d])?W:P.PCFSoftShadowMap}else tr.obj(d)&&Object.assign(D.shadowMap,d);(V!==D.shadowMap.enabled||H!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}var K=Wn();K&&("enabled"in K?K.enabled=!y:"legacyMode"in K&&(K.legacyMode=y)),jr(D,{outputEncoding:h?3e3:3001,toneMapping:m?P.NoToneMapping:P.ACESFilmicToneMapping}),A.legacy!==y&&A.set((function(){return{legacy:y}})),A.linear!==h&&A.set((function(){return{linear:h}})),A.flat!==m&&A.set((function(){return{flat:m}})),n&&!tr.fun(n)&&!wr(n)&&!tr.equ(n,D,Br)&&jr(D,n),o&&!A.events.handlers&&A.set({events:o(a)});var Y=Zr(e,r);return tr.equ(Y,A.size,Br)||A.setSize(Y.width,Y.height,Y.updateStyle,Y.top,Y.left),k&&A.viewport.dpr!==Jn(k)&&A.setDpr(k),A.frameloop!==_&&A.setFrameloop(_),A.onPointerMissed||A.set({onPointerMissed:T}),E&&!tr.equ(E,A.performance,Br)&&A.set((function(e){return{performance:G(G({},e.performance),E)}})),s=c,l=!0,this},render:function(t){return l||this.configure(),Fr.updateContainer(Pn.createElement(Hr,{store:a,children:t,onCreated:s,rootElement:e}),o,null,(function(){})),a},unmount:function(){Wr(e)}}}function Hr(e){var t=e.store,n=e.children,r=e.onCreated,i=e.rootElement;return qn((function(){var e=t.getState();e.set((function(e){return{internal:q(G({},e.internal),{active:!0})}})),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)}),[]),Pn.createElement(xr.Provider,{value:t},n)}function Wr(e,t){var n=Rr.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),Fr.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),Rr.delete(e),t&&t(e)}catch(s){}}),500)}))}}function Gr(e){var t=e.state,n=void 0===t?{}:t,r=e.children,i=e.container,a=n,o=a.events,s=a.size,u=X(a,["events","size"]),l=Tr(),c=Pn.useState((function(){return new P.Raycaster})),f=(0,M.Z)(c,1)[0],d=Pn.useState((function(){return new P.Vector2})),p=(0,M.Z)(d,1)[0],h=Pn.useCallback((function(e,t){var n,r=G({},e);if(Object.keys(e).forEach((function(n){(br.includes(n)||e[n]!==t[n]&&t[n])&&delete r[n]})),t&&s){var a=t.camera;n=e.viewport.getCurrentViewport(a,new P.Vector3,s),a!==e.camera&&dr(a,s)}return G(q(G({},r),{scene:i,raycaster:f,pointer:p,mouse:p,previousRoot:l,events:G(G(G({},e.events),null==t?void 0:t.events),o),size:G(G({},e.size),s),viewport:G(G({},e.viewport),n)}),u)}),[n]),v=Pn.useState((function(){var e=l.getState();return On((function(t,n){return q(G(q(G({},e),{scene:i,raycaster:f,pointer:p,mouse:p,previousRoot:l,events:G(G({},e.events),o),size:G(G({},e.size),s)}),u),{set:t,get:n,setEvents:function(e){return t((function(t){return q(G({},t),{events:G(G({},t.events),e)})}))}})}))})),m=(0,M.Z)(v,1)[0];return Pn.useEffect((function(){var e=l.subscribe((function(e){return m.setState((function(t){return h(e,t)}))}));return function(){e(),m.destroy()}}),[]),Pn.useEffect((function(){m.setState((function(e){return h(l.getState(),e)}))}),[h]),Pn.createElement(Pn.Fragment,null,Fr.createPortal(Pn.createElement(xr.Provider,{value:m},r),m,null))}function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qr.apply(this,arguments)}Fr.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Pn.version});var Xr=$(te()),Kr=$(te()),Yr=$(ue());function Qr(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,r=t.scroll,i=t.polyfill,a=t.offsetSize,o=i||("undefined"==typeof window?function(){return(0,_.Z)((function e(){(0,x.Z)(this,e)}))}():window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var s=(0,Kr.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=(0,M.Z)(s,2),l=u[0],c=u[1],f=(0,Kr.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),d=n?"number"==typeof n?n:n.scroll:null,p=n?"number"==typeof n?n:n.resize:null,h=(0,Kr.useRef)(!1);(0,Kr.useEffect)((function(){return h.current=!0,function(){h.current=!1}}));var v=(0,Kr.useMemo)((function(){var e=function(){if(f.current.element){var e=f.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};f.current.element instanceof HTMLElement&&a&&(t.height=f.current.element.offsetHeight,t.width=f.current.element.offsetWidth),Object.freeze(t),h.current&&!ei(f.current.lastBounds,t)&&c(f.current.lastBounds=t)}};return[e,p?(0,Yr.default)(e,p):e,d?(0,Yr.default)(e,d):e]}),[c,a,d,p]),m=(0,M.Z)(v,3),g=m[0],y=m[1],b=m[2];function w(){f.current.scrollContainers&&(f.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",b,!0)})),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null)}function S(){f.current.element&&(f.current.resizeObserver=new o(b),f.current.resizeObserver.observe(f.current.element),r&&f.current.scrollContainers&&f.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",b,{capture:!0,passive:!0})})))}var k,E,C;return E=b,C=!!r,(0,Kr.useEffect)((function(){if(C){var e=E;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[E,C]),k=y,(0,Kr.useEffect)((function(){var e=k;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[k]),(0,Kr.useEffect)((function(){w(),S()}),[r,b,y]),(0,Kr.useEffect)((function(){return w}),[]),[function(e){!e||e===f.current.element||(w(),f.current.element=e,f.current.scrollContainers=$r(e),S())},l,g]}function $r(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,(0,C.Z)($r(e.parentElement)))}var Jr=["x","y","top","bottom","left","right","width","height"],ei=function(e,t){return Jr.every((function(n){return e[n]===t[n]}))},ti=$(te(),1),ni=Object.defineProperty,ri=Object.defineProperties,ii=Object.getOwnPropertyDescriptors,ai=Object.getOwnPropertySymbols,oi=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable,ui=function(e,t,n){return t in e?ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},li=function(e,t){for(var n in t||(t={}))oi.call(t,n)&&ui(e,n,t[n]);if(ai){var r,i=(0,T.Z)(ai(t));try{for(i.s();!(r=i.n()).done;){n=r.value;si.call(t,n)&&ui(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e};function ci(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var i=ci(r,t,n);if(i)return i;r=t?null:r.sibling}}}function fi(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(t){return e}}var di=fi(ti.createContext(null)),pi=function(e){(0,S.Z)(n,e);var t=(0,k.Z)(n);function n(){return(0,x.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"render",value:function(){return ti.createElement(di.Provider,{value:this._reactInternals},this.props.children)}}]),n}(ti.Component),hi=ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vi=hi.ReactCurrentOwner,mi=hi.ReactCurrentDispatcher;function gi(){var e,t,n=function(){var e=ti.useContext(di);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var t=ti.useId();return ti.useMemo((function(){for(var n=0,r=[null==vi?void 0:vi.current,e,null==e?void 0:e.alternate];n<r.length;n++){var i=r[n];if(i){var a=ci(i,!1,(function(e){for(var n=e.memoizedState;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(a)return a}}}),[e,t])}(),r=ti.useState((function(){return new Map})),i=(0,M.Z)(r,1)[0];i.clear();for(var a=n;a;){var o=null==(e=a.type)?void 0:e._context;o&&o!==di&&!i.has(o)&&i.set(o,null==(t=null==mi?void 0:mi.current)?void 0:t.readContext(fi(o))),a=a.return}return i}function yi(){var e=gi();return ti.useMemo((function(){return Array.from(e.keys()).reduce((function(t,n){return function(r){return ti.createElement(t,null,ti.createElement(n.Provider,(i=li({},r),a={value:e.get(n)},ri(i,ii(a)))));var i,a}}),(function(e){return ti.createElement(pi,li({},e))}))}),[e])}$(re()),$(se()),$(ae());var bi={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function wi(e){var t=vr(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(bi).reduce((function(e,n){return q(G({},e),(0,b.Z)({},n,t(n)))}),{}),update:function(){var t,n=e.getState(),r=n.events,i=n.internal;null!=(t=i.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:q(G({},e.events),{connected:t})}})),Object.entries(null!=(n=a.handlers)?n:[]).forEach((function(e){var n=(0,M.Z)(e,2),r=n[0],i=n[1],a=(0,M.Z)(bi[r],2),o=a[0],s=a[1];t.addEventListener(o,i,{passive:s})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=(0,M.Z)(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=(0,M.Z)(bi[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:q(G({},e.events),{connected:void 0})}})))}}}var xi=Xr.forwardRef((function(e,t){var n=e,r=n.children,i=n.fallback,a=n.resize,o=n.style,s=n.gl,u=n.events,l=void 0===u?wi:u,c=n.eventSource,f=n.eventPrefix,d=n.shadows,p=n.linear,h=n.flat,v=n.legacy,m=n.orthographic,g=n.frameloop,y=n.dpr,b=n.performance,w=n.raycaster,x=n.camera,_=n.onPointerMissed,S=n.onCreated,k=X(n,["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);Xr.useMemo((function(){return e=P,void Object.assign(Un,e);var e}),[]);var E=yi(),C=Qr(G({scroll:!0,debounce:{scroll:50,resize:0}},a)),T=(0,M.Z)(C,2),A=T[0],D=T[1],I=Xr.useRef(null),R=Xr.useRef(null);Xr.useImperativeHandle(t,(function(){return I.current}));var O=Xn(_),L=Xr.useState(!1),N=(0,M.Z)(L,2),z=N[0],F=N[1],j=Xr.useState(!1),B=(0,M.Z)(j,2),U=B[0],Z=B[1];if(z)throw z;if(U)throw U;var V=Xr.useRef(null);return qn((function(){var e=I.current;D.width>0&&D.height>0&&e&&(V.current||(V.current=Vr(e)),V.current.configure({gl:s,events:l,shadows:d,linear:p,flat:h,legacy:v,orthographic:m,frameloop:g,dpr:y,performance:b,raycaster:w,camera:x,size:D,onPointerMissed:function(){return null==O.current?void 0:O.current.apply(O,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(c?(t=c)&&t.hasOwnProperty("current")?c.current:c:R.current),f&&e.setEvents({compute:function(e,t){var n=e[f+"X"],r=e[f+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==S||S(e)}}),V.current.render(Xr.createElement(E,null,Xr.createElement(Yn,{set:Z},Xr.createElement(Xr.Suspense,{fallback:Xr.createElement(Kn,{set:F})},r)))))})),Xr.useEffect((function(){var e=I.current;if(e)return function(){return Wr(e)}}),[]),Xr.createElement("div",qr({ref:R,style:G({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:c?"none":"auto"},o)},k),Xr.createElement("div",{ref:A,style:{width:"100%",height:"100%"}},Xr.createElement("canvas",{ref:I,style:{display:"block"}},i)))})),_i=Xr.forwardRef((function(e,t){return Xr.createElement(pi,null,Xr.createElement(xi,qr({},e,{ref:t})))})),Si=$(le()),ki=$(xn()),Ei=$(te()),Ci=$(te());function Mi(){return Mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(this,arguments)}var Ti=$(te()),Pi=$(_n()),Ai=new P.Vector3,Di=new P.Vector3,Ii=new P.Vector3;function Ri(e,t,n){var r=Ai.setFromMatrixPosition(e.matrixWorld);r.project(t);var i=n.width/2,a=n.height/2;return[r.x*i+i,-r.y*a+a]}var Oi=function(e){return Math.abs(e)<1e-10?0:e};function Li(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(",i=0;16!==i;i++)r+=Oi(t[i]*e.elements[i])+(15!==i?",":")");return n+r}var Ni,zi=(Ni=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],function(e){return Li(e,Ni)}),Fi=function(e,t){return Li(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n};var ji=Ti.forwardRef((function(e,t){var n=e,r=n.children,i=n.eps,a=void 0===i?.001:i,o=n.style,s=n.className,u=n.prepend,l=n.center,c=n.fullscreen,f=n.portal,d=n.distanceFactor,p=n.sprite,h=void 0!==p&&p,v=n.transform,m=void 0!==v&&v,g=n.occlude,y=n.onOcclude,b=n.castShadow,w=n.receiveShadow,x=n.material,_=n.geometry,S=n.zIndexRange,k=void 0===S?[16777271,0]:S,E=n.calculatePosition,C=void 0===E?Ri:E,T=n.as,A=void 0===T?"div":T,D=n.wrapperClass,I=n.pointerEvents,R=void 0===I?"auto":I,O=X(n,["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","castShadow","receiveShadow","material","geometry","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"]),L=Pr(),N=L.gl,z=L.camera,F=L.scene,j=L.size,B=L.raycaster,U=L.events,Z=L.viewport,V=Ti.useState((function(){return document.createElement(A)})),H=(0,M.Z)(V,1)[0],W=Ti.useRef(),q=Ti.useRef(null),K=Ti.useRef(0),Y=Ti.useRef([0,0]),Q=Ti.useRef(null),$=Ti.useRef(null),J=(null==f?void 0:f.current)||U.connected||N.domElement.parentNode,ee=Ti.useRef(null),te=Ti.useRef(!1),ne=Ti.useMemo((function(){return g&&"blending"!==g||Array.isArray(g)&&g.length&&function(e){return e&&"object"==typeof e&&"current"in e}(g[0])}),[g]);Ti.useLayoutEffect((function(){var e=N.domElement;g&&"blending"===g?(e.style.zIndex="".concat(Math.floor(k[0]/2)),e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[g]),Ti.useLayoutEffect((function(){if(q.current){var e=W.current=Pi.createRoot(H);if(F.updateMatrixWorld(),m)H.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{var t=C(q.current,z,j);H.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(t[0],"px,").concat(t[1],"px,0);transform-origin:0 0;")}return J&&(u?J.prepend(H):J.appendChild(H)),function(){J&&J.removeChild(H),e.unmount()}}}),[J,m]),Ti.useLayoutEffect((function(){D&&(H.className=D)}),[D]);var re=Ti.useMemo((function(){return m?{position:"absolute",top:0,left:0,width:j.width,height:j.height,transformStyle:"preserve-3d",pointerEvents:"none"}:G(G({position:"absolute",transform:l?"translate3d(-50%,-50%,0)":"none"},c&&{top:-j.height/2,left:-j.width/2,width:j.width,height:j.height}),o)}),[o,l,c,j,m]),ie=Ti.useMemo((function(){return{position:"absolute",pointerEvents:R}}),[R]);Ti.useLayoutEffect((function(){var e,n;(te.current=!1,m)?null==(e=W.current)||e.render(Ti.createElement("div",{ref:Q,style:re},Ti.createElement("div",{ref:$,style:ie},Ti.createElement("div",{ref:t,className:s,style:o,children:r})))):null==(n=W.current)||n.render(Ti.createElement("div",{ref:t,style:re,className:s,children:r}))}));var ae=Ti.useRef(!0);Ar((function(e){if(q.current){z.updateMatrixWorld(),q.current.updateWorldMatrix(!0,!1);var t=m?Y.current:C(q.current,z,j);if(m||Math.abs(K.current-z.zoom)>a||Math.abs(Y.current[0]-t[0])>a||Math.abs(Y.current[1]-t[1])>a){var n=function(e,t){var n=Ai.setFromMatrixPosition(e.matrixWorld),r=Di.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),a=t.getWorldDirection(Ii);return i.angleTo(a)>Math.PI/2}(q.current,z),r=!1;ne&&("blending"!==g?r=[F]:Array.isArray(g)&&(r=g.map((function(e){return e.current}))));var i=ae.current;if(r){var o=function(e,t,n,r){var i=Ai.setFromMatrixPosition(e.matrixWorld),a=i.clone();a.project(t),n.setFromCamera(a,t);var o=n.intersectObjects(r,!0);if(o.length){var s=o[0].distance;return i.distanceTo(n.ray.origin)<s}return!0}(q.current,z,B,r);ae.current=o&&!n}else ae.current=!n;i!==ae.current&&(y?y(!ae.current):H.style.display=ae.current?"block":"none");var s=Math.floor(k[0]/2),u=g?ne?[k[0],s]:[s-1,0]:k;if(H.style.zIndex="".concat(function(e,t,n){if(t instanceof P.PerspectiveCamera||t instanceof P.OrthographicCamera){var r=Ai.setFromMatrixPosition(e.matrixWorld),i=Di.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(t.far-t.near),s=n[1]-o*t.far;return Math.round(o*a+s)}}(q.current,z,u)),m){var l=j.width/2,c=j.height/2,f=z.projectionMatrix.elements[5]*c,p=z.isOrthographicCamera,v=z.top,b=z.left,w=z.bottom,x=z.right,S=zi(z.matrixWorldInverse),E=p?"scale(".concat(f,")translate(").concat(Oi(-(x+b)/2),"px,").concat(Oi((v+w)/2),"px)"):"translateZ(".concat(f,"px)"),M=q.current.matrixWorld;h&&((M=z.matrixWorldInverse.clone().transpose().copyPosition(M).scale(q.current.scale)).elements[3]=M.elements[7]=M.elements[11]=0,M.elements[15]=1),H.style.width=j.width+"px",H.style.height=j.height+"px",H.style.perspective=p?"":"".concat(f,"px"),Q.current&&$.current&&(Q.current.style.transform="".concat(E).concat(S,"translate(").concat(l,"px,").concat(c,"px)"),$.current.style.transform=Fi(M,1/((d||10)/400)))}else{var T=void 0===d?1:function(e,t){if(t instanceof P.OrthographicCamera)return t.zoom;if(t instanceof P.PerspectiveCamera){var n=Ai.setFromMatrixPosition(e.matrixWorld),r=Di.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}return 1}(q.current,z)*d;H.style.transform="translate3d(".concat(t[0],"px,").concat(t[1],"px,0) scale(").concat(T,")")}Y.current=t,K.current=z.zoom}}if(!ne&&ee.current&&!te.current)if(m){if(Q.current){var A=Q.current.children[0];if(null!=A&&A.clientWidth&&null!=A&&A.clientHeight){if(z.isOrthographicCamera||_)O.scale&&(Array.isArray(O.scale)?O.scale instanceof P.Vector3?ee.current.scale.copy(O.scale.clone().divideScalar(1)):ee.current.scale.set(1/O.scale[0],1/O.scale[1],1/O.scale[2]):ee.current.scale.setScalar(1/O.scale));else{var D=(d||10)/400,I=A.clientWidth*D,R=A.clientHeight*D;ee.current.scale.set(I,R,1)}te.current=!0}}}else{var L=H.children[0];if(null!=L&&L.clientWidth&&null!=L&&L.clientHeight){var N=1/Z.factor,U=L.clientWidth*N,V=L.clientHeight*N;ee.current.scale.set(U,V,1),te.current=!0}ee.current.lookAt(e.camera.position)}}));var oe=Ti.useMemo((function(){return{vertexShader:m?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom" \n            is false. \n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n            \n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "}}),[m]);return Ti.createElement("group",Mi({},O,{ref:q}),g&&!ne&&Ti.createElement("mesh",{castShadow:b,receiveShadow:w,ref:ee},_||Ti.createElement("planeGeometry",null),x||Ti.createElement("shaderMaterial",{side:P.DoubleSide,vertexShader:oe.vertexShader,fragmentShader:oe.fragmentShader})))}));var Bi=function(e){return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)}))}},Ui=Object.defineProperty,Zi=function(e,t,n){return function(e,t,n){t in e?Ui(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},Vi=function(e){(0,S.Z)(n,e);var t=(0,k.Z)(n);function n(e,r){var i,a;(0,x.Z)(this,n),a=t.call(this),Zi((0,m.Z)(a),"isTransformControls",!0),Zi((0,m.Z)(a),"visible",!1),Zi((0,m.Z)(a),"domElement"),Zi((0,m.Z)(a),"raycaster",new P.Raycaster),Zi((0,m.Z)(a),"gizmo"),Zi((0,m.Z)(a),"plane"),Zi((0,m.Z)(a),"tempVector",new P.Vector3),Zi((0,m.Z)(a),"tempVector2",new P.Vector3),Zi((0,m.Z)(a),"tempQuaternion",new P.Quaternion),Zi((0,m.Z)(a),"unit",{X:new P.Vector3(1,0,0),Y:new P.Vector3(0,1,0),Z:new P.Vector3(0,0,1)}),Zi((0,m.Z)(a),"pointStart",new P.Vector3),Zi((0,m.Z)(a),"pointEnd",new P.Vector3),Zi((0,m.Z)(a),"offset",new P.Vector3),Zi((0,m.Z)(a),"rotationAxis",new P.Vector3),Zi((0,m.Z)(a),"startNorm",new P.Vector3),Zi((0,m.Z)(a),"endNorm",new P.Vector3),Zi((0,m.Z)(a),"rotationAngle",0),Zi((0,m.Z)(a),"cameraPosition",new P.Vector3),Zi((0,m.Z)(a),"cameraQuaternion",new P.Quaternion),Zi((0,m.Z)(a),"cameraScale",new P.Vector3),Zi((0,m.Z)(a),"parentPosition",new P.Vector3),Zi((0,m.Z)(a),"parentQuaternion",new P.Quaternion),Zi((0,m.Z)(a),"parentQuaternionInv",new P.Quaternion),Zi((0,m.Z)(a),"parentScale",new P.Vector3),Zi((0,m.Z)(a),"worldPositionStart",new P.Vector3),Zi((0,m.Z)(a),"worldQuaternionStart",new P.Quaternion),Zi((0,m.Z)(a),"worldScaleStart",new P.Vector3),Zi((0,m.Z)(a),"worldPosition",new P.Vector3),Zi((0,m.Z)(a),"worldQuaternion",new P.Quaternion),Zi((0,m.Z)(a),"worldQuaternionInv",new P.Quaternion),Zi((0,m.Z)(a),"worldScale",new P.Vector3),Zi((0,m.Z)(a),"eye",new P.Vector3),Zi((0,m.Z)(a),"positionStart",new P.Vector3),Zi((0,m.Z)(a),"quaternionStart",new P.Quaternion),Zi((0,m.Z)(a),"scaleStart",new P.Vector3),Zi((0,m.Z)(a),"camera"),Zi((0,m.Z)(a),"object"),Zi((0,m.Z)(a),"enabled",!0),Zi((0,m.Z)(a),"axis",null),Zi((0,m.Z)(a),"mode","translate"),Zi((0,m.Z)(a),"translationSnap",null),Zi((0,m.Z)(a),"rotationSnap",null),Zi((0,m.Z)(a),"scaleSnap",null),Zi((0,m.Z)(a),"space","world"),Zi((0,m.Z)(a),"size",1),Zi((0,m.Z)(a),"dragging",!1),Zi((0,m.Z)(a),"showX",!0),Zi((0,m.Z)(a),"showY",!0),Zi((0,m.Z)(a),"showZ",!0),Zi((0,m.Z)(a),"changeEvent",{type:"change"}),Zi((0,m.Z)(a),"mouseDownEvent",{type:"mouseDown",mode:a.mode}),Zi((0,m.Z)(a),"mouseUpEvent",{type:"mouseUp",mode:a.mode}),Zi((0,m.Z)(a),"objectChangeEvent",{type:"objectChange"}),Zi((0,m.Z)(a),"intersectObjectWithRay",(function(e,t,n){for(var r=t.intersectObject(e,!0),i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1})),Zi((0,m.Z)(a),"attach",(function(e){return a.object=e,a.visible=!0,(0,m.Z)(a)})),Zi((0,m.Z)(a),"detach",(function(){return a.object=void 0,a.visible=!1,a.axis=null,(0,m.Z)(a)})),Zi((0,m.Z)(a),"reset",(function(){return a.enabled?(a.dragging&&void 0!==a.object&&(a.object.position.copy(a.positionStart),a.object.quaternion.copy(a.quaternionStart),a.object.scale.copy(a.scaleStart),a.dispatchEvent(a.changeEvent),a.dispatchEvent(a.objectChangeEvent),a.pointStart.copy(a.pointEnd)),(0,m.Z)(a)):(0,m.Z)(a)})),Zi((0,m.Z)(a),"updateMatrixWorld",(function(){void 0!==a.object&&(a.object.updateMatrixWorld(),null===a.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):a.object.parent.matrixWorld.decompose(a.parentPosition,a.parentQuaternion,a.parentScale),a.object.matrixWorld.decompose(a.worldPosition,a.worldQuaternion,a.worldScale),a.parentQuaternionInv.copy(a.parentQuaternion).invert(),a.worldQuaternionInv.copy(a.worldQuaternion).invert()),a.camera.updateMatrixWorld(),a.camera.matrixWorld.decompose(a.cameraPosition,a.cameraQuaternion,a.cameraScale),a.eye.copy(a.cameraPosition).sub(a.worldPosition).normalize(),(0,g.Z)((i=(0,m.Z)(a),(0,y.Z)(n.prototype)),"updateMatrixWorld",i).call(i)})),Zi((0,m.Z)(a),"pointerHover",(function(e){if(void 0!==a.object&&!0!==a.dragging){a.raycaster.setFromCamera(e,a.camera);var t=a.intersectObjectWithRay(a.gizmo.picker[a.mode],a.raycaster);a.axis=t?t.object.name:null}})),Zi((0,m.Z)(a),"pointerDown",(function(e){if(void 0!==a.object&&!0!==a.dragging&&0===e.button&&null!==a.axis){a.raycaster.setFromCamera(e,a.camera);var t=a.intersectObjectWithRay(a.plane,a.raycaster,!0);if(t){var n=a.space;if("scale"===a.mode?n="local":("E"===a.axis||"XYZE"===a.axis||"XYZ"===a.axis)&&(n="world"),"local"===n&&"rotate"===a.mode){var r=a.rotationSnap;"X"===a.axis&&r&&(a.object.rotation.x=Math.round(a.object.rotation.x/r)*r),"Y"===a.axis&&r&&(a.object.rotation.y=Math.round(a.object.rotation.y/r)*r),"Z"===a.axis&&r&&(a.object.rotation.z=Math.round(a.object.rotation.z/r)*r)}a.object.updateMatrixWorld(),a.object.parent&&a.object.parent.updateMatrixWorld(),a.positionStart.copy(a.object.position),a.quaternionStart.copy(a.object.quaternion),a.scaleStart.copy(a.object.scale),a.object.matrixWorld.decompose(a.worldPositionStart,a.worldQuaternionStart,a.worldScaleStart),a.pointStart.copy(t.point).sub(a.worldPositionStart)}a.dragging=!0,a.mouseDownEvent.mode=a.mode,a.dispatchEvent(a.mouseDownEvent)}})),Zi((0,m.Z)(a),"pointerMove",(function(e){var t=a.axis,n=a.mode,r=a.object,i=a.space;if("scale"===n?i="local":("E"===t||"XYZE"===t||"XYZ"===t)&&(i="world"),void 0!==r&&null!==t&&!1!==a.dragging&&-1===e.button){a.raycaster.setFromCamera(e,a.camera);var o=a.intersectObjectWithRay(a.plane,a.raycaster,!0);if(o){if(a.pointEnd.copy(o.point).sub(a.worldPositionStart),"translate"===n)a.offset.copy(a.pointEnd).sub(a.pointStart),"local"===i&&"XYZ"!==t&&a.offset.applyQuaternion(a.worldQuaternionInv),-1===t.indexOf("X")&&(a.offset.x=0),-1===t.indexOf("Y")&&(a.offset.y=0),-1===t.indexOf("Z")&&(a.offset.z=0),"local"===i&&"XYZ"!==t?a.offset.applyQuaternion(a.quaternionStart).divide(a.parentScale):a.offset.applyQuaternion(a.parentQuaternionInv).divide(a.parentScale),r.position.copy(a.offset).add(a.positionStart),a.translationSnap&&("local"===i&&(r.position.applyQuaternion(a.tempQuaternion.copy(a.quaternionStart).invert()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/a.translationSnap)*a.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/a.translationSnap)*a.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/a.translationSnap)*a.translationSnap),r.position.applyQuaternion(a.quaternionStart)),"world"===i&&(r.parent&&r.position.add(a.tempVector.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/a.translationSnap)*a.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/a.translationSnap)*a.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/a.translationSnap)*a.translationSnap),r.parent&&r.position.sub(a.tempVector.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var s=a.pointEnd.length()/a.pointStart.length();a.pointEnd.dot(a.pointStart)<0&&(s*=-1),a.tempVector2.set(s,s,s)}else a.tempVector.copy(a.pointStart),a.tempVector2.copy(a.pointEnd),a.tempVector.applyQuaternion(a.worldQuaternionInv),a.tempVector2.applyQuaternion(a.worldQuaternionInv),a.tempVector2.divide(a.tempVector),-1===t.search("X")&&(a.tempVector2.x=1),-1===t.search("Y")&&(a.tempVector2.y=1),-1===t.search("Z")&&(a.tempVector2.z=1);r.scale.copy(a.scaleStart).multiply(a.tempVector2),a.scaleSnap&&a.object&&(-1!==t.search("X")&&(a.object.scale.x=Math.round(r.scale.x/a.scaleSnap)*a.scaleSnap||a.scaleSnap),-1!==t.search("Y")&&(r.scale.y=Math.round(r.scale.y/a.scaleSnap)*a.scaleSnap||a.scaleSnap),-1!==t.search("Z")&&(r.scale.z=Math.round(r.scale.z/a.scaleSnap)*a.scaleSnap||a.scaleSnap))}else if("rotate"===n){a.offset.copy(a.pointEnd).sub(a.pointStart);var u=20/a.worldPosition.distanceTo(a.tempVector.setFromMatrixPosition(a.camera.matrixWorld));"E"===t?(a.rotationAxis.copy(a.eye),a.rotationAngle=a.pointEnd.angleTo(a.pointStart),a.startNorm.copy(a.pointStart).normalize(),a.endNorm.copy(a.pointEnd).normalize(),a.rotationAngle*=a.endNorm.cross(a.startNorm).dot(a.eye)<0?1:-1):"XYZE"===t?(a.rotationAxis.copy(a.offset).cross(a.eye).normalize(),a.rotationAngle=a.offset.dot(a.tempVector.copy(a.rotationAxis).cross(a.eye))*u):("X"===t||"Y"===t||"Z"===t)&&(a.rotationAxis.copy(a.unit[t]),a.tempVector.copy(a.unit[t]),"local"===i&&a.tempVector.applyQuaternion(a.worldQuaternion),a.rotationAngle=a.offset.dot(a.tempVector.cross(a.eye).normalize())*u),a.rotationSnap&&(a.rotationAngle=Math.round(a.rotationAngle/a.rotationSnap)*a.rotationSnap),"local"===i&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(a.quaternionStart),r.quaternion.multiply(a.tempQuaternion.setFromAxisAngle(a.rotationAxis,a.rotationAngle)).normalize()):(a.rotationAxis.applyQuaternion(a.parentQuaternionInv),r.quaternion.copy(a.tempQuaternion.setFromAxisAngle(a.rotationAxis,a.rotationAngle)),r.quaternion.multiply(a.quaternionStart).normalize())}a.dispatchEvent(a.changeEvent),a.dispatchEvent(a.objectChangeEvent)}}})),Zi((0,m.Z)(a),"pointerUp",(function(e){0===e.button&&(a.dragging&&null!==a.axis&&(a.mouseUpEvent.mode=a.mode,a.dispatchEvent(a.mouseUpEvent)),a.dragging=!1,a.axis=null)})),Zi((0,m.Z)(a),"getPointer",(function(e){var t,n;if(a.domElement&&null!=(t=a.domElement.ownerDocument)&&t.pointerLockElement)return{x:0,y:0,button:e.button};var r=e.changedTouches?e.changedTouches[0]:e,i=null==(n=a.domElement)?void 0:n.getBoundingClientRect();return{x:(r.clientX-i.left)/i.width*2-1,y:-(r.clientY-i.top)/i.height*2+1,button:e.button}})),Zi((0,m.Z)(a),"onPointerHover",(function(e){if(a.enabled)switch(e.pointerType){case"mouse":case"pen":a.pointerHover(a.getPointer(e))}})),Zi((0,m.Z)(a),"onPointerDown",(function(e){!a.enabled||!a.domElement||(a.domElement.style.touchAction="none",a.domElement.ownerDocument.addEventListener("pointermove",a.onPointerMove),a.pointerHover(a.getPointer(e)),a.pointerDown(a.getPointer(e)))})),Zi((0,m.Z)(a),"onPointerMove",(function(e){a.enabled&&a.pointerMove(a.getPointer(e))})),Zi((0,m.Z)(a),"onPointerUp",(function(e){!a.enabled||!a.domElement||(a.domElement.style.touchAction="",a.domElement.ownerDocument.removeEventListener("pointermove",a.onPointerMove),a.pointerUp(a.getPointer(e)))})),Zi((0,m.Z)(a),"getMode",(function(){return a.mode})),Zi((0,m.Z)(a),"setMode",(function(e){a.mode=e})),Zi((0,m.Z)(a),"setTranslationSnap",(function(e){a.translationSnap=e})),Zi((0,m.Z)(a),"setRotationSnap",(function(e){a.rotationSnap=e})),Zi((0,m.Z)(a),"setScaleSnap",(function(e){a.scaleSnap=e})),Zi((0,m.Z)(a),"setSize",(function(e){a.size=e})),Zi((0,m.Z)(a),"setSpace",(function(e){a.space=e})),Zi((0,m.Z)(a),"update",(function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")})),Zi((0,m.Z)(a),"connect",(function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.addEventListener("pointerdown",a.onPointerDown),a.domElement.addEventListener("pointermove",a.onPointerHover),a.domElement.ownerDocument.addEventListener("pointerup",a.onPointerUp)})),Zi((0,m.Z)(a),"dispose",(function(){var e,t,n,r,i,o;null==(e=a.domElement)||e.removeEventListener("pointerdown",a.onPointerDown),null==(t=a.domElement)||t.removeEventListener("pointermove",a.onPointerHover),null==(r=null==(n=a.domElement)?void 0:n.ownerDocument)||r.removeEventListener("pointermove",a.onPointerMove),null==(o=null==(i=a.domElement)?void 0:i.ownerDocument)||o.removeEventListener("pointerup",a.onPointerUp),a.traverse((function(e){var t=e;t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}))})),a.domElement=r,a.camera=e,a.gizmo=new Hi,a.add(a.gizmo),a.plane=new Wi,a.add(a.plane);var o=function(e,t){var n=t;Object.defineProperty((0,m.Z)(a),e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,this.plane[e]=t,this.gizmo[e]=t,this.dispatchEvent({type:e+"-changed",value:t}),this.dispatchEvent(this.changeEvent))}}),a[e]=t,a.plane[e]=t,a.gizmo[e]=t};return o("camera",a.camera),o("object",a.object),o("enabled",a.enabled),o("axis",a.axis),o("mode",a.mode),o("translationSnap",a.translationSnap),o("rotationSnap",a.rotationSnap),o("scaleSnap",a.scaleSnap),o("space",a.space),o("size",a.size),o("dragging",a.dragging),o("showX",a.showX),o("showY",a.showY),o("showZ",a.showZ),o("worldPosition",a.worldPosition),o("worldPositionStart",a.worldPositionStart),o("worldQuaternion",a.worldQuaternion),o("worldQuaternionStart",a.worldQuaternionStart),o("cameraPosition",a.cameraPosition),o("cameraQuaternion",a.cameraQuaternion),o("pointStart",a.pointStart),o("pointEnd",a.pointEnd),o("rotationAxis",a.rotationAxis),o("rotationAngle",a.rotationAngle),o("eye",a.eye),void 0!==r&&a.connect(r),a}return(0,_.Z)(n)}(P.Object3D),Hi=function(e){(0,S.Z)(n,e);var t=(0,k.Z)(n);function n(){var e,r;(0,x.Z)(this,n),r=t.call(this),Zi((0,m.Z)(r),"isTransformControlsGizmo",!0),Zi((0,m.Z)(r),"type","TransformControlsGizmo"),Zi((0,m.Z)(r),"tempVector",new P.Vector3(0,0,0)),Zi((0,m.Z)(r),"tempEuler",new P.Euler),Zi((0,m.Z)(r),"alignVector",new P.Vector3(0,1,0)),Zi((0,m.Z)(r),"zeroVector",new P.Vector3(0,0,0)),Zi((0,m.Z)(r),"lookAtMatrix",new P.Matrix4),Zi((0,m.Z)(r),"tempQuaternion",new P.Quaternion),Zi((0,m.Z)(r),"tempQuaternion2",new P.Quaternion),Zi((0,m.Z)(r),"identityQuaternion",new P.Quaternion),Zi((0,m.Z)(r),"unitX",new P.Vector3(1,0,0)),Zi((0,m.Z)(r),"unitY",new P.Vector3(0,1,0)),Zi((0,m.Z)(r),"unitZ",new P.Vector3(0,0,1)),Zi((0,m.Z)(r),"gizmo"),Zi((0,m.Z)(r),"picker"),Zi((0,m.Z)(r),"helper"),Zi((0,m.Z)(r),"rotationAxis",new P.Vector3),Zi((0,m.Z)(r),"cameraPosition",new P.Vector3),Zi((0,m.Z)(r),"worldPositionStart",new P.Vector3),Zi((0,m.Z)(r),"worldQuaternionStart",new P.Quaternion),Zi((0,m.Z)(r),"worldPosition",new P.Vector3),Zi((0,m.Z)(r),"worldQuaternion",new P.Quaternion),Zi((0,m.Z)(r),"eye",new P.Vector3),Zi((0,m.Z)(r),"camera",null),Zi((0,m.Z)(r),"enabled",!0),Zi((0,m.Z)(r),"axis",null),Zi((0,m.Z)(r),"mode","translate"),Zi((0,m.Z)(r),"space","world"),Zi((0,m.Z)(r),"size",1),Zi((0,m.Z)(r),"dragging",!1),Zi((0,m.Z)(r),"showX",!0),Zi((0,m.Z)(r),"showY",!0),Zi((0,m.Z)(r),"showZ",!0),Zi((0,m.Z)(r),"updateMatrixWorld",(function(){var t=r.space;"scale"===r.mode&&(t="local");var i="local"===t?r.worldQuaternion:r.identityQuaternion;r.gizmo.translate.visible="translate"===r.mode,r.gizmo.rotate.visible="rotate"===r.mode,r.gizmo.scale.visible="scale"===r.mode,r.helper.translate.visible="translate"===r.mode,r.helper.rotate.visible="rotate"===r.mode,r.helper.scale.visible="scale"===r.mode;var a=[];a=(a=(a=a.concat(r.picker[r.mode].children)).concat(r.gizmo[r.mode].children)).concat(r.helper[r.mode].children);for(var o=function(e){var t=a[e];t.visible=!0,t.rotation.set(0,0,0),t.position.copy(r.worldPosition);var n=void 0;if(n=r.camera.isOrthographicCamera?(r.camera.top-r.camera.bottom)/r.camera.zoom:r.worldPosition.distanceTo(r.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*r.camera.fov/360)/r.camera.zoom,7),t.scale.set(1,1,1).multiplyScalar(n*r.size/7),"helper"===t.tag)return t.visible=!1,"AXIS"===t.name?(t.position.copy(r.worldPositionStart),t.visible=!!r.axis,"X"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,0)),t.quaternion.copy(i).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye))>.9&&(t.visible=!1)),"Y"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,Math.PI/2)),t.quaternion.copy(i).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye))>.9&&(t.visible=!1)),"Z"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),t.quaternion.copy(i).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye))>.9&&(t.visible=!1)),"XYZE"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),r.alignVector.copy(r.rotationAxis),t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.zeroVector,r.alignVector,r.unitY)),t.quaternion.multiply(r.tempQuaternion),t.visible=r.dragging),"E"===r.axis&&(t.visible=!1)):"START"===t.name?(t.position.copy(r.worldPositionStart),t.visible=r.dragging):"END"===t.name?(t.position.copy(r.worldPosition),t.visible=r.dragging):"DELTA"===t.name?(t.position.copy(r.worldPositionStart),t.quaternion.copy(r.worldQuaternionStart),r.tempVector.set(1e-10,1e-10,1e-10).add(r.worldPositionStart).sub(r.worldPosition).multiplyScalar(-1),r.tempVector.applyQuaternion(r.worldQuaternionStart.clone().invert()),t.scale.copy(r.tempVector),t.visible=r.dragging):(t.quaternion.copy(i),r.dragging?t.position.copy(r.worldPositionStart):t.position.copy(r.worldPosition),r.axis&&(t.visible=-1!==r.axis.search(t.name))),"continue";t.quaternion.copy(i),"translate"===r.mode||"scale"===r.mode?(("X"===t.name||"XYZX"===t.name)&&Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye))>.99&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),("Y"===t.name||"XYZY"===t.name)&&Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye))>.99&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),("Z"===t.name||"XYZZ"===t.name)&&Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye))>.99&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XY"===t.name&&Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"YZ"===t.name&&Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XZ"===t.name&&Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),-1!==t.name.search("X")&&(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.x*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Y")&&(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.y*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Z")&&(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.z*=-1:"bwd"===t.tag&&(t.visible=!1))):"rotate"===r.mode&&(r.tempQuaternion2.copy(i),r.alignVector.copy(r.eye).applyQuaternion(r.tempQuaternion.copy(i).invert()),-1!==t.name.search("E")&&t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.eye,r.zeroVector,r.unitY)),"X"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitX,Math.atan2(-r.alignVector.y,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Y"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitY,Math.atan2(r.alignVector.x,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Z"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitZ,Math.atan2(r.alignVector.y,r.alignVector.x)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion))),t.visible=t.visible&&(-1===t.name.indexOf("X")||r.showX),t.visible=t.visible&&(-1===t.name.indexOf("Y")||r.showY),t.visible=t.visible&&(-1===t.name.indexOf("Z")||r.showZ),t.visible=t.visible&&(-1===t.name.indexOf("E")||r.showX&&r.showY&&r.showZ),t.material.tempOpacity=t.material.tempOpacity||t.material.opacity,t.material.tempColor=t.material.tempColor||t.material.color.clone(),t.material.color.copy(t.material.tempColor),t.material.opacity=t.material.tempOpacity,r.enabled?r.axis&&(t.name===r.axis||r.axis.split("").some((function(e){return t.name===e}))?(t.material.opacity=1,t.material.color.lerp(new P.Color(1,1,1),.5)):(t.material.opacity*=.25,t.material.color.lerp(new P.Color(1,1,1),.5))):(t.material.opacity*=.5,t.material.color.lerp(new P.Color(1,1,1),.5))},s=0;s<a.length;s++)o(s);(0,g.Z)((e=(0,m.Z)(r),(0,y.Z)(n.prototype)),"updateMatrixWorld",e).call(e)}));var i=new P.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:P.DoubleSide,fog:!1,toneMapped:!1}),a=new P.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),o=i.clone();o.opacity=.15;var s=i.clone();s.opacity=.33;var u=i.clone();u.color.set(16711680);var l=i.clone();l.color.set(65280);var c=i.clone();c.color.set(255);var f=i.clone();f.opacity=.25;var d=f.clone();d.color.set(16776960);var p=f.clone();p.color.set(65535);var h=f.clone();h.color.set(16711935),i.clone().color.set(16776960);var v=a.clone();v.color.set(16711680);var b=a.clone();b.color.set(65280);var w=a.clone();w.color.set(255);var _=a.clone();_.color.set(65535);var S=a.clone();S.color.set(16711935);var k=a.clone();k.color.set(16776960);var E=a.clone();E.color.set(7895160);var C=k.clone();C.opacity=.25;var M=new P.CylinderGeometry(0,.05,.2,12,1,!1),T=new P.BoxGeometry(.125,.125,.125),A=new P.BufferGeometry;A.setAttribute("position",new P.Float32BufferAttribute([0,0,0,1,0,0],3));var D=function(e,t){for(var n=new P.BufferGeometry,r=[],i=0;i<=64*t;++i)r.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new P.Float32BufferAttribute(r,3)),n},I={X:[[new P.Mesh(M,u),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new P.Mesh(M,u),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new P.Line(A,v)]],Y:[[new P.Mesh(M,l),[0,1,0],null,null,"fwd"],[new P.Mesh(M,l),[0,1,0],[Math.PI,0,0],null,"bwd"],[new P.Line(A,b),null,[0,0,Math.PI/2]]],Z:[[new P.Mesh(M,c),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new P.Mesh(M,c),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new P.Line(A,w),null,[0,-Math.PI/2,0]]],XYZ:[[new P.Mesh(new P.OctahedronGeometry(.1,0),f.clone()),[0,0,0],[0,0,0]]],XY:[[new P.Mesh(new P.PlaneGeometry(.295,.295),d.clone()),[.15,.15,0]],[new P.Line(A,k),[.18,.3,0],null,[.125,1,1]],[new P.Line(A,k),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new P.Mesh(new P.PlaneGeometry(.295,.295),p.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new P.Line(A,_),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new P.Line(A,_),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new P.Mesh(new P.PlaneGeometry(.295,.295),h.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new P.Line(A,S),[.18,0,.3],null,[.125,1,1]],[new P.Line(A,S),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},R={X:[[new P.Mesh(new P.CylinderGeometry(.2,0,1,4,1,!1),o),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new P.Mesh(new P.CylinderGeometry(.2,0,1,4,1,!1),o),[0,.6,0]]],Z:[[new P.Mesh(new P.CylinderGeometry(.2,0,1,4,1,!1),o),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new P.Mesh(new P.OctahedronGeometry(.2,0),o)]],XY:[[new P.Mesh(new P.PlaneGeometry(.4,.4),o),[.2,.2,0]]],YZ:[[new P.Mesh(new P.PlaneGeometry(.4,.4),o),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new P.Mesh(new P.PlaneGeometry(.4,.4),o),[.2,0,.2],[-Math.PI/2,0,0]]]},O={START:[[new P.Mesh(new P.OctahedronGeometry(.01,2),s),null,null,null,"helper"]],END:[[new P.Mesh(new P.OctahedronGeometry(.01,2),s),null,null,null,"helper"]],DELTA:[[new P.Line(function(){var e=new P.BufferGeometry;return e.setAttribute("position",new P.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),s),null,null,null,"helper"]],X:[[new P.Line(A,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new P.Line(A,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new P.Line(A,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},L={X:[[new P.Line(D(1,.5),v)],[new P.Mesh(new P.OctahedronGeometry(.04,0),u),[0,0,.99],null,[1,3,1]]],Y:[[new P.Line(D(1,.5),b),null,[0,0,-Math.PI/2]],[new P.Mesh(new P.OctahedronGeometry(.04,0),l),[0,0,.99],null,[3,1,1]]],Z:[[new P.Line(D(1,.5),w),null,[0,Math.PI/2,0]],[new P.Mesh(new P.OctahedronGeometry(.04,0),c),[.99,0,0],null,[1,3,1]]],E:[[new P.Line(D(1.25,1),C),null,[0,Math.PI/2,0]],[new P.Mesh(new P.CylinderGeometry(.03,0,.15,4,1,!1),C),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new P.Mesh(new P.CylinderGeometry(.03,0,.15,4,1,!1),C),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new P.Mesh(new P.CylinderGeometry(.03,0,.15,4,1,!1),C),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new P.Mesh(new P.CylinderGeometry(.03,0,.15,4,1,!1),C),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new P.Line(D(1,1),E),null,[0,Math.PI/2,0]]]},N={AXIS:[[new P.Line(A,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},z={X:[[new P.Mesh(new P.TorusGeometry(1,.1,4,24),o),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new P.Mesh(new P.TorusGeometry(1,.1,4,24),o),[0,0,0],[Math.PI/2,0,0]]],Z:[[new P.Mesh(new P.TorusGeometry(1,.1,4,24),o),[0,0,0],[0,0,-Math.PI/2]]],E:[[new P.Mesh(new P.TorusGeometry(1.25,.1,2,24),o)]],XYZE:[[new P.Mesh(new P.SphereGeometry(.7,10,8),o)]]},F={X:[[new P.Mesh(T,u),[.8,0,0],[0,0,-Math.PI/2]],[new P.Line(A,v),null,null,[.8,1,1]]],Y:[[new P.Mesh(T,l),[0,.8,0]],[new P.Line(A,b),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new P.Mesh(T,c),[0,0,.8],[Math.PI/2,0,0]],[new P.Line(A,w),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new P.Mesh(T,d),[.85,.85,0],null,[2,2,.2]],[new P.Line(A,k),[.855,.98,0],null,[.125,1,1]],[new P.Line(A,k),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new P.Mesh(T,p),[0,.85,.85],null,[.2,2,2]],[new P.Line(A,_),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new P.Line(A,_),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new P.Mesh(T,h),[.85,0,.85],null,[2,.2,2]],[new P.Line(A,S),[.855,0,.98],null,[.125,1,1]],[new P.Line(A,S),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new P.Mesh(new P.BoxGeometry(.125,.125,.125),f.clone()),[1.1,0,0]]],XYZY:[[new P.Mesh(new P.BoxGeometry(.125,.125,.125),f.clone()),[0,1.1,0]]],XYZZ:[[new P.Mesh(new P.BoxGeometry(.125,.125,.125),f.clone()),[0,0,1.1]]]},j={X:[[new P.Mesh(new P.CylinderGeometry(.2,0,.8,4,1,!1),o),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new P.Mesh(new P.CylinderGeometry(.2,0,.8,4,1,!1),o),[0,.5,0]]],Z:[[new P.Mesh(new P.CylinderGeometry(.2,0,.8,4,1,!1),o),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new P.Mesh(T,o),[.85,.85,0],null,[3,3,.2]]],YZ:[[new P.Mesh(T,o),[0,.85,.85],null,[.2,3,3]]],XZ:[[new P.Mesh(T,o),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new P.Mesh(new P.BoxGeometry(.2,.2,.2),o),[1.1,0,0]]],XYZY:[[new P.Mesh(new P.BoxGeometry(.2,.2,.2),o),[0,1.1,0]]],XYZZ:[[new P.Mesh(new P.BoxGeometry(.2,.2,.2),o),[0,0,1.1]]]},B={X:[[new P.Line(A,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new P.Line(A,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new P.Line(A,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},U=function(e){var t=new P.Object3D;for(var n in e)for(var r=e[n].length;r--;){var i=e[n][r][0].clone(),a=e[n][r][1],o=e[n][r][2],s=e[n][r][3],u=e[n][r][4];i.name=n,i.tag=u,a&&i.position.set(a[0],a[1],a[2]),o&&i.rotation.set(o[0],o[1],o[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();var l=i.geometry.clone();l.applyMatrix4(i.matrix),i.geometry=l,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t};return r.gizmo={},r.picker={},r.helper={},r.add(r.gizmo.translate=U(I)),r.add(r.gizmo.rotate=U(L)),r.add(r.gizmo.scale=U(F)),r.add(r.picker.translate=U(R)),r.add(r.picker.rotate=U(z)),r.add(r.picker.scale=U(j)),r.add(r.helper.translate=U(O)),r.add(r.helper.rotate=U(N)),r.add(r.helper.scale=U(B)),r.picker.translate.visible=!1,r.picker.rotate.visible=!1,r.picker.scale.visible=!1,r}return(0,_.Z)(n)}(P.Object3D),Wi=function(e){(0,S.Z)(n,e);var t=(0,k.Z)(n);function n(){var e,r;return(0,x.Z)(this,n),r=t.call(this,new P.PlaneGeometry(1e5,1e5,2,2),new P.MeshBasicMaterial({visible:!1,wireframe:!0,side:P.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),Zi((0,m.Z)(r),"isTransformControlsPlane",!0),Zi((0,m.Z)(r),"type","TransformControlsPlane"),Zi((0,m.Z)(r),"unitX",new P.Vector3(1,0,0)),Zi((0,m.Z)(r),"unitY",new P.Vector3(0,1,0)),Zi((0,m.Z)(r),"unitZ",new P.Vector3(0,0,1)),Zi((0,m.Z)(r),"tempVector",new P.Vector3),Zi((0,m.Z)(r),"dirVector",new P.Vector3),Zi((0,m.Z)(r),"alignVector",new P.Vector3),Zi((0,m.Z)(r),"tempMatrix",new P.Matrix4),Zi((0,m.Z)(r),"identityQuaternion",new P.Quaternion),Zi((0,m.Z)(r),"cameraQuaternion",new P.Quaternion),Zi((0,m.Z)(r),"worldPosition",new P.Vector3),Zi((0,m.Z)(r),"worldQuaternion",new P.Quaternion),Zi((0,m.Z)(r),"eye",new P.Vector3),Zi((0,m.Z)(r),"axis",null),Zi((0,m.Z)(r),"mode","translate"),Zi((0,m.Z)(r),"space","world"),Zi((0,m.Z)(r),"updateMatrixWorld",(function(){var t=r.space;switch(r.position.copy(r.worldPosition),"scale"===r.mode&&(t="local"),r.unitX.set(1,0,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitY.set(0,1,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitZ.set(0,0,1).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.alignVector.copy(r.unitY),r.mode){case"translate":case"scale":switch(r.axis){case"X":r.alignVector.copy(r.eye).cross(r.unitX),r.dirVector.copy(r.unitX).cross(r.alignVector);break;case"Y":r.alignVector.copy(r.eye).cross(r.unitY),r.dirVector.copy(r.unitY).cross(r.alignVector);break;case"Z":r.alignVector.copy(r.eye).cross(r.unitZ),r.dirVector.copy(r.unitZ).cross(r.alignVector);break;case"XY":r.dirVector.copy(r.unitZ);break;case"YZ":r.dirVector.copy(r.unitX);break;case"XZ":r.alignVector.copy(r.unitZ),r.dirVector.copy(r.unitY);break;case"XYZ":case"E":r.dirVector.set(0,0,0)}break;default:r.dirVector.set(0,0,0)}0===r.dirVector.length()?r.quaternion.copy(r.cameraQuaternion):(r.tempMatrix.lookAt(r.tempVector.set(0,0,0),r.dirVector,r.alignVector),r.quaternion.setFromRotationMatrix(r.tempMatrix)),(0,g.Z)((e=(0,m.Z)(r),(0,y.Z)(n.prototype)),"updateMatrixWorld",e).call(e)})),r}return(0,_.Z)(n)}(P.Mesh),Gi=$(te());var qi=$(te()),Xi=qi.forwardRef((function(e,t){var n=e,r=n.envMap,i=n.resolution,a=void 0===i?256:i,o=n.frames,s=void 0===o?1/0:o,u=n.makeDefault,l=n.children,c=X(n,["envMap","resolution","frames","makeDefault","children"]),f=Pr((function(e){return e.set})),d=Pr((function(e){return e.camera})),p=Pr((function(e){return e.size})),h=qi.useRef(null),v=qi.useRef(null),m=function(e,t,n){var r=Pr((function(e){return e.size})),i=Pr((function(e){return e.viewport})),a="number"==typeof e?e:r.width*i.dpr,o="number"==typeof t?t:r.height*i.dpr,s=("number"==typeof e?n:e)||{},u=s.samples,l=void 0===u?0:u,c=s.depth,f=X(s,["samples","depth"]),d=Gi.useMemo((function(){var e=new P.WebGLRenderTarget(a,o,G({minFilter:P.LinearFilter,magFilter:P.LinearFilter,type:P.HalfFloatType},f));return c&&(e.depthTexture=new P.DepthTexture(a,o,P.FloatType)),e.samples=l,e}),[]);return Gi.useLayoutEffect((function(){d.setSize(a,o),l&&(d.samples=l)}),[l,d,a,o]),Gi.useEffect((function(){return function(){return d.dispose()}}),[]),d}(a);qi.useLayoutEffect((function(){c.manual||(h.current.aspect=p.width/p.height)}),[p,c]),qi.useLayoutEffect((function(){h.current.updateProjectionMatrix()}));var g=0,y=null,b="function"==typeof l;return Ar((function(e){b&&(s===1/0||g<s)&&(v.current.visible=!1,e.gl.setRenderTarget(m),y=e.scene.background,r&&(e.scene.background=r),e.gl.render(e.scene,h.current),e.scene.background=y,e.gl.setRenderTarget(null),v.current.visible=!0,g++)})),qi.useLayoutEffect((function(){if(u){var e=d;return f((function(){return{camera:h.current}})),function(){return f((function(){return{camera:e}}))}}}),[h,u,f]),qi.createElement(qi.Fragment,null,qi.createElement("perspectiveCamera",Mi({ref:Bi([h,t])},c),!b&&l),qi.createElement("group",{ref:v},b&&l(m.texture)))})),Ki=$(te());function Yi(e,t){var n=e+"Geometry";return Ki.forwardRef((function(e,r){var i=e,a=i.args,o=i.children,s=X(i,["args","children"]),u=Ki.useRef(null);return Ki.useImperativeHandle(r,(function(){return u.current})),Ki.useLayoutEffect((function(){null==t||t(u.current)})),Ki.createElement("mesh",Mi({ref:u},s),Ki.createElement(n,{attach:"geometry",args:a}),o)}))}Yi("box"),Yi("circle"),Yi("cone"),Yi("cylinder");var Qi=Yi("sphere"),$i=(Yi("plane"),Yi("tube"),Yi("torus"),Yi("torusKnot"),Yi("tetrahedron"),Yi("ring"),Yi("polyhedron"),Yi("icosahedron"),Yi("octahedron"),Yi("dodecahedron"),Yi("extrude"),Yi("lathe"),Yi("capsule"),Yi("shape",(function(e){var t=e.geometry,n=t.attributes.position,r=(new P.Box3).setFromBufferAttribute(n),i=new P.Vector3;r.getSize(i);for(var a=[],o=0,s=0,u=0,l=0,c=0;c<n.count;c++)o=n.getX(c),s=n.getY(c),u=(o-r.min.x)/i.x,l=(s-r.min.y)/i.y,a.push(u,l);t.setAttribute("uv",new P.Float32BufferAttribute(a,2))})),$(le())),Ji=$(te());function ea(){var e=(0,Ji.useState)(void 0),t=(0,M.Z)(e,2),n=t[0],r=t[1];return(0,Ji.useRef)(n).current=n,(0,Ji.useLayoutEffect)((function(){var e=function(e){var t=e.find((function(e){return"Theatre_SheetObject_PublicAPI"===e.type&&A.Z0.has(e)}));r(t?(0,A.OZ)(t.address):void 0)};return e(I().selection),I().onSelectionChange(e)}),[]),n}var ta="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,na="object"==typeof self&&self&&self.Object===Object&&self,ra=ta||na||Function("return this")(),ia=ra.Symbol,aa=Object.prototype,oa=aa.hasOwnProperty,sa=aa.toString,ua=ia?ia.toStringTag:void 0;var la=function(e){var t=oa.call(e,ua),n=e[ua];try{e[ua]=void 0;var r=!0}catch(a){}var i=sa.call(e);return r&&(t?e[ua]=n:delete e[ua]),i},ca=Object.prototype.toString;var fa=function(e){return ca.call(e)},da=ia?ia.toStringTag:void 0;var pa=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":da&&da in Object(e)?la(e):fa(e)};var ha=function(e){return null!=e&&"object"==typeof e};var va=function(e){return"symbol"==typeof e||ha(e)&&"[object Symbol]"==pa(e)};var ma=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},ga=Array.isArray,ya=ia?ia.prototype:void 0,ba=ya?ya.toString:void 0;var wa=function e(t){if("string"==typeof t)return t;if(ga(t))return ma(t,e)+"";if(va(t))return ba?ba.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},xa=/\s/;var _a=function(e){for(var t=e.length;t--&&xa.test(e.charAt(t)););return t},Sa=/^\s+/;var ka=function(e){return e&&e.slice(0,_a(e)+1).replace(Sa,"")};var Ea=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ca=/^[-+]0x[0-9a-f]+$/i,Ma=/^0b[01]+$/i,Ta=/^0o[0-7]+$/i,Pa=parseInt;var Aa=function(e){if("number"==typeof e)return e;if(va(e))return NaN;if(Ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ka(e);var n=Ma.test(e);return n||Ta.test(e)?Pa(e.slice(2),n?2:8):Ca.test(e)?NaN:+e},Da=1/0;var Ia=function(e){return e?(e=Aa(e))===Da||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var Ra=function(e){var t=Ia(e),n=t%1;return t===t?n?t-n:t:0};var Oa=function(e){return e};var La=function(e){if(!Ea(e))return!1;var t=pa(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Na=ra["__core-js_shared__"],za=function(){var e=/[^.]+$/.exec(Na&&Na.keys&&Na.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var Fa=function(e){return!!za&&za in e},ja=Function.prototype.toString;var Ba=function(e){if(null!=e){try{return ja.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Ua=/^\[object .+?Constructor\]$/,Za=Function.prototype,Va=Object.prototype,Ha=Za.toString,Wa=Va.hasOwnProperty,Ga=RegExp("^"+Ha.call(Wa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var qa=function(e){return!(!Ea(e)||Fa(e))&&(La(e)?Ga:Ua).test(Ba(e))};var Xa=function(e,t){return null==e?void 0:e[t]};var Ka=function(e,t){var n=Xa(e,t);return qa(n)?n:void 0},Ya=Ka(ra,"WeakMap");var Qa=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1},$a=/^(?:0|[1-9]\d*)$/;var Ja=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&$a.test(e))&&e>-1&&e%1==0&&e<t};var eo=function(e,t){return e===t||e!==e&&t!==t};var to=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var no=function(e){return null!=e&&to(e.length)&&!La(e)},ro=Object.prototype;var io=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ro)};var ao=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var oo=function(e){return ha(e)&&"[object Arguments]"==pa(e)},so=Object.prototype,uo=so.hasOwnProperty,lo=so.propertyIsEnumerable,co=oo(function(){return arguments}())?oo:function(e){return ha(e)&&uo.call(e,"callee")&&!lo.call(e,"callee")},fo=co;var po=function(){return!1},ho="object"==typeof exports&&exports&&!exports.nodeType&&exports,vo=ho&&e&&!e.nodeType&&e,mo=vo&&vo.exports===ho?ra.Buffer:void 0,go=(mo?mo.isBuffer:void 0)||po,yo={};yo["[object Float32Array]"]=yo["[object Float64Array]"]=yo["[object Int8Array]"]=yo["[object Int16Array]"]=yo["[object Int32Array]"]=yo["[object Uint8Array]"]=yo["[object Uint8ClampedArray]"]=yo["[object Uint16Array]"]=yo["[object Uint32Array]"]=!0,yo["[object Arguments]"]=yo["[object Array]"]=yo["[object ArrayBuffer]"]=yo["[object Boolean]"]=yo["[object DataView]"]=yo["[object Date]"]=yo["[object Error]"]=yo["[object Function]"]=yo["[object Map]"]=yo["[object Number]"]=yo["[object Object]"]=yo["[object RegExp]"]=yo["[object Set]"]=yo["[object String]"]=yo["[object WeakMap]"]=!1;var bo=function(e){return ha(e)&&to(e.length)&&!!yo[pa(e)]};var wo=function(e){return function(t){return e(t)}},xo="object"==typeof exports&&exports&&!exports.nodeType&&exports,_o=xo&&e&&!e.nodeType&&e,So=_o&&_o.exports===xo&&ta.process,ko=function(){try{return _o&&_o.require&&_o.require("util").types||So&&So.binding&&So.binding("util")}catch(e){}}(),Eo=ko&&ko.isTypedArray,Co=Eo?wo(Eo):bo,Mo=Object.prototype.hasOwnProperty;var To=function(e,t){var n=ga(e),r=!n&&fo(e),i=!n&&!r&&go(e),a=!n&&!r&&!i&&Co(e),o=n||r||i||a,s=o?ao(e.length,String):[],u=s.length;for(var l in e)(t||Mo.call(e,l))&&(!o||!("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ja(l,u)))&&s.push(l);return s};var Po=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Ao=Object.prototype.hasOwnProperty;var Do=function(e){if(!io(e))return Po(e);var t=[];for(var n in Object(e))Ao.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Io=function(e){return no(e)?To(e):Do(e)},Ro=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oo=/^\w*$/;var Lo=function(e,t){if(ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!va(e))||(Oo.test(e)||!Ro.test(e)||null!=t&&e in Object(t))},No=Ka(Object,"create");var zo=function(){this.__data__=No?No(null):{},this.size=0};var Fo=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},jo=Object.prototype.hasOwnProperty;var Bo=function(e){var t=this.__data__;if(No){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return jo.call(t,e)?t[e]:void 0},Uo=Object.prototype.hasOwnProperty;var Zo=function(e){var t=this.__data__;return No?void 0!==t[e]:Uo.call(t,e)};var Vo=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=No&&void 0===t?"__lodash_hash_undefined__":t,this};function Ho(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ho.prototype.clear=zo,Ho.prototype.delete=Fo,Ho.prototype.get=Bo,Ho.prototype.has=Zo,Ho.prototype.set=Vo;var Wo=Ho;var Go=function(){this.__data__=[],this.size=0};var qo=function(e,t){for(var n=e.length;n--;)if(eo(e[n][0],t))return n;return-1},Xo=Array.prototype.splice;var Ko=function(e){var t=this.__data__,n=qo(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xo.call(t,n,1),--this.size,!0)};var Yo=function(e){var t=this.__data__,n=qo(t,e);return n<0?void 0:t[n][1]};var Qo=function(e){return qo(this.__data__,e)>-1};var $o=function(e,t){var n=this.__data__,r=qo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Jo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Jo.prototype.clear=Go,Jo.prototype.delete=Ko,Jo.prototype.get=Yo,Jo.prototype.has=Qo,Jo.prototype.set=$o;var es=Jo,ts=Ka(ra,"Map");var ns=function(){this.size=0,this.__data__={hash:new Wo,map:new(ts||es),string:new Wo}};var rs=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var is=function(e,t){var n=e.__data__;return rs(t)?n["string"==typeof t?"string":"hash"]:n.map};var as=function(e){var t=is(this,e).delete(e);return this.size-=t?1:0,t};var os=function(e){return is(this,e).get(e)};var ss=function(e){return is(this,e).has(e)};var us=function(e,t){var n=is(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ls(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ls.prototype.clear=ns,ls.prototype.delete=as,ls.prototype.get=os,ls.prototype.has=ss,ls.prototype.set=us;var cs=ls;function fs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(fs.Cache||cs),n}fs.Cache=cs;var ds=fs;var ps=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hs=/\\(\\)?/g,vs=function(e){var t=ds(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ps,(function(e,n,r,i){t.push(r?i.replace(hs,"$1"):n||e)})),t}));var ms=function(e){return null==e?"":wa(e)};var gs=function(e,t){return ga(e)?e:Lo(e,t)?[e]:vs(ms(e))};var ys=function(e){if("string"==typeof e||va(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var bs=function(e,t){for(var n=0,r=(t=gs(t,e)).length;null!=e&&n<r;)e=e[ys(t[n++])];return n&&n==r?e:void 0};var ws=function(e,t,n){var r=null==e?void 0:bs(e,t);return void 0===r?n:r};var xs=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var _s=function(){this.__data__=new es,this.size=0};var Ss=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ks=function(e){return this.__data__.get(e)};var Es=function(e){return this.__data__.has(e)};var Cs=function(e,t){var n=this.__data__;if(n instanceof es){var r=n.__data__;if(!ts||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new cs(r)}return n.set(e,t),this.size=n.size,this};function Ms(e){var t=this.__data__=new es(e);this.size=t.size}Ms.prototype.clear=_s,Ms.prototype.delete=Ss,Ms.prototype.get=ks,Ms.prototype.has=Es,Ms.prototype.set=Cs;var Ts=Ms;var Ps=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var As=function(){return[]},Ds=Object.prototype.propertyIsEnumerable,Is=Object.getOwnPropertySymbols,Rs=Is?function(e){return null==e?[]:(e=Object(e),Ps(Is(e),(function(t){return Ds.call(e,t)})))}:As;var Os=function(e,t,n){var r=t(e);return ga(e)?r:xs(r,n(e))};var Ls=function(e){return Os(e,Io,Rs)},Ns=Ka(ra,"DataView"),zs=Ka(ra,"Promise"),Fs=Ka(ra,"Set"),js="[object Map]",Bs="[object Promise]",Us="[object Set]",Zs="[object WeakMap]",Vs="[object DataView]",Hs=Ba(Ns),Ws=Ba(ts),Gs=Ba(zs),qs=Ba(Fs),Xs=Ba(Ya),Ks=pa;(Ns&&Ks(new Ns(new ArrayBuffer(1)))!=Vs||ts&&Ks(new ts)!=js||zs&&Ks(zs.resolve())!=Bs||Fs&&Ks(new Fs)!=Us||Ya&&Ks(new Ya)!=Zs)&&(Ks=function(e){var t=pa(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ba(n):"";if(r)switch(r){case Hs:return Vs;case Ws:return js;case Gs:return Bs;case qs:return Us;case Xs:return Zs}return t});var Ys=Ks,Qs=ra.Uint8Array;var $s=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Js=function(e){return this.__data__.has(e)};function eu(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new cs;++t<n;)this.add(e[t])}eu.prototype.add=eu.prototype.push=$s,eu.prototype.has=Js;var tu=eu;var nu=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var ru=function(e,t){return e.has(t)};var iu=function(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),c=a.get(t);if(l&&c)return l==t&&c==e;var f=-1,d=!0,p=2&n?new tu:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var h=e[f],v=t[f];if(r)var m=o?r(v,h,f,t,e,a):r(h,v,f,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!nu(t,(function(e,t){if(!ru(p,t)&&(h===e||i(h,e,n,r,a)))return p.push(t)}))){d=!1;break}}else if(h!==v&&!i(h,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d};var au=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var ou=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},su=ia?ia.prototype:void 0,uu=su?su.valueOf:void 0;var lu=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Qs(e),new Qs(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eo(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=au;case"[object Set]":var u=1&r;if(s||(s=ou),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var c=iu(s(e),s(t),r,i,a,o);return o.delete(e),c;case"[object Symbol]":if(uu)return uu.call(e)==uu.call(t)}return!1},cu=Object.prototype.hasOwnProperty;var fu=function(e,t,n,r,i,a){var o=1&n,s=Ls(e),u=s.length;if(u!=Ls(t).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in t:cu.call(t,c)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);for(var h=o;++l<u;){var v=e[c=s[l]],m=t[c];if(r)var g=o?r(m,v,c,t,e,a):r(v,m,c,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return a.delete(e),a.delete(t),p},du="[object Arguments]",pu="[object Array]",hu="[object Object]",vu=Object.prototype.hasOwnProperty;var mu=function(e,t,n,r,i,a){var o=ga(e),s=ga(t),u=o?pu:Ys(e),l=s?pu:Ys(t),c=(u=u==du?hu:u)==hu,f=(l=l==du?hu:l)==hu,d=u==l;if(d&&go(e)){if(!go(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Ts),o||Co(e)?iu(e,t,n,r,i,a):lu(e,t,u,n,r,i,a);if(!(1&n)){var p=c&&vu.call(e,"__wrapped__"),h=f&&vu.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,m=h?t.value():t;return a||(a=new Ts),i(v,m,n,r,a)}}return!!d&&(a||(a=new Ts),fu(e,t,n,r,i,a))};var gu=function e(t,n,r,i,a){return t===n||(null==t||null==n||!ha(t)&&!ha(n)?t!==t&&n!==n:mu(t,n,r,i,e,a))};var yu=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],l=e[u],c=s[1];if(o&&s[2]){if(void 0===l&&!(u in e))return!1}else{var f=new Ts;if(r)var d=r(l,c,u,e,t,f);if(!(void 0===d?gu(c,l,3,r,f):d))return!1}}return!0};var bu=function(e){return e===e&&!Ea(e)};var wu=function(e){for(var t=Io(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,bu(i)]}return t};var xu=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var _u=function(e){var t=wu(e);return 1==t.length&&t[0][2]?xu(t[0][0],t[0][1]):function(n){return n===e||yu(n,e,t)}};var Su=function(e,t){return null!=e&&t in Object(e)};var ku=function(e,t,n){for(var r=-1,i=(t=gs(t,e)).length,a=!1;++r<i;){var o=ys(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&to(i)&&Ja(o,i)&&(ga(e)||fo(e))};var Eu=function(e,t){return null!=e&&ku(e,t,Su)};var Cu=function(e,t){return Lo(e)&&bu(t)?xu(ys(e),t):function(n){var r=ws(n,e);return void 0===r&&r===t?Eu(n,e):gu(t,r,3)}};var Mu=function(e){return function(t){return null==t?void 0:t[e]}};var Tu=function(e){return function(t){return bs(t,e)}};var Pu=function(e){return Lo(e)?Mu(ys(e)):Tu(e)};var Au=function(e){return"function"==typeof e?e:null==e?Oa:"object"==typeof e?ga(e)?Cu(e[0],e[1]):_u(e):Pu(e)},Du=Math.max;var Iu=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ra(n);return i<0&&(i=Du(r+i,0)),Qa(e,Au(t,3),i)},Ru=$(Sn()),Ou=$(te()),Lu=$(gn());function Nu(e,t,n){var r=(0,Ou.useCallback)(e,t),i=(0,Ou.useRef)(null);i.current?i.current.set(r):i.current=new R.Atom(r);var a=(0,Ou.useRef)(null);return a.current||(a.current=(0,R.prism)((function(){return i.current.prism.getValue()()}))),function(e,t){var n=function(e){var t=(0,Ou.useState)(0),n=(0,M.Z)(t,2)[1];return(0,Ou.useCallback)((function(){n((function(e){return e+1}))}),[])}(),r=(0,Ou.useRef)(void 0);r.current||(Fu++,r.current={order:Fu,runUpdate:function(){r.current.unmounted||n()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:function(){var e;e=r.current,Zu(e),Uu||(Uu=!0,(0,Ru.default)((function(){(0,Lu.unstable_batchedUpdates)((function(){for(;ju.length>0;){var e=ju.shift();Bu.delete(e);var t=void 0;try{t=e.der.getValue()}catch(n){console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(n),e.runUpdate();continue}t!==e.lastValue&&(e.lastValue=t,e.runUpdate())}Uu=!1}),1)})))},untap:e.onStale((function(){r.current.queueUpdate()}))}),(0,Ou.useLayoutEffect)((function(){return function(){r.current.unmounted=!0,r.current.untap(),Vu(r.current)}}),[]),Vu(r.current);var i=r.current.der.getValue();return r.current.lastValue=i,i}(a.current)}var zu=function(e,t){return Nu((function(){return(0,R.val)(e)}),[e])},Fu=0,ju=[],Bu=new Set,Uu=!1,Zu=function(e){if(!Bu.has(e))if(Bu.add(e),0===ju.length)ju.push(e);else{var t=Iu(ju,(function(t){return t.order>=e.order}));-1===t?ju.push(e):ju[t].order>e.order&&ju.splice(t,0,e)}},Vu=function(e){if(Bu.has(e)){Bu.delete(e);var t=Iu(ju,(function(t){return t===e}));ju.splice(t,1)}};var Hu,Wu,Gu={viewport:O.types.compound({showAxes:O.types.boolean(!0,{label:"Axes"}),showGrid:O.types.boolean(!0,{label:"Grid"}),showOverlayIcons:O.types.boolean(!1,{label:"Overlay Icons"}),shading:O.types.stringLiteral("rendered",{flat:"Flat",rendered:"Rendered",solid:"Solid",wireframe:"Wireframe"},{as:"menu",label:"Shading"}),referenceWindow:O.types.stringLiteral("minimized",{maximized:"Maximized",minimized:"Minimized",hidden:"Hidden"},{as:"menu",label:"Reference Window"})},{label:"Viewport Config"}),transformControls:O.types.compound({mode:O.types.stringLiteral("translate",{translate:"Translate",rotate:"Rotate",scale:"Scale"},{as:"switch",label:"Mode"}),space:O.types.stringLiteral("world",{local:"Local",world:"World"},{as:"switch",label:"Space"})},{label:"Transform Controls"})};function qu(){return Hu||(Hu=I().getStudioProject().sheet("R3F UI")),Hu}function Xu(){return Wu||(Wu=qu().object("Editor",Gu)||null),Wu}var Ku=$(te()),Yu=$(te()),Qu={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$u=Yu.default.createContext&&Yu.default.createContext(Qu),Ju=function(){return Ju=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ju.apply(this,arguments)};function el(e){return e&&e.map((function(e,t){return Ku.default.createElement(e.tag,Ju({key:t},e.attr),el(e.child))}))}function tl(e){return function(t){return Ku.default.createElement(nl,Ju({attr:Ju({},e.attr)},t),el(e.child))}}function nl(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),Ku.default.createElement("svg",Ju({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:Ju(Ju({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Ku.default.createElement("title",null,a),e.children)};return void 0!==$u?Ku.default.createElement($u.Consumer,null,(function(e){return t(e)})):t(Qu)}function rl(e){return tl({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"rect",attr:{width:"16",height:"10",rx:"1.5",transform:"matrix(1 0 0 -1 0 14.5)"}},{tag:"path",attr:{fillRule:"evenodd",d:"M2 3a.5.5 0 00.5.5h11a.5.5 0 000-1h-11A.5.5 0 002 3zm2-2a.5.5 0 00.5.5h7a.5.5 0 000-1h-7A.5.5 0 004 1z",clipRule:"evenodd"}}]})(e)}function il(e){return tl({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2.667 3h6.666C10.253 3 11 3.746 11 4.667v6.666c0 .92-.746 1.667-1.667 1.667H2.667C1.747 13 1 12.254 1 11.333V4.667C1 3.747 1.746 3 2.667 3z"}},{tag:"path",attr:{d:"M7.404 8.697l6.363 3.692c.54.313 1.233-.066 1.233-.697V4.308c0-.63-.693-1.01-1.233-.696L7.404 7.304a.802.802 0 000 1.393z"}}]})(e)}function al(e){return tl({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.5 13a3.5 3.5 0 11.59-6.95 5.002 5.002 0 119.804 1.98A2.5 2.5 0 0113.5 13h-10z",clipRule:"evenodd"}}]})(e)}function ol(e){return tl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"}}]})(e)}function sl(e){return tl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M247 18.656c-80.965 0-146.875 65.02-146.875 145.625 0 45.63 15.758 67 33.313 94.845 11.706 18.57 23.767 39.91 30.53 70.563h165.095c6.728-31.387 18.91-53.12 30.718-71.875 17.58-27.92 33.314-48.912 33.314-93.532 0-80.66-65.127-145.624-146.094-145.624zm-99.78 127.906L170.437 167 210 201.813l31.188-34.125 6.78-7.438 6.907 7.344 30.75 32.72 39.97-33.47 22.686-19-7.655 28.594L304.75 310.28l-18.063-4.842 28.22-105.25-24.032 20.125-6.78 5.656-6.033-6.44-29.906-31.78-30.562 33.438-6.188 6.78-6.875-6.062-23.25-20.437 27.94 104.218-18.064 4.812-35.937-134.063-8-29.875zm22.593 201.813V389.5L315 348.375H169.812zm153.593 17.063l-153.594 43.53v29.438l153.594-43.5v-29.47zm0 48.875L203.97 448.156h119.436v-33.844zm-132.562 52.53v20.533h113.282v-20.53h-113.28z"}}]})(e)}function ul(e){return tl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M18 17v18h38v78.3c-.75.7-1.47 1.5-2.16 2.3-6.52 7.5-9.72 14.5-10.08 19.8l47.46 84.5c1.03-1.9 2.15-3.9 3.39-5.6 8.29-12.2 21.49-23.8 37.89-33.2 16.5-9.1 33.3-14.3 48-15.1 2.2-.1 4.4-.1 6.6 0l-47.4-84.47c-3-1.54-7.1-2.5-12.3-2.53h-2.3c-2.3.11-4.9.4-7.5.88-10.7 1.91-23.15 6.66-34.61 13.1-3.08 1.73-6.09 3.59-8.99 5.53V35h45v26.5c1.8-.22 3.5-.39 5.3-.49 4.4-.25 8.6-.07 12.7.67V35h55V17H18zm165.4 166.9c-.6.1-1.3.1-2 .1-11.1.6-25.7 4.8-40.1 12.9-14.3 8.1-25.5 18.4-31.8 27.5-6.2 9.2-6.8 16-4.8 19.5 1.9 3.5 8 6.5 19.1 6 11.1-.5 25.7-4.8 40.1-12.9 14.3-8.1 25.6-18.3 31.8-27.5 6.2-9.2 6.8-16 4.9-19.5-1.9-3.3-7.4-6.1-17.2-6.1zm36.2 12.2c-.5 7.9-4 16.1-9 23.5-8.3 12.2-21.4 23.8-37.9 33.1s-33.3 14.4-48 15.2c-10.3.5-20.2-1.2-27.61-6.3L49.48 491.4H492.8V353.8L219.6 196.1z"}}]})(e)}function ll(e){return tl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19H12.998V22H10.998zM10.998 2H12.998V5H10.998zM1.998 11H4.998V13H1.998zM18.998 11H21.998V13H18.998z"}},{tag:"path",attr:{transform:"rotate(-45.017 5.986 18.01)",d:"M4.487 17.01H7.487V19.01H4.487z"}},{tag:"path",attr:{transform:"rotate(-45.001 18.008 5.99)",d:"M16.508 4.99H19.509V6.99H16.508z"}},{tag:"path",attr:{transform:"rotate(-134.983 5.988 5.99)",d:"M4.487 4.99H7.487V6.99H4.487z"}},{tag:"path",attr:{transform:"rotate(134.999 18.008 18.01)",d:"M17.008 16.51H19.008V19.511000000000003H17.008z"}}]})(e)}var cl=$(te()),fl={collection:cl.default.createElement(rl,null),cube:cl.default.createElement(ol,null),lightBulb:cl.default.createElement(sl,null),spotLight:cl.default.createElement(ul,null),sun:cl.default.createElement(ll,null),camera:cl.default.createElement(il,null),cloud:cl.default.createElement(al,null)},dl=$(te()),pl=(0,dl.createContext)(!1),hl=function(e){var t=e.children,n=(0,dl.useRef)(!1),r=(0,dl.useState)(!1),i=(0,M.Z)(r,2),a=i[0],o=i[1];return(0,dl.useEffect)((function(){document.addEventListener("mousedown",(function(){return n.current=!0})),document.addEventListener("mousemove",(function(){n.current&&o(!0)})),document.addEventListener("mouseup",(function(){n.current=!1,o(!1)}))}),[]),dl.default.createElement(pl.Provider,{value:a},t)},vl=(0,$(Cn()).default)(A.bu),ml=function(e){var t,n=e.storeKey,r=e.object,i=Xu(),a=vl((function(e){return[e.setSnapshotProxyObject,e.editables]}),$i.default),o=(0,M.Z)(a,2),s=o[0],u=o[1],l=(0,dl.useContext)(pl),c=u[n],f=ea(),d=null!=(t=zu(null==i?void 0:i.props.viewport.showOverlayIcons))&&t;(0,Ci.useEffect)((function(){return s(r,n),function(){return s(null,n)}}),[n,r,s]),(0,Ci.useLayoutEffect)((function(){var e=r.visible;return null!=c&&c.visibleOnlyInEditor&&(r.visible=!0),function(){r.visible=e}}),[null==c?void 0:c.visibleOnlyInEditor,r.visible]);var p=(0,Ci.useState)(!1),h=(0,M.Z)(p,2),v=h[0],m=h[1],g=Pr((function(e){return e.scene})),y=(0,Ci.useMemo)((function(){var e,t;return null==(t=null==c?void 0:(e=c.objectConfig).createHelper)?void 0:t.call(e,r)}),[r]);return(0,Ci.useEffect)((function(){if(null!=y)return(f===n||v)&&(g.add(y),Lr()),function(){g.remove(y),Lr()}}),[f,v,y,g]),Ar((function(){null!=y&&y.update&&y.update()})),(0,Ci.useEffect)((function(){l&&m(!1)}),[l]),(0,Ci.useEffect)((function(){if(c){var e=c.sheetObject,t=c.objectConfig,n=function(e){var n;Object.entries(t.props).forEach((function(t){var n=(0,M.Z)(t,2),i=n[0];return n[1].apply(e[i],r)})),null==(n=t.updateObject)||n.call(t,r),Lr()};n(e.value);var i=e.onValuesChange(n);return function(){i()}}}),[c]),c?Ci.default.createElement(Ci.default.Fragment,null,Ci.default.createElement("group",{onClick:function(e){if(e.delta<2){e.stopPropagation();var t=vl.getState().editables[n].sheetObject;t?I().setSelection([t]):console.log("no Theatre.js object for",n)}},onPointerOver:l?void 0:function(e){e.stopPropagation(),m(!0)},onPointerOut:l?void 0:function(e){e.stopPropagation(),m(!1)}},Ci.default.createElement("primitive",{object:r},(d||c.objectConfig.dimensionless&&f!==n)&&Ci.default.createElement(ji,{center:!0,style:{pointerEvents:"none",transform:"scale(2)",opacity:v?.3:1}},Ci.default.createElement("div",null,fl[c.objectConfig.icon])),c.objectConfig.dimensionless&&Ci.default.createElement(Qi,{args:[2,4,2],onClick:function(e){if(e.delta<2){e.stopPropagation();var t=vl.getState().editables[n].sheetObject;t?I().setSelection([t]):console.log("no Theatre.js object for",n)}},userData:{helper:!0}},Ci.default.createElement("meshBasicMaterial",{visible:!1}))))):null},gl=$(te()),yl=(0,gl.forwardRef)((function(e,t){var n=e,r=(n.children,n.object),i=n.orbitControlsRef,a=n.onObjectChange,o=n.onDraggingChange,s=X(n,["children","object","orbitControlsRef","onObjectChange","onDraggingChange"]),u=Pr(),l=u.camera,c=u.gl,f=u.invalidate,d=(0,gl.useMemo)((function(){return new Vi(l,c.domElement)}),[l,c.domElement]);return(0,gl.useLayoutEffect)((function(){return d.attach(r),function(){d.detach()}}),[r,d]),(0,gl.useEffect)((function(){var e;return null==(e=null==d?void 0:d.addEventListener)||e.call(d,"change",(function(){return f()})),function(){var e;return null==(e=null==d?void 0:d.removeEventListener)?void 0:e.call(d,"change",(function(){return f()}))}}),[d,f]),(0,gl.useEffect)((function(){var e=function(e){i&&i.current&&(i.current.enabled=!e.value)};return d&&d.addEventListener("dragging-changed",e),function(){d.removeEventListener("dragging-changed",e)}}),[d,i]),(0,gl.useEffect)((function(){return a&&d.addEventListener("objectChange",a),function(){a&&d.removeEventListener("objectChange",a)}}),[a,d]),(0,gl.useEffect)((function(){return o&&d.addEventListener("dragging-changed",o),function(){o&&d.removeEventListener("dragging-changed",o)}}),[d,o]),gl.default.createElement("primitive",G({dispose:null,object:d,ref:t},s))})),bl=$(le()),wl=function(e){var t=e.portal;return Ei.default.createElement(Ei.default.Fragment,null,t)},xl=function(e){var t,n,r,i=e.orbitControlsRef,a=(0,Ei.useRef)(!1),o=Xu(),s=vl((function(e){return[e.sceneSnapshot,e.editables]}),bl.default),u=(0,M.Z)(s,2),l=u[0],c=u[1],f=null!=(t=zu(null==o?void 0:o.props.transformControls.mode))?t:"translate",d=null!=(n=zu(null==o?void 0:o.props.transformControls.space))?n:"world",p=null!=(r=zu(null==o?void 0:o.props.viewport.shading))?r:"rendered",h=(0,Ei.useMemo)((function(){return null==l?void 0:l.clone()}),[l]),v=(0,Ei.useState)({}),m=(0,M.Z)(v,2),g=m[0],y=m[1];(0,Ei.useLayoutEffect)((function(){if(h){var e={};h.traverse((function(t){if(t.userData.__editable){var n=t.userData.__storeKey;e[n]||!c[n]?t.parent.remove(t):e[n]={portal:Ei.default.createElement(wl,{portal:(r=Ei.default.createElement(ml,{storeKey:n,object:t}),i=t.parent,Pn.createElement(Gr,{key:i.uuid,children:r,container:i,state:a})),key:"portal-wrapper-".concat(n)}),object:t,editable:c[n]}}var r,i,a})),y(e)}}),[i,h]);var b=ea(),w=b&&g[b],x=b?c[b]:void 0,_=(0,Ei.useState)({}),S=(0,M.Z)(_,2),k=S[0],E=S[1];(0,Ei.useLayoutEffect)((function(){if(h){var e={};return h.traverse((function(t){var n=t;n.isMesh&&!n.userData.helper&&(e[n.id]=n.material)})),E(e),function(){}}}),[h]),(0,Ei.useLayoutEffect)((function(){h&&h.traverse((function(e){var t,n=e;if(n.isMesh&&!n.userData.helper)switch(p){case"wireframe":n.material=new P.MeshBasicMaterial({wireframe:!0,color:"black"});break;case"flat":if(!k[n.id])return;t=new P.MeshBasicMaterial,k[n.id].hasOwnProperty("color")&&(t.color=k[n.id].color),k[n.id].hasOwnProperty("map")&&(t.map=k[n.id].map),k[n.id].hasOwnProperty("vertexColors")&&(t.vertexColors=k[n.id].vertexColors),n.material=t;break;case"solid":if(!k[n.id])return;t=new P.MeshPhongMaterial,k[n.id].hasOwnProperty("color")&&(t.color=k[n.id].color),k[n.id].hasOwnProperty("map")&&(t.map=k[n.id].map),k[n.id].hasOwnProperty("vertexColors")&&(t.vertexColors=k[n.id].vertexColors),n.material=t;break;case"rendered":n.material=k[n.id]}Lr()}))}),[p,k,h]);var C=(0,Ei.useRef)(void 0);return h?Ei.default.createElement(Ei.default.Fragment,null,Ei.default.createElement("primitive",{object:h}),b&&w&&x&&x.objectConfig.useTransformControls&&Ei.default.createElement(yl,{mode:f,space:d,orbitControlsRef:i,object:w.object,onObjectChange:function(){var e=w.editable.sheetObject,t=w.object;C.current.capture((function(n){var r=n.set;"translate"===f&&r(e.props.position,q(G({},e.value.position),{x:t.position.x,y:t.position.y,z:t.position.z})),"rotate"===f&&r(e.props.rotation,q(G({},e.value.rotation),{x:t.rotation.x,y:t.rotation.y,z:t.rotation.z})),"scale"===f&&r(e.props.scale,{x:t.scale.x,y:t.scale.y,z:t.scale.z})}))},onDraggingChange:function(e){return e.value?C.current=I().scrub():C.current.commit(),a.current=e.value}}),Object.values(g).map((function(e){return e.portal}))):null};pn();var _l=$(te()),Sl=function(e,t){return(e%t+t)%t},kl=function(e){(0,S.Z)(n,e);var t=(0,k.Z)(n);function n(e,r){var i;(0,x.Z)(this,n),i=t.call(this),J((0,m.Z)(i),"object"),J((0,m.Z)(i),"domElement"),J((0,m.Z)(i),"enabled",!0),J((0,m.Z)(i),"target",new P.Vector3),J((0,m.Z)(i),"minDistance",0),J((0,m.Z)(i),"maxDistance",1/0),J((0,m.Z)(i),"minZoom",0),J((0,m.Z)(i),"maxZoom",1/0),J((0,m.Z)(i),"minPolarAngle",0),J((0,m.Z)(i),"maxPolarAngle",Math.PI),J((0,m.Z)(i),"minAzimuthAngle",-1/0),J((0,m.Z)(i),"maxAzimuthAngle",1/0),J((0,m.Z)(i),"enableDamping",!1),J((0,m.Z)(i),"dampingFactor",.05),J((0,m.Z)(i),"enableZoom",!0),J((0,m.Z)(i),"zoomSpeed",1),J((0,m.Z)(i),"enableRotate",!0),J((0,m.Z)(i),"rotateSpeed",1),J((0,m.Z)(i),"enablePan",!0),J((0,m.Z)(i),"panSpeed",1),J((0,m.Z)(i),"screenSpacePanning",!0),J((0,m.Z)(i),"keyPanSpeed",7),J((0,m.Z)(i),"autoRotate",!1),J((0,m.Z)(i),"autoRotateSpeed",2),J((0,m.Z)(i),"reverseOrbit",!1),J((0,m.Z)(i),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),J((0,m.Z)(i),"mouseButtons",{LEFT:P.MOUSE.ROTATE,MIDDLE:P.MOUSE.DOLLY,RIGHT:P.MOUSE.PAN}),J((0,m.Z)(i),"touches",{ONE:P.TOUCH.ROTATE,TWO:P.TOUCH.DOLLY_PAN}),J((0,m.Z)(i),"target0"),J((0,m.Z)(i),"position0"),J((0,m.Z)(i),"zoom0"),J((0,m.Z)(i),"_domElementKeyEvents",null),J((0,m.Z)(i),"getPolarAngle"),J((0,m.Z)(i),"getAzimuthalAngle"),J((0,m.Z)(i),"setPolarAngle"),J((0,m.Z)(i),"setAzimuthalAngle"),J((0,m.Z)(i),"getDistance"),J((0,m.Z)(i),"listenToKeyEvents"),J((0,m.Z)(i),"stopListenToKeyEvents"),J((0,m.Z)(i),"saveState"),J((0,m.Z)(i),"reset"),J((0,m.Z)(i),"update"),J((0,m.Z)(i),"connect"),J((0,m.Z)(i),"dispose"),i.object=e,i.domElement=r,i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i.getPolarAngle=function(){return d.phi},i.getAzimuthalAngle=function(){return d.theta},i.setPolarAngle=function(e){var t=Sl(e,2*Math.PI),n=d.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),p.phi=t-n,a.update()},i.setAzimuthalAngle=function(e){var t=Sl(e,2*Math.PI),n=d.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),p.theta=t-n,a.update()},i.getDistance=function(){return a.object.position.distanceTo(a.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",$),i._domElementKeyEvents=e},i.stopListenToKeyEvents=function(){i._domElementKeyEvents.removeEventListener("keydown",$),i._domElementKeyEvents=null},i.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},i.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(o),a.update(),c=l.NONE},i.update=function(){var t=new P.Vector3,n=new P.Vector3(0,1,0),r=(new P.Quaternion).setFromUnitVectors(e.up,n),i=r.clone().invert(),s=new P.Vector3,u=new P.Quaternion,m=2*Math.PI;return function(){var y=a.object.position;r.setFromUnitVectors(e.up,n),i.copy(r).invert(),t.copy(y).sub(a.target),t.applyQuaternion(r),d.setFromVector3(t),a.autoRotate&&c===l.NONE&&I(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(d.theta+=p.theta*a.dampingFactor,d.phi+=p.phi*a.dampingFactor):(d.theta+=p.theta,d.phi+=p.phi);var b=a.minAzimuthAngle,w=a.maxAzimuthAngle;return isFinite(b)&&isFinite(w)&&(b<-Math.PI?b+=m:b>Math.PI&&(b-=m),w<-Math.PI?w+=m:w>Math.PI&&(w-=m),d.theta=b<=w?Math.max(b,Math.min(w,d.theta)):d.theta>(b+w)/2?Math.max(b,d.theta):Math.min(w,d.theta)),d.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=h,d.radius=Math.max(a.minDistance,Math.min(a.maxDistance,d.radius)),!0===a.enableDamping?a.target.addScaledVector(v,a.dampingFactor):a.target.add(v),t.setFromSpherical(d),t.applyQuaternion(i),y.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(p.theta*=1-a.dampingFactor,p.phi*=1-a.dampingFactor,v.multiplyScalar(1-a.dampingFactor)):(p.set(0,0,0),v.set(0,0,0)),h=1,!!(g||s.distanceToSquared(a.object.position)>f||8*(1-u.dot(a.object.quaternion))>f)&&(a.dispatchEvent(o),s.copy(a.object.position),u.copy(a.object.quaternion),g=!1,!0)}}(),i.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.style.touchAction="none",a.domElement.addEventListener("contextmenu",ee),a.domElement.addEventListener("pointerdown",q),a.domElement.addEventListener("pointercancel",Y),a.domElement.addEventListener("wheel",Q)},i.dispose=function(){var e,t,n,r,i,o;null==(e=a.domElement)||e.removeEventListener("contextmenu",ee),null==(t=a.domElement)||t.removeEventListener("pointerdown",q),null==(n=a.domElement)||n.removeEventListener("pointercancel",Y),null==(r=a.domElement)||r.removeEventListener("wheel",Q),null==(i=a.domElement)||i.ownerDocument.removeEventListener("pointermove",X),null==(o=a.domElement)||o.ownerDocument.removeEventListener("pointerup",K),null!==a._domElementKeyEvents&&a._domElementKeyEvents.removeEventListener("keydown",$)};var a=(0,m.Z)(i),o={type:"change"},s={type:"start"},u={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=l.NONE,f=1e-6,d=new P.Spherical,p=new P.Spherical,h=1,v=new P.Vector3,g=!1,y=new P.Vector2,b=new P.Vector2,w=new P.Vector2,_=new P.Vector2,S=new P.Vector2,k=new P.Vector2,E=new P.Vector2,C=new P.Vector2,M=new P.Vector2,T=[],A={};function D(){return Math.pow(.95,a.zoomSpeed)}function I(e){a.reverseOrbit?p.theta+=e:p.theta-=e}function R(e){a.reverseOrbit?p.phi+=e:p.phi-=e}var O=function(){var e=new P.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),v.add(e)}}(),L=function(){var e=new P.Vector3;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),v.add(e)}}(),N=function(){var e=new P.Vector3;return function(t,n){var r=a.domElement;if(r&&a.object instanceof P.PerspectiveCamera&&a.object.isPerspectiveCamera){var i=a.object.position;e.copy(i).sub(a.target);var o=e.length();o*=Math.tan(a.object.fov/2*Math.PI/180),O(2*t*o/r.clientHeight,a.object.matrix),L(2*n*o/r.clientHeight,a.object.matrix)}else r&&a.object instanceof P.OrthographicCamera&&a.object.isOrthographicCamera?(O(t*(a.object.right-a.object.left)/a.object.zoom/r.clientWidth,a.object.matrix),L(n*(a.object.top-a.object.bottom)/a.object.zoom/r.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function z(e){a.object instanceof P.PerspectiveCamera&&a.object.isPerspectiveCamera?h/=e:a.object instanceof P.OrthographicCamera&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function F(e){a.object instanceof P.PerspectiveCamera&&a.object.isPerspectiveCamera?h*=e:a.object instanceof P.OrthographicCamera&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function j(e){y.set(e.clientX,e.clientY)}function B(e){_.set(e.clientX,e.clientY)}function U(){if(1==T.length)y.set(T[0].pageX,T[0].pageY);else{var e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);y.set(e,t)}}function Z(){if(1==T.length)_.set(T[0].pageX,T[0].pageY);else{var e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);_.set(e,t)}}function V(){var e=T[0].pageX-T[1].pageX,t=T[0].pageY-T[1].pageY,n=Math.sqrt(e*e+t*t);E.set(0,n)}function H(e){if(1==T.length)b.set(e.pageX,e.pageY);else{var t=re(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);b.set(n,r)}w.subVectors(b,y).multiplyScalar(a.rotateSpeed);var i=a.domElement;i&&(I(2*Math.PI*w.x/i.clientHeight),R(2*Math.PI*w.y/i.clientHeight)),y.copy(b)}function W(e){if(1==T.length)S.set(e.pageX,e.pageY);else{var t=re(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);S.set(n,r)}k.subVectors(S,_).multiplyScalar(a.panSpeed),N(k.x,k.y),_.copy(S)}function G(e){var t=re(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);C.set(0,i),M.set(0,Math.pow(C.y/E.y,a.zoomSpeed)),z(M.y),E.copy(C)}function q(e){var t,n;!1!==a.enabled&&(0===T.length&&(null==(t=a.domElement)||t.ownerDocument.addEventListener("pointermove",X),null==(n=a.domElement)||n.ownerDocument.addEventListener("pointerup",K)),function(e){T.push(e)}(e),"touch"===e.pointerType?function(e){switch(ne(e),T.length){case 1:switch(a.touches.ONE){case P.TOUCH.ROTATE:if(!1===a.enableRotate)return;U(),c=l.TOUCH_ROTATE;break;case P.TOUCH.PAN:if(!1===a.enablePan)return;Z(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(a.touches.TWO){case P.TOUCH.DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;a.enableZoom&&V(),a.enablePan&&Z(),c=l.TOUCH_DOLLY_PAN;break;case P.TOUCH.DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;a.enableZoom&&V(),a.enableRotate&&U(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&a.dispatchEvent(s)}(e):function(e){var t;switch(e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case P.MOUSE.DOLLY:if(!1===a.enableZoom)return;(function(e){E.set(e.clientX,e.clientY)})(e),c=l.DOLLY;break;case P.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;B(e),c=l.PAN}else if(e.altKey){if(!1===a.enableRotate)return;j(e),c=l.ROTATE}break;case P.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;j(e),c=l.ROTATE}else{if(!1===a.enablePan)return;B(e),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&a.dispatchEvent(s)}(e))}function X(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){switch(ne(e),c){case l.TOUCH_ROTATE:if(!1===a.enableRotate)return;H(e),a.update();break;case l.TOUCH_PAN:if(!1===a.enablePan)return;W(e),a.update();break;case l.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;(function(e){a.enableZoom&&G(e),a.enablePan&&W(e)})(e),a.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;(function(e){a.enableZoom&&G(e),a.enableRotate&&H(e)})(e),a.update();break;default:c=l.NONE}}(e):function(e){if(!1!==a.enabled)switch(c){case l.ROTATE:if(!1===a.enableRotate)return;!function(e){b.set(e.clientX,e.clientY),w.subVectors(b,y).multiplyScalar(a.rotateSpeed);var t=a.domElement;t&&(I(2*Math.PI*w.x/t.clientHeight),R(2*Math.PI*w.y/t.clientHeight)),y.copy(b),a.update()}(e);break;case l.DOLLY:if(!1===a.enableZoom)return;!function(e){C.set(e.clientX,e.clientY),M.subVectors(C,E),M.y>0?z(D()):M.y<0&&F(D()),E.copy(C),a.update()}(e);break;case l.PAN:if(!1===a.enablePan)return;!function(e){S.set(e.clientX,e.clientY),k.subVectors(S,_).multiplyScalar(a.panSpeed),N(k.x,k.y),_.copy(S),a.update()}(e)}}(e))}function K(e){var t,n,r;te(e),0===T.length&&(null==(t=a.domElement)||t.releasePointerCapture(e.pointerId),null==(n=a.domElement)||n.ownerDocument.removeEventListener("pointermove",X),null==(r=a.domElement)||r.ownerDocument.removeEventListener("pointerup",K)),a.dispatchEvent(u),c=l.NONE}function Y(e){te(e)}function Q(e){!1===a.enabled||!1===a.enableZoom||c!==l.NONE&&c!==l.ROTATE||(e.preventDefault(),a.dispatchEvent(s),function(e){e.deltaY<0?F(D()):e.deltaY>0&&z(D()),a.update()}(e),a.dispatchEvent(u))}function $(e){!1===a.enabled||!1===a.enablePan||function(e){var t=!1;switch(e.code){case a.keys.UP:N(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:N(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:N(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:N(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function ee(e){!1!==a.enabled&&e.preventDefault()}function te(e){delete A[e.pointerId];for(var t=0;t<T.length;t++)if(T[t].pointerId==e.pointerId)return void T.splice(t,1)}function ne(e){var t=A[e.pointerId];void 0===t&&(t=new P.Vector2,A[e.pointerId]=t),t.set(e.pageX,e.pageY)}function re(e){var t=e.pointerId===T[0].pointerId?T[1]:T[0];return A[t.pointerId]}return void 0!==r&&i.connect(r),i.update(),i}return(0,_.Z)(n)}(P.EventDispatcher),El=_l.forwardRef((function(e,t){var n=e,r=n.makeDefault,i=n.camera,a=n.regress,o=n.domElement,s=n.enableDamping,u=void 0===s||s,l=n.keyEvents,c=void 0!==l&&l,f=n.onChange,d=n.onStart,p=n.onEnd,h=X(n,["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"]),v=Pr((function(e){return e.invalidate})),m=Pr((function(e){return e.camera})),g=Pr((function(e){return e.gl})),y=Pr((function(e){return e.events})),b=Pr((function(e){return e.setEvents})),w=Pr((function(e){return e.set})),x=Pr((function(e){return e.get})),_=Pr((function(e){return e.performance})),S=i||m,k=o||y.connected||g.domElement,E=_l.useMemo((function(){return new kl(S)}),[S]);return Ar((function(){E.enabled&&E.update()}),-1),_l.useEffect((function(){return c&&E.connect(!0===c?k:c),E.connect(k),function(){E.dispose()}}),[c,k,a,E,v]),_l.useEffect((function(){var e=function(e){v(),a&&_.regress(),f&&f(e)},t=function(e){d&&d(e)},n=function(e){p&&p(e)};return E.addEventListener("change",e),E.addEventListener("start",t),E.addEventListener("end",n),function(){E.removeEventListener("start",t),E.removeEventListener("end",n),E.removeEventListener("change",e)}}),[f,d,p,E,v,b]),_l.useEffect((function(){if(r){var e=x().controls;return w({controls:E}),function(){return w({controls:e})}}}),[r,E]),_l.createElement("primitive",G({ref:t,object:E,enableDamping:u},h))})),Cl=$(te()),Ml=$(te()),Tl=$(te());function Pl(e){var t=(0,Tl.useMemo)((function(){var t=e;return{get current(){return t},set current(e){t=e,a(e)}}}),[]),n=(0,Tl.useState)((function(){return e})),r=(0,M.Z)(n,2),i=r[0],a=r[1];return[t,i]}var Al={transform:{position:{x:O.types.number(10),y:O.types.number(10),z:O.types.number(0)},target:{x:O.types.number(0),y:O.types.number(0),z:O.types.number(0)}},lens:{zoom:O.types.number(1,{range:[1e-4,10]}),fov:O.types.number(50,{range:[1,1e3]}),near:O.types.number(.1,{range:[0,1/0]}),far:O.types.number(2e3,{range:[0,1/0]}),focus:O.types.number(10,{range:[0,1/0]}),filmGauge:O.types.number(35,{range:[0,1/0]}),filmOffset:O.types.number(0,{range:[0,1/0]})}};function Dl(e,t){var n=Pl(null),r=(0,M.Z)(n,2),i=r[0],a=r[1],o=Pl(void 0),s=(0,M.Z)(o,2),u=s[0],l=s[1],c=(0,Cl.useRef)(null);return(0,Cl.useLayoutEffect)((function(){c.current||(c.current=e.object("Editor Camera ".concat(t),Al))}),[t]),function(e,t,n){var r=Pr((function(e){return e.invalidate}));(0,Cl.useLayoutEffect)((function(){if(e&&null!==t){var i=n.current,a=function(n){var i=n.transform,a=i.position,o=i.target;e.zoom=n.lens.zoom,e.fov=n.lens.fov,e.near=n.lens.near,e.far=n.lens.far,e.focus=n.lens.focus,e.filmGauge=n.lens.filmGauge,e.filmOffset=n.lens.filmOffset,e.position.set(a.x,a.y,a.z),e.updateProjectionMatrix(),t.target.set(o.x,o.y,o.z),t.update(),r()},o=i.onValuesChange(a);return a(i.value),o}}),[e,t,n,r])}(l,a,c),function(e,t,n){(0,Cl.useLayoutEffect)((function(){if(e&&null!=t){var r,i=function(){var e;if(r){clearTimeout(null==(e=r.scheduledCommit)?void 0:e.timer);var t=r;r.scheduledCommit={timer:setTimeout((function(){t===r&&(r.scrub.commit(),r=void 0)}),200)}}},a=function(){var e;r?clearTimeout(null==(e=r.scheduledCommit)?void 0:e.timer):r={scrub:I().scrub()}},o=function(){i()},s=function(){if(r){var i=e.position,a={x:i.x,y:i.y,z:i.z},o=t.target,s={position:a,target:{x:o.x,y:o.y,z:o.z}};r.scrub.capture((function(e){(0,e.set)(n.current.props.transform,s)}))}};return t.addEventListener("start",a),t.addEventListener("end",o),t.addEventListener("change",s),function(){t.removeEventListener("start",a),t.removeEventListener("end",o),t.removeEventListener("change",s),r&&(r.scrub.discard(),r=void 0)}}}),[e,t])}(l,a,c),[Ml.default.createElement(Ml.default.Fragment,null,Ml.default.createElement(Xi,{makeDefault:!0,ref:u,position:[0,102,0]}),Ml.default.createElement(El,{makeDefault:!0,ref:i,camera:l,enableDamping:!1})),i]}var Il=function(e){(0,S.Z)(n,e);var t=(0,k.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.divisions,a=void 0===i?10:i,o=r.scale,s=void 0===o?.1:o,u=r.color,l=void 0===u?new P.Color("white"):u,c=r.distance,f=void 0===c?8e3:c,d=r.subgridOpacity,p=void 0===d?.05:d,h=r.gridOpacity,v=void 0===h?.15:h;(0,x.Z)(this,n);var m=new P.PlaneGeometry(2,2,1,1),g=new P.ShaderMaterial({glslVersion:P.GLSL3,side:P.DoubleSide,uniforms:{uScale:{value:s},uDivisions:{value:a},uColor:{value:l},uDistance:{value:f},uSubgridOpacity:{value:p},uGridOpacity:{value:v}},transparent:!0,vertexShader:"\n          out vec3 worldPosition;\n          uniform float uDistance;\n\n          void main() {\n              // Scale the plane by the drawing distance\n              worldPosition = position.xzy * uDistance;\n              worldPosition.xz += cameraPosition.xz;\n\n              gl_Position = projectionMatrix * modelViewMatrix * vec4(worldPosition, 1.0);\n          }\n      ",fragmentShader:"\n          out vec4 fragColor;\n          in vec3 worldPosition;\n\n          uniform float uDivisions;\n          uniform float uScale;\n          uniform vec3 uColor;\n          uniform float uDistance;\n          uniform float uSubgridOpacity;\n          uniform float uGridOpacity;\n\n          float getGrid(float gapSize) {\n              vec2 worldPositionByDivision = worldPosition.xz / gapSize;\n\n              // Inverted, 0 where line, >1 where there's no line\n              // We use the worldPosition (which in this case we use similarly to UVs) differential to control the anti-aliasing\n              // We need to do the -0.5)-0.5 trick because the result fades out from 0 to 1, and we want both\n              // worldPositionByDivision == 0.3 and worldPositionByDivision == 0.7 to result in the same fade, i.e. 0.3,\n              // otherwise only one side of the line will be anti-aliased\n              vec2 grid = abs(fract(worldPositionByDivision-0.5)-0.5) / fwidth(worldPositionByDivision) / 2.0;\n              float gridLine = min(grid.x, grid.y);\n\n              // Uninvert and clamp\n              return 1.0 - min(gridLine, 1.0);\n          }\n\n          void main() {\n              float cameraDistanceToGridPlane = distance(cameraPosition.y, worldPosition.y);\n              float cameraDistanceToFragmentOnGridPlane = distance(cameraPosition.xz, worldPosition.xz);\n\n              // The size of the grid and subgrid are powers of each other and they are determined based on camera distance.\n              // The current grid will become the next subgrid when it becomes too small, and its next power becomes the new grid.\n              float subGridPower = pow(uDivisions, floor(log(cameraDistanceToGridPlane) / log(uDivisions)));\n              float gridPower = subGridPower * uDivisions;\n\n              // If we want to fade both the grid and its subgrid, we need to displays 3 different opacities, with the next grid being the third\n              float nextGridPower = gridPower * uDivisions;\n\n              // 1 where grid, 0 where no grid\n              float subgrid = getGrid(subGridPower * uScale);\n              float grid = getGrid(gridPower * uScale);\n              float nextGrid = getGrid(nextGridPower * uScale);\n\n              // Where we are between the introduction of the current grid power and when we switch to the next grid power\n              float stepPercentage = (cameraDistanceToGridPlane - subGridPower)/(gridPower - subGridPower);\n\n              // The last x percentage of the current step over which we want to fade\n              float fadeRange = 0.3;\n\n              // We calculate the fade percentage from the step percentage and the fade range\n              float fadePercentage = max(stepPercentage - 1.0 + fadeRange, 0.0) / fadeRange;\n\n              // Set base opacity based on how close we are to the drawing distance, with a cubic falloff\n              float baseOpacity = subgrid * pow(1.0 - min(cameraDistanceToFragmentOnGridPlane / uDistance, 1.0), 3.0);\n\n              // Shade the subgrid\n              fragColor = vec4(uColor.rgb, (baseOpacity - fadePercentage) * uSubgridOpacity);\n\n              // Somewhat arbitrary additional fade coefficient to counter anti-aliasing popping when switching between grid powers\n              float fadeCoefficient = 0.5;\n\n              // Shade the grid\n              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity - fadePercentage * (uGridOpacity - uSubgridOpacity) * fadeCoefficient, grid);\n\n              // Shade the next grid\n              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity, nextGrid);\n\n              if (fragColor.a <= 0.0) discard;\n          }\n      ",extensions:{derivatives:!0}});return(e=t.call(this,m,g)).frustumCulled=!1,e}return(0,_.Z)(n)}(P.Mesh),Rl=$(te()),Ol=$(te()),Ll=$(le());function Nl(e){return tl({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 5.511c.561 0 1.119.354 1.544 1.062l5.912 9.854c.851 1.415.194 2.573-1.456 2.573h-12c-1.65 0-2.307-1.159-1.456-2.573l5.912-9.854c.425-.708.983-1.062 1.544-1.062m0-2c-1.296 0-2.482.74-3.259 2.031l-5.912 9.856c-.786 1.309-.872 2.705-.235 3.83s1.879 1.772 3.406 1.772h12c1.527 0 2.77-.646 3.406-1.771s.551-2.521-.235-3.83l-5.912-9.854c-.777-1.294-1.963-2.034-3.259-2.034z"}},{tag:"circle",attr:{cx:"12",cy:"16",r:"1.3"}},{tag:"path",attr:{d:"M13.5 10c0-.83-.671-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .199.041.389.111.562.554 1.376 1.389 3.438 1.389 3.438l1.391-3.438c.068-.173.109-.363.109-.562z"}}]})(e)}pn();var zl=dn.div(i||(i=r(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: auto;\n  cursor: pointer;\n  overflow: hidden;\n  border-radius: ",";\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n"])),(function(e){return e.minimized?"2px":"4px"})),Fl=dn.canvas(a||(a=r(["\n  display: block;\n  width: ",";\n  height: ",";\n"])),(function(e){return e.width>e.height?"auto":"100%"}),(function(e){var t=e.width;return e.height>t?"auto":"100%"})),jl=Ye(o||(o=r(["\n  0% { transform: translate(0,0) }\n  10% { transform: translate(-5%,-5%) }\n  20% { transform: translate(-10%,5%) }\n  30% { transform: translate(5%,-10%) }\n  40% { transform: translate(-5%,15%) }\n  50% { transform: translate(-10%,5%) }\n  60% { transform: translate(15%,0) }\n  70% { transform: translate(0,10%) }\n  80% { transform: translate(-15%,0) }\n  90% { transform: translate(10%,5%) }\n  100% { transform: translate(5%,0) }\n"]))),Bl=dn.div(s||(s=r(["\n  position: relative;\n  display: flex;\n  width: 200px;\n  height: 120px;\n  padding: 18px;\n\n  ::before {\n    content: '';\n    position: absolute;\n    z-index: -1;\n    top: -50%;\n    left: -50%;\n    right: -50%;\n    bottom: -50%;\n    background: #2f2f2f url(",") repeat 0 0;\n    animation: "," 0.2s infinite;\n  }\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQBAMAAABykSv/AAAAFVBMVEUDAwPv7+/Dw8M3Nzd5eXmdnZ1YWFh6HLOtAAAAB3RSTlMSEhISEhISn+TpXAAAKwlJREFUeNq0mclaQjkQhf9UJVkXg64jKOsAwjogsA4KroMK7/8I/fWgrbZTT49wq27O+c8pUIMOa4dR6TrxOoDdgX6JJFaHp8fHUeEyu3ryrE4kHgoFNd9NZSZxSbw19HAFtzgBIFTl3iVAWbCroF5vPAl0SkGRfMOl6bXojcLlrXPKLefSfJhdGjDLMXYvmjwA89hzy+hDvOAenJZOdl2zLEgr80rfHcZAUBHdPMFScass17BDzCApzpeE0Lr3pYjjBCVUqCDXuVkChafmzi0/Mg9YJYqGkswec3GUSa9iA2CYfGw78+IqhC7R74xt2yN4S+wa6+1F6HNVCIrlSjICqoBI8lZXpk+3Ny20CR36rAtOoaG3l1mJDRUwomlCTemzBRktwMrUIR0ZEMItjZ7P/two+yvaBqOgyIZaUE+KVINTEpEgaFYXqk7pNZMQDFiyqbjY1zjDnh4w9j7Y8yRPsPhkkiq5dHdfT5Jo3NNsFyAApQvXIrNMMRH6ddzjDgjg7kvBZSb5akltfk9TBFCh+HTMeql1IXpAWgC/G44h+Rs6MZ24TCktwxmiBMjLjQgS3FK7wCKPKSUZ2ajQiOSDjp4y44FeEfAlnSAnHByYwJjsSjAYPBnOxwwcDgsRyKV7GeJiyExYhUzk+ujv8prp3opDIIC3jcvmY7KEO5tRR4Ltig+xEHNw5cKjsoERYRqoi/BIjSVc5Anm1IhQaWmiR3r3q7Chzv2KXOSau9Nlni+jBSbV/C3rtiCKz4Gu1BQeoWZjv5Y2R3feCVyFgmZoQDFJfUfNu1ZPsTJobPPcO0o3hQbRh0mOlaPcaugRPQBRgiNmD15JCJB85RqpJpQE9Twq3sON4eBoNIc3dn9d//HD9dc367/6av2K372byPRHE9EPJpLdoVIoLvrgb50eI8eaH8nMFMdiCyHDBuFhpq5VUeOcdOOcK0vVtMw5YJh10IIT7x0RUOou3Y12zIAbx1WMaEp1OPach610oKUx4BAHzoiVeyge8EGbR6Y9DgXqXeiAkhLUg2uutK6hj7VVl1CQGT0oLCSbNPYJI4drnHHynVKgGwrEBUAcuCouJsw2CphjjhIr2SUcJi74SpVMYgzOfDVHwCVLZZIIK3MrmuA355vT5Am54SzyFy3vS/Ey273X8tNvWh5CvODuWcvPnrV8WunLw7gM6PjskimbPomSfIRwkLukdNtWZZSyMnZ97kgd4WAhswDnyZkog248HwFuRfFuWx0xgADtOKe2PMzOHIUcXQeZEyYj2Ycic8jEDZ2DxqytugAt5Z04F6ce83oxw0kCmVA2YUFJZ8A20dZbwnmoJBZC2OD3XdsW2UHNTgPioJIzkAYsgl8wX1/OudfkzBW/A8tEmA1uyM4yhsEgA4dqenGHv+5CrP5GWvPkc4D7fIfUixBZLLPH95DSqOA7JVUnQUktQKrUcFuj00NhUdj3yETPEgKxdUM5TjTqA+KBOuySY0yEmnWSGZXA+SaEAGgjJdfcILi+2HJRNYONQ7hfm0ie1uCu0zD1fSYiloLzKQTLlidzQWl+NKk1BbkgdcHO7jgNe5BIBh04EhqeApQ65xt5Ni5skKj7FHH5hsWB8OuH+ubwkBm14CEXoQUH8UBNqSamZNszzW7uSHUL+BSPYIeSH5OLm+TwtSyAmlO6PhW8Zfo3DAuhcOFAyNhKyCm6qydPstjw7CEAw5vohOd/CuDRx1RbqpAWfQlYqlkiFQkE9nuazfv4PmGbFUrxCSonl3bxLuV2nUgFgoyT0h5gr0yHyBPVPbVaKzBHhHO6qXbKhb/sMgWnVvdPW9JQZ9TeUiau3EDjIlBtSdqqaBw2I0eW7SoIdWAiQ5xb5/gwzsiLUvGDPzPD5pM/M573LSXUu0GpT92mNflyB03v63ruq862HiNBhYVvPUd5cAKdWoO05GRFqU/wSO2LFfJlQxp3rYZru8+BFbc9TQ4bQyMQRdO8uslT2bWgbVXVMyxhjkPxqTtGD+ApS07k0cD3CaRCVwgOm+pYYxr3URwgAbzB9OLWdWqjk3IC0OgcpdqZbUp1PkF68DwozZLzwsA1Cxo2IbYjMiL0tBXzbsA90Mr9kCOxXqW8zZQCoC1V45ECJQdIIKzRwsCRvEBwrWV4EZXtz0Xl4dXq/GtR+WN1qfM3Vrf52erC0xerG+XA/F+Buf+/wHyUlY7icCBDIF45JmeZm0WCNas8ihR1DfCPIUOOLB+f35FLOLf/9R195/jjvzi+/IeOzx+On3/u+JjDrK4JDJFP4uLiJS4eT89x8fGjuOj/iIsPb+Pi9HVcLM9x0UCn+SUufogYYXb1CWK8j4s8L56/lci+XPzxz8UrhMeQGYjV5vtDCovMZST8NT5MnuPD7Ojv2qv44N/Fh77/PT7cF+9f4gNjFgOvNa0SxwuYdyshYQmAPTm0LkD2FtZALte5CDDNHjLDkGXBtKTrnAnrZJZDcm1EGe63gA5ph8E5owTaDrmfWq0PFhrYtevR2TolMfI6w5Xz8zNJzm7oOrI/FMELpcG9XQnZjYLlwVHJap0SsjhLscMd3uBjBlMUXxwQjVtQCEUBAGq4fpIwh0HbztjczrtyU7tyLDvwlXahleZzKMblfa7Ekj3Dpn5WoPaM/NB1Ss8yXJSyBKCPLORAl0QiRPUQ5DJnANGARy0R6uR6XxxdjSNW0NIRSHEFPXTodilEljWSSUBOnmW8Y1Jm3tLcGFFhvZwawio7e4hNliI+bSsJKuovW6qk2k/jBL6n5r041BEgQtNok6cbtFsnlcpK/k5bYN+3BX8+q8u/Re7zqpfucKhfk/viLbl3/yD35Rty7/9B7vUjcm9vyf30yV+zhZLlc79sBT8GI26JGAtCiy6UBBW8S2hJozu8IyW31k4OGahwdvQwRIfy27bX/2DbF5WUf7rtb60vfWx9+w+s7/wL61v/poDlRQHrW+vjtQKevbW+9wp49aEC8jG/61t+5xW/lz/4/fIdvz98we/+CDb+k99DrT/n99VX/P6SCflqxP1vTaZ8bzLf08XtByMef9VRtQ86Kn5ej6iXd/VIfFuP5Mm39Uh9VY9EfVuP7D+uRx76goW4R63IpllbccTRBboUf4+zGnP3jRaXaqracT1fOaOh6GlaS+5Lvr9gCK62tPwX5J9g2rl1nfQd+S9fkX95T/7lNfnf/UH+NGalWELqDqYQQTk/w+OxVuo62by2uNeIorVh/szgDnyjxmHN54E0xjXx2azvU574oVIdzjnjGiyVYjSghbAMk2PRCj5bqK0xkSBTK67t7cKIohYvSnLUY2XsuTy56EusmEvgkmfd6AQeXXJc6g61c+Gqw4sDtJ91Nx86QPmBA8w/dYAXbtB/wQ08T62+TG3269Rm/3Rq+YupXcpwKlgBwuOaFsMQR6Qh1qXiIwaQb0h3w4Z1D1B9QKB0r5xcifdYpzWf7aTZsTH2qkhTfhY7WwHgOXZ+Y6Ol4Mf5jY2Wj2w0fGyjvX9io5gjTy0/aKeQMSBVWICOz1KnG3FdFQByM/PBua1/CtgSJKYSU1YnWEl/qwv3HoD5p114+ksX3vtrFy6vunB+tan6bFM/q5l4sSn9wKa+ry7lubo8va0uF8j31eU0v20Zrv9oGbDx6QbtpvdIqp8iqXt3wKq/Iunq0wNW+PqApX2Nk5cDlv/JAYuXA9brxuFTra9/S+vTj1ueVv/y3MK/pNbhHZ6XU4h+fBz68hTy3uuP773+4e95Pb96/fAX4s1mOW0YjKJXv2uXAmtRqNeCBNYKSbtWgWRtHML7P0LHBGNAlmRBOl12ppNFCJ/vPfe4mUISnvUIXxM3lHsr2GP7NVk2oTylgu2dChb5e0en/bt/2L9fkzcTUm5tfDOx4eb1TQ6b5rXyPHe7XlmuNKMUWevi+HhxZcuUxVEFF8fj4EyvF0fbsjjiiEuYi0v4JS7hbbjEVLhk9QSArRtcIttxCT5xyQemJs/7n7hkUOMSecIlsxqXlB5cYhgDih8jtS0LAH3DYQb4xLvvoc2It2xGqiHzQx/eVWd49+Ea78oD3p1d4F0/mecHvLuryLx1yPx8ZyYFqn/Rqt0+x9rt5s5264LdeLutq1eU7+Xn+szHe4CHPlJZfoE+szmcj1cMK3Djm1xrfcY9HxN6Oh/2MraDSgtQfLwIAq2n2Tf9C8RKQGPxPueMmLEoq0OCgaT8gKGxJHmGhwwwXChZMFqqJwNLOYhSsBlhnvg2S41vQ098o258A8Bb6Cxr+/RmoeKsDnSWfcodAjYXYbmDvsPyr5M7sIB+3gCCTMH4SGWaTBlA+5wrACAGkyzPiKKggC20Aezo+ViBtIXBlAKvcv1rc6gjZcENZKfPWXk/Zx78nO3Z57w8PkAGt2dp6WTpo1ZkE7ySFK0ItVYk2rQizCsmrCsm7OUQPYdDrF0OMU3gEKnZVFfZlEQWyHOUwIIowS3F4u5SLNtLce+qFJuqFNOWUlycSrEzr/jtLFHPK61f4IXA+kkEvsB5/AvMqGwJ4A/dAnhcl6z3r5l7772gvk+30+reS01cTGNPoN7GQP2wO6jXsg8Iof9kgKYUEDLL0Zekmq/mUqAHaGBsiYYEz8YEbxArEDCsDb5BFk99DhC1AbDLAGCpBlBZCUJ4oQGCjB3aChh6QEaguq+Wu33wKc1ryRX05o1n9E83HnK18diLjWd/VagzihTLa1FbXtrw3wWFnIDjuEIatW9dIVnSCklPsXoCs179CcRqfblCwmESiToVb5FWlCOtJERjc2U+rGvzIRKNa4ygjqfaeE513oHa2RBGMF0xgtuzdzW1C3wNED+lc+8pTRddZUTrDO4WIsQyHBi9MudXbt+IhFEYnTRiqwZGF3eP2H1dAIExfNn157hj+CH4wBt8xqcBBlXwKarg8+My+EjV24aDD7sMPo0bdT+ktl+x9T7Glv32rRcP0IPVSBKM+EAAEpoKgBiGBTEgWMj+bAzU2FlRCSCzgNSmFKz6z7SL4MkbwZPfJHiKsOAJ72/gDrCmbncbrM9tMJE3IXxD7OBe2yfH/DyOaqdPpsVRGruhsADFrm5yvU5Nbpxh4W9yzeDS1uSSBhd61thNhQL9Lx8ESLvykXbjJ+0BnzJ+M7YQxvOIjKNo3GACLo7uv3VMwP/o/ie7gwrid5Mj30I50qqdP0em49kiD+VIZOvvHB/YKa0XEFAbs4YA0w8oPGf5kdjIWV4KSSlAE717fp93r9UzLFE/Kd40BCMQG5uzxiN4iXgEmkGmewTzC49gfuER0FsW8UR1Lz2tKCetxHWRH44uEk8rOO+Psn5Jsgxarw3lxYHyNtbr2jsSTSLWq9v6iUN5wyORXiTNNNYL8GTLTJPwYhgNvxdoogCvQ8V927unSQLbY8V9ubHi8taK25ymcbzi1ssRNUNk7G4dKeXB+c/CNv4Sd/bqacNQGP4s25rdNmRWcWBWSprZBZLZCZRZ/DT3fwl9AiixfWwdH5y0U6YMgC0dfT+vBp1EbrpPIglzEmGiYGIJFjRbQWthvz62FoaeFp9Mx2iWP9KW3k5c/1fryx9FvDlLIN87yh9FwZc/NsQdpL2d4tzb2S3iO7NFGU8iPJhkk2Rwp30QtHqmkswau7uPmtUze6ye7fMMyDqqZyXyrUS7TE7a5XS4dolBRUevT7hP0SdEO3VtvaWjoKuut34UfDyvt+O+6+2sst7et623v5tOfdxYb2mxYZofnfq9LzagGjL2JUGa3nKBkHFOQ8Z8eitpWWH49JbrXmGEz+pusM4+Z9pBZE7aMnOSd8OrZqjuaYaOFxoAYGpm6JKaoYeaGWo0YKEDpjdjhgaO0F+xukRe+NJiV9uQXe1ZBIzbpcUS7cpLtMAlM1EZudA7WnTPRNNT+WhP0jS+fJQ0ykfmnKYxtTTN/D1Nc4UMtgRm+IIsQQz3JUPusBq7SblG7iwslsgAbJFmgAXWsMe/QIrVY2FWDmqafiuTP/nW3PyMzHSdFsADtMp+QmOBdQT1sE+BQ4xCdT3GWuTpP8f52dOfVx9jPpezCeVy6M57IDtv2wnUBpPsZf0EGpe2dgI1LSdQP+0KarfGm94d0+6Um3apTDT5ACclVN9huiXuAqRM34ATzmvOc9RT0oRys95BUtdivkBWGomrQdLhpZFMFWmB28gZ1IUgNUgIQrFLtUCf/0gAAwAV0BT7t4szrymmnKaYEE2RKoRypxmvU4KrTQkuoKZwmTkbzswp2iG+b4/cwiOnbjymhFFT8PlJgf7R+33DMXEVx4RjR+F1KL71bd89bfvS+Cq/4aYoRpPzhmsArTcu1bH63L33jXX1UKkKHIKsK+erAv+TGvbQWOJDwRYufqobwZZdn4E76xAm1xVh0r9KfPwU5/hpfIX38wUuOl9smzkex6VtWR3Wf1w0Pq5+/7jX5OOi0MbqqCP2zuup9wI9lQ9EDgBtQegR8xCg8qjEpJk19odXYpRXYsZAdvUKAcq6IUAF8q2Nj0oMqkrMdVCJES8Om8GD+ZiGbWMStpWGquseoqp4iIrnh5UCfph0v5d7iOyOdtsr+3ZNdjQ2+8ZnAF46y2SUK9nTgkorFtSu1YJah5LCY+SywIy8sSwDqYyq3E1SHCBBUiJhcr2jgrDa+kmYcwDM8yl3rB9fWh3rbX+Zcklkyg4J5FQoOkkgAnt1SOF41MxWOyZb7QvHCgpYvBaORypJuwrHMEBVMS5Ioo31f0YB/4f3dtcCFIAOowBARVt55faf0QJ33bTAIY2OYPGazwElldnoWgUrgT96zEZdRpDl5Cg5WMHEskCElbQh8KGIzw9aAg0b2qEIKlQAiyYMaNm+N9+Tnt4J8mHN96i/O4vAu7YXWLBSH9XFGxolnyfVlmWRKld2qrm26aM2+ca3nQCer3UAT+IBPB6gqesATSMA8PQEaOZJ4Pe9nIzoAoEELsnHht3vpFwvDEy2Li9hfL9QxrcQkUB1D/kGRvsZ/Esl72fIyZQ1oUeMh2e0/AFCjxhGeNLh1l6HI9Q9RocbIYMbqMOBPWrPe3hgAKCHy8r8GN/Yw8Y9MIqRoMCEN5Jqn03ABJ7XeUfVvnjbBBbvm4DvEy15S6/nDAWGySbc8tOyeBIw2QRb/k19yyeTd9/WrxpBxW2tX9d6mcDS4nYSk81WRrtzkm8WYcqf67u0lHKbMAaS3pzTiLsm4WylrQAk51xGWs1Uq3crrWhYab9DmerdhVaa6ckyN55l7mXM4/IVdyqFZcDCN1ULnyRR+DKHqh3idlF+eRJlpIG+X1FCvqJA5k6Aey/xrZK545RedOaYEKrdUMgun4uRYxxW/B0dfHXx/BNdwcZuBGSx2y4mFkDhAEDBOCBKAbhEG9OEy8dvcPlJN1x+eYTL38vh8iMKl88rcHl1hMuXv45weQsRovpS0W59z+z2QmjyLCWinVD50B6G5JFzrPLx5JFzNGUvR85RVyjyrlBzb30UHKcFYefNBarWXlDa3lgEYAVMjfdfMiV50fPfYaBXQeM/U0qlUZC5VzHSU2qkQ4B/nciSPDFJ8pQ/T0me6OlrMZ5ZEyUAsLkrNdyzhYHTwPfIpEDhIgDQiVXp7QuiaJohRXFUmKNxmY1LU5ZRdK2xiLSbIUNLkYbBZzyxnGsa3I4/PbgN4pe353Ed5V5wtH60JW0OtaQNB7dLWk2mdrjdwPs/5GlGhstrKmlGiXx8sr5HvPXtByIISggbKC7YPTR4sfMPEoL3ZoC5PoFJHwYAXRzfp3Z9AgV00UI1lj37qoU5ENmA6avO+FJYECdIA9BRMZ2OPE6wnsfCaeZ99hdLyKrmM4Lr4GfeWQf5yJCZV4QZRzz/pCupkuOVVF29oBemFyRIo+DINAKpNYZiOMUALhlRKK4PLQpFB4+fv0+LECtpxp6XGn3kLxZIjQkb+ds1Uz13IakRiabpXS85yK9P+0zJgZyna8kp9MwwJcIMk6EZJl6Z0F3KxJxXJlDabzzAvgPFrj6IOhfh65c26lzUlYyY+mREqjyKvWa8/GgxXg7iy1XlPoSmnYK/zJ1Lc9NAEITbep2VgDkLnOS8eThn8TwLHHJWTJL//xMoOTFImtXMth4UV4qiQGx2dma6+ytZXgX4ISwLS+QbxYrhmu1eGsUwEi0fGfmgkmjtq/kLQaI9bGpxnCq09RQE1HWqd/9uri+J7u9WCcA1EdV5HfbdlZJIDu31eOulgbpK8CnLUx4d7KKmJzzTbt7BYJdKuHn9D2UUd6Mmmt+Ts7WOy4zauEyX9zB/m6Mw1w0Kc1NEt+FgX4jVOnyX4/TVOvyrdSdX6y5ktX7V9/2HLZbRXiwXhMHDeu3ZHmF7M3OHN6vCEYoTDYoyVnHCsMUKdYRIIQZEZqyNGPCnFZz5pb5bQur7sT/0UpQr/0LIUfOp82dephrxApm7OfwwpRJK2DKxeSSWKNlxiSLko0RUEZU1Di3Pz6Z3psRicTslH96OlyYafKH32x8kCDmv96vnJxmFyi5PrDJWx4WQXRLsYiG7ZBU3mKtTYDWdvIAnU/NO5piDpLauoGrNQa4jxHHbQXbazEFUXUF2mNnV2swOGgRpG9vBwctvvKR3ffV93d14JaiVXbCduFay/a9afSLzVOviqRB/W8mI5yf72VeyMbJj5RA9LcOniKgr5IIcNsgygTqP8o9VBdTxH1lK+fZVlnK4msuyJ0v5lSRFNSxL+dmTpdR9Wcqzp4lzG6wUWYrRxKWowA1KeFMuPSjhT0HSnAJoQSq7bGNMVP+R1+zDiek1Az7VfYfrleJwTV9ugP+Nl18AHORDJtPHDWUPdoEpsUoJoi4ZjrItx6WcoXFyPNITY5tROd5vgM4lOFe/w7+jDG9MYXqfIH51vDFxRX3ne/0737LcDd7Hxads1tH9wnbKb65FT1PlQJUwQQuBmgJfHMGZYAVqIumYsZnz2VxHIJUJS+WTaIlTQMgP91rHueGZMbdax1k2HScUQ4hsT3VX4EVbFSXZi8uqokDAfEcuTOtJ8748cN4nZlNiFUcwpZcT+Nox2vB93k9L7aPzEb44BGbctRgz45Kd/anaeShcbx/DHXEUda7dZTsVR4EQze/lI4FHEZxtE4+S25xt20SKJE08S4TqtorPIoJTLCOPZalcVMv92tsKy4Xobf9aLhKmt528oPwasKAs4LLX4K5qiCggM/DkTshPFHi4NP87r5SdEMsRBFzWbxK/Nk2iU1Eq73A5HqWyDWgS6YwFWP6AmxJuIp6r2FN4LnfEc1HPwBBn0WZBZ1Hx4iyq+3v4w8kQe3gVsrNt80zddjLPNPEqy9YngTxT5xpl2Ztu5s4uIHMnMDLnyYtMuPMgE/TT8UA2CXkorgI8WdXWFxs4wCgskTalpvogsn0mRSPc+6zm4xdfMm/kmOLX0aJeSm9nCE8hmZenwFkZxurkCmP8Kxg31vg3msa4QWsML54qcgyfVeKpkoW7Q2+YO7zQtFTSHYpJxrmao8Xsb+7UwtiJ4av8PcXJQE+h3CLE6JbfDdb90W2zG4zee91wuXDDxQc33NVfN1wFmz8ijZXfibkVuLnVh/Hno509knIxnwsy9XmMBCa2s81ormBGc3WuQqLeKe2sConS1a3REgszVaMdmWvTIfsMctts3LZ2bp+X+pkopt2Zgv9AOSZ/ydkg6imBe7swAmEl1pZQQAgXTMIJzXa9sdiuWypkAkdTZHIwRXb/JjGhSqPjLq5TVB+juUjdW5hXYtG/EkWeiYDT8qpCa3Jbm6pCiPSiJQRuyciEhTtiPUeELUt8wIpLEbBi6ZSwZXvY7zP8bZeTgGd9vk7ROcyn/sMs6rs8zBB1m1+pteGOat3ebZi6reJuHkSW4jFqQh07P089JHLsPLcCXNFcUoKpZAatgMhJtUPTHv+oAkC4BScRiKjCe84XXnELdQ5Y2T9gtRKOqa8cQ6EgGLlyhLxcjs2DhHc9mpcLn/wl45uvKP19/opx77Gc9tzkbCaWk93zJmrPe3mLFeL6SxUnVKA03KREEPt9e9MdR0tZ3qUcRyOZ0YQeDZnQryMZ6nYQXxMgVWcEJhwTBHW4Yd4JtCDghle+V21kBloIr4Wp8oMShElwQwtF6UVqptw4zdToLepJ4ODmhsVAvyUw0G2+RoiiphQRq6Sixu6a3cScIWBBPUyhEatk2qgp2LhU/G8+RTs4Rfs590CTYs6yZV7rGp+q4Qea+GEG0cQypflULc12EgBvjTPYQulhqf4QDi6oCe+FtlRfsaHPxmO21B+z5cTHbCpmN0qgVWt2I6dIIL4q42jhrf7PXqv/Zc/qfzpk9QchEUZGR7/LKG2535T3fCTueTtP7l/4ionTycNej60WhG/Fs7h88i4uSzbFirvrc+6uhyuV1krBeyuhymJuQ5Nx2Pv77QpIbelDMoP0gTY0lm0Yb8DSEhyGx/W6pqxnZtooGJ6FzUxzKZjeMAqmowFqpVkguTKMoDSV2IgdvCwvLt4qGFgFP5F3MuH2fzPhztr4iZ2dEmJEtmz8isj4z4deHz+0EBEqkS2KiFCtzNvhyoznFZ9Vw5+wWJywqAjIqiGg0eBw5HYgKLGF808J+NjL22b3hdGsrG9KDpJMHrdzkJwWGHqmBIaWLz+5SigbYaISuUN6KBtvomp0a6mmW7OgrXLb82UxNYeKYsijITVHeng1iAEBu1aPibV6t4C6poBSa3X/2PHhUECRQdbngv3j094fX1L1GSK+EXfIGpHt+eldINjS9aakkRZRYUd1tuSR1wPoi1+2PDIccpy15JEJOEElnQ1d81Bum0Euodwd4Lhk98tE8XMqUfz6wO4/Zll52f1C+Zb7fAsnlmMTqQiSdUPsmqTNrmlm+N7Q4ygMwZ2o7BoVzPLLF6CynL9cBpjcKSLFWIgUCyRNZP/7qijLdmR/ctl8L4eLlwCRqjq9qs5cCY/WiL8UidBZyhpwLiIS2qGz67Y1QIkZIyRPT3JYdU4NqyzJk83VkXt71II5uODkejYEH1C3A62zWdh5nL4lFhHPtr5FRjxDzZ4NTEJIjqlhJiW04iihCN+EAcjgohRYlTFuVtUramwDeHK/Xblvdv6t6zoTud/qdU3mXREZ9Vg77Dy0hEAIW4+W8En8vIrm6ExhAkSCgyWFgV/FCvWFg4Xmf6ENfEsk8O0pjTvAt0wHvu27/wt7pWgqpACx+H7jo5ldHRffESJUhyOfr5zLLxDV+e5Ngic8Fs7dIkVxV+6QInbXqNc/3mcrvE/WKX0glSB67kAmzaeoPQdyVhM+ytP7WVzivA4JkqW/+6nRNJyXpvHuYj041opGoQ7OSaoqfJRtKkF5FYIa2bzM/DZhHyd9nfmt9Zlfkl9/2B8/DkPqVdY1En9drFIC/0OTT0XXDSoO4FOMOiwO4F7VYU5PGJZMawXcMvt24alnrHQzWqLw3EcJRP+IOSenVszxvheqE12An01i77BSpUwsiOJOIFl6cLU5/39hSPZ9CgC4JcJOcrGWFO6gcdn35WCCpdVFvB8sRaDynxfwonRouxAGC81ztqA2JRHsS06b0tQ5fn8r9TcXujQW85hIFP0NpLZSMoWvCWCu4MPRwFzeVF3DAe1A3kj5e7+1uHakGTwb8fd2yuwSoWFwCIkB4x88UodY+vUp6aPx4CkBAIyLwwkXh3g9pJJP8GjyCbYBfIJhxCkG9jyMa5efetjCe+naNcBWICc98t+czvZv/uBxMgXDvLCI204WA16oSOakYViNv4tJNX5K6Eq+BmPHIqz7e6vSMwEGYU25XawRlxpK/vWjWI01KwYpKmKsGLyoqEkGsgZB0WEQ5AYHQWV7EJR4iITKIEhZJPEzMZg5AoVI71Fi8fKAPrjs+hFLupL5++DT+xl2CPL8v5/REIcADTGIV/bxBWoR5vdGAGUR3pMRVIERW+Nn/9aYQ1PLRbIMwPvQLJJDA/BsHUM6W2j6+sRXDyK5EUTdDQtLEQGf9bCwSc+47+IZR6RW0qT6SvWYo9ATjdKp4YuE1FCEL8q8wmFrBVCL629J0NhiJwCs+kp5oX4aVl8Vhmab9dxIzTZCVYmxb/G2VVSJElOe2jDujEjk+NgdCFbGG+OJe2NMp/1U46RUsDJufjd3LmtNQ1EUXrmOo0DHkUvHKVLGoSLjFMRxKNj3fwQ/aFOT7JN9OWnUR1Da03PWXvv/N2R9UM0FW/LAzBOCRCRcsFSPRAQ39e3OGxe9UOVVF6oYC2GhvhBWtAl76JJf7FDGlMwOIgJlNKmW4KdasjbYatJg23TvIpHzLpIPlNouz3cwXqHUlnZLbdjDeHEaHEptYFfuvRVUzMr9lQUzt7jVNLhekFRECcsMNGkVWl5imH0MNL8dBpousf2GLDFwYvvetLfpAUGorNeKyvolt9g+7bQoPnxpMfmSKmXk07FRPp6RDxalxf1tMlPDjU7y7Cgt9kAliztMw4EO8elnPu40HAK+4RA3DQeyuGPrvhUA4BHrv9oqyXe6SvIyjDfy47KiB/rucQlBi73w1WIXjBa7vnw/A22LXEuEbKkDhD4kmoqKxv1kIlXIiylrf/dTFpSmndqFYeOblmjVtL6A3/h2c02wv6n+IgRbJbybEmzt8G4DjiwdMvxgkgkSjR6uCd5OEmaYyGV5COugyv4ktg9tUhZD8ep8EqPdO2vM/e6NNQz3zgr2mkY21iw/Wd+Y3ln7mgZ/JfFFyojr/IVqa7+tOpDZzrT9eDsfo1aZza/g4RH7ZPeIsbDiowwZjnrlEev+q+kG3zRlNEEfa1oXGEwZLybNmUGv4poM7Xoq17qcbbQsn21sHh6yoHtvfMDntHbcG73XiJPOoUyb0vRQLnv3RjRl4KCcX5zuDuWz3juCz8eTHfF/t4pfOJkHkrUluDUxD0pv9JCrHj5pYPDktzhUSHUSgSs/nl8SN2hIAlHmax3Wp70aMBP76bFnhPOuNcMWjn2o+SDtFVqJwUbNwqv7fp9WmP1d+UT4ZPb7wOEEWtidQLlJttfYCdTiUM1YbUjQStd9qaZs6yVojWRBa456vf+M1MrPCOPDsWUlm0NW8ubOSiISfgtZCZpBPJqsxL3RHS4vMwCEUqZjv9HkhT5rHrS/oHE3fU7cIA4+fcYIM+u/qURV7koUDNtCwSFcp6+2E1fQGApBo5UQxFUvcczawkzIDu5dsk0t9XwprOBxi0t2XEjU53m89yJP5F7keN4W1KiomFyaxA+C/dLkH+ew9XP/nLoeOHvjlTanZs7ey8PZW/4ZPMLxWLuxPNZyKZnbOpO5yFIKoskcRb4fKY87dxbH75s8rjIT2+2rNzLHW65VVGoGiEyo8RX44T9y/b9a8KNk4U9/LSlleKrMB6Npa8JfS54e71RpKyYmyMp3M/KfwE3F7genYhh39daiypnn2Zmya/SLR5X7WzusTnW7teOJlJQZFgWGm82Jn2OLAVicErof49gyViVoaGBXxEQCRGW8ImYtQ1T8GiI+0WcouHY342pdwEkUhDXmQbIoyrSKVlEU1ajC5P3TkuNrVKTB83lWZ2F2V1VElaq2uieN1Z1VpfoXi+H+90a6utaZ0gp6fahrrZ2GlJzUtbADbnXrWklT16pIXauAUtIgza4/91uWZHZNtOT6kClXIByg/vq9dMaMa5Wh6ULFMJLhnVv5VoRWiSBhSVxU+SeTfeThSMSeEJKNu4WkRlOw9c0XvxjyxTQk+SJnUTPV9uHH1Khd/z3jZOXP4/qf8FkFubauggSuV9/9oEku4TOVyCX6wqiBi5lN628a7poIaRUE7n35n3+zWPfWbG3ljsBiGaYrTVjM1JamtR+vWluLZT5+axFL0l+RoVJyEnoqTA3nR/8QwxcdO/rjxOVfzccp3ah7mhi889Vxmlf9Ox/V45NlMj98u0GPv94JAvLusBzxOCWYjQDORys3g9EKaLSSEAJ4F8BbNQDe9kTOrdmetTTbZWsit7zVT+RWRLMtxALroVgATtlyotQ++7f3Ux9cV8hcLUDPgpXvD1qlg3CQHzRNlppI636wt2TmzupiTTQZmupiWM5nDDJPf/RvwM+mP/Oz6br7TdjKARmUAVlpFs57Rcf2zTTvectWiyqXu9KG92ZNUAle6ubEB5Xg7vycaYkDZebo/Ny41nnWQ8SByrrOQ+VUVRZCp5uK9GpBoQ3kH+zxdGSQX9sJOFWJhlOVE3Ihx6miPYcm59ZsKoCkPd6VIjOwM9s/+csBUIn5I5uJG2hOSEYl+tSqMT61PIPBL3IvCUgjpC6Q0snfEHThmOX358nK77LcCNreK1FQcb3XTN17TY822mMCMWPD/A5J7QWk++7ZMC/a8RXoUSooKXsQ2MLEOC57jOPynXFccYzj+KMy9tarjFGKltI3qKIFrRkMm/EgTMhBKBFc9SXv/2COza5OSWejvUxl14yc9zUj5YAcqfiACl0coEIhQuDpHSp0hTESoK1z49bdZIo8mkyPmIVlHKoQCsBSVsdFRB1nhrRsXC/52grejoeHBGAYWXzaKnIpdLKl1CVbuq2i03DzUp7jU1wEeSNbqjnZErmoWoS/P5qLqiD8fbMS5O3eNiQm/sr0If0LDemrrULI5bt67f9GKfZ0dQNLV3b6VyXcm4P0zW3B9IeGzblj8blQLn2/2/TATJvavd93u9J/t2l6hR1kglZ+7RoN+8TDM+WMnWO7FhbIvRlRGH7TqOvuEbOP4/eHCQv0tYoa193hT0Sj9rt21P4buFRXQB0a1NQAAAAASUVORK5CYII=",jl),Ul=dn.div(u||(u=r(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  align-items: center;\n  text-align: center;\n  opacity: 0.8;\n"]))),Zl=function(e){var t,n,r=e.maxHeight,i=e.maxWidth,a=e.minimized,o=e.onToggleMinified,s=(0,Ol.useRef)(null),u=vl((function(e){return[e.gl]}),Ll.default),l=(0,M.Z)(u,1)[0],c=Qr(),f=(0,M.Z)(c,2),d=f[0],p=f[1],h=p.width,v=p.height,m=null!=(n=null==(t=null==l?void 0:l.getContextAttributes())?void 0:t.preserveDrawingBuffer)&&n;(0,Ol.useLayoutEffect)((function(){l&&d(null==l?void 0:l.domElement)}),[l,d]);var g=(0,Rl.useMemo)((function(){if(!l)return[0,0];var e=h/(v||Number.EPSILON)||Number.EPSILON,t=Math.min(e*r,i);return[t,t/e]}),[l,i,r,h,v]),y=(0,M.Z)(g,2),b=y[0],w=y[1];return(0,Ol.useEffect)((function(){var e;return l&&function t(n){return function(){if(e=requestAnimationFrame(t(n)),n.domElement&&m){var r=s.current.getContext("2d");r.imageSmoothingQuality="high",r.fillStyle="white",r.fillRect(0,0,b,w),r.drawImage(n.domElement,0,0,b,w)}else cancelAnimationFrame(e)}}(l)(),function(){cancelAnimationFrame(e)}}),[l,b,w,m]),Ol.default.createElement(zl,{minimized:a,onClick:o,style:{width:a?32:m?"".concat(b,"px"):"auto",height:a?32:m?"".concat(w,"px"):"auto"}},m?Ol.default.createElement(Fl,{ref:s,width:b,height:w}):Ol.default.createElement(Bl,null,Ol.default.createElement(Ul,null,Ol.default.createElement(Nl,{size:"3em"}),Ol.default.createElement("code",null,"Please set ",Ol.default.createElement("pre",null,"gl={{ preserveDrawingBuffer: true }}")," on the r3f Canvas for the reference window to work."))))},Vl=Ke(l||(l=r(["\n  :host {\n    contain: strict;\n    all: initial;\n    color: white;\n    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,\n      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;\n  }\n\n  * {\n    padding: 0;\n    margin: 0;\n    font: inherit;\n    vertical-align: baseline;\n    list-style: none;\n  }\n"]))),Hl=function(e){var t,n,r=e.snapshotEditorSheet,i=e.paneId,a=Pr((function(e){return[e.gl,e.scene,e.camera]}),Si.default),o=(0,M.Z)(a,3),s=(o[0],o[1],o[2],Dl(r,i)),u=(0,M.Z)(s,2),l=u[0],c=u[1],f=Xu(),d=vl((function(e){return e.helpersRoot}),Si.default),p=null==(t=zu(null==f?void 0:f.props.viewport.showGrid))||t,h=null==(n=zu(null==f?void 0:f.props.viewport.showAxes))||n,v=(0,Mn.useMemo)((function(){return new Il}),[]);return Tn.default.createElement(hl,null,p&&Tn.default.createElement("primitive",{object:v}),h&&Tn.default.createElement("axesHelper",{args:[500]}),l,Tn.default.createElement("primitive",{object:d}),Tn.default.createElement(xl,{orbitControlsRef:c}),Tn.default.createElement("color",{attach:"background",args:[.1,.1,.1]}))},Wl=dn.div(c||(c=r(["\n  tab-size: 4;\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  margin: 0;\n\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n"]))),Gl=dn.div(f||(f=r(["\n  position: relative;\n  z-index: 0;\n  height: 100%;\n  overflow: hidden;\n"]))),ql=dn.div(d||(d=r(["\n  position: absolute;\n  inset: 0;\n  z-index: 2;\n  pointer-events: none;\n"]))),Xl=dn.div(p||(p=r(["\n  position: absolute;\n  left: 12px;\n  top: 12px;\n  pointer-events: auto;\n"]))),Kl=dn.div(h||(h=r(["\n  position: absolute;\n  right: 12px;\n  top: 12px;\n  justify-content: center;\n"]))),Yl=dn.div(v||(v=r(["\n  position: absolute;\n  margin: auto;\n  left: 0;\n  right: 0;\n  width: 300px;\n  top: 12px;\n  padding: 16px;\n  border-radius: 4px;\n  border: 1px solid rgba(255, 255, 255, 0.08);\n\n  backdrop-filter: blur(14px);\n  background: rgba(40, 43, 47, 0.8);\n\n  @supports not (backdrop-filter: blur()) {\n    background-color: rgba(40, 43, 47, 0.95);\n  }\n"]))),Ql=function(e){var t,n,r=qu(),i=e.paneId,a=Xu(),o=Qr(),s=(0,M.Z)(o,2),u=s[0],l=s[1],c=vl((function(e){return[e.sceneSnapshot,e.createSnapshot]}),Si.default),f=(0,M.Z)(c,2),d=f[0],p=f[1];(0,Mn.useLayoutEffect)((function(){p()}),[]);var h=(0,Mn.useCallback)((function(){var e=I().selection.find((function(e){return A.Z0.has(e)}));e&&I().setSelection([e.sheet])}),[]),v=(0,Mn.useState)(),m=(0,M.Z)(v,2),g=m[0],y=m[1];if((0,Mn.useEffect)((function(){if(g)return I().ui.renderToolset("snapshot-editor",g)}),[g]),!a)return Tn.default.createElement(Tn.default.Fragment,null);var b=null!=(n=zu(null==(t=Xu())?void 0:t.props.viewport.referenceWindow))?n:"minimized";return Tn.default.createElement(ki.default.div,{style:{overflow:"hidden"}},Tn.default.createElement(je,{disableVendorPrefixes:!0},Tn.default.createElement(Tn.default.Fragment,null,Tn.default.createElement(Vl,null),Tn.default.createElement(Wl,null,Tn.default.createElement(ql,null,Tn.default.createElement(Xl,{ref:y}),"hidden"!==b&&Tn.default.createElement(Kl,null,Tn.default.createElement(Zl,{maxHeight:Math.min(.3*l.height,150),maxWidth:Math.min(.3*l.width,250),minimized:"minimized"===b,onToggleMinified:function(){I().transaction((function(e){(0,e.set)(Xu().props.viewport.referenceWindow,"minimized"===b?"maximized":"minimized")}))}})),!d&&Tn.default.createElement(Yl,null,"The scene hasn't been initialized yet. It will appear in the editor as soon as it is.")),Tn.default.createElement(Gl,{ref:u},Tn.default.createElement(_i,{onCreated:function(e){e.gl.setClearColor("white")},shadows:!0,dpr:[1,2],frameloop:"demand",onPointerMissed:h},Tn.default.createElement(Hl,{snapshotEditorSheet:r,paneId:i})))))))},$l=$(_n()),Jl=$(te()),ec='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>',tc={id:"@theatre/r3f",toolbars:{global:function(e,t){var n=(0,R.prism)((function(){Xu();return[{type:"Icon",title:"Create Snapshot",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Camera</title><path d="M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><circle cx="256" cy="272" r="80" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M124 158v-22h-24v22"/></svg>',onClick:function(){t.createPane("snapshot")}}]}));return(0,O.onChange)(n,(function(){e(n.getValue())}))},"snapshot-editor":function(e,t){var n=vl.getState().createSnapshot,r=(0,R.prism)((function(){var e,r,i,a=Xu(),o=null!=(e=(0,R.val)(null==a?void 0:a.props.transformControls.mode))?e:"translate",s=null!=(r=(0,R.val)(null==a?void 0:a.props.transformControls.space))?r:"world",u=null!=(i=(0,R.val)(null==a?void 0:a.props.viewport.shading))?i:"rendered";return[{type:"Icon",onClick:n,title:"Refresh Snapshot",svgSource:'<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>'},{type:"Switch",value:o,onChange:function(e){return t.transaction((function(t){return(0,t.set)(a.props.transformControls.mode,e)}))},options:[{value:"translate",label:"Tool: Translate",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 34.47l-90.51 90.51h67.883v108.393H124.98V165.49L34.47 256l90.51 90.51v-67.883h108.393V387.02H165.49L256 477.53l90.51-90.51h-67.883V278.627H387.02v67.883L477.53 256l-90.51-90.51v67.883H278.627V124.98h67.883L256 34.47z"/></svg>'},{value:"rotate",label:"Tool: Rotate",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M263.09 50c-11.882-.007-23.875 1.018-35.857 3.13C142.026 68.156 75.156 135.026 60.13 220.233 45.108 305.44 85.075 391.15 160.005 434.41c32.782 18.927 69.254 27.996 105.463 27.553 46.555-.57 92.675-16.865 129.957-48.15l-30.855-36.768c-50.95 42.75-122.968 49.05-180.566 15.797-57.597-33.254-88.152-98.777-76.603-164.274 11.55-65.497 62.672-116.62 128.17-128.168 51.656-9.108 103.323 7.98 139.17 43.862L327 192h128V64l-46.34 46.342C370.242 71.962 317.83 50.03 263.09 50z"/></svg>'},{value:"scale",label:"Tool: Scale",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M29 30l1 90h36V66h26V30H29zm99 0v36h72V30h-72zm108 0v36h72V30h-72zm108 0v36h72V30h-72zm102 0v78h36V30h-36zm-206 80v36h100.543l-118 118H30v218h218V289.457l118-118V272h36V110H240zm206 34v72h36v-72h-36zM30 156v72h36v-72H30zm416 96v72h36v-72h-36zm0 108v72h36v-72h-36zm-166 86v36h72v-36h-72zm108 0v36h72v-36h-72z"/></svg>'}]},{type:"Switch",value:s,onChange:function(e){return t.transaction((function(t){(0,t.set)(a.props.transformControls.space,e)}))},options:[{value:"world",label:"Space: World",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>'},{value:"local",label:"Space: Local",svgSource:ec}]},{type:"Switch",value:u,onChange:function(e){return t.transaction((function(t){(0,t.set)(a.props.viewport.shading,e)}))},options:[{value:"wireframe",label:"Display: Wireframe",svgSource:ec},{value:"flat",label:"Display: Flat",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"></path></svg>'},{value:"solid",label:"Display: Solid",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"></path></svg>'},{value:"rendered",label:"Display: Rendered",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M238.406 26.844c-9.653.12-18.926 2.69-30.437 7.062l-157.282 57c-20.984 7.65-21.587 11.834-22.344 33.28L20.937 358.22c-1.207 27.514-.654 33.187 23.25 43.56L229.97 483.19c19.34 8.29 31.906 7.655 45.186 3.218l181.938-56.53c21.95-7.295 25.04-9.627 25.875-36.845l7.686-250.155c.662-17.37-5.667-24.695-18.78-29.625L271.062 34.375c-12.977-5.344-23.003-7.653-32.657-7.53zm.813 24.875c23.637-.053 45.564 8.434 87.874 24.874 95.545 37.123 131.71 53.8 69.687 77.937-74.002 28.802-128.175 45.115-172.28 25.814L113.47 131.75c-34.57-15.127-44.69-27.46 17.843-50.094 55.64-20.14 82.742-29.882 107.906-29.937zm44.718 43.75c-38.284.402-55.285 21.205-56.813 38.936-.873 10.132 2.95 19.6 12.406 26.25 9.456 6.65 25.355 10.56 48.97 5.938 35.817-7.01 61.536-15.056 77.5-22.844 7.982-3.894 13.464-7.737 16.5-10.844 3.036-3.107 3.453-4.942 3.438-6-.016-1.057-.44-2.675-3.313-5.406-2.873-2.73-8.03-6.04-15.22-9.156-14.378-6.233-36.757-11.877-65.717-15.72-6.355-.842-12.28-1.213-17.75-1.155zM59.25 134c10.372-.29 29.217 7.2 63.906 22.656 140.925 62.786 140.52 65.876 130.97 200.656-7.783 109.81-8.797 109.85-128.47 59.282-73.15-30.91-86.806-40.853-85.187-88.97l5.468-162.937c.674-20.034 1.557-30.358 13.312-30.687zm381.938 30.906c29.172-.384 29.1 28.075 26.75 105.25-4.118 135.132-9.05 140.184-120.375 173.72-70.42 21.21-81.49 25.614-78.97-12.032l11-164.156c3.217-48.034 7.588-51.508 94.813-83.907 31.323-11.633 52.534-18.686 66.78-18.874zm-20.438 40.688c-.332-.002-.674.015-1 .03-5.22.263-10.226 2.77-14.188 8.407-3.96 5.638-6.81 14.71-5.687 27.907 1.448 17.033-4.507 38.11-15.156 56.938-10.65 18.827-26.502 35.91-47.814 38.813-29.127 3.968-42.41 23.58-43.5 42.062-.545 9.24 2.108 18.03 7.688 24.594s14.088 11.335 27.187 12.03c41.146 2.185 71.336-10.766 91.595-39.155 20.26-28.39 30.396-73.76 25.875-136.595-1.876-26.076-14.708-34.977-25-35.03zm-246.25 8.844c-.644 0-1.218.063-1.72.187-2.003.494-3.685 1.53-5.655 4.813-1.913 3.186-3.688 8.618-4.406 16.343l-.064.657c-1.388 16.732-8.098 28.602-17.844 35.063-9.745 6.46-20.794 7.808-31.125 9.094-10.33 1.286-20.177 2.39-28.156 5.75-7.977 3.36-14.36 8.38-19.468 19.78-7.2 16.076-7.143 28.027-3.124 38.563 4.018 10.537 12.688 20.106 24.687 28.75 23.998 17.29 60.27 29.956 88.906 41.844 11.386 4.727 20.496 6.484 27.282 6.126 6.787-.358 11.278-2.423 15.375-6.562 8.195-8.28 14.057-27.692 15-57.344 2.024-63.623-18.84-110.284-38.656-130.875-8.668-9.008-16.52-12.193-21.03-12.188zm184.22 6.812c-.95-.003-1.927.035-2.97.094-35.464 1.99-48.477 12.867-52.5 24.062-4.023 11.196.826 27.07 10.844 39.78 11.488 14.58 20.59 15.736 30.437 12.283 9.848-3.455 20.542-14.108 27.376-26.908s9.512-27.397 7.188-36.28c-1.163-4.443-3.144-7.422-6.47-9.626-2.908-1.928-7.274-3.388-13.905-3.406z"></path></svg>'}]}]}));return(0,O.onChange)(r,(function(){e(r.getValue())}))}},panes:[{class:"snapshot",mount:function(e){var t=e.paneId,n=e.node,r=$l.default.createRoot(n);return r.render(Jl.default.createElement(Ql,{paneId:t})),function(){setTimeout((function(){r.unmount()}),0)}}}]}},1779:function(e,t,n){"use strict";n.d(t,{Ah:function(){return K},OZ:function(){return q},Z0:function(){return P},bu:function(){return A},yR:function(){return O}});var r,i,a=n(2533),o=n(9961),s=n(3680),u=n(240),l=n(745),c=n(3358),f=n(7982),d=n(3761),p=n(6821),h=Object.create,v=Object.defineProperty,m=Object.defineProperties,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,k=function(e,t,n){return t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},E=function(e,t){for(var n in t||(t={}))_.call(t,n)&&k(e,n,t[n]);if(w){var r,i=(0,l.Z)(w(t));try{for(i.s();!(r=i.n()).done;){n=r.value;S.call(t,n)&&k(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},C=function(e,t){return m(e,y(t))},M=function(e,t){var n={};for(var r in e)_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&w){var i,a=(0,l.Z)(w(e));try{for(a.s();!(i=a.n()).done;){r=i.value;t.indexOf(r)<0&&S.call(e,r)&&(n[r]=e[r])}}catch(o){a.e(o)}finally{a.f()}}return n},T=function(e,t,n){return n=null!=e?h(x(e)):{},function(e,t,n,r){if(t&&"object"===typeof t||"function"===typeof t){var i,a=(0,l.Z)(b(t));try{var o=function(){var a=i.value;_.call(e,a)||a===n||v(e,a,{get:function(){return t[a]},enumerable:!(r=g(t,a))||r.enumerable})};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}return e}(!t&&e&&e.__esModule?n:v(n,"default",{value:e,enumerable:!0}),e)}((r={"../../node_modules/zustand/vanilla.js":function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e,r,a){void 0===r&&(r=i),void 0===a&&(a=Object.is);var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}}},function(){return i||(0,r[b(r)[0]])((i={exports:{}}).exports,i),i.exports})()),P=new WeakSet,A=(0,T.default)((function(e,t){return{sheet:null,editorObject:null,scene:null,gl:null,helpersRoot:new f.Group,editables:{},canvasName:"default",sceneSnapshot:null,editablesSnapshot:null,initialEditorCamera:{},init:function(n,r){e({scene:n,gl:r}),t().createSnapshot()},addEditable:function(t,n){e((function(e){return{editables:C(E({},e.editables),(0,u.Z)({},t,n))}}))},removeEditable:function(t){e((function(e){var n=E({},e.editables);return delete n[t],{editables:n}}))},createSnapshot:function(){e((function(e){var t,n;return{sceneSnapshot:null!=(n=null==(t=e.scene)?void 0:t.clone())?n:null,editablesSnapshot:e.editables}}))},setSnapshotProxyObject:function(t,n){e((function(e){return{editablesSnapshot:C(E({},e.editablesSnapshot),(0,u.Z)({},n,C(E({},e.editablesSnapshot[n]),{proxyObject:t})))}}))}}}));function D(e){return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}var I=(0,c.createContext)(void 0),R=function(){return function(){var e=(0,c.useContext)(I);if(!e)throw new Error("No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider");return e}().sheet},O=function(e){var t=e.sheet,n=e.children,r=(0,d.z)((function(e){return{scene:e.scene,gl:e.gl}})),i=r.scene,a=r.gl;return(0,c.useEffect)((function(){if(!t||"Theatre_Sheet_PublicAPI"!==t.type)throw new Error("sheet in <Wrapper sheet={sheet}> has an invalid value")}),[t]),(0,c.useLayoutEffect)((function(){!function(e){var t=e.gl,n=e.scene;(0,A.getState().init)(n,t)}({gl:a,scene:i})}),[i,a]),c.createElement(I.Provider,{value:{sheet:t}},n)};function L(e){return"number"===typeof e&&isFinite(e)}function N(e){return["x","y","z"].every((function(t){return L(e[t])}))}var z=function(e){return e?{x:e[0],y:e[1],z:e[2]}:{x:0,y:0,z:0}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.nudgeMultiplier,i=void 0===r?.01:r;return{parse:function(n){var r=n[e],i=r?Array.isArray(r)?z(r):L(r)?{x:r,y:r,z:r}:N(r)?{x:r.x,y:r.y,z:r.z}:(p.notify.warning('Invalid value for vector prop "'.concat(e,'"'),"Couldn't make sense of `".concat(e,"={").concat(JSON.stringify(r),"}`, falling back to `").concat(e,"={").concat(JSON.stringify([t.x,t.y,t.z]),"}`.\n\nTo fix this, make sure the prop is set to either a number, an array of numbers, or a three.js Vector3 object.")),t):t;return["x","y","z"].forEach((function(t){n["".concat(e,"-").concat(t)]&&(i[t]=n["".concat(e,"-").concat(t)])})),i},apply:function(t,n){n[e].set(t.x,t.y,t.z)},type:(0,u.Z)({},e,{x:p.types.number(t.x,{nudgeMultiplier:i}),y:p.types.number(t.y,{nudgeMultiplier:i}),z:p.types.number(t.z,{nudgeMultiplier:i})})}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.nudgeMultiplier,i=void 0===r?.01:r;return{parse:function(n){var r;return null!=(r=n[e])?r:t},apply:function(t,n){n[e]=t},type:(0,u.Z)({},e,p.types.number(t,{nudgeMultiplier:i}))}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new f.Color(0,0,0);return{parse:function(n){var r;return C(E({},null!=(r=n[e])?r:t),{a:1})},apply:function(t,n){n[e].setRGB(t.r,t.g,t.b)},type:(0,u.Z)({},e,p.types.rgba(C(E({},t),{a:1})))}},U=function(e,t){return C(E({},e),{props:E(E({},e.props),t)})},Z={props:{position:F("position"),rotation:F("rotation"),scale:F("scale",z([1,1,1]))},useTransformControls:!0,icon:"cube",createHelper:function(e){return new f.BoxHelper(e,W)}},V=C(E({},U(Z,{intensity:j("intensity",1),distance:j("distance"),decay:j("decay"),color:B("color",new f.Color("white"))})),{dimensionless:!0}),H=C(E({},U(Z,{near:j("near",.1,{nudgeMultiplier:.1}),far:j("far",2e3,{nudgeMultiplier:.1})})),{updateObject:function(e){e.updateProjectionMatrix()},icon:"camera",dimensionless:!0,createHelper:function(e){return new f.CameraHelper(e)}}),W="#40AAA4",G={group:C(E({},Z),{icon:"collection",createHelper:function(e){return new f.BoxHelper(e,W)}}),mesh:C(E({},Z),{icon:"cube",createHelper:function(e){return new f.BoxHelper(e,W)}}),spotLight:C(E({},U(V,{angle:j("angle",0,{nudgeMultiplier:.001}),penumbra:j("penumbra",0,{nudgeMultiplier:.001})})),{icon:"spotLight",createHelper:function(e){return new f.SpotLightHelper(e,W)}}),directionalLight:C(E({},U(Z,{intensity:j("intensity",1),color:B("color",new f.Color("white"))})),{icon:"sun",dimensionless:!0,createHelper:function(e){return new f.DirectionalLightHelper(e,1,W)}}),pointLight:C(E({},V),{icon:"lightBulb",createHelper:function(e){return new f.PointLightHelper(e,1,W)}}),ambientLight:{props:{intensity:j("intensity",1),color:B("color",new f.Color("white"))},useTransformControls:!1,icon:"lightBulb"},hemisphereLight:{props:{intensity:j("intensity",1),color:B("color",new f.Color("white")),groundColor:B("groundColor",new f.Color("white"))},useTransformControls:!1,icon:"lightBulb"},perspectiveCamera:U(H,{fov:j("fov",50,{nudgeMultiplier:.1}),zoom:j("zoom",1)}),orthographicCamera:H,points:Z,line:Z,lineLoop:Z,lineSegments:Z,fog:{props:{color:B("color"),near:j("near",1,{nudgeMultiplier:.1}),far:j("far",1e3,{nudgeMultiplier:.1})},useTransformControls:!1,icon:"cloud"}},q=(A.getState().createSnapshot,function(e){return"".concat(e.sheetId,":").concat(e.sheetInstanceId,":").concat(e.objectKey)}),X=(0,c.createContext)(void 0),K=function(e){var t=function(t,n){if("primitive"!==t&&!n)throw new Error("You must provide the type of the component you're creating an editable for. For example: editable(MyComponent, 'mesh').");return(0,c.forwardRef)((function(r,i){var a=r,u=a.theatreKey,l=a.visible,f=a.editableType,h=a.additionalProps,v=a.objRef,m=M(a,["theatreKey","visible","editableType","additionalProps","objRef"]);if("string"!==typeof u)throw new Error("No valid theatreKey was provided to the editable component. theatreKey must be a string. Received: ".concat(u));if("primitive"===t&&!f)throw new Error("When using the primitive component, you must provide the editableType prop. Received: ".concat(f));var g=null!=n?n:f,y=(0,c.useRef)(),b=R(),w=function(){var e;return null==(e=(0,c.useContext)(X))?void 0:e.rafDriver}(),x=(0,c.useState)(void 0),_=(0,s.Z)(x,2),S=_[0],k=_[1],T=(0,c.useMemo)((function(){return q(C(E({},b.address),{objectKey:u}))}),[b,u]),I=(0,d.z)((function(e){return e.invalidate}));return(0,c.useEffect)((function(){if("perspectiveCamera"===t||"orthographicCamera"===t){var e=t.charAt(0).toUpperCase()+t.slice(1);p.notify.warning("Possibly incorrect use of <e.".concat(t," />"),'You seem to have declared the camera "'.concat(u,'" simply as `<e.').concat(t," ... />`. This alone won't make r3f use it for rendering.\n\nThe easiest way to create a custom animatable `").concat(e,"` is to import it from `@react-three/drei`, and make it editable.\n```\nimport {").concat(e,"} from '@react-three/drei'\n\nconst EditableCamera =\n  editable(").concat(e,", '").concat(t,"')\n```\nThen you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.\n```\n<EditableCamera\n  theatreKey=\"").concat(u,'"\n  makeDefault\n>\n```\n'))}}),[t,u]),(0,c.useLayoutEffect)((function(){if(b)if(S)b.object(u,Object.assign.apply(Object,[E({},h)].concat((0,o.Z)(Object.values(e[g].props).map((function(e){return e.type}))))),{reconfigure:!0});else{var t=b.object(u,Object.assign.apply(Object,[E({},h)].concat((0,o.Z)(Object.values(e[g].props).map((function(e){return e.type}))))));P.add(t),k(t),v&&("function"===typeof v?v(t):v.current=t),A.getState().addEditable(T,{type:g,sheetObject:t,visibleOnlyInEditor:"editor"===l,objectConfig:e[g]})}}),[b,T,h]),(0,c.useLayoutEffect)((function(){S&&(S.initialValue=Object.fromEntries(Object.entries(e[g].props).map((function(e){var t=(0,s.Z)(e,2);return[t[0],t[1].parse(m)]}))))}),[S].concat((0,o.Z)(Object.keys(e[g].props).map((function(e){return m[e]}))))),(0,c.useLayoutEffect)((function(){if(S){var t=y.current,n=function(n){var r,i;Object.entries(e[g].props).forEach((function(e){var r=(0,s.Z)(e,2),i=r[0];return r[1].apply(n[i],t)})),null==(i=(r=e[g]).updateObject)||i.call(r,t),I()};n(S.value);var r=S.onValuesChange(n,w);return function(){r(),S.sheet.detachObject(u),P.delete(S),A.getState().removeEditable(T)}}}),[S,w]),c.createElement(t,C(E({ref:D([y,i])},m),{visible:"editor"!==l&&l,userData:{__editable:!0,__storeKey:T}}))}))},n=C(E({},Object.fromEntries(Object.keys(e).map((function(e){return[e,t(e,e)]})))),{primitive:t("primitive",null)});return Object.assign(t,n)}(G);K(c.forwardRef((function(e,t){var n=e,r=n.makeDefault,i=n.lookAt,s=M(n,["makeDefault","lookAt"]),u=(0,d.z)((function(e){return e.set})),l=(0,d.z)((function(e){return e.camera})),p=(0,d.z)((function(e){return e.size})),h=c.useRef(null);return c.useLayoutEffect((function(){s.manual||(h.current.aspect=p.width/p.height)}),[p,s]),c.useLayoutEffect((function(){h.current.updateProjectionMatrix()})),c.useLayoutEffect((function(){if(r){var e=l;return u((function(){return{camera:h.current}})),function(){return u((function(){return{camera:e}}))}}}),[h,r,u]),(0,d.A)((function(){var e;if(i&&h.current){h.current.lookAt(Array.isArray(i)?(0,a.Z)(f.Vector3,(0,o.Z)(i)):i.current?i.current.position:i);var t=A.getState().editablesSnapshot;t&&(null==(e=t[h.current.userData.__storeKey].proxyObject)||e.rotation.copy(h.current.rotation))}})),c.createElement("perspectiveCamera",E({ref:D([h,t])},s))})),"perspectiveCamera"),K(c.forwardRef((function(e,t){var n=e,r=n.makeDefault,i=n.lookAt,s=M(n,["makeDefault","lookAt"]),u=(0,d.z)((function(e){return e.set})),l=(0,d.z)((function(e){return e.camera})),p=(0,d.z)((function(e){return e.size})),h=c.useRef(null);return c.useLayoutEffect((function(){s.manual||h.current.updateProjectionMatrix()}),[p,s]),c.useLayoutEffect((function(){h.current.updateProjectionMatrix()})),c.useLayoutEffect((function(){if(r){var e=l;return u((function(){return{camera:h.current}})),function(){return u((function(){return{camera:e}}))}}}),[h,r,u]),(0,d.A)((function(){var e;if(i&&h.current){h.current.lookAt(Array.isArray(i)?(0,a.Z)(f.Vector3,(0,o.Z)(i)):i.current?i.current.position:i);var t=A.getState().editablesSnapshot;t&&(null==(e=t[h.current.userData.__storeKey].proxyObject)||e.rotation.copy(h.current.rotation))}})),c.createElement("orthographicCamera",E({left:p.width/-2,right:p.width/2,top:p.height/2,bottom:p.height/-2,ref:D([h,t])},s))})),"orthographicCamera")},3504:function(e,t,n){"use strict";var r,i,a;e=n.nmd(e);var o=n(1795).default,s=n(3298).default,u=n(1185).default,l=n(7964).default,c=n(4790).default,f=n(1555).default,d=n(3333).default,p=n(366).default,h=n(653).default,v=n(8648).default,m=n(202).default,g=n(1146).default,y=d().mark(KC),b=Object.create,w=Object.freeze,x=Object.defineProperty,_=Object.defineProperties,S=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,M=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,A=function(e,t){if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},D=function(e,t,n){return t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},I=function(e,t){for(var n in t||(t={}))T.call(t,n)&&D(e,n,t[n]);if(C){var r,i=g(C(t));try{for(i.s();!(r=i.n()).done;){n=r.value;P.call(t,n)&&D(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},R=function(e,t){return _(e,k(t))},O=function(e,t){var n={};for(var r in e)T.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&C){var i,a=g(C(e));try{for(a.s();!(i=a.n()).done;){r=i.value;t.indexOf(r)<0&&P.call(e,r)&&(n[r]=e[r])}}catch(o){a.e(o)}finally{a.f()}}return n},L=function(e,t){return function(){return e&&(t=e(e=0)),t}},N=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},z=function(e,t){for(var n in t)x(e,n,{get:t[n],enumerable:!0})},F=function(e,t,n,r){if(t&&"object"==typeof t||"function"==typeof t){var i,a=g(E(t));try{var o=function(){var a=i.value;!T.call(e,a)&&a!==n&&x(e,a,{get:function(){return t[a]},enumerable:!(r=S(t,a))||r.enumerable})};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}return e},j=function(e,t,n){return n=null!=e?b(M(e)):{},F(!t&&e&&e.__esModule?n:x(n,"default",{value:e,enumerable:!0}),e)},B=function(e,t,n){return D(e,"symbol"!=typeof t?t+"":t,n),n},U=function(e,t){return w(x(e,"raw",{value:w(t||e.slice())}))},Z=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},V=function(e,t){this[0]=e,this[1]=t},H=function(e){var t,n=e[A("asyncIterator")],r=!1,i={};return null==n?(n=e[A("iterator")](),t=function(e){return i[e]=function(t){return n[e](t)}}):(n=n.call(e),t=function(e){return i[e]=function(t){if(r){if(r=!1,"throw"===e)throw t;return t}return r=!0,{done:!1,value:new V(new Promise((function(r){var i=n[e](t);if(!(i instanceof Object))throw TypeError("Object expected");r(i)})),1)}}}),i[A("iterator")]=function(){return i},t("next"),"throw"in n?t("throw"):i.throw=function(e){throw e},"return"in n&&t("return"),i};function W(){return G}var G,q=L((function(){}));function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("object"==typeof e&&e){if(K(e)||Y(e))return void t(e,n);for(var r=0,i=Object.entries(e);r<i.length;r++){var a=m(i[r],2),o=a[0],s=a[1];X(s,t,[].concat(v(n),[o]))}}else{if(null==e)return;t(e,n)}}var K,Y,Q=L((function(){K=function(e){return"object"==typeof e&&null!==e&&Object.hasOwnProperty.call(e,"type")&&"image"===e.type&&Object.hasOwnProperty.call(e,"id")&&"string"==typeof e.id&&""!==e.id},Y=function(e){return"object"==typeof e&&null!==e&&Object.hasOwnProperty.call(e,"r")&&Object.hasOwnProperty.call(e,"g")&&Object.hasOwnProperty.call(e,"b")&&Object.hasOwnProperty.call(e,"a")&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b&&"number"==typeof e.a}}));function $(e){return function(t){return"object"==typeof t&&!!t&&t.type===e}}var J,ee,te,ne,re,ie,ae,oe,se,ue,le,ce,fe,de,pe=L((function(){J=$("Theatre_Project"),ee=$("Theatre_Sheet"),te=$("Theatre_SheetTemplate"),ne=$("Theatre_SheetObject"),re=$("Theatre_SheetObjectTemplate"),$("Theatre_Project_PublicAPI"),ie=$("Theatre_Sheet_PublicAPI"),ae=$("Theatre_SheetObject_PublicAPI")})),he=L((function(){oe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,se=oe})),ve=L((function(){he(),ue="object"==typeof self&&self&&self.Object===Object&&self,le=se||ue||Function("return this")(),ce=le})),me=L((function(){ve(),fe=ce.Symbol,de=fe}));function ge(e){var t=be.call(e,xe),n=e[xe];try{e[xe]=void 0;var r=!0}catch(a){}var i=we.call(e);return r&&(t?e[xe]=n:delete e[xe]),i}var ye,be,we,xe,_e,Se=L((function(){me(),ye=Object.prototype,be=ye.hasOwnProperty,we=ye.toString,xe=de?de.toStringTag:void 0,_e=ge}));function ke(e){return Ce.call(e)}var Ee,Ce,Me,Te=L((function(){Ee=Object.prototype,Ce=Ee.toString,Me=ke}));function Pe(e){return null==e?void 0===e?De:Ae:Ie&&Ie in Object(e)?_e(e):Me(e)}var Ae,De,Ie,Re,Oe=L((function(){me(),Se(),Te(),Ae="[object Null]",De="[object Undefined]",Ie=de?de.toStringTag:void 0,Re=Pe}));function Le(e){return null!=e&&"object"==typeof e}var Ne,ze=L((function(){Ne=Le}));function Fe(e){return"symbol"==typeof e||Ne(e)&&Re(e)==je}var je,Be,Ue=L((function(){Oe(),ze(),je="[object Symbol]",Be=Fe}));function Ze(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Ve,He,We,Ge=L((function(){Ve=Ze})),qe=L((function(){He=Array.isArray,We=He}));function Xe(e){if("string"==typeof e)return e;if(We(e))return Ve(e,Xe)+"";if(Be(e))return Qe?Qe.call(e):"";var t=e+"";return"0"==t&&1/e==-Ke?"-0":t}var Ke,Ye,Qe,$e,Je=L((function(){me(),Ge(),qe(),Ue(),Ke=1/0,Ye=de?de.prototype:void 0,Qe=Ye?Ye.toString:void 0,$e=Xe}));function et(e){for(var t=e.length;t--&&tt.test(e.charAt(t)););return t}var tt,nt,rt=L((function(){tt=/\s/,nt=et}));function it(e){return e&&e.slice(0,nt(e)+1).replace(at,"")}var at,ot,st=L((function(){rt(),at=/^\s+/,ot=it}));function ut(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var lt,ct=L((function(){lt=ut}));function ft(e){if("number"==typeof e)return e;if(Be(e))return dt;if(lt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=lt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ot(e);var n=ht.test(e);return n||vt.test(e)?mt(e.slice(2),n?2:8):pt.test(e)?dt:+e}var dt,pt,ht,vt,mt,gt,yt=L((function(){st(),ct(),Ue(),dt=NaN,pt=/^[-+]0x[0-9a-f]+$/i,ht=/^0b[01]+$/i,vt=/^0o[0-7]+$/i,mt=parseInt,gt=ft}));function bt(e){return e?(e=gt(e))===wt||e===-wt?(e<0?-1:1)*xt:e===e?e:0:0===e?e:0}var wt,xt,_t,St=L((function(){yt(),wt=1/0,xt=17976931348623157e292,_t=bt}));function kt(e){var t=_t(e),n=t%1;return t===t?n?t-n:t:0}var Et,Ct=L((function(){St(),Et=kt}));function Mt(e){return e}var Tt,Pt=L((function(){Tt=Mt}));function At(e){if(!lt(e))return!1;var t=Re(e);return t==It||t==Rt||t==Dt||t==Ot}var Dt,It,Rt,Ot,Lt,Nt,zt,Ft=L((function(){Oe(),ct(),Dt="[object AsyncFunction]",It="[object Function]",Rt="[object GeneratorFunction]",Ot="[object Proxy]",Lt=At})),jt=L((function(){ve(),Nt=ce["__core-js_shared__"],zt=Nt}));function Bt(e){return!!Ut&&Ut in e}var Ut,Zt,Vt=L((function(){jt(),Ut=function(){var e=/[^.]+$/.exec(zt&&zt.keys&&zt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Zt=Bt}));function Ht(e){if(null!=e){try{return Gt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Wt,Gt,qt,Xt=L((function(){Wt=Function.prototype,Gt=Wt.toString,qt=Ht}));function Kt(e){return!(!lt(e)||Zt(e))&&(Lt(e)?nn:Qt).test(qt(e))}var Yt,Qt,$t,Jt,en,tn,nn,rn,an=L((function(){Ft(),Vt(),ct(),Xt(),Yt=/[\\^$.*+?()[\]{}|]/g,Qt=/^\[object .+?Constructor\]$/,$t=Function.prototype,Jt=Object.prototype,en=$t.toString,tn=Jt.hasOwnProperty,nn=RegExp("^"+en.call(tn).replace(Yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rn=Kt}));function on(e,t){return null==e?void 0:e[t]}var sn,un=L((function(){sn=on}));function ln(e,t){var n=sn(e,t);return rn(n)?n:void 0}var cn,fn,dn,pn=L((function(){an(),un(),cn=ln})),hn=L((function(){pn(),ve(),fn=cn(ce,"WeakMap"),dn=fn}));function vn(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var mn,gn=L((function(){mn=vn}));function yn(){}var bn,wn=L((function(){bn=yn}));function xn(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var _n,Sn=L((function(){_n=xn}));function kn(e){var t=0,n=0;return function(){var r=Mn(),i=Cn-(r-n);if(n=r,i>0){if(++t>=En)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var En,Cn,Mn,Tn,Pn=L((function(){En=800,Cn=16,Mn=Date.now,Tn=kn}));function An(e){return function(){return e}}var Dn,In,Rn,On,Ln,Nn,zn=L((function(){Dn=An})),Fn=L((function(){pn(),In=function(){try{var e=cn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Rn=In})),jn=L((function(){zn(),Fn(),Pt(),On=Rn?function(e,t){return Rn(e,"toString",{configurable:!0,enumerable:!1,value:Dn(t),writable:!0})}:Tt})),Bn=L((function(){jn(),Pn(),Ln=Tn(On),Nn=Ln}));function Un(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Zn,Vn=L((function(){Zn=Un}));function Hn(e){return e!==e}var Wn,Gn=L((function(){Wn=Hn}));function qn(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var Xn,Kn=L((function(){Xn=qn}));function Yn(e,t,n){return t===t?Xn(e,t,n):Zn(e,Wn,n)}var Qn,$n=L((function(){Vn(),Gn(),Kn(),Qn=Yn}));function Jn(e,t){return!!(null==e?0:e.length)&&Qn(e,t,0)>-1}var er,tr=L((function(){$n(),er=Jn}));function nr(e,t){var n=typeof e;return!!(t=null==t?rr:t)&&("number"==n||"symbol"!=n&&ir.test(e))&&e>-1&&e%1==0&&e<t}var rr,ir,ar,or=L((function(){rr=9007199254740991,ir=/^(?:0|[1-9]\d*)$/,ar=nr}));function sr(e,t,n){"__proto__"==t&&Rn?Rn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ur,lr=L((function(){Fn(),ur=sr}));function cr(e,t){return e===t||e!==e&&t!==t}var fr,dr=L((function(){fr=cr}));function pr(e,t,n){var r=e[t];(!vr.call(e,t)||!fr(r,n)||void 0===n&&!(t in e))&&ur(e,t,n)}var hr,vr,mr,gr=L((function(){lr(),dr(),hr=Object.prototype,vr=hr.hasOwnProperty,mr=pr}));function yr(e,t,n){return t=br(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=br(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),mn(e,this,s)}}var br,wr,xr=L((function(){gn(),br=Math.max,wr=yr}));function _r(e,t){return Nn(wr(e,t,Tt),e+"")}var Sr,kr=L((function(){Pt(),xr(),Bn(),Sr=_r}));function Er(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Cr}var Cr,Mr,Tr=L((function(){Cr=9007199254740991,Mr=Er}));function Pr(e){return null!=e&&Mr(e.length)&&!Lt(e)}var Ar,Dr=L((function(){Ft(),Tr(),Ar=Pr}));function Ir(e,t,n){if(!lt(n))return!1;var r=typeof t;return!!("number"==r?Ar(n)&&ar(t,n.length):"string"==r&&t in n)&&fr(n[t],e)}var Rr,Or=L((function(){dr(),Dr(),or(),ct(),Rr=Ir}));function Lr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Nr)}var Nr,zr,Fr=L((function(){Nr=Object.prototype,zr=Lr}));function jr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Br,Ur=L((function(){Br=jr}));function Zr(e){return Ne(e)&&Re(e)==Vr}var Vr,Hr,Wr,Gr,qr,Xr,Kr,Yr=L((function(){Oe(),ze(),Vr="[object Arguments]",Hr=Zr})),Qr=L((function(){Yr(),ze(),Wr=Object.prototype,Gr=Wr.hasOwnProperty,qr=Wr.propertyIsEnumerable,Xr=Hr(function(){return arguments}())?Hr:function(e){return Ne(e)&&Gr.call(e,"callee")&&!qr.call(e,"callee")},Kr=Xr}));function $r(){return!1}var Jr,ei,ti,ni,ri,ii,ai,oi=L((function(){Jr=$r})),si=L((function(){ve(),oi(),ei=t&&!t.nodeType&&t,ti=ei&&e&&!e.nodeType&&e,ni=ti&&ti.exports===ei,ri=ni?ce.Buffer:void 0,ii=ri?ri.isBuffer:void 0,ai=ii||Jr}));function ui(e){return Ne(e)&&Mr(e.length)&&!!li[Re(e)]}var li,ci,fi=L((function(){Oe(),Tr(),ze(),"[object Arguments]","[object Array]","[object Boolean]","[object Date]","[object Error]","[object Function]","[object Map]","[object Number]","[object Object]","[object RegExp]","[object Set]","[object String]","[object WeakMap]","[object ArrayBuffer]","[object DataView]","[object Float32Array]","[object Float64Array]","[object Int8Array]","[object Int16Array]","[object Int32Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Uint16Array]","[object Uint32Array]",(li={})["[object Float32Array]"]=li["[object Float64Array]"]=li["[object Int8Array]"]=li["[object Int16Array]"]=li["[object Int32Array]"]=li["[object Uint8Array]"]=li["[object Uint8ClampedArray]"]=li["[object Uint16Array]"]=li["[object Uint32Array]"]=!0,li["[object Arguments]"]=li["[object Array]"]=li["[object ArrayBuffer]"]=li["[object Boolean]"]=li["[object DataView]"]=li["[object Date]"]=li["[object Error]"]=li["[object Function]"]=li["[object Map]"]=li["[object Number]"]=li["[object Object]"]=li["[object RegExp]"]=li["[object Set]"]=li["[object String]"]=li["[object WeakMap]"]=!1,ci=ui}));function di(e){return function(t){return e(t)}}var pi,hi,vi,mi,gi,yi,bi,wi,xi,_i,Si=L((function(){pi=di})),ki=L((function(){he(),hi=t&&!t.nodeType&&t,vi=hi&&e&&!e.nodeType&&e,mi=vi&&vi.exports===hi,gi=mi&&se.process,yi=function(){try{return vi&&vi.require&&vi.require("util").types||gi&&gi.binding&&gi.binding("util")}catch(e){}}(),bi=yi})),Ei=L((function(){fi(),Si(),ki(),wi=bi&&bi.isTypedArray,xi=wi?pi(wi):ci,_i=xi}));function Ci(e,t){var n=We(e),r=!n&&Kr(e),i=!n&&!r&&ai(e),a=!n&&!r&&!i&&_i(e),o=n||r||i||a,s=o?Br(e.length,String):[],u=s.length;for(var l in e)(t||Ti.call(e,l))&&(!o||!("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ar(l,u)))&&s.push(l);return s}var Mi,Ti,Pi,Ai=L((function(){Ur(),Qr(),qe(),si(),or(),Ei(),Mi=Object.prototype,Ti=Mi.hasOwnProperty,Pi=Ci}));function Di(e,t){return function(n){return e(t(n))}}var Ii,Ri,Oi,Li=L((function(){Ii=Di})),Ni=L((function(){Li(),Ri=Ii(Object.keys,Object),Oi=Ri}));function zi(e){if(!zr(e))return Oi(e);var t=[];for(var n in Object(e))ji.call(e,n)&&"constructor"!=n&&t.push(n);return t}var Fi,ji,Bi,Ui=L((function(){Fr(),Ni(),Fi=Object.prototype,ji=Fi.hasOwnProperty,Bi=zi}));function Zi(e){return Ar(e)?Pi(e):Bi(e)}var Vi,Hi=L((function(){Ai(),Ui(),Dr(),Vi=Zi}));function Wi(e,t){if(We(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Be(e))||(qi.test(e)||!Gi.test(e)||null!=t&&e in Object(t))}var Gi,qi,Xi,Ki,Yi,Qi=L((function(){qe(),Ue(),Gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qi=/^\w*$/,Xi=Wi})),$i=L((function(){pn(),Ki=cn(Object,"create"),Yi=Ki}));function Ji(){this.__data__=Yi?Yi(null):{},this.size=0}var ea,ta=L((function(){$i(),ea=Ji}));function na(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ra,ia=L((function(){ra=na}));function aa(e){var t=this.__data__;if(Yi){var n=t[e];return n===oa?void 0:n}return ua.call(t,e)?t[e]:void 0}var oa,sa,ua,la,ca=L((function(){$i(),oa="__lodash_hash_undefined__",sa=Object.prototype,ua=sa.hasOwnProperty,la=aa}));function fa(e){var t=this.__data__;return Yi?void 0!==t[e]:pa.call(t,e)}var da,pa,ha,va=L((function(){$i(),da=Object.prototype,pa=da.hasOwnProperty,ha=fa}));function ma(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Yi&&void 0===t?ga:t,this}var ga,ya,ba=L((function(){$i(),ga="__lodash_hash_undefined__",ya=ma}));function wa(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var xa,_a=L((function(){ta(),ia(),ca(),va(),ba(),wa.prototype.clear=ea,wa.prototype.delete=ra,wa.prototype.get=la,wa.prototype.has=ha,wa.prototype.set=ya,xa=wa}));function Sa(){this.__data__=[],this.size=0}var ka,Ea=L((function(){ka=Sa}));function Ca(e,t){for(var n=e.length;n--;)if(fr(e[n][0],t))return n;return-1}var Ma,Ta=L((function(){dr(),Ma=Ca}));function Pa(e){var t=this.__data__,n=Ma(t,e);return!(n<0)&&(n==t.length-1?t.pop():Da.call(t,n,1),--this.size,!0)}var Aa,Da,Ia,Ra=L((function(){Ta(),Aa=Array.prototype,Da=Aa.splice,Ia=Pa}));function Oa(e){var t=this.__data__,n=Ma(t,e);return n<0?void 0:t[n][1]}var La,Na=L((function(){Ta(),La=Oa}));function za(e){return Ma(this.__data__,e)>-1}var Fa,ja=L((function(){Ta(),Fa=za}));function Ba(e,t){var n=this.__data__,r=Ma(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Ua,Za=L((function(){Ta(),Ua=Ba}));function Va(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var Ha,Wa,Ga,qa=L((function(){Ea(),Ra(),Na(),ja(),Za(),Va.prototype.clear=ka,Va.prototype.delete=Ia,Va.prototype.get=La,Va.prototype.has=Fa,Va.prototype.set=Ua,Ha=Va})),Xa=L((function(){pn(),ve(),Wa=cn(ce,"Map"),Ga=Wa}));function Ka(){this.size=0,this.__data__={hash:new xa,map:new(Ga||Ha),string:new xa}}var Ya,Qa=L((function(){_a(),qa(),Xa(),Ya=Ka}));function $a(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var Ja,eo=L((function(){Ja=$a}));function to(e,t){var n=e.__data__;return Ja(t)?n["string"==typeof t?"string":"hash"]:n.map}var no,ro=L((function(){eo(),no=to}));function io(e){var t=no(this,e).delete(e);return this.size-=t?1:0,t}var ao,oo=L((function(){ro(),ao=io}));function so(e){return no(this,e).get(e)}var uo,lo=L((function(){ro(),uo=so}));function co(e){return no(this,e).has(e)}var fo,po=L((function(){ro(),fo=co}));function ho(e,t){var n=no(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var vo,mo=L((function(){ro(),vo=ho}));function go(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var yo,bo=L((function(){Qa(),oo(),lo(),po(),mo(),go.prototype.clear=Ya,go.prototype.delete=ao,go.prototype.get=uo,go.prototype.has=fo,go.prototype.set=vo,yo=go}));function wo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(xo);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(wo.Cache||yo),n}var xo,_o,So=L((function(){bo(),xo="Expected a function",wo.Cache=yo,_o=wo}));function ko(e){var t=_o(e,(function(e){return n.size===Eo&&n.clear(),e})),n=t.cache;return t}var Eo,Co,Mo,To,Po,Ao,Do=L((function(){So(),Eo=500,Co=ko})),Io=L((function(){Do(),Mo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,To=/\\(\\)?/g,Po=Co((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Mo,(function(e,n,r,i){t.push(r?i.replace(To,"$1"):n||e)})),t})),Ao=Po}));function Ro(e){return null==e?"":$e(e)}var Oo,Lo=L((function(){Je(),Oo=Ro}));function No(e,t){return We(e)?e:Xi(e,t)?[e]:Ao(Oo(e))}var zo,Fo=L((function(){qe(),Qi(),Io(),Lo(),zo=No}));function jo(e){if("string"==typeof e||Be(e))return e;var t=e+"";return"0"==t&&1/e==-Bo?"-0":t}var Bo,Uo,Zo=L((function(){Ue(),Bo=1/0,Uo=jo}));function Vo(e,t){for(var n=0,r=(t=zo(t,e)).length;null!=e&&n<r;)e=e[Uo(t[n++])];return n&&n==r?e:void 0}var Ho,Wo=L((function(){Fo(),Zo(),Ho=Vo}));function Go(e,t,n){var r=null==e?void 0:Ho(e,t);return void 0===r?n:r}var qo,Xo=L((function(){Wo(),qo=Go}));function Ko(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Yo,Qo=L((function(){Yo=Ko}));function $o(e){return We(e)||Kr(e)||!!(Jo&&e&&e[Jo])}var Jo,es,ts=L((function(){me(),Qr(),qe(),Jo=de?de.isConcatSpreadable:void 0,es=$o}));function ns(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=es),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?ns(s,t-1,n,r,i):Yo(i,s):r||(i[i.length]=s)}return i}var rs,is,as,os=L((function(){Qo(),ts(),rs=ns})),ss=L((function(){Li(),is=Ii(Object.getPrototypeOf,Object),as=is}));function us(e){if(!Ne(e)||Re(e)!=ls)return!1;var t=as(e);if(null===t)return!0;var n=ps.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ds.call(n)==hs}var ls,cs,fs,ds,ps,hs,vs,ms=L((function(){Oe(),ss(),ze(),ls="[object Object]",cs=Function.prototype,fs=Object.prototype,ds=cs.toString,ps=fs.hasOwnProperty,hs=ds.call(Object),vs=us}));function gs(e){var t=Math[e];return function(e,n){if(e=gt(e),(n=null==n?0:bs(Et(n),292))&&ys(e)){var r=(Oo(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return+((r=(Oo(i)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var ys,bs,ws,xs=L((function(){ve(),Ct(),yt(),Lo(),ys=ce.isFinite,bs=Math.min,ws=gs}));function _s(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}var Ss,ks=L((function(){Ss=_s}));function Es(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=gt(n))===n?n:0),void 0!==t&&(t=(t=gt(t))===t?t:0),Ss(gt(e),t,n)}var Cs,Ms=L((function(){ks(),yt(),Cs=Es}));function Ts(){this.__data__=new Ha,this.size=0}var Ps,As=L((function(){qa(),Ps=Ts}));function Ds(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Is,Rs=L((function(){Is=Ds}));function Os(e){return this.__data__.get(e)}var Ls,Ns=L((function(){Ls=Os}));function zs(e){return this.__data__.has(e)}var Fs,js=L((function(){Fs=zs}));function Bs(e,t){var n=this.__data__;if(n instanceof Ha){var r=n.__data__;if(!Ga||r.length<Us-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yo(r)}return n.set(e,t),this.size=n.size,this}var Us,Zs,Vs=L((function(){qa(),Xa(),bo(),Us=200,Zs=Bs}));function Hs(e){var t=this.__data__=new Ha(e);this.size=t.size}var Ws,Gs=L((function(){qa(),As(),Rs(),Ns(),js(),Vs(),Hs.prototype.clear=Ps,Hs.prototype.delete=Is,Hs.prototype.get=Ls,Hs.prototype.has=Fs,Hs.prototype.set=Zs,Ws=Hs}));function qs(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Xs,Ks=L((function(){Xs=qs}));function Ys(){return[]}var Qs,$s,Js,eu,tu,nu=L((function(){Qs=Ys})),ru=L((function(){Ks(),nu(),$s=Object.prototype,Js=$s.propertyIsEnumerable,eu=Object.getOwnPropertySymbols,tu=eu?function(e){return null==e?[]:(e=Object(e),Xs(eu(e),(function(t){return Js.call(e,t)})))}:Qs}));function iu(e,t,n){var r=t(e);return We(e)?r:Yo(r,n(e))}var au,ou=L((function(){Qo(),qe(),au=iu}));function su(e){return au(e,Vi,tu)}var uu,lu,cu,fu,du,pu,hu,vu,mu,gu,yu,bu,wu,xu,_u,Su,ku,Eu,Cu,Mu,Tu,Pu=L((function(){ou(),ru(),Hi(),uu=su})),Au=L((function(){pn(),ve(),lu=cn(ce,"DataView"),cu=lu})),Du=L((function(){pn(),ve(),fu=cn(ce,"Promise"),du=fu})),Iu=L((function(){pn(),ve(),pu=cn(ce,"Set"),hu=pu})),Ru=L((function(){Au(),Xa(),Du(),Iu(),hn(),Oe(),Xt(),vu="[object Map]","[object Object]",mu="[object Promise]",gu="[object Set]",yu="[object WeakMap]",bu="[object DataView]",wu=qt(cu),xu=qt(Ga),_u=qt(du),Su=qt(hu),ku=qt(dn),Eu=Re,(cu&&Eu(new cu(new ArrayBuffer(1)))!=bu||Ga&&Eu(new Ga)!=vu||du&&Eu(du.resolve())!=mu||hu&&Eu(new hu)!=gu||dn&&Eu(new dn)!=yu)&&(Eu=function(e){var t=Re(e),n="[object Object]"==t?e.constructor:void 0,r=n?qt(n):"";if(r)switch(r){case wu:return bu;case xu:return vu;case _u:return mu;case Su:return gu;case ku:return yu}return t}),Cu=Eu})),Ou=L((function(){ve(),Mu=ce.Uint8Array,Tu=Mu}));function Lu(e){return this.__data__.set(e,Nu),this}var Nu,zu,Fu=L((function(){Nu="__lodash_hash_undefined__",zu=Lu}));function ju(e){return this.__data__.has(e)}var Bu,Uu=L((function(){Bu=ju}));function Zu(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new yo;++t<n;)this.add(e[t])}var Vu,Hu=L((function(){bo(),Fu(),Uu(),Zu.prototype.add=Zu.prototype.push=zu,Zu.prototype.has=Bu,Vu=Zu}));function Wu(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Gu,qu=L((function(){Gu=Wu}));function Xu(e,t){return e.has(t)}var Ku,Yu=L((function(){Ku=Xu}));function Qu(e,t,n,r,i,a){var o=n&$u,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),c=a.get(t);if(l&&c)return l==t&&c==e;var f=-1,d=!0,p=n&Ju?new Vu:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var h=e[f],v=t[f];if(r)var m=o?r(v,h,f,t,e,a):r(h,v,f,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!Gu(t,(function(e,t){if(!Ku(p,t)&&(h===e||i(h,e,n,r,a)))return p.push(t)}))){d=!1;break}}else if(h!==v&&!i(h,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}var $u,Ju,el,tl=L((function(){Hu(),qu(),Yu(),$u=1,Ju=2,el=Qu}));function nl(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var rl,il=L((function(){rl=nl}));function al(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ol,sl=L((function(){ol=al}));function ul(e,t,n,r,i,a,o){switch(n){case xl:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wl:return!(e.byteLength!=t.byteLength||!a(new Tu(e),new Tu(t)));case fl:case dl:case vl:return fr(+e,+t);case pl:return e.name==t.name&&e.message==t.message;case ml:case yl:return e==t+"";case hl:var s=rl;case gl:var u=r&ll;if(s||(s=ol),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=cl,o.set(e,t);var c=el(s(e),s(t),r,i,a,o);return o.delete(e),c;case bl:if(Sl)return Sl.call(e)==Sl.call(t)}return!1}var ll,cl,fl,dl,pl,hl,vl,ml,gl,yl,bl,wl,xl,_l,Sl,kl,El=L((function(){me(),Ou(),dr(),tl(),il(),sl(),ll=1,cl=2,fl="[object Boolean]",dl="[object Date]",pl="[object Error]",hl="[object Map]",vl="[object Number]",ml="[object RegExp]",gl="[object Set]",yl="[object String]",bl="[object Symbol]",wl="[object ArrayBuffer]",xl="[object DataView]",_l=de?de.prototype:void 0,Sl=_l?_l.valueOf:void 0,kl=ul}));function Cl(e,t,n,r,i,a){var o=n&Ml,s=uu(e),u=s.length;if(u!=uu(t).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in t:Pl.call(t,c)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);for(var h=o;++l<u;){var v=e[c=s[l]],m=t[c];if(r)var g=o?r(m,v,c,t,e,a):r(v,m,c,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return a.delete(e),a.delete(t),p}var Ml,Tl,Pl,Al,Dl=L((function(){Pu(),Ml=1,Tl=Object.prototype,Pl=Tl.hasOwnProperty,Al=Cl}));function Il(e,t,n,r,i,a){var o=We(e),s=We(t),u=o?Ll:Cu(e),l=s?Ll:Cu(t),c=(u=u==Ol?Nl:u)==Nl,f=(l=l==Ol?Nl:l)==Nl,d=u==l;if(d&&ai(e)){if(!ai(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Ws),o||_i(e)?el(e,t,n,r,i,a):kl(e,t,u,n,r,i,a);if(!(n&Rl)){var p=c&&Fl.call(e,"__wrapped__"),h=f&&Fl.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,m=h?t.value():t;return a||(a=new Ws),i(v,m,n,r,a)}}return!!d&&(a||(a=new Ws),Al(e,t,n,r,i,a))}var Rl,Ol,Ll,Nl,zl,Fl,jl,Bl=L((function(){Gs(),tl(),El(),Dl(),Ru(),qe(),si(),Ei(),Rl=1,Ol="[object Arguments]",Ll="[object Array]",Nl="[object Object]",zl=Object.prototype,Fl=zl.hasOwnProperty,jl=Il}));function Ul(e,t,n,r,i){return e===t||(null==e||null==t||!Ne(e)&&!Ne(t)?e!==e&&t!==t:jl(e,t,n,r,Ul,i))}var Zl,Vl=L((function(){Bl(),ze(),Zl=Ul}));function Hl(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],l=e[u],c=s[1];if(o&&s[2]){if(void 0===l&&!(u in e))return!1}else{var f=new Ws;if(r)var d=r(l,c,u,e,t,f);if(!(void 0===d?Zl(c,l,Wl|Gl,r,f):d))return!1}}return!0}var Wl,Gl,ql,Xl=L((function(){Gs(),Vl(),Wl=1,Gl=2,ql=Hl}));function Kl(e){return e===e&&!lt(e)}var Yl,Ql=L((function(){ct(),Yl=Kl}));function $l(e){for(var t=Vi(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Yl(i)]}return t}var Jl,ec=L((function(){Ql(),Hi(),Jl=$l}));function tc(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var nc,rc=L((function(){nc=tc}));function ic(e){var t=Jl(e);return 1==t.length&&t[0][2]?nc(t[0][0],t[0][1]):function(n){return n===e||ql(n,e,t)}}var ac,oc=L((function(){Xl(),ec(),rc(),ac=ic}));function sc(e,t){return null!=e&&t in Object(e)}var uc,lc=L((function(){uc=sc}));function cc(e,t,n){for(var r=-1,i=(t=zo(t,e)).length,a=!1;++r<i;){var o=Uo(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Mr(i)&&ar(o,i)&&(We(e)||Kr(e))}var fc,dc=L((function(){Fo(),Qr(),qe(),or(),Tr(),Zo(),fc=cc}));function pc(e,t){return null!=e&&fc(e,t,uc)}var hc,vc=L((function(){lc(),dc(),hc=pc}));function mc(e,t){return Xi(e)&&Yl(t)?nc(Uo(e),t):function(n){var r=qo(n,e);return void 0===r&&r===t?hc(n,e):Zl(t,r,gc|yc)}}var gc,yc,bc,wc=L((function(){Vl(),Xo(),vc(),Qi(),Ql(),rc(),Zo(),gc=1,yc=2,bc=mc}));function xc(e){return function(t){return null==t?void 0:t[e]}}var _c,Sc=L((function(){_c=xc}));function kc(e){return function(t){return Ho(t,e)}}var Ec,Cc=L((function(){Wo(),Ec=kc}));function Mc(e){return Xi(e)?_c(Uo(e)):Ec(e)}var Tc,Pc=L((function(){Sc(),Cc(),Qi(),Zo(),Tc=Mc}));function Ac(e){return"function"==typeof e?e:null==e?Tt:"object"==typeof e?We(e)?bc(e[0],e[1]):ac(e):Tc(e)}var Dc,Ic=L((function(){oc(),wc(),Pt(),qe(),Pc(),Dc=Ac}));function Rc(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}var Oc,Lc=L((function(){Oc=Rc}));function Nc(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}var zc,Fc,jc,Bc=L((function(){zc=Nc})),Uc=L((function(){Bc(),Fc=zc(),jc=Fc}));function Zc(e,t){return e&&jc(e,t,Vi)}var Vc,Hc=L((function(){Uc(),Hi(),Vc=Zc}));function Wc(e,t){return function(n,r){if(null==n)return n;if(!Ar(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}var Gc,qc,Xc,Kc=L((function(){Dr(),Gc=Wc})),Yc=L((function(){Hc(),Kc(),qc=Gc(Vc),Xc=qc}));function Qc(e,t,n,r){return Xc(e,(function(e,i,a){t(r,e,n(e),a)})),r}var $c,Jc=L((function(){Yc(),$c=Qc}));function ef(e,t){return function(n,r){var i=We(n)?Oc:$c,a=t?t():{};return i(n,e,Dc(r,2),a)}}var tf,nf,rf=L((function(){Lc(),Jc(),Ic(),qe(),tf=ef})),af=L((function(){ve(),nf=function(){return ce.Date.now()}}));function of(e,t,n){var r,i,a,o,s,u,l=0,c=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(sf);function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function h(e){return l=e,s=setTimeout(m,t),c?p(e):o}function v(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=a}function m(){var e=nf();if(v(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-u);return f?lf(n,a-(e-l)):n}(e))}function g(e){return s=void 0,d&&r?p(e):(r=i=void 0,o)}function y(){var e=nf(),n=v(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return h(u);if(f)return clearTimeout(s),s=setTimeout(m,t),p(u)}return void 0===s&&(s=setTimeout(m,t)),o}return t=gt(t)||0,lt(n)&&(c=!!n.leading,a=(f="maxWait"in n)?uf(gt(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},y.flush=function(){return void 0===s?o:g(nf())},y}var sf,uf,lf,cf,ff=L((function(){ct(),af(),yt(),sf="Expected a function",uf=Math.max,lf=Math.min,cf=of}));function df(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var pf,hf=L((function(){pf=df}));function vf(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var mf,gf=L((function(){mf=vf}));function yf(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Et(n);return i<0&&(i=bf(r+i,0)),Zn(e,Dc(t,3),i)}var bf,wf,xf=L((function(){Vn(),Ic(),Ct(),bf=Math.max,wf=yf}));function _f(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=Et(n),i=n<0?Sf(r+i,0):kf(i,r-1)),Zn(e,Dc(t,3),i,!0)}var Sf,kf,Ef,Cf=L((function(){Vn(),Ic(),Ct(),Sf=Math.max,kf=Math.min,Ef=_f}));function Mf(e,t){var n=-1,r=Ar(e)?Array(e.length):[];return Xc(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}var Tf,Pf=L((function(){Yc(),Dr(),Tf=Mf}));function Af(e,t,n){return e>=If(t,n)&&e<Df(t,n)}var Df,If,Rf,Of=L((function(){Df=Math.max,If=Math.min,Rf=Af}));function Lf(e,t,n){return t=_t(t),void 0===n?(n=t,t=0):n=_t(n),e=gt(e),Rf(e,t,n)}var Nf,zf=L((function(){Of(),St(),yt(),Nf=Lf}));function Ff(e){return"number"==typeof e&&e==Et(e)}var jf,Bf,Uf,Zf=L((function(){Ct(),jf=Ff})),Vf=L((function(){lr(),rf(),Bf=tf((function(e,t,n){ur(e,n,t)})),Uf=Bf}));function Hf(e,t){var n={};return t=Dc(t,3),Vc(e,(function(e,r,i){ur(n,r,t(e,r,i))})),n}var Wf,Gf=L((function(){lr(),Hc(),Ic(),Wf=Hf}));function qf(e,t,n,r){if(!lt(e))return e;for(var i=-1,a=(t=zo(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=Uo(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=lt(c)?c:ar(t[i+1])?[]:{})}mr(s,u,l),s=s[u]}return e}var Xf,Kf=L((function(){gr(),Fo(),or(),ct(),Zo(),Xf=qf}));function Yf(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Qf,$f=L((function(){Qf=Yf}));function Jf(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,a=Be(e),o=void 0!==t,s=null===t,u=t===t,l=Be(t);if(!s&&!l&&!a&&e>t||a&&o&&u&&!s&&!l||r&&o&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!u)return-1}return 0}var ed,td=L((function(){Ue(),ed=Jf}));function nd(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var u=ed(i[r],a[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}var rd,id=L((function(){td(),rd=nd}));function ad(e,t,n){t=t.length?Ve(t,(function(e){return We(e)?function(t){return Ho(t,1===e.length?e[0]:e)}:e})):[Tt];var r=-1;t=Ve(t,pi(Dc));var i=Tf(e,(function(e,n,i){return{criteria:Ve(t,(function(t){return t(e)})),index:++r,value:e}}));return Qf(i,(function(e,t){return rd(e,t,n)}))}var od,sd=L((function(){Ge(),Wo(),Ic(),Pf(),$f(),Si(),id(),Pt(),qe(),od=ad}));function ud(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}var ld,cd=L((function(){ld=ud}));function fd(e,t,n,r){var i=r?ld:Qn,a=-1,o=t.length,s=e;for(e===t&&(t=_n(t)),n&&(s=Ve(e,pi(n)));++a<o;)for(var u=0,l=t[a],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&pd.call(s,u,1),pd.call(e,u,1);return e}var dd,pd,hd,vd=L((function(){Ge(),$n(),cd(),Si(),Sn(),dd=Array.prototype,pd=dd.splice,hd=fd}));function md(e,t){return e&&e.length&&t&&t.length?hd(e,t):e}var gd,yd,bd,wd,xd,_d=L((function(){vd(),gd=md})),Sd=L((function(){kr(),_d(),yd=Sr(gd),bd=yd})),kd=L((function(){xs(),wd=ws("round"),xd=wd}));function Ed(e,t,n){return null==e?e:Xf(e,t,n)}var Cd,Md,Td,Pd,Ad,Dd=L((function(){Kf(),Cd=Ed})),Id=L((function(){os(),sd(),kr(),Or(),Md=Sr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Rr(e,t[0],t[1])?t=[]:n>2&&Rr(t[0],t[1],t[2])&&(t=[t[0]]),od(e,rs(t,1),[])})),Td=Md})),Rd=L((function(){Iu(),wn(),sl(),1/0,Pd=hu&&1/ol(new hu([,-0]))[1]==Infinity?function(e){return new hu(e)}:bn,Ad=Pd}));function Od(e,t,n){var r=-1,i=er,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=pf;else if(a>=Ld){var l=t?null:Ad(e);if(l)return ol(l);o=!1,i=Ku,u=new Vu}else u=t?[]:s;e:for(;++r<a;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,o&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}var Ld,Nd,zd=L((function(){Hu(),tr(),hf(),Yu(),Rd(),sl(),Ld=200,Nd=Od}));function Fd(e){return e&&e.length?Nd(e):[]}var jd,Bd=L((function(){zd(),jd=Fd})),Ud=L((function(){Ms(),ff(),xf(),zf(),Zf(),ms(),gf(),Gf(),So(),kd(),Bd()})),Zd=N((function(e,t){var r;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n.g):function(e){return(r||(r=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))}})),Vd=N((function(e){var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,h(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,n,r){var i,a={},o=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(o=""+n.key),n)x.call(n,i)&&!S.hasOwnProperty(i)&&(a[i]=n[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:t,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var C=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,r,i,a,o){var s=typeof e;("undefined"===s||"boolean"===s)&&(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case t:case n:u=!0}}if(u)return o=o(u=e),e=""===a?"."+M(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),T(o,r,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),r.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+M(s=e[l],l);u+=T(s,r,i,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=T(s=s.value,r,i,c=a+M(s,l++),o);else if("object"===s)throw r=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)}),(function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},I={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:I,ReactCurrentOwner:_};e.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},e.Component=m,e.Fragment=r,e.Profiler=a,e.PureComponent=y,e.StrictMode=i,e.Suspense=l,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=h({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(o=n.ref,s=_.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in n)x.call(n,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===n[l]&&void 0!==u?u[l]:n[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:t,type:e.type,key:a,ref:o,props:i,_owner:s}},e.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},e.createElement=k,e.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:u,render:e}},e.isValidElement=E,e.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},e.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},e.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(e,t){return D.current.useCallback(e,t)},e.useContext=function(e){return D.current.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e){return D.current.useDeferredValue(e)},e.useEffect=function(e,t){return D.current.useEffect(e,t)},e.useId=function(){return D.current.useId()},e.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},e.useMemo=function(e,t){return D.current.useMemo(e,t)},e.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},e.useRef=function(e){return D.current.useRef(e)},e.useState=function(e){return D.current.useState(e)},e.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},e.useTransition=function(){return D.current.useTransition()},e.version="18.2.0"})),Hd=N((function(e,t){t.exports=Vd()})),Wd=N((function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>i(u,n))l<a&&0>i(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<a&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s});var a,o,s,u=[],l=[],c=1,f=null,d=3,p=!1,h=!1,v=!1,m="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(l);null!==i;){if(null===i.callback)r(l);else{if(!(i.startTime<=e))break;r(l),i.sortIndex=i.expirationTime,t(u,i)}i=n(l)}}function w(e){if(v=!1,b(e),!h)if(null!==n(u))h=!0,I(x);else{var t=n(l);null!==t&&R(w,t.startTime-e)}}function x(t,i){h=!1,v&&(v=!1,g(M),M=-1),p=!0;var a=d;try{for(b(i),f=n(u);null!==f&&(!(f.expirationTime>i)||t&&!A());){var o=f.callback;if("function"==typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?f.callback=s:f===n(u)&&r(u),b(i)}else r(u);f=n(u)}if(null!==f)var c=!0;else{var m=n(l);null!==m&&R(w,m.startTime-i),c=!1}return c}finally{f=null,d=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S,k,E=!1,C=null,M=-1,T=5,P=-1;function A(){return!(e.unstable_now()-P<T)}function D(){if(null!==C){var t=e.unstable_now();P=t;var n=!0;try{n=C(!0,t)}finally{n?_():(E=!1,C=null)}}else E=!1}function I(e){C=e,E||(E=!0,_())}function R(t,n){M=m((function(){t(e.unstable_now())}),n)}"function"==typeof y?_=function(){y(D)}:"undefined"!=typeof MessageChannel?(S=new MessageChannel,k=S.port2,S.port1.onmessage=D,_=function(){k.postMessage(null)}):_=function(){m(D,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,I(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),null===n(u)&&r===n(l)&&(v?(g(M),M=-1):v=!0,R(w,a-o))):(r.sortIndex=s,t(u,r),h||p||(h=!0,I(x))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}})),Gd=N((function(e,t){t.exports=Wd()})),qd=N((function(e){var t=Hd(),n=Gd();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"==typeof window||"undefined"==typeof window.document||"undefined"==typeof window.document.createElement),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function g(e,t,n,r){var i=h.hasOwnProperty(t)?h[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"==typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!l.call(d,e)||!l.call(f,e)&&(c.test(e)?d[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,m);h[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,m);h[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,m);h[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var O,L=Object.assign;function N(e){if(void 0===O)try{throw Error()}catch(j$){var t=j$.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var z=!1;function F(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"==typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function j(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case S:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(j$){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!=typeof n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"==typeof(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&g(e,"checked",t,!1)}function Y(e,t){K(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?$(e,t.type,n):t.hasOwnProperty("defaultValue")&&$(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function $(e,t,n){("number"!==t||G(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var J=Array.isArray;function ee(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function te(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(J(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function re(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,ue,le=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function ce(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){de.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,_e=null;function Se(e){if(e=gi(e)){if("function"!=typeof we)throw Error(r(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function ke(e){xe?_e?_e.push(e):_e=[e]:xe=e}function Ee(){if(xe){var e=xe,t=_e;if(_e=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Me(){}var Te=!1;function Pe(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ce(e,t,n)}finally{Te=!1,(null!==xe||null!==_e)&&(Me(),Ee())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var i=bi(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var De,Ie=!1;if(u)try{De={},Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Re(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Oe=!1,Le=null,Ne=!1,ze=null,Fe={onError:function(e){Oe=!0,Le=e}};function je(e,t,n,r,i,a,o,s,u){Oe=!1,Le=null,Re.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{4098&(t=e).flags&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Be(e)!==e)throw Error(r(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(i=a.return)){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ze(a),e;if(o===i)return Ze(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=n.unstable_scheduleCallback,Ge=n.unstable_cancelCallback,qe=n.unstable_shouldYield,Xe=n.unstable_requestPaint,Ke=n.unstable_now,Ye=n.unstable_getCurrentPriorityLevel,Qe=n.unstable_ImmediatePriority,$e=n.unstable_UserBlockingPriority,Je=n.unstable_NormalPriority,et=n.unstable_LowPriority,tt=n.unstable_IdlePriority,nt=null,rt=null;var it=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/ot|0)|0},at=Math.log,ot=Math.LN2;var st=64,ut=4194304;function lt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=lt(s):0!==(a&=o)&&(r=lt(a))}else 0!==(o=n&~i)?r=lt(o):0!==a&&(r=lt(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-it(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=st;return!(4194240&(st<<=1))&&(st=64),e}function ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function yt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var bt,wt,xt,_t,St,kt=!1,Et=[],Ct=null,Mt=null,Tt=null,Pt=new Map,At=new Map,Dt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=gi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=mi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function zt(e,t,n){Nt(e)&&n.delete(t)}function Ft(){kt=!1,null!==Ct&&Nt(Ct)&&(Ct=null),null!==Mt&&Nt(Mt)&&(Mt=null),null!==Tt&&Nt(Tt)&&(Tt=null),Pt.forEach(zt),At.forEach(zt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return jt(t,e)}if(0<Et.length){jt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&jt(Ct,e),null!==Mt&&jt(Mt,e),null!==Tt&&jt(Tt,e),Pt.forEach(t),At.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var Ut=y.ReactCurrentBatchConfig,Zt=!0;function Vt(e,t,n,r){var i=gt,a=Ut.transition;Ut.transition=null;try{gt=1,Wt(e,t,n,r)}finally{gt=i,Ut.transition=a}}function Ht(e,t,n,r){var i=gt,a=Ut.transition;Ut.transition=null;try{gt=4,Wt(e,t,n,r)}finally{gt=i,Ut.transition=a}}function Wt(e,t,n,r){if(Zt){var i=qt(e,t,n,r);if(null===i)Zr(e,t,r,Gt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ot(Ct,e,t,n,r,i),!0;case"dragenter":return Mt=Ot(Mt,e,t,n,r,i),!0;case"mouseover":return Tt=Ot(Tt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Ot(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Ot(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var a=gi(i);if(null!==a&&bt(a),null===(a=qt(e,t,n,r))&&Zr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var Gt=null;function qt(e,t,n,r){if(Gt=null,null!==(e=mi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Qe:return 1;case $e:return 4;case Je:case et:return 16;case tt:return 536870912;default:return 16}default:return 16}}var Kt=null,Yt=null,Qt=null;function $t(){if(Qt)return Qt;var e,t,n=Yt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=nn(sn),ln=L({},sn,{view:0,detail:0}),cn=nn(ln),fn=L({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),dn=nn(fn),pn=nn(L({},fn,{dataTransfer:0})),hn=nn(L({},ln,{relatedTarget:0})),vn=nn(L({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=L({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gn=nn(mn),yn=nn(L({},sn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return _n}var kn=L({},ln,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=nn(kn),Cn=nn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=nn(L({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=nn(L({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=nn(Pn),Dn=[9,13,27,32],In=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var On=u&&"TextEvent"in window&&!Rn,Ln=u&&(!In||Rn&&8<Rn&&11>=Rn),Nn=String.fromCharCode(32),zn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Vn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Gn(e){Nr(e,0)}function qn(e){if(W(yi(e)))return e}function Xn(e,t){if("change"===e)return t}var Kn,Yn,Qn,$n=!1;function Jn(){Hn&&(Hn.detachEvent("onpropertychange",er),Wn=Hn=null)}function er(e){if("value"===e.propertyName&&qn(Wn)){var t=[];Vn(t,Wn,e,be(e)),Pe(Gn,t)}}function tr(e,t,n){"focusin"===e?(Jn(),Wn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Jn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Wn)}function rr(e,t){if("click"===e)return qn(t)}function ir(e,t){if("input"===e||"change"===e)return qn(t)}u&&(u?((Yn="oninput"in document)||((Qn=document.createElement("div")).setAttribute("oninput","return;"),Yn="function"==typeof Qn.oninput),Kn=Yn):Kn=!1,$n=Kn&&(!document.documentMode||9<document.documentMode));var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!l.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,hr=null,vr=null,mr=null,gr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gr||null==hr||hr!==G(r)||("selectionStart"in(r=hr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},_r={};function Sr(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return xr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var kr,Er,Cr=Sr("animationend"),Mr=Sr("animationiteration"),Tr=Sr("animationstart"),Pr=Sr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),o(t,[e])}for(Er=0;Er<Dr.length;Er++)Ir((kr=Dr[Er]).toLowerCase(),"on"+(kr[0].toUpperCase()+kr.slice(1)));Ir(Cr,"onAnimationEnd"),Ir(Mr,"onAnimationIteration"),Ir(Tr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Pr,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,a,o,s,u,l){if(je.apply(this,arguments),Oe){if(!Oe)throw Error(r(198));var c=Le;Oe=!1,Le=null,Ne||(Ne=!0,ze=c)}}(i,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,l),a=u}}}if(Ne)throw e=ze,Ne=!1,ze=null,e}function zr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[jr]){e[jr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Fr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Xt(t)){case 1:var i=Vt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var a=r;if(!(1&t)&&!(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=mi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=be(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=un,l=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":l="focus",u=hn;break;case"focusout":l="blur",u=hn;break;case"beforeblur":case"afterblur":u=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Mn;break;case Cr:case Mr:case Tr:u=vn;break;case Pr:u=Tn;break;case"scroll":u=cn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==d&&(null!=(v=Ae(h,d))&&c.push(Vr(h,v,p)))),f)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(l=n.relatedTarget||n.fromElement)||!mi(l)&&!l[di])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?mi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=dn,v="onMouseLeave",d="onMouseEnter",h="mouse",("pointerout"===e||"pointerover"===e)&&(c=Cn,v="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==u?s:yi(u),p=null==l?s:yi(l),(s=new c(v,h+"leave",u,n,i)).target=f,s.relatedTarget=p,v=null,mi(i)===r&&((c=new c(d,h+"enter",l,n,i)).target=p,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(d=l,h=0,p=c=u;p;p=Wr(p))h++;for(p=0,v=d;v;v=Wr(v))p++;for(;0<h-p;)c=Wr(c),h--;for(;0<p-h;)d=Wr(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=Wr(c),d=Wr(d)}c=null}else c=null;null!==u&&Gr(o,s,u,c,!1),null!==l&&null!==f&&Gr(o,f,l,c,!0)}if("select"===(u=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Zn(s))if($n)m=ir;else{m=nr;var g=tr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=rr);switch(m&&(m=m(e,r))?Vn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&$(s,"number",s.value)),g=r?yi(r):window,e){case"focusin":(Zn(g)||"true"===g.contentEditable)&&(hr=g,vr=r,mr=null);break;case"focusout":mr=vr=hr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,yr(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(o,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=$t()):(Yt="value"in(Kt=i)?Kt.value:Kt.textContent,Bn=!0)),0<(g=Hr(r,b)).length&&(b=new yn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(zn=!0,Nn);case"textInput":return(e=t.data)===Nn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!In&&Fn(e,t)?(e=$t(),Qt=Yt=Kt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Nr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ae(n,a))&&o.unshift(Vr(n,u,s)):i||null!=(u=Ae(n,a))&&o.push(Vr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Kr(e){return("string"==typeof e?e:""+e).replace(qr,"\n").replace(Xr,"")}function Yr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(r(425))}function Qr(){}var $r=null,Jr=null;function ei(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ti="function"==typeof setTimeout?setTimeout:void 0,ni="function"==typeof clearTimeout?clearTimeout:void 0,ri="function"==typeof Promise?Promise:void 0,ii="function"==typeof queueMicrotask?queueMicrotask:"undefined"!=typeof ri?function(e){return ri.resolve(null).then(e).catch(ai)}:ti;function ai(e){setTimeout((function(){throw e}))}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),ci="__reactFiber$"+li,fi="__reactProps$"+li,di="__reactContainer$"+li,pi="__reactEvents$"+li,hi="__reactListeners$"+li,vi="__reactHandles$"+li;function mi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[ci]||e[di])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function bi(e){return e[fi]||null}var wi=[],xi=-1;function _i(e){return{current:e}}function Si(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function ki(e,t){xi++,wi[xi]=e.current,e.current=t}var Ei={},Ci=_i(Ei),Mi=_i(!1),Ti=Ei;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!=(e=e.childContextTypes)}function Di(){Si(Mi),Si(Ci)}function Ii(e,t,n){if(Ci.current!==Ei)throw Error(r(168));ki(Ci,t),ki(Mi,n)}function Ri(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in t))throw Error(r(108,U(e)||"Unknown",a));return L({},n,i)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ti=Ci.current,ki(Ci,e),ki(Mi,Mi.current),!0}function Li(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Ri(e,t,Ti),i.__reactInternalMemoizedMergedChildContext=e,Si(Mi),Si(Ci),ki(Ci,e)):Si(Mi),ki(Mi,n)}var Ni=null,zi=!1,Fi=!1;function ji(e){null===Ni?Ni=[e]:Ni.push(e)}function Bi(){if(!Fi&&null!==Ni){Fi=!0;var e=0,t=gt;try{var n=Ni;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,zi=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),We(Qe,Bi),i}finally{gt=t,Fi=!1}}return null}var Ui=[],Zi=0,Vi=null,Hi=0,Wi=[],Gi=0,qi=null,Xi=1,Ki="";function Yi(e,t){Ui[Zi++]=Hi,Ui[Zi++]=Vi,Vi=e,Hi=t}function Qi(e,t,n){Wi[Gi++]=Xi,Wi[Gi++]=Ki,Wi[Gi++]=qi,qi=e;var r=Xi;e=Ki;var i=32-it(r)-1;r&=~(1<<i),n+=1;var a=32-it(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-it(t)+i|n<<i|r,Ki=a+e}else Xi=1<<a|n<<i|r,Ki=e}function $i(e){null!==e.return&&(Yi(e,1),Qi(e,1,0))}function Ji(e){for(;e===Vi;)Vi=Ui[--Zi],Ui[Zi]=null,Hi=Ui[--Zi],Ui[Zi]=null;for(;e===qi;)qi=Wi[--Gi],Wi[Gi]=null,Ki=Wi[--Gi],Wi[Gi]=null,Xi=Wi[--Gi],Wi[Gi]=null}var ea=null,ta=null,na=!1,ra=null;function ia(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function aa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ea=e,ta=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ea=e,ta=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:Xi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ea=e,ta=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function sa(e){if(na){var t=ta;if(t){var n=t;if(!aa(e,t)){if(oa(e))throw Error(r(418));t=si(n.nextSibling);var i=ea;t&&aa(e,t)?ia(i,n):(e.flags=-4097&e.flags|2,na=!1,ea=e)}}else{if(oa(e))throw Error(r(418));e.flags=-4097&e.flags|2,na=!1,ea=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ea=e}function la(e){if(e!==ea)return!1;if(!na)return ua(e),na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ei(e.type,e.memoizedProps)),t&&(t=ta)){if(oa(e))throw ca(),Error(r(418));for(;t;)ia(e,t),t=si(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ta=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ta=null}}else ta=ea?si(e.stateNode.nextSibling):null;return!0}function ca(){for(var e=ta;e;)e=si(e.nextSibling)}function fa(){ta=ea=null,na=!1}function da(e){null===ra?ra=[e]:ra.push(e)}var pa=y.ReactCurrentBatchConfig;function ha(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var va=_i(null),ma=null,ga=null,ya=null;function ba(){ya=ga=ma=null}function wa(e){var t=va.current;Si(va),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ma=e,ya=ga=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.lanes&t&&(ys=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ya!==e)if(e={context:e,memoizedValue:t,next:null},null===ga){if(null===ma)throw Error(r(308));ga=e,ma.dependencies={lanes:0,firstContext:e}}else ga=ga.next=e;return t}var ka=null;function Ea(e){null===ka?ka=[e]:ka.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ea(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ma(e,r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ta=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Cu){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ma(e,n)}return null===(i=r.interleaved)?(t.next=t,Ea(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ma(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(d=t,p=n,v.tag){case 1:if("function"==typeof(h=v.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(d="function"==typeof(h=v.payload)?h.call(p,f,d):h))break e;f=L({},f,d);break e;case 2:Ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=p,u=f):c=c.next=p,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ou|=o,e.lanes=o,e.memoizedState=f}}function Na(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(null!==a){if(i.callback=null,i=n,"function"!=typeof a)throw Error(r(191,a));a.call(i)}}}var za=(new t.Component).refs;function Fa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ja={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$u(),i=Ju(e),a=Da(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(el(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$u(),i=Ju(e),a=Da(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(el(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$u(),r=Ju(e),i=Da(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ia(e,i,r))&&(el(t,e,r,n),Ra(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function Ua(e,t,n){var r=!1,i=Ei,a=t.contextType;return"object"==typeof a&&null!==a?a=Sa(a):(i=Ai(t)?Ti:Ci.current,a=(r=null!=(r=t.contextTypes))?Pi(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Za(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Pa(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Sa(a):(a=Ai(t)?Ti:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ja.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var a=i,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=a.refs;t===za&&(t=a.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ll(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===A&&Ga(i)===t.type)?((r=a(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Il(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nl(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Rl(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Il(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case w:return(t=Nl(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(J(t)||R(t))return(t=Rl(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return p(e,t,(i=n._init)(n._payload),r)}if(J(n)||R(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return h(e,t,n,(0,r._init)(r._payload),i)}if(J(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}return function u(l,c,f,v){if("object"==typeof f&&null!==f&&f.type===x&&null===f.key&&(f=f.props.children),"object"==typeof f&&null!==f){switch(f.$$typeof){case b:e:{for(var m=f.key,g=c;null!==g;){if(g.key===m){if((m=f.type)===x){if(7===g.tag){n(l,g.sibling),(c=a(g,f.props.children)).return=l,l=c;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===A&&Ga(m)===g.type){n(l,g.sibling),(c=a(g,f.props)).ref=Ha(l,g,f),c.return=l,l=c;break e}n(l,g);break}t(l,g),g=g.sibling}f.type===x?((c=Rl(f.props.children,l.mode,v,f.key)).return=l,l=c):((v=Il(f.type,f.key,f.props,null,l.mode,v)).ref=Ha(l,c,f),v.return=l,l=v)}return s(l);case w:e:{for(g=f.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(l,c.sibling),(c=a(c,f.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=Nl(f,l.mode,v)).return=l,l=c}return s(l);case A:return u(l,c,(g=f._init)(f._payload),v)}if(J(f))return function(r,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=p(r,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(r,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(r,f),na&&Yi(r,v),l;if(null===f){for(;v<s.length;v++)null!==(f=d(r,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return na&&Yi(r,v),l}for(f=i(r,f);v<s.length;v++)null!==(m=h(f,r,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(r,e)})),na&&Yi(r,v),l}(l,c,f,v);if(R(f))return function(a,s,u,l){var c=R(u);if("function"!=typeof c)throw Error(r(150));if(null==(u=c.call(u)))throw Error(r(151));for(var f=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(a,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(a,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(a,v),na&&Yi(a,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(a,y.value,l))&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return na&&Yi(a,m),c}for(v=i(a,v);!y.done;m++,y=u.next())null!==(y=h(v,a,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(a,e)})),na&&Yi(a,m),c}(l,c,f,v);Wa(l,f)}return"string"==typeof f&&""!==f||"number"==typeof f?(f=""+f,null!==c&&6===c.tag?(n(l,c.sibling),(c=a(c,f)).return=l,l=c):(n(l,c),(c=Ll(f,l.mode,v)).return=l,l=c),s(l)):n(l,c)}}var Xa=qa(!0),Ka=qa(!1),Ya={},Qa=_i(Ya),$a=_i(Ya),Ja=_i(Ya);function eo(e){if(e===Ya)throw Error(r(174));return e}function to(e,t){switch(ki(Ja,t),ki($a,e),ki(Qa,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Qa),ki(Qa,t)}function no(){Si(Qa),Si($a),Si(Ja)}function ro(e){eo(Ja.current);var t=eo(Qa.current),n=oe(t,e.type);t!==n&&(ki($a,e),ki(Qa,n))}function io(e){$a.current===e&&(Si(Qa),Si($a))}var ao=_i(0);function oo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function uo(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var lo=y.ReactCurrentDispatcher,co=y.ReactCurrentBatchConfig,fo=0,po=null,ho=null,vo=null,mo=!1,go=!1,yo=0,bo=0;function wo(){throw Error(r(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function _o(e,t,n,i,a,o){if(fo=o,po=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=null===e||null===e.memoizedState?as:os,e=n(i,a),go){o=0;do{if(go=!1,yo=0,25<=o)throw Error(r(301));o+=1,vo=ho=null,t.updateQueue=null,lo.current=ss,e=n(i,a)}while(go)}if(lo.current=is,t=null!==ho&&null!==ho.next,fo=0,vo=ho=po=null,mo=!1,t)throw Error(r(300));return e}function So(){var e=0!==yo;return yo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?po.memoizedState=vo=e:vo=vo.next=e,vo}function Eo(){if(null===ho){var e=po.alternate;e=null!==e?e.memoizedState:null}else e=ho.next;var t=null===vo?po.memoizedState:vo.next;if(null!==t)vo=t,ho=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ho=e).memoizedState,baseState:ho.baseState,baseQueue:ho.baseQueue,queue:ho.queue,next:null},null===vo?po.memoizedState=vo=e:vo=vo.next=e}return vo}function Co(e,t){return"function"==typeof t?t(e):t}function Mo(e){var t=Eo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=ho,a=i.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,i=i.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((fo&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=i):l=l.next=d,po.lanes|=f,Ou|=f}c=c.next}while(null!==c&&c!==o);null===l?s=i:l.next=u,ar(i,t.memoizedState)||(ys=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=l,n.lastRenderedState=i}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,po.lanes|=o,Ou|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=Eo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);ar(o,t.memoizedState)||(ys=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Po(){}function Ao(e,t){var n=po,i=Eo(),a=t(),o=!ar(i.memoizedState,a);if(o&&(i.memoizedState=a,ys=!0),i=i.queue,Zo(Ro.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,zo(9,Io.bind(null,n,i,a,t),void 0,null),null===Mu)throw Error(r(349));30&fo||Do(n,t,a)}return a}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Lo(e)}function Ro(e,t,n){return n((function(){Oo(t)&&Lo(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Lo(e){var t=Ma(e,1);null!==t&&el(t,e,1,-1)}function No(e){var t=ko();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=es.bind(null,po,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return Eo().memoizedState}function jo(e,t,n,r){var i=ko();po.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==ho){var o=ho.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}po.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Uo(e,t){return jo(8390656,8,e,t)}function Zo(e,t){return Bo(2048,8,e,t)}function Vo(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Wo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!=n?n.concat([e]):null,Bo(4,4,Wo.bind(null,t,e),n)}function qo(){}function Xo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 21&fo?(ar(n,t)||(n=pt(),po.lanes|=n,Ou|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n)}function Qo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=co.transition;co.transition={};try{e(!1),t()}finally{gt=n,co.transition=r}}function $o(){return Eo().memoizedState}function Jo(e,t,n){var r=Ju(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ts(e))ns(t,n);else if(null!==(n=Ca(e,t,n,r))){el(n,e,r,$u()),rs(n,t,r)}}function es(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ts(e))ns(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ar(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ea(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ca(e,t,i,r))&&(el(n,e,r,i=$u()),rs(n,t,r))}}function ts(e){var t=e.alternate;return e===po||null!==t&&t===po}function ns(e,t){go=mo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rs(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var is={readContext:Sa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},as={readContext:Sa,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,jo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,po,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:No,useDebugValue:qo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=Qo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=po,a=ko();if(na){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Mu)throw Error(r(349));30&fo||Do(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Uo(Ro.bind(null,i,o,e),[e]),i.flags|=2048,zo(9,Io.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Mu.identifierPrefix;if(na){var n=Ki;t=":"+t+"R"+(n=(Xi&~(1<<32-it(Xi)-1)).toString(32)+n),0<(n=yo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},os={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Zo,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:Ho,useMemo:Ko,useReducer:Mo,useRef:Fo,useState:function(){return Mo(Co)},useDebugValue:qo,useDeferredValue:function(e){return Yo(Eo(),ho.memoizedState,e)},useTransition:function(){return[Mo(Co)[0],Eo().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ao,useId:$o,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Zo,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:Ho,useMemo:Ko,useReducer:To,useRef:Fo,useState:function(){return To(Co)},useDebugValue:qo,useDeferredValue:function(e){var t=Eo();return null===ho?t.memoizedState=e:Yo(t,ho.memoizedState,e)},useTransition:function(){return[To(Co)[0],Eo().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ao,useId:$o,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ls(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function cs(e,t){try{console.error(t.value)}catch(j$){setTimeout((function(){throw j$}))}}var fs="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zu||(Zu=!0,Vu=r),cs(0,t)},n}function ps(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){cs(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){cs(0,t),"function"!=typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ia(n,t,1))),n.lanes|=1),e)}var gs=y.ReactCurrentOwner,ys=!1;function bs(e,t,n,r){t.child=null===e?Ka(t,null,n,r):Xa(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||ys?(na&&n&&$i(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Al(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Il(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_s(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Zs(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Zs(e,t,i);131072&e.flags&&(ys=!0)}}return Es(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Du,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,ki(Du,Au),Au|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Du,Au),Au|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ki(Du,Au),Au|=r;return bs(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var a=Ai(n)?Ti:Ci.current;return a=Pi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||ys?(na&&r&&$i(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zs(e,t,i))}function Cs(e,t,n,r,i){if(Ai(n)){var a=!0;Oi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Us(e,t),Ua(t,n,r),Va(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"==typeof l&&null!==l?l=Sa(l):l=Pi(t,l=Ai(n)?Ti:Ci.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Za(t,o,r,l),Ta=!1;var d=t.memoizedState;o.state=d,La(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Mi.current||Ta?("function"==typeof c&&(Fa(t,n,c,r),u=t.memoizedState),(s=Ta||Ba(t,n,s,r,d,u,l))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ha(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"==typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Pi(t,u=Ai(n)?Ti:Ci.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Za(t,o,r,u),Ta=!1,d=t.memoizedState,o.state=d,La(t,r,o,i);var h=t.memoizedState;s!==f||d!==h||Mi.current||Ta?("function"==typeof p&&(Fa(t,n,p,r),h=t.memoizedState),(l=Ta||Ba(t,n,l,r,d,h,u)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ms(e,t,n,r,a,i)}function Ms(e,t,n,r,i,a){ks(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Zs(e,t,a);r=t.stateNode,gs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),to(e,t.containerInfo)}function Ps(e,t,n,r,i){return fa(),da(i),t.flags|=256,bs(e,t,n,r),t.child}var As,Ds,Is,Rs={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var i,a=t.pendingProps,o=ao.current,s=!1,u=0!==(128&t.flags);if((i=u)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),ki(ao,1&o),null===e)return sa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=a.children,e=a.fallback,s?(a=t.mode,s=t.child,u={mode:"hidden",children:u},1&a||null===s?s=Ol(u,a,0,null):(s.childLanes=0,s.pendingProps=u),e=Rl(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Rs,e):Ns(t,u));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,i=ls(Error(r(422))),zs(e,t,s,i)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Ol({mode:"visible",children:i.children},a,0,null),(o=Rl(o,a,s,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,1&t.mode&&Xa(t,e.child,null,s),t.child.memoizedState=Os(s),t.memoizedState=Rs,o);if(!(1&t.mode))return zs(e,t,s,null);if("$!"===a.data){if(i=a.nextSibling&&a.nextSibling.dataset)var u=i.dgst;return i=u,zs(e,t,s,i=ls(o=Error(r(419)),i,void 0))}if(u=0!==(s&e.childLanes),ys||u){if(null!==(i=Mu)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=a&(i.suspendedLanes|s)?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ma(e,a),el(i,e,a,-1))}return pl(),zs(e,t,s,i=ls(Error(r(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=El.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ta=si(a.nextSibling),ea=t,na=!0,ra=null,null!==e&&(Wi[Gi++]=Xi,Wi[Gi++]=Ki,Wi[Gi++]=qi,Xi=e.id,Ki=e.overflow,qi=t),(t=Ns(t,i.children)).flags|=4096,t)}(e,t,u,a,i,o,n);if(s){s=a.fallback,u=t.mode,i=(o=e.child).sibling;var l={mode:"hidden",children:a.children};return 1&u||t.child===o?(a=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null),null!==i?s=Dl(i,s):(s=Rl(s,u,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,u=null===(u=e.child.memoizedState)?Os(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,a}return e=(s=e.child).sibling,a=Dl(s,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ns(e,t){return(t=Ol({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&da(r),Xa(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function js(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),2&(r=ao.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Us(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ou|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var i=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Ai(t.type)&&Di(),Hs(t),null;case 3:return i=t.stateNode,no(),Si(Mi),Si(Ci),uo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(la(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ra&&(il(ra),ra=null))),Hs(t),null;case 5:io(t);var o=eo(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Hs(t),null}if(e=eo(Qa.current),la(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[ci]=t,i[fi]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",i),zr("close",i);break;case"iframe":case"object":case"embed":zr("load",i);break;case"video":case"audio":for(o=0;o<Rr.length;o++)zr(Rr[o],i);break;case"source":zr("error",i);break;case"img":case"image":case"link":zr("error",i),zr("load",i);break;case"details":zr("toggle",i);break;case"input":X(i,s),zr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},zr("invalid",i);break;case"textarea":ne(i,s),zr("invalid",i)}for(var u in me(n,s),o=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"==typeof l?i.textContent!==l&&(!0!==s.suppressHydrationWarning&&Yr(i.textContent,l,e),o=["children",l]):"number"==typeof l&&i.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Yr(i.textContent,l,e),o=["children",""+l]):a.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&zr("scroll",i)}switch(n){case"input":H(i),Q(i,s,!0);break;case"textarea":H(i),ie(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=Qr)}i=o,t.updateQueue=i,null!==i&&(t.flags|=4)}else{u=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=u.createElement(n,{is:i.is}):(e=u.createElement(n),"select"===n&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,n),e[ci]=t,e[fi]=i,As(e,t),t.stateNode=e;e:{switch(u=ge(n,i),n){case"dialog":zr("cancel",e),zr("close",e),o=i;break;case"iframe":case"object":case"embed":zr("load",e),o=i;break;case"video":case"audio":for(o=0;o<Rr.length;o++)zr(Rr[o],e);o=i;break;case"source":zr("error",e),o=i;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=i;break;case"details":zr("toggle",e),o=i;break;case"input":X(e,i),o=q(e,i),zr("invalid",e);break;case"option":default:o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=L({},i,{value:void 0}),zr("invalid",e);break;case"textarea":ne(e,i),o=te(e,i),zr("invalid",e)}for(s in me(n,o),l=o)if(l.hasOwnProperty(s)){var c=l[s];"style"===s?he(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&le(e,c):"children"===s?"string"==typeof c?("textarea"!==n||""!==c)&&ce(e,c):"number"==typeof c&&ce(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&zr("scroll",e):null!=c&&g(e,s,c,u))}switch(n){case"input":H(e),Q(e,i,!1);break;case"textarea":H(e),ie(e);break;case"option":null!=i.value&&e.setAttribute("value",""+Z(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ee(e,!!i.multiple,s,!1):null!=i.defaultValue&&ee(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Is(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(n=eo(Ja.current),eo(Qa.current),la(t)){if(i=t.stateNode,n=t.memoizedProps,i[ci]=t,(s=i.nodeValue!==n)&&null!==(e=ea))switch(e.tag){case 3:Yr(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ci]=t,t.stateNode=i}return Hs(t),null;case 13:if(Si(ao),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(na&&null!==ta&&1&t.mode&&!(128&t.flags))ca(),fa(),t.flags|=98560,s=!1;else if(s=la(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[ci]=t}else fa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),s=!1}else null!==ra&&(il(ra),ra=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ao.current?0===Iu&&(Iu=3):pl())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return no(),null===e&&Br(t.stateNode.containerInfo),Hs(t),null;case 10:return wa(t.type._context),Hs(t),null;case 19:if(Si(ao),null===(s=t.memoizedState))return Hs(t),null;if(i=0!==(128&t.flags),null===(u=s.rendering))if(i)Vs(s,!1);else{if(0!==Iu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(u=oo(e))){for(t.flags|=128,Vs(s,!1),null!==(i=u.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==s.tail&&Ke()>Bu&&(t.flags|=128,i=!0,Vs(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=oo(u))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!na)return Hs(t),null}else 2*Ke()-s.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,i=!0,Vs(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,n=ao.current,ki(ao,i?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return ll(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?1073741824&Au&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Gs(e,t){switch(Ji(t),t.tag){case 1:return Ai(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return no(),Si(Mi),Si(Ci),uo(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return io(t),null;case 13:if(Si(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ao),null;case 4:return no(),null;case 10:return wa(t.type._context),null;case 22:case 23:return ll(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,eo(Qa.current);var o,s=null;switch(n){case"input":i=q(e,i),r=q(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=te(e,i),r=te(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Qr)}for(c in me(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&zr("scroll",e),s||u===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Is=function(e,t,n,r){n!==r&&(t.flags|=4)};var qs=!1,Xs=!1,Ks="function"==typeof WeakSet?WeakSet:Set,Ys=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){_l(e,t,r)}else n.current=null}function $s(e,t,n){try{n()}catch(r){_l(e,t,r)}}var Js=!1;function eu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&$s(t,n,a)}i=i.next}while(i!==r)}}function tu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ru(e){var t=e.alternate;null!==t&&(e.alternate=null,ru(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[fi],delete t[pi],delete t[hi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iu(e){return 5===e.tag||3===e.tag||4===e.tag}function au(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||iu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}function su(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(su(e,t,n),e=e.sibling;null!==e;)su(e,t,n),e=e.sibling}var uu=null,lu=!1;function cu(e,t,n){for(n=n.child;null!==n;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(rt&&"function"==typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(nt,n)}catch(s){}switch(n.tag){case 5:Xs||Qs(n,t);case 6:var r=uu,i=lu;uu=null,cu(e,t,n),lu=i,null!==(uu=r)&&(lu?(e=uu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uu.removeChild(n.stateNode));break;case 18:null!==uu&&(lu?(e=uu,n=n.stateNode,8===e.nodeType?oi(e.parentNode,n):1===e.nodeType&&oi(e,n),Bt(e)):oi(uu,n.stateNode));break;case 4:r=uu,i=lu,uu=n.stateNode.containerInfo,lu=!0,cu(e,t,n),uu=r,lu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(2&a||4&a)&&$s(n,t,o),i=i.next}while(i!==r)}cu(e,t,n);break;case 1:if(!Xs&&(Qs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_l(n,t,s)}cu(e,t,n);break;case 21:cu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,cu(e,t,n),Xs=r):cu(e,t,n);break;default:cu(e,t,n)}}function du(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function pu(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:uu=u.stateNode,lu=!1;break e;case 3:case 4:uu=u.stateNode.containerInfo,lu=!0;break e}u=u.return}if(null===uu)throw Error(r(160));fu(o,s,a),uu=null,lu=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(c){_l(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hu(t,e),t=t.sibling}function hu(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pu(t,e),vu(e),4&i){try{eu(3,e,e.return),tu(3,e)}catch(m){_l(e,e.return,m)}try{eu(5,e,e.return)}catch(m){_l(e,e.return,m)}}break;case 1:pu(t,e),vu(e),512&i&&null!==n&&Qs(n,n.return);break;case 5:if(pu(t,e),vu(e),512&i&&null!==n&&Qs(n,n.return),32&e.flags){var a=e.stateNode;try{ce(a,"")}catch(m){_l(e,e.return,m)}}if(4&i&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&K(a,o),ge(u,s);var c=ge(u,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?he(a,d):"dangerouslySetInnerHTML"===f?le(a,d):"children"===f?ce(a,d):g(a,f,d,c)}switch(u){case"input":Y(a,o);break;case"textarea":re(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ee(a,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ee(a,!!o.multiple,o.defaultValue,!0):ee(a,!!o.multiple,o.multiple?[]:"",!1))}a[fi]=o}catch(m){_l(e,e.return,m)}}break;case 6:if(pu(t,e),vu(e),4&i){if(null===e.stateNode)throw Error(r(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){_l(e,e.return,m)}}break;case 3:if(pu(t,e),vu(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){_l(e,e.return,m)}break;case 4:default:pu(t,e),vu(e);break;case 13:pu(t,e),vu(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(ju=Ke())),4&i&&du(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||f,pu(t,e),Xs=c):pu(t,e),vu(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&1&e.mode)for(Ys=e,f=e.child;null!==f;){for(d=Ys=f;null!==Ys;){switch(h=(p=Ys).child,p.tag){case 0:case 11:case 14:case 15:eu(4,p,p.return);break;case 1:Qs(p,p.return);var v=p.stateNode;if("function"==typeof v.componentWillUnmount){i=p,n=p.return;try{t=i,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_l(i,n,m)}}break;case 5:Qs(p,p.return);break;case 22:if(null!==p.memoizedState){bu(d);continue}}null!==h?(h.return=p,Ys=h):bu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{a=d.stateNode,c?"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,u.style.display=pe("display",s))}catch(m){_l(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){_l(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pu(t,e),vu(e),4&i&&du(e);case 21:}}function vu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(iu(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var a=i.stateNode;32&i.flags&&(ce(a,""),i.flags&=-33),su(e,au(e),a);break;case 3:case 4:var o=i.stateNode.containerInfo;ou(e,au(e),o);break;default:throw Error(r(161))}}catch(s){_l(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){Ys=e,gu(e,t,n)}function gu(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var i=Ys,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=qs;var l=Xs;if(qs=o,(Xs=u)&&!l)for(Ys=i;null!==Ys;)u=(o=Ys).child,22===o.tag&&null!==o.memoizedState?wu(i):null!==u?(u.return=o,Ys=u):wu(i);for(;null!==a;)Ys=a,gu(a,t,n),a=a.sibling;Ys=i,qs=s,Xs=l}yu(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,Ys=a):yu(e)}}function yu(e){for(;null!==Ys;){var t=Ys;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xs||tu(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Xs)if(null===n)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ha(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Na(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Na(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(r(163))}Xs||512&t.flags&&nu(t)}catch(p){_l(t,t.return,p)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function bu(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function wu(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tu(4,t)}catch(u){_l(t,n,u)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_l(t,i,u)}}var a=t.return;try{nu(t)}catch(u){_l(t,a,u)}break;case 5:var o=t.return;try{nu(t)}catch(u){_l(t,o,u)}}}catch(u){_l(t,t.return,u)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var xu,_u=Math.ceil,Su=y.ReactCurrentDispatcher,ku=y.ReactCurrentOwner,Eu=y.ReactCurrentBatchConfig,Cu=0,Mu=null,Tu=null,Pu=0,Au=0,Du=_i(0),Iu=0,Ru=null,Ou=0,Lu=0,Nu=0,zu=null,Fu=null,ju=0,Bu=1/0,Uu=null,Zu=!1,Vu=null,Hu=null,Wu=!1,Gu=null,qu=0,Xu=0,Ku=null,Yu=-1,Qu=0;function $u(){return 6&Cu?Ke():-1!==Yu?Yu:Yu=Ke()}function Ju(e){return 1&e.mode?2&Cu&&0!==Pu?Pu&-Pu:null!==pa.transition?(0===Qu&&(Qu=pt()),Qu):(0!==(e=gt)||(e=void 0===(e=window.event)?16:Xt(e.type)),e):1}function el(e,t,n,i){if(50<Xu)throw Xu=0,Ku=null,Error(r(185));vt(e,n,i),(!(2&Cu)||e!==Mu)&&(e===Mu&&(!(2&Cu)&&(Lu|=n),4===Iu&&al(e,Pu)),tl(e,i),1===n&&0===Cu&&!(1&t.mode)&&(Bu=Ke()+500,zi&&Bi()))}function tl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-it(a),s=1<<o,u=i[o];-1===u?(!(s&n)||s&r)&&(i[o]=ft(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ct(e,e===Mu?Pu:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){zi=!0,ji(e)}(ol.bind(null,e)):ji(ol.bind(null,e)),ii((function(){!(6&Cu)&&Bi()})),n=null;else{switch(yt(r)){case 1:n=Qe;break;case 4:n=$e;break;case 16:default:n=Je;break;case 536870912:n=tt}n=Ml(n,nl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nl(e,t){if(Yu=-1,Qu=0,6&Cu)throw Error(r(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var i=ct(e,e===Mu?Pu:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=hl(e,i);else{t=i;var a=Cu;Cu|=2;var o=dl();for((Mu!==e||Pu!==t)&&(Uu=null,Bu=Ke()+500,cl(e,t));;)try{ml();break}catch(u){fl(e,u)}ba(),Su.current=o,Cu=a,null!==Tu?t=0:(Mu=null,Pu=0,t=Iu)}if(0!==t){if(2===t&&(0!==(a=dt(e))&&(i=a,t=rl(e,a))),1===t)throw n=Ru,cl(e,0),al(e,i),tl(e,Ke()),n;if(6===t)al(e,i);else{if(a=e.current.alternate,!(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=hl(e,i))&&(0!==(o=dt(e))&&(i=o,t=rl(e,o))),1===t))throw n=Ru,cl(e,0),al(e,i),tl(e,Ke()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:bl(e,Fu,Uu);break;case 3:if(al(e,i),(130023424&i)===i&&10<(t=ju+500-Ke())){if(0!==ct(e,0))break;if(((a=e.suspendedLanes)&i)!==i){$u(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ti(bl.bind(null,e,Fu,Uu),t);break}bl(e,Fu,Uu);break;case 4:if(al(e,i),(4194240&i)===i)break;for(t=e.eventTimes,a=-1;0<i;){var s=31-it(i);o=1<<s,(s=t[s])>a&&(a=s),i&=~o}if(i=a,10<(i=(120>(i=Ke()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_u(i/1960))-i)){e.timeoutHandle=ti(bl.bind(null,e,Fu,Uu),i);break}bl(e,Fu,Uu);break;default:throw Error(r(329))}}}return tl(e,Ke()),e.callbackNode===n?nl.bind(null,e):null}function rl(e,t){var n=zu;return e.current.memoizedState.isDehydrated&&(cl(e,t).flags|=256),2!==(e=hl(e,t))&&(t=Fu,Fu=n,null!==t&&il(t)),e}function il(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function al(e,t){for(t&=~Nu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function ol(e){if(6&Cu)throw Error(r(327));wl();var t=ct(e,0);if(!(1&t))return tl(e,Ke()),null;var n=hl(e,t);if(0!==e.tag&&2===n){var i=dt(e);0!==i&&(t=i,n=rl(e,i))}if(1===n)throw n=Ru,cl(e,0),al(e,t),tl(e,Ke()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bl(e,Fu,Uu),tl(e,Ke()),null}function sl(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Bu=Ke()+500,zi&&Bi())}}function ul(e){null!==Gu&&0===Gu.tag&&!(6&Cu)&&wl();var t=Cu;Cu|=1;var n=Eu.transition,r=gt;try{if(Eu.transition=null,gt=1,e)return e()}finally{gt=r,Eu.transition=n,!(6&(Cu=t))&&Bi()}}function ll(){Au=Du.current,Si(Du)}function cl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ni(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch(Ji(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Di();break;case 3:no(),Si(Mi),Si(Ci),uo();break;case 5:io(r);break;case 4:no();break;case 13:case 19:Si(ao);break;case 10:wa(r.type._context);break;case 22:case 23:ll()}n=n.return}if(Mu=e,Tu=e=Dl(e.current,null),Pu=Au=t,Iu=0,Ru=null,Nu=Lu=Ou=0,Fu=zu=null,null!==ka){for(t=0;t<ka.length;t++)if(null!==(r=(n=ka[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ka=null}return e}function fl(e,t){for(;;){var n=Tu;try{if(ba(),lo.current=is,mo){for(var i=po.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}mo=!1}if(fo=0,vo=ho=po=null,go=!1,yo=0,ku.current=null,null===n||null===n.return){Iu=1,Ru=t,Tu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Pu,u.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,f=u,d=f.tag;if(!(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,ms(h,s,u,0,t),1&h.mode&&hs(o,c,t),l=c;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(!(1&t)){hs(o,c,t),pl();break e}l=Error(r(426))}else if(na&&1&u.mode){var g=vs(s);if(null!==g){!(65536&g.flags)&&(g.flags|=256),ms(g,s,u,0,t),da(us(l,u));break e}}o=l=us(l,u),4!==Iu&&(Iu=2),null===zu?zu=[o]:zu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Oa(o,ds(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(!(128&o.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Hu||!Hu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Oa(o,ps(o,u,t));break e}}o=o.return}while(null!==o)}yl(n)}catch(w){t=w,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function dl(){var e=Su.current;return Su.current=is,null===e?is:e}function pl(){(0===Iu||3===Iu||2===Iu)&&(Iu=4),null===Mu||!(268435455&Ou)&&!(268435455&Lu)||al(Mu,Pu)}function hl(e,t){var n=Cu;Cu|=2;var i=dl();for((Mu!==e||Pu!==t)&&(Uu=null,cl(e,t));;)try{vl();break}catch(a){fl(e,a)}if(ba(),Cu=n,Su.current=i,null!==Tu)throw Error(r(261));return Mu=null,Pu=0,Iu}function vl(){for(;null!==Tu;)gl(Tu)}function ml(){for(;null!==Tu&&!qe();)gl(Tu)}function gl(e){var t=xu(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?yl(e):Tu=t,ku.current=null}function yl(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Iu=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ws(n,t,Au)))return void(Tu=n);if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Iu&&(Iu=5)}function bl(e,t,n){var i=gt,a=Eu.transition;try{Eu.transition=null,gt=1,function(e,t,n,i){do{wl()}while(null!==Gu);if(6&Cu)throw Error(r(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-it(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Mu&&(Tu=Mu=null,Pu=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Wu||(Wu=!0,Ml(Je,(function(){return wl(),null}))),o=0!==(15990&n.flags),15990&n.subtreeFlags||o){o=Eu.transition,Eu.transition=null;var s=gt;gt=1;var u=Cu;Cu|=4,ku.current=null,function(e,t){if($r=Zt,fr(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==a&&3!==d.nodeType||(u=s+a),d!==o||0!==i&&3!==d.nodeType||(l=s+i),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===a&&(u=s),p===o&&++f===i&&(l=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Zt=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var v=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ha(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(r(163))}}catch(x){_l(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}v=Js,Js=!1}(e,n),hu(n,e),dr(Jr),Zt=!!$r,Jr=$r=null,e.current=n,mu(n,e,a),Xe(),Cu=u,gt=s,Eu.transition=o}else e.current=n;if(Wu&&(Wu=!1,Gu=e,qu=a),0===(o=e.pendingLanes)&&(Hu=null),function(e){if(rt&&"function"==typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),tl(e,Ke()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i((a=t[n]).value,{componentStack:a.stack,digest:a.digest});if(Zu)throw Zu=!1,e=Vu,Vu=null,e;1&qu&&0!==e.tag&&wl(),1&(o=e.pendingLanes)?e===Ku?Xu++:(Xu=0,Ku=e):Xu=0,Bi()}(e,t,n,i)}finally{Eu.transition=a,gt=i}return null}function wl(){if(null!==Gu){var e=yt(qu),t=Eu.transition,n=gt;try{if(Eu.transition=null,gt=16>e?16:e,null===Gu)var i=!1;else{if(e=Gu,Gu=null,qu=0,6&Cu)throw Error(r(331));var a=Cu;for(Cu|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(16&Ys.flags){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Ys=c;null!==Ys;){var f=Ys;switch(f.tag){case 0:case 11:case 15:eu(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ys=d;else for(;null!==Ys;){var p=(f=Ys).sibling,h=f.return;if(ru(f),f===c){Ys=null;break}if(null!==p){p.return=h,Ys=p;break}Ys=h}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Ys=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(2048&(o=Ys).flags)switch(o.tag){case 0:case 11:case 15:eu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ys=y;break e}Ys=o.return}}var b=e.current;for(Ys=b;null!==Ys;){var w=(s=Ys).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,Ys=w;else e:for(s=b;null!==Ys;){if(2048&(u=Ys).flags)try{switch(u.tag){case 0:case 11:case 15:tu(9,u)}}catch(_){_l(u,u.return,_)}if(u===s){Ys=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,Ys=x;break e}Ys=u.return}}if(Cu=a,Bi(),rt&&"function"==typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(nt,e)}catch(_){}i=!0}return i}finally{gt=n,Eu.transition=t}}return!1}function xl(e,t,n){e=Ia(e,t=ds(0,t=us(n,t),1),1),t=$u(),null!==e&&(vt(e,1,t),tl(e,t))}function _l(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Ia(t,e=ps(t,e=us(n,e),1),1),e=$u(),null!==t&&(vt(t,1,e),tl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$u(),e.pingedLanes|=e.suspendedLanes&n,Mu===e&&(Pu&n)===n&&(4===Iu||3===Iu&&(130023424&Pu)===Pu&&500>Ke()-ju?cl(e,0):Nu|=n),tl(e,t)}function kl(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=$u();null!==(e=Ma(e,t))&&(vt(e,t,n),tl(e,n))}function El(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),kl(e,n)}function Ml(e,t){return We(e,t)}function Tl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Tl(e,t,n,r)}function Al(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Il(e,t,n,i,a,o){var s=2;if(i=e,"function"==typeof e)Al(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case x:return Rl(n.children,a,o,t);case _:s=8,a|=8;break;case S:return(e=Pl(12,n,t,2|a)).elementType=S,e.lanes=o,e;case M:return(e=Pl(13,n,t,a)).elementType=M,e.lanes=o,e;case T:return(e=Pl(19,n,t,a)).elementType=T,e.lanes=o,e;case D:return Ol(n,a,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case E:s=9;break e;case C:s=11;break e;case P:s=14;break e;case A:s=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Pl(s,n,t,a)).elementType=e,t.type=i,t.lanes=o,t}function Rl(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Ol(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Nl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,i,a,o,s,u){return e=new zl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bl(e){if(!e)return Ei;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Ri(e,n,t)}return t}function Ul(e,t,n,r,i,a,o,s,u){return(e=Fl(n,r,!0,e,0,a,0,s,u)).context=Bl(null),n=e.current,(a=Da(r=$u(),i=Ju(n))).callback=null!=t?t:null,Ia(n,a,i),e.current.lanes=i,vt(e,i,r),tl(e,r),e}function Zl(e,t,n,r){var i=t.current,a=$u(),o=Ju(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ia(i,t,o))&&(el(e,i,o,a),Ra(e,i,o)),o}function Vl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)ys=!0;else{if(!(e.lanes&n)&&!(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),fa();break;case 5:ro(t);break;case 1:Ai(t.type)&&Oi(t);break;case 4:to(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(va,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):n&t.child.childLanes?Ls(e,t,n):(ki(ao,1&ao.current),null!==(e=Zs(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Zs(e,t,n)}(e,t,n);ys=!!(131072&e.flags)}else ys=!1,na&&1048576&t.flags&&Qi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Us(e,t),e=t.pendingProps;var a=Pi(t,Ci.current);_a(t,n),a=_o(null,t,i,e,a,n);var o=So();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(i)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Pa(t),a.updater=ja,t.stateNode=a,a._reactInternals=t,Va(t,i,e,n),t=Ms(null,t,i,!0,o,n)):(t.tag=0,na&&o&&$i(t),bs(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return Al(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(i),e=ha(i,e),a){case 0:t=Es(null,t,i,e,n);break e;case 1:t=Cs(null,t,i,e,n);break e;case 11:t=ws(null,t,i,e,n);break e;case 14:t=xs(null,t,i,ha(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,Es(e,t,i,a=t.elementType===i?a:ha(i,a),n);case 1:return i=t.type,a=t.pendingProps,Cs(e,t,i,a=t.elementType===i?a:ha(i,a),n);case 3:e:{if(Ts(t),null===e)throw Error(r(387));i=t.pendingProps,a=(o=t.memoizedState).element,Aa(e,t),La(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,i,n,a=us(Error(r(423)),t));break e}if(i!==a){t=Ps(e,t,i,n,a=us(Error(r(424)),t));break e}for(ta=si(t.stateNode.containerInfo.firstChild),ea=t,na=!0,ra=null,n=Ka(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),i===a){t=Zs(e,t,n);break e}bs(e,t,i,n)}t=t.child}return t;case 5:return ro(t),null===e&&sa(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ei(i,a)?s=null:null!==o&&ei(i,o)&&(t.flags|=32),ks(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&sa(t),null;case 13:return Ls(e,t,n);case 4:return to(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Xa(t,null,i,n):bs(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,ws(e,t,i,a=t.elementType===i?a:ha(i,a),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,ki(va,i._currentValue),i._currentValue=s,null!==o)if(ar(o.value,s)){if(o.children===a.children&&!Mi.current){t=Zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===i){if(1===o.tag){(l=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(r(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,_a(t,n),i=i(a=Sa(a)),t.flags|=1,bs(e,t,i,n),t.child;case 14:return a=ha(i=t.type,t.pendingProps),xs(e,t,i,a=ha(i.type,a),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:ha(i,a),Us(e,t),t.tag=1,Ai(i)?(e=!0,Oi(t)):e=!1,_a(t,n),Ua(t,i,a),Va(t,i,a,n),Ms(null,t,i,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(r(156,t.tag))};var Gl="function"==typeof reportError?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ql(){}function $l(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=Vl(o);s.call(e)}}Zl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Vl(o);a.call(e)}}var o=Ul(t,r,e,0,null,!1,0,"",Ql);return e._reactRootContainer=o,e[di]=o.current,Br(8===e.nodeType?e.parentNode:e),ul(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Vl(u);s.call(e)}}var u=Fl(e,0,!1,null,0,!1,0,"",Ql);return e._reactRootContainer=u,e[di]=u.current,Br(8===e.nodeType?e.parentNode:e),ul((function(){Zl(t,u,n,r)})),u}(n,t,e,i,r);return Vl(o)}Xl.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Zl(e,t,null,null)},Xl.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Zl(null,e,null,null)})),t[di]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lt(t.pendingLanes);0!==n&&(mt(t,1|n),tl(t,Ke()),!(6&Cu)&&(Bu=Ke()+500,Bi()))}break;case 13:ul((function(){var t=Ma(e,1);if(null!==t){var n=$u();el(t,e,1,n)}})),Wl(e,1)}},wt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)el(t,e,134217728,$u());Wl(e,134217728)}},xt=function(e){if(13===e.tag){var t=Ju(e),n=Ma(e,t);if(null!==n)el(n,e,t,$u());Wl(e,t)}},_t=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},we=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=bi(i);if(!a)throw Error(r(90));W(i),Y(i,a)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ee(e,!!n.multiple,t,!1)}},Ce=sl,Me=ul;var Jl,ec={usingClientEntryPoint:!1,Events:[gi,yi,bi,ke,Ee,sl]},tc={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(!(Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled&&Jl.supportsFiber))try{nt=Jl.inject(nc),rt=Jl}catch(ue){}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kl(t))throw Error(r(200));return jl(e,t,null,n)},e.createRoot=function(e,t){if(!Kl(e))throw Error(r(299));var n=!1,i="",a=Gl;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fl(e,1,!1,null,0,n,0,i,a),e[di]=t.current,Br(8===e.nodeType?e.parentNode:e),new ql(t)},e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=null===(e=Ve(t))?null:e.stateNode},e.flushSync=function(e){return ul(e)},e.hydrate=function(e,t,n){if(!Yl(t))throw Error(r(200));return $l(null,e,t,!0,n)},e.hydrateRoot=function(e,t,n){if(!Kl(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,a=!1,o="",s=Gl;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ul(t,null,e,1,null!=n?n:null,a,0,o,s),e[di]=t.current,Br(e),i)for(e=0;e<i.length;e++)a=(a=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xl(t)},e.render=function(e,t,n){if(!Yl(t))throw Error(r(200));return $l(null,e,t,!1,n)},e.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(r(40));return!!e._reactRootContainer&&(ul((function(){$l(null,null,e,!1,(function(){e._reactRootContainer=null,e[di]=null}))})),!0)},e.unstable_batchedUpdates=sl,e.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Yl(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return $l(e,t,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"})),Xd=N((function(e,t){(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(mY){console.error(mY)}})(),t.exports=qd()}));function Kd(e,t,n){var r=(0,Jd.useCallback)(e,t),i=(0,Jd.useRef)(null);i.current?i.current.set(r):i.current=new Qd.Atom(r);var a=(0,Jd.useRef)(null);return a.current||(a.current=(0,Qd.prism)((function(){return i.current.prism.getValue()()}))),Yd(a.current,n)}function Yd(e,t){var n,r=function(e){var t=(0,Jd.useState)(0),n=m(t,2)[1];return(0,Jd.useCallback)((function(){n((function(e){return e+1}))}),[])}(),i=(0,Jd.useRef)(void 0);i.current||(rp++,i.current={order:rp,runUpdate:function(){i.current.unmounted||r()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:function(){var e;tp&&(null==(e=i.current.debug)||e.history.push("queueUpdate()")),sp(i.current)},untap:e.onStale((function(){tp&&i.current.debug.history.push("onStale(cb)"),i.current.queueUpdate()}))},tp&&(i.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),(0,Jd.useLayoutEffect)((function(){return function(){i.current.unmounted=!0,i.current.untap(),lp(i.current)}}),[]),lp(i.current);var a=i.current.der.getValue();return i.current.lastValue=a,tp&&(null==(n=i.current.debug)||n.history.push("rendered")),a}var Qd,$d,Jd,ep,tp,np,rp,ip,ap,op,sp,up,lp,cp=L((function(){Qd=n(8458),Ud(),$d=j(Zd()),Jd=j(Hd()),ep=j(Xd()),tp=!1,np=function(e,t){return Kd((function(){return(0,Qd.val)(e)}),[e],t)},rp=0,ip=[],ap=new Set,op=!1,sp=function(e){up(e),op||(op=!0,(0,$d.default)((function(){(0,ep.unstable_batchedUpdates)((function(){for(var e,t;ip.length>0;){var n=ip.shift();ap.delete(n);var r=void 0;tp&&(null==(e=n.debug)||e.history.push("queue reached"));try{r=n.der.getValue()}catch(i){tp&&(null==(t=n.debug)||t.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(i),n.runUpdate();continue}r!==n.lastValue&&(n.lastValue=r,n.runUpdate())}op=!1}),1)})))},up=function(e){if(!ap.has(e))if(ap.add(e),0===ip.length)ip.push(e);else{var t=wf(ip,(function(t){return t.order>=e.order}));-1===t?ip.push(e):ip[t].order>e.order&&ip.splice(t,0,e)}},lp=function(e){if(ap.has(e)){ap.delete(e);var t=wf(ip,(function(t){return t===e}));ip.splice(t,1)}}})),fp=N((function(e){var t,n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,l=60112,c=60113,f=60120,d=60115,p=60116,h=60121,v=60122,m=60117,g=60129,y=60131;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case p:case d:case s:return e;default:return t}}case r:return t}}}"function"==typeof Symbol&&Symbol.for&&(t=Symbol.for,n=t("react.element"),r=t("react.portal"),i=t("react.fragment"),a=t("react.strict_mode"),o=t("react.profiler"),s=t("react.provider"),u=t("react.context"),l=t("react.forward_ref"),c=t("react.suspense"),f=t("react.suspense_list"),d=t("react.memo"),p=t("react.lazy"),h=t("react.block"),v=t("react.server.block"),m=t("react.fundamental"),g=t("react.debug_trace_mode"),y=t("react.legacy_hidden"));var w=s,x=n,_=l,S=i,k=p,E=d,C=r,M=o,T=a,P=c;e.ContextConsumer=u,e.ContextProvider=w,e.Element=x,e.ForwardRef=_,e.Fragment=S,e.Lazy=k,e.Memo=E,e.Portal=C,e.Profiler=M,e.StrictMode=T,e.Suspense=P,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(e){return b(e)===u},e.isContextProvider=function(e){return b(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return b(e)===l},e.isFragment=function(e){return b(e)===i},e.isLazy=function(e){return b(e)===p},e.isMemo=function(e){return b(e)===d},e.isPortal=function(e){return b(e)===r},e.isProfiler=function(e){return b(e)===o},e.isStrictMode=function(e){return b(e)===a},e.isSuspense=function(e){return b(e)===c},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===o||e===g||e===a||e===c||e===f||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===s||e.$$typeof===u||e.$$typeof===l||e.$$typeof===m||e.$$typeof===h||e[0]===v)},e.typeOf=b})),dp=N((function(e,t){t.exports=fp()})),pp=N((function(e,t){t.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var l=a[u];if(!s(l))return!1;var c=e[l],f=t[l];if(!1===(i=n?n.call(r,c,f,l):void 0)||void 0===i&&c!==f)return!1}return!0}}));function hp(e){function t(e,r,u,l,d){for(var p,h,v,m,w,_=0,S=0,k=0,E=0,C=0,I=0,O=v=p=0,N=0,z=0,F=0,j=0,B=u.length,U=B-1,Z="",V="",H="",W="";N<B;){if(h=u.charCodeAt(N),N===U&&S+E+k+_!==0&&(0!==S&&(h=47===S?10:47),E=k=_=0,B++,U++),S+E+k+_===0){if(N===U&&(0<z&&(Z=Z.replace(f,"")),0<Z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:Z+=u.charAt(N)}h=59}switch(h){case 123:for(p=(Z=Z.trim()).charCodeAt(0),v=1,j=++N;N<B;){switch(h=u.charCodeAt(N)){case 123:v++;break;case 125:v--;break;case 47:switch(h=u.charCodeAt(N+1)){case 42:case 47:e:{for(O=N+1;O<U;++O)switch(u.charCodeAt(O)){case 47:if(42===h&&42===u.charCodeAt(O-1)&&N+2!==O){N=O+1;break e}break;case 10:if(47===h){N=O+1;break e}}N=O}}break;case 91:h++;case 40:h++;case 34:case 39:for(;N++<U&&u.charCodeAt(N)!==h;);}if(0===v)break;N++}if(64===(v=u.substring(j,N),0===p&&(p=(Z=Z.replace(c,"").trim()).charCodeAt(0)),p)){switch(0<z&&(Z=Z.replace(f,"")),h=Z.charCodeAt(1)){case 100:case 109:case 115:case 45:z=r;break;default:z=D}if(j=(v=t(r,z,v,h,d+1)).length,0<R&&(w=s(3,v,z=n(D,Z,F),r,T,M,j,h,d,l),Z=z.join(""),void 0!==w&&0===(j=(v=w.trim()).length)&&(h=0,v="")),0<j)switch(h){case 115:Z=Z.replace(x,o);case 100:case 109:case 45:v=Z+"{"+v+"}";break;case 107:v=(Z=Z.replace(g,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=Z+v,112===l&&(V+=v,v="")}else v=""}else v=t(r,n(r,Z,F),v,l,d+1);H+=v,v=F=z=O=p=0,Z="",h=u.charCodeAt(++N);break;case 125:case 59:if(1<(j=(Z=(0<z?Z.replace(f,""):Z).trim()).length))switch(0===O&&(p=Z.charCodeAt(0),45===p||96<p&&123>p)&&(j=(Z=Z.replace(" ",":")).length),0<R&&void 0!==(w=s(1,Z,r,e,T,M,V.length,l,d,l))&&0===(j=(Z=w.trim()).length)&&(Z="\0\0"),p=Z.charCodeAt(0),h=Z.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){W+=Z+u.charAt(N);break}default:58!==Z.charCodeAt(j-1)&&(V+=i(Z,p,h,Z.charCodeAt(2)))}F=z=O=p=0,Z="",h=u.charCodeAt(++N)}}switch(h){case 13:case 10:47===S?S=0:1+p===0&&107!==l&&0<Z.length&&(z=1,Z+="\0"),0<R*L&&s(0,Z,r,e,T,M,V.length,l,d,l),M=1,T++;break;case 59:case 125:if(S+E+k+_===0){M++;break}default:switch(M++,m=u.charAt(N),h){case 9:case 32:if(E+_+S===0)switch(C){case 44:case 58:case 9:case 32:m="";break;default:32!==h&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:E+S+_===0&&(z=F=1,m="\f"+m);break;case 108:if(E+S+_+P===0&&0<O)switch(N-O){case 2:112===C&&58===u.charCodeAt(N-3)&&(P=C);case 8:111===I&&(P=I)}break;case 58:E+S+_===0&&(O=N);break;case 44:S+k+E+_===0&&(z=1,m+="\r");break;case 34:case 39:0===S&&(E=E===h?0:0===E?h:E);break;case 91:E+S+k===0&&_++;break;case 93:E+S+k===0&&_--;break;case 41:E+S+_===0&&k--;break;case 40:if(E+S+_===0){if(0===p)if(2*C+3*I===533);else p=1;k++}break;case 64:S+k+E+_+O+v===0&&(v=1);break;case 42:case 47:if(!(0<E+_+k))switch(S){case 0:switch(2*h+3*u.charCodeAt(N+1)){case 235:S=47;break;case 220:j=N,S=42}break;case 42:47===h&&42===C&&j+2!==N&&(33===u.charCodeAt(j+2)&&(V+=u.substring(j,N+1)),m="",S=0)}}0===S&&(Z+=m)}I=C,C=h,N++}if(0<(j=V.length)){if(z=r,0<R&&(void 0!==(w=s(2,V,z,e,T,M,j,l,d,l))&&0===(V=w).length))return W+V+H;if(V=z.join(",")+"{"+V+"}",A*P!==0){switch(2!==A||a(V,2)||(P=0),P){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}P=0}}return W+V+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var l=0;l<o;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===A||2===A&&a(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return p.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(w,"tb");break;case 232:u=o.replace(w,"tb-rl");break;case 220:u=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,n+r===211&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(k,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,c){for(var f,d=0,p=t;d<R;++d)switch(f=I[d].call(l,e,p,n,r,i,a,o,s,u,c)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function u(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!=typeof e?A=1:(A=2,O=e):A=0),u}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,T,M,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var a=t(D,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,a,r,r,T,M,a.length,0,0,0))&&(a=i)),"",P=0,M=T=1,a}var c=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,M=1,T=1,P=0,A=1,D=[],I=[],R=0,O=null,L=0;return l.use=function e(t){switch(t){case void 0:case null:R=I.length=0;break;default:if("function"==typeof t)I[R++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},l.set=u,void 0!==e&&u(e),l}var vp,mp,gp=L((function(){vp=hp})),yp=L((function(){mp={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}}));function bp(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var wp,xp,_p,Sp,kp=L((function(){wp=bp})),Ep=L((function(){kp(),xp=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_p=wp((function(e){return xp.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Sp=_p})),Cp=N((function(e){var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,m=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case c:case i:case o:case a:case d:return e;default:switch(e=e&&e.$$typeof){case u:case f:case v:case h:case s:return e;default:return t}}case r:return t}}}function x(e){return w(e)===c}e.AsyncMode=l,e.ConcurrentMode=c,e.ContextConsumer=u,e.ContextProvider=s,e.Element=n,e.ForwardRef=f,e.Fragment=i,e.Lazy=v,e.Memo=h,e.Portal=r,e.Profiler=o,e.StrictMode=a,e.Suspense=d,e.isAsyncMode=function(e){return x(e)||w(e)===l},e.isConcurrentMode=x,e.isContextConsumer=function(e){return w(e)===u},e.isContextProvider=function(e){return w(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return w(e)===f},e.isFragment=function(e){return w(e)===i},e.isLazy=function(e){return w(e)===v},e.isMemo=function(e){return w(e)===h},e.isPortal=function(e){return w(e)===r},e.isProfiler=function(e){return w(e)===o},e.isStrictMode=function(e){return w(e)===a},e.isSuspense=function(e){return w(e)===d},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===o||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===f||e.$$typeof===g||e.$$typeof===y||e.$$typeof===b||e.$$typeof===m)},e.typeOf=w})),Mp=N((function(e,t){t.exports=Cp()})),Tp=N((function(e,t){var n=Mp(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return n.isMemo(e)?a:o[e.$$typeof]||r}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function e(t,n,r){if("string"!=typeof n){if(p){var a=d(n);a&&a!==p&&e(t,a,r)}var o=l(n);c&&(o=o.concat(c(n)));for(var h=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!i[g]&&(!r||!r[g])&&(!v||!v[g])&&(!h||!h[g])){var y=f(n,g);try{u(t,g,y)}catch(b){}}}}return t}}));function Pp(){return(Pp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ap(e){return"function"==typeof e}function Dp(e){return e.displayName||e.name||"Component"}function Ip(e){return e&&"string"==typeof e.styledComponentId}function Rp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function Op(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Mh(t%52)+n;return(Mh(t%52)+n).replace(Ch,"$1-$2")}function Lp(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ap(n)&&!Ip(n))return!1}return!0}function Np(e){var t,n,r,i,a=void 0===e?nh:e,o=a.options,s=void 0===o?nh:o,u=a.plugins,l=void 0===u?th:u,c=new vp(s),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,r,i,a,o,s,u,l,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,a){return 0===r&&-1!==Rh.indexOf(a[n.length])||a.match(i)?e:"."+t};function h(e,a,o,s){void 0===s&&(s="&");var u=e.replace(Ih,""),l=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(o||!a?"":a,l)}return c.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),h.hash=l.length?l.reduce((function(e,t){return t.name||Rp(15),Th(e,t.name)}),5381).toString():"",h}function zp(){return(0,Yp.useContext)(Oh)||Nh}function Fp(){return(0,Yp.useContext)(Lh)||zh}function jp(e){var t=(0,Yp.useState)(e.stylisPlugins),n=t[0],r=t[1],i=zp(),a=(0,Yp.useMemo)((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),o=(0,Yp.useMemo)((function(){return Np({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,Yp.useEffect)((function(){(0,Qp.default)(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),Yp.default.createElement(Oh.Provider,{value:a},Yp.default.createElement(Lh.Provider,{value:o},e.children))}function Bp(e){return jh.test(e)?e.replace(Bh,Zh).replace(Uh,"-ms-"):e}function Up(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=Up(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Vh(e)?"":Ip(e)?"."+e.styledComponentId:Ap(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:Up(e(t),t,n,r):e instanceof Fh?n?(e.inject(n,r),e.getName(r)):e:eh(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Vh(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Ap(t[o])?a.push(Bp(o)+":",t[o],";"):eh(t[o])?a.push.apply(a,e(t[o],o)):a.push(Bp(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in mp||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}function Zp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ap(e)||eh(e)?Hh(Up(Jp(th,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Hh(Up(Jp(e,n)))}function Vp(e){return e.replace(Gh,"-").replace(qh,"")}function Hp(e){return"string"==typeof e&&!0}function Wp(e,t,n){var r=e[n];Kh(t)&&Kh(r)?Gp(r,t):e[n]=t}function Gp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Kh(o))for(var s in o)Yh(s)&&Wp(e,o[s],s)}return e}function qp(e,t,n){var r,i=Ip(e),a=!Hp(e),o=t.attrs,s=void 0===o?th:o,u=t.componentId,l=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Vp(e);$h[n]=($h[n]||0)+1;var r=n+"-"+Xh("5.3.11"+n+$h[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,c=t.displayName,f=void 0===c?Hp(r=e)?"styled."+r:"Styled("+Dp(r)+")":c,d=t.displayName&&t.componentId?Vp(t.displayName)+"-"+t.componentId:t.componentId||l,p=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,h=t.shouldForwardProp;i&&e.shouldForwardProp&&(h=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new Dh(n,d,i?e.componentStyle:void 0),g=m.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,u=e.shouldForwardProp,l=e.styledComponentId,c=e.target,f=function(e,t,n){void 0===e&&(e=nh);var r=Pp({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Ap(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Wh(t,(0,Yp.useContext)(Qh),o)||nh,t,i),d=f[0],p=f[1],h=function(e,t,n,r){var i=zp(),a=Fp();return t?e.generateAndInjectStyles(nh,i,a):e.generateAndInjectStyles(n,i,a)}(a,r,d),v=n,m=p.$as||t.$as||p.as||t.as||c,g=Hp(m),y=p!==t?Pp({},t,{},p):t,b={};for(var w in y)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=y[w]:(u?u(w,Sp,m):!g||Sp(w))&&(b[w]=y[w]));return t.style&&p.style!==t.style&&(b.style=Pp({},t.style,{},p.style)),b.className=Array.prototype.concat(s,l,h!==l?h:null,t.className,p.className).filter(Boolean).join(" "),b.ref=v,(0,Yp.createElement)(m,b)}(v,e,t,g)};return y.displayName=f,(v=Yp.default.forwardRef(y)).attrs=p,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=h,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):th,v.styledComponentId=d,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Hp(e)?e:Vp(Dp(e)));return qp(e,Pp({},i,{attrs:p,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Gp({},e.defaultProps,t):t}}),Object.defineProperty(v,"toString",{value:function(){return"."+v.styledComponentId}}),a&&(0,$p.default)(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}function Xp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Zp.apply(void 0,[e].concat(n)),a="sc-global-"+Xh(JSON.stringify(i)),o=new ev(i,a);function s(e){var t=zp(),n=Fp(),r=(0,Yp.useContext)(Qh),i=(0,Yp.useRef)(t.allocateGSInstance(a)).current;return t.server&&u(i,e,t,r,n),(0,Yp.useLayoutEffect)((function(){if(!t.server)return u(i,e,t,r,n),function(){return o.removeStyles(i,t)}}),[i,e,t,r,n]),null}function u(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,oh,n,i);else{var a=Pp({},t,{theme:Wh(t,r,s.defaultProps)});o.renderStyles(e,a,n,i)}}return Yp.default.memo(s)}var Kp,Yp,Qp,$p,Jp,eh,th,nh,rh,ih,ah,oh,sh,uh,lh,ch,fh,dh,ph,hh,vh,mh,gh,yh,bh,wh,xh,_h,Sh,kh,Eh,Ch,Mh,Th,Ph,Ah,Dh,Ih,Rh,Oh,Lh,Nh,zh,Fh,jh,Bh,Uh,Zh,Vh,Hh,Wh,Gh,qh,Xh,Kh,Yh,Qh,$h,Jh,ev,tv,nv=L((function(){Kp=j(dp()),Yp=j(Hd()),Qp=j(pp()),gp(),yp(),Ep(),$p=j(Tp()),Jp=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},eh=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Kp.typeOf)(e)},th=Object.freeze([]),nh=Object.freeze({}),rh="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",ih="undefined"!=typeof window&&"HTMLElement"in window,ah=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&"false"!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),oh={},sh=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Rp(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),uh=new Map,lh=new Map,ch=1,fh=function(e){if(uh.has(e))return uh.get(e);for(;lh.has(ch);)ch++;var t=ch++;return uh.set(e,t),lh.set(t,e),t},dh=function(e){return lh.get(e)},ph=function(e,t){t>=ch&&(ch=t+1),uh.set(e,t),lh.set(t,e)},hh="style["+rh+'][data-styled-version="5.3.11"]',vh=new RegExp("^"+rh+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),mh=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},gh=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(vh);if(s){var u=0|parseInt(s[1],10),l=s[2];0!==u&&(ph(l,u),mh(e,l,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},yh=function(){return n.nc},bh=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(rh))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(rh,"active"),r.setAttribute("data-styled-version","5.3.11");var o=yh();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},wh=function(){function e(e){var t=this.element=bh(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Rp(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),xh=function(){function e(e){var t=this.element=bh(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),_h=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Sh=ih,kh={isServer:!ih,useCSSOMInjection:!ah},Eh=function(){function e(e,t,n){void 0===e&&(e=nh),void 0===t&&(t={}),this.options=Pp({},kh,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ih&&Sh&&(Sh=!1,function(e){for(var t=document.querySelectorAll(hh),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(rh)&&(gh(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return fh(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Pp({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new _h(i):r?new wh(i):new xh(i),new sh(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(fh(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(fh(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(fh(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=dh(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=rh+".g"+i+'[id="'+a+'"]',l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+s+u+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),Ch=/(a)(d)/gi,Mh=function(e){return String.fromCharCode(e+(e>25?39:97))},Th=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ah=(Ph=function(e){return Th(5381,e)})("5.3.11"),Dh=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Lp(e),this.componentId=t,this.baseHash=Th(Ah,t),this.baseStyle=n,Eh.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Up(this.rules,e,t,n).join(""),o=Op(Th(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,l=Th(this.baseHash,n.hash),c="",f=0;f<u;f++){var d=this.rules[f];if("string"==typeof d)c+=d;else if(d){var p=Up(d,e,t,n),h=Array.isArray(p)?p.join(""):p;l=Th(l,h+f),c+=h}}if(c){var v=Op(l>>>0);if(!t.hasNameForId(r,v)){var m=n(c,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Ih=/^\s*\/\/.*$/gm,Rh=[":","[",".","#"],Oh=Yp.default.createContext(),Oh.Consumer,(Lh=Yp.default.createContext()).Consumer,Nh=new Eh,zh=Np(),Fh=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=zh);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Rp(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=zh),this.name+e.hash},e}(),jh=/([A-Z])/,Bh=/([A-Z])/g,Uh=/^ms-/,Zh=function(e){return"-"+e.toLowerCase()},Vh=function(e){return null==e||!1===e||""===e},Hh=function(e){return Array.isArray(e)&&(e.isCss=!0),e},Wh=function(e,t,n){return void 0===n&&(n=nh),e.theme!==n.theme&&e.theme||t||n.theme},Gh=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,qh=/(^-|-$)/g,Xh=function(e){return Op(Ph(e)>>>0)},Kh=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Yh=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e},Qh=Yp.default.createContext(),Qh.Consumer,$h={},Jh=function(e){return function e(t,n,r){if(void 0===r&&(r=nh),!(0,Kp.isValidElementType)(n))return Rp(1,String(n));var i=function(){return t(n,r,Zp.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Pp({},r,{},i))},i.attrs=function(i){return e(t,n,Pp({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(qp,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Jh[e]=Jh(e)})),ev=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Lp(e),Eh.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(Up(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Eh.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}(),function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=yh();return"<style "+[n&&'nonce="'+n+'"',rh+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Rp(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Rp(2);var n=((t={})[rh]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=yh();return r&&(n.nonce=r),[Yp.default.createElement("style",Pp({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Eh({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?Rp(2):Yp.default.createElement(jp,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Rp(3)},e}(),tv=Jh}));function rv(){return rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(this,arguments)}var iv=L((function(){}));var av=L((function(){}));function ov(e,t){return(ov=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sv=L((function(){}));var uv=L((function(){sv()}));function lv(e){return(lv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cv=L((function(){}));var fv=L((function(){}));function dv(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(mY){return!1}}var pv=L((function(){}));function hv(e,t,n){return(hv=dv()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ov(i,n.prototype),i}).apply(null,arguments)}var vv=L((function(){sv(),pv()}));function mv(e){var t="function"==typeof Map?new Map:void 0;return mv=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return hv(e,arguments,lv(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ov(n,e)},mv(e)}var gv=L((function(){cv(),sv(),fv(),vv()})),yv=L((function(){}));function bv(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce((function(e,t){return""+e+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(t)}));var r=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===r?""+e+t:r}function wv(e,t){for(var n={},r=0;r<t.length;r+=1)(t[r]||0===t[r])&&(n[bv(e,Vv[r])]=t[r]);return n}function xv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1],o=void 0===a?i:a,s=n[2],u=void 0===s?i:s,l=n[3],c=void 0===l?o:l,f=[i,o,u,c];return wv(e,f)}function _v(e){return Math.round(255*e)}function Sv(e,t,n){return _v(e)+","+_v(t)+","+_v(n)}function kv(e,t,n,r){if(void 0===r&&(r=Sv),0===t)return r(n,n,n);var i=(e%360+360)%360/60,a=(1-Math.abs(2*n-1))*t,o=a*(1-Math.abs(i%2-1)),s=0,u=0,l=0;i>=0&&i<1?(s=a,u=o):i>=1&&i<2?(s=o,u=a):i>=2&&i<3?(u=a,l=o):i>=3&&i<4?(u=o,l=a):i>=4&&i<5?(s=o,l=a):i>=5&&i<6&&(s=a,l=o);var c=n-a/2;return r(s+c,u+c,l+c)}function Ev(e){if("string"!=typeof e)throw new Zv(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return Hv[t]?"#"+Hv[t]:e}(e);if(t.match(Wv))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(Gv)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(qv))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Xv)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=Kv.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var a=Yv.exec(t.substring(0,50));if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])};var o=Qv.exec(t);if(o){var s="rgb("+kv(parseInt(""+o[1],10),parseInt(""+o[2],10)/100,parseInt(""+o[3],10)/100)+")",u=Kv.exec(s);if(!u)throw new Zv(4,t,s);return{red:parseInt(""+u[1],10),green:parseInt(""+u[2],10),blue:parseInt(""+u[3],10)}}var l=$v.exec(t.substring(0,50));if(l){var c="rgb("+kv(parseInt(""+l[1],10),parseInt(""+l[2],10)/100,parseInt(""+l[3],10)/100)+")",f=Kv.exec(c);if(!f)throw new Zv(4,t,c);return{red:parseInt(""+f[1],10),green:parseInt(""+f[2],10),blue:parseInt(""+f[3],10),alpha:parseFloat(""+l[4])}}throw new Zv(5)}function Cv(e){return function(e){var t=e.red/255,n=e.green/255,r=e.blue/255,i=Math.max(t,n,r),a=Math.min(t,n,r),o=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:o,alpha:e.alpha}:{hue:0,saturation:0,lightness:o};var s,u=i-a,l=o>.5?u/(2-i-a):u/(i+a);switch(i){case t:s=(n-r)/u+(n<r?6:0);break;case n:s=(r-t)/u+2;break;default:s=(t-n)/u+4}return s*=60,void 0!==e.alpha?{hue:s,saturation:l,lightness:o,alpha:e.alpha}:{hue:s,saturation:l,lightness:o}}(Ev(e))}function Mv(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function Tv(e){return Mv(Math.round(255*e))}function Pv(e,t,n){return Jv("#"+Tv(e)+Tv(t)+Tv(n))}function Av(e,t,n){return kv(e,t,n,Pv)}function Dv(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Jv("#"+Mv(e)+Mv(t)+Mv(n));if("object"==typeof e&&void 0===t&&void 0===n)return Jv("#"+Mv(e.red)+Mv(e.green)+Mv(e.blue));throw new Zv(6)}function Iv(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var i=Ev(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?Dv(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?Dv(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Zv(7)}function Rv(e){if("object"!=typeof e)throw new Zv(8);if(tm(e))return Iv(e);if(em(e))return Dv(e);if(rm(e))return function(e,t,n,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?Av(e,t,n):"rgba("+kv(e,t,n)+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?Av(e.hue,e.saturation,e.lightness):"rgba("+kv(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new Zv(2)}(e);if(nm(e))return function(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Av(e,t,n);if("object"==typeof e&&void 0===t&&void 0===n)return Av(e.hue,e.saturation,e.lightness);throw new Zv(1)}(e);throw new Zv(8)}function Ov(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):Ov(e,t,r)}}function Lv(e){return Ov(e,e.length,[])}function Nv(e,t,n){return Math.max(e,Math.min(t,n))}function zv(e,t){if("transparent"===t)return t;var n=Cv(t);return Rv(rv({},n,{lightness:Nv(0,1,n.lightness-parseFloat(e))}))}function Fv(e,t){if("transparent"===t)return t;var n=Cv(t);return Rv(rv({},n,{lightness:Nv(0,1,n.lightness+parseFloat(e))}))}function jv(e,t){if("transparent"===t)return t;var n=Cv(t);return Rv(rv({},n,{saturation:Nv(0,1,n.saturation+parseFloat(e))}))}function Bv(e,t){if("transparent"===t)return t;var n=Ev(t);return Iv(rv({},n,{alpha:Nv(0,1,+(100*("number"==typeof n.alpha?n.alpha:1)-100*parseFloat(e)).toFixed(2)/100)}))}function Uv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return um.indexOf(e)>=0&&e?rv({},xv.apply(void 0,[""].concat(n)),{position:e}):xv.apply(void 0,["",e].concat(n))}var Zv,Vv,Hv,Wv,Gv,qv,Xv,Kv,Yv,Qv,$v,Jv,em,tm,nm,rm,im,am,om,sm,um,lm=L((function(){iv(),av(),uv(),gv(),yv(),Zv=function(e){function t(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ov(e,t)}(t,e),t}(mv(Error)),Vv=["Top","Right","Bottom","Left"],Hv={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Wv=/^#[a-fA-F0-9]{6}$/,Gv=/^#[a-fA-F0-9]{8}$/,qv=/^#[a-fA-F0-9]{3}$/,Xv=/^#[a-fA-F0-9]{4}$/,Kv=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,Yv=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Qv=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,$v=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Jv=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},em=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||"undefined"==typeof e.alpha)},tm=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},nm=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||"undefined"==typeof e.alpha)},rm=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha},im=Lv(zv),am=Lv(Fv),om=Lv(jv),sm=Lv(Bv),um=["absolute","fixed","relative","static","sticky"]}));function cm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fm(Object(n),!0).forEach((function(t){cm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pm(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var hm,vm,mm=L((function(){})),gm=L((function(){hm=j(Hd()),vm=(0,hm.createContext)({})}));function ym(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bm(Object(n),!0).forEach((function(t){ym(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xm(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function _m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sm(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _m(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var km=L((function(){}));var Em,Cm,Mm=L((function(){Em=j(Hd()),gm(),km(),Cm=function(e,t,n){void 0===n&&(n=t.children);var r=(0,Em.useContext)(vm);if(r.useCreateElement)return r.useCreateElement(e,t,n);if("string"==typeof e&&"function"==typeof n){t.children;return n(xm(t,["children"]))}return(0,Em.createElement)(e,t,n)}}));function Tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pm(Object(n),!0).forEach((function(t){Tm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dm=L((function(){}));var Im=L((function(){}));function Rm(e){var t;if(!function(e){return"object"==typeof e&&null!=e}(e))return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===Object.toString()}var Om=L((function(){Im()}));function Lm(e,t){for(var n={},r={},i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];t.indexOf(o)>=0?n[o]=e[o]:r[o]=e[o]}return[n,r]}function Nm(e,t){if(void 0===t&&(t=[]),!Rm(e.state))return Lm(e,t);var n=Lm(e,[].concat(t,["state"])),r=n[0],i=n[1],a=r.state,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}(r,["state"]);return[Am(Am({},a),o),i]}var zm=L((function(){Dm(),Om()}));function Fm(e,t){if(e===t)return!0;if(!e||!t||"object"!=typeof e||"object"!=typeof t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var a=0,o=n;a<o.length;a++){var s=o[a];if(e[s]!==t[s])return!1}return!0}var jm=L((function(){}));function Bm(e){return"normalizePropsAreEqualInner"===e.name?e:function(t,n){return Rm(t.state)&&Rm(n.state)?e(Am(Am({},t.state),t),Am(Am({},n.state),n)):e(t,n)}}var Um=L((function(){Dm(),Om()}));function Zm(e){var t=e.as,n=e.useHook,r=e.memo,i=e.propsAreEqual,a=void 0===i?null==n?void 0:n.unstable_propsAreEqual:i,o=e.keys,s=void 0===o?(null==n?void 0:n.__keys)||[]:o,u=e.useCreateElement,l=void 0===u?Cm:u,c=function(e,r){var i=e.as,a=void 0===i?t:i,o=xm(e,["as"]);if(n){var u,c=Nm(o,s),f=c[0],d=c[1],p=n(f,wm({ref:r},d)),h=p.wrapElement,v=xm(p,["wrapElement"]),m=(null===(u=a.render)||void 0===u?void 0:u.__keys)||a.__keys,g=m&&Nm(o,m)[0],y=g?wm(wm({},v),g):v,b=l(a,y);return h?h(b):b}return l(a,wm({ref:r},o))};return c=function(e){return(0,Vm.forwardRef)(e)}(c),r&&(c=function(e,t){return(0,Vm.memo)(e,t)}(c,a&&Bm(a))),c.__keys=s,c.unstable_propsAreEqual=Bm(a||Fm),c}var Vm,Hm=L((function(){Vm=j(Hd()),km(),Mm(),zm(),jm(),Um()}));function Wm(e,t){(0,Gm.useDebugValue)(e);var n=(0,Gm.useContext)(vm);return null!=n[e]?n[e]:t}var Gm,qm=L((function(){Gm=j(Hd()),gm()}));var Xm,Km=L((function(){Xm=j(Hd()),qm()}));var Ym,Qm=L((function(){Ym=j(Hd()),qm(),km()}));var $m=L((function(){}));function Jm(e){var t,n,r=function(e){return Array.isArray(e)?e:"undefined"!=typeof e?[e]:[]}(e.compose),i=function(t,n){if(e.useOptions&&(t=e.useOptions(t,n)),e.name&&(t=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r="use"+e+"Options";(0,Ym.useDebugValue)(r);var i=Wm(r);return i?wm(wm({},t),i(t,n)):t}(e.name,t,n)),e.compose)for(var i,a=Sm(r);!(i=a()).done;){t=i.value.__useOptions(t,n)}return t},a=function(t,n,a){if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===a&&(a=!1),a||(t=i(t,n)),e.useProps&&(n=e.useProps(t,n)),e.name&&(n=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r="use"+e+"Props";(0,Xm.useDebugValue)(r);var i=Wm(r);return i?i(t,n):n}(e.name,t,n)),e.compose)if(e.useComposeOptions&&(t=e.useComposeOptions(t,n)),e.useComposeProps)n=e.useComposeProps(t,n);else for(var o,s=Sm(r);!(o=s()).done;){n=(0,o.value)(t,n,!0)}var u={},l=n||{};for(var c in l)void 0!==l[c]&&(u[c]=l[c]);return u};a.__useOptions=i;var o=r.reduce((function(e,t){return e.push.apply(e,t.__keys||[]),e}),[]);return a.__keys=[].concat(o,(null===(t=e.useState)||void 0===t?void 0:t.__keys)||[],e.keys||[]),a.unstable_propsAreEqual=e.propsAreEqual||(null===(n=r[0])||void 0===n?void 0:n.unstable_propsAreEqual)||Fm,a}var eg=L((function(){j(Hd()),Km(),km(),Qm(),jm(),$m()}));function tg(e,t){void 0===t&&(t=null),e&&("function"==typeof e?e(t):e.current=t)}function ng(e,t){return(0,rg.useMemo)((function(){return null==e&&null==t?null:function(n){tg(e,n),tg(t,n)}}),[e,t])}var rg,ig=L((function(){rg=j(Hd())}));function ag(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){var t=e;return-1!==og.indexOf(t.type)}return!1}var og,sg=L((function(){og=["button","color","file","image","reset","submit"]})),ug=L((function(){})),lg=L((function(){ug(),j(Hd())})),cg=L((function(){ug(),j(Hd()),lg()}));function fg(e){return e?e.ownerDocument||e:document}var dg=L((function(){}));var pg,hg=L((function(){dg();try{pg=window}catch(mY){}}));function vg(){var e=function(e){return e&&fg(e).defaultView||pg}();return!("undefined"==typeof e||!e.document||!e.document.createElement)}var mg,gg,yg,bg=L((function(){hg(),mg=vg()})),wg=L((function(){gg=j(Hd()),bg(),yg=mg?gg.useLayoutEffect:gg.useEffect}));function xg(e){var t=(0,_g.useRef)(e);return yg((function(){t.current=e})),t}var _g,Sg=L((function(){_g=j(Hd()),wg()}));var kg=L((function(){}));var Eg=L((function(){dg()}));function Cg(e,t){return e===t||e.contains(t)}var Mg=L((function(){}));function Tg(e){var t=function(e){var t=fg(e).activeElement;return null!=t&&t.nodeName?t:null}(e);if(!t)return!1;if(Cg(e,t))return!0;var n=t.getAttribute("aria-activedescendant");return!!n&&(n===e.id||!!e.querySelector("#"+n))}var Pg=L((function(){Eg(),Mg()}));var Ag=L((function(){Mg()}));function Dg(e){return!!mg&&-1!==window.navigator.userAgent.indexOf(e)}var Ig=L((function(){bg()}));var Rg=L((function(){}));var Og,Lg,Ng=L((function(){Rg(),Og="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"})),zg=L((function(){mm(),Hm(),eg(),jm(),Lg=Jm({name:"Role",keys:["unstable_system"],propsAreEqual:function(e,t){var n=e.unstable_system,r=pm(e,["unstable_system"]),i=t.unstable_system,a=pm(t,["unstable_system"]);return!(n!==i&&!Fm(n,i))&&Fm(r,a)}}),Zm({as:"div",useHook:Lg})}));function Fg(e){!Tg(e)&&function(e){return function(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}(e,Og)&&function(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)}(e)&&e.focus()}function jg(e,t,n,r){return e?t&&!n?-1:void 0:t?r:r||0}function Bg(e,t){return(0,Ug.useCallback)((function(n){var r;null===(r=e.current)||void 0===r||r.call(e,n),!n.defaultPrevented&&t&&(n.stopPropagation(),n.preventDefault())}),[e,t])}var Ug,Zg,Vg,Hg,Wg=L((function(){mm(),Hm(),eg(),Ug=j(Hd()),ig(),sg(),cg(),Sg(),wg(),Pg(),Ag(),Ig(),Ng(),zg(),Zg=["disabled","focusable"],Vg=Dg("Mac")&&!Dg("Chrome")&&(Dg("Safari")||Dg("Firefox")),Hg=Jm({name:"Tabbable",compose:Lg,keys:Zg,useOptions:function(e,t){return dm({disabled:t.disabled},e)},useProps:function(e,t){var n=t.ref,r=t.tabIndex,i=t.onClickCapture,a=t.onMouseDownCapture,o=t.onMouseDown,s=t.onKeyPressCapture,u=t.style,l=pm(t,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),c=(0,Ug.useRef)(null),f=xg(i),d=xg(a),p=xg(o),h=xg(s),v=!!e.disabled&&!e.focusable,m=(0,Ug.useState)(!0),g=m[0],y=m[1],b=(0,Ug.useState)(!0),w=b[0],x=b[1],_=e.disabled?dm({pointerEvents:"none"},u):u;yg((function(){var e,t=c.current;t&&("BUTTON"===(e=t).tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"A"===e.tagName||y(!1),function(e){return"BUTTON"===e.tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName}(t)||x(!1))}),[]);var S=Bg(f,e.disabled),k=Bg(d,e.disabled),E=Bg(h,e.disabled),C=(0,Ug.useCallback)((function(e){var t;null===(t=p.current)||void 0===t||t.call(p,e);var n,r=e.currentTarget;if(!e.defaultPrevented&&Vg&&Cg((n=e).currentTarget,n.target)&&ag(r)){var i=requestAnimationFrame((function(){r.removeEventListener("mouseup",a,!0),Fg(r)})),a=function(){cancelAnimationFrame(i),Fg(r)};r.addEventListener("mouseup",a,{once:!0,capture:!0})}}),[]);return dm({ref:ng(c,n),style:_,tabIndex:jg(v,g,w,r),disabled:!(!v||!w)||void 0,"aria-disabled":!!e.disabled||void 0,onClickCapture:S,onMouseDownCapture:k,onMouseDown:C,onKeyPressCapture:E},l)}}),Zm({as:"div",useHook:Hg})}));var Gg,qg,Xg,Kg,Yg,Qg,$g,Jg=L((function(){mm(),Hm(),eg(),Gg=j(Hd()),sg(),cg(),Sg(),kg(),Wg(),qg=Jm({name:"Clickable",compose:Hg,keys:["unstable_clickOnEnter","unstable_clickOnSpace"],useOptions:function(e){var t=e.unstable_clickOnEnter,n=void 0===t||t,r=e.unstable_clickOnSpace;return dm({unstable_clickOnEnter:n,unstable_clickOnSpace:void 0===r||r},pm(e,["unstable_clickOnEnter","unstable_clickOnSpace"]))},useProps:function(e,t){var n=t.onKeyDown,r=t.onKeyUp,i=pm(t,["onKeyDown","onKeyUp"]),a=(0,Gg.useState)(!1),o=a[0],s=a[1],u=xg(n),l=xg(r),c=(0,Gg.useCallback)((function(t){var n,r;if(null===(n=u.current)||void 0===n||n.call(u,t),!t.defaultPrevented&&!e.disabled&&!t.metaKey&&(r=t).target===r.currentTarget){var i=e.unstable_clickOnEnter&&"Enter"===t.key,a=e.unstable_clickOnSpace&&" "===t.key;if(i||a){if(function(e){var t=e.currentTarget;return!!e.isTrusted&&(ag(t)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"A"===t.tagName||"SELECT"===t.tagName)}(t))return;t.preventDefault(),i?t.currentTarget.click():a&&s(!0)}}}),[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),f=(0,Gg.useCallback)((function(t){var n;if(null===(n=l.current)||void 0===n||n.call(l,t),!t.defaultPrevented&&!e.disabled&&!t.metaKey){var r=e.unstable_clickOnSpace&&" "===t.key;o&&r&&(s(!1),t.currentTarget.click())}}),[e.disabled,e.unstable_clickOnSpace,o]);return dm({"data-active":o||void 0,onKeyDown:c,onKeyUp:f},i)}}),Zm({as:"button",memo:!0,useHook:qg})})),ey=L((function(){mm(),Hm(),eg(),Xg=j(Hd()),ig(),sg(),cg(),Jg(),Kg=Jm({name:"Button",compose:qg,keys:[],useProps:function(e,t){var n=t.ref,r=pm(t,["ref"]),i=(0,Xg.useRef)(null),a=(0,Xg.useState)(void 0),o=a[0],s=a[1],u=(0,Xg.useState)("button"),l=u[0],c=u[1];return(0,Xg.useEffect)((function(){var e=i.current;e&&(ag(e)||("A"!==e.tagName&&s("button"),c(void 0)))}),[]),dm({ref:ng(i,n),role:o,type:l},r)}}),Yg=Zm({as:"button",memo:!0,useHook:Kg})})),ty=L((function(){mm(),Hm(),eg(),zg(),Qg=Jm({name:"Group",compose:Lg,keys:[],useProps:function(e,t){return dm({role:"group"},t)}}),$g=Zm({as:"div",useHook:Qg})}));function ny(){return mg?document.body:null}function ry(e){var t=e.children,n=(0,iy.useContext)(oy)||ny(),r=(0,iy.useState)((function(){if(mg){var e=document.createElement("div");return e.className=ry.__className,e}return null}))[0];return yg((function(){if(r&&n)return n.appendChild(r),function(){n.removeChild(r)}}),[r,n]),r?(0,ay.createPortal)((0,iy.createElement)(oy.Provider,{value:r},t),r):null}var iy,ay,oy,sy,uy=L((function(){iy=j(Hd()),wg(),bg(),ay=j(Xd()),oy=(0,iy.createContext)(ny()),ry.__className="__reakit-portal",ry.__selector="."+ry.__className})),ly=L((function(){!1,"undefined"!=typeof window&&(sy={get passive(){!0}},window.addEventListener("testPassive",null,sy),window.removeEventListener("testPassive",null,sy)),"undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1)})),cy=L((function(){j(Hd()),cg(),ey(),ty(),j(Xd()),uy(),ly(),ug()}));function fy(e){var t=(0,dy.useMemo)((function(){var t=e;return{get current(){return t},set current(e){t=e,a(e)}}}),[]),n=(0,dy.useState)((function(){return e})),r=m(n,2),i=r[0],a=r[1];return[t,i]}var dy,py=L((function(){dy=j(Hd())}));var hy,vy,my,gy,yy,by,wy,xy,_y,Sy,ky,Ey,Cy,My,Ty,Py,Ay,Dy,Iy,Ry,Oy,Ly,Ny,zy,Fy=L((function(){lm(),nv(),nv(),hy=j(Hd()),vy=j(Xd()),cy(),py(),gy=Zp(my||(my=U(["\n  #pointer-root & {\n    pointer-events: none;\n  }\n  #pointer-root.normal & {\n    pointer-events: auto;\n  }\n"]))),yy={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return am(.6,yy.panel.bg)}}}}}},wy="undefined"!=typeof window?Xp(by||(by=U(["\n  :host {\n    all: initial;\n    color: white;\n    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,\n      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;\n  }\n\n  * {\n    padding: 0;\n    margin: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n    list-style: none;\n  }\n"]))):{},_y=tv.div(xy||(xy=U(["\n  z-index: 51;\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  pointer-events: none;\n"]))),Sy=function(e){return hy.default.createElement(jp,{disableVendorPrefixes:!0,target:e.target},hy.default.createElement(hy.default.Fragment,null,hy.default.createElement(wy,null),e.children))},ky=function(e){var t=(0,hy.useState)(null),n=m(t,2),r=n[0],i=n[1],a=(0,hy.useState)(null),o=m(a,2),s=o[0],u=o[1];(0,hy.useLayoutEffect)((function(){if(r){var e=r.parentNode;if(e){var t=e.shadowRoot?parent.shadowRoot:e.attachShadow({mode:"open"});u(t)}}}),[r]);var l=fy(void 0),c=m(l,2),f=c[0],d=c[1];return s?vy.default.createPortal(hy.default.createElement(Sy,{target:s},hy.default.createElement(hy.default.Fragment,null,hy.default.createElement(_y,{ref:f}),hy.default.createElement(oy.Provider,{value:d},e.children))),s):hy.default.createElement("template",{ref:i,"shadow-root":"open"},e.children)}})),jy=L((function(){Fy(),nv(),Ey={get outlinePanel(){return 1},get propsPanel(){return Ey.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},Cy=yy.panel.bg,Ty=tv.span(My||(My=U(["\n  white-space: nowrap;\n"]))),Ay=tv.span(Py||(Py=U(["\n  white-space: nowrap;\n  color: ",";\n"])),yy.panel.head.punctuation.color),Iy=tv.div(Dy||(Dy=U(["\n  background: ",";\n  flex-grow: 1;\n  overflow-y: scroll;\n  padding: 0;\n"])),Cy),Ry=18,Ly=tv.div(Oy||(Oy=U(["\n  height: ","px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  position: relative;\n  color: #adadadb3;\n  border-bottom: 1px solid rgb(0 0 0 / 13%);\n  background-color: #25272b;\n  font-size: 10px;\n  font-weight: 500;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"])),Ry),Ny=100})),By=L((function(){zy=function(){}}));function Uy(e){return Zy.createElement("svg",I({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Zy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var Zy,Vy,Hy=L((function(){Zy=j(Hd()),Vy=Uy}));function Wy(e){return Gy.createElement("svg",I({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Gy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var Gy,qy,Xy=L((function(){Gy=j(Hd()),qy=Wy}));function Ky(e){return Yy.createElement("svg",I({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Yy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var Yy,Qy,$y=L((function(){Yy=j(Hd()),Qy=Ky}));function Jy(e){return eb.createElement("svg",I({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),eb.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var eb,tb,nb=L((function(){eb=j(Hd()),tb=Jy}));function rb(e){return ib.createElement("svg",I({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ib.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var ib,ab,ob=L((function(){ib=j(Hd()),ab=rb}));function sb(e){return ub.createElement("svg",I({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ub.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var ub,lb,cb=L((function(){ub=j(Hd()),lb=sb}));function fb(e){return db.createElement("svg",I({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),db.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var db,pb,hb,vb,mb,gb,yb,bb,wb,xb,_b,Sb,kb,Eb,Cb,Mb,Tb,Pb,Ab,Db,Ib=L((function(){db=j(Hd()),pb=fb})),Rb=L((function(){Hy(),Xy(),$y(),nb(),ob(),cb(),Ib()})),Ob=L((function(){hb=j(Hd()),nv(),By(),Fy(),Rb(),mb=tv.li(vb||(vb=U(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),yb=tv.div(gb||(gb=U([""]))),wb=tv(yb)(bb||(bb=U(["\n  position: relative;\n  margin-top: 2px;\n  margin-bottom: 2px;\n  margin-left: calc(4px + var(--depth) * 16px);\n  padding-left: 4px;\n  padding-right: 8px;\n  gap: 4px;\n  height: 21px;\n  line-height: 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  pointer-events: none;\n  white-space: nowrap;\n\n  border-radius: 2px;\n  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);\n\n  color: rgba(255, 255, 255, 0.9);\n  background: rgba(40, 43, 47, 0.65);\n  backdrop-filter: blur(14px);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n\n  &.descendant-is-selected {\n    background: rgba(29, 53, 59, 0.7);\n  }\n\n  ",";\n  &:not(.not-selectable):not(.selected):hover {\n    background: rgba(59, 63, 69, 0.9);\n\n    border-bottom: 1px solid rgba(255, 255, 255, 0.24);\n  }\n\n  &:not(.not-selectable):not(.selected):active {\n    background: rgba(82, 88, 96, 0.9);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.24);\n  }\n\n  &.selected {\n    background: rgba(30, 88, 102, 0.7);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),gy),_b=Zp(xb||(xb=U(["\n  font-weight: 500;\n  font-size: 11px;\n  & {\n  }\n"]))),kb=tv.span(Sb||(Sb=U(["\n  ",";\n\n  ",";\n  position: relative;\n  // Compensate for border bottom\n  top: 0.5px;\n  display: flex;\n  height: 20px;\n  align-items: center;\n  box-sizing: border-box;\n"])),_b,gy),Cb=tv.div(Eb||(Eb=U(["\n  font-weight: 500;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  opacity: 0.99;\n"]))),Tb=tv.span(Mb||(Mb=U(["\n  font-size: 9px;\n  position: relative;\n  display: block;\n  transition: transform 0.1s ease-out;\n\n  &:hover {\n    transform: rotate(-20deg);\n  }\n\n  ",".collapsed & {\n    transform: rotate(-90deg);\n\n    &:hover {\n      transform: rotate(-70deg);\n    }\n  }\n"])),mb),Ab=tv.ul(Pb||(Pb=U(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n\n  ",".collapsed & {\n    display: none;\n  }\n"])),mb),Db=function(e){var t=e.label,n=e.children,r=e.depth,i=e.select,a=e.selectionStatus,o=e.labelDecoration,s=e.collapsed,u=void 0!==s&&s,l=e.setIsCollapsed,c=void 0!==n;return hb.default.createElement(mb,{style:{"--depth":r},className:u?"collapsed":""},hb.default.createElement(wb,{className:a,onClick:null!=i?i:zy,"data-header":!0},hb.default.createElement(Cb,null,c?hb.default.createElement(Tb,{onClick:function(e){e.stopPropagation(),e.preventDefault(),null==l||l(!u)}},hb.default.createElement(qy,null)):hb.default.createElement(ab,null)),hb.default.createElement(kb,null,hb.default.createElement("span",null,t)),o),c&&hb.default.createElement(Ab,null,n))}}));var Lb,Nb,zb,Fb,jb,Bb=L((function(){Lb=n(8458),pe(),Ud(),q(),Nb=function(){var e,t=(0,Lb.val)(W().projectsP),n=(null!=(e=(0,Lb.val)(W().atomP.historic.panels.outlinePanel.selection))?e:[]).map((function(e){var n=t[e.projectId];if(n){if("Project"===e.type)return n;if((0,Lb.val)(n.sheetTemplatesP[e.sheetId])){var r=zb(n,e.sheetId);if(r){if("Sheet"===e.type)return r;var i=(0,Lb.val)(r.objectsP[e.objectKey]);return i||void 0}}}}));return jd(n.filter((function(e){return"undefined"!=typeof e})))},zb=function(e,t){var n=W().atomP.historic.projects.stateByProjectId[e.address.projectId],r=(0,Lb.val)(n.stateBySheetId[t].selectedInstanceId),i=(0,Lb.val)(e.sheetTemplatesP[t]);if(i){if(r)return(0,Lb.val)(i.instancesP[r]);var a=(0,Lb.val)(i.instancesP);return a[function(e){return Object.keys(e)}(a)[0]]}}})),Ub=L((function(){q(),Fb=j(Hd()),Ob(),cp(),Bb(),jb=function(e){var t=e.sheetObject,n=e.depth,r=e.overrideLabel,i=Kd((function(){return Nb()}),[]);return Fb.default.createElement(Db,{select:function(){W().transaction((function(e){e.stateEditors.studio.historic.panels.outline.selection.set([t])}))},label:null!=r?r:t.address.objectKey,depth:n,selectionStatus:i.includes(t)?"selected":"not-selected"})}}));function Zb(e){var t,n="namespace"===e.type?"namespace:".concat(e.sheet.address.sheetId,":").concat(e.path.join("/")):"Theatre_Project"===e.type?"project":"Theatre_Sheet"===e.type?"sheetInstance:".concat(e.address.sheetId,":").concat(e.address.sheetInstanceId):"unknown",r="namespace"===e.type?e.sheet.address.projectId:e.address.projectId;return{collapsed:null!=(t=np(W().atomP.ahistoric.projects.stateByProjectId[r].collapsedItemsInOutline[n]))&&t,setCollapsed:(0,Vb.useCallback)((function(e){W().transaction((function(t){t.stateEditors.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:r,isCollapsed:e,itemKey:n})}))}),[n])}}var Vb,Hb=L((function(){Vb=j(Hd()),q(),cp()}));function Wb(e){return Yb.default.createElement(Yb.default.Fragment,null,v(e.namespace.entries()).map((function(t){var n=m(t,2),r=n[0],i=n[1],a=i.object,o=i.nested;return Yb.default.createElement(Gb,{key:r,label:r,object:a,nested:o,visualIndentation:e.visualIndentation,path:e.path,sheet:e.sheet})})))}function Gb(e){var t=e.nested,n=e.label,r=e.object,i=e.sheet,a=Zb({type:"namespace",sheet:i,path:[].concat(v(e.path),[n])}),o=a.collapsed,s=a.setCollapsed,u=t&&Yb.default.createElement(Wb,{namespace:t,path:[].concat(v(e.path),[n]),key:"namespaceTree("+n+")",visualIndentation:e.visualIndentation+1,sheet:i}),l=r&&Yb.default.createElement(jb,{depth:e.visualIndentation,key:"objectPath("+r.address.objectKey+")",sheetObject:r,overrideLabel:n});return Yb.default.createElement(Yb.default.Fragment,{key:"".concat(n," - ").concat(e.visualIndentation)},l,u&&Yb.default.createElement(Db,{selectionStatus:"not-selectable",label:n,key:"baseItem(".concat(n,")"),depth:e.visualIndentation,children:u,collapsed:o,setIsCollapsed:s}))}function qb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xb(t),r=h(n),i=r[0],a=r.slice(1),o=e.get(i);o||(o={nested:void 0,object:void 0,path:v(n)},e.set(i,o)),0===a.length?(console.assert(!o.object,"expect not to have existing object with same name",{existing:o,object:t}),o.object=t):(o.nested||(o.nested=new Map),qb(o.nested,t,a))}function Xb(e){var t=ew.get(e);return t||(t=e.address.objectKey.split(Jb),console.assert(t.length>0,"expected not empty"),ew.set(e,t)),t}var Kb,Yb,Qb,$b,Jb,ew,tw,nw,rw,iw,aw,ow,sw,uw,lw,cw,fw,dw,pw,hw,vw,mw,gw,yw,bw,ww,xw,_w,Sw,kw,Ew,Cw=L((function(){cp(),Kb=n(8458),Yb=j(Hd()),nv(),Ub(),Ob(),Hb(),tv.li(Qb||(Qb=U(["\n  color: ",";\n"])),(function(e){return e.isSelected?"white":"hsl(1, 1%, 80%)"})),$b=function(e){var t=e.sheet,n=e.depth;return Kd((function(){var e=(0,Kb.val)(t.objectsP),r=Object.values(e).filter((function(e){return null!=e})),i=new Map;return r.forEach((function(e){qb(i,e)})),Yb.default.createElement(Wb,{namespace:i,visualIndentation:n,path:[],sheet:t})}),[t,n])},Jb=/\s*\/\s*/g,ew=new WeakMap})),Mw=L((function(){q(),Bb(),cp(),tw=j(Hd()),nv(),Cw(),Ob(),Hb(),rw=tv.div(nw||(nw=U(["\n  display: flex;\n"]))),tv.li(iw||(iw=U(["\n  color: ",";\n"])),(function(e){return e.isSelected?"white":"hsl(1, 1%, 80%)"})),ow=tv.div(aw||(aw=U([""]))),sw=function(e){var t=e.sheet,n=e.depth,r=Zb(t),i=r.collapsed,a=r.setCollapsed,o=(0,tw.useCallback)((function(){W().transaction((function(e){e.stateEditors.studio.historic.panels.outline.selection.set([t])}))}),[t]);return Kd((function(){var e=Nb();return tw.default.createElement(Db,{depth:n,select:o,setIsCollapsed:a,collapsed:i,selectionStatus:e.some((function(e){return e===t}))?"selected":e.some((function(e){return"Theatre_SheetObject"===e.type&&e.sheet===t}))?"descendant-is-selected":"not-selected",label:tw.default.createElement(rw,null,t.address.sheetId,": ",t.address.sheetInstanceId)},tw.default.createElement(ow,null,tw.default.createElement($b,{depth:n+1,sheet:t,key:"objectList"+t.address.sheetInstanceId})))}),[n,i])}})),Tw=L((function(){cp(),uw=n(8458),lw=j(Hd()),nv(),Mw(),tv.div(cw||(cw=U(["\n  display: flex;\n"]))),tv.li(fw||(fw=U(["\n  color: ",";\n"])),(function(e){return e.isSelected?"white":"hsl(1, 1%, 80%)"})),tv.div(dw||(dw=U([""]))),pw=function(e){var t=e.sheetId,n=e.depth,r=e.project;return Kd((function(){var e=(0,uw.val)(r.sheetTemplatesP[t]);if(!e)return lw.default.createElement(lw.default.Fragment,null);var i=(0,uw.val)(e.instancesP);return lw.default.createElement(lw.default.Fragment,null,Object.entries(i).map((function(e){var t=m(e,2),r=(t[0],t[1]);return lw.default.createElement(sw,{key:r.address.sheetInstanceId,sheet:r,depth:n})})))}),[n,t,r])}})),Pw=L((function(){Bb(),cp(),hw=j(Hd()),Tw(),vw=function(e){var t=e.project,n=e.depth;return Kd((function(){if(!t)return null;var e=function(e){return Object.keys((0,Lb.val)(e.sheetTemplatesP))}(t);return hw.default.createElement(hw.default.Fragment,null,e.map((function(e){return hw.default.createElement(pw,{depth:n,sheetId:e,key:"sheet-".concat(e),project:t})})))}),[t,n])}})),Aw=L((function(){mw=j(Hd()),Ob(),Pw(),q(),cp(),Bb(),gw=n(8458),nv(),Hb(),bw=tv.div(yw||(yw=U(["\n  color: #ff6363;\n  margin-left: 11px;\n  background: #4c282d;\n  padding: 2px 8px;\n  border-radius: 2px;\n  font-size: 10px;\n  box-shadow: 0 2px 8px -4px black;\n"]))),ww=function(e){var t=e.depth,n=e.project,r=Kd((function(){return Nb()}),[]),i=Kd((function(){var e=n.address.projectId,t=(0,gw.val)(W().atomP.ephemeral.coreByProject[e].loadingState);return"browserStateIsNotBasedOnDiskState"===(null==t?void 0:t.type)}),[n]),a=(0,mw.useCallback)((function(){W().transaction((function(e){e.stateEditors.studio.historic.panels.outline.selection.set([n])}))}),[n]),o=Zb(n),s=o.collapsed,u=o.setCollapsed;return mw.default.createElement(Db,{depth:t,label:n.address.projectId,setIsCollapsed:u,collapsed:s,labelDecoration:i?mw.default.createElement(bw,null,"Has Conflicts"):null,children:mw.default.createElement(vw,{project:n,depth:t+1}),selectionStatus:r.includes(n)?"selected":r.some((function(e){return e.address.projectId===n.address.projectId}))?"descendant-is-selected":"not-selected",select:a})}})),Dw=L((function(){xw=n(8458),cp(),q(),_w=j(Hd()),nv(),Aw(),kw=tv.ul(Sw||(Sw=U(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  padding-right: 4px;\n"]))),Ew=function(e){return Kd((function(){var e=(0,xw.val)(W().projectsP);return _w.default.createElement(kw,null,Object.keys(e).map((function(t){var n=e[t];return _w.default.createElement(ww,{depth:0,project:n,key:"projectListItem-".concat(t)})})))}),[])}}));function Iw(e){var t=(0,Rw.useState)(!1),n=m(t,2),r=n[0],i=n[1];return(0,Rw.useEffect)((function(){var t=function(t){var n=r?200:50,a="left"===e?t.x<n:t.x>window.innerWidth-n;a&&(a=t.y>56),i(!!a)};document.addEventListener("mousemove",t);var n=function(){i(!1)};return document.addEventListener("mouseleave",n),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseleave",n)}}),[r]),r}var Rw,Ow,Lw,Nw,zw,Fw,jw,Bw,Uw,Zw,Vw,Hw,Ww,Gw=L((function(){Rw=j(Hd())})),qw=L((function(){Ow=j(Hd()),nv(),jy(),Dw(),cp(),q(),Gw(),Lw=n(8458),Fy(),Nw="44px",Fw=tv.div(zw||(zw=U(["\n  ",";\n  background-color: transparent;\n  position: absolute;\n  left: 8px;\n  z-index: ",";\n\n  top: calc("," + 8px);\n  height: fit-content;\n  max-height: calc(100% - ",");\n  overflow-y: scroll;\n  overflow-x: hidden;\n  padding: 0;\n  user-select: none;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n\n  display: ",";\n\n  &:hover {\n    display: block;\n  }\n\n  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list\n  &::after {\n    content: '';\n    display: block;\n    height: 20px;\n  }\n"])),gy,Ey.outlinePanel,Nw,Nw,(function(e){return e.pin?"block":"none"})),jw=function(){var e,t=null==(e=np(W().atomP.ahistoric.pinOutline))||e,n=np(Zw),r=Iw("left");return(0,Ow.useLayoutEffect)((function(){Bw.set(r)}),[r]),(0,Ow.useEffect)((function(){return function(){Uw.set(!1),Bw.set(!1)}}),[]),Ow.default.createElement(Fw,{pin:t||n,onMouseEnter:function(){Uw.set(!0)},onMouseLeave:function(){Uw.set(!1)}},Ow.default.createElement(Ew,null))},Bw=new Lw.Atom(!1),Uw=new Lw.Atom(!1),Zw=(0,Lw.prism)((function(){var e=(0,Lw.val)(Uw.prism),t=(0,Lw.val)(Bw.prism);return e||t}))})),Xw=L((function(){nv(),Hw=tv.input.attrs({type:"checkbox"})(Vw||(Vw=U(["\n  outline: none;\n"]))),Ww=Hw}));function Kw(e){var t=e.propConfig,n=e.editingTools,r=e.value,i=e.autoFocus,a=(0,Yw.useCallback)((function(e){n.permanentlySetValue(!!e.target.checked)}),[t,n]);return Yw.default.createElement($w,{checked:r,onChange:a,autoFocus:i})}var Yw,Qw,$w,Jw,ex=L((function(){Yw=j(Hd()),nv(),Xw(),$w=tv(Ww)(Qw||(Qw=U(["\n  margin-left: 6px;\n\n  :focus {\n    outline: 1px solid #555;\n  }\n"]))),Jw=Kw}));function tx(e){return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}var nx=L((function(){}));function rx(e,t,n){(0,ix.useEffect)((function(){if(e&&!1!==n){var r=Array.isArray(e)?e.filter((function(e){return e})):[e],i=function(e){r.every((function(t){return!e.composedPath().includes(t)}))&&t(e)};return window.addEventListener("mousedown",i,{capture:!0,passive:!1}),function(){window.removeEventListener("mousedown",i,{capture:!0,passive:!1})}}}),[e,n])}var ix,ax,ox,sx,ux,lx,cx,fx,dx,px,hx=L((function(){ix=j(Hd())})),vx=L((function(){ax=j(Hd()),nv(),"pointer-root",ox="--lockedCursor",ux=tv.div(sx||(sx=U(["\n  pointer-events: auto;\n  &.normal {\n    pointer-events: none;\n  }\n"]))),cx=tv.div(lx||(lx=U(["\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n\n  #pointer-root:not(.normal) > & {\n    pointer-events: auto;\n  }\n"]))),fx=(0,ax.createContext)({}),dx=function(e,t,n){var r=(0,ax.useContext)(fx);(0,ax.useLayoutEffect)((function(){if(e)return r.getLock(t,n)}),[e,t,n])},px=function(e){var t,n,r,i,a=(0,ax.useState)([]),o=m(a,2),s=o[0],u=o[1],l=(0,ax.useMemo)((function(){return{getLock:function(e,t){var n={className:e,cursor:t};return u((function(e){return[].concat(v(e),[n])})),function(){u((function(e){return e.filter((function(e){return e!==n}))}))}}}}),[]),c=null!=(n=null==(t=s[0])?void 0:t.cursor)?n:"";return ax.default.createElement(fx.Provider,{value:l},ax.default.createElement(ux,{id:"pointer-root",className:(null!=(i=null==(r=s[0])?void 0:r.className)?i:"normal")+" "+e.className},ax.default.createElement(cx,{style:p({cursor:c},ox,c)},e.children)))}}));function mx(e){return yx.default.createElement(bx.Provider,{value:e.logger},e.children)}function gx(e,t){var n=(0,yx.useContext)(bx);return(0,yx.useMemo)((function(){return e?n.named(e,t):n}),[n,e,t])}var yx,bx,wx=L((function(){yx=j(Hd()),bx=yx.default.createContext(null)}));function xx(e){var t=function(){var e=gx("PointerCapturing"),t=Sx.default.useRef(null),n=function(){return null!=t.current};return function(r){var i,a=function(e){return i=e,t.current=e,e};return{capturing:{capturePointer:function(n){if(e._debug("Capturing pointer",{forDebugName:r,reason:n}),null!=t.current)throw new Error('"'.concat(r,'" attempted capturing pointer for "').concat(n,'" while already captured by "').concat(t.current.debugOwnerName,'" for "').concat(t.current.debugReason,'"'));var i=a({debugOwnerName:r,debugReason:n});return{isCapturing:function(){return i===t.current},release:function(){return i===t.current&&(e._debug("Releasing pointer",{forDebugName:r,reason:n}),a(null),!0)}}},isPointerBeingCaptured:n},forceRelease:function(){i&&t.current===i&&(e._debug("Force releasing pointer",{localCapture:i}),a(null))}}}}();return Sx.default.createElement(kx.Provider,{value:t},Sx.default.createElement(Ex,{children:e.children}))}function _x(e){var t=(0,Sx.useContext)(kx),n=(0,Sx.useMemo)((function(){return t(e)}),[e,t]);return(0,Sx.useEffect)((function(){return function(){n.forceRelease()}}),[n]),n.capturing}var Sx,kx,Ex,Cx,Mx=L((function(){Sx=j(Hd()),wx(),kx=Sx.default.createContext(null),Ex=Sx.default.memo((function(e){var t=e.children;return Sx.default.createElement(Sx.default.Fragment,null,t)}))})),Tx=L((function(){Cx="undefined"!=typeof window&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}));function Px(e,t){var n=(0,Ax.useRef)(t);n.current=t;var r=t.shouldPointerLock&&!Cx,i=(0,Ax.useRef)({domDragStarted:!1}),a=_x("useDrag for ".concat(t.debugName)).capturePointer,o=(0,Ax.useRef)({onDrag:zy,onDragEnd:zy,onClick:zy}),s=(0,Ax.useRef)(),u=fy(!1),l=m(u,2),c=l[0],f=l[1];return(0,Ax.useLayoutEffect)((function(){if(e){var u=function(){var e=i.current.domDragStarted&&i.current.detection.detected;c.current!==e&&(c.current=e)},l=function(t){if(i.current.domDragStarted){var n=i.current;if(!function(e,t){return(!t.detection.detected||t.detection.detected&&t.detection.dragEventCount<3)&&(Math.abs(e.movementX)>Ix||Math.abs(e.movementY)>Ix)}(t,n)&&(n.detection.detected||(n.detection.totalDistanceMoved+=Math.abs(t.movementY)+Math.abs(t.movementX),n.detection.totalDistanceMoved>Dx&&(r&&e.requestPointerLock(),n.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},u())),n.detection.detected)){n.detection.dragEventCount+=1;var a=n.detection.dragMovement;if(r)a.x+=t.movementX,a.y+=t.movementY;else{var s=n.startPos;a.x=t.screenX-s.x,a.y=t.screenY-s.y}o.current.onDrag(a.x,a.y,t,t.movementX,t.movementY)}}},f=function(e){if(d(),i.current.domDragStarted){var n=i.current.detection.detected;i.current={domDragStarted:!1},t.shouldPointerLock&&!Cx&&document.exitPointerLock(),o.current.onDragEnd(n),window.focus(),n||o.current.onClick(e),u()}},d=function(){var e;null==(e=s.current)||e.release(),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",f)},p=function(e){n.current.disabled||i.current.domDragStarted&&i.current.detection.detected&&(n.current.dontBlockMouseDown||(e.stopPropagation(),e.preventDefault()),i.current.detection={detected:!1,totalDistanceMoved:0},u())},h=function(e){var t,r,c,d;null==(t=s.current)||t.release();var p=n.current;if(!0!==p.disabled&&(null!=(r=p.buttons)?r:[0]).includes(e.button)){var h=p.onDragStart(e);!1!==h&&(o.current.onDrag=h.onDrag,o.current.onDragEnd=null!=(c=h.onDragEnd)?c:zy,o.current.onClick=null!=(d=h.onClick)?d:zy,s.current=a("Drag start"),p.dontBlockMouseDown||(e.stopPropagation(),e.preventDefault()),i.current={domDragStarted:!0,startPos:{x:e.screenX,y:e.screenY},detection:{detected:!1,totalDistanceMoved:0}},u(),document.addEventListener("mousemove",l),document.addEventListener("mouseup",f))}},v=function(e){h(e)};return e.addEventListener("mousedown",v),e.addEventListener("click",p),function(){var t,n;d(),e.removeEventListener("mousedown",v),e.removeEventListener("click",p),i.current.domDragStarted&&(null==(n=(t=o.current).onDragEnd)||n.call(t,i.current.detection.detected)),i.current={domDragStarted:!1},u()}}}),[e]),dx(f&&!!t.lockCSSCursorTo,"dragging",t.lockCSSCursorTo),[f]}var Ax,Dx,Ix,Rx=L((function(){Ax=j(Hd()),vx(),Mx(),By(),Tx(),py(),Dx=3,Ix=100}));var Ox,Lx,Nx,zx,Fx,jx,Bx,Ux,Zx,Vx,Hx,Wx,Gx,qx=L((function(){Ud(),Ox=j(Hd()),Lx=j(Hd()),Nx=j(Hd()),nv(),nx(),py(),hx(),Rx(),Fx=tv.div(zx||(zx=U(["\n  height: 100%;\n  width: 100%;\n  position: relative;\n  z-index: 0;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n\n  &:after {\n    position: absolute;\n    inset: 1px 0 2px;\n    display: block;\n    content: ' ';\n    background-color: transparent;\n    border: 1px solid transparent;\n    z-index: -2;\n    box-sizing: border-box;\n    border-radius: 1px;\n  }\n\n  &:hover,\n  &.dragging,\n  &.editingViaKeyboard {\n    &:after {\n      background-color: #10101042;\n      border-color: #00000059;\n    }\n  }\n"]))),Bx=tv.input(jx||(jx=U(["\n  background: transparent;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.9);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  cursor: ew-resize;\n  text-align: left;\n  width: 100%;\n  height: calc(100% - 4px);\n  border-radius: 2px;\n\n  &:focus {\n    cursor: text;\n  }\n"]))),Zx=tv.div(Ux||(Ux=U(["\n  position: absolute;\n  inset: 3px 2px 4px;\n  transform: scale(var(--percentage), 1);\n  transform-origin: top left;\n  background-color: #2d5561;\n  z-index: -1;\n  border-radius: 2px;\n  pointer-events: none;\n\n  ",".dragging &, ",".noFocus:hover & {\n    background-color: #338198;\n  }\n"])),Fx,Fx),Hx=tv.div(Vx||(Vx=U(["\n  display: contents;\n"]))),Wx=function(e){return!0},Gx=function(e){var t,n=fy({mode:"noFocus"}),r=m(n,1)[0],i=null!=(t=e.isValid)?t:Wx,a=(0,Nx.useRef)(e);a.current=e;var o=(0,Nx.useRef)(null);rx(o.current,(function(){o.current.blur()}),"editingViaKeyboard"===r.current.mode);var s=(0,Nx.useRef)(null),u=(0,Nx.useMemo)((function(){var t,n=function(){var e=r.current,t=parseFloat(e.currentEditedValueInString);isFinite(t)&&i(t)&&e.valueBeforeEditing!==t?a.current.permanentlySetValue(t):a.current.discardTemporaryValue()},u=function(){var e=a.current.value;r.current={mode:"editingViaKeyboard",currentEditedValueInString:String(e),valueBeforeEditing:e},setTimeout((function(){o.current.focus(),o.current.setSelectionRange(0,100)}))};return{inputChange:function(e){var t=e.target.value,n=r.current;r.current=R(I({},n),{currentEditedValueInString:t});var o=parseFloat(t);!isFinite(o)||!i(o)||a.current.temporarilySetValue(o)},onBlur:function(){"editingViaKeyboard"===r.current.mode&&(n(),r.current={mode:"noFocus"}),e.onBlur&&e.onBlur()},transitionToDraggingMode:function(){var n,i=a.current.value;t=null==(n=o.current)?void 0:n.getBoundingClientRect().width,r.current={mode:"dragging"};var u=i,l=i;return s.current=document.body.style.cursor,{onDrag:function(n,r,i,o){var s=i.altKey?o/10:o,u=l+e.nudge({deltaX:s,deltaFraction:s/t,magnitude:1});l=e.range?Cs(u,e.range[0],e.range[1]):u,a.current.temporarilySetValue(l)},onDragEnd:function(e){e?(u===l?a.current.discardTemporaryValue():a.current.permanentlySetValue(l),r.current={mode:"noFocus"}):(a.current.discardTemporaryValue(),r.current={mode:"noFocus"})},onClick:function(){o.current.focus(),o.current.setSelectionRange(0,100)}}},onInputKeyDown:function(e){"Escape"===e.key?(a.current.discardTemporaryValue(),r.current={mode:"noFocus"},o.current.blur()):("Enter"===e.key||"Tab"===e.key)&&(n(),o.current.blur())},onClick:function(e){"noFocus"===r.current.mode&&(o.current.focus(),e.preventDefault()),e.stopPropagation()},onFocus:function(){"noFocus"===r.current.mode?u():r.current.mode}}}),[]);(0,Ox.useEffect)((function(){return function(){u.onBlur()}}),[]);var l="editingViaKeyboard"!==r.current.mode?function(e){return isNaN(e)?"NaN":jf(e)?e.toFixed(0):xd(e,3).toString()}(e.value):r.current.currentEditedValueInString;"number"==typeof l&&isNaN(l)&&(l="NaN");var c=[o];e.inputRef&&c.push(e.inputRef);var f=Nx.default.createElement(Bx,{key:"input",type:"text",onChange:u.inputChange,value:l,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:tx(c),onMouseDown:function(e){e.stopPropagation()},onDoubleClick:function(e){e.preventDefault(),e.stopPropagation()},autoFocus:e.autoFocus}),d=e.range,p=parseFloat(l),h=d?Nx.default.createElement(Zx,{style:{"--percentage":Cs((p-d[0])/(d[1]-d[0]),0,1)}}):null,v=(0,Lx.useState)(null),g=m(v,2),y=g[0],b=g[1];return Px(y,{debugName:"form/BasicNumberInput",onDragStart:u.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:"editingViaKeyboard"===r.current.mode}),Nx.default.createElement(Fx,{className:e.className+" "+r.current.mode},Nx.default.createElement(Hx,{ref:b},f),h)}}));function Xx(e){var t=e.propConfig,n=e.editingTools,r=e.value,i=e.autoFocus,a=(0,Kx.useCallback)((function(e){return t.nudgeFn(R(I({},e),{config:t}))}),[t]);return Kx.default.createElement(Gx,{value:r,temporarilySetValue:n.temporarilySetValue,discardTemporaryValue:n.discardTemporaryValue,permanentlySetValue:n.permanentlySetValue,range:t.range,nudge:a,autoFocus:i})}var Kx,Yx,Qx=L((function(){qx(),Kx=j(Hd()),Yx=Xx}));function $x(e){var t=e.value,n=e.onChange,r=e.options,i=e.autoFocus,a=(0,Jx.useCallback)((function(e){n(String(e.target.value))}),[n]);return Jx.default.createElement(t_,{role:"radiogroup"},Object.keys(r).map((function(e,n){return Jx.default.createElement(r_,{key:"label-"+n,"data-checked":t===e},r[e],Jx.default.createElement(a_,{type:"radio",checked:t===e,value:e,onChange:a,name:"switchbox",autoFocus:i}))})))}var Jx,e_,t_,n_,r_,i_,a_,o_,s_,u_,l_,c_=L((function(){lm(),Jx=j(Hd()),nv(),t_=tv.form(e_||(e_=U(["\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  vertical-align: middle;\n  justify-content: stretch;\n  height: 24px;\n  width: 100%;\n"]))),r_=tv.label(n_||(n_=U(["\n  padding: 0 0.5em;\n  background: transparent;\n  /* background: #373748; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n  color: #a7a7a7;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n  border-right-width: 0px;\n\n  & + &:last-child {\n    border-right-width: 1px;\n  }\n\n  ",":hover > & {\n    border-color: #1c2123;\n    /* background-color: #373748; */\n    /* color: ","; */\n  }\n\n  &&:hover {\n    background-color: #464654;\n  }\n\n  &&[data-checked='true'] {\n    color: white;\n    background: #3f3f4c;\n  }\n"])),t_,im(.1,"white")),a_=tv.input(i_||(i_=U(["\n  position: absolute;\n  opacity: 0;\n  pointer-events: none;\n  width: 0;\n  height: 0;\n"]))),o_=$x})),f_=L((function(){})),d_=L((function(){s_=j(Hd()),u_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l_=s_.default.createContext&&s_.default.createContext(u_)}));function p_(e){return e&&e.map((function(e,t){return m_.default.createElement(e.tag,g_({key:t},e.attr),p_(e.child))}))}function h_(e){return function(t){return m_.default.createElement(v_,g_({attr:g_({},e.attr)},t),p_(e.child))}}function v_(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=y_(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),m_.default.createElement("svg",g_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:g_(g_({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&m_.default.createElement("title",null,a),e.children)};return void 0!==l_?m_.default.createElement(l_.Consumer,null,(function(e){return t(e)})):t(u_)}var m_,g_,y_,b_=L((function(){m_=j(Hd()),d_(),g_=function(){return g_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},g_.apply(this,arguments)},y_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}})),w_=L((function(){f_(),b_(),d_()})),x_=L((function(){w_()})),__=L((function(){w_()}));function S_(e){return h_({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var k_=L((function(){w_()})),E_=L((function(){w_()})),C_=L((function(){w_()}));function M_(e){return h_({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(e)}function T_(e){return h_({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(e)}var P_=L((function(){w_()})),A_=L((function(){w_()})),D_=L((function(){w_()})),I_=L((function(){w_()})),R_=L((function(){w_()})),O_=L((function(){w_()})),L_=L((function(){w_()})),N_=L((function(){w_()})),z_=L((function(){w_()})),F_=L((function(){w_()}));function j_(e){return h_({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}var B_=L((function(){w_()})),U_=L((function(){w_()})),Z_=L((function(){w_()})),V_=L((function(){w_()}));function H_(e){return h_({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(e)}var W_=L((function(){w_()}));function G_(e){return h_({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(e)}var q_=L((function(){w_()})),X_=L((function(){x_(),__(),k_(),E_(),C_(),P_(),A_(),D_(),I_(),R_(),O_(),L_(),N_(),z_(),F_(),B_(),U_(),Z_(),V_(),W_(),q_()}));function K_(e){var t=e.value,n=e.onChange,r=e.options,i=e.className,a=e.autoFocus,o=(0,Y_.useCallback)((function(e){n(String(e.target.value))}),[n]);return Y_.default.createElement($_,null,Y_.default.createElement(nS,{className:i,value:t,onChange:o,autoFocus:a},Object.keys(r).map((function(e,t){return Y_.default.createElement("option",{key:"option-"+t,value:e},r[e])}))),Y_.default.createElement(eS,null,Y_.default.createElement(H_,null)))}var Y_,Q_,$_,J_,eS,tS,nS,rS,iS=L((function(){Y_=j(Hd()),nv(),X_(),$_=tv.div(Q_||(Q_=U(["\n  width: 100%;\n  position: relative;\n"]))),eS=tv.div(J_||(J_=U(["\n  position: absolute;\n  right: 0px;\n  top: 0;\n  bottom: 0;\n  width: 1.5em;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  color: #6b7280;\n  pointer-events: none;\n"]))),nS=tv.select(tS||(tS=U(["\n  appearance: none;\n  background-color: transparent;\n  box-sizing: border-box;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.85);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  text-align: left;\n  width: 100%;\n  border-radius: 2px;\n  /*\n  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.\n  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.\n  */\n  height: 26px /* calc(100% - 4px); */;\n\n  @supports (-moz-appearance: none) {\n    /* Ugly hack to remove the extra left padding that shows up only in Firefox */\n    text-indent: -2px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n"]))),rS=K_}));function aS(e){var t=e.propConfig,n=e.editingTools,r=e.value,i=e.autoFocus,a=(0,oS.useCallback)((function(e){n.permanentlySetValue(e)}),[t,n]);return"menu"===t.as?oS.default.createElement(rS,{value:r,onChange:a,options:t.valuesAndLabels,autoFocus:i}):oS.default.createElement(o_,{value:r,onChange:a,options:t.valuesAndLabels,autoFocus:i})}var oS,sS,uS,lS,cS,fS,dS,pS,hS=L((function(){oS=j(Hd()),c_(),iS(),sS=aS})),vS=L((function(){nv(),uS=j(Hd()),lS=j(Hd()),nx(),py(),hx(),fS=tv.input.attrs({type:"text"})(cS||(cS=U(["\n  background: transparent;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.9);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  cursor: text;\n  text-align: left;\n  width: 100%;\n  height: calc(100% - 4px);\n  border-radius: 2px;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n\n  &:hover,\n  &:focus {\n    cursor: text;\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n\n  &.invalid {\n    border-color: red;\n  }\n"]))),dS=function(e){return!0},pS=function(e){var t,n,r=fy({mode:"noFocus"}),i=m(r,1)[0],a=null!=(t=e.isValid)?t:dS,o=(0,lS.useRef)(e);o.current=e;var s=(0,lS.useRef)(null);rx(s.current,(function(){s.current.blur()}),"editingViaKeyboard"===i.current.mode);var u=(0,lS.useMemo)((function(){var e=function(){var e=i.current,t=e.currentEditedValueInString;a(t)?e.valueBeforeEditing===t?o.current.discardTemporaryValue():o.current.permanentlySetValue(t):o.current.discardTemporaryValue()},t=function(){var e=o.current.value;i.current={mode:"editingViaKeyboard",currentEditedValueInString:String(e),valueBeforeEditing:e},setTimeout((function(){s.current.focus()}))};return{inputChange:function(e){var t=e.target.value,n=i.current;i.current=R(I({},n),{currentEditedValueInString:t}),a(t)&&o.current.temporarilySetValue(t)},onBlur:function(){var t,n;"editingViaKeyboard"===i.current.mode&&(e(),i.current={mode:"noFocus"}),null==(n=(t=o.current).onBlur)||n.call(t)},onInputKeyDown:function(t){"Escape"===t.key?(o.current.discardTemporaryValue(),i.current={mode:"noFocus"},s.current.blur()):("Enter"===t.key||"Tab"===t.key)&&(e(),s.current.blur())},onClick:function(e){"noFocus"===i.current.mode&&(s.current.focus(),e.preventDefault()),e.stopPropagation()},onFocus:function(){"noFocus"===i.current.mode?t():i.current.mode}}}),[]);(0,uS.useEffect)((function(){return function(){u.onBlur()}}),[]);var l="editingViaKeyboard"!==i.current.mode?e.value:i.current.currentEditedValueInString,c=[s];return e.inputRef&&c.push(e.inputRef),lS.default.createElement(fS,{key:"input",type:"text",className:"".concat(null!=(n=e.className)?n:""," ").concat(a(l)?"":"invalid"),onChange:u.inputChange,value:l,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:tx(c),onMouseDown:function(e){e.stopPropagation()},onDoubleClick:function(e){e.preventDefault(),e.stopPropagation()},autoFocus:e.autoFocus})}}));function mS(e){var t=e.editingTools,n=e.value,r=e.autoFocus;return gS.default.createElement(pS,{value:n,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,autoFocus:r})}var gS,yS,bS=L((function(){gS=j(Hd()),vS(),yS=mS}));function wS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.removeAlphaIfOpaque,r=void 0!==n&&n,i=(255*e.a|256).toString(16).slice(1),a=(255*e.r|256).toString(16).slice(1)+(255*e.g|256).toString(16).slice(1)+(255*e.b|256).toString(16).slice(1)+(r&&"ff"===i?"":i);return"#".concat(a)}function xS(e){return R(I({},e),{toString:function(){return wS(this,{removeAlphaIfOpaque:!0})}})}var _S,SS=L((function(){_S=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i}));function kS(e){var t=(0,ES.useRef)(e),n=(0,ES.useRef)((function(e){t.current&&t.current(e)}));return t.current=e,n.current}var ES,CS,MS,TS,PS,AS,DS,IS,RS,OS,LS,NS,zS,FS,jS,BS,US,ZS,VS,HS,WS,GS,qS,XS,KS,YS,QS,$S,JS,ek,tk,nk,rk,ik,ak,ok,sk,uk,lk,ck,fk,dk,pk,hk,vk,mk,gk,yk,bk,wk,xk,_k,Sk,kk,Ek=L((function(){ES=j(Hd())})),Ck=L((function(){CS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e>n?n:e<t?t:e}})),Mk=L((function(){MS=j(Hd()),TS=(0,MS.createContext)(void 0),PS=function(e){var t=e.children,n=(0,MS.useState)(!1),r=m(n,2),i=r[0],a=r[1];return MS.default.createElement(TS.Provider,{value:{editing:i,setEditing:a}},t)},AS=function(){return(0,MS.useContext)(TS)}})),Tk=L((function(){DS=j(Hd()),Ek(),Ck(),nv(),Mk(),IS=function(e){return"touches"in e},RS=function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]},OS=function(e){return e&&e.ownerDocument.defaultView||self},LS=function(e,t,n){var r=e.getBoundingClientRect(),i=IS(t)?RS(t.touches,n):t;return{left:CS((i.pageX-(r.left+OS(e).pageXOffset))/r.width),top:CS((i.pageY-(r.top+OS(e).pageYOffset))/r.height)}},NS=function(e){!IS(e)&&e.preventDefault()},zS=function(e,t){return t&&!IS(e)},jS=tv.div(FS||(FS=U(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: inherit;\n  outline: none;\n  /* Don't trigger the default scrolling behavior when the event is originating from this element */\n  touch-action: none;\n"]))),BS=function(e){var t=e,n=t.onMove,r=t.onKey,i=O(t,["onMove","onKey"]),a=(0,DS.useRef)(null),o=kS(n),s=kS(r),u=(0,DS.useRef)(null),l=(0,DS.useRef)(!1),c=AS().setEditing,f=(0,DS.useMemo)((function(){var e=function(e){NS(e),(IS(e)?e.touches.length>0:e.buttons>0)&&a.current?o(LS(a.current,e,u.current)):(c(!1),n(!1))},t=function(e){c(!1),n(!1)};function n(n){var r=l.current,i=a.current,o=OS(i),s=n?o.addEventListener:o.removeEventListener;s(r?"touchmove":"mousemove",e),s(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=a.current;if(r&&(NS(t),!zS(t,l.current)&&r)){if(IS(t)){l.current=!0;var i=t.changedTouches||[];i.length&&(u.current=i[0].identifier)}r.focus(),c(!0),o(LS(r,t,u.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[s,o]),d=m(f,3),p=d[0],h=d[1],v=d[2];return(0,DS.useEffect)((function(){return v}),[v]),DS.default.createElement(jS,R(I({},i),{onTouchStart:p,onMouseDown:p,ref:a,onKeyDown:h,tabIndex:0,role:"slider"}))},US=DS.default.memo(BS)})),Pk=L((function(){ZS=j(Hd()),nv(),Tk(),HS=tv(US)(VS||(VS=U([""]))),GS=tv.div(WS||(WS=U(["\n  position: absolute;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 16px;\n  height: 16px;\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n  border: 1px solid #ffffff00;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n\n  ",":focus & {\n    transform: translate(-50%, -50%) scale(1.1);\n  }\n"])),HS),XS=tv.div(qS||(qS=U(["\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  border-radius: inherit;\n"]))),KS=function(e){var t=e.className,n=e.color,r=e.left,i=e.top,a={top:"".concat(100*(void 0===i?.5:i),"%"),left:"".concat(100*r,"%")};return ZS.default.createElement(GS,{style:a,className:t},ZS.default.createElement(XS,{style:{backgroundColor:n}}))}})),Ak=L((function(){YS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(10,t);return Math.round(n*e)/n}})),Dk=L((function(){Ak(),{grad:.9,turn:360,rad:360/(2*Math.PI)},QS=function(e){var t=e.h,n=e.s,r=e.v,i=e.a,a=(200-n)*r/100;return{h:YS(t),s:YS(a>0&&a<200?n*r/100/(a<=100?a:200-a)*100:0),l:YS(a/2),a:YS(i,2)}},$S=function(e){var t=QS(e),n=t.h,r=t.s,i=t.l;return"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")},JS=function(e){var t=QS(e),n=t.h,r=t.s,i=t.l,a=t.a;return"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(a,")")},ek=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),u=r*(1-(1-t+a)*n),l=a%6;return{r:YS(255*[r,s,o,o,u,r][l]),g:YS(255*[u,r,r,s,o,o][l]),b:YS(255*[o,o,u,r,r,s][l]),a:YS(i,2)}},tk=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:YS(60*(s<0?s+6:s)),s:YS(a?o/a*100:0),v:YS(a/255*100),a:i}}})),Ik=L((function(){nk=j(Hd()),Tk(),Pk(),Dk(),Ck(),Ak(),nv(),ik=tv.div(rk||(rk=U(["\n  position: relative;\n  height: 16px;\n  border-radius: 2px;\n\n  background: linear-gradient(\n    to right,\n    #f00 0%,\n    #ff0 17%,\n    #0f0 33%,\n    #0ff 50%,\n    #00f 67%,\n    #f0f 83%,\n    #f00 100%\n  );\n"]))),ok=tv(KS)(ak||(ak=U(["\n  z-index: 2;\n"]))),sk=function(e){var t=e.className,n=e.hue,r=e.onChange;return nk.default.createElement(ik,{className:t},nk.default.createElement(US,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:CS(n+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":YS(n)},nk.default.createElement(ok,{left:n/360,color:$S({h:n,s:100,v:100,a:1})})))},uk=nk.default.memo(sk)})),Rk=L((function(){lk=j(Hd()),Tk(),Pk(),Dk(),Ck(),Ak(),nv(),fk=tv.div(ck||(ck=U(["\n  position: relative;\n  flex-grow: 1;\n  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */\n  border-bottom: 12px solid #000;\n  border-radius: 2px;\n  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),\n    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n\n  // Improve elements rendering on light backgrounds\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n"]))),pk=tv(KS)(dk||(dk=U(["\n  z-index: 3;\n"]))),hk=function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:$S({h:t.h,s:100,v:100,a:1})};return lk.default.createElement(fk,{style:r},lk.default.createElement(US,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:CS(t.s+100*e.left,0,100),v:CS(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation ".concat(YS(t.s),"%, Brightness ").concat(YS(t.v),"%")},lk.default.createElement(pk,{top:1-t.v/100,left:t.s/100,color:$S(t)})))},vk=lk.default.memo(hk)})),Ok=L((function(){mk=j(Hd()),Tk(),Pk(),Dk(),Ck(),Ak(),nv(),yk=tv.div(gk||(gk=U(['\n  position: relative;\n  height: 16px;\n  border-radius: 2px;\n  // Checkerboard\n  background-color: #fff;\n  background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\');\n']))),wk=tv.div.attrs((function(e){var t=e.colorFrom,n=e.colorTo;return{style:{backgroundImage:"linear-gradient(90deg, ".concat(t,", ").concat(n,")")}}}))(bk||(bk=U(["\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  border-radius: inherit;\n\n  // Improve rendering on light backgrounds\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n"]))),_k=tv(KS)(xk||(xk=U(['\n  // Checkerboard\n  background-color: #fff;\n  background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\');\n']))),Sk=function(e){var t=e.className,n=e.hsva,r=e.onChange,i=JS(Object.assign({},n,{a:0})),a=JS(Object.assign({},n,{a:1}));return mk.default.createElement(yk,{className:t},mk.default.createElement(wk,{colorFrom:i,colorTo:a}),mk.default.createElement(US,{onMove:function(e){r({a:e.left})},onKey:function(e){r({a:CS(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":"".concat(YS(100*n.a),"%")},mk.default.createElement(_k,{left:n.a,color:JS(n)})))}})),Lk=L((function(){kk=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}}));var Nk,zk,Fk,jk,Bk,Uk,Zk,Vk,Hk,Wk,Gk,qk,Xk,Kk,Yk,Qk,$k=L((function(){Nk=j(Hd()),Lk(),Ek(),Mk()})),Jk=L((function(){zk=j(Hd()),Ik(),Rk(),Ok(),$k(),nv(),jk=tv.div(Fk||(Fk=U(["\n  position: relative;\n  display: flex;\n  gap: 4px;\n  flex-direction: column;\n  width: 200px;\n  height: 200px;\n  user-select: none;\n  cursor: default;\n"]))),Bk=function(e){var t=e,n=(t.className,t.colorModel),r=t.color,i=void 0===r?n.defaultColor:r,a=t.temporarilySetValue,o=t.permanentlySetValue,s=t.discardTemporaryValue,u=O(t,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]),l=function(e,t,n,r){var i=AS().editing,a=(0,Nk.useState)(t),o=m(a,2),s=o[0],u=o[1],l=kS(n),c=kS(r),f=i?s:t,d=(0,Nk.useState)((function(){return e.toHsva(f)})),p=m(d,2),h=p[0],v=p[1],g=(0,Nk.useRef)({color:f,hsva:h}),y=(0,Nk.useRef)({color:f,hsva:h});(0,Nk.useEffect)((function(){i&&u(g.current.color)}),[i]),(0,Nk.useEffect)((function(){var t=e.fromHsva(h);i?!kk(h,g.current.hsva)&&!e.equal(t,g.current.color)&&(g.current={hsva:h,color:t},u(t),l(t)):!kk(h,y.current.hsva)&&!e.equal(t,y.current.color)&&(y.current={hsva:h,color:t},g.current={hsva:h,color:t},c(t))}),[i,h,e,l,c]),(0,Nk.useEffect)((function(){if(!i&&!e.equal(f,y.current.color)){var t=e.toHsva(f);y.current={hsva:t,color:f},v(t)}}),[i,f,e]);var b=(0,Nk.useCallback)((function(e){v((function(t){return Object.assign({},t,e)}))}),[]);return[h,b]}(n,i,a,o),c=m(l,2),f=c[0],d=c[1];return(0,zk.useEffect)((function(){return function(){s()}}),[]),zk.default.createElement(jk,I({},u),zk.default.createElement(vk,{hsva:f,onChange:d}),zk.default.createElement(uk,{hue:f.h,onChange:d}),zk.default.createElement(Sk,{hsva:f,onChange:d}))}})),eE=L((function(){Uk=j(Hd()),Jk(),Lk(),Dk(),Mk(),Zk=function(e){return{r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}},Vk=function(e){return{r:255*e.r,g:255*e.g,b:255*e.b,a:e.a}},Hk={defaultColor:{r:0,g:0,b:0,a:1},toHsva:function(e){return tk(Vk(e))},fromHsva:function(e){return Zk(ek(e))},equal:kk},Wk=function(e){return Uk.default.createElement(PS,null,Uk.default.createElement(Bk,R(I({},e),{permanentlySetValue:function(t){e.permanentlySetValue(t)},colorModel:Hk})))}})),tE=L((function(){eE()})),nE=L((function(){Gk=j(Hd()),qk=function(e){(0,Gk.useEffect)(e,[])}})),rE=L((function(){Xk=j(Hd()),nE(),Kk=function(e){var t=(0,Xk.useRef)(e);t.current=e,qk((function(){return function(){return t.current()}}))}})),iE=L((function(){Yk=j(Hd()),rE(),Qk=function(e){var t=(0,Yk.useRef)(0),n=(0,Yk.useState)(e),r=n[0],i=n[1],a=(0,Yk.useCallback)((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){i(e)}))}),[]);return Kk((function(){cancelAnimationFrame(t.current)})),[r,a]}}));var aE,oE,sE,uE,lE=L((function(){aE="undefined"!=typeof window})),cE=L((function(){oE=j(Hd()),iE(),lE(),sE=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var n=Qk({width:aE?window.innerWidth:e,height:aE?window.innerHeight:t}),r=n[0],i=n[1];return(0,oE.useEffect)((function(){if(aE){var e=function(){i({width:window.innerWidth,height:window.innerHeight})};return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(window,"resize",e),function(){!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(window,"resize",e)}}}),[]),r},uE=sE}));function fE(e){var t=(0,dE.useState)(null),n=m(t,2),r=n[0],i=n[1];return(0,dE.useLayoutEffect)((function(){return e&&i(e.getBoundingClientRect()),function(){i(null)}}),[e]),r}var dE,pE,hE,vE,mE=L((function(){dE=j(Hd())})),gE=L((function(){pE=j(Hd()),hE=(0,pE.createContext)({}),vE=hE}));var yE,bE,wE,xE=L((function(){})),_E=L((function(){yE=j(Hd()),bE=j(Hd()),cE(),mE(),gE(),py(),hx(),xE(),By(),Ud(),8,wE=function(e){var t,n,r=e.children(),i=fy(null),a=m(i,2),o=a[0],s=a[1],u=r.props.style?I({},r.props.style):{};u.position="absolute";var l=fE(s),c=fE(e.target),f=uE(),d=(0,bE.useState)({}),p=m(d,2),h=p[0],v=p[1];return(0,bE.useLayoutEffect)((function(){var t,n,r;if(l&&s&&c){var i=null!=(t=e.verticalGap)?t:8,a={},o=null!=(n=e.verticalPlacement)?n:"bottom",u=0,d=0;"bottom"===o?c.bottom+l.height+i<f.height?(o="bottom",u=c.bottom+i,a.top="0px"):c.top>l.height+i?(o="top",u=c.top-(l.height+i),a.bottom="0px",a.transform="rotateZ(180deg)"):o="overlay":"top"===o&&(c.top>l.height+i?(o="top",u=c.top-(l.height+i),a.bottom="0px",a.transform="rotateZ(180deg)"):c.bottom+l.height+i<f.height?(o="bottom",u=c.bottom+i,a.top="0px"):o="overlay");var p=0;if("overlay"!==o){var h=c.left+c.width/2;h<l.width/2?(d=i,p=Math.max(h-i,8)):h+l.width/2>f.width?(d=f.width-(i+l.width),p=Math.min(h-d,l.width-8)):(d=h-l.width/2,p=l.width/2),a.left=p+"px"}var m=null!=(r=e.constraints)?r:{},g=m.minX,y=void 0===g?-1/0:g,b=m.maxX,w=void 0===b?1/0:b,x=m.minY,_=void 0===x?-1/0:x,S=m.maxY,k=void 0===S?1/0:S,E=Cs(d,y,w-l.width),C=Cs(u,_,k+l.height);return s.style.left=E+"px",s.style.top=C+"px",v(a),e.onPointerOutside?function(e,t,n){var r=e.getBoundingClientRect(),i=function(e){(e.clientX<r.left-t||e.clientX>r.left+r.width+t||e.clientY<r.top-t||e.clientY>r.top+r.height+t)&&n(e)};return window.addEventListener("mousemove",i),function(){window.removeEventListener("mousemove",i)}}(s,e.onPointerOutside.threshold,e.onPointerOutside.callback):void 0}}),[l,s,e.target,c,f,e.onPointerOutside]),rx([s,null!=(t=e.target)?t:null],null!=(n=e.onClickOutside)?n:zy),yE.default.createElement(vE.Provider,{value:h},(0,bE.cloneElement)(r,{ref:o,style:u}))}}));function SE(e,t){var n=function(){},r=_x("usePopover").isPointerBeingCaptured,i=fy({isOpen:!1}),a=m(i,2),o=a[0],s=a[1],u=(0,kE.useRef)(e),l=(0,kE.useCallback)((function(e){'closing due to "'.concat(e,'"'),o.current={isOpen:!1}}),[]),c=(0,kE.useCallback)((function(e,t){var n,i="function"==typeof u.current?u.current():u.current;o.current={isOpen:!0,clickPoint:{clientX:e.clientX,clientY:e.clientY},target:t,opts:i,onClickOutside:function(){d.childHasFocusRef.current||!1!==i.closeOnClickOutside&&l("clicked outside popover")},onPointerOutside:!1===i.closeWhenPointerIsDistant?void 0:{threshold:null!=(n=i.pointerDistanceThreshold)?n:100,callback:function(){d.childHasFocusRef.current||r()||l("pointer outside")}}}}),[]),f=(0,kE.useCallback)((function(){o.current.isOpen?l("toggled"):c.apply(void 0,arguments)}),[]),d=function(e){var t=(0,kE.useContext)(CE);(0,kE.useEffect)((function(){if(e.state.isOpen){var n=t.takeFocus();return e._debug("take focus"),function(){e._debug("release focus"),n.releaseFocus()}}}),[e.state.isOpen]);var n=(0,kE.useRef)(!1);return{childHasFocusRef:n,childPopoverLock:{takeFocus:function(){return n.current=!0,{releaseFocus:function(){n.current=!1}}}}}}({_debug:n,state:s}),p=(0,kE.useContext)(FR),h=m(p,2)[1];(0,kE.useEffect)((function(){var e;return s.isOpen&&(e=h()),function(){return null==e?void 0:e()}}),[s.isOpen]);var v=(0,kE.useContext)(oy);return{node:s.isOpen?(0,EE.createPortal)(kE.default.createElement(CE.Provider,{value:d.childPopoverLock},kE.default.createElement(wE,{children:t,target:s.target,onClickOutside:s.onClickOutside,onPointerOutside:s.onPointerOutside,constraints:s.opts.constraints,verticalGap:s.opts.verticalGap})),v):kE.default.createElement(kE.default.Fragment,null),open:c,close:l,toggle:f,isOpen:s.isOpen}}var kE,EE,CE,ME,TE,PE,AE,DE,IE,RE,OE,LE,NE,zE,FE,jE,BE,UE,ZE,VE,HE,WE,GE=L((function(){Mx(),py(),kE=j(Hd()),EE=j(Xd()),cy(),_E(),aL(),CE=kE.default.createContext({takeFocus:function(){return{releaseFocus:function(){}}}})})),qE=L((function(){ME=j(Hd()),nv(),gE(),PE=tv.div(TE||(TE=U(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  color: var(--popover-arrow-color);\n  pointer-events: none;\n"]))),DE=tv.div(AE||(AE=U(["\n  width: 12px;\n  height: 8px;\n  position: absolute;\n  left: -7px;\n  top: -8px;\n  text-align: center;\n  line-height: 0;\n"]))),RE=tv.path(IE||(IE=U(["\n  fill: var(--popover-bg);\n"]))),LE=tv.path(OE||(OE=U(["\n  fill: var(--popover-inner-stroke);\n"]))),zE=tv.path(NE||(NE=U(["\n  fill: var(--popover-outer-stroke);\n"]))),FE=(0,ME.forwardRef)((function(e,t){var n=e.className,r=(0,ME.useContext)(vE);return ME.default.createElement(PE,{className:n,ref:t,style:I({},r)},ME.default.createElement(DE,null,ME.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ME.default.createElement(zE,{d:"M6 0L0 6H12L6 0Z"}),ME.default.createElement(LE,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),ME.default.createElement(RE,{d:"M6 3L0 9H12L6 3Z"}))))})),jE=FE})),XE=L((function(){Fy(),lm(),BE=j(Hd()),nv(),qE(),UE=sm(.05,"#2a2a31"),VE=tv.div(ZE||(ZE=U(["\n  position: absolute;\n  --popover-bg: ",";\n  --popover-inner-stroke: #505159;\n  --popover-outer-stroke: #111;\n\n  background: var(--popover-bg);\n\n  color: white;\n  padding: 0;\n  margin: 0;\n  cursor: default;\n  ",";\n  border-radius: 3px;\n  z-index: 10000;\n  border: 1px solid var(--popover-inner-stroke);\n  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;\n  backdrop-filter: blur(8px);\n\n  & a {\n    color: inherit;\n  }\n"])),UE,gy),HE=BE.default.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.showPopoverEdgeTriangle,a=void 0===i||i;return BE.default.createElement(VE,{className:r,ref:t},a?BE.default.createElement(jE,null):void 0,n)})),WE=HE}));function KE(e){var t=e.editingTools,n=e.value,r=e.autoFocus,i=(0,YE.useRef)(null),a=(0,YE.useCallback)((function(e){var n=xS(function(e){var t=(e=e.trim().toLowerCase()).match(_S);if(!t)return{r:0,g:0,b:0,a:1};var n=function(e){switch(e.length){case 3:return"".concat(e.repeat(2),"ff");case 4:var t=e.substr(0,3),n=e[3];return"".concat(t.repeat(2)).concat(n.repeat(2));case 6:return"".concat(e,"ff")}return e}(t[1]);return{r:parseInt(n.substr(0,2),16)/255,g:parseInt(n.substr(2,2),16)/255,b:parseInt(n.substr(4,2),16)/255,a:parseInt(n.substr(6,2),16)/255}}(e));t.permanentlySetValue(n)}),[t]),o=SE({debugName:"RgbaPropEditor"},(function(){return YE.default.createElement(aC,null,YE.default.createElement(Wk,{color:{r:n.r,g:n.g,b:n.b,a:n.a},temporarilySetValue:function(e){var n=xS(e);t.temporarilySetValue(n)},permanentlySetValue:function(e){var n=xS(e);t.permanentlySetValue(n)},discardTemporaryValue:t.discardTemporaryValue}))}));return YE.default.createElement(YE.default.Fragment,null,YE.default.createElement($E,null,YE.default.createElement(eC,{rgbaColor:n,ref:i,onClick:function(e){o.toggle(e,i.current)}}),YE.default.createElement(nC,{value:wS(n,{removeAlphaIfOpaque:!0}),temporarilySetValue:rC,discardTemporaryValue:rC,permanentlySetValue:a,isValid:function(e){return!!e.match(_S)},autoFocus:r})),o.node)}var YE,QE,$E,JE,eC,tC,nC,rC,iC,aC,oC,sC=L((function(){SS(),SS(),YE=j(Hd()),tE(),nv(),GE(),vS(),XE(),$E=tv.div(QE||(QE=U(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),eC=tv.div.attrs((function(e){return{style:{background:wS(e.rgbaColor)}}}))(JE||(JE=U(["\n  height: 18px;\n  aspect-ratio: 1;\n  border-radius: 99999px;\n"]))),nC=tv(pS)(tC||(tC=U(["\n  flex: 1;\n"]))),rC=function(){},aC=tv.div(iC||(iC=U(["\n  position: absolute;\n  background-color: ",";\n  color: white;\n  margin: 0;\n  cursor: default;\n  border-radius: 3px;\n  z-index: 10000;\n  backdrop-filter: blur(8px);\n\n  padding: 4px;\n  pointer-events: all;\n\n  border: none;\n  box-shadow: none;\n"])),UE),oC=KE}));function uC(e){var t=this,n=(e.propConfig,e.editingTools),r=e.value,i=e.autoFocus,a=lC.default.useState(),o=m(a,2),s=o[0],u=o[1];(0,lC.useEffect)((function(){u(r?n.getAssetUrl(r):void 0)}),[r]);var l=(0,lC.useCallback)((function(e){return Z(t,null,d().mark((function t(){var i,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.target.files[0],n.permanentlySetValue({type:"image",id:void 0}),t.next=4,n.createAsset(i);case 4:(a=t.sent)?n.permanentlySetValue({type:"image",id:a}):n.permanentlySetValue(r),e.target.value=null;case 6:case"end":return t.stop()}}),t)})))}),[n,r]),c=!(null!=r&&r.id);return lC.default.createElement(fC,{empty:c},lC.default.createElement(gC,{empty:c,title:c?"Upload image":'"'.concat(r.id,'" (Click to upload new image)')},lC.default.createElement(bC,{type:"file",onChange:l,accept:"image/*,.hdr",autoFocus:i}),s?lC.default.createElement(xC,{src:s}):lC.default.createElement(pC,null)),!c&&lC.default.createElement(SC,{title:"Delete image",onClick:function(){n.permanentlySetValue({type:"image",id:void 0})}},lC.default.createElement(pb,null)))}var lC,cC,fC,dC,pC,hC,vC,mC,gC,yC,bC,wC,xC,_C,SC,kC,EC=L((function(){Rb(),lC=j(Hd()),nv(),fC=tv.div(cC||(cC=U(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),pC=tv.div(dC||(dC=U(["\n  position: absolute;\n  inset: -5px;\n  // rotate 45deg\n  transform: rotate(45deg);\n  --checker-color: #ededed36;\n  &:hover {\n    --checker-color: #ededed77;\n  }\n  // checkerboard background with 4px squares\n  background-image: linear-gradient(\n      45deg,\n      var(--checker-color) 25%,\n      transparent 25%\n    ),\n    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),\n    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);\n  background-size: 5px 5px;\n"]))),gC=tv.label(mC||(mC=U(["\n  position: relative;\n  cursor: default;\n  box-sizing: border-box;\n\n  height: 18px;\n  aspect-ratio: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n\n  overflow: hidden;\n  color: #ccc;\n  &:hover {\n    color: white;\n  }\n\n  border-radius: 99999px;\n  border: 1px solid hwb(220deg 40% 52%);\n  &:hover {\n    border-color: hwb(220deg 45% 52%);\n  }\n\n  ","\n"])),(function(e){return e.empty?Zp(hC||(hC=U([""]))):Zp(vC||(vC=U([""])))})),bC=tv.input.attrs({type:"file"})(yC||(yC=U(["\n  display: none;\n"]))),xC=tv.img(wC||(wC=U(["\n  position: absolute;\n  inset: 0;\n  height: 100%;\n  aspect-ratio: 1;\n\n  object-fit: cover;\n"]))),SC=tv.button(_C||(_C=U(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  background: transparent;\n  color: #a8a8a9;\n\n  border: none;\n  height: 100%;\n  aspect-ratio: 1/1;\n\n  opacity: 0;\n\n  ",":hover & {\n    opacity: 0.8;\n  }\n\n  &:hover {\n    opacity: 1;\n    color: white;\n  }\n"])),fC),kC=uC}));function CC(e){var t=this,n=(e.propConfig,e.editingTools),r=e.value,i=e.autoFocus,a=MC.default.useState(),o=m(a,2),s=o[0],u=o[1];(0,MC.useEffect)((function(){u(r?n.getAssetUrl(r):void 0)}),[r]);var l=(0,MC.useCallback)((function(e){return Z(t,null,d().mark((function t(){var i,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.target.files[0],n.permanentlySetValue({type:"file",id:void 0}),t.next=4,n.createAsset(i);case 4:(a=t.sent)?n.permanentlySetValue({type:"file",id:a}):n.permanentlySetValue(r),e.target.value=null;case 6:case"end":return t.stop()}}),t)})))}),[n,r]),c=!(null!=r&&r.id);return MC.default.createElement(PC,{empty:c},MC.default.createElement(LC,{empty:c,title:c?"Upload file":'"'.concat(r.id,'" (Click to upload new file)')},MC.default.createElement(zC,{type:"file",onChange:l,autoFocus:i}),s?MC.default.createElement(ab,null):MC.default.createElement(DC,null)),!c&&MC.default.createElement(jC,{title:"Delete file",onClick:function(){n.permanentlySetValue({type:"file",id:void 0})}},MC.default.createElement(pb,null)))}var MC,TC,PC,AC,DC,IC,RC,OC,LC,NC,zC,FC,jC,BC,UC,ZC=L((function(){Rb(),MC=j(Hd()),nv(),PC=tv.div(TC||(TC=U(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),DC=tv.div(AC||(AC=U(["\n  position: absolute;\n  inset: -5px;\n  // rotate 45deg\n  transform: rotate(45deg);\n  --checker-color: #ededed36;\n  &:hover {\n    --checker-color: #ededed77;\n  }\n  // checkerboard background with 4px squares\n  background-image: linear-gradient(\n      45deg,\n      var(--checker-color) 25%,\n      transparent 25%\n    ),\n    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),\n    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);\n  background-size: 5px 5px;\n"]))),LC=tv.label(OC||(OC=U(["\n  position: relative;\n  cursor: default;\n  box-sizing: border-box;\n\n  height: 18px;\n  aspect-ratio: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n\n  overflow: hidden;\n  color: #ccc;\n  &:hover {\n    color: white;\n  }\n\n  border-radius: 99999px;\n  border: 1px solid hwb(220deg 40% 52%);\n  &:hover {\n    border-color: hwb(220deg 45% 52%);\n  }\n\n  ","\n"])),(function(e){return e.empty?Zp(IC||(IC=U([""]))):Zp(RC||(RC=U([""])))})),zC=tv.input.attrs({type:"file"})(NC||(NC=U(["\n  display: none;\n"]))),jC=tv.button(FC||(FC=U(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  background: transparent;\n  color: #a8a8a9;\n\n  border: none;\n  height: 100%;\n  aspect-ratio: 1/1;\n\n  opacity: 0;\n\n  ",":hover & {\n    opacity: 0.8;\n  }\n\n  &:hover {\n    opacity: 1;\n    color: white;\n  }\n"])),PC),BC=CC})),VC=L((function(){ex(),Qx(),hS(),bS(),sC(),EC(),ZC(),UC={number:Yx,string:yS,boolean:Jw,stringLiteral:sS,rgba:oC,image:kC,file:BC}}));function HC(e){var t=new WeakMap;return function(n){return t.has(n)||t.set(n,e(n)),t.get(n)}}var WC=L((function(){}));function GC(e){return"compound"===e.type||"enum"===e.type}function qC(e,t){if(e){var n=h(t),r=n[0],i=n.slice(1);if(void 0===r)return e;if(GC(e))return qC("enum"===e.type?e.cases[r]:e.props[r],i)}}function XC(e,t){var n=t.deserializeAndSanitize(e);return void 0===n?t.default:n}function KC(e,t){var n;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("compound"!==e.type){r.next=9;break}r.t0=d().keys(e.props);case 2:if((r.t1=r.t0()).done){r.next=7;break}return n=r.t1.value,r.delegateYield(H(KC(e.props[n],[].concat(v(t),[n]))),"t2",5);case 5:r.next=2;break;case 7:r.next=14;break;case 9:if("enum"!==e.type){r.next=11;break}throw new Error("Not implemented yet");case 11:return r.next=13,{path:t,conf:e};case 13:return r.abrupt("return",r.sent);case 14:case"end":return r.stop()}}),y)}var YC,QC,$C,JC,eM,tM,nM,rM,iM,aM,oM,sM=L((function(){WC(),YC=HC((function(e){if("enum"===e.type)throw new Error("Not implemented yet for enums");for(var t in e.props){var n=e.props[t];if(!GC(n))return!0;if(YC(n))return!0}return!1}))})),uM=L((function(){QC="calc(var(--left-pad) + var(--depth) * var(--step))"})),lM=L((function(){nv(),JC=Zp($C||($C=U(["\n  font-weight: 300;\n  font-size: 11px;\n  color: ",";\n  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);\n"])),(function(e){return"self"===e.isHighlighted?"#CCC":"#919191"}))})),cM=L((function(){By(),eM=j(Hd()),nv(),tM=26,rM=tv.li(nM||(nM=U(["\n  height: ","px;\n  padding: 0 12px;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  font-size: 11px;\n  font-weight: 400;\n  position: relative;\n  color: ",";\n  cursor: ",";\n\n  &:after {\n    position: absolute;\n    inset: 2px 1px;\n    display: block;\n    content: ' ';\n    pointer-events: none;\n    z-index: -1;\n    border-radius: 3px;\n  }\n\n  &:hover:after {\n    background-color: ",";\n  }\n"])),tM,(function(e){return e.enabled?"white":"#8f8f8f"}),(function(e){return e.enabled?"normal":"not-allowed"}),(function(e){return e.enabled?"rgba(63, 174, 191, 0.75)":"initial"})),aM=tv.span(iM||(iM=U([""]))),oM=function(e){return eM.default.createElement(rM,{onClick:e.enabled?e.onClick:zy,enabled:e.enabled,title:e.enabled?void 0:"Disabled"},eM.default.createElement(aM,null,eM.default.createElement(eM.default.Fragment,null,e.label)))}}));var fM,dM,pM,hM,vM,mM,gM,yM,bM,wM,xM,_M,SM,kM,EM,CM=L((function(){fM=j(Hd())})),MM=L((function(){dM=j(Hd()),cM(),nv(),lm(),Fy(),190,!0,hM=tv.ul(pM||(pM=U(["\n  position: absolute;\n  min-width: ","px;\n  z-index: 10000;\n  background: ",";\n  backdrop-filter: blur(2px);\n  color: white;\n  list-style-type: none;\n  padding: 2px 0;\n  margin: 0;\n  border-radius: 1px;\n  cursor: default;\n  ",";\n  border-radius: 3px;\n"])),190,sm(.2,"#111"),gy),mM=tv.div(vM||(vM=U(["\n  padding: 4px 10px;\n  border-bottom: 1px solid #6262626d;\n  color: #adadadb3;\n  font-size: 11px;\n  font-weight: 500;\n"]))),gM=dM.default.forwardRef((function(e,t){return dM.default.createElement(hM,{ref:t},e.displayName?dM.default.createElement(mM,null,e.displayName):null,e.items.map((function(t,n){return dM.default.createElement(oM,{key:"item-".concat(n),label:t.label,enabled:!1!==t.enabled,onClick:function(n){t.callback&&t.callback(n),e.onRequestClose()}})})))})),yM=gM})),TM=L((function(){mE(),bM=j(Hd()),wM=j(Hd()),xM=j(Hd()),_M=j(Xd()),cE(),cM(),cy(),CM(),MM(),20,SM=function(e){var t=(0,xM.useState)(null),n=m(t,2),r=n[0],i=n[1],a=fE(r),o=uE();(0,xM.useLayoutEffect)((function(){if(a&&r){var t=a.width/2,n=tM/2+(e.displayName?tM:0),i={left:e.clickPoint.clientX-t,top:e.clickPoint.clientY-n};i.left<0?i.left=0:i.left+a.width>o.width&&(i.left=o.width-a.width),i.top<0?i.top=0:i.top+a.height>o.height&&(i.top=o.height-a.height),r.style.left=i.left+"px",r.style.top=i.top+"px";var s=function(t){(t.clientX<i.left-20||t.clientX>i.left+a.width+20||t.clientY<i.top-20||t.clientY>i.top+a.height+20)&&e.onRequestClose()};return window.addEventListener("mousemove",s),function(){window.removeEventListener("mousemove",s)}}}),[a,r,e.clickPoint,o,e.onRequestClose]);var s=(0,wM.useContext)(oy);!function(e){var t=(0,fM.useRef)(e);t.current=e,(0,fM.useEffect)((function(){var e=function(e){return t.current(e)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[])}((function(t){"Escape"===t.key&&e.onRequestClose()}));var u=(0,bM.useMemo)((function(){var t=Array.isArray(e.items)?e.items:e.items();return t.length>0?t:[{label:e.displayName?"No actions for ".concat(e.displayName):"No actions found",enabled:!1}]}),[e.items]);return(0,_M.createPortal)(xM.default.createElement(yM,{items:u,onRequestClose:e.onRequestClose,displayName:e.displayName,ref:i}),s)}})),PM=L((function(){kM=j(Hd()),EM=function(e,t){var n=(0,kM.useState)({isOpen:!1}),r=m(n,2),i=r[0],a=r[1],o=(0,kM.useCallback)((function(){return a({isOpen:!1})}),[]);return(0,kM.useEffect)((function(){if(e&&!0!==t.disabled){var n=function(e){a({isOpen:!0,event:e}),e.preventDefault(),e.stopPropagation()};return e.addEventListener("contextmenu",n),function(){e.removeEventListener("contextmenu",n)}}a({isOpen:!1})}),[e,t.disabled]),[i,o]}}));function AM(e,t){var n=EM(e,t),r=m(n,2),i=r[0],a=r[1],o=(0,DM.useContext)(FR),s=m(o,2)[1];return(0,DM.useEffect)((function(){var e,n;return i.isOpen&&(null==(e=t.onOpen)||e.call(t),n=s()),function(){return null==n?void 0:n()}}),[i.isOpen,t.onOpen]),[i.isOpen?DM.default.createElement(SM,{items:t.menuItems,displayName:t.displayName,clickPoint:i.event,onRequestClose:a}):IM,a,i.isOpen]}var DM,IM,RM=L((function(){DM=j(Hd()),TM(),PM(),aL(),IM=DM.default.createElement(DM.default.Fragment,null)}));function OM(e,t){return 0===t.length?e:qo(e,t)}var LM=L((function(){Xo()}));function NM(e,t){return null==e?null:e instanceof Element&&e.matches(t)?e:NM(e.parentElement,t)}var zM=L((function(){}));function FM(e,t){var n,r=e,i=g(t);try{for(i.s();!(n=i.n()).done;){r=r[n.value]}}catch(a){i.e(a)}finally{i.f()}return r}var jM=L((function(){}));function BM(e){var t=ZM.default.useContext(qM),n=t.usePresenceFlag(e);return{attrs:p({},XM,e),flag:n,useRelations:function(n,r){(0,VM.useEffect)((function(){return e&&t.addRelatedFlags(e,n())}),[e].concat(v(r)))}}}function UM(e){var t=ZM.default.useContext(qM),n=gx("PresenceListeners");(0,VM.useEffect)((function(){var r;if(e){var i=function(e){if(e.target instanceof Node){var i=NM(e.target,"[".concat(XM,"]"));if(i){var a=i.getAttribute(XM);return void(r!==a&&(r=a,t.setUserHover(a||void 0),n._debug("Updated current hover",{itemKey:a})))}null!=r&&(r=null,t.setUserHover(void 0),n._debug("Cleared current hover"))}};return e.addEventListener("mouseover",i),function(){e.removeEventListener("mouseover",i),null!=r&&(r=null,n._debug("Cleared current hover as part of cleanup"))}}}),[e,t])}var ZM,VM,HM,WM,GM,qM,XM,KM,YM,QM,$M,JM,eT,tT,nT,rT,iT,aT,oT,sT,uT,lT,cT,fT,dT,pT,hT,vT,mT,gT,yT,bT,wT,xT,_T,ST,kT=L((function(){ZM=j(Hd()),VM=j(Hd()),wx(),HM=n(8458),WM=n(8458),cp(),zM(),jM(),(GM=(0,HM.prism)((function(){}))).keepHot(),qM=ZM.default.createContext(function(e){var t=new WM.Atom(void 0),n=new WM.Atom({}),r=new WM.Atom({}),i=0;return{addRelatedFlags:function(e,t){var n=String(++i),a=t.map((function(t){var i={flag:t.flag},a=[t.affects,e,n];return r.setByPointer((function(e){return FM(e,a)}),i),a}));return function(){var e,t=g(a);try{var n=function(){var t=e.value;r.setByPointer((function(e){return FM(e,t)}),void 0)};for(t.s();!(e=t.n()).done;)n()}catch(i){t.e(i)}finally{t.f()}}},usePresenceFlag:function(i){if(e.enabled)return Yd((0,ZM.useMemo)((function(){if(!i)return GM;var e=t.prism,a=(0,HM.pointerToPrism)(n.pointer[i]),o=(0,HM.pointerToPrism)(r.pointer[i]);return(0,HM.prism)((function(){if(a.getValue())return 2;var t=o.getValue(),n=e.getValue(),r=t&&n&&t[n];if(r){for(var i,s=0,u=Object.values(r);s<u.length;s++){var l=u[s];l&&(i&&i>=l.flag||(i=l.flag))}return i}}))}),[i]))},setUserHover:function(e){var r=t.get();r!==e&&(r&&n.setByPointer((function(e){return e[r]}),!1),t.set(e),e&&n.setByPointer((function(t){return t[e]}),!0))}}}({enabled:!1})),XM="data-pi-key"})),ET=L((function(){Fy(),lm(),KM=j(Hd()),nv(),kT(),QM=tv.div(YM||(YM=U(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 16px;\n  margin: 0 0px 0 2px;\n  position: relative;\n  z-index: 0;\n  opacity: 0.7;\n\n  &:after {\n    position: absolute;\n    left: -14px;\n    right: -14px;\n    top: -2px;\n    bottom: -2px;\n    content: ' ';\n    display: none;\n    z-index: -1;\n    background: ",";\n  }\n\n  &:hover {\n    opacity: 1;\n    &:after {\n      display: block;\n    }\n  }\n"])),sm(.2,"black")),JM=tv.div($M||($M=U(["\n  background: none;\n  position: relative;\n  border: 0;\n  transition: transform 0.1s ease-out;\n  z-index: 0;\n  outline: none;\n  cursor: pointer;\n\n  &:after {\n    display: none;\n    ",":hover & {\n      display: block;\n    }\n    position: absolute;\n    left: -4px;\n    right: -4px;\n    top: -4px;\n    bottom: -4px;\n    content: ' ';\n    z-index: -1;\n  }\n"])),QM),eT={offColor:"#555",onColor:"#e0c917"},nT=tv(JM)(tT||(tT=U(["\n  &:hover {\n    color: #e0c917;\n  }\n\n  color: ",";\n"])),(function(e){return 2===e.presence?"white":e.isOn?eT.onColor:eT.offColor})),iT=Zp(rT||(rT=U(["\n  pointer-events: none !important;\n"]))),oT=tv(JM)(aT||(aT=U(["\n  color: ",";\n\n  ",";\n"])),(function(e){return 2===e.flag?"white":e.available?eT.onColor:eT.offColor}),(function(e){return e.available?gy:iT})),uT=tv(oT)(sT||(sT=U(["\n  transform: translateX(2px);\n  ",":hover & {\n    transform: translateX(-7px);\n  }\n"])),QM),cT=tv(oT)(lT||(lT=U(["\n  transform: translateX(-2px);\n  ",":hover & {\n    transform: translateX(7px);\n  }\n"])),QM),function(e){var t=tv.g(fT||(fT=U(["\n    stroke-width: 1;\n    ",":hover & path {\n      stroke-width: 3;\n    }\n  "])),oT);e.Prev=function(){return KM.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},KM.default.createElement(t,{transform:"translate(6 3)"},KM.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"})))},e.Next=function(){return KM.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},KM.default.createElement(t,{transform:"translate(1 3)"},KM.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})))};var n=tv.g(dT||(dT=U(["\n    stroke-width: 0;\n    ",":hover & path {\n      stroke: currentColor;\n      stroke-width: 2;\n    }\n  "])),nT);e.Cur=function(){return KM.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},KM.default.createElement(n,{transform:"translate(1 4)"},KM.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))}}(pT||(pT={})),hT=function(e){var t,n,r,i,a,o=BM(null==(t=e.prev)?void 0:t.itemKey),s=BM("on"===(null==(n=e.cur)?void 0:n.type)?e.cur.itemKey:void 0),u=BM(null==(r=e.next)?void 0:r.itemKey);return KM.default.createElement(QM,null,KM.default.createElement(uT,I({available:!!e.prev,onClick:null==(i=e.prev)?void 0:i.jump,flag:o.flag},o.attrs),KM.default.createElement(pT.Prev,null)),KM.default.createElement(nT,I({isOn:"on"===e.cur.type,onClick:e.cur.toggle,presence:s.flag},s.attrs),KM.default.createElement(pT.Cur,null)),KM.default.createElement(cT,I({available:!!e.next,onClick:null==(a=e.next)?void 0:a.jump,flag:u.flag},u.attrs),KM.default.createElement(pT.Next,null)))}})),CT=L((function(){lm(),vT=j(Hd()),nv(),q(),ET(),sM(),mT={defaultState:{color:sm(.95,"#C4C4C4"),hoverColor:sm(.15,eT.onColor)},withStaticOverride:{color:sm(.85,"#C4C4C4"),hoverColor:sm(.15,eT.onColor)}},yT=tv.div(gT||(gT=U(["\n  width: 16px;\n  margin: 0 0px 0 2px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.hasStaticOverride?mT.withStaticOverride.color:mT.defaultState.color}),(function(e){return e.hasStaticOverride?mT.withStaticOverride.hoverColor:mT.defaultState.hoverColor})),wT=tv.div(bT||(bT=U(["\n  width: 5px;\n  height: 5px;\n  border-radius: 1px;\n  transform: rotate(45deg);\n  /* border: 1px solid currentColor; */\n  background-color: currentColor;\n"]))),_T=tv.div(xT||(xT=U(["\n  width: 5px;\n  height: 5px;\n  background-color: currentColor;\n  border-radius: 1px;\n  transform: rotate(45deg);\n"]))),ST=function(e){var t=e.hasStaticOverride,n=e.obj,r=e.propConfig,i=e.pathToProp;return vT.default.createElement(yT,{hasStaticOverride:t,onClick:function(){W().transaction((function(e){var t,a=e.stateEditors,o=g(KC(r,i));try{for(o.s();!(t=o.n()).done;){var s=t.value,u=s.path;if(!GC(s.conf)){var l=R(I({},n.address),{pathToProp:u});a.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(l,r)}}}catch(c){o.e(c)}finally{o.f()}}))},title:"Sequence this prop"},t?vT.default.createElement(_T,{title:"The default value is overridden"}):vT.default.createElement(wT,{title:"This is the default value for this prop"}))}}));function MT(e){return JSON.stringify(TT(e))}function TT(e){return vs(e)?Object.keys(e).sort().reduce((function(t,n){return t[n]=TT(e[n]),t}),{}):Array.isArray(e)?e.map(TT):e}var PT,AT,DT=L((function(){Ud()})),IT=L((function(){PT="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",AT=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=e;n--;)t+=PT[64*Math.random()|0];return t}}));function RT(){return AT(10)}var OT,LT=L((function(){DT(),IT(),OT={forSheet:function(){return"sheet"},forSheetObject:function(e){return MT({o:e.address.objectKey})},forSheetObjectProp:function(e,t){return MT({o:e.address.objectKey,p:t})},forTrackKeyframe:function(e,t,n){return MT({o:e.address.objectKey,t:t,k:n})},forSheetObjectAggregateKeyframe:function(e,t){return OT.forCompoundPropAggregateKeyframe(e,[],t)},forSheetAggregateKeyframe:function(e,t){return MT({o:e.address.sheetId,pos:t})},forCompoundPropAggregateKeyframe:function(e,t,n){return MT({o:e.address.objectKey,p:t,pos:n})}}}));function NT(e,t,n){if(!t||0===t.data.keyframes.length)return FT;var r=zT.get(t.data);if(r&&r[0]===n)return r[1];function i(n){if(t){var r=t.data.keyframes[n];return r&&{kf:r,track:t,itemKey:OT.forTrackKeyframe(e,t.id,r.id)}}}var a=function(){var e=t.data.keyframes.findIndex((function(e){return e.position>=n}));if(-1===e)return{prev:i(t.data.keyframes.length-1)};var r=i(e);return r.kf.position===n?{prev:i(e-1),cur:r,next:i(e+1)}:{next:r,prev:i(e-1)}}();return zT.set(t.data,[n,a]),a}var zT,FT,jT,BT=L((function(){LT(),zT=new WeakMap,FT={}})),UT=L((function(){jT={}}));function ZT(e){var t=e.pointerToProp,n=e.obj,r=e.possibleSequenceTrackIds,i=e.listOfDescendantTrackIds;return Kd((function(){var e=(0,VT.getPointerParts)(t).path,r=(0,VT.val)(n.sheet.getSequence().positionPrism),a=i.map((function(e){return{trackId:e,track:(0,VT.val)(n.template.project.pointers.historic.sheetsById[n.address.sheetId].sequence.tracksByObject[n.address.objectKey].trackData[e])}})).filter((function(e){return!!e.track})).map((function(e){return R(I({},e),{nearbies:NT(n,{id:e.trackId,data:e.track,sheetObject:n},r)})})),o=a.find((function(e){return!!e.nearbies.cur})),s=a.every((function(e){return!!e.nearbies.cur})),u=a.reduce((function(e,t){return t.nearbies.prev&&(void 0===e||t.nearbies.prev.kf.position>e.kf.position)?t.nearbies.prev:e}),void 0),l=a.reduce((function(e,t){return t.nearbies.next&&(void 0===e||t.nearbies.next.kf.position<e.kf.position)?t.nearbies.next:e}),void 0),c=function(){s?W().transaction((function(e){e.unset(t)})):W().transaction((function(e){e.set(t,(0,VT.val)(t))}))},f={cur:o?{type:"on",itemKey:OT.forCompoundPropAggregateKeyframe(n,e,r),toggle:c}:{toggle:c,type:"off"},prev:void 0!==u?{position:u.kf.position,itemKey:OT.forCompoundPropAggregateKeyframe(n,e,u.kf.position),jump:function(){n.sheet.getSequence().position=u.kf.position}}:void 0,next:void 0!==l?{position:l.kf.position,itemKey:OT.forCompoundPropAggregateKeyframe(n,e,l.kf.position),jump:function(){n.sheet.getSequence().position=l.kf.position}}:void 0};return HT.default.createElement(hT,I({},f))}),[t,n,r,i])}var VT,HT,WT=L((function(){q(),LM(),cp(),VT=n(8458),Xo(),HT=j(Hd()),CT(),sM(),LT(),jM(),ET(),BT(),UT()}));function GT(e){return[e.projectId,e.sheetId,e.objectKey].concat(v(e.pathToProp))}function qT(e){var t={};return Cd(t,e,!0),t}var XT,KT,YT,QT,$T=L((function(){XT=n(8458),KT=n(8458),YT=n(8458),jM(),Dd(),QT=function(){var e=0,t=new KT.Atom({hasLock:!1});return{replaceLock:function(n,r){var i=e++,a=t.get();return a.hasLock&&a.cleanup(),t.set({hasLock:!0,lockId:i,cleanup:r,deepPath:qT(GT(n))}),function(){var e=t.get();e.hasLock&&e.lockId===i&&(e.cleanup(),t.set({hasLock:!1}))}},getIsPropHighlightedD:function(e){var n=FM(t.pointer.deepPath,GT(e));return(0,YT.prism)((function(){var e=(0,XT.val)(n);return!0===e?"self":e?"descendent":null}))}}}()}));function JT(e,t){return JSON.stringify(e,t,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var eP=L((function(){}));function tP(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{return"string"==typeof e?e:"function"==typeof e||e instanceof Error?e.toString():t?JT(e):JSON.stringify(e)}catch(j$){return(null==e?void 0:e.name)||String(e)}}var nP=L((function(){eP()}));function rP(e,t){var n=arguments.length>1,r=tP("function"==typeof e?e():e),i=n?"\nInstead found: ".concat(tP(t)):"";throw new uP("Invariant: ".concat(r).concat(i),t)}var iP,aP,oP,sP,uP,lP=L((function(){nP(),iP=/^\s*at.+node:internal.+/gm,aP=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,oP=/^\s*(at|[^@]+@).+test\-helpers.+/gm,sP=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,uP=function(e){l(n,e);var t=c(n);function n(e,r){var i,a;return s(this,n),i=t.call(this,e),B(u(i),"found"),void 0!==r&&(i.found=r),i.stack=null==(a=i.stack)?void 0:a.replace(aP,"").replace(sP,"").replace(oP,"").replace(iP,""),i}return o(n)}(f(Error))}));function cP(e){var t=dP.default.memo(dP.default.forwardRef((function(t,n){var r=[],i={},a={ref:n};for(var o in t){var s=t[o];(0,fP.isPrism)(s)?(r.push(s),i[o]=s):a[o]=s}var u=(0,dP.useRef)(r.length);!function(e,t,n){e||(arguments.length>2?rP(t,n):rP(t))}(u.current===r.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:u.current,count:r.length});var l=(0,dP.useMemo)((function(){return function(e){return(0,fP.prism)((function(){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n].getValue();return t}var r={};for(var i in e)r[i]=(0,fP.val)(e[i]);return r}))}(i)}),r),c=Yd(l);return c&&dP.default.createElement(e,I(I({},a),c))})));return t.displayName="deriver(".concat(e.displayName,")"),t}var fP,dP,pP=L((function(){fP=n(8458),cp(),dP=j(Hd()),lP()}));function hP(e,t,n){return(0,gP.prism)((function(){var r,i=(0,gP.getPointerParts)(e).path,a=t.getValueByPointer(e),o=gP.prism.memo("editPropValue",(function(){var t=null;return{temporarilySetValue:function(n){t||(t=W().scrub()),t.capture((function(t){t.set(e,n)}))},discardTemporaryValue:function(){t&&(t.discard(),t=null)},permanentlySetValue:function(n){t?(t.capture((function(t){t.set(e,n)})),t.commit(),t=null):W().transaction((function(t){t.set(e,n)}))}}}),[]),s={createAsset:function(e){return t.sheet.project.assetStorage.createAsset(e)},getAssetUrl:function(e){return e.id?t.sheet.project.assetStorage.getAssetUrl(e.id):void 0}},u=!0===(0,gP.val)(qo(W().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,gP.getPointerParts)(e).path)),l=[],c=R(I(I({},o),s),{value:a,beingScrubbed:u,contextMenuItems:l,controlIndicators:mP.default.createElement(mP.default.Fragment,null)}),f=function(e){return!GC(e)}(n);if(f){var d=OM((0,gP.val)(t.template.getMapOfValidSequenceTracks_forStudio()),i);if("string"==typeof d){l.push({label:"Make static",callback:function(){W().transaction((function(n){var r=n.stateEditors,a=R(I({},t.address),{pathToProp:i});r.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(R(I({},a),{value:t.getValueByPointer(e)}))}))}});var p,h=d,v=gP.prism.sub("lcr",(function(){var e=(0,gP.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[h]),n=(0,gP.val)(t.sheet.getSequence().positionPrism);return NT(t,e&&{data:e,id:h,sheetObject:t},n)}),[h]);p=c.beingScrubbed?"Sequenced_OnKeyframe_BeingScrubbed":v.cur?"Sequenced_OnKeyframe":!0===(null==(r=v.prev)?void 0:r.kf.connectedRight)?"Sequenced_BeingInterpolated":"Sequened_NotBeingInterpolated";var m=function(){v.cur?W().transaction((function(t){t.unset(e)})):W().transaction((function(t){t.set(e,c.value)}))},g={cur:v.cur?{type:"on",itemKey:v.cur.itemKey,toggle:m}:{type:"off",toggle:m},prev:void 0!==v.prev?{itemKey:v.prev.itemKey,position:v.prev.kf.position,jump:function(){t.sheet.getSequence().position=v.prev.kf.position}}:void 0,next:void 0!==v.next?{itemKey:v.next.itemKey,position:v.next.kf.position,jump:function(){t.sheet.getSequence().position=v.next.kf.position}}:void 0},y=mP.default.createElement(hT,I({},g));return R(I({},c),{type:"Sequenced",shade:p,nearbyKeyframes:v,controlIndicators:y})}}var b=OM((0,gP.val)(t.template.getStaticValues()),i);return"undefined"!=typeof b&&l.push({label:"Reset to default",callback:function(){W().transaction((function(t){(0,t.unset)(e)}))}}),f&&l.push({label:"Sequence",callback:function(){W().transaction((function(e){var r=e.stateEditors,a=R(I({},t.address),{pathToProp:i});r.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(a,n)}))}}),R(I({},c),"undefined"!=typeof b?{type:"Static",shade:c.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:mP.default.createElement(ST,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})}:{type:"Default",shade:"Default",controlIndicators:mP.default.createElement(ST,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})})}))}function vP(e,t,n){var r=function(e,t,n){if(yP.has(e))return yP.get(e);var r=hP(e,t,n);return yP.set(e,r),r}(e,t,n);return Yd(r)}var mP,gP,yP,bP=L((function(){Xo(),mP=j(Hd()),gP=n(8458),q(),LM(),cp(),sM(),CT(),BT(),ET(),yP=new WeakMap}));function wP(e){var t=e.propConfig,n=e.pointerToProp,r=e.obj,i=(e.SimpleEditorComponent,vP(n,r,t));return SP.default.createElement(Yx,{editingTools:i,propConfig:t,value:i.value})}function xP(e){var t,n=e.pointerToProp,r=e.obj,i=e.propConfig,a=e.visualIndentation,o=null!=(t=i.label)?t:mf((0,_P.getPointerParts)(n).path),s=Object.entries(i.props),u=s.filter((function(e){var t=m(e,2);t[0];return GC(t[1])})),l=s.filter((function(e){var t=m(e,2);t[0];return!GC(t[1])})),c=fy(null),f=m(c,2),d=f[0],p=f[1],h=function(e,t,n){var r=(0,VT.getPointerParts)(e).path;return Kd((function(){if(!YC(n))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:HT.default.createElement(ST,{hasStaticOverride:!1,obj:t,pathToProp:r,propConfig:n})};var i=[],a={beingScrubbed:!!(0,VT.val)(qo(W().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,VT.getPointerParts)(e).path)),contextMenuItems:i,controlIndicators:HT.default.createElement(HT.default.Fragment,null)},o=OM((0,VT.val)(t.template.getMapOfValidSequenceTracks_forStudio()),r),s=void 0!==o&&0!==Object.keys(o).length,u=[],l=(0,VT.val)(t.template.getStaticButNotSequencedOverrides()),c=void 0!==OM(null!=l?l:jT,r);if(s){var f,d=g(KC(n,[]));try{for(d.s();!(f=d.n()).done;){var p=f.value;if(!GC(p.conf)){var h=OM(o,p.path);"string"!=typeof h?c=!0:u.push(h)}}}catch(y){d.e(y)}finally{d.f()}}if((c||s)&&i.push({label:"Reset all to default",callback:function(){W().transaction((function(t){(0,t.unset)(e)}))}}),s&&i.push({label:"Make all static",callback:function(){W().transaction((function(i){var a,o=i.stateEditors,s=g(KC(n,[]));try{for(s.s();!(a=s.n()).done;){var u=a.value,l=u.path;if(!GC(u.conf)){var c=R(I({},t.address),{pathToProp:[].concat(v(r),v(l))}),f=FM(e,l);o.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(R(I({},c),{value:t.getValueByPointer(f)}))}}}catch(y){s.e(y)}finally{s.f()}}))}}),(!s||s&&c)&&i.push({label:"Sequence all",callback:function(){W().transaction((function(e){var i,a=e.stateEditors,o=g(KC(n,r));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.path;if(!GC(s.conf)){var l=R(I({},t.address),{pathToProp:u});a.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(l,n)}}}catch(y){o.e(y)}finally{o.f()}}))}}),s){var m=VT.prism.memo("controlIndicators",(function(){return HT.default.createElement(ZT,{pointerToProp:e,obj:t,possibleSequenceTrackIds:o,listOfDescendantTrackIds:u})}),[o,u]);return R(I({},a),{type:"HasSequences",controlIndicators:m})}return R(I({},a),{type:"AllStatic",controlIndicators:HT.default.createElement(ST,{hasStaticOverride:c,obj:t,pathToProp:r,propConfig:n})})}),[])}(n,r,i),y=AM(p,{menuItems:h.contextMenuItems}),b=m(y,1)[0],w=u.length>0,x=(0,SP.useMemo)((function(){return QT.getIsPropHighlightedD(R(I({},r.address),{pathToProp:(0,_P.getPointerParts)(n).path}))}),[n]),_="".concat(r.address.projectId,",").concat(r.address.sheetId,",").concat(r.address.sheetInstanceId,",").concat(r.address.objectKey,",").concat((0,_P.getPointerParts)(n).path.join()),S=BP(i);(0,SP.useLayoutEffect)((function(){HP.has(_)||HP.set(_,new _P.Atom(S))}),[_,i]);var k=HP.get(_),E=Kd((function(){return k?(0,kP.val)(k.pointer):S}),[k]);return SP.default.createElement(CP,null,b,SP.default.createElement(TP,{style:{"--depth":a-1}},SP.default.createElement(AP,{isVectorProp:S},SP.default.createElement(IP,null,h.controlIndicators),SP.default.createElement(OP,{isHighlighted:x,ref:d},SP.default.createElement("span",null,o||"Props")),SP.default.createElement(NP,{isCollapsed:E,isVector:S,onClick:function(){null==k||k.set(!k.get())}},SP.default.createElement(j_,null))),S&&E&&SP.default.createElement(ZP,null,[].concat(s).map((function(e){var t=m(e,2),i=t[0],a=t[1];return SP.default.createElement(wP,{key:"prop-"+i,propConfig:a,pointerToProp:n[i],obj:r})})))),!E&&SP.default.createElement(jP,{style:{"--depth":a},depth:a,lastSubIsComposite:w},[].concat(v(l),v(u)).map((function(e){var t=m(e,2),i=t[0],o=t[1];return SP.default.createElement(pA,{key:"prop-"+i,propConfig:o,pointerToProp:n[i],obj:r,visualIndentation:a+1})}))))}var _P,SP,kP,EP,CP,MP,TP,PP,AP,DP,IP,RP,OP,LP,NP,zP,FP,jP,BP,UP,ZP,VP,HP,WP=L((function(){sM(),_P=n(8458),gf(),lm(),SP=j(Hd()),nv(),uM(),lM(),Fy(),py(),vA(),RM(),WT(),$T(),pP(),Qx(),bP(),cp(),kP=n(8458),X_(),WC(),CP=tv.div(EP||(EP=U(["\n  --step: 15px;\n  --left-pad: 15px;\n  ",";\n  --right-width: 60%;\n"])),gy),TP=tv.div(MP||(MP=U(["\n  height: 30px;\n  display: flex;\n  align-items: stretch;\n  position: relative;\n"]))),AP=tv.div(PP||(PP=U(["\n  padding-left: ",";\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  ",";\n"])),QC,(function(e){return e.isVectorProp?"width: calc(100% - var(--right-width))":""})),IP=tv.div(DP||(DP=U(["\n  flexshrink: 0;\n"]))),OP=cP(tv.div(RP||(RP=U(["\n  margin-left: 4px;\n  cursor: default;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  user-select: none;\n  &:hover {\n    color: white;\n  }\n  overflow: hidden;\n\n  ",";\n"])),(function(){return JC}))),NP=tv.span(LP||(LP=U(["\n  width: 28px;\n  height: 28px;\n  font-size: 9px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  transition: transform 0.05s ease-out, color 0.1s ease-out;\n  transform: rotateZ(","deg);\n  color: #66686a;\n\n  visibility: ",";\n\n  ",":hover & {\n    visibility: visible;\n  }\n\n  &:hover {\n    transform: rotateZ(","deg);\n    color: #c0c4c9;\n  }\n"])),(function(e){return e.isCollapsed?0:90}),(function(e){return!e.isVector&&e.isCollapsed||e.isVector&&!e.isCollapsed?"visible":"hidden"}),TP,(function(e){return e.isCollapsed?15:75})),zP=sm(.05,"#282b2f"),jP=tv.div(FP||(FP=U(["\n  /* background: ","; */\n  /* padding: "," 0; */\n"])),(function(e){var t=e.depth;return im(.03*t,zP)}),(function(e){return e.lastSubIsComposite?0:"4px"})),BP=HC((function(e){var t=Object.entries(e.props);return t.length<=3&&t.every((function(e){var t=m(e,2),n=t[0];return"number"===t[1].type&&["x","y","z"].includes(n)}))})),ZP=tv.div(UP||(UP=U(["\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n  padding: 0 8px 0 2px;\n  box-sizing: border-box;\n  height: 100%;\n  width: var(--right-width);\n  flex-shrink: 0;\n  flex-grow: 0;\n"]))),VP=SP.default.memo(xP),HP=new Map}));function GP(e){var t=e.isHighlighted;return"self"===t?"#1857a4":"descendent"===t?"#0a2f5c":"initial"}var qP=L((function(){}));function XP(e){var t,n=e.propConfig,r=e.pointerToProp,i=e.editingTools,a=e.children,o=e.isPropHighlightedD,s=null!=(t=n.label)?t:mf((0,KP.getPointerParts)(r).path),u=fy(null),l=m(u,2),c=l[0],f=AM(l[1],{menuItems:i.contextMenuItems}),d=m(f,1)[0];return YP.default.createElement($P,{isHighlighted:o},d,YP.default.createElement(eA,null,YP.default.createElement(iA,null,i.controlIndicators),YP.default.createElement(nA,{isHighlighted:o,ref:c,title:["obj","props"].concat(v((0,KP.getPointerParts)(r).path)).join(".")},s)),YP.default.createElement(oA,null,a))}var KP,YP,QP,$P,JP,eA,tA,nA,rA,iA,aA,oA,sA=L((function(){KP=n(8458),RM(),py(),Ud(),YP=j(Hd()),nv(),Fy(),lM(),pP(),uM(),qP(),$P=cP(tv.div(QP||(QP=U(["\n  display: flex;\n  height: 30px;\n  justify-content: flex-start;\n  align-items: stretch;\n  // We cannot calculate both the container (details panel) width and the descendant\n  // (this) width dynamically. This leads to the container width being calculated\n  // without this percentage being taken into consideration leads to horizontal\n  // clipping/scrolling--the same way as if we explicitly fixed either the container\n  // width, or the descendant width.\n  // The correct solution for tabulated UIs with dynamic container widths is to use\n  // CSS grid. For now I fixed this issue by just giving a great enough width\n  // to the details panel so most things don't break.\n  --right-width: 60%;\n  position: relative;\n  ",";\n\n  /* background-color: ","; */\n"])),gy,GP)),eA=tv.div(JP||(JP=U(["\n  box-sizing: border-box;\n  padding-left: ",";\n  padding-right: 4px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: stretch;\n  gap: 4px;\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: calc(100% - var(--right-width));\n"])),QC),nA=cP(tv.div(tA||(tA=U(["\n  text-align: left;\n  flex: 1 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  user-select: none;\n  cursor: default;\n\n  ",";\n  &:hover {\n    color: white;\n  }\n"])),JC)),iA=tv.div(rA||(rA=U(["\n  flex-basis: 8px;\n  flex: 0 0;\n  display: flex;\n  align-items: center;\n"]))),oA=tv.div(aA||(aA=U(["\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n  padding: 0 8px 0 2px;\n  box-sizing: border-box;\n  height: 100%;\n  width: var(--right-width);\n  flex-shrink: 0;\n  flex-grow: 0;\n"])))}));function uA(e){var t=e.propConfig,n=e.pointerToProp,r=e.obj,i=e.SimpleEditorComponent,a=vP(n,r,t),o=(0,lA.useMemo)((function(){return QT.getIsPropHighlightedD(R(I({},r.address),{pathToProp:(0,cA.getPointerParts)(n).path}))}),[n]);return lA.default.createElement(XP,{editingTools:a,propConfig:t,pointerToProp:n,isPropHighlightedD:o},lA.default.createElement(i,{editingTools:a,propConfig:t,value:a.value}))}var lA,cA,fA,dA,pA,hA=L((function(){lA=j(Hd()),bP(),sA(),cA=n(8458),$T(),fA=lA.default.memo(uA)})),vA=L((function(){dA=j(Hd()),VC(),WP(),hA(),pA=function(e){var t=e.propConfig,n=e.visualIndentation,r=e.pointerToProp,i=e.obj;if("compound"===t.type)return dA.default.createElement(VP,{obj:i,visualIndentation:n,pointerToProp:r,propConfig:t});if("enum"===t.type)return dA.default.createElement(dA.default.Fragment,null);var a=UC[t.type];return dA.default.createElement(fA,{SimpleEditorComponent:a,obj:i,visualIndentation:n,pointerToProp:r,propConfig:t})}}));function mA(e){return gA.has(e)||gA.set(e,(yA++).toString()),gA.get(e)}var gA,yA,bA,wA,xA,_A,SA,kA,EA,CA,MA,TA,PA=L((function(){gA=new WeakMap,yA=0})),AA=L((function(){bA=j(Hd()),vA(),cp(),PA(),nv(),xA=tv.div(wA||(wA=U(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  padding: 8px;\n"]))),SA=tv.button(_A||(_A=U(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  border-radius: 2px;\n\n  color: #a8a8a9;\n  background: rgba(255, 255, 255, 0.1);\n\n  border: none;\n  height: 28px;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.15);\n  }\n\n  &:active {\n    background: rgba(255, 255, 255, 0.2);\n  }\n"]))),kA=function(e){var t=e.objects[0],n=np(t.template.configPointer),r=np(t.template._temp_actionsPointer);return bA.default.createElement(bA.default.Fragment,null,bA.default.createElement(pA,{key:mA(t),obj:t,pointerToProp:t.propsP,propConfig:n,visualIndentation:1}),bA.default.createElement(xA,null,r&&Object.entries(r).map((function(e){var n=m(e,2),r=n[0],i=n[1];return bA.default.createElement(SA,{key:r,onClick:function(){i(t.publicApi)}},r)}))))}})),DA=L((function(){nv(),CA=tv.button(EA||(EA=U(["\n  text-align: center;\n  padding: 8px;\n  border-radius: 2px;\n  border: 1px solid #627b7b87;\n  background-color: #4b787d3d;\n  color: #eaeaea;\n  font-weight: 400;\n  display: block;\n  appearance: none;\n  flex-grow: 1;\n  cursor: ",";\n  opacity: ",";\n\n  &:hover {\n    background-color: #7dc1c878;\n    border-color: #9ebcbf;\n  }\n"])),(function(e){return e.disabled?"none":"pointer"}),(function(e){return e.disabled?.4:1})),MA=CA})),IA=L((function(){})),RA=L((function(){IA(),TA=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;){var r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t}}));function OA(){return TA(16)}var LA,NA,zA,FA,jA,BA,UA=L((function(){RA()})),ZA=L((function(){LA=n(8458),py(),NA=j(Hd()),zA=(0,NA.createContext)(null),FA=0,jA=function(){var e=(0,NA.useMemo)((function(){return FA++}),[]),t=(0,NA.useContext)(zA),n=t.cur,r=t.set,i=fy(!1),a=m(i,2),o=a[0],s=a[1],u=(0,NA.useCallback)((function(t,n){r(t?e:-1,n)}),[]);return(0,NA.useEffect)((function(){return n.onStale((function(){var t=n.getValue()===e;o.current!==t&&(o.current=t)}))}),[n,e]),[s,u]},BA=function(e){var t=e.children,n=(0,NA.useMemo)((function(){return new LA.Atom(-1)}),[]),r=n.prism,i=(0,NA.useMemo)((function(){var e;return function(t,r){var i=void 0!==e;void 0!==e&&(clearTimeout(e),e=void 0),0===r||i?n.set(t):e=setTimeout((function(){n.set(t),e=void 0}),r)}}),[]);return NA.default.createElement(zA.Provider,{value:{cur:r,set:i}},t)}}));function VA(e,t){var n=!1!==e.enabled,r=jA(),i=m(r,2),a=i[0],o=i[1],s=fy(null),u=m(s,2),l=u[0],c=u[1];(0,WA.useEffect)((function(){if(n){var t=l.current;if(t){var r=function(){var t;return o(!0,null!=(t=e.enterDelay)?t:400)},i=function(){var t;return o(!1,null!=(t=e.exitDelay)?t:200)};return t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",i),function(){t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",i)}}}}),[l,n,e.enterDelay,e.exitDelay]);var f=(0,HA.useContext)(oy);return[n&&a&&c?(0,qA.createPortal)(GA.default.createElement(wE,{children:t,target:c,onClickOutside:zy,verticalPlacement:e.verticalPlacement,verticalGap:e.verticalGap}),f):GA.default.createElement(GA.default.Fragment,null),l,a]}var HA,WA,GA,qA,XA,KA,YA,QA,$A,JA,eD,tD,nD,rD,iD,aD,oD,sD,uD,lD,cD,fD,dD,pD,hD,vD,mD,gD,yD,bD,wD,xD,_D,SD,kD,ED,CD,MD,TD=L((function(){py(),HA=j(Hd()),WA=j(Hd()),GA=j(Hd()),_E(),qA=j(Xd()),ZA(),cy(),By()})),PD=L((function(){nv(),XE(),KA=tv(WE)(XA||(XA=U(["\n  padding: 1em;\n  max-width: 240px;\n  pointer-events: none !important;\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: #45464d;\n"]))),YA=KA})),AD=L((function(){cp(),q(),QA=j(Hd()),nv(),UA(),TD(),PD(),DA(),JA=tv.div($A||($A=U(["\n  padding: 8px 10px;\n  position: relative;\n  background-color: #6d232352;\n  &:before {\n    position: absolute;\n    content: ' ';\n    display: block;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 2px;\n    background-color: #ff000070;\n  }\n"]))),tD=tv.div(eD||(eD=U(["\n  margin-bottom: 1em;\n  & a {\n    color: inherit;\n  }\n"]))),rD=tv.div(nD||(nD=U(["\n  display: flex;\n  gap: 8px;\n"]))),iD=function(e){var t=e.projectId,n=np(W().atomP.ephemeral.coreByProject[t].loadingState);return n&&"browserStateIsNotBasedOnDiskState"===n.type?QA.default.createElement(aD,{loadingState:n,projectId:t}):null},aD=function(e){var t=e.projectId,n=e.loadingState,r=VA({},(function(){return QA.default.createElement(YA,null,"The browser's state will override the disk state.")})),i=m(r,2),a=i[0],o=i[1],s=VA({},(function(){return QA.default.createElement(YA,null,"The disk's state will override the browser's state.")})),u=m(s,2),l=u[0],c=u[1];return QA.default.createElement(JA,null,QA.default.createElement(tD,null,"Browser state is not based on disk state."," ",QA.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),QA.default.createElement(rD,null,a,QA.default.createElement(MA,{onClick:function(){W().transaction((function(e){var r=e.drafts,i=e.stateEditors;i.coreByProject.historic.revisionHistory.add({projectId:t,revision:n.onDiskState.revisionHistory[0]}),i.coreByProject.historic.revisionHistory.add({projectId:t,revision:OA()}),r.ephemeral.coreByProject[t].loadingState={type:"loaded"}}))},ref:o},"Use browser's state"),l,QA.default.createElement(MA,{onClick:function(){W().transaction((function(e){var r=e.drafts;r.historic.coreByProject[t]=n.onDiskState,r.ephemeral.coreByProject[t].loadingState={type:"loaded"}}))},ref:c},"Use disk state")))},oD=iD})),DD=N((function(o,s){var u;u=function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){return i(t[o][1][e]||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var a=void 0,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,o,s,u,l,c=[],f=0,d=e.length,p=d,h="string"!==r.getTypeOf(e);f<e.length;)p=d-f,i=h?(t=e[f++],n=f<d?e[f++]:0,f<d?e[f++]:0):(t=e.charCodeAt(f++),n=f<d?e.charCodeAt(f++):0,f<d?e.charCodeAt(f++):0),o=t>>2,s=(3&t)<<4|n>>4,u=1<p?(15&n)<<2|i>>6:64,l=2<p?63&i:64,c.push(a.charAt(o)+a.charAt(s)+a.charAt(u)+a.charAt(l));return c.join("")},n.decode=function(e){var t,n,r,o,s,u,l=0,c=0,f="data:";if(e.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var d,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&p--,e.charAt(e.length-2)===a.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=i.uint8array?new Uint8Array(0|p):new Array(0|p);l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(o=a.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(s=a.indexOf(e.charAt(l++)))>>2,r=(3&s)<<6|(u=a.indexOf(e.charAt(l++))),d[c++]=t,64!==s&&(d[c++]=n),64!==u&&(d[c++]=r);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){var r=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var a=i,o=0+n;e^=-1;for(var s=0;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,n,r){var a=i,o=0+n;e^=-1;for(var s=0;s<o;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var r;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=r?"uint8array":"array";function u(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(u,o),u.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},u.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new u("Deflate",e)},n.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,o,c){var f,d,p=e.file,h=e.compression,v=c!==s.utf8encode,m=a.transformTo("string",c(p.name)),g=a.transformTo("string",s.utf8encode(p.name)),y=p.comment,b=a.transformTo("string",c(y)),w=a.transformTo("string",s.utf8encode(y)),x=g.length!==p.name.length,_=w.length!==y.length,S="",k="",E="",C=p.dir,M=p.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var P=0;t&&(P|=8),v||!x&&!_||(P|=2048);var A=0,D=0;C&&(A|=16),"UNIX"===o?(D=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,C)):(D=20,A|=63&(p.dosPermissions||0)),f=M.getUTCHours(),f<<=6,f|=M.getUTCMinutes(),f<<=5,f|=M.getUTCSeconds()/2,d=M.getUTCFullYear()-1980,d<<=4,d|=M.getUTCMonth()+1,d<<=5,d|=M.getUTCDate(),x&&(k=r(1,1)+r(u(m),4)+g,S+="up"+r(k.length,2)+k),_&&(E=r(1,1)+r(u(b),4)+w,S+="uc"+r(E.length,2)+E);var I="";return I+="\n\0",I+=r(P,2),I+=h.magic,I+=r(f,2),I+=r(d,2),I+=r(T.crc32,4),I+=r(T.compressedSize,4),I+=r(T.uncompressedSize,4),I+=r(m.length,2),I+=r(S.length,2),{fileRecord:l.LOCAL_FILE_HEADER+I+m+S,dirRecord:l.CENTRAL_FILE_HEADER+r(D,2)+I+r(b.length,2)+"\0\0\0\0"+r(A,4)+r(i,4)+m+S+b}}var a=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),u=e("../crc32"),l=e("../signature");function c(e,t,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(c,o),c.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t,n=this.streamFiles&&!e.file.dir,a=i(e,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),n)this.push({data:(t=e,l.DATA_DESCRIPTOR+r(t.crc32,4)+r(t.compressedSize,4)+r(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var s=a.transformTo("string",o(i));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(r){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,n){o++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},u=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:u,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(s){a.error(s)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var r=e("./utils"),i=e("./external"),a=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),u=e("./nodejsUtils");function l(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new o(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(l(r[a]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),a=i.files,o=0;o<a.length;o++){var s=a[o],u=s.fileNameStr,l=r.resolve(s.fileNameStr);n.file(l,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(l).unsafeOriginalName=u)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var r=e("../utils"),i=e("../stream/GenericWorker");function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,i),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){function r(e,t,n){var r,i=a.getTypeOf(t),s=a.extend(n||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=v(e)),s.createFolders&&(r=h(e))&&m.call(this,r,!0);var f,g="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!g),(t instanceof l&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string"),f=t instanceof l||t instanceof o?t:d.isNode&&d.isStream(t)?new p(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new c(e,f,s);this.files[e]=y}var i=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),u=e("./defaults"),l=e("./compressedObject"),c=e("./zipObject"),f=e("./generate"),d=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:u.createFolders,e=v(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=f.generateWorker(this,n,r)}catch(u){(t=new o("error")).error(u)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var r=e("../utils"),i=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),u=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new u(r.transformTo("uint8array",e)):new a(r.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){var r=e("./GenericWorker"),i=e("../utils");function a(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var r=e("./GenericWorker"),i=e("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,r),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){var r=e("../utils"),i=e("./ConvertWorker"),a=e("./GenericWorker"),o=e("../base64"),s=e("../support"),u=e("../external"),l=null;if(s.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(f){}function c(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,r.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(s){this._worker=new a("error"),this._worker.error(s)}}c.prototype={accumulate:function(e){return function(e,t){return new u.Promise((function(n,i){var a=[],s=e._internalType,u=e._outputType,l=e._mimeType;e.on("data",(function(e,n){a.push(e),t&&t(n)})).on("error",(function(e){a=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return r.transformTo(e,t)}}(u,function(e,t){var n,r=0,i=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(a),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,a),l);n(e)}catch(t){i(t)}a=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(a){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(o){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(a){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var r=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(){o.call(this,"utf-8 decode"),this.leftOver=null}function c(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,r,a,o,s=e.length,u=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(u):new Array(u),a=o=0;o<u;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,a,o=e.length,u=new Array(2*o);for(t=n=0;t<o;)if((i=e[t++])<128)u[n++]=i;else if(4<(a=s[i]))u[n++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&t<o;)i=i<<6|63&e[t++],a--;1<a?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(l,o),l.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),u=t;o!==t.length&&(i.uint8array?(u=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(u=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(u),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(c,o),c.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var r=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),o=e("./external");function s(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(a){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var r=[],i=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,a)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return l.stringifyByChunk(e,r,t)}catch(a){t=Math.floor(t/2)}return l.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=c;var d={};d.string={string:s,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,a.allocBuffer(e.length))}},d.array={string:c,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},d.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:c,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},d.nodebuffer={string:c,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return d[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&a.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,s,l){return o.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var c,f=n.getTypeOf(t);return f?("arraybuffer"===f?t=n.transformTo("uint8array",t):"string"===f&&(l?t=i.decode(t):a&&!0!==s&&(t=u(c=t,r.uint8array?new Uint8Array(c.length):new Array(c.length)))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var r=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=e("./support");function u(e){this.files=[],this.loadOptions=e}u.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var r=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),u=e("./compressions"),l=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in u)if(Object.prototype.hasOwnProperty.call(u,t)&&u[t].magic===e)return u[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),u=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(s){(t=new u("error")).error(s)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<l.length;f++)r.prototype[l[f]]=c;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(c),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var u=new e.MessageChannel;u.port1.onmessage=c,n=function(){u.port2.postMessage(0)}}var l=[];function c(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){var r=e("immediate");function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(i){return a.reject(e,i)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=h((function(){t(i,r)}));"error"===o.status&&r(o.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==u?f(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=h(d,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return a.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,u=-1,l=new this(i);++u<n;)c(e[u],u);return l;function c(e,i){t.resolve(e).then((function(e){o[i]=e,++s!==n||r||(r=!0,a.resolve(l,o))}),(function(e){r||(r=!0,a.reject(l,e))}))}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t,n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(i);++o<n;)t=e[o],this.resolve(t).then((function(e){r||(r=!0,a.resolve(s,e))}),(function(e){r||(r=!0,a.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var r=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),u=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(o[n]);this._dict_set=!0}}function c(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}l.prototype.push=function(e,t){var n,o,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,o))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),!(s.avail_out=0))},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=l,n.deflate=c,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var r=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),u=e("./zlib/zstream"),l=e("./zlib/gzheader"),c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,u,l,f,d,p=this.strm,h=this.options.chunkSize,v=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?p.input=a.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(h),p.next_out=0,p.avail_out=h),(n=r.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&v&&(d="string"==typeof v?a.string2buf(v):"[object ArrayBuffer]"===c.call(v)?new Uint8Array(v):v,n=r.inflateSetDictionary(this.strm,d)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==o.Z_STREAM_END&&(0!==p.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(u=a.utf8border(p.output,p.next_out),l=p.next_out-u,f=a.buf2string(p.output,u),p.next_out=l,p.avail_out=h-l,l&&i.arraySet(p.output,p.output,u,l,0),this.onData(f)):this.onData(i.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=f,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,t,n){var r=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(l){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function u(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,a,o,s=e.length,u=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),a=o=0;o<u;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return u(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,a,s=t||e.length,l=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if(4<(a=o[i]))l[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&n<s;)i=i<<6|63&e[n++],a--;1<a?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return u(l,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(i=i+t[r++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){var r,i=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),u=e("./messages"),l=-2,c=258,f=262,d=113;function p(e,t){return e.msg=u[t],t}function h(e){return(e<<1)-(4<e?9:0)}function v(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function g(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function y(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function w(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-f?e.strstart-(e.w_size-f):0,l=e.window,d=e.w_mask,p=e.prev,h=e.strstart+c,v=l[a+o-1],m=l[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+o]===m&&l[n+o-1]===v&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do{}while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<h);if(r=c-(h-a),a=h-c,o<r){if(e.match_start=t,s<=(o=r))break;v=l[a+o-1],m=l[a+o]}}}while((t=p[t&d])>u&&0!=--i);return o<=e.lookahead?o:e.lookahead}function x(e){var t,n,r,a,u,l,c,d,p,h,v=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=v+(v-f)){for(i.arraySet(e.window,e.window,v,v,0),e.match_start-=v,e.strstart-=v,e.block_start-=v,t=n=e.hash_size;r=e.head[--t],e.head[t]=v<=r?r-v:0,--n;);for(t=n=v;r=e.prev[--t],e.prev[t]=v<=r?r-v:0,--n;);a+=v}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,d=e.strstart+e.lookahead,h=void 0,(p=a)<(h=l.avail_in)&&(h=p),n=0===h?0:(l.avail_in-=h,i.arraySet(c,l.input,l.next_in,h,d),1===l.state.wrap?l.adler=o(l.adler,c,h,d):2===l.state.wrap&&(l.adler=s(l.adler,c,h,d)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=3)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+3-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<f&&0!==e.strm.avail_in)}function _(e,t){for(var n,r;;){if(e.lookahead<f){if(x(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-f&&(e.match_length=w(e,n)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function S(e,t){for(var n,r,i;;){if(e.lookahead<f){if(x(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-f&&(e.match_length=w(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(g(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&g(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function k(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):p(e,l)}function M(e){var t,n=C(e);return 0===n&&((t=e.state).window_size=2*t.w_size,v(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function T(e,t,n,r,a,o){if(!e)return l;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),a<1||9<a||8!==n||r<8||15<r||t<0||9<t||o<0||4<o)return p(e,l);8===r&&(r=9);var u=new E;return(e.state=u).strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=o,u.method=n,M(e)}r=[new k(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(x(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,g(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-f&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(g(e,!1),e.strm.avail_out),1)})),new k(4,4,8,4,_),new k(4,5,16,8,_),new k(4,6,32,32,_),new k(4,4,16,16,S),new k(8,16,32,32,S),new k(8,16,128,128,S),new k(8,32,128,256,S),new k(32,128,258,1024,S),new k(32,258,258,4096,S)],n.deflateInit=function(e,t){return T(e,t,8,15,8,0)},n.deflateInit2=T,n.deflateReset=M,n.deflateResetKeep=C,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},n.deflate=function(e,t){var n,i,o,u;if(!e||!e.state||5<t||t<0)return e?p(e,l):l;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return p(e,0===e.avail_out?-5:l);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,y(i,31),y(i,139),y(i,8),i.gzhead?(y(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),y(i,255&i.gzhead.time),y(i,i.gzhead.time>>8&255),y(i,i.gzhead.time>>16&255),y(i,i.gzhead.time>>24&255),y(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),y(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(y(i,255&i.gzhead.extra.length),y(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(y(i,0),y(i,0),y(i,0),y(i,0),y(i,0),y(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),y(i,3),i.status=d);else{var f=8+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=d,b(i,f),0!==i.strstart&&(b(i,e.adler>>>16),b(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending!==i.pending_buf_size));)y(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,y(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,y(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(e),i.pending+2<=i.pending_buf_size&&(y(i,255&e.adler),y(i,e.adler>>8&255),e.adler=0,i.status=d)):i.status=d),0!==i.pending){if(m(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(n)&&4!==t)return p(e,-5);if(666===i.status&&0!==e.avail_in)return p(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var w=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(x(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=c){if(x(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+c;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=c-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==w&&4!==w||(i.status=666),1===w||3===w)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===w&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(v(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(y(i,255&e.adler),y(i,e.adler>>8&255),y(i,e.adler>>16&255),y(i,e.adler>>24&255),y(i,255&e.total_in),y(i,e.total_in>>8&255),y(i,e.total_in>>16&255),y(i,e.total_in>>24&255)):(b(i,e.adler>>>16),b(i,65535&e.adler)),m(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==d&&666!==t?p(e,l):(e.state=null,t===d?p(e,-3):0):l},n.deflateSetDictionary=function(e,t){var n,r,a,s,u,c,f,d,p=t.length;if(!e||!e.state||2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return l;for(1===s&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(v(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,p-n.w_size,n.w_size,0),t=d,p=n.w_size),u=e.avail_in,c=e.next_in,f=e.input,e.avail_in=p,e.next_in=0,e.input=t,x(n);n.lookahead>=3;){for(r=n.strstart,a=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--a;);n.strstart=r,n.lookahead=2,x(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=f,e.avail_in=u,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n,r,i,a,o,s,u,l,c,f,d,p,h,v,m,g,y,b,w,x,_,S,k,E,C;n=e.state,r=e.next_in,E=e.input,i=r+(e.avail_in-5),a=e.next_out,C=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,f=n.wnext,d=n.window,p=n.hold,h=n.bits,v=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{h<15&&(p+=E[r++]<<h,h+=8,p+=E[r++]<<h,h+=8),b=v[p&g];t:for(;;){if(p>>>=w=b>>>24,h-=w,0===(w=b>>>16&255))C[a++]=65535&b;else{if(!(16&w)){if(!(64&w)){b=v[(65535&b)+(p&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(h<w&&(p+=E[r++]<<h,h+=8),x+=p&(1<<w)-1,p>>>=w,h-=w),h<15&&(p+=E[r++]<<h,h+=8,p+=E[r++]<<h,h+=8),b=m[p&y];n:for(;;){if(p>>>=w=b>>>24,h-=w,!(16&(w=b>>>16&255))){if(!(64&w)){b=m[(65535&b)+(p&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,h<(w&=15)&&(p+=E[r++]<<h,(h+=8)<w&&(p+=E[r++]<<h,h+=8)),u<(_+=p&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=w,h-=w,(w=a-o)<_){if(c<(w=_-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=d,(S=0)===f){if(S+=l-w,w<x){for(x-=w;C[a++]=d[S++],--w;);S=a-_,k=C}}else if(f<w){if(S+=l+f-w,(w-=f)<x){for(x-=w;C[a++]=d[S++],--w;);if(S=0,f<x){for(x-=w=f;C[a++]=d[S++],--w;);S=a-_,k=C}}}else if(S+=f-w,w<x){for(x-=w;C[a++]=d[S++],--w;);S=a-_,k=C}for(;2<x;)C[a++]=k[S++],C[a++]=k[S++],C[a++]=k[S++],x-=3;x&&(C[a++]=k[S++],1<x&&(C[a++]=k[S++]))}else{for(S=a-_;C[a++]=C[S++],C[a++]=C[S++],C[a++]=C[S++],2<(x-=3););x&&(C[a++]=C[S++],1<x&&(C[a++]=C[S++]))}break}}break}}while(r<i&&a<s);r-=x=h>>3,p&=(1<<(h-=x<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=h}},{}],49:[function(e,t,n){var r=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),u=-2;function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):u}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):u}function p(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?u:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,d(e))):u}function h(e,t){var n,r;return e?(r=new c,(e.state=r).window=null,0!==(n=p(e,t))&&(e.state=null),n):u}var v,m,g=!0;function y(e){if(g){var t;for(v=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=v,e.lenbits=9,e.distcode=m,e.distbits=5}function b(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=d,n.inflateReset2=p,n.inflateResetKeep=f,n.inflateInit=function(e){return h(e,15)},n.inflateInit2=h,n.inflate=function(e,t){var n,c,f,d,p,h,v,m,g,w,x,_,S,k,E,C,M,T,P,A,D,I,R,O,L=0,N=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;12===(n=e.state).mode&&(n.mode=13),p=e.next_out,f=e.output,v=e.avail_out,d=e.next_in,c=e.input,h=e.avail_in,m=n.hold,g=n.bits,w=h,x=v,I=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}if(2&n.wrap&&35615===m){N[n.check=0]=255&m,N[1]=m>>>8&255,n.check=a(n.check,N,2,0),g=m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(g-=4,D=8+(15&(m>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&m?10:12,g=m=0;break;case 2:for(;g<16;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=a(n.check,N,2,0)),g=m=0,n.mode=3;case 3:for(;g<32;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}n.head&&(n.head.time=m),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,N[2]=m>>>16&255,N[3]=m>>>24&255,n.check=a(n.check,N,4,0)),g=m=0,n.mode=4;case 4:for(;g<16;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=a(n.check,N,2,0)),g=m=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=a(n.check,N,2,0)),g=m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(h<(_=n.length)&&(_=h),_&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,d,_,D)),512&n.flags&&(n.check=a(n.check,c,_,d)),h-=_,d+=_,n.length-=_),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===h)break e;for(_=0;D=c[d+_++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&_<h;);if(512&n.flags&&(n.check=a(n.check,c,_,d)),h-=_,d+=_,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===h)break e;for(_=0;D=c[d+_++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&_<h;);if(512&n.flags&&(n.check=a(n.check,c,_,d)),h-=_,d+=_,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}g=m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}e.adler=n.check=l(m),g=m=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=p,e.avail_out=v,e.next_in=d,e.avail_in=h,n.hold=m,n.bits=g,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}switch(n.last=1&m,g-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6!==t)break;m>>>=2,g-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,g=m=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(_=n.length){if(h<_&&(_=h),v<_&&(_=v),0===_)break e;r.arraySet(f,c,d,_,p),h-=_,d+=_,v-=_,p+=_,n.length-=_;break}n.mode=12;break;case 17:for(;g<14;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}if(n.nlen=257+(31&m),m>>>=5,g-=5,n.ndist=1+(31&m),m>>>=5,g-=5,n.ncode=4+(15&m),m>>>=4,g-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}n.lens[z[n.have++]]=7&m,m>>>=3,g-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},I=s(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,I){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;C=(L=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,M=65535&L,!((E=L>>>24)<=g);){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}if(M<16)m>>>=E,g-=E,n.lens[n.have++]=M;else{if(16===M){for(O=E+2;g<O;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}if(m>>>=E,g-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],_=3+(3&m),m>>>=2,g-=2}else if(17===M){for(O=E+3;g<O;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}g-=E,D=0,_=3+(7&(m>>>=E)),m>>>=3,g-=3}else{for(O=E+7;g<O;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}g-=E,D=0,_=11+(127&(m>>>=E)),m>>>=7,g-=7}if(n.have+_>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;_--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},I=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,I){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},I=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,I){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=h&&258<=v){e.next_out=p,e.avail_out=v,e.next_in=d,e.avail_in=h,n.hold=m,n.bits=g,o(e,x),p=e.next_out,f=e.output,v=e.avail_out,d=e.next_in,c=e.input,h=e.avail_in,m=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;C=(L=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,M=65535&L,!((E=L>>>24)<=g);){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}if(C&&!(240&C)){for(T=E,P=C,A=M;C=(L=n.lencode[A+((m&(1<<T+P)-1)>>T)])>>>16&255,M=65535&L,!(T+(E=L>>>24)<=g);){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}m>>>=T,g-=T,n.back+=T}if(m>>>=E,g-=E,n.back+=E,n.length=M,0===C){n.mode=26;break}if(32&C){n.back=-1,n.mode=12;break}if(64&C){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&C,n.mode=22;case 22:if(n.extra){for(O=n.extra;g<O;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;C=(L=n.distcode[m&(1<<n.distbits)-1])>>>16&255,M=65535&L,!((E=L>>>24)<=g);){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}if(!(240&C)){for(T=E,P=C,A=M;C=(L=n.distcode[A+((m&(1<<T+P)-1)>>T)])>>>16&255,M=65535&L,!(T+(E=L>>>24)<=g);){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}m>>>=T,g-=T,n.back+=T}if(m>>>=E,g-=E,n.back+=E,64&C){e.msg="invalid distance code",n.mode=30;break}n.offset=M,n.extra=15&C,n.mode=24;case 24:if(n.extra){for(O=n.extra;g<O;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===v)break e;if(_=x-v,n.offset>_){if((_=n.offset-_)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}S=_>n.wnext?(_-=n.wnext,n.wsize-_):n.wnext-_,_>n.length&&(_=n.length),k=n.window}else k=f,S=p-n.offset,_=n.length;for(v<_&&(_=v),v-=_,n.length-=_;f[p++]=k[S++],--_;);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;f[p++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===h)break e;h--,m|=c[d++]<<g,g+=8}if(x-=v,e.total_out+=x,n.total+=x,x&&(e.adler=n.check=n.flags?a(n.check,f,x,p-x):i(n.check,f,x,p-x)),x=v,(n.flags?m:l(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}g=m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===h)break e;h--,m+=c[d++]<<g,g+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}g=m=0}n.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;default:return u}return e.next_out=p,e.avail_out=v,e.next_in=d,e.avail_in=h,n.hold=m,n.bits=g,(n.wsize||x!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&b(e,e.output,e.next_out,x-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,x-=e.avail_out,e.total_in+=w,e.total_out+=x,n.total+=x,n.wrap&&x&&(e.adler=n.check=n.flags?a(n.check,f,x,e.next_out-x):i(n.check,f,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===x||4===t)&&0===I&&(I=-5),I)},n.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?((n.head=t).done=!1,0):u},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?u:11===n.mode&&i(1,t,r,0)!==n.check?-3:b(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):u},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,u,l,c,f,d){var p,h,v,m,g,y,b,w,x,_=d.bits,S=0,k=0,E=0,C=0,M=0,T=0,P=0,A=0,D=0,I=0,R=null,O=0,L=new r.Buf16(16),N=new r.Buf16(16),z=null,F=0;for(S=0;S<=15;S++)L[S]=0;for(k=0;k<u;k++)L[t[n+k]]++;for(M=_,C=15;1<=C&&0===L[C];C--);if(C<M&&(M=C),0===C)return l[c++]=20971520,l[c++]=20971520,d.bits=1,0;for(E=1;E<C&&0===L[E];E++);for(M<E&&(M=E),S=A=1;S<=15;S++)if(A<<=1,(A-=L[S])<0)return-1;if(0<A&&(0===e||1!==C))return-1;for(N[1]=0,S=1;S<15;S++)N[S+1]=N[S]+L[S];for(k=0;k<u;k++)0!==t[n+k]&&(f[N[t[n+k]]++]=k);if(y=0===e?(R=z=f,19):1===e?(R=i,O-=257,z=a,F-=257,256):(R=o,z=s,-1),S=E,g=c,P=k=I=0,v=-1,m=(D=1<<(T=M))-1,1===e&&852<D||2===e&&592<D)return 1;for(;;){for(b=S-P,x=f[k]<y?(w=0,f[k]):f[k]>y?(w=z[F+f[k]],R[O+f[k]]):(w=96,0),p=1<<S-P,E=h=1<<T;l[g+(I>>P)+(h-=p)]=b<<24|w<<16|x|0,0!==h;);for(p=1<<S-1;I&p;)p>>=1;if(0!==p?(I&=p-1,I+=p):I=0,k++,0==--L[S]){if(S===C)break;S=t[n+f[k]]}if(M<S&&(I&m)!==v){for(0===P&&(P=M),g+=E,A=1<<(T=S-P);T+P<C&&!((A-=L[T+P])<=0);)T++,A<<=1;if(D+=1<<T,1===e&&852<D||2===e&&592<D)return 1;l[v=I&m]=M<<24|T<<16|g-c|0}}return 0!==I&&(l[g+I]=S-P<<24|64<<16|0),d.bits=M,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var r=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var a=256,o=286,s=30,u=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);i(p);var h=new Array(60);i(h);var v=new Array(512);i(v);var m=new Array(256);i(m);var g=new Array(29);i(g);var y,b,w,x=new Array(s);function _(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?v[e]:v[256+(e>>>7)]}function E(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,E(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function M(e,t,n){C(e,n[2*t],n[2*t+1])}function T(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function P(e,t,n){var r,i,a=new Array(16),o=0;for(r=1;r<=u;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=T(a[s]++,s))}}function A(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function D(e){8<e.bi_valid?E(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function R(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&I(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!I(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function O(e,t,n){var r,i,o,s,u=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?M(e,i,t):(M(e,(o=m[i])+a+1,t),0!==(s=l[o])&&C(e,i-=g[o],s),M(e,o=k(--r),n),0!==(s=c[o])&&C(e,r-=x[o],s)),u<e.last_lit;);M(e,256,t)}function L(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)R(e,a,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,R(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,l=t.dyn_tree,c=t.max_code,f=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,v=t.stat_desc.max_length,m=0;for(a=0;a<=u;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)v<(a=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(a=v,m++),l[2*r+1]=a,c<r||(e.bl_count[a]++,o=0,h<=r&&(o=p[r-h]),s=l[2*r],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(f[2*r+1]+o)));if(0!==m){do{for(a=v-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[v]--,m-=2}while(0<m);for(a=v;0!==a;a--)for(r=e.bl_count[a];0!==r;)c<(i=e.heap[--n])||(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}(e,t),P(a,c,e.bl_count)}function N(e,t,n){var r,i,a=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<u&&i===o||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=i,l=(s=0)===o?(u=138,3):i===o?(u=6,3):(u=7,4))}function z(e,t,n){var r,i,a=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<u&&i===o)){if(s<l)for(;M(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==a&&(M(e,i,e.bl_tree),s--),M(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(M(e,17,e.bl_tree),C(e,s-3,3)):(M(e,18,e.bl_tree),C(e,s-11,7));a=i,l=(s=0)===o?(u=138,3):i===o?(u=6,3):(u=7,4)}}i(x);var F=!1;function j(e,t,n,i){var a,o,s;C(e,0+(i?1:0),3),o=t,s=n,D(a=e),E(a,s),E(a,~s),r.arraySet(a.pending_buf,a.window,o,s,a.pending),a.pending+=s}n._tr_init=function(e){F||(function(){var e,t,n,r,i,a=new Array(16);for(r=n=0;r<28;r++)for(g[r]=n,e=0;e<1<<l[r];e++)m[n++]=r;for(m[n-1]=r,r=i=0;r<16;r++)for(x[r]=i,e=0;e<1<<c[r];e++)v[i++]=r;for(i>>=7;r<s;r++)for(x[r]=i<<7,e=0;e<1<<c[r]-7;e++)v[256+i++]=r;for(t=0;t<=u;t++)a[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,a[8]++;for(;e<=255;)p[2*e+1]=9,e++,a[9]++;for(;e<=279;)p[2*e+1]=7,e++,a[7]++;for(;e<=287;)p[2*e+1]=8,e++,a[8]++;for(P(p,287,a),e=0;e<s;e++)h[2*e+1]=5,h[2*e]=T(e,5);y=new _(p,l,257,o,u),b=new _(h,c,0,s,u),w=new _(new Array(0),f,0,19,7)}(),F=!0),e.l_desc=new S(e.dyn_ltree,y),e.d_desc=new S(e.dyn_dtree,b),e.bl_desc=new S(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,A(e)},n._tr_stored_block=j,n._tr_flush_block=function(e,t,n,r){var i,o,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),L(e,e.l_desc),L(e,e.d_desc),s=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),L(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?j(e,t,n,r):4===e.strategy||o===i?(C(e,2+(r?1:0),3),O(e,p,h)):(C(e,4+(r?1:0),3),function(e,t,n,r){var i;for(C(e,t-257,5),C(e,n-1,5),C(e,r-4,4),i=0;i<r;i++)C(e,e.bl_tree[2*d[i]+1],3);z(e,e.dyn_ltree,t-1),z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),O(e,e.dyn_ltree,e.dyn_dtree)),A(e),r&&D(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(m[n]+a+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;C(e,2,3),M(e,256,p),16===(t=e).bi_valid?(E(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){if(!e.setImmediate){var n,r,i,a,o=1,s={},u=!1,l=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",p,!1):e.attachEvent("onmessage",p),function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){i.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(d,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return s[o]=i,n(o),o++},c.clearImmediate=f}function f(e){delete s[e]}function d(e){if(u)setTimeout(d,0,e);else{var t=s[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),u=!1}}}}function p(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},"object"==typeof o&&"undefined"!=typeof s?s.exports=u():(i=[],void 0===(a="function"===typeof(r=u)?r.apply(t,i):r)||(e.exports=a))})),ID=L((function(){sD=j(Hd(),1),uD=j(Hd(),1),lD=function(e){return"function"==typeof e},cD=function(e,t){return lD(e)?e(t):e},fD=function(){var e=0;return function(){return(++e).toString()}}(),function(){var e;return function(){if(void 0===e&&typeof window<"u"){var t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}}(),20,dD=new Map,1e3,pD=function(e){if(!dD.has(e)){var t=setTimeout((function(){dD.delete(e),yD({type:4,toastId:e})}),1e3);dD.set(e,t)}},hD=function(e){var t=dD.get(e);t&&clearTimeout(t)},vD=function(e,t){switch(t.type){case 0:return R(I({},e),{toasts:[t.toast].concat(v(e.toasts)).slice(0,20)});case 1:return t.toast.id&&hD(t.toast.id),R(I({},e),{toasts:e.toasts.map((function(e){return e.id===t.toast.id?I(I({},e),t.toast):e}))});case 2:var n=t.toast;return e.toasts.find((function(e){return e.id===n.id}))?vD(e,{type:1,toast:n}):vD(e,{type:0,toast:n});case 3:var r=t.toastId;return r?pD(r):e.toasts.forEach((function(e){pD(e.id)})),R(I({},e),{toasts:e.toasts.map((function(e){return e.id===r||void 0===r?R(I({},e),{visible:!1}):e}))});case 4:return void 0===t.toastId?R(I({},e),{toasts:[]}):R(I({},e),{toasts:e.toasts.filter((function(e){return e.id!==t.toastId}))});case 5:return R(I({},e),{pausedAt:t.time});case 6:var i=t.time-(e.pausedAt||0);return R(I({},e),{pausedAt:void 0,toasts:e.toasts.map((function(e){return R(I({},e),{pauseDuration:e.pauseDuration+i})}))})}},mD=[],gD={toasts:[],pausedAt:void 0},yD=function(e){gD=vD(gD,e),mD.forEach((function(e){e(gD)}))},bD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,sD.useState)(gD),n=m(t,2),r=n[0],i=n[1];(0,sD.useEffect)((function(){return mD.push(i),function(){var e=mD.indexOf(i);e>-1&&mD.splice(e,1)}}),[r]);var a=r.toasts.map((function(t){var n,r;return R(I(I(I({},e),e[t.type]),t),{duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||bD[t.type],style:I(I(I({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})}));return R(I({},r),{toasts:a})},xD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return R(I({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{id:(null==n?void 0:n.id)||fD()})},(SD=function(e,t){return _D("blank")(e,t)}).error=(_D=function(e){return function(t,n){var r=xD(t,e,n);return yD({type:2,toast:r}),r.id}})("error"),SD.success=_D("success"),SD.loading=_D("loading"),SD.custom=_D("custom"),SD.dismiss=function(e){yD({type:3,toastId:e})},SD.remove=function(e){return yD({type:4,toastId:e})},SD.promise=function(e,t,n){var r=SD.loading(t.loading,I(I({},n),null==n?void 0:n.loading));return e.then((function(e){return SD.success(cD(t.success,e),I(I({id:r},n),null==n?void 0:n.success)),e})).catch((function(e){SD.error(cD(t.error,e),I(I({id:r},n),null==n?void 0:n.error))})),e},kD=function(e,t){yD({type:1,toast:{id:e,height:t}})},ED=function(){yD({type:5,time:Date.now()})},CD=function(e){var t=wD(e),n=t.toasts,r=t.pausedAt;(0,uD.useEffect)((function(){if(!r){var e=Date.now(),t=n.map((function(t){if(t.duration!==1/0){var n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((function(){return SD.dismiss(t.id)}),n);t.visible&&SD.dismiss(t.id)}}));return function(){t.forEach((function(e){return e&&clearTimeout(e)}))}}}),[n,r]);var i=(0,uD.useCallback)((function(){r&&yD({type:6,time:Date.now()})}),[r]),a=(0,uD.useCallback)((function(e,t){var r,i=t||{},a=i.reverseOrder,o=void 0!==a&&a,s=i.gutter,u=void 0===s?8:s,l=i.defaultPosition,c=n.filter((function(t){return(t.position||l)===(e.position||l)&&t.height})),f=c.findIndex((function(t){return t.id===e.id})),d=c.filter((function(e,t){return t<f&&e.visible})).length;return(r=c.filter((function(e){return e.visible}))).slice.apply(r,v(o?[d+1]:[0,d])).reduce((function(e,t){return e+(t.height||0)+u}),0)}),[n]);return{toasts:n,handlers:{updateHeight:kD,startPause:ED,endPause:i,calculateOffset:a}}},MD=SD}));function RD(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function OD(e,t){if(t){if(XD.test(e))return e.replace(KD,JD)}else if(YD.test(e))return e.replace(QD,JD);return e}function LD(e){return e.replace(eI,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function ND(e,t){e="string"==typeof e?e:e.source,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(tI,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}function zD(e,t,n){if(e){var r;try{r=decodeURIComponent(LD(n)).replace(nI,"").toLowerCase()}catch(i){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!rI.test(n)&&(n=function(e,t){iI[" "+e]||(aI.test(e)?iI[" "+e]=e+"/":iI[" "+e]=BD(e,"/",!0));var n=-1===(e=iI[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(oI,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(sI,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(r){return null}return n}function FD(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function jD(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function BD(e,t,n){var r=e.length;if(0===r)return"";for(var i=0;i<r;){var a=e.charAt(r-i-1);if(a!==t||n){if(a===t||!n)break;i++}else i++}return e.slice(0,r-i)}function UD(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ZD(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function VD(e,t,n,r){var i=t.href,a=t.title?OD(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;var s={type:"link",raw:n,href:i,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,s}return{type:"image",raw:n,href:i,title:a,text:OD(o)}}function HD(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function WD(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}function GD(e,t,n){if("undefined"==typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),UD(t=FD({},GD.defaults,t||{})),n){var r,i=t.highlight;try{r=dI.lex(e,t)}catch(l){return n(l)}var a=function(e){var a;if(!e)try{t.walkTokens&&GD.walkTokens(r,t.walkTokens),a=mI.parse(r,t)}catch(o){e=o}return t.highlight=i,e?n(e):n(null,a)};if(!i||i.length<3||(delete t.highlight,!r.length))return a();var o=0;return GD.walkTokens(r,(function(e){"code"===e.type&&(o++,setTimeout((function(){i(e.text,e.lang,(function(t,n){if(t)return a(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0===--o&&a()}))}),0))})),void(0===o&&a())}function s(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+OD(e.message+"",!0)+"</pre>";throw e}try{var u=dI.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(GD.walkTokens(u,t.walkTokens)).then((function(){return mI.parse(u,t)})).catch(s);GD.walkTokens(u,t.walkTokens)}return mI.parse(u,t)}catch(i){s(i)}}var qD,XD,KD,YD,QD,$D,JD,eI,tI,nI,rI,iI,aI,oI,sI,uI,lI,cI,fI,dI,pI,hI,vI,mI,gI,yI,bI,wI,xI,_I,SI,kI,EI,CI,MI,TI,PI,AI,DI,II,RI,OI,LI,NI,zI,FI,jI,BI,UI,ZI,VI,HI,WI,GI,qI,XI,KI,YI,QI,$I=L((function(){qD={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},XD=/[&<>"']/,KD=/[&<>"']/g,YD=/[<>"']|&(?!#?\w+;)/,QD=/[<>"']|&(?!#?\w+;)/g,$D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},JD=function(e){return $D[e]},eI=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,tI=/(^|[^\[])\^/g,nI=/[^\w:]/g,rI=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,iI={},aI=/^[^:]+:\/*[^/]*$/,oI=/^([^:]+:)[\s\S]*$/,sI=/^([^:]+:\/*[^/]*)[\s\S]*$/,uI={exec:function(){}},lI=function(){function e(t){s(this,e),this.options=t||qD}return o(e,[{key:"space",value:function(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}},{key:"code",value:function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:BD(n,"\n")}}}},{key:"fences",value:function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:m(t,1)[0].length>=r.length?e.slice(r.length):e})).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}}},{key:"heading",value:function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=BD(n,"#");(this.options.pedantic||!r||/ $/.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}},{key:"hr",value:function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}},{key:"blockquote",value:function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}},{key:"list",value:function(e){var t=this.rules.block.list.exec(e);if(t){var n,r,i,a,o,s,u,l,c,f,d,p,h=t[1].trim(),v=h.length>1,m={type:"list",raw:"",ordered:v,start:v?+h.slice(0,-1):"",loose:!1,items:[]};h=v?"\\d{1,9}\\".concat(h.slice(-1)):"\\".concat(h),this.options.pedantic&&(h=v?h:"[*+-]");for(var y=new RegExp("^( {0,3}".concat(h,")((?:[\t ][^\\n]*)?(?:\\n|$))"));e&&(p=!1,(t=y.exec(e))&&!this.rules.block.hr.test(e));){if(n=t[0],e=e.substring(n.length),l=t[2].split("\n",1)[0],c=e.split("\n",1)[0],this.options.pedantic?(a=2,d=l.trimLeft()):(a=(a=t[2].search(/[^ ]/))>4?1:a,d=l.slice(a),a+=t[1].length),s=!1,!l&&/^ *$/.test(c)&&(n+=c+"\n",e=e.substring(c.length+1),p=!0),!p)for(var b=new RegExp("^ {0,".concat(Math.min(3,a-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),w=new RegExp("^ {0,".concat(Math.min(3,a-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),x=new RegExp("^ {0,".concat(Math.min(3,a-1),"}(?:```|~~~)")),_=new RegExp("^ {0,".concat(Math.min(3,a-1),"}#"));e&&(l=f=e.split("\n",1)[0],this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(x.test(l)||_.test(l)||b.test(l)||w.test(e)));){if(l.search(/[^ ]/)>=a||!l.trim())d+="\n"+l.slice(a);else{if(s)break;d+="\n"+l}!s&&!l.trim()&&(s=!0),n+=f+"\n",e=e.substring(f.length+1)}m.loose||(u?m.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&((r=/^\[[ xX]\] /.exec(d))&&(i="[ ] "!==r[0],d=d.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:d}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=d.trimRight(),m.raw=m.raw.trimRight();var S=m.items.length;for(o=0;o<S;o++){this.lexer.state.top=!1,m.items[o].tokens=this.lexer.blockTokens(m.items[o].text,[]);var k=m.items[o].tokens.filter((function(e){return"space"===e.type})),E=k.every((function(e){var t,n=e.raw.split(""),r=0,i=g(n);try{for(i.s();!(t=i.n()).done;){if("\n"===t.value&&(r+=1),r>1)return!0}}catch(a){i.e(a)}finally{i.f()}return!1}));!m.loose&&k.length&&E&&(m.loose=!0,m.items[o].loose=!0)}return m}}},{key:"html",value:function(e){var t=this.rules.block.html.exec(e);if(t){var n={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){var r=this.options.sanitizer?this.options.sanitizer(t[0]):OD(t[0]);n.type="paragraph",n.text=r,n.tokens=this.lexer.inline(r)}return n}}},{key:"def",value:function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}},{key:"table",value:function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:jD(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,i,a,o,s=n.align.length;for(r=0;r<s;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(s=n.rows.length,r=0;r<s;r++)n.rows[r]=jD(n.rows[r],n.header.length).map((function(e){return{text:e}}));for(s=n.header.length,i=0;i<s;i++)n.header[i].tokens=this.lexer.inline(n.header[i].text);for(s=n.rows.length,i=0;i<s;i++)for(o=n.rows[i],a=0;a<o.length;a++)o[a].tokens=this.lexer.inline(o[a].text);return n}}}},{key:"lheading",value:function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}},{key:"paragraph",value:function(e){var t=this.rules.block.paragraph.exec(e);if(t){var n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}},{key:"text",value:function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}},{key:"escape",value:function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:OD(t[1])}}},{key:"tag",value:function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):OD(t[0]):t[0]}}},{key:"link",value:function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=BD(n.slice(0,-1),"\\");if((n.length-r.length)%2===0)return}else{var i=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&--r<0)return i;return-1}(t[2],"()");if(i>-1){var a=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,a).trim(),t[3]=""}}var o=t[2],s="";if(this.options.pedantic){var u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);u&&(o=u[1],s=u[3])}else s=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),VD(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}},{key:"reflink",value:function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return VD(n,r,n[0],this.lexer)}}},{key:"emStrong",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.rules.inline.emStrong.lDelim.exec(e);if(!(!r||r[3]&&n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/))){var i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){var a,o,s=r[0].length-1,u=s,l=0,c="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=c.exec(t));)if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(o=a.length,r[3]||r[4])u+=o;else if(!((r[5]||r[6])&&s%3)||(s+o)%3){if(!((u-=o)>0)){if(o=Math.min(o,o+u+l),Math.min(s,o)%2){var f=e.slice(1,s+r.index+o);return{type:"em",raw:e.slice(0,s+r.index+o+1),text:f,tokens:this.lexer.inlineTokens(f)}}var d=e.slice(2,s+r.index+o-1);return{type:"strong",raw:e.slice(0,s+r.index+o+1),text:d,tokens:this.lexer.inlineTokens(d)}}}else l+=o}}}},{key:"codespan",value:function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=OD(n,!0),{type:"codespan",raw:t[0],text:n}}}},{key:"br",value:function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}},{key:"del",value:function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}},{key:"autolink",value:function(e,t){var n,r,i=this.rules.inline.autolink.exec(e);if(i)return"@"===i[2]?r="mailto:"+(n=OD(this.options.mangle?t(i[1]):i[1])):r=n=OD(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}},{key:"url",value:function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,i;if("@"===n[2])i="mailto:"+(r=OD(this.options.mangle?t(n[0]):n[0]));else{var a;do{a=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(a!==n[0]);r=OD(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}},{key:"inlineText",value:function(e,t){var n,r=this.rules.inline.text.exec(e);if(r)return n=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):OD(r[0]):r[0]:OD(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:n}}}]),e}(),(cI={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:uI,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/})._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,cI._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,cI.def=ND(cI.def).replace("label",cI._label).replace("title",cI._title).getRegex(),cI.bullet=/(?:[*+-]|\d{1,9}[.)])/,cI.listItemStart=ND(/^( *)(bull) */).replace("bull",cI.bullet).getRegex(),cI.list=ND(cI.list).replace(/bull/g,cI.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+cI.def.source+")").getRegex(),cI._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",cI._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,cI.html=ND(cI.html,"i").replace("comment",cI._comment).replace("tag",cI._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),cI.paragraph=ND(cI._paragraph).replace("hr",cI.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cI._tag).getRegex(),cI.blockquote=ND(cI.blockquote).replace("paragraph",cI.paragraph).getRegex(),cI.normal=FD({},cI),cI.gfm=FD({},cI.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),cI.gfm.table=ND(cI.gfm.table).replace("hr",cI.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cI._tag).getRegex(),cI.gfm.paragraph=ND(cI._paragraph).replace("hr",cI.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",cI.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cI._tag).getRegex(),cI.pedantic=FD({},cI.normal,{html:ND("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",cI._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:uI,paragraph:ND(cI.normal._paragraph).replace("hr",cI.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",cI.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),(fI={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:uI,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:uI,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/})._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",fI.punctuation=ND(fI.punctuation).replace(/punctuation/g,fI._punctuation).getRegex(),fI.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,fI.escapedEmSt=/\\\*|\\_/g,fI._comment=ND(cI._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),fI.emStrong.lDelim=ND(fI.emStrong.lDelim).replace(/punct/g,fI._punctuation).getRegex(),fI.emStrong.rDelimAst=ND(fI.emStrong.rDelimAst,"g").replace(/punct/g,fI._punctuation).getRegex(),fI.emStrong.rDelimUnd=ND(fI.emStrong.rDelimUnd,"g").replace(/punct/g,fI._punctuation).getRegex(),fI._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,fI._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,fI._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,fI.autolink=ND(fI.autolink).replace("scheme",fI._scheme).replace("email",fI._email).getRegex(),fI._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,fI.tag=ND(fI.tag).replace("comment",fI._comment).replace("attribute",fI._attribute).getRegex(),fI._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,fI._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,fI._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,fI.link=ND(fI.link).replace("label",fI._label).replace("href",fI._href).replace("title",fI._title).getRegex(),fI.reflink=ND(fI.reflink).replace("label",fI._label).replace("ref",cI._label).getRegex(),fI.nolink=ND(fI.nolink).replace("ref",cI._label).getRegex(),fI.reflinkSearch=ND(fI.reflinkSearch,"g").replace("reflink",fI.reflink).replace("nolink",fI.nolink).getRegex(),fI.normal=FD({},fI),fI.pedantic=FD({},fI.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ND(/^!?\[(label)\]\((.*?)\)/).replace("label",fI._label).getRegex(),reflink:ND(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fI._label).getRegex()}),fI.gfm=FD({},fI.normal,{escape:ND(fI.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),fI.gfm.url=ND(fI.gfm.url,"i").replace("email",fI.gfm._extended_email).getRegex(),fI.breaks=FD({},fI.gfm,{br:ND(fI.br).replace("{2,}","*").getRegex(),text:ND(fI.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),dI=function(){function e(t){s(this,e),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||qD,this.options.tokenizer=this.options.tokenizer||new lI,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:cI.normal,inline:fI.normal};this.options.pedantic?(n.block=cI.pedantic,n.inline=fI.pedantic):this.options.gfm&&(n.block=cI.gfm,this.options.breaks?n.inline=fI.breaks:n.inline=fI.gfm),this.tokenizer.rules=n}return o(e,[{key:"lex",value:function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}},{key:"blockTokens",value:function(e){var t,n,r,i,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,n){return t+"    ".repeat(n.length)}));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(t=n.call({lexer:a},e,o))&&(e=e.substring(t.raw.length),o.push(t),!0)})))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),1===t.raw.length&&o.length>0?o[o.length-1].raw+="\n":o.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),!(n=o[o.length-1])||"paragraph"!==n.type&&"text"!==n.type?o.push(t):(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),o.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),o.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),o.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),o.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),o.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),o.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),!(n=o[o.length-1])||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title}):(n.raw+="\n"+t.raw,n.text+="\n"+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),o.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),o.push(t);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,n=e.slice(1),i=void 0;a.options.extensions.startBlock.forEach((function(e){"number"==typeof(i=e.call({lexer:this},n))&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}(),this.state.top&&(t=this.tokenizer.paragraph(r))){n=o[o.length-1],i&&"paragraph"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):o.push(t),i=r.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),(n=o[o.length-1])&&"text"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):o.push(t);continue}if(e){var s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}}return this.state.top=!0,o}},{key:"inline",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:e,tokens:t}),t}},{key:"inlineTokens",value:function(e){var t,n,r,i,a,o,s=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=e;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(l));)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+ZD("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,i.index)+"["+ZD("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,i.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(o=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(t=n.call({lexer:s},e,u))&&(e=e.substring(t.raw.length),u.push(t),!0)})))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),u.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),(n=u[u.length-1])&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):u.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),u.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),(n=u[u.length-1])&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):u.push(t);continue}if(t=this.tokenizer.emStrong(e,l,o)){e=e.substring(t.raw.length),u.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),u.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),u.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),u.push(t);continue}if(t=this.tokenizer.autolink(e,WD)){e=e.substring(t.raw.length),u.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e,WD))){e=e.substring(t.raw.length),u.push(t);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,n=e.slice(1),i=void 0;s.options.extensions.startInline.forEach((function(e){"number"==typeof(i=e.call({lexer:this},n))&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}(),t=this.tokenizer.inlineText(r,HD)){e=e.substring(t.raw.length),"_"!==t.raw.slice(-1)&&(o=t.raw.slice(-1)),a=!0,(n=u[u.length-1])&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):u.push(t);continue}if(e){var f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return u}}],[{key:"rules",get:function(){return{block:cI,inline:fI}}},{key:"lex",value:function(t,n){return new e(n).lex(t)}},{key:"lexInline",value:function(t,n){return new e(n).inlineTokens(t)}}]),e}(),pI=function(){function e(t){s(this,e),this.options=t||qD}return o(e,[{key:"code",value:function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+OD(r,!0)+'">'+(n?e:OD(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:OD(e,!0))+"</code></pre>\n"}},{key:"blockquote",value:function(e){return"<blockquote>\n".concat(e,"</blockquote>\n")}},{key:"html",value:function(e){return e}},{key:"heading",value:function(e,t,n,r){if(this.options.headerIds){var i=this.options.headerPrefix+r.slug(n);return"<h".concat(t,' id="').concat(i,'">').concat(e,"</h").concat(t,">\n")}return"<h".concat(t,">").concat(e,"</h").concat(t,">\n")}},{key:"hr",value:function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}},{key:"list",value:function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}},{key:"listitem",value:function(e){return"<li>".concat(e,"</li>\n")}},{key:"checkbox",value:function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}},{key:"paragraph",value:function(e){return"<p>".concat(e,"</p>\n")}},{key:"table",value:function(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}},{key:"tablerow",value:function(e){return"<tr>\n".concat(e,"</tr>\n")}},{key:"tablecell",value:function(e,t){var n=t.header?"th":"td";return(t.align?"<".concat(n,' align="').concat(t.align,'">'):"<".concat(n,">"))+e+"</".concat(n,">\n")}},{key:"strong",value:function(e){return"<strong>".concat(e,"</strong>")}},{key:"em",value:function(e){return"<em>".concat(e,"</em>")}},{key:"codespan",value:function(e){return"<code>".concat(e,"</code>")}},{key:"br",value:function(){return this.options.xhtml?"<br/>":"<br>"}},{key:"del",value:function(e){return"<del>".concat(e,"</del>")}},{key:"link",value:function(e,t,n){if(null===(e=zD(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+OD(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"}},{key:"image",value:function(e,t,n){if(null===(e=zD(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'.concat(e,'" alt="').concat(n,'"');return t&&(r+=' title="'.concat(t,'"')),r+=this.options.xhtml?"/>":">"}},{key:"text",value:function(e){return e}}]),e}(),hI=function(){function e(){s(this,e)}return o(e,[{key:"strong",value:function(e){return e}},{key:"em",value:function(e){return e}},{key:"codespan",value:function(e){return e}},{key:"del",value:function(e){return e}},{key:"html",value:function(e){return e}},{key:"text",value:function(e){return e}},{key:"link",value:function(e,t,n){return""+n}},{key:"image",value:function(e,t,n){return""+n}},{key:"br",value:function(){return""}}]),e}(),vI=function(){function e(){s(this,e),this.seen={}}return o(e,[{key:"serialize",value:function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}},{key:"getNextSafeSlug",value:function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}},{key:"slug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}]),e}(),mI=function(){function e(t){s(this,e),this.options=t||qD,this.options.renderer=this.options.renderer||new pI,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new hI,this.slugger=new vI}return o(e,[{key:"parse",value:function(e){var t,n,r,i,a,o,s,u,l,c,f,d,p,h,v,m,g,y,b,w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],x="",_=e.length;for(t=0;t<_;t++)if(c=e[t],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c.type]&&(!1!==(b=this.options.extensions.renderers[c.type].call({parser:this},c))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)))x+=b||"";else switch(c.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(c.tokens),c.depth,LD(this.parseInline(c.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(c.text,c.lang,c.escaped);continue;case"table":for(u="",s="",i=c.header.length,n=0;n<i;n++)s+=this.renderer.tablecell(this.parseInline(c.header[n].tokens),{header:!0,align:c.align[n]});for(u+=this.renderer.tablerow(s),l="",i=c.rows.length,n=0;n<i;n++){for(s="",a=(o=c.rows[n]).length,r=0;r<a;r++)s+=this.renderer.tablecell(this.parseInline(o[r].tokens),{header:!1,align:c.align[r]});l+=this.renderer.tablerow(s)}x+=this.renderer.table(u,l);continue;case"blockquote":l=this.parse(c.tokens),x+=this.renderer.blockquote(l);continue;case"list":for(f=c.ordered,d=c.start,p=c.loose,i=c.items.length,l="",n=0;n<i;n++)m=(v=c.items[n]).checked,g=v.task,h="",v.task&&(y=this.renderer.checkbox(m),p?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=y+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=y+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:y}):h+=y),h+=this.parse(v.tokens,p),l+=this.renderer.listitem(h,g,m);x+=this.renderer.list(l,f,d);continue;case"html":x+=this.renderer.html(c.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(c.tokens));continue;case"text":for(l=c.tokens?this.parseInline(c.tokens):c.text;t+1<_&&"text"===e[t+1].type;)l+="\n"+((c=e[++t]).tokens?this.parseInline(c.tokens):c.text);x+=w?this.renderer.paragraph(l):l;continue;default:var S='Token with "'+c.type+'" type was not found.';if(this.options.silent)return void console.error(S);throw new Error(S)}return x}},{key:"parseInline",value:function(e,t){t=t||this.renderer;var n,r,i,a="",o=e.length;for(n=0;n<o;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(!1!==(i=this.options.extensions.renderers[r.type].call({parser:this},r))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))a+=i||"";else switch(r.type){case"escape":case"text":a+=t.text(r.text);break;case"html":a+=t.html(r.text);break;case"link":a+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":a+=t.image(r.href,r.title,r.text);break;case"strong":a+=t.strong(this.parseInline(r.tokens,t));break;case"em":a+=t.em(this.parseInline(r.tokens,t));break;case"codespan":a+=t.codespan(r.text);break;case"br":a+=t.br();break;case"del":a+=t.del(this.parseInline(r.tokens,t));break;default:var s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}return a}}],[{key:"parse",value:function(t,n){return new e(n).parse(t)}},{key:"parseInline",value:function(t,n){return new e(n).parseInline(t)}}]),e}(),GD.options=GD.setOptions=function(e){return FD(GD.defaults,e),function(e){qD=e}(GD.defaults),GD},GD.getDefaults=RD,GD.defaults=qD,GD.use=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=FD.apply(void 0,[{}].concat(t)),a=GD.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((function(e){if(e.extensions&&(r=!0,e.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=a.renderers?a.renderers[e.name]:null;a.renderers[e.name]=t?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=e.renderer.apply(this,r);return!1===a&&(a=t.apply(this,r)),a}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");a[e.level]?a[e.level].unshift(e.tokenizer):a[e.level]=[e.tokenizer],e.start&&("block"===e.level?a.startBlock?a.startBlock.push(e.start):a.startBlock=[e.start]:"inline"===e.level&&(a.startInline?a.startInline.push(e.start):a.startInline=[e.start]))}e.childTokens&&(a.childTokens[e.name]=e.childTokens)}))),e.renderer&&function(){var t=GD.defaults.renderer||new pI,n=function(n){var r=t[n];t[n]=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=e.renderer[n].apply(t,a);return!1===s&&(s=r.apply(t,a)),s}};for(var r in e.renderer)n(r);i.renderer=t}(),e.tokenizer&&function(){var t=GD.defaults.tokenizer||new lI,n=function(n){var r=t[n];t[n]=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=e.tokenizer[n].apply(t,a);return!1===s&&(s=r.apply(t,a)),s}};for(var r in e.tokenizer)n(r);i.tokenizer=t}(),e.walkTokens){var t=GD.defaults.walkTokens;i.walkTokens=function(n){var r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}r&&(i.extensions=a),GD.setOptions(i)}))},GD.walkTokens=function(e,t){var n,r=[],i=g(e);try{var a=function(){var e=n.value;switch(r=r.concat(t.call(GD,e)),e.type){case"table":var i,a=g(e.header);try{for(a.s();!(i=a.n()).done;){var o=i.value;r=r.concat(GD.walkTokens(o.tokens,t))}}catch(p){a.e(p)}finally{a.f()}var s,u=g(e.rows);try{for(u.s();!(s=u.n()).done;){var l,c=s.value,f=g(c);try{for(f.s();!(l=f.n()).done;){var d=l.value;r=r.concat(GD.walkTokens(d.tokens,t))}}catch(p){f.e(p)}finally{f.f()}}}catch(p){u.e(p)}finally{u.f()}break;case"list":r=r.concat(GD.walkTokens(e.items,t));break;default:GD.defaults.extensions&&GD.defaults.extensions.childTokens&&GD.defaults.extensions.childTokens[e.type]?GD.defaults.extensions.childTokens[e.type].forEach((function(n){r=r.concat(GD.walkTokens(e[n],t))})):e.tokens&&(r=r.concat(GD.walkTokens(e.tokens,t)))}};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r},GD.parseInline=function(e,t){if("undefined"==typeof e||null===e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");UD(t=FD({},GD.defaults,t||{}));try{var n=dI.lexInline(e,t);return t.walkTokens&&GD.walkTokens(n,t.walkTokens),mI.parseInline(n,t)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+OD(n.message+"",!0)+"</pre>";throw n}},GD.Parser=mI,GD.parser=mI.parse,GD.Renderer=pI,GD.TextRenderer=hI,GD.Lexer=dI,GD.lexer=dI.lex,GD.Tokenizer=lI,GD.Slugger=vI,GD.parse=GD,GD.options,GD.setOptions,GD.use,GD.walkTokens,GD.parseInline,mI.parse,dI.lex})),JI=L((function(){nv(),PD(),yI=tv(YA)(gI||(gI=U(["\n  padding: 6px;\n"]))),bI=yI})),eR=L((function(){wI=j(Hd()),ID(),nv(),Fy(),cp(),q(),$I(),TD(),JI(),xI=function(e){var t=e.title,n=e.message;return"".concat(t," ").concat(n)},_I=function(){var e=new Map;return{add:function(t){var n=xI(t);e.has(n)?e.set(n,e.get(n)+1):e.set(n,1)},delete:function(t){var n=xI(t);e.has(n)&&e.get(n)>1?e.set(n,e.get(n)-1):e.delete(n)},clear:function(){e.clear()},check:function(t){return e.has(xI(t))}}}(),SI=function(){var e=new Map;return{add:function(t){e.has(t)?e.set(t,e.get(t)+1):e.set(t,1)},delete:function(t){e.has(t)&&e.get(t)>1?e.set(t,e.get(t)-1):e.delete(t)},clear:function(){e.clear()},check:function(t){return e.has(t)},get types(){return Array.of.apply(Array,v(e.keys()))}}}(),EI=tv.div(kI||(kI=U(["\n  width: 100%;\n  border-radius: 4px;\n  display: flex;\n  gap: 12px;\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),gy),MI=tv.div(CI||(CI=U(["\n  font-size: 14px;\n  font-weight: bold;\n  color: #fff;\n"]))),PI=tv.div(TI||(TI=U(["\n  flex: 1;\n  flex-direction: column;\n  width: 0;\n  display: flex;\n  padding: 16px 0;\n  gap: 12px;\n"]))),DI=tv.div(AI||(AI=U(["\n  color: #b4b4b4;\n  font-size: 12px;\n  line-height: 1.4;\n\n  a {\n    color: rgba(255, 255, 255, 0.9);\n  }\n\n  em {\n    font-style: italic;\n  }\n\n  strong {\n    font-weight: bold;\n    color: #d5d5d5;\n  }\n\n  p {\n    margin-bottom: 8px;\n  }\n\n  code {\n    font-family: monospace;\n    background: rgba(0, 0, 0, 0.3);\n    padding: 1px 1px 2px;\n    border-radius: 4px;\n    border: 1px solid rgba(255, 255, 255, 0.08);\n    white-space: pre-wrap;\n  }\n\n  pre > code {\n    white-space: pre;\n    display: block;\n    overflow: auto;\n    padding: 4px;\n  }\n\n  pre {\n    white-space: pre-wrap;\n    margin-bottom: 8px;\n  }\n"]))),RI=tv.button(II||(II=U(["\n  color: rgba(255, 255, 255, 0.9);\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  border: none;\n  padding-left: 12px;\n  padding-right: 12px;\n  border-left: 1px solid rgba(255, 255, 255, 0.05);\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.05);\n  }\n"]))),OI={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},NI=tv.div(LI||(LI=U(["\n  display: flex;\n  justify-content: center;\n  margin-left: 12px;\n  padding-top: 21px;\n\n  ::before {\n    content: '';\n    width: 8px;\n    height: 8px;\n    border-radius: 999999px;\n    background-color: ",";\n  }\n"])),(function(e){var t=e.type;return OI[t]})),zI=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(i||!_I.check({title:t,message:n}))&&(_I.add({title:t,message:n}),SI.add(e),MD.custom((function(i){return wI.default.createElement(EI,null,wI.default.createElement(NI,{type:e}),wI.default.createElement(PI,null,wI.default.createElement(MI,null,t),wI.default.createElement(DI,{dangerouslySetInnerHTML:{__html:GD.parse(n)}}),r.length>0&&wI.default.createElement(DI,null,wI.default.createElement("span",null,"Docs:"," ",r.map((function(e,t){return wI.default.createElement(wI.Fragment,{key:t},t>0&&", ",wI.default.createElement("a",{target:"_blank",href:e.url},e.title))}))))),wI.default.createElement(RI,{onClick:function(){MD.remove(i.id),_I.delete({title:t,message:n}),SI.delete(e)}},"Close"))}),{duration:1/0}))}},FI={warning:zI("warning"),success:zI("success"),info:zI("info"),error:zI("error")},BI=tv.div(jI||(jI=U(["\n  display: flex;\n  justify-content: ",";\n  gap: 12px;\n"])),(function(e){return"center"===e.align?"center":"flex-end"})),ZI=tv.button(UI||(UI=U(["\n  position: relative;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  border: none;\n  padding: 12px;\n  color: #fff;\n  overflow: hidden;\n\n  ::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n  }\n\n  :hover::before {\n    background: ",";\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),gy,(function(e){return e.danger?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"})),HI=tv.div(VI||(VI=U(["\n  z-index: 10;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  position: fixed;\n  right: 92px;\n  top: 50px;\n  width: 500px;\n  height: 85vh;\n  min-height: 400px;\n"]))),GI=tv.div(WI||(WI=U(["\n  overflow: hidden;\n  pointer-events: auto;\n  border-radius: 4px;\n\n  & > div {\n    display: flex;\n    flex-direction: column-reverse;\n    gap: 8px;\n    overflow: scroll;\n    height: 100%;\n  }\n"]))),XI=tv.div(qI||(qI=U(["\n  width: fit-content;\n  padding: 8px;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  color: #b4b4b4;\n  font-size: 12px;\n  line-height: 1.4;\n"]))),KI=function(){return VA({enabled:!QI().hasNotifications},(function(){return wI.default.createElement(bI,null,wI.default.createElement(XI,null,wI.default.createElement(MI,null,"No notifications"),"Notifications will appear here when you get them."))}))},YI=function(){var e,t=CD(),n=t.toasts,r=t.handlers,i=r.startPause,a=r.endPause,o=null!=(e=np(W().atomP.ahistoric.pinNotifications))&&e;return wI.default.createElement(HI,null,o?n.length>0&&wI.default.createElement(GI,{onMouseEnter:i,onMouseLeave:a},wI.default.createElement("div",null,n.map((function(e){return wI.default.createElement("div",{key:e.id},e.message(e))})))):null,wI.default.createElement(BI,{align:"side"},o&&n.length>0&&wI.default.createElement(ZI,{onClick:function(){SI.clear(),_I.clear(),MD.remove()},danger:!0},"Clear")))},QI=function(){return{hasNotifications:CD().toasts.length>0}}}));function tR(e,t){var n,r=Object.values(null!=(n=(0,nR.val)(e.pointers.historic.sheetsById))?n:{}),i=r.flatMap((function(e){var t;return Object.values(null!=(t=null==e?void 0:e.staticOverrides.byObject)?t:{})})).flatMap((function(e){return Object.values(null!=e?e:{})})),a=v(r.flatMap((function(e){var t,n;return Object.values(null!=(n=null==(t=null==e?void 0:e.sequence)?void 0:t.tracksByObject)?n:{})})).flatMap((function(e){var t;return Object.values(null!=(t=null==e?void 0:e.trackData)?t:{})})).flatMap((function(e){return null==e?void 0:e.keyframes})).map((function(e){return null==e?void 0:e.value})));return i.forEach((function(e){X(e,(function(e){a.push(e)}),[])})),a.filter((function(e){return(null==e?void 0:e.type)&&(t?(null==e?void 0:e.type)==t:"string"==typeof(null==e?void 0:e.type))})).map((function(e){return e.id})).filter((function(e,t,n){return null!==e&&""!==e&&n.indexOf(e)===t}))}var nR,rR=L((function(){nR=n(8458),Q()}));function iR(e,t){var n=new File([e],t),r=URL.createObjectURL(n),i=Object.assign(document.createElement("a"),{href:r,target:"_blank",rel:"noopener"});i.setAttribute("download",t),i.click(),setTimeout((function(){URL.revokeObjectURL(r)}),4e4)}var aR,oR,sR,uR,lR,cR,fR,dR,pR,hR,vR,mR,gR,yR,bR,wR,xR,_R,SR,kR=L((function(){q(),XE(),GE(),aR=j(Hd()),nv(),DA(),AD(),oR=j(DD()),eR(),rR(),uR=tv.div(sR||(sR=U([""]))),cR=tv.div(lR||(lR=U(["\n  padding: 8px 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]))),dR=tv(WE)(fR||(fR=U(["\n  display flex;\n  flex-direction: column;\n  gap: 1em;\n  width: 280px;\n  padding: 1em;\n"]))),pR=function(e){var t=e.projects[0],n=t.address.projectId,r=n.replace(/[^\w\d'_\-]+/g," ").trim(),i="".concat(r,".theatre-project-state.json"),a=(0,aR.useState)(!1),o=m(a,2),s=o[0],u=o[1],l=(0,aR.useCallback)((function(){return Z(void 0,null,d().mark((function e(){var n,a,o,s,l,c,f,p,h,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=tR(t),s=new Map,e.prev=1,e.next=4,Promise.all(o.map((function(e){return Z(void 0,null,d().mark((function n(){var r,i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.assetStorage.getAssetUrl(e),n.next=3,fetch(r);case 3:if(i=n.sent,n.t0=i.ok,!n.t0){n.next=12;break}return n.t1=s,n.t2=e,n.next=10,i.blob();case 10:n.t3=n.sent,n.t1.set.call(n.t1,n.t2,n.t3);case 12:case"end":return n.stop()}}),n)})))})));case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),FI.error("Failed to access assets","Export aborted. Failed to access assets at ".concat(null!=(a=null==(n=t.config.assets)?void 0:n.baseUrl)?a:"/",". This is likely due to a CORS issue.")),e.abrupt("return");case 10:if(!(s.size>0)){e.next=18;break}l=new oR.default,c=g(s);try{for(c.s();!(f=c.n()).done;)p=m(f.value,2),h=p[0],v=p[1],l.file(h,v)}catch(y){c.e(y)}finally{c.f()}return e.next=16,l.generateAsync({type:"blob"});case 16:iR(e.sent,"".concat(r,".assets.zip"));case 18:iR(JSON.stringify(W().createContentOfSaveFile(t.address.projectId),null,2),i),u(!0),setTimeout((function(){u(!1)}),2e3);case 20:case"end":return e.stop()}}),e,null,[[1,6]])})))}),[t,i]),c=SE({debugName:"ProjectDetails",pointerDistanceThreshold:50},(function(){return aR.default.createElement(dR,null,aR.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),aR.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),aR.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production."))}));return aR.default.createElement(aR.default.Fragment,null,c.node,aR.default.createElement(uR,null,aR.default.createElement(oD,{projectId:n}),aR.default.createElement(cR,null,aR.default.createElement(MA,{onMouseEnter:function(e){return c.open(e,e.target)},onClick:s?void 0:l,disabled:s},s?"(Exported)":"Export ".concat(n," to JSON")))))}})),ER=L((function(){hR=j(Hd()),nv(),Rb(),mR=tv.div(vR||(vR=U(["\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]))),yR=tv.div(gR||(gR=U(["\n  display: flex;\n  flex-direction: column;\n  gap: 11px;\n  color: rgba(255, 255, 255, 0.9);\n"]))),wR=tv.div(bR||(bR=U(["\n  color: rgba(145, 145, 145, 0.8);\n"]))),_R=tv.a(xR||(xR=U(["\n  color: #919191;\n  font-size: 10px;\n  text-decoration-color: #40434a;\n  text-underline-offset: 3px;\n"]))),SR=function(){return hR.default.createElement(mR,null,hR.default.createElement(yR,null,hR.default.createElement(wR,null,hR.default.createElement(Vy,null)),hR.default.createElement("div",null,"Please select an object from the ",hR.default.createElement("u",null,"Outline Menu")," to see its properties.")),hR.default.createElement(_R,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects"))}}));function CR(){var e=(0,MR.useState)(!1),t=m(e,2),n=t[0],r=t[1];return[n,(0,MR.useMemo)((function(){var e=new Set;return function(){var t=function t(){e.delete(t),r(e.size>0)};return e.add(t),r(!0),t}}),[])]}var MR,TR,PR,AR,DR,IR,RR,OR,LR,NR,zR,FR,jR,BR,UR,ZR,VR,HR,WR,GR,qR,XR,KR,YR,QR,$R,JR,eO,tO,nO,rO,iO,aO,oO,sO,uO,lO,cO,fO,dO,pO,hO,vO,mO,gO,yO,bO,wO,xO,_O,SO,kO,EO,CO,MO,TO,PO,AO,DO,IO,RO,OO,LO,NO,zO,FO,jO,BO,UO,ZO,VO,HO,WO,GO,qO,XO,KO,YO,QO,$O,JO,eL,tL,nL,rL,iL=L((function(){MR=j(Hd())})),aL=L((function(){Bb(),cp(),TR=j(Hd()),nv(),pe(),jy(),Fy(),AA(),kR(),q(),Gw(),PR=n(8458),ER(),iL(),kT(),"32px",DR=tv.div(AR||(AR=U(["\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  position: fixed;\n  right: 8px;\n  top: 50px;\n  // Temporary, see comment about CSS grid in SingleRowPropEditor.\n  width: 280px;\n  height: fit-content;\n  z-index: ",";\n\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  border-radius: 2px;\n\n  display: ",";\n\n  &:hover {\n    display: block;\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),gy,Ey.propsPanel,(function(e){return e.pin?"block":"none"})),RR=tv.div(IR||(IR=U(["\n  margin: 0 10px;\n  color: #919191;\n  font-weight: 500;\n  font-size: 10px;\n  user-select: none;\n  ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),gy),LR=tv.div(OR||(OR=U(["\n  height: ",";\n  display: flex;\n  align-items: center;\n"])),"32px"),zR=tv.div(NR||(NR=U(["\n  ",";\n  max-height: calc(100vh - 100px);\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n  padding: 0;\n  user-select: none;\n\n  /* Set the font-size for input values in the detail panel */\n  font-size: 12px;\n"])),gy),FR=(0,TR.createContext)([!1,function(){return function(){}}]),jR=function(e){var t=!1!==np(W().atomP.ahistoric.pinDetails),n=Iw("right");(0,TR.useLayoutEffect)((function(){UR.set(n)}),[n]),(0,TR.useEffect)((function(){return function(){ZR.set(!1),UR.set(!1)}}),[]);var r=(0,TR.useContext)(FR),i=m(r,1)[0],a=t||n||i,o=(0,TR.useState)(null),s=m(o,2),u=s[0],l=s[1];return UM(u),Kd((function(){var e=Nb(),t=e.find(ne);if(t)return TR.default.createElement(DR,{"data-testid":"DetailPanel-Object",pin:a,ref:l,onMouseEnter:function(){ZR.set(!0)},onMouseLeave:function(){ZR.set(!1)}},TR.default.createElement(LR,null,TR.default.createElement(RR,{title:"".concat(t.sheet.address.sheetId,": ").concat(t.sheet.address.sheetInstanceId," > ").concat(t.address.objectKey)},TR.default.createElement(Ty,null,t.sheet.address.sheetId," "),TR.default.createElement(Ay,null,":","\xa0"),TR.default.createElement(Ty,null,t.sheet.address.sheetInstanceId," "),TR.default.createElement(Ay,null,"\xa0\u2192\xa0"),TR.default.createElement(Ty,null,t.address.objectKey))),TR.default.createElement(zR,null,TR.default.createElement(kA,{objects:[t]})));var n=e.find(J);return n?TR.default.createElement(DR,{pin:a},TR.default.createElement(LR,null,TR.default.createElement(RR,{title:"".concat(n.address.projectId)},TR.default.createElement(Ty,null,n.address.projectId," "))),TR.default.createElement(zR,null,TR.default.createElement(pR,{projects:[n]}))):TR.default.createElement(DR,{pin:a,onMouseEnter:function(){ZR.set(!0)},onMouseLeave:function(){ZR.set(!1)}},TR.default.createElement(SR,null))}),[a])},BR=function(){var e=CR();return TR.default.createElement(FR.Provider,{value:e},TR.default.createElement(jR,null))},UR=new PR.Atom(!1),ZR=new PR.Atom(!1),(0,PR.prism)((function(){var e=(0,PR.val)(ZR.prism),t=(0,PR.val)(UR.prism);return e||t}))})),oL=L((function(){VR=n(8458),cp(),q(),iL(),HR=j(Hd()),cE(),WR=function(e,t){var n=e.left/t.width,r=(e.left+e.width)/t.width,i=e.top/t.height,a=(e.height+e.top)/t.height;return{edges:{left:n<=.5?{from:"screenLeft",distance:n}:{from:"screenRight",distance:1-n},right:r<=.5?{from:"screenLeft",distance:r}:{from:"screenRight",distance:1-r},top:i<=.5?{from:"screenTop",distance:i}:{from:"screenBottom",distance:1-i},bottom:a<=.5?{from:"screenTop",distance:a}:{from:"screenBottom",distance:1-a}}}},GR=HR.default.createContext(null),qR=function(){return(0,HR.useContext)(GR)},XR=function(e){var t=e.panelId,n=e.children,r=e.defaultPosition,i=e.minDims,a=uE(800,200),o=CR(),s=m(o,2),u=s[0],l=s[1],c=Kd((function(){var e,n=(null!=(e=(0,VR.val)(W().atomP.historic.panelPositions[t]))?e:r).edges,o=Math.floor(a.width*("screenLeft"===n.left.from?n.left.distance:1-n.left.distance)),s=Math.floor(a.width*("screenLeft"===n.right.from?n.right.distance:1-n.right.distance)),c=Math.floor(a.height*("screenTop"===n.top.from?n.top.distance:1-n.top.distance)),f=Math.floor(a.height*("screenTop"===n.bottom.from?n.bottom.distance:1-n.bottom.distance)),d=Math.max(s-o,i.width),p=Math.max(f-c,i.height);return{stuff:{dims:VR.prism.memo("dims",(function(){return{width:d,left:o,top:c,height:p}}),[d,o,c,p]),panelId:t,minDims:i,boundsHighlighted:u,addBoundsHighlightLock:l}}}),[t,a,u,l]).stuff;return HR.default.createElement(GR.Provider,{value:c},n)}})),sL=L((function(){py(),q(),Rx(),KR=j(Hd()),nv(),oL(),vx(),Ud(),jy(),QR=tv.div(YR||(YR=U(["\n  cursor: move;\n"]))),$R=function(e){var t=qR(),n=(0,KR.useRef)(t);n.current=t;var r=fy(null),i=m(r,2),a=i[0],o=Px(i[1],(0,KR.useMemo)((function(){return{debugName:"PanelDragZone",lockCursorTo:"move",onDragStart:function(){var e,r=n.current,i=t.addBoundsHighlightLock();return{onDrag:function(t,n){var i=R(I({},r.dims),{top:Cs(r.dims.top+n,0,window.innerHeight-Ny),left:Cs(r.dims.left+t,-r.dims.width+Ny,window.innerWidth-Ny)}),a=WR(i,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=W().tempTransaction((function(e){e.stateEditors.studio.historic.panelPositions.setPanelPosition({position:a,panelId:r.panelId})}))},onDragEnd:function(t){i(),t?null==e||e.commit():null==e||e.discard()}}}}}),[])),s=m(o,1)[0];dx(s,"dragging","move");var u=(0,KR.useMemo)((function(){var e;return[function(){if(e){var n=e;e=void 0,n()}e=t.addBoundsHighlightLock()},function(){if(e){var t=e;e=void 0,t()}}]}),[]),l=m(u,2),c=l[0],f=l[1];return KR.default.createElement(QR,R(I({},e),{ref:a,onMouseEnter:c,onMouseLeave:f}))}})),uL=L((function(){py(),q(),Rx(),lm(),JR=j(Hd()),nv(),oL(),Fy(),Ud(),jy(),tO=tv.div(eO||(eO=U(["\n  position: absolute;\n  ",";\n  &:after {\n    position: absolute;\n    inset: -5px;\n    display: block;\n    content: ' ';\n  }\n\n  opacity: 0;\n  background-color: #478698;\n\n  &.isHighlighted {\n    opacity: 0.7;\n  }\n\n  &.isDragging {\n    opacity: 1;\n    /* background-color: ","; */\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n"])),gy,am(.2,"#478698")),rO=tv(tO)(nO||(nO=U(["\n  /**\n  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel\n  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).\n\n  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem\n  that we have to deal with right now (if it is at all a problem).\n  \n   */\n  z-index: -1;\n"]))),aO=tv(rO)(iO||(iO=U(["\n  left: 0px;\n  right: 0px;\n  height: 1px;\n"]))),sO=tv(aO)(oO||(oO=U(["\n  top: -1px;\n"]))),lO=tv(aO)(uO||(uO=U(["\n  bottom: -1px;\n"]))),fO=tv(rO)(cO||(cO=U(["\n  z-index: -1;\n  top: -1px;\n  bottom: -1px;\n  width: 1px;\n"]))),pO=tv(fO)(dO||(dO=U(["\n  left: -1px;\n"]))),vO=tv(fO)(hO||(hO=U(["\n  right: -1px;\n"]))),gO=tv(tO)(mO||(mO=U(["\n  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.\n  z-index: 10;\n  width: 8px;\n  height: 8px;\n"]))),bO=tv(gO)(yO||(yO=U(["\n  top: 0;\n  left: 0;\n"]))),xO=tv(gO)(wO||(wO=U(["\n  top: 0;\n  right: 0;\n"]))),SO=tv(gO)(_O||(_O=U(["\n  bottom: 0;\n  left: 0;\n"]))),EO=tv(gO)(kO||(kO=U(["\n  bottom: 0;\n  right: 0;\n"]))),CO={Top:sO,TopLeft:bO,TopRight:xO,Bottom:lO,BottomLeft:SO,BottomRight:EO,Left:pO,Right:vO},MO={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},TO=function(e){var t=e.which,n=qR(),r=(0,JR.useRef)(n);r.current=n;var i=fy(null),a=m(i,2),o=a[0],s=Px(a[1],(0,JR.useMemo)((function(){return{debugName:"PanelResizeHandle",lockCursorTo:MO[t],onDragStart:function(){var e,i=r.current,a=n.addBoundsHighlightLock();return{onDrag:function(n,r){var a=I({},i.dims);if(t.startsWith("Bottom"))a.height=Math.max(a.height+r,i.minDims.height);else if(t.startsWith("Top")){var o=a.top+a.height,s=Cs(a.top+r,0,Math.min(o-i.minDims.height,window.innerHeight-Ny)),u=o-s;a.height=u,a.top=s}if(t.endsWith("Left")){var l=a.left+a.width,c=Math.min(a.left+n,Math.min(l-i.minDims.width,window.innerWidth-Ny)),f=l-c;a.width=f,a.left=c}else t.endsWith("Right")&&(a.width=Math.max(a.width+n,Math.max(i.minDims.width,Ny-i.dims.left)));var d=WR(a,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=W().tempTransaction((function(e){e.stateEditors.studio.historic.panelPositions.setPanelPosition({position:d,panelId:i.panelId})}))},onDragEnd:function(t){a(),t?null==e||e.commit():null==e||e.discard()}}}}}),[t])),u=m(s,1)[0],l=CO[t],c=t.length<=6;return JR.default.createElement(l,{ref:o,className:[u?"isDragging":"",n.boundsHighlighted&&c?"isHighlighted":""].join(" "),style:{cursor:MO[t]}})}})),lL=L((function(){PO=j(Hd()),uL(),AO=function(e){return PO.default.createElement(PO.default.Fragment,null,PO.default.createElement(TO,{which:"Bottom"}),PO.default.createElement(TO,{which:"Top"}),PO.default.createElement(TO,{which:"Left"}),PO.default.createElement(TO,{which:"Right"}),PO.default.createElement(TO,{which:"TopLeft"}),PO.default.createElement(TO,{which:"TopRight"}),PO.default.createElement(TO,{which:"BottomLeft"}),PO.default.createElement(TO,{which:"BottomRight"}))}})),cL=L((function(){Fy(),DO=j(Hd()),nv(),oL(),lL(),RO=tv.div(IO||(IO=U(["\n  position: absolute;\n  user-select: none;\n  box-sizing: border-box;\n  ",";\n  /* box-shadow: 1px 2px 10px -5px black; */\n\n  z-index: 1000;\n"])),gy),OO=DO.default.forwardRef((function(e,t){var n=qR(),r=e,i=r.style,a=r.children,o=O(r,["style","children"]);return DO.default.createElement(RO,R(I({ref:t},o),{style:I({width:n.dims.width+"px",height:n.dims.height+"px",top:n.dims.top+"px",left:n.dims.left+"px"},null!=i?i:{})}),DO.default.createElement(AO,null),a)})),LO=OO})),fL=N((function(o,s){var u;u=function(e,t){var n=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(t);function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i={error:null},a=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state=i,t.updatedWithError=!1,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var a=t.prototype;return a.reset=function(){this.updatedWithError=!1,this.setState(i)},a.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},a.componentDidMount=function(){null!==this.state.error&&(this.updatedWithError=!0)},a.componentDidUpdate=function(e){var t,n,r=this.state.error,i=this.props.resetKeys;null===r||this.updatedWithError?null!==r&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,i)&&(null==(t=(n=this.props).onResetKeysChange)||t.call(n,e.resetKeys,i),this.reset()):this.updatedWithError=!0},a.render=function(){var e=this.state.error,t=this.props,r=t.fallbackRender,i=t.FallbackComponent,a=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(a))return a;if("function"==typeof r)return r(o);if(i)return n.createElement(i,o);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(n.Component);e.ErrorBoundary=a,e.useErrorHandler=function(e){var t=n.useState(null),r=t[0],i=t[1];if(null!=e)throw e;if(null!=r)throw r;return i},e.withErrorBoundary=function(e,t){var r=function(r){return n.createElement(a,t,n.createElement(e,r))},i=e.displayName||e.name||"Unknown";return r.displayName="withErrorBoundary("+i+")",r},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof o&&"undefined"!=typeof s?u(o,Hd()):(i=[t,n(3358)],void 0===(a="function"===typeof(r=u)?r.apply(t,i):r)||(e.exports=a))})),dL=L((function(){NO=j(Hd()),nv(),jy(),oL(),sL(),cL(),zO=j(fL()),X_(),q(),jy(),FO={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},jO={width:300,height:300},BO=function(e){var t=e.paneInstance;return NO.default.createElement(XR,{panelId:"pane-".concat(t.instanceId),defaultPosition:FO,minDims:jO},NO.default.createElement(eL,{paneInstance:t}))},ZO=tv(LO)(UO||(UO=U(["\n  display: flex;\n  flex-direction: column;\n\n  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);\n  z-index: ",";\n"])),Ey.pluginPanes),HO=tv.div(VO||(VO=U(["\n  width: 100%;\n"]))),GO=tv.div(WO||(WO=U(["\n  display: flex;\n  align-items: center;\n  opacity: 1;\n  position: absolute;\n  right: 4px;\n  top: 0;\n  bottom: 0;\n"]))),XO=tv.button(qO||(qO=U(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 2px;\n  font-size: 11px;\n  height: 10px;\n  width: 18px;\n  color: #adadadb3;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  &:hover {\n    color: white;\n  }\n"]))),YO=tv(Iy)(KO||(KO=U(["\n  position: relative;\n  overflow: hidden;\n\n  &:after {\n    z-index: 10;\n    position: absolute;\n    inset: 0;\n    display: block;\n    content: ' ';\n    pointer-events: none;\n\n    #pointer-root:not(.normal) & {\n      pointer-events: auto;\n    }\n  }\n"]))),$O=tv.div(QO||(QO=U(["\n  padding: 12px;\n\n  & > pre {\n    border: 1px solid #ff62624f;\n    background-color: rgb(255 0 0 / 5%);\n    margin: 8px 0;\n    padding: 8px;\n    font-family: monospace;\n    overflow: scroll;\n    color: #ff9896;\n  }\n"]))),JO=function(e){return NO.default.createElement($O,null,"An Error occurred rendering this pane. Open the console for more info.",NO.default.createElement("pre",null,JSON.stringify({message:e.error.message,stack:e.error.stack},null,2)))},eL=function(e){var t=e.paneInstance,n=(0,NO.useState)(null),r=m(n,2),i=r[0],a=r[1],o=t.definition.mount;(0,NO.useLayoutEffect)((function(){if(i){var e=o({paneId:t.instanceId,node:i});return"function"==typeof e?e:void 0}}),[i,o,t.instanceId]);var s=(0,NO.useCallback)((function(){W().paneManager.destroyPane(t.instanceId)}),[t]);return NO.default.createElement(ZO,{"data-testid":"theatre-pane-wrapper-".concat(t.instanceId)},NO.default.createElement($R,null,NO.default.createElement(Ly,null,NO.default.createElement(GO,null,NO.default.createElement(XO,{onClick:s,title:"Close Pane"},NO.default.createElement(S_,null))),NO.default.createElement(HO,null,t.instanceId))),NO.default.createElement(zO.ErrorBoundary,{FallbackComponent:JO},NO.default.createElement(YO,{"data-testid":"theatre-pane-content-".concat(t.instanceId),ref:a})))},tL=BO})),pL=L((function(){nL=n(8458),rL=function(e,t){var n=nL.prism.memo(e,(function(){return new nL.Atom(t)}),[]);return n.set(t),n}}));function hL(e,t){(0,vL.useLayoutEffect)((function(){if(e&&("propWithChildren"===t.type||"primitiveProp"===t.type||"sheetObject"===t.type)){var n=null,r=R(I({},t.sheetObject.address),{pathToProp:"sheetObject"===t.type?[]:t.pathToProp});return e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",a),function(){null==n||n(),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",a)}}function i(){n=QT.replaceLock(r,(function(){}))}function a(){null==n||n()}}),[e])}var vL,mL,gL,yL,bL,wL,xL,_L,SL,kL,EL,CL,ML,TL,PL,AL=L((function(){vL=j(Hd()),$T()})),DL=L((function(){Fy(),mL=j(Hd()),X_(),nv(),lM(),AL(),yL=tv.li(gL||(gL=U(["\n  --depth: ",";\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"])),(function(e){return e.depth})),wL=tv.div(bL||(bL=U(["\n  border-bottom: 1px solid #7695b705;\n"]))),_L=tv(wL)(xL||(xL=U(["\n  padding-left: calc(8px + var(--depth) * 20px);\n\n  display: flex;\n  align-items: stretch;\n  color: ",";\n\n  box-sizing: border-box;\n\n  ",";\n"])),yy.panel.body.compoudThing.label.color,(function(e){return e.isSelected&&"background: blue"})),kL=tv.span(SL||(SL=U(["\n  ",";\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-right: 4px;\n  line-height: 26px;\n  flex-wrap: nowrap;\n\n  ",":hover & {\n    color: #ccc;\n  }\n"])),JC,_L),CL=tv.span(EL||(EL=U(["\n  width: 12px;\n  padding: 8px;\n  font-size: 9px;\n  display: flex;\n  align-items: center;\n\n  transition: transform 0.05s ease-out, color 0.1s ease-out;\n  transform: rotateZ(","deg);\n  color: #66686a;\n\n  &:hover {\n    transform: rotateZ(","deg);\n    color: #c0c4c9;\n  }\n"])),(function(e){return e.isCollapsed?0:90}),(function(e){return e.isCollapsed?15:75})),TL=tv.ul(ML||(ML=U(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),PL=function(e){var t=e.leaf,n=e.label,r=e.children,i=e.isSelectable,a=e.isSelected,o=e.toggleSelect,s=e.toggleCollapsed,u=e.isCollapsed,l=Array.isArray(r)&&r.length>0,c=(0,mL.useRef)(null);return hL(c.current,t),t.shouldRender?mL.default.createElement(yL,{depth:t.depth},mL.default.createElement(_L,{ref:c,style:{height:t.nodeHeight+"px"},isSelectable:!0===i,isSelected:!0===a,onClick:o,isEven:t.n%2===0},mL.default.createElement(CL,{isCollapsed:u,onClick:s},mL.default.createElement(j_,null)),mL.default.createElement(kL,null,n)),l&&mL.default.createElement(TL,null,r)):null}}));function IL(e){for(var t,n=[];;){var r=n.length,i=null==(t=e[0])?void 0:t[r];if(void 0===i)return n;var a,o=g(e);try{for(o.s();!(a=o.n()).done;){if(i!==a.value[r])return n}}catch(s){o.e(s)}finally{o.f()}n.push(i)}}var RL,OL,LL=L((function(){WC(),RL=HC((function(e){return JSON.stringify(e)})),OL=function(e){return JSON.parse(e)}}));var NL,zL=L((function(){NL=j(Hd())}));function FL(e){var t=(0,jL.useState)(!1),n=m(t,2),r=n[0],i=n[1];return function(e,t){var n=(0,NL.useRef)({combo:e,listener:t});n.current={combo:e,listener:t},(0,NL.useEffect)((function(){function e(e){e.key===n.current.combo&&n.current.listener({down:!0,event:e})}function t(e){e.key===n.current.combo&&n.current.listener({down:!1,event:e})}function r(e){n.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("blur",r),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.removeEventListener("blur",r)}}),[])}(e,(function(e){var t=e.down;i(t)})),r}var jL,BL=L((function(){jL=j(Hd()),zL()}));var UL,ZL,VL=L((function(){UL=n(8458),ZL=j(Hd())}));function HL(e,t,n){var r=t((0,WL.pointer)({root:{},path:[]}));Cd(e,(0,WL.getPointerParts)(r).path,n)}var WL,GL,qL,XL=L((function(){WL=n(8458),Dd()})),KL=L((function(){GL="data-pos",qL={checkIfMouseEventSnapToPos:function(e,t){var n=e.composedPath().find((function(e){return e instanceof Element&&e!==(null==t?void 0:t.ignore)&&e.hasAttribute(GL)}));if(n){var r=parseFloat(n.getAttribute(GL));if(isFinite(r))return r}return null},includePositionSnapAttrs:function(e){return p({},GL,e)}}}));function YL(e){var t="sheet"===e.type?function(e){return e.children.flatMap($L)}(e):$L(e);return{byPosition:QL(t),tracks:t}}function QL(e){var t,n=new Map,r=g(e);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=g(a.data.keyframes);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=n.get(s.position);u||(u=[],n.set(s.position,u)),u.push({kf:s,track:a,itemKey:OT.forTrackKeyframe(a.sheetObject,a.id,s.id)})}}catch(l){o.e(l)}finally{o.f()}}}catch(l){r.e(l)}finally{r.f()}return n}function $L(e){return e.children.flatMap((function(e){return"propWithChildren"===e.type?$L(e):function(e){var t=e.sheetObject,n=t.address.projectId,r=W().atomP.historic.coreByProject[n].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey],i=(0,eN.val)(r.trackIdByPropPath[RL(e.pathToProp)]);if(!i)return[];var a=(0,eN.val)(r.trackData[i]);return a?[{id:i,data:a,sheetObject:t}]:[]}(e)}))}function JL(e,t){return jd(e.children.flatMap((function(e){return"propWithChildren"===e.type?JL(e,t):function(e,t){var n,r,i=e.sheetObject,a=i.address.projectId,o=W().atomP.historic.coreByProject[a].sheetsById[i.address.sheetId].sequence.tracksByObject[i.address.objectKey],s=(0,eN.val)(o.trackIdByPropPath[RL(e.pathToProp)]);return s&&null!=(r=null==(n=t[i.address.objectKey])?void 0:n[s])?r:[]}(e,t)})))}var eN,tN=L((function(){q(),eN=n(8458),LT(),LL(),Ud()}));var nN,rN,iN,aN,oN,sN,uN,lN,cN,fN,dN,pN,hN,vN,mN,gN,yN,bN,wN,xN,_N,SN,kN,EN,CN,MN,TN,PN,AN,DN,IN,RN,ON,LN,NN,zN,FN,jN,BN=L((function(){q(),Rx(),BL(),VL(),XL(),py(),cp(),nN=n(8458),rN=j(Hd()),nv(),KL(),tN(),wx(),5,aN=tv.div(iN||(iN=U(["\n  cursor: ",";\n"])),(function(e){return e.isShiftDown?"cell":"default"})),oN=function(e){var t=e.layoutP,n=e.children,r=e.height,i=fy(null),a=m(i,2),o=a[0],s=a[1],u=FL("Shift"),l=function(e,t){var n=fy(null),r=m(n,2),i=r[0],a=r[1],o=gx("useCaptureSelection");return Px(t,(0,rN.useMemo)((function(){return{debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart:function(n){if(!n.shiftKey||n.target instanceof HTMLInputElement)return!1;var r=t.getBoundingClientRect(),a=n.clientX-r.left-(0,nN.val)(e.scaledSpace.leftPadding),s=(0,nN.val)(e.scaledSpace.toUnitSpace)(a);return i.current={h:[s,s],v:[n.clientY-r.top,n.clientY-r.top]},(0,nN.val)(e.selectionAtom).set({current:void 0}),{onDrag:function(n,r,a){var s=t.getBoundingClientRect(),u=a.clientX-s.left-(0,nN.val)(e.scaledSpace.leftPadding),l=(0,nN.val)(e.scaledSpace.toUnitSpace)(u);i.current={h:[i.current.h[0],l],v:[i.current.v[0],a.clientY-s.top]};var c=sN.boundsToSelection(o,(0,nN.val)(e),i.current);(0,nN.val)(e.selectionAtom).set({current:c})},onDragEnd:function(e){i.current=null}}}}}),[e,t,i])),a}(t,s);return(0,rN.useRef)(l).current=l,rN.default.createElement(aN,{style:{height:r+"px"},ref:o,isShiftDown:u,className:"selectionview"},l&&rN.default.createElement(fN,{state:l,layoutP:t}),n)},function(e){var t=function(e,t,n,i,a){var o=YL(n);if(n.top+n.nodeHeight/2+5>i.v[0]&&n.top+n.nodeHeight/2-5<i.v[1]){var s,u=g(o.byPosition);try{for(u.s();!(s=u.n()).done;){var l=m(s.value,2),c=l[0],f=l[1],d=t.scaledSpace.toUnitSpace(5);if(!(c+d<=i.h[0]||c-d>=i.h[1])){var p,h=g(f);try{var v=function(){var e=p.value;HL(a,(function(t){return t[e.track.sheetObject.address.objectKey].byTrackId[e.track.id].byKeyframeId[e.kf.id]}),!0)};for(h.s();!(p=h.n()).done;)v()}catch(y){h.e(y)}finally{h.f()}}}}catch(y){u.e(y)}finally{u.f()}}r(e,t,n,i,a)},n={sheet:function(e,n,r,i,a){t(e,n,r,i,a)},propWithChildren:function(e,n,r,i,a){t(e,n,r,i,a)},sheetObject:function(e,n,r,i,a){t(e,n,r,i,a)},primitiveProp:function(e,t,n,r,i){var a=n.sheetObject,o=n.trackId,s=(0,nN.val)(W().atomP.historic.coreByProject[a.address.projectId].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[o]);if(!(r.v[0]>n.top+n.heightIncludingChildren/2+5||n.top+n.heightIncludingChildren/2-5>r.v[1])){var u,l=g(s.keyframes);try{var c=function(){var e=u.value;if(!(e.position+t.scaledSpace.toUnitSpace(5)<=r.h[0])){if(e.position-t.scaledSpace.toUnitSpace(5)>=r.h[1])return"break";HL(i,(function(t){return t[a.address.objectKey].byTrackId[o].byKeyframeId[e.id]}),!0)}};for(l.s();!(u=l.n()).done;){if("break"===c())break}}catch(f){l.e(f)}finally{l.f()}}}},r=function(e,t,n,r,a){if("children"in n){var o,s=g(n.children);try{for(s.s();!(o=s.n()).done;){i(e,t,o.value,r,a)}}catch(u){s.e(u)}finally{s.f()}}};function i(e,t,i,a,o){if(!(!i.shouldRender||a.v[0]>i.top+i.heightIncludingChildren||i.top>a.v[1])){var s=n[i.type];s?s(e,t,i,a,o):r(e,t,i,a,o)}}e.boundsToSelection=function(e,t,n){var r={};n=cN(n);var a=t.tree;i(e.utilFor.internal(),t,a,n,r);var o=t.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:r,getDragHandlers:function(e){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart:function(){var n,i=t.scaledSpace.toUnitSpace;return{onDrag:function(t,a,s){n&&(n.discard(),n=void 0);var u=qL.checkIfMouseEventSnapToPos(s,{ignore:e.domNode}),l=null!=u?u-e.positionAtStartOfDrag:i(t);n=W().tempTransaction((function(t){for(var n=t.stateEditors.coreByProject.historic.sheetsById.sequence.transformKeyframes,i=0,a=Object.keys(r);i<a.length;i++)for(var s=a[i],u=r[s].byTrackId,c=0,f=Object.keys(u);c<f.length;c++){var d=f[c],p=u[d].byKeyframeId;n({trackId:d,keyframeIds:Object.keys(p),translate:l,scale:1,origin:0,snappingFunction:o.getSequence().closestGridPosition,objectKey:s,projectId:e.projectId,sheetId:e.sheetId})}}))},onDragEnd:function(e){e?null==n||n.commit():null==n||n.discard()}}}}},delete:function(){W().transaction((function(e){for(var t=e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes,n=0,i=Object.keys(r);n<i.length;n++)for(var a=i[n],s=r[a].byTrackId,u=0,l=Object.keys(s);u<l.length;u++){var c=l[u],f=s[c].byKeyframeId;t(R(I({},o.address),{objectKey:a,trackId:c,keyframeIds:Object.keys(f)}))}}))}}}}(sN||(sN={})),lN=tv.div(uN||(uN=U(["\n  position: absolute;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px dashed rgba(255, 255, 255, 0.4);\n  box-sizing: border-box;\n"]))),cN=function(e){return{h:v(e.h).sort((function(e,t){return e-t})),v:v(e.v).sort((function(e,t){return e-t}))}},fN=function(e){var t=e.state,n=e.layoutP,r=function(e){var t=(0,ZL.useMemo)((function(){return new UL.Atom(e)}),[]);return(0,ZL.useLayoutEffect)((function(){t.set(e)}),[e]),t}(t);return Kd((function(){var e=(0,nN.val)(r.pointer),t=cN(e),i=(0,nN.val)(n.scaledSpace.fromUnitSpace),a=(0,nN.val)(n.scaledSpace.leftPadding),o=t.h.map(i).map((function(e){return e+a})),s=t.v[0],u=t.v[1]-t.v[0],l=o[0],c=o[1]-o[0];return rN.default.createElement(lN,{style:{top:s+"px",height:u+"px",left:l+"px",width:c+"px"}})}),[n,r])},dN=oN})),UN=L((function(){By(),pN=j(Hd()),nv(),Gq(),vN=tv.div(hN||(hN=U(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  z-index: ",";\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n"])),(function(){return Mq.scrollableArea})),mN=(0,pN.createContext)(zy),gN=function(){return(0,pN.useContext)(mN)},yN=function(e){var t=(0,pN.useRef)(null),n=(0,pN.useCallback)((function(e){t.current.scrollBy(0,e.deltaY)}),[]);return pN.default.createElement(mN.Provider,{value:n},pN.default.createElement(vN,{ref:t},e.children))}})),ZN=L((function(){bN='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'})),VN=L((function(){wN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return"\n  left: ".concat(-.5*e,"px;\n  top: ").concat(-.5*t,"px;\n  width: ").concat(e,"px;\n  height: ").concat(t,"px;\n")}})),HN=L((function(){xN=n(8458),_N=(0,xN.prism)((function(){var e=xN.prism.state("pos",null),t=m(e,2),n=t[0],r=t[1];return xN.prism.effect("setupListeners",(function(){var e=function(e){r(e)};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}}),[]),n})),SN=_N})),WN=L((function(){kN=n(8458),HN(),Ud(),EN=j(Hd()),CN=(0,EN.createContext)(null),MN=0,TN=function(e){var t=e.children,n=e.layoutP,r=(0,EN.useMemo)((function(){return new kN.Atom([])}),[]),i={currentD:(0,EN.useMemo)((function(){return(0,kN.prism)((function(){var e=kN.prism.memo("p",(function(){return ON(n)}),[n]).getValue(),t=(0,kN.val)(r.pointer);return t.length>0?mf(t).position:e}))}),[n]),getLock:(0,EN.useCallback)((function(){var e=MN++;return r.reduce((function(t){return[].concat(v(t),[{id:e,position:[-1,0]}])})),{set:function(t){r.reduce((function(n){var r=n.findIndex((function(t){return t.id===e}));if(-1===r)return console.warn("Lock is already freed. This is a bug."),n;var i=v(n);return i.splice(r,1,{id:e,position:[t,-1===t?0:1]}),i}))},unlock:function(){r.reduce((function(t){return t.filter((function(t){return t.id!==e}))}))}}}),[])};return EN.default.createElement(CN.Provider,{value:i},t)},PN=function(){return(0,EN.useContext)(CN).currentD},AN=function(){var e=(0,EN.useContext)(CN).getLock,t=(0,EN.useRef)();return(0,EN.useLayoutEffect)((function(){return function(){var e;null==(e=t.current)||e.unlock()}}),[]),(0,EN.useMemo)((function(){var n;return function(r,i){var a,o;(null==n?void 0:n.shouldLock)!==r&&(r?t.current=e():null==(a=t.current)||a.unlock()),(null==n?void 0:n.pos)!==i&&r&&(null==(o=t.current)||o.set(i)),n={shouldLock:r,pos:i}}}),[e])},DN=function(e,t){var n=(0,EN.useContext)(CN).getLock,r=(0,EN.useRef)();(0,EN.useLayoutEffect)((function(){if(e)return r.current=n(),function(){r.current.unlock()}}),[e,n]),(0,EN.useLayoutEffect)((function(){e&&r.current.set(t)}),[t,e])},IN=function(e){return p({},RN,"hide"===e?e:e.toFixed(3))},RN="data-theatre-lock-framestamp-to",ON=function(e){return(0,kN.prism)((function(){var t=(0,kN.val)(e.rightDims),n=(0,kN.val)(e.clippedSpace.toUnitSpace),r=(0,kN.val)(SN);if(!r)return[-1,0];var i,a=g(r.composedPath());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(!(o instanceof HTMLElement||o instanceof SVGElement))break;if(o.hasAttribute(RN)){var s=o.getAttribute(RN);if("string"!=typeof s)continue;if("hide"===s)return[-1,0];var u=parseFloat(s);if(isFinite(u)&&u>=0)return[u,2]}}}catch(v){a.e(v)}finally{a.f()}var l=r.clientX,c=r.clientY,f=t.screenX,d=t.screenY,p=t.width,h=t.height;return Nf(l,f,f+p)&&Nf(c,d+16,d+h)?[n(l-f),3]:[-1,0]}))},LN=TN})),GN=L((function(){Fy(),vx(),nv(),ZN(),VN(),KL(),WN(),12,34,jN={BEING_DRAGGED_CLASS:NN="beingDragged",CSS:Zp(zN||(zN=U(["\n    position: absolute;\n    ",";\n    ",";\n\n    &."," {\n      pointer-events: none !important;\n    }\n  "])),wN(12),gy,NN),CSS_WHEN_SOMETHING_DRAGGING:Zp(FN||(FN=U(["\n    pointer-events: auto;\n    cursor: var(",");\n\n    // \u2e22\u2e24\u2e23\u2e25 thing\n    // This box extends the hitzone so the user does not\n    // accidentally leave the hitzone\n    &:hover:after {\n      position: absolute;\n      top: calc(50% - ","px);\n      left: calc(50% - ","px);\n      width: ","px;\n      height: ","px;\n      display: block;\n      content: ' ';\n      background: url(",") no-repeat 100% 100%;\n      // This icon might also fit: GiConvergenceTarget\n    }\n  "])),ox,17,17,34,34,bN),reactProps:function(e){return R(I(I({},IN(e.position)),qL.includePositionSnapAttrs(e.position)),{className:e.isDragging?jN.BEING_DRAGGED_CLASS:""})}}}));function qN(){az.set({mode:"snapToAll"})}function XN(){az.set({mode:"snapToNone"})}function KN(e){az.set({mode:"snapToSome",positions:e})}function YN(e,t){return Object.fromEntries(Object.entries(e).map((function(e){var n=m(e,2),r=n[0],i=n[1];return[r,Object.fromEntries(Object.entries(i.trackData).map((function(e){var n=m(e,2),i=n[0],a=n[1];return[i,a.keyframes.filter((function(e){return t(e,{trackId:i,trackData:a,objectKey:r})})).map((function(e){return e.position}))]})))]})))}var QN,$N,JN,ez,tz,nz,rz,iz,az,oz,sz=L((function(){QN=n(8458),$N=n(8458),JN=j(Hd()),nv(),GN(),tz=tv.div(ez||(ez=U(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  ","\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    ","\n  }\n"])),jN.CSS,jN.CSS_WHEN_SOMETHING_DRAGGING),rz=tv.div(nz||(nz=U(["\n  position: absolute;\n"]))),iz=function(e){return JN.default.createElement(rz,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,$N.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(e.position,"px))")}},JN.default.createElement(tz,I({},jN.reactProps({isDragging:!1,position:e.position}))))},az=new QN.Atom({mode:"snapToNone"}),oz=az.prism}));function uz(e,t){var n=gN();(0,fz.useLayoutEffect)((function(){if(t){var r=function(r){if(r.ctrlKey){r.preventDefault(),r.stopPropagation();var i=r.clientX-t.getBoundingClientRect().left,a=(0,cz.val)(e.clippedSpace.toUnitSpace)(i),o=(0,cz.val)(e.clippedSpace.range),s=1+.03*lz(r.deltaY,[-50,50]),u=Wf(o,(function(e){return(e-a)*s+a})),l=(0,cz.val)(e.sheet).getSequence().length,c=l+.25*l;(0,cz.val)(e.clippedSpace.setRange)(function(e,t){return Wf(e,(function(e){return lz(e,t)}))}(u,[0,c]))}else if(r.shiftKey){r.preventDefault(),r.stopPropagation();var f=(0,cz.val)(e.sheet).getSequence().length,d=(0,cz.val)(e.clippedSpace.range),p=(d.end-d.start)/f,h=.05*lz(r.deltaY||r.deltaX,[-50,50])*p,v=Wf(d,(function(e){return e+h}));(0,cz.val)(e.clippedSpace.setRange)(v)}else{n(r),r.preventDefault(),r.stopPropagation();var m=(0,cz.val)(e.scaledSpace.toUnitSpace)(1*r.deltaX),g=(0,cz.val)(e.clippedSpace.range),y=Wf(g,(function(e){return e+m}));(0,cz.val)(e.clippedSpace.setRange)(y)}},i={capture:!0,passive:!1};return t.addEventListener("wheel",r,i),function(){t.removeEventListener("wheel",r,i)}}}),[t,e]),Px(t,(0,fz.useMemo)((function(){return{onDragStart:function(t){var r=(0,cz.val)(e.clippedSpace.range),i=(0,cz.val)(e.clippedSpace.setRange),a=(0,cz.val)(e.scaledSpace.toUnitSpace);return t.preventDefault(),t.stopPropagation(),{onDrag:function(e,t,o,s,u){n({deltaY:-u});var l=-a(e),c=Wf(r,(function(e){return e+l}));i(c)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}}),[e]))}function lz(e,t){var n=m(t,2),r=n[0],i=n[1];return Math.max(Math.min(e,i),r)}var cz,fz,dz,pz,hz,vz,mz,gz,yz,bz,wz,xz,_z,Sz,kz=L((function(){Rx(),py(),cp(),cz=n(8458),Ud(),fz=j(Hd()),nv(),UN(),Fy(),vx(),KL(),sz(),pz=tv.div(dz||(dz=U(["\n  position: absolute;\n\n  right: 0;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  ",";\n\n  // hide the scrollbar on Gecko\n  scrollbar-width: none;\n\n  // hide the scrollbar on Webkit/Blink\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])),gy),hz=fz.default.memo((function(e){var t=e.layoutP,n=e.children,r=e.height,i=Kd((function(){return{width:(0,cz.val)(t.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,cz.val)(t.scaledSpace.fromUnitSpace)(1)}}),[t]),a=i.width,o=i.unitSpaceToScaledSpaceMultiplier,s=fy(null),u=m(s,2),l=u[0],c=u[1];return uz(t,c),function(e,t){var n=(0,fz.useMemo)((function(){return{debugName:"HorizontallyScrollableArea",onDragStart:function(n){if(n.target instanceof HTMLInputElement||n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||n.composedPath().some((function(e){return e instanceof HTMLElement&&!0===e.draggable})))return!1;var r=n.clientX-t.getBoundingClientRect().left,i=Cs((0,cz.val)(e.clippedSpace.toUnitSpace)(r),0,1/0),a=(0,cz.val)(e.seeker.setIsSeeking),o=(0,cz.val)(e.sheet).getSequence();o.position=i;var s=i,u=(0,cz.val)(e.scaledSpace.toUnitSpace);return a(!0),qN(),{onDrag:function(e,t,n){var r=u(e),i=Cs(s+r,0,o.length),a=qL.checkIfMouseEventSnapToPos(n,{});null!=a&&(i=a),o.position=i},onDragEnd:function(){a(!1),XN()}}}}}),[e,t]),r=Px(t,n),i=m(r,1)[0];dx(i,"draggingPositionInSequenceEditor","ew-resize")}(t,c),function(e,t){(0,fz.useLayoutEffect)((function(){if(t){var n=(0,cz.prism)((function(){var t=(0,cz.val)(e.clippedSpace.range);return(0,cz.val)(e.scaledSpace.fromUnitSpace)(t.start)})),r=function(){var e=n.getValue();t.scrollLeft=e},i=n.onStale(r);r();var a=setTimeout(r,100);return function(){clearTimeout(a),i()}}}),[e,t])}(t,c),fz.default.createElement(pz,{ref:l,style:{width:a+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":o}},n)})),vz=hz})),Ez=L((function(){mz=j(Hd()),nv(),yz=tv.li(gz||(gz=U(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  box-sizing: border-box;\n  position: relative;\n"]))),wz=tv.div(bz||(bz=U(["\n  box-sizing: border-box;\n  width: 100%;\n  position: relative;\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    left: -40px;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n    border-bottom: 1px solid #252b3869;\n    background: ",";\n  }\n"])),(function(e){return e.isEven?"transparent":"#6b8fb505"})),_z=tv.ul(xz||(xz=U(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),Sz=function(e){var t=e.leaf,n=e.children,r=e.node,i=(e.isCollapsed,Array.isArray(n)&&n.length>0);return t.shouldRender?mz.default.createElement(yz,null,mz.default.createElement(wz,{style:{height:t.nodeHeight+"px"},isEven:t.n%2===0},r),i&&mz.default.createElement(_z,null,n)):null}})),Cz=N((function(e,t){!function(){var n={};"undefined"!=typeof e?t.exports=n:this.fuzzy=n,n.simpleFilter=function(e,t){return t.filter((function(t){return n.test(e,t)}))},n.test=function(e,t){return null!==n.match(e,t)},n.match=function(e,t,n){n=n||{};var r,i=0,a=[],o=t.length,s=0,u=0,l=n.pre||"",c=n.post||"",f=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var d=0;d<o;d++)r=t[d],f[d]===e[i]?(r=l+r+c,i+=1,u+=1+u):u=0,s+=u,a[a.length]=r;return i===e.length?(s=f===e?1/0:s,{rendered:a.join(""),score:s}):null},n.filter=function(e,t,r){return t&&0!==t.length?"string"!=typeof e?t:(r=r||{},t.reduce((function(t,i,a,o){var s=i;r.extract&&(s=r.extract(i));var u=n.match(e,s,r);return null!=u&&(t[t.length]={string:u.rendered,score:u.score,index:a,original:i}),t}),[]).sort((function(e,t){return t.score-e.score||e.index-t.index}))):[]}}()}));var Mz,Tz,Pz,Az=L((function(){Mz=j(Hd())})),Dz=L((function(){Tz="rgba(26, 28, 30, 0.97);",Pz="#272B2F"}));function Iz(e,t,n,r){var i=function(e,t){var n=(0,Mz.useState)(!1),r=m(n,2),i=r[0],a=r[1],o=(0,Mz.useRef)(t);return i||(o.current=t),(0,Mz.useMemo)((function(){return e(a)}),o.current)}((function(t){return{debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart:function(){return t(!0),{onDrag:function(t,i){e&&n.onCurveChange(r(t,i))},onDragEnd:function(e){t(!1),n.onCancelCurveChange()}}}}}),[e,n.onCurveChange,n.onCancelCurveChange]);Px(t,i)}var Rz,Oz,Lz,Nz,zz,Fz,jz,Bz,Uz,Zz,Vz,Hz,Wz,Gz,qz=L((function(){Rz=j(Hd()),Rx(),py(),Ms(),nv(),Fy(),Az(),Dz(),Oz=.12,Lz=1.24,Nz=.01,8,zz=.99/7,"#3EAAA4",Fz="#3EAAA4","#3EAAA4","#3EAAA4","#3EAAA4",jz="#3EAAA4","#3EAAA4",Bz="#B3B3B3","#3eaaa4","#67dfd8",Uz=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],Vz=tv.circle(Zz||(Zz=U(["\n  stroke-width: 0.1px;\n  vector-effect: non-scaling-stroke;\n  r: 0.04px;\n  pointer-events: none;\n  transition: r 0.15s;\n  fill: ",";\n"])),"#3eaaa4"),Wz=tv.circle(Hz||(Hz=U(["\n  stroke-width: 0.1px;\n  vector-effect: non-scaling-stroke;\n  r: 0.09px;\n  cursor: move;\n  ",";\n  &:hover {\n    opacity: 0.4;\n  }\n  &:hover + "," {\n    fill: ",";\n  }\n"])),gy,Vz,"#67dfd8"),Gz=function(e){var t=e.curveConnection,n=t.left,r=t.right,i=e.backgroundConnections,a=Math.min(0,1-r.handles[1],1-n.handles[3]),o=Math.max(1,1-r.handles[1],1-n.handles[3]),s=Math.max(1,o-a),u=function(e){return(e-a)/s},l=fy(null),c=m(l,2),f=c[0],d=c[1],p=Lz/((null==d?void 0:d.clientWidth)||1),h=Lz/((null==d?void 0:d.clientHeight)||1),v=fy(null),g=m(v,2),y=g[0];Iz(d,g[1],e,(function(e,t){return[Cs(n.handles[2]+e*p,0,1),n.handles[3]-t*h,r.handles[0],r.handles[1]]}));var b=fy(null),w=m(b,2),x=w[0];Iz(d,w[1],e,(function(e,t){var i=Cs(r.handles[0]+e*p,0,1),a=r.handles[1]-t*h;return[n.handles[2],n.handles[3],i,a]}));var _=function(e){return"M0 ".concat(u(1)," C").concat(e.left.handles[2]," ").concat(u(1-e.left.handles[3])," ").concat(e.right.handles[0]," ").concat(u(1-e.right.handles[1])," 1 ").concat(u(0))};return Rz.default.createElement("svg",{height:"100%",width:"100%",ref:f,viewBox:"".concat(-Oz," ").concat(-Oz," ").concat(Lz," ").concat(Lz),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},Rz.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},Rz.default.createElement("stop",{offset:u(-1),stopColor:"#3EAAA4"}),Rz.default.createElement("stop",{offset:u(0),stopColor:jz}),Rz.default.createElement("stop",{offset:u(.3),stopColor:"#3EAAA4"}),Rz.default.createElement("stop",{offset:u(.5),stopColor:"#3EAAA4"}),Rz.default.createElement("stop",{offset:u(.7),stopColor:"#3EAAA4"}),Rz.default.createElement("stop",{offset:u(1),stopColor:Fz}),Rz.default.createElement("stop",{offset:u(2),stopColor:"#3EAAA4"})),Rz.default.createElement("pattern",{id:"dot-background-pattern-1",width:zz,height:zz/s,y:-a/s},Rz.default.createElement("rect",{width:Nz,height:Nz,fill:Bz,opacity:.3})),Rz.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),Rz.default.createElement("pattern",{id:"dot-background-pattern-2",width:zz,height:zz},Rz.default.createElement("rect",{width:Nz,height:Nz,fill:Bz})),Rz.default.createElement("rect",{x:0,y:u(0),width:"1",height:u(1)-u(0),fill:"url(#dot-background-pattern-2)"}),n.type&&"bezier"!==n.type?Rz.default.createElement(Rz.default.Fragment,null,Rz.default.createElement("line",{x1:0,y1:u(1),x2:1,y2:u(1),stroke:Bz,strokeWidth:"0.01"}),Rz.default.createElement("line",{x1:1,y1:u(1),x2:1,y2:0,stroke:Bz,strokeWidth:"0.01"}),Rz.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:jz,strokeWidth:"0.02",fill:Pz}),Rz.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:jz,strokeWidth:"0.02",fill:Pz})):Rz.default.createElement(Rz.default.Fragment,null,Rz.default.createElement("line",{x1:0,y1:u(1),x2:n.handles[2],y2:u(1-n.handles[3]),stroke:Bz,strokeWidth:"0.01"}),Rz.default.createElement("line",{x1:1,y1:u(0),x2:r.handles[0],y2:u(1-r.handles[1]),stroke:Bz,strokeWidth:"0.01"}),Rz.default.createElement("path",{d:_(e.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),i.map((function(e,t){return Rz.default.createElement("path",{key:e.objectKey+"/"+e.left.id,d:_(e),stroke:Uz[t%Uz.length],opacity:.6,strokeWidth:"0.01"})})),Rz.default.createElement("path",{d:_(e.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),Rz.default.createElement("circle",{cx:0,cy:u(1),r:"0.025",stroke:Fz,strokeWidth:"0.02",fill:Pz}),Rz.default.createElement("circle",{cx:1,cy:u(0),r:"0.025",stroke:jz,strokeWidth:"0.02",fill:Pz}),Rz.default.createElement(Wz,{ref:y,cx:n.handles[2],cy:u(1-n.handles[3]),fill:Fz,opacity:.2}),Rz.default.createElement(Vz,{cx:n.handles[2],cy:u(1-n.handles[3])}),Rz.default.createElement(Wz,{ref:x,cx:r.handles[0],cy:u(1-r.handles[1]),fill:jz,opacity:.2}),Rz.default.createElement(Vz,{cx:r.handles[0],cy:u(1-r.handles[1])})))}}));function Xz(e){return e.map((function(e){return e.toFixed(3)})).join(", ")}function Kz(e){if(!e||(null==e?void 0:e.length)>Qz)return null;var t=e.split(",");if(4!==t.length)return null;var n=t.map((function(e){return Number(e.trim())}));return!n.every((function(e){return isFinite(e)}))||n[0]<0||n[0]>1||n[2]<0||n[2]>1?null:n}function Yz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{threshold:.02};if(!e||!t)return!1;for(var r=0,i=0;i<4;i++)r+=Math.abs(e[i]-t[i]);return r<n.threshold}var Qz,$z,Jz,eF,tF,nF,rF,iF,aF,oF,sF,uF,lF,cF,fF,dF,pF,hF=L((function(){Qz=128,$z=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]})),vF=L((function(){Jz=j(Hd()),eF=.75,tF=.1,2.5,"#F5F5F5","#888888",nF="#4f4f4f",rF="rgba(255, 255, 255, 0.1)",iF=function(e){return 1-e},aF=function(e){var t=e.easing,n=e.isSelected?"#F5F5F5":"#888888",r="".concat(-eF," ").concat(-eF," ").concat(2.5," ").concat(2.5);if(t){var i=[t[0],iF(t[1])],a=[t[2],iF(t[3])];return Jz.default.createElement("svg",{height:"100%",width:"100%",viewBox:r,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jz.default.createElement("line",{x1:"0",y1:"1",x2:i[0],y2:i[1],stroke:nF,strokeWidth:"0.1"}),Jz.default.createElement("line",{x1:"1",y1:"0",x2:a[0],y2:a[1],stroke:nF,strokeWidth:"0.1"}),Jz.default.createElement("circle",{cx:i[0],cy:i[1],r:.1,fill:rF}),Jz.default.createElement("circle",{cx:a[0],cy:a[1],r:.1,fill:rF}),Jz.default.createElement("circle",{cx:i[0],cy:i[1],r:tF,fill:nF}),Jz.default.createElement("circle",{cx:a[0],cy:a[1],r:tF,fill:nF}),Jz.default.createElement("path",{d:"M0 1 C".concat(i[0]," ").concat(i[1]," ").concat(a[0]," \n        ").concat(a[1]," 1 0"),stroke:n,strokeWidth:"0.08"}),Jz.default.createElement("circle",{cx:0,cy:1,r:tF,fill:n}),Jz.default.createElement("circle",{cx:1,cy:0,r:tF,fill:n}))}return Jz.default.createElement("svg",{height:"100%",width:"100%",viewBox:r,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jz.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:n,strokeWidth:"0.08"}),Jz.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:n,strokeWidth:"0.08"}),Jz.default.createElement("circle",{cx:0,cy:1,r:tF,fill:n}),Jz.default.createElement("circle",{cx:1,cy:0,r:tF,fill:n}))}})),mF=L((function(){TD(),oF=j(Hd()),nv(),hF(),vF(),nx(),Dz(),XE(),lF=tv.div(uF||(uF=U(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  aspect-ratio: 1;\n\n  transition: background-color 0.15s;\n  background-color: ",";\n  border-radius: 2px;\n  cursor: pointer;\n  outline: none;\n\n  ","\n\n  &:hover {\n    background-color: #31353a;\n  }\n\n  &:focus {\n    background-color: #383d42;\n  }\n"])),Pz,(function(e){return e.isSelected&&Zp(sF||(sF=U(["\n      background-color: #383d42;\n    "])))})),fF=tv(WE)(cF||(cF=U(["\n  padding: 0.5em;\n  color: white;\n  max-width: 240px;\n  pointer-events: none !important;\n  --popover-bg: black;\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: transparent;\n  box-shadow: none;\n"]))),dF=oF.default.forwardRef((function(e,t){var n=VA({enabled:!0,verticalPlacement:e.tooltipPlacement,verticalGap:0},(function(){return oF.default.createElement(fF,{showPopoverEdgeTriangle:!1},e.easing.label)})),r=m(n,2),i=r[0],a=r[1];return oF.default.createElement(lF,I({ref:tx([a,t])},e),i,oF.default.createElement(aF,{easing:Kz(e.easing.value),isSelected:e.isSelected}))})),pF=dF}));var gF,yF=L((function(){gF=j(Hd()),FF()}));function bF(e,t,n){var r;null==(r=e.current)||r.discard(),e.current=null;var i=Kz(n);e.current=null===i?function(e){return W().tempTransaction((function(t){var n,r=t.stateEditors.coreByProject.historic.sheetsById.sequence.setKeyframeType,i=g(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r({projectId:a.projectId,sheetId:a.sheetId,objectKey:a.objectKey,trackId:a.trackId,keyframeId:a.left.id,keyframeType:"hold"})}}catch(o){i.e(o)}finally{i.f()}}))}(t):function(e,t){return W().tempTransaction((function(n){var r,i=n.stateEditors.coreByProject.historic.sheetsById.sequence,a=i.setHandlesForKeyframe,o=i.setKeyframeType,s=g(e);try{for(s.s();!(r=s.n()).done;){var u=r.value,l=u.projectId,c=u.sheetId,f=u.objectKey,d=u.trackId,p=u.left,h=u.right;a({projectId:l,sheetId:c,objectKey:f,trackId:d,keyframeId:p.id,start:[t[0],t[1]]}),a({projectId:l,sheetId:c,objectKey:f,trackId:d,keyframeId:h.id,end:[t[2],t[3]]}),o({projectId:l,sheetId:c,objectKey:f,trackId:d,keyframeId:p.id,keyframeType:"bezier"})}}catch(v){s.e(v)}finally{s.f()}}))}(t,i)}function wF(e){var t;null==(t=e.current)||t.discard(),e.current=null}function xF(e,t){return function(){return setTimeout(e,t)}}var _F,SF,kF,EF,CF,MF,TF,PF,AF,DF,IF,RF,OF,LF,NF,zF,FF=L((function(){_F=n(8458),SF=j(Hd()),nv(),kF=j(Cz()),q(),qz(),mF(),hF(),Dz(),py(),yF(),3,53,25,CF=tv.div(EF||(EF=U(["\n  background: ",";\n  display: grid;\n  grid-template-areas:\n    'search  tween'\n    'presets tween';\n  grid-template-rows: 32px 1fr;\n  grid-template-columns: ","px 120px;\n  gap: 1px;\n  height: 120px;\n"])),Tz,159),TF=tv.div(MF||(MF=U(["\n  overflow: auto;\n  grid-area: presets;\n\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-auto-rows: min-content;\n  gap: 1px;\n\n  overflow-y: scroll;\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* Internet Explorer 10+ */\n  &::-webkit-scrollbar {\n    /* WebKit */\n    width: 0;\n    height: 0;\n  }\n"])),3),AF=tv.input.attrs({type:"text"})(PF||(PF=U(["\n  background-color: ",";\n  border: none;\n  border-radius: 2px;\n  color: rgba(255, 255, 255, 0.8);\n  padding: 6px;\n  font-size: 12px;\n  outline: none;\n  cursor: text;\n  text-align: left;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n\n  grid-area: search;\n\n  &:hover {\n    background-color: #212121;\n  }\n\n  &:focus {\n    background-color: rgba(16, 16, 16, 0.26);\n    outline: 1px solid rgba(0, 0, 0, 0.35);\n  }\n"])),Pz),IF=tv.div(DF||(DF=U(["\n  grid-area: tween;\n  background: ",";\n"])),Pz),OF=tv.div(RF||(RF=U(["\n  grid-column: 1 / 4;\n  padding: 6px;\n  color: #888888;\n"]))),LF=function(e){var t=(0,SF.useMemo)((function(){return[e.curveConnection].concat(v(e.additionalConnections))}),[e.curveConnection].concat(v(e.additionalConnections))),n=(0,SF.useRef)(null);(0,SF.useEffect)((function(){var e=zF(t);return function(){var t;e(),null==(t=n.current)||t.commit()}}),[n]);var r=[e.curveConnection.left.handles[2],e.curveConnection.left.handles[3],e.curveConnection.right.handles[0],e.curveConnection.right.handles[1]],i=(0,SF.useRef)(null);(0,SF.useLayoutEffect)((function(){var e,t;null==(e=i.current)||e.select(),null==(t=i.current)||t.focus()}),[i.current]);var a=(0,SF.useState)(Xz(r)),o=m(a,2),s=o[0],u=o[1],l=function(e){void 0!==e&&(p(1),u(e.target.value),Kz(e.target.value)&&b(e.target.value))},c=(0,SF.useState)(0),f=m(c,2),d=f[0],p=f[1];(0,SF.useEffect)((function(){2===d?u(Xz(r)):3===d&&""!==s&&u("")}),t);var h=(0,SF.useState)(Xz(r)),g=m(h,2),y=g[0],b=g[1],w=(0,SF.useState)(null),x=m(w,2),_=x[0],S=x[1];(0,SF.useEffect)((function(){var e;0!==d&&3!==d&&bF(n,t,null!=(e=null!=_?_:y)?e:"")}),[_,y,d]),t.some(function(e){var t=e.left,n=e.right;return function(e){var r=e.left,i=e.right;return t.handles[2]!==r.handles[2]||t.handles[3]!==r.handles[3]||n.handles[0]!==i.handles[0]||n.handles[1]!==i.handles[1]}}(e.curveConnection))&&0===d&&p(3);var k=(0,SF.useMemo)((function(){return/^[A-Za-z]/.test(s)?kF.default.filter(s,$z,{extract:function(e){return e.label}}).map((function(e){return e.original})):$z}),[s]);(0,SF.useEffect)((function(){1===d&&k[0]&&b(k[0].value)}),[k]);var E=function(t){"Escape"===t.key?(wF(n),e.onRequestClose("key Escape"),t.stopPropagation()):"Enter"===t.key&&(e.onRequestClose("key Enter"),t.stopPropagation())},C=function(){return S(null)},M=(0,SF.useRef)($z.reduce((function(e,t){return e[t.label]={current:null},e}),{})),T=fy(null),P=m(T,2),A=P[0],D=P[1],I=(0,SF.useState)(0),R=m(I,2),O=R[0],L=R[1];(0,SF.useEffect)((function(){var e=function(){var e;L(null!=(e=null==D?void 0:D.scrollTop)?e:0)};return null==D||D.addEventListener("scroll",e),function(){return null==D?void 0:D.removeEventListener("scroll",e)}}),[D]);var N=function(e){var t,n=(0,gF.useState)(null),r=m(n,2),i=r[0],a=r[1],o=function(t){if(null!==i){var n=i+t*e.uiColumns,r=n<0,o=n>e.items.length-1;if(r||o)return e.canVerticleExit&&e.canVerticleExit(r?"top":"bottom")?void a(null):void 0;a(n)}else e.items.length>0&&a(0)},s=function(t){a(null===i?function(e,t){return(e%t+t)%t}(t,e.items.length):i+t<0?null:Math.min(i+t,e.items.length-1))};return{focusFirstItem:function(){a(0)},onParentEltKeyDown:function(e){if("ArrowRight"===e.key)s(1);else if("ArrowLeft"===e.key)s(-1);else if("ArrowUp"===e.key)o(-1);else{if("ArrowDown"!==e.key)return 0;o(1)}return 1},gridItems:e.items.map((function(t,n){return e.renderItem({isSelected:n===i,item:t,select:function(r){a(n),1===e.onSelectItem(t)&&(null==r||r.preventDefault(),null==r||r.stopPropagation())}})})),currentSelection:null!=(t=e.items[null!=i?i:-1])?t:null}}({items:k,uiColumns:3,onSelectItem:function(r){return bF(n,t,r.value),e.onRequestClose("selected easing option"),1},canVerticleExit:function(e){var t,n;return"top"===e?(null==(t=i.current)||t.select(),null==(n=i.current)||n.focus(),1):0},renderItem:function(e){var t,n,i=e.item,a=e.select;return SF.default.createElement(pF,{key:i.label,easing:i,tabIndex:0,onKeyDown:E,ref:M.current[i.label],onMouseOver:function(){return function(e){0===d&&p(2),S(e.value)}(i)},onMouseOut:C,onClick:a,tooltipPlacement:(null!=(n=null==(t=M.current[i.label].current)?void 0:t.offsetTop)?n:0)-(null!=O?O:0)<78?"bottom":"top",isSelected:Yz(r,Kz(i.value))})}});return(0,SF.useLayoutEffect)((function(){var e,t;if(null!==N.currentSelection&&document.activeElement!==i.current){var n=null==(t=null==(e=M.current)?void 0:e[N.currentSelection.label])?void 0:t.current;null==n||n.focus(),b(N.currentSelection.value),/^[A-Za-z]/.test(s)||u(N.currentSelection.value)}}),[N.currentSelection]),SF.default.createElement(CF,null,SF.default.createElement(AF,{value:s,placeholder:3===d?"Multiple easings selected":"Search presets...",onPaste:xF(l),onChange:l,ref:i,onKeyDown:function(t){var r,i;p(1),("ArrowDown"===t.key||"ArrowUp"===t.key)&&t.preventDefault(),"ArrowDown"===t.key?(N.focusFirstItem(),null==(i=null==(r=M.current[k[0].label])?void 0:r.current)||i.focus()):"Escape"===t.key?(wF(n),e.onRequestClose("key Escape")):"Enter"===t.key&&e.onRequestClose("key Enter")}}),SF.default.createElement(TF,{ref:A,onKeyDown:function(e){return N.onParentEltKeyDown(e)}},N.gridItems,0===N.gridItems.length?SF.default.createElement(OF,null,"No results found"):void 0),SF.default.createElement(IF,{onClick:function(){var e;return null==(e=i.current)?void 0:e.focus()}},SF.default.createElement(Gz,{curveConnection:e.curveConnection,backgroundConnections:e.additionalConnections,onCurveChange:function(e){var t,n;p(2);var r=Xz(e);u(r),b(r),null==(t=i.current)||t.select(),null==(n=i.current)||n.focus()},onCancelCurveChange:function(){}})))};var e=function(){var e=new _F.Atom([]);return{getLock:function(t){return e.set(t),function(){e.set([])}},isCurveEditorOpenD:(0,_F.prism)((function(){return e.prism.getValue().length>0})),isConnectionEditingInCurvePopover:function(t){return _F.prism.ensurePrism(),e.prism.getValue().some((function(e){var n=e.left,r=e.right;return t.left.id===n.id&&t.right.id===r.id}))}}}();e.isCurveEditorOpenD,NF=e.isConnectionEditingInCurvePopover,zF=e.getLock}));function jF(e,t){var n,r=g(function(e){for(var t,n,r,i=[],a=0,o=Object.entries(null!=(t=null==e?void 0:e.byObjectKey)?t:{});a<o.length;a++)for(var s=m(o[a],2),u=s[0],l=s[1],c=0,f=Object.entries(null!=(n=null==l?void 0:l.byTrackId)?n:{});c<f.length;c++)for(var d=m(f[c],2),p=d[0],h=d[1],v=0,g=Object.keys(null!=(r=null==h?void 0:h.byKeyframeId)?r:{});v<g.length;v++){var y=g[v];i.push({objectKey:u,trackId:p,keyframeId:y})}return i}(t));try{for(r.s();!(n=r.n()).done;){var i=n.value.keyframeId;if(e.left.id===i)return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function BF(e,t,n){return(0,HF.prism)((function(){if(void 0===n)return[];var r,i=[],a=g(VF(n));try{var o=function(){var a=r.value,o=a.objectKey,s=a.trackId,u=(0,HF.val)(W().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[o].trackData[s]);u&&(i=i.concat(function(e){return e.map((function(t,n){return{left:t,right:e[n+1]}})).slice(0,-1)}(u.keyframes).filter((function(e){return jF(e,n)})).map((function(n){return{left:n.left,right:n.right,trackId:s,objectKey:o,sheetId:t,projectId:e}}))))};for(a.s();!(r=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return i}))}function UF(e,t,n){var r;if(void 0===n)return[];var i,a=[],o=g(VF(n));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.objectKey,l=s.trackId,c=s.keyframeIds;a=a.concat(null!=(r=ZF({projectId:e,sheetId:t,objectKey:u,trackId:l,keyframeIds:c}))?r:[])}}catch(d){o.e(d)}finally{o.f()}var f=IL(a.map((function(e){return e.pathToProp})));return a.map((function(e){return{keyframe:e.keyframe,pathToProp:e.pathToProp.slice(f.length)}}))}function ZF(e){var t=e.projectId,n=e.sheetId,r=e.objectKey,i=e.trackId,a=e.keyframeIds,o=(0,HF.val)(W().atomP.historic.coreByProject[t].sheetsById[n].sequence.tracksByObject[r]),s=null==o?void 0:o.trackData[i];if(!s)return null;var u=function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=m(r[n],2),a=i[0];t[i[1]]=a}return t}((null==o?void 0:o.trackIdByPropPath)||{})[i];if(!u)return null;var l=[r].concat(v(OL(u)));return a.map((function(e){return{keyframe:s.keyframes.find((function(t){return t.id===e})),pathToProp:l}})).filter((function(e){return void 0!==e.keyframe}))}function VF(e){for(var t,n,r,i=[],a=0,o=Object.entries(null!=(t=null==e?void 0:e.byObjectKey)?t:{});a<o.length;a++)for(var s=m(o[a],2),u=s[0],l=s[1],c=0,f=Object.entries(null!=(n=null==l?void 0:l.byTrackId)?n:{});c<f.length;c++){var d=m(f[c],2),p=d[0],h=d[1];i.push({objectKey:u,trackId:p,keyframeIds:Object.keys(null!=(r=null==h?void 0:h.byKeyframeId)?r:{})})}return i}var HF,WF=L((function(){HF=n(8458),q(),LL()}));function GF(e,t){return(0,qF.useMemo)((function(){return function(e,t){var n=null,r=function(t){return W().tempTransaction((function(n){return e(n,t)}))};function i(){null==n||n.discard(),n=null}var a={createAsset:t.sheet.project.assetStorage.createAsset,getAssetUrl:function(e){return e.id?t.sheet.project.assetStorage.getAssetUrl(e.id):void 0}};return I({temporarilySetValue:function(e){i(),n=r(e)},discardTemporaryValue:i,permanentlySetValue:function(e){i(),r(e).commit()}},a)}(e,t)}),[])}var qF,XF=L((function(){q(),qF=j(Hd())}));function KF(e){var t;if("sheetObject"===e.type)return QF.default.createElement(QF.default.Fragment,null,QF.default.createElement(tj,{style:{paddingLeft:"".concat(e.indent*nj,"px")}},e.sheetObject.address.objectKey),e.children.map((function(t,n){return QF.default.createElement(KF,R(I({key:n},t),{autoFocusInput:e.autoFocusInput&&0===n,indent:e.indent+1}))})));if("propWithChildren"===e.type){var n=null!=(t=e.propConfig.label)?t:mf(e.pathToProp);return QF.default.createElement(QF.default.Fragment,null,QF.default.createElement(tj,{style:{paddingLeft:"".concat(e.indent*nj,"px")}},n),e.children.map((function(t,n){return QF.default.createElement(KF,R(I({key:n},t),{autoFocusInput:e.autoFocusInput&&0===n,indent:e.indent+1}))})))}return QF.default.createElement(YF,R(I({},e),{autoFocusInput:e.autoFocusInput,indent:e.indent}))}function YF(e){var t,n=null!=(t=e.propConfig.label)?t:mf(e.pathToProp),r=function(e){var t=e.sheetObject;return GF((function(n,r){var i=n.stateEditors,a=R(I({},e.keyframe),{value:r});i.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(I({},t.address),{trackId:e.trackId,keyframes:[a],snappingFunction:t.sheet.getSequence().closestGridPosition}))}),t)}(e);if("enum"===e.propConfig.type)return QF.default.createElement(QF.default.Fragment,null);var i=UC[e.propConfig.type];return QF.default.createElement(JF,null,QF.default.createElement(tj,null,QF.default.createElement("span",{style:{paddingLeft:"".concat(e.indent*nj,"px")}},n)),QF.default.createElement(ij,null,QF.default.createElement(i,{editingTools:r,propConfig:e.propConfig,value:XC(e.keyframe.value,e.propConfig),autoFocus:e.autoFocusInput})))}var QF,$F,JF,ej,tj,nj,rj,ij,aj=L((function(){QF=j(Hd()),nv(),VC(),gf(),XF(),sM(),JF=tv.div($F||($F=U(["\n  display: flex;\n  align-items: stretch;\n  min-width: 200px;\n\n  select {\n    min-width: 100px;\n  }\n"]))),tj=tv.div(ej||(ej=U(["\n  font-style: normal;\n  font-weight: 400;\n  font-size: 11px;\n  line-height: 13px;\n  letter-spacing: 0.01em;\n  padding: 6px 6px 6px 0;\n\n  width: 40%;\n\n  color: #919191;\n\n  overflow: hidden;\n"]))),nj=10,ij=tv.div(rj||(rj=U(["\n  display: flex;\n  align-items: center;\n  width: 60%;\n"])))}));function oj(e){return SE({debugName:"useKeyframeInlineEditorPopover"},(function(){return sj.default.createElement(WE,{showPopoverEdgeTriangle:!0},sj.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(e)?e.map((function(e,t){return sj.default.createElement(KF,R(I({key:t},e),{autoFocusInput:0===t,indent:0}))})):void 0))}))}var sj,uj=L((function(){sj=j(Hd()),GE(),XE(),aj()}));var lj,cj,fj,dj,pj,hj,vj,mj,gj,yj,bj,wj,xj,_j,Sj,kj,Ej,Cj,Mj,Tj,Pj=L((function(){lj=j(Hd()),nv(),q(),RM(),Rx(),py(),cj=n(8458),WN(),vx(),KL(),VN(),wx(),WF(),Fy(),sz(),uj(),kT(),dj=(fj=6)+2,pj={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},hj=function(e){var t=e.isSelected,n=e.isInlineEditorPopoverOpen;return t&&n?pj.inlineEditorOpenColor:t?pj.selectedColor:n?pj.selectedAndInlineEditorOpenColor:pj.normalColor},mj=tv.div(vj||(vj=U(["\n  position: absolute;\n  ","\n\n  background: ",";\n  transform: rotateZ(45deg);\n\n  ",";\n\n  z-index: 1;\n  pointer-events: none;\n"])),wN(fj),(function(e){return hj(e)}),(function(e){return 2===e.flag?"outline: 2px solid white;":""})),yj=tv.div(gj||(gj=U(["\n  position: absolute;\n  ","\n\n  background: ",";\n\n  ",";\n\n  z-index: 1;\n  pointer-events: none;\n"])),wN(1.5*fj),(function(e){return hj(e)}),(function(e){return 2===e.flag?"outline: 2px solid white;":""})),wj=tv.div(bj||(bj=U(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  position: absolute;\n  ",";\n  ",";\n\n  & + "," {\n    ","\n  }\n\n  &:hover + "," {\n    ","\n  }\n"])),wN(12),gy,mj,(function(e){return e.isInlineEditorPopoverOpen?wN(dj):""}),mj,wN(dj)),xj=function(e){var t=gx("SingleKeyframeDot",e.keyframe.id),n=BM(e.itemKey),r=fy(null),i=m(r,2),a=i[0],o=i[1],s=function(e,t,n){return AM(e,{displayName:"Keyframe",menuItems:function(){var e=UF(n.leaf.sheetObject.address.projectId,n.leaf.sheetObject.address.sheetId,n.selection);return[{label:e.length>0?"Copy (selection)":"Copy",callback:function(){e.length>0?W().transaction((function(t){t.stateEditors.studio.ahistoric.setClipboardKeyframes(e)})):W().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n.keyframe,pathToProp:n.leaf.pathToProp}])}))}},{label:void 0!==n.selection?"Delete (selection)":"Delete",callback:function(){n.selection?n.selection.delete():W().transaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(I({},n.leaf.sheetObject.address),{keyframeIds:[n.keyframe.id],trackId:n.leaf.trackId}))}))}}]},onOpen:function(){t._debug("Show keyframe",n)}})}(o,t,e),u=m(s,1)[0],l=oj([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.leaf.pathToProp,propConfig:e.leaf.propConf,sheetObject:e.leaf.sheetObject,trackId:e.leaf.trackId}]),c=l.node,f=l.toggle,d=l.isOpen,p=function(e,t,n){var r=(0,lj.useRef)(t);r.current=t;var i=n.onClickFromDrag,a=(0,lj.useMemo)((function(){return{debugName:"KeyframeDot/useDragKeyframe",onDragStart:function(t){var n=r.current,a=YN((0,cj.val)(W().atomP.historic.coreByProject[n.leaf.sheetObject.address.projectId].sheetsById[n.leaf.sheetObject.address.sheetId].sequence.tracksByObject),(function(e,t){var r,i,a=t.trackId,o=t.objectKey;return e.id!==n.keyframe.id&&!(n.selection&&null!=(i=null==(r=n.selection.byObjectKey[o])?void 0:r.byTrackId[a])&&i.byKeyframeId[e.id])}));if(KN(a),n.selection){var o=n.selection,s=n.leaf.sheetObject,u=o.getDragHandlers(R(I({},s.address),{domNode:e,positionAtStartOfDrag:n.track.data.keyframes[n.index].position})).onDragStart(t);return u&&R(I({},u),{onClick:i,onDragEnd:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==(t=u.onDragEnd)||(e=t).call.apply(e,[u].concat(r)),XN()}})}var l,c=n,f=(0,cj.val)(c.layoutP.scaledSpace.toUnitSpace);return{onDrag:function(t,n,r){var i,a=c.track.data.keyframes[c.index],o=Math.max(null!=(i=qL.checkIfMouseEventSnapToPos(r,{ignore:e}))?i:a.position+f(t),0);null==l||l.discard(),l=void 0,l=W().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(I({},c.leaf.sheetObject.address),{trackId:c.leaf.trackId,keyframes:[R(I({},a),{position:o})],snappingFunction:(0,cj.val)(c.layoutP.sheet).getSequence().closestGridPosition}))}))},onDragEnd:function(e){e?null==l||l.commit():null==l||l.discard(),XN()},onClick:function(e){i(e)}}}}}),[i]),o=Px(e,a),s=m(o,1)[0];return DN(s,t.keyframe.position),dx(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}(o,e,{onClickFromDrag:function(e){f(e,a.current)}}),h=(m(p,1)[0],!e.keyframe.type||"bezier"===e.keyframe.type);return lj.default.createElement(lj.default.Fragment,null,lj.default.createElement(wj,I({ref:a,isInlineEditorPopoverOpen:d},n.attrs)),h?lj.default.createElement(mj,{isSelected:!!e.selection,isInlineEditorPopoverOpen:d,flag:n.flag}):lj.default.createElement(yj,{isSelected:!!e.selection,isInlineEditorPopoverOpen:d,flag:n.flag}),c,u)},_j=xj})),Aj=L((function(){lm(),Sj=j(Hd()),nv(),Pj(),kj=fj/2+1,1e3,Ej={normalColor:"#365b59",selectedColor:"#8A7842",barColor:function(e){var t=e.isSelected?Ej.selectedColor:Ej.normalColor;return e.isPopoverOpen?om(.2,am(.2,t)):t},hoverColor:function(e){var t=e.isSelected?Ej.selectedColor:Ej.normalColor;return e.isPopoverOpen?om(.2,am(.2,t)):om(.1,am(.1,t))}},Mj=tv.div(Cj||(Cj=U(["\n  position: absolute;\n  background: ",";\n  height: ","px;\n  width: ","px;\n\n  left: 0;\n  top: -","px;\n  transform-origin: top left;\n  z-index: 0;\n  cursor: ew-resize;\n\n  &:after {\n    display: block;\n    position: absolute;\n    content: ' ';\n    top: -4px;\n    bottom: -4px;\n    left: 0;\n    right: 0;\n  }\n\n  &:hover {\n    background: ",";\n  }\n"])),Ej.barColor,kj,1e3,kj/2,Ej.hoverColor),Tj=Sj.default.forwardRef((function(e,t){var n={isPopoverOpen:e.isPopoverOpen,isSelected:e.isSelected};return Sj.default.createElement(Mj,R(I({},n),{ref:t,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e.connectorLengthInUnitSpace/1e3,"))")},onClick:function(t){var n;null==(n=e.openPopover)||n.call(e,t)}}),e.children)}))}));var Dj,Ij,Rj,Oj,Lj,Nj,zj,Fj,jj,Bj,Uj,Zj,Vj,Hj,Wj=L((function(){q(),RM(),Rx(),py(),Dj=n(8458),Ij=j(Hd()),Rj=j(Hd()),GE(),XE(),FF(),Aj(),Dz(),cp(),WF(),WF(),nv(),5,Lj=tv(WE)(Oj||(Oj=U(["\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: ",";\n"])),Tz),Nj=function(e){var t=e.index,n=e.track,r=n.data.keyframes[t],i=n.data.keyframes[t+1],a=fy(null),o=m(a,2),s=o[0],u=o[1],l=SE((function(){var t=(0,Dj.val)(e.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:t.screenX+5,maxX:t.screenX+t.width-5}}}),(function(){return Ij.default.createElement(zj,R(I({},e),{closePopover:d}))})),c=l.node,f=l.toggle,d=l.close,p=function(e,t,n,r){return AM(t,{displayName:"Tween",menuItems:function(){var t=UF(e.leaf.sheetObject.address.projectId,e.leaf.sheetObject.address.sheetId,e.selection);return[{label:t.length>0?"Copy (selection)":"Copy",callback:function(){t.length>0?W().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes(t)})):W().transaction((function(t){t.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n,pathToProp:e.leaf.pathToProp},{keyframe:r,pathToProp:e.leaf.pathToProp}])}))}},{label:e.selection?"Delete (selection)":"Delete",callback:function(){e.selection?e.selection.delete():W().transaction((function(t){t.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(I({},e.leaf.sheetObject.address),{keyframeIds:[n.id,r.id],trackId:e.leaf.trackId}))}))}}]}})}(e,u,r,i),h=m(p,1)[0];!function(e,t){var n=(0,Rj.useRef)(t);n.current=t;var r=(0,Rj.useMemo)((function(){return{debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart:function(t){var r,i=n.current;if(i.selection){var a=i.selection,o=i.leaf.sheetObject;return a.getDragHandlers(R(I({},o.address),{domNode:e,positionAtStartOfDrag:i.track.data.keyframes[i.index].position})).onDragStart(t)}var s=i,u=(0,Dj.val)(s.layoutP.sheet).getSequence(),l=(0,Dj.val)(s.layoutP.scaledSpace.toUnitSpace);return{onDrag:function(e,t,n){var i=l(e);r&&(r.discard(),r=void 0),r=W().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.transformKeyframes(R(I({},s.leaf.sheetObject.address),{trackId:s.leaf.trackId,keyframeIds:[s.keyframe.id,s.track.data.keyframes[s.index+1].id],translate:i,scale:1,origin:0,snappingFunction:u.closestGridPosition}))}))},onDragEnd:function(e){e?r&&r.commit():r&&r.discard()}}}}}),[]);Px(e,r)}(u,e);var v=i.position-r.position,g={isPopoverOpen:Kd((function(){return NF(R(I({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,left:r,right:i}))}),[e.leaf.sheetObject.address,e.leaf.trackId,r,i]),isSelected:void 0!==e.selection};return Ij.default.createElement(Ij.default.Fragment,null,Ij.default.createElement(Tj,R(I({ref:s,connectorLengthInUnitSpace:v},g),{openPopover:function(e){u&&f(e,u)}}),c),h)},zj=Ij.default.forwardRef((function(e,t){var n=e.index,r=e.track.data,i=e.selection,a=r.keyframes[n],o=r.keyframes[n+1],s=e.leaf.trackId,u=e.leaf.sheetObject.address,l=Kd((function(){return BF(u.projectId,u.sheetId,i).getValue()}),[u,i]),c=I({left:a,right:o,trackId:s},u);return Ij.default.createElement(Lj,{showPopoverEdgeTriangle:!1,ref:t},Ij.default.createElement(LF,{curveConnection:c,additionalConnections:l,onRequestClose:e.closePopover}))}))})),Gj=L((function(){Fj=n(8458),jj=j(Hd()),nv(),Wj(),Pj(),Uj=tv.div(Bj||(Bj=U(["\n  position: absolute;\n"]))),Zj=jj.default.createElement(jj.default.Fragment,null),Vj=jj.default.memo((function(e){var t=e.index,n=e.track.data,r=n.keyframes[t],i=n.keyframes[t+1],a=r.connectedRight&&!!i;return jj.default.createElement(Uj,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,Fj.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(r.position,"px))")}},jj.default.createElement(_j,R(I({},e),{itemKey:e.itemKey})),a?jj.default.createElement(Nj,I({},e)):Zj)})),Hj=Vj}));function qj(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:function(){var n,r=(0,Xj.val)(e.layoutP.sheet).getSequence(),i=null==(n=t[0])?void 0:n.pathToProp,a=t.filter((function(e){e.keyframe;var t=e.pathToProp;return function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(i,t)})).map((function(e){var t=e.keyframe;e.pathToProp;return t}));W().transaction((function(t){var n,i=t.stateEditors;r.position=r.closestGridPosition(r.position);var o,s=null==(n=function(e){var t,n=null,r=g(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;(null===n||i.position<n.position)&&(n=i)}}catch(a){r.e(a)}finally{r.f()}return n}(a))?void 0:n.position,u=g(a);try{for(u.s();!(o=u.n()).done;){var l=o.value;i.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(R(I({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,position:r.position+l.position-s,handles:l.handles,value:l.value,snappingFunction:r.closestGridPosition,type:l.type}))}}catch(c){u.e(c)}finally{u.f()}}))}}}var Xj,Kj,Yj,Qj,$j,Jj,eB,tB,nB,rB=L((function(){cp(),Xj=n(8458),Kj=j(Hd()),nv(),Gj(),RM(),py(),q(),LL(),sz(),LT(),Qj=tv.div(Yj||(Yj=U(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),($j=Kj.default.memo((function(e){var t,n=e.layoutP,r=e.trackData,i=e.leaf,a=fy(null),o=m(a,2),s=o[0],u=o[1],l=Kd((function(){var e=(0,Xj.val)(n.selectionAtom),t=(0,Xj.val)(e.pointer.current.byObjectKey[i.sheetObject.address.objectKey].byTrackId[i.trackId].byKeyframeId);return t?{selectedKeyframeIds:t,selection:(0,Xj.val)(e.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}}),[n,i.trackId]),c=l.selectedKeyframeIds,f=l.selection,d=function(e,t){return AM(e,{displayName:"Keyframe Track",menuItems:function(){var e,n=null!=(e=(0,Xj.val)(W().atomP.ahistoric.clipboard.keyframesWithRelativePaths))?e:[];return[qj(t,n)]}})}(u,e),p=m(d,3),h=p[0],v=(p[1],p[2]),g=np(oz),y="snapToSome"===g.mode?null==(t=g.positions[i.sheetObject.address.objectKey])?void 0:t[i.trackId]:[],b="snapToAll"===g.mode,w=(0,Kj.useMemo)((function(){return{data:r,id:i.trackId,sheetObject:e.leaf.sheetObject}}),[r,i.trackId]),x=r.keyframes.map((function(e,t){return Kj.default.createElement(Hj,{key:"keyframe-"+e.id,itemKey:OT.forTrackKeyframe(i.sheetObject,i.trackId,e.id),keyframe:e,index:t,track:w,layoutP:n,leaf:i,selection:!0===c[e.id]?f:void 0})})),_=y.map((function(e){return Kj.default.createElement(iz,{key:"snap-target-"+e,layoutP:n,leaf:i,position:e})})),S=b?r.keyframes.map((function(e){return Kj.default.createElement(iz,{key:"additionalSnapTarget-".concat(e.id),layoutP:n,leaf:i,position:e.position})})):null;return Kj.default.createElement(Qj,{ref:s,style:{background:v?"#444850 ":"unset"}},x,_,Kj.default.createElement(Kj.default.Fragment,null,S),h)}))).displayName="BasicKeyframedTrack",Jj=$j})),iB=L((function(){q(),cp(),eB=n(8458),tB=j(Hd()),Ez(),rB(),wx(),nB=function(e){var t=e.leaf,n=e.layoutP,r=gx("PrimitivePropRow",t.pathToProp.join());return Kd((function(){var e=t.sheetObject,i=t.trackId,a=(0,eB.val)(W().atomP.historic.coreByProject[e.address.projectId].sheetsById[e.address.sheetId].sequence.tracksByObject[e.address.objectKey].trackData[i]);return"BasicKeyframedTrack"!==(null==a?void 0:a.type)?(r.errorDev("trackData type ".concat(null==a?void 0:a.type," is not yet supported on the sequence editor")),tB.default.createElement(Sz,{leaf:t,isCollapsed:!1,node:tB.default.createElement("div",null)})):tB.default.createElement(Sz,{leaf:t,isCollapsed:!1,node:tB.default.createElement(Jj,{layoutP:n,trackData:a,leaf:t})})}),[t,n])}}));var aB=L((function(){}));function oB(e){var t=e.index,n=e.aggregateKeyframes,r=e.selection;return Kd(sB(e),[t,n,r,e.viewModel])}function sB(e){var t=e.index,n=e.aggregateKeyframes,r=e.selection,i="sheet"===e.viewModel.type?e.viewModel.sheet.address:e.viewModel.sheetObject.address,a=i.projectId,o=i.sheetId;return function(){var i=n[t],s=n[t+1],u=s&&i.keyframes.length===s.keyframes.length&&i.keyframes.every((function(e,t){var n=e.track;return s.keyframes[t].track===n}))?{length:s.position-i.position,selected:0===i.selected&&0===s.selected}:null,l=u?i.keyframes.map((function(e,t){var n=e.kf,r=e.track;return R(I({},r.sheetObject.address),{trackId:r.id,left:n,right:s.keyframes[t].kf})})):[],c=function(e){return e()}((function(){var e=uB.prism.memo("selectedConnections",(function(){return BF(a,o,r)}),[a,o,r]).getValue();return[].concat(v(l),v(e))})),f=l.every((function(e){return NF(e)}));return{itemKey:uB.prism.memo("itemKey",(function(){return"sheet"===e.viewModel.type?OT.forSheetAggregateKeyframe(e.viewModel.sheet,i.position):"sheetObject"===e.viewModel.type?OT.forSheetObjectAggregateKeyframe(e.viewModel.sheetObject,i.position):OT.forCompoundPropAggregateKeyframe(e.viewModel.sheetObject,e.viewModel.pathToProp,i.position)}),[e.viewModel,i.position]),cur:i,connected:u,isAggregateEditingInCurvePopover:f,allConnections:c}}}var uB,lB=L((function(){uB=n(8458),LT(),FF(),cp(),WF(),aB()}));var cB,fB,dB,pB,hB,vB,mB=L((function(){cB=n(8458),fB=j(Hd()),Aj(),GE(),py(),q(),Rx(),FF(),lB(),nv(),XE(),WF(),RM(),LL(),5,pB=tv(WE)(dB||(dB=U(["\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: rgba(26, 28, 30, 0.97);\n"]))),hB=fB.default.forwardRef((function(e,t){var n=oB(e).allConnections;return fB.default.createElement(pB,{showPopoverEdgeTriangle:!1,ref:t},fB.default.createElement(LF,{curveConnection:n[0],additionalConnections:n,onRequestClose:e.closePopover}))})),vB=function(e){var t=fy(null),n=m(t,2),r=n[0],i=n[1],a=e.editorProps,o=function(e,t){return AM(t,{displayName:"Aggregate Tween",menuItems:function(){var t=e.utils.allConnections.reduce((function(e,t){var n;return e.concat(null!=(n=ZF(R(I({},t),{keyframeIds:[t.left.id,t.right.id]})))?n:[])}),[]),n=IL(t.map((function(e){return e.pathToProp}))),r=t.map((function(e){return{keyframe:e.keyframe,pathToProp:e.pathToProp.slice(n.length)}})),i=e.editorProps.viewModel,a="sheet"===i.type?i.sheet.address:i.sheetObject.address;return[{label:"Copy",callback:function(){if(e.editorProps.selection){var t=UF(a.projectId,a.sheetId,e.editorProps.selection);W().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes(t)}))}else W().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes(r)}))}},{label:"Delete",callback:function(){e.editorProps.selection?e.editorProps.selection.delete():W().transaction((function(t){var n,r=t.stateEditors,i=g(e.utils.allConnections);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(I({},a),{objectKey:o.objectKey,keyframeIds:[o.left.id,o.right.id],trackId:o.trackId}))}}catch(s){i.e(s)}finally{i.f()}}))}}]}})}(e,i),s=m(o,1)[0],u=function(e,t){var n=(0,fB.useRef)(t);n.current=t;var r=(0,fB.useMemo)((function(){return{debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart:function(t){var r,i=n.current,a=i.aggregateKeyframes[i.index].keyframes,o=i.selection,s=i.viewModel,u="sheet"===s.type?s.sheet.address:s.sheetObject.address;if(o&&0===i.aggregateKeyframes[i.index].selected)return o.getDragHandlers(R(I({},u),{domNode:e,positionAtStartOfDrag:i.aggregateKeyframes[i.index].position})).onDragStart(t);var l=i,c=(0,cB.val)(l.layoutP.sheet).getSequence(),f=(0,cB.val)(l.layoutP.scaledSpace.toUnitSpace);return{onDrag:function(e,t,n){var i=f(e);r&&(r.discard(),r=void 0),r=W().tempTransaction((function(e){var t,n=e.stateEditors,r=g(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.coreByProject.historic.sheetsById.sequence.transformKeyframes(R(I({},o.track.sheetObject.address),{trackId:o.track.id,keyframeIds:[o.kf.id,o.track.data.keyframes[o.track.data.keyframes.indexOf(o.kf)+1].id],translate:i,scale:1,origin:0,snappingFunction:c.closestGridPosition}))}}catch(s){r.e(s)}finally{r.f()}}))},onDragEnd:function(e){e?r&&r.commit():r&&r.discard()}}}}}),[]);return Px(e,r)}(i,e.editorProps),l=m(u,1)[0],c=SE((function(){var e=(0,cB.val)(a.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:e.screenX+5,maxX:e.screenX+e.width-5}}}),(function(){return fB.default.createElement(hB,R(I({},a),{closePopover:p}))})),f=c.node,d=c.toggle,p=c.close,h=e.utils,v=h.connected,y=h.isAggregateEditingInCurvePopover;return v||l?fB.default.createElement(fB.default.Fragment,null,fB.default.createElement(Tj,{ref:r,connectorLengthInUnitSpace:v?v.length:0,isSelected:!!v&&v.selected,isPopoverOpen:y,openPopover:function(e){i&&d(e,i)}}),f,s):fB.default.createElement(fB.default.Fragment,null)}}));function gB(e){var t={isSelected:e.isSelected,flag:e.flag};return yB.default.createElement(wB,null,e.isAllHere?yB.default.createElement(TB,I({},t)):yB.default.createElement(PB,I({},t)))}var yB,bB,wB,xB,_B,SB,kB,EB,CB,MB,TB,PB,AB=L((function(){yB=j(Hd()),nv(),VN(),Fy(),16,18,wB=tv.div(bB||(bB=U(["\n  position: absolute;\n  ","\n  z-index: 1;\n"])),wN(16)),_B=tv.div(xB||(xB=U(["\n  z-index: 2;\n  cursor: ew-resize;\n\n  position: absolute;\n  ",";\n  ",";\n\n  &:hover\n    + ",",\n    #pointer-root.draggingPositionInSequenceEditor\n    &:hover\n    + "," {\n    ","\n  }\n"])),wN(12),gy,wB,wB,wN(18)),SB="#F2C95C",kB="#40AAA4",EB="#45747C",CB=function(e){return 0===e.isSelected?SB:1===e.isSelected?kB:EB},MB=function(e){return 0===e.isSelected?SB:1===e.isSelected?kB:EB},TB=function(e){return yB.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},yB.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:MB(e)}),yB.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:CB(e),stroke:2===e.flag?"white":void 0,strokeWidth:2===e.flag?"2px":void 0}))},PB=function(e){return yB.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},yB.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:2===e.flag?"white":CB(e),strokeWidth:2===e.flag?"2px":void 0}))}}));function DB(e,t){var n=e.children.map((function(e){return"propWithChildren"===e.type?DB(e,t):IB(e,t)})).filter(LB);return 0===n.length?null:{type:"propWithChildren",pathToProp:e.pathToProp,propConfig:e.propConf,children:n}}function IB(e,t){var n=t.find((function(t){return t.track.id===e.trackId}));return n?{type:"primitiveProp",keyframe:n.kf,pathToProp:e.pathToProp,propConfig:e.propConf,sheetObject:e.sheetObject,trackId:e.trackId}:null}function RB(e){var t,n,r,i,a=e.utils.cur,o=oj("sheet"===e.editorProps.viewModel.type?null:"sheetObject"===e.editorProps.viewModel.type?null!=(n=null==(t=function(e,t){var n=e.children.map((function(e){return"propWithChildren"===e.type?DB(e,t):IB(e,t)})).filter(LB);return 0===n.length?null:{type:"sheetObject",sheetObject:e.sheetObject,children:n}}(e.editorProps.viewModel,a.keyframes))?void 0:t.children)?n:null:null!=(i=null==(r=DB(e.editorProps.viewModel,a.keyframes))?void 0:r.children)?i:null),s=BM(e.utils.itemKey);s.useRelations((function(){return a.keyframes.map((function(e){return{affects:e.itemKey,flag:2}}))}),[a.keyframes.map((function(e){return e.track.id})).join("-")]);var u=fy(null),l=m(u,2),c=l[0],f=l[1],d=function(e,t){return AM(t,{displayName:"Aggregate Keyframe",menuItems:function(){var t=e.editorProps.viewModel,n=e.editorProps.selection;return[{label:n?"Copy (selection)":"Copy",callback:function(){if(n){var r="sheet"===t.type?t.sheet.address:t.sheetObject.address,i=UF(r.projectId,r.sheetId,n);W().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes(i)}))}else{var a=e.utils.cur.keyframes.flatMap((function(e){var t;return null!=(t=ZF(R(I({},e.track.sheetObject.address),{trackId:e.track.id,keyframeIds:[e.kf.id]})))?t:[]})),o=IL(["sheet"===t.type?[]:"sheetObject"===t.type?[t.sheetObject.address.objectKey]:"propWithChildren"===t.type?[t.sheetObject.address.objectKey].concat(v(t.pathToProp)):[]].concat(v(a.map((function(e){return e.pathToProp}))))),s=a.map((function(e){return{keyframe:e.keyframe,pathToProp:e.pathToProp.slice(o.length)}}));W().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes(s)}))}}},{label:n?"Delete (selection)":"Delete",callback:function(){n?n.delete():W().transaction((function(t){var n,r=t.stateEditors,i=g(e.utils.cur.keyframes);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(I({},a.track.sheetObject.address),{keyframeIds:[a.kf.id],trackId:a.track.id}))}}catch(o){i.e(o)}finally{i.f()}}))}}]}})}(e,f),p=m(d,1)[0];return OB.default.createElement(OB.default.Fragment,null,OB.default.createElement(_B,R(I(I({ref:c},s.attrs),qL.includePositionSnapAttrs(a.position)),{onClick:function(t){return"sheet"!==e.editorProps.viewModel.type?o.open(t,c.current):null}})),OB.default.createElement(gB,{flag:s.flag,isAllHere:a.allHere,isSelected:a.selected}),p,o.node)}var OB,LB,NB,zB,FB,jB,BB,UB,ZB=L((function(){OB=j(Hd()),py(),kT(),RM(),AB(),q(),WF(),LL(),KL(),uj(),LB=function(e){return null!==e}})),VB=L((function(){NB=n(8458),zB=j(Hd()),nv(),mB(),lB(),ZB(),jB=tv.div(FB||(FB=U(["\n  position: absolute;\n"]))),BB=zB.default.memo((function(e){var t=oB(e);return zB.default.createElement(jB,{style:{top:"".concat(e.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,NB.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.cur.position,"px))")}},zB.default.createElement(RB,{editorProps:e,utils:t}),zB.default.createElement(vB,{editorProps:e,utils:t}))})),UB=BB}));function HB(e){var t=e.layoutP,n=e.aggregatedKeyframes,r=e.viewModel,i=gx("AggregatedKeyframeTrack"),a=fy(null),o=m(a,2),s=o[0],u=o[1],l=function(e,t){return Kd((function(){return(0,YB.val)(function(e,t){return(0,YB.prism)((function(){var n=(0,YB.val)(e.selectionAtom),r=(0,YB.val)(n.pointer.current);if(!r)return eU;var i,a=new Map,o=g(t.byPosition);try{for(o.s();!(i=o.n()).done;){var s=m(i.value,2),u=s[0],l=WB(s[1],r);void 0!==l&&l!==oU&&a.set(u,l)}}catch(c){o.e(c)}finally{o.f()}return{selectedPositions:a,selection:(0,YB.val)(n.pointer.current)}}))}(e,t))}),[e,t])}(t,n),c=l.selectedPositions,f=l.selection,d=function(e,t,n){return AM(e,{onOpen:n,displayName:"Aggregate Keyframe Track",menuItems:function(){var e,n=null!=(e=(0,YB.pointerToPrism)(W().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())?e:[];return[GB(t,n)]}})}(u,e,(function(){return i._debug("see aggregatedKeyframes",e.aggregatedKeyframes)})),p=m(d,3),h=p[0],y=(p[1],p[2]),b=(0,QB.useMemo)((function(){return v(n.byPosition.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e){var t=m(e,2),r=t[0],i=t[1];return{position:r,keyframes:i,selected:c.get(r),allHere:i.length===n.tracks.length}}))}),[n,c]),w=np(oz),x="snapToAll"===w.mode,_="snapToSome"===w.mode?w.positions:jT,S=(0,QB.useMemo)((function(){return"sheet"===r.type?function(e,t){return jd(e.children.flatMap((function(e){return JL(e,t)})))}(r,_):JL(r,_)}),[_]).map((function(e){return QB.default.createElement(iz,{key:"snap-target-"+e,layoutP:t,leaf:r,position:e})})),k=(0,QB.useMemo)((function(){return b.map((function(e,n){var i=e.position;e.keyframes;return{position:i,editorProps:{index:n,layoutP:t,viewModel:r,aggregateKeyframes:b,selection:c.has(i)?f:void 0}}}))}),[b,r,c]),E=function(e,t,n){var r=gx("useDragForAggregateKeyframeDot"),i=AN(),a=(0,QB.useMemo)((function(){return{debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart:function(a){r._debug("onDragStart",{target:a.target});var o=Number(a.target.dataset.pos),s=t(o);if(!s)return r._debug("no props found for ",{positionToFind:o}),!1;i(!0,o);var u=(0,YB.prism)(sB(s)).getValue().cur.keyframes,l="sheet"===s.viewModel.type?s.viewModel.sheet.address:s.viewModel.sheetObject.address,c=YN((0,YB.val)(W().atomP.historic.coreByProject[l.projectId].sheetsById[l.sheetId].sequence.tracksByObject),(function(e,t){var n,r,i=t.trackId,a=t.objectKey;return u.every((function(t){return e.id!==t.kf.id}))&&!(s.selection&&null!=(r=null==(n=s.selection.byObjectKey[a])?void 0:n.byTrackId[i])&&r.byKeyframeId[e.id])}));if(KN(c),s.selection&&0===s.aggregateKeyframes[s.index].selected){var f=s.selection,d=(s.viewModel,f.getDragHandlers(R(I({},l),{domNode:e,positionAtStartOfDrag:u[0].kf.position})).onDragStart(a));return d&&R(I({},d),{onClick:n.onClickFromDrag,onDragEnd:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==(t=d.onDragEnd)||(e=t).call.apply(e,[d].concat(r)),XN()}})}var p,h=s,v=(0,YB.val)(h.layoutP.scaledSpace.toUnitSpace);return{onDrag:function(e,t,n){var r,a=Math.max(null!=(r=qL.checkIfMouseEventSnapToPos(n,{}))?r:u[0].kf.position+v(e),0);i(!0,a),null==p||p.discard(),p=void 0,p=W().tempTransaction((function(e){var t,n=e.stateEditors,r=g(u);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.kf;n.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(I({},i.track.sheetObject.address),{trackId:i.track.id,keyframes:[R(I({},o),{position:a})],snappingFunction:(0,YB.val)(h.layoutP.sheet).getSequence().closestGridPosition}))}}catch(s){r.e(s)}finally{r.f()}}))},onDragEnd:function(e){i(!1,-1),e?null==p||p.commit():(null==p||p.discard(),n.onClickFromDrag(a)),XN()},onClick:function(e){n.onClickFromDrag(e)}}}}}),[t,n.onClickFromDrag]),o=Px(e,a),s=m(o,1)[0];return dx(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}(u,(function(e){var t;return null==(t=k.find((function(t){return t.position===e})))?void 0:t.editorProps}),{onClickFromDrag:function(e){}}),C=(m(E,1)[0],k.map((function(e,n){return QB.default.createElement(QB.Fragment,{key:"agg-"+b[n].keyframes[0].kf.id},x&&QB.default.createElement(iz,{layoutP:t,leaf:r,position:e.position}),QB.default.createElement(UB,I({},e.editorProps)))})));return QB.default.createElement(JB,{ref:s,style:{background:y?"#444850 ":"unset"}},C,S,h)}function WB(e,t){var n,r,i,a,o,s=g(e);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=u.track,c=u.kf,f=!0===(null==(i=null==(r=null==(n=t.byObjectKey[l.sheetObject.address.objectKey])?void 0:n.byTrackId[l.id])?void 0:r.byKeyframeId)?void 0:i[c.id]);void 0===a?a=f?iU:oU:f?a===oU&&(a=aU):a===iU&&(a=aU)}}catch(d){s.e(d)}finally{s.f()}return a}function GB(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:function(){var n=(0,YB.val)(e.layoutP.sheet).getSequence();"sheet"===e.viewModel.type?function(e,t,n){var r,i=e.sheet.address,a=i.projectId,o=i.sheetId,s=i.sheetInstanceId;if(t.every((function(e){return 0===e.pathToProp.length}))){var u,l=g(e.children.map((function(e){return e.sheetObject})));try{for(l.s();!(u=l.n()).done;){var c=u.value,f=(0,YB.pointerToPrism)(W().atomP.historic.coreByProject[a].sheetsById[o].sequence.tracksByObject[c.address.objectKey]).getValue(),d=Object.keys(null!=(r=null==f?void 0:f.trackData)?r:{});qB(c.address,d,t,n)}}catch(m){l.e(m)}finally{l.f()}}else{var p=(0,YB.pointerToPrism)(W().atomP.historic.coreByProject[a].sheetsById[o].sequence.tracksByObject).getValue(),h=t.map((function(e){var t,n,r=e.keyframe,i=e.pathToProp,u=i[0],l=i.slice(1),c=RL(v(l)),f=(null!=(n=null==(t=null==p?void 0:p[u])?void 0:t.trackIdByPropPath)?n:{})[c];return f?{keyframe:r,trackId:f,address:{objectKey:u,projectId:a,sheetId:o,sheetInstanceId:s}}:null})).filter((function(e){return null!==e}));XB(h,n)}}(e.viewModel,t,n):function(e,t,n){var r,i=e.sheetObject.address,a=i.projectId,o=i.sheetId,s=i.objectKey,u=(0,YB.pointerToPrism)(W().atomP.historic.coreByProject[a].sheetsById[o].sequence.tracksByObject[s]).getValue();if(t.every((function(e){return 0===e.pathToProp.length}))){var l=Object.keys(null!=(r=null==u?void 0:u.trackData)?r:{});if("sheetObject"===e.type)qB(e.sheetObject.address,l,t,n);else{var c=(null==u?void 0:u.trackIdByPropPath)||{},f=Object.entries(c).filter((function(t){var n=m(t,2),r=n[0];return void 0!==n[1]&&function(e,t){return t.every((function(t,n){return t===e[n]}))}(OL(r),e.pathToProp)})).map((function(e){var t=m(e,2);t[0];return t[1]}));qB(e.sheetObject.address,f,t,n)}}else{var d=(null==u?void 0:u.trackIdByPropPath)||{},p="propWithChildren"===e.type?e.pathToProp:[];XB(t.map((function(t){var n=t.keyframe,r=t.pathToProp,i=RL([].concat(v(p),v(r))),a=d[i];return a?{keyframe:n,trackId:a,address:e.sheetObject.address}:null})).filter((function(e){return null!==e})),n)}}(e.viewModel,t,n)}}}function qB(e,t,n,r){var i;r.position=r.closestGridPosition(r.position);var a=null==(i=KB(n.map((function(e){return e.keyframe}))))?void 0:i.position;W().transaction((function(i){var o,s=i.stateEditors,u=g(t);try{for(u.s();!(o=u.n()).done;){var l,c=o.value,f=g(n);try{for(f.s();!(l=f.n()).done;){var d=l.value.keyframe;s.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(R(I({},e),{trackId:c,position:r.position+d.position-a,handles:d.handles,value:d.value,snappingFunction:r.closestGridPosition,type:d.type}))}}catch(p){f.e(p)}finally{f.f()}}}catch(p){u.e(p)}finally{u.f()}}))}function XB(e,t){var n;t.position=t.closestGridPosition(t.position);var r=null==(n=KB(e.map((function(e){return e.keyframe}))))?void 0:n.position;W().transaction((function(n){var i,a=n.stateEditors,o=g(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.keyframe,l=s.trackId,c=s.address;a.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(R(I({},c),{trackId:l,position:t.position+u.position-r,handles:u.handles,value:u.value,snappingFunction:t.closestGridPosition,type:u.type}))}}catch(f){o.e(f)}finally{o.f()}}))}function KB(e){var t,n=null,r=g(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;(null===n||i.position<n.position)&&(n=i)}}catch(a){r.e(a)}finally{r.f()}return n}var YB,QB,$B,JB,eU,tU,nU,rU,iU,aU,oU,sU,uU,lU,cU,fU,dU,pU,hU,vU,mU,gU,yU,bU,wU=L((function(){var e,t;cp(),YB=n(8458),QB=j(Hd()),nv(),RM(),py(),VB(),tN(),wx(),lB(),KL(),Rx(),WN(),vx(),q(),LL(),sz(),UT(),sz(),tN(),JB=tv.div($B||($B=U(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),eU=Object.freeze({selectedPositions:new Map,selection:void 0}),tU=QB.default.memo(HB),nU=tU,(t=rU||{})[t.AllSelected=0]="AllSelected",t[t.AtLeastOneUnselected=1]="AtLeastOneUnselected",t[t.NoneSelected=2]="NoneSelected",iU=(e=rU=t).AllSelected,aU=e.AtLeastOneUnselected,oU=e.NoneSelected})),xU=L((function(){cp(),sU=j(Hd()),iB(),Ez(),wU(),tN(),wx(),uU=function(e,t){return"propWithChildren"===e.type?sU.default.createElement(lU,{layoutP:t,viewModel:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}):sU.default.createElement(nB,{layoutP:t,leaf:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]})},lU=function(e){var t=e.viewModel,n=e.layoutP,r=gx("RightPropWithChildrenRow",t.pathToProp.join());return Kd((function(){var e=YL(t);return sU.default.createElement(mx,{logger:r},sU.default.createElement(Sz,{leaf:t,node:sU.default.createElement(nU,{layoutP:n,aggregatedKeyframes:e,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map((function(e){return uU(e,n)}))))}),[t,n])}})),_U=L((function(){cp(),cU=j(Hd()),xU(),Ez(),tN(),wU(),fU=function(e){var t=e.leaf,n=e.layoutP;return Kd((function(){var e=YL(t);return cU.default.createElement(Sz,{leaf:t,node:cU.default.createElement(nU,{layoutP:n,aggregatedKeyframes:e,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map((function(e){return uU(e,n)})))}),[t,n])}})),SU=L((function(){cp(),dU=j(Hd()),_U(),Ez(),tN(),wU(),pU=function(e){var t=e.leaf,n=e.layoutP;return Kd((function(){var e=YL(t);return dU.default.createElement(Sz,{leaf:t,node:dU.default.createElement(nU,{layoutP:n,aggregatedKeyframes:e,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map((function(e){return dU.default.createElement(fU,{layoutP:n,key:"sheetObject-"+e.sheetObject.address.objectKey,leaf:e})})))}),[t,n])}})),kU=L((function(){cp(),hU=n(8458),vU=j(Hd()),nv(),BN(),kz(),SU(),mU=1e6,yU=tv.ul(gU||(gU=U(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  position: absolute;\n  left: 0;\n  width: ","px;\n"])),mU),bU=function(e){var t=e.layoutP;return Kd((function(){var e=(0,hU.val)(t.tree),n=(0,hU.val)(t.tree.top)+Math.max((0,hU.val)(t.tree.heightIncludingChildren),(0,hU.val)(t.dopeSheetDims.height));return vU.default.createElement(vU.default.Fragment,null,vU.default.createElement(vz,{layoutP:t,height:n},vU.default.createElement(dN,{layoutP:t,height:n},vU.default.createElement(yU,{style:{top:e.top+"px"}},vU.default.createElement(pU,{leaf:e,layoutP:t})))))}),[t])}}));function EU(e,t,n,r){var i="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e,"px)"),a="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(t,") * 1px)");0===n&&(n=1e-4);var o="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(n,")");0===r&&(r=.001);var s="calc(var(--graphEditorVerticalSpace) * ".concat(-1*r,")");return"translate(".concat(i,", ").concat(a,") scale(").concat(o,", ").concat(s,")")}var CU,MU,TU,PU,AU=L((function(){sM(),q(),RM(),py(),CU=j(Hd()),nv(),TU=tv.path(MU||(MU=U(["\n  stroke-width: 2;\n  stroke: var(--main-color);\n  fill: none;\n  vector-effect: non-scaling-stroke;\n"]))),"M 0 0 L 1 0 L 1 1",PU=function(e){var t=e.index,n=e.trackData,r=n.keyframes[t],i=n.keyframes[t+1],a=i.position-r.position,o=fy(null),s=m(o,2),u=s[0],l=function(e,t){var n=t.index,r=t.trackData,i=r.keyframes[n],a=r.keyframes[n+1];return AM(e,{menuItems:function(){return[{label:"Delete",callback:function(){W().transaction((function(e){(0,e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes)(R(I({},t.sheetObject.address),{trackId:t.trackId,keyframeIds:[i.id,a.id]}))}))}}]}})}(s[1],e),c=m(l,1)[0],f=e.isScalar?XC(r.value,e.propConfig):0,d=e.isScalar?XC(i.value,e.propConfig):1,p=e.extremumSpace.fromValueSpace(f),h=e.extremumSpace.fromValueSpace(d)-p,v=EU(r.position,p,a,h),g=r.handles[2],y=r.handles[3],b=i.handles[0],w=i.handles[1],x="M 0 0 C ".concat(g," ").concat(y," ").concat(b," ").concat(w," 1 1");return CU.default.createElement(CU.default.Fragment,null,CU.default.createElement(TU,{ref:u,d:r.type&&"bezier"!==r.type?"M 0 0 L 1 0 L 1 1":x,style:{transform:v}}),c)}}));var DU,IU,RU,OU,LU,NU,zU,FU,jU,BU=L((function(){q(),RM(),Rx(),py(),DU=n(8458),Ud(),IU=j(Hd()),nv(),AU(),Fy(),OU=tv.circle(RU||(RU=U(["\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n  fill: var(--main-color);\n  r: 2px;\n  pointer-events: none;\n"]))),NU=tv.circle(LU||(LU=U(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  cursor: move;\n  ",";\n  &:hover {\n  }\n  &:hover + "," {\n    r: 6px;\n  }\n"])),gy,OU),FU=tv.path(zU||(zU=U(["\n  stroke-width: 1;\n  stroke: var(--main-color);\n  /* stroke: gray; */\n  fill: none;\n  vector-effect: non-scaling-stroke;\n"]))),jU=function(e){var t=fy(null),n=m(t,2),r=n[0],i=n[1],a=e.index,o=e.trackData,s=o.keyframes[a],u=o.keyframes[a+1],l=function(e,t){return AM(e,{menuItems:function(){return[{label:"Delete",callback:function(){W().transaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(I({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))}))}}]}})}(i,e),c=m(l,1)[0];!function(e,t){var n=(0,IU.useRef)(t);n.current=t,Px(e,(0,IU.useMemo)((function(){return{debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart:function(){var e,r=n.current,i=(0,DU.val)(r.layoutP.scaledSpace.toUnitSpace),a=(0,DU.val)(r.layoutP.graphEditorVerticalSpace.toExtremumSpace),o=r.extremumSpace.lock();return{onDrag:function(n,o){e&&(e.discard(),e=void 0);var s=r.index,u=r.trackData,l=u.keyframes[s],c=u.keyframes[s+1],f=i(n)/(c.position-l.position),d=a(-o),p=r.extremumSpace.deltaToValueSpace(d),h=t.isScalar?l.value:0,v=p/((t.isScalar?c.value:1)-h);if("left"===r.which){var m=Cs(l.handles[2]+f,0,1),g=l.handles[3]+v;e=W().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(I({},r.sheetObject.address),{snappingFunction:(0,DU.val)(r.layoutP.sheet).getSequence().closestGridPosition,trackId:r.trackId,keyframes:[R(I({},l),{handles:[l.handles[0],l.handles[1],m,g]})]}))}))}else{var y=Cs(c.handles[0]+f,0,1),b=c.handles[1]+v;e=W().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(I({},r.sheetObject.address),{trackId:r.trackId,snappingFunction:(0,DU.val)(r.layoutP.sheet).getSequence().closestGridPosition,keyframes:[R(I({},c),{handles:[y,b,c.handles[2],c.handles[3]]})]}))}))}},onDragEnd:function(t){o(),t?e&&e.commit():e&&e.discard()}}}}}),[]))}(i,e);var f="left"===e.which?s.handles[2]:u.handles[0],d=s.position+(u.position-s.position)*f,p="left"===e.which?s.handles[3]:u.handles[1],h=e.isScalar?s.value:0,v=e.isScalar?u.value:1,g=h+(v-h)*p,y=e.extremumSpace.fromValueSpace(g),b=y-e.extremumSpace.fromValueSpace("left"===e.which?h:v),w=EU("left"===e.which?s.position:u.position,e.extremumSpace.fromValueSpace("left"===e.which?h:v),d-("left"===e.which?s.position:u.position),b);return IU.default.createElement("g",null,IU.default.createElement(NU,{ref:r,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(d," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(y,") * 1px)")}}),IU.default.createElement(OU,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(d," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(y,") * 1px)")}}),IU.default.createElement(FU,{d:"M 0 0 L 1 1",style:{transform:w}}),c)}}));var UU,ZU,VU,HU,WU,GU,qU,XU=L((function(){q(),RM(),Rx(),py(),UU=n(8458),ZU=j(Hd()),nv(),WN(),WN(),Fy(),vx(),KL(),uj(),kT(),HU=tv.circle(VU||(VU=U(["\n  fill: var(--main-color);\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n\n  r: 2px;\n"]))),GU=tv.circle(WU||(WU=U(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  ",";\n\n  &:hover + "," {\n    r: 6px;\n  }\n\n  #pointer-root.normal & {\n    cursor: move;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.beingDragged {\n    pointer-events: none !important;\n  }\n"])),gy,HU,ox),qU=function(e){var t=fy(null),n=m(t,2),r=n[0],i=n[1],a=e.index,o=e.trackData.keyframes[a],s=function(e,t){return AM(e,{menuItems:function(){return[{label:"Delete",callback:function(){W().transaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(I({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))}))}}]}})}(i,e),u=m(s,1)[0],l=BM(e.itemKey),c=o.value,f=e.extremumSpace.fromValueSpace(c),d=oj([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),p=function(e){var t=(0,ZU.useState)(!1),n=m(t,2),r=n[0],i=n[1];DN(r,e.props.keyframe.position);var a=(0,ZU.useRef)(e.props);a.current=e.props;var o=(0,ZU.useMemo)((function(){return{debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart:function(t){i(!0);var n,r=!!t.altKey,o=a.current,s=(0,UU.val)(o.layoutP.scaledSpace.toUnitSpace),u=(0,UU.val)(o.layoutP.graphEditorVerticalSpace.toExtremumSpace),l=o.extremumSpace.lock();return{onDrag:function(e,t){var i=o.trackData.keyframes[o.index],a=s(e),l=u(-t),c=o.extremumSpace.deltaToValueSpace(l),f=[],d=R(I({},i),{position:i.position+a,value:i.value+c,handles:v(i.handles)});if(f.push(d),r){var p=o.trackData.keyframes[o.index-1];if(p&&Math.abs(i.value-p.value)>0){var h=R(I({},p),{handles:v(p.handles)});f.push(h),h.handles[3]=function(e,t,n,r,i){return(r-t)*e/(i-n)}(p.handles[3],p.value,p.value,i.value,d.value)}var m=o.trackData.keyframes[o.index+1];if(m&&Math.abs(i.value-m.value)>0){var g=R(I({},m),{handles:v(m.handles)});f.push(g),g.handles[1]=function(e,t,n,r,i){return((t-r)*e+r-t+n-i)/(n-i)}(g.handles[1],g.value,g.value,i.value,d.value)}}null==n||n.discard(),n=W().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(I({},o.sheetObject.address),{trackId:o.trackId,keyframes:f,snappingFunction:(0,UU.val)(o.layoutP.sheet).getSequence().closestGridPosition}))}))},onDragEnd:function(r){i(!1),l(),r?null==n||n.commit():(null==n||n.discard(),e.onDetectedClick(t))}}}}}),[]);return Px(e.node,o),dx(r,"draggingPositionInSequenceEditor","move"),r}({node:i,props:e,onDetectedClick:function(e){return d.toggle(e,e.target instanceof Element?e.target:i)}});return ZU.default.createElement(ZU.default.Fragment,null,ZU.default.createElement(GU,R(I(I(I({ref:r,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(o.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)")}},IN(o.position)),qL.includePositionSnapAttrs(o.position)),l.attrs),{className:p?"beingDragged":""})),ZU.default.createElement(HU,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(o.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)"),fill:2===l.flag?"white":void 0}}),d.node,u)}}));var KU,YU,QU,$U,JU,eZ,tZ,nZ,rZ,iZ,aZ,oZ,sZ,uZ,lZ,cZ,fZ=L((function(){q(),RM(),Rx(),py(),KU=n(8458),YU=j(Hd()),nv(),WN(),WN(),Fy(),vx(),KL(),uj(),kT(),$U=tv.circle(QU||(QU=U(["\n  fill: var(--main-color);\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n\n  r: 2px;\n"]))),eZ=tv.circle(JU||(JU=U(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  ",";\n\n  &:hover + "," {\n    r: 6px;\n  }\n\n  #pointer-root.normal & {\n    cursor: ew-resize;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.beingDragged {\n    pointer-events: none !important;\n  }\n"])),gy,$U,ox),tZ=function(e){var t=fy(null),n=m(t,2),r=n[0],i=n[1],a=e.index,o=e.trackData,s=e.itemKey,u=o.keyframes[a],l=function(e,t){return AM(e,{menuItems:function(){return[{label:"Delete",callback:function(){W().transaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(I({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))}))}}]}})}(i,e),c=m(l,1)[0],f=BM(s),d="left"===e.which?0:1,p=oj([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),h=function(e){var t=(0,YU.useState)(!1),n=m(t,2),r=n[0],i=n[1];DN(r,e.props.keyframe.position);var a=(0,YU.useRef)(e.props);a.current=e.props;var o=(0,YU.useMemo)((function(){return{debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart:function(t){i(!0);var n,r=a.current,o=(0,KU.val)(r.layoutP.scaledSpace.toUnitSpace),s=r.extremumSpace.lock();return{onDrag:function(e,t){var i=r.trackData.keyframes[r.index],a=o(e),s=[],u=R(I({},i),{position:i.position+a,value:i.value,handles:v(i.handles)});s.push(u),null==n||n.discard(),n=W().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(I({},r.sheetObject.address),{trackId:r.trackId,keyframes:s,snappingFunction:(0,KU.val)(r.layoutP.sheet).getSequence().closestGridPosition}))}))},onDragEnd:function(r){i(!1),s(),r?null==n||n.commit():(null==n||n.discard(),e.onDetectedClick(t))}}}}}),[]);return Px(e.node,o),dx(r,"draggingPositionInSequenceEditor","ew-resize"),r}({node:i,props:e,onDetectedClick:function(e){return p.toggle(e,e.target instanceof Element?e.target:i)}}),g=e.extremumSpace.fromValueSpace(d);return YU.default.createElement(YU.default.Fragment,null,YU.default.createElement(eZ,R(I(I(I({ref:r,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)")}},f.attrs),IN(u.position)),qL.includePositionSnapAttrs(u.position)),{className:h?"beingDragged":""})),YU.default.createElement($U,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)"),fill:2===f.flag?"white":void 0}}),p.node,c)}})),dZ=L((function(){nZ=j(Hd()),nv(),AU(),iZ=tv.path(rZ||(rZ=U(["\n  stroke-width: 2;\n  stroke: var(--main-color);\n  stroke-dasharray: 3 2;\n  fill: none;\n  vector-effect: non-scaling-stroke;\n  opacity: 0.3;\n"]))),aZ=function(e){var t=e.index,n=EU(e.trackData.keyframes[t].position,e.extremumSpace.fromValueSpace(0),0,e.extremumSpace.fromValueSpace(1)-e.extremumSpace.fromValueSpace(0));return nZ.default.createElement(nZ.default.Fragment,null,nZ.default.createElement(iZ,{d:"M 0 0 L 1 1",style:{transform:n}}))}})),pZ=L((function(){oZ=j(Hd()),nv(),AU(),BU(),XU(),fZ(),dZ(),uZ=tv.g(sZ||(sZ=U(["\n  /* position: absolute; */\n"]))),lZ=oZ.default.createElement(oZ.default.Fragment,null),cZ=function(e){var t=e.index,n=e.trackData,r=e.isScalar,i=n.keyframes[t],a=n.keyframes[t+1],o=i.connectedRight&&!!a&&a.value!==i.value;return oZ.default.createElement(uZ,null,o?oZ.default.createElement(oZ.default.Fragment,null,oZ.default.createElement(PU,I({},e)),!i.type||"bezier"===i.type&&oZ.default.createElement(oZ.default.Fragment,null,oZ.default.createElement(jU,R(I({},e),{which:"left"})),oZ.default.createElement(jU,R(I({},e),{which:"right"})))):lZ,r?oZ.default.createElement(qU,I({},e)):oZ.default.createElement(oZ.default.Fragment,null,oZ.default.createElement(tZ,R(I({},e),{which:"left"})),oZ.default.createElement(tZ,R(I({},e),{which:"right"})),oZ.default.createElement(aZ,I({},e))))}}));var hZ,vZ,mZ,gZ,yZ,bZ,wZ=L((function(){LT(),hZ=j(Hd()),rV(),pZ(),sM(),cp(),vZ=hZ.default.memo((function(e){var t=e.layoutP,n=e.trackData,r=e.sheetObject,i=e.trackId,a=e.color,o=e.pathToProp,s=qC(np(r.template.configPointer),o);if(GC(s))return console.error("Composite prop types cannot be keyframed"),hZ.default.createElement(hZ.default.Fragment,null);var u=(0,hZ.useState)(!1),l=m(u,2),c=l[0],f=l[1],d=(0,hZ.useMemo)((function(){var e=new Set;return function(){var t=0===e.size;function n(){var t=e.size>0;e.delete(n),t&&0===e.size&&f(!1)}return e.add(n),t&&f(!0),n}}),[]),p=(0,hZ.useMemo)((function(){var e="number"===s.type?function(e,t){var n=1/0,r=-1/0;function i(e){n=Math.min(e,n),r=Math.max(e,r)}return e.forEach((function(n,r){var a=XC(n.value,t);if(i(a),n.connectedRight){var o=e[r+1];if(o){var s=("number"==typeof o.value?o.value:1)-a;i(a+n.handles[3]*s),i(a+o.handles[1]*s)}}})),[n,r]}(n.keyframes,s):function(e){var t=0,n=1;function r(e){t=Math.min(e,t),n=Math.max(e,n)}return e.forEach((function(t,n){if(t.connectedRight){var i=e[n+1];i&&(r(t.handles[3]),r(i.handles[1]))}})),[t,n]}(n.keyframes),t=function(t){return t*(e[1]-e[0])};return{fromValueSpace:function(t){return(t-e[0])/(e[1]-e[0])},toValueSpace:function(n){return e[0]+t(n)},deltaToValueSpace:t,lock:d}}),[n.keyframes]),h=(0,hZ.useRef)(void 0);c||(h.current=p);var v=n.keyframes.map((function(e,u){return hZ.default.createElement(cZ,{pathToProp:o,propConfig:s,itemKey:OT.forTrackKeyframe(r,i,e.id),keyframe:e,index:u,trackData:n,layoutP:t,sheetObject:r,trackId:i,isScalar:"number"===s.type,key:e.id,extremumSpace:h.current,color:a})}));return hZ.default.createElement("g",{style:{"--main-color":zZ[a].iconColor}},v)})),mZ=vZ})),xZ=L((function(){q(),cp(),gZ=n(8458),yZ=j(Hd()),wZ(),bZ=function(e){return Kd((function(){var t=e.sheetObject,n=e.trackId,r=(0,gZ.val)(W().atomP.historic.coreByProject[t.address.projectId].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[n]);return"BasicKeyframedTrack"!==(null==r?void 0:r.type)?(console.error("trackData type ".concat(null==r?void 0:r.type," is not yet supported on the graph editor")),yZ.default.createElement(yZ.default.Fragment,null)):yZ.default.createElement(mZ,R(I({},e),{trackData:r}))}),[e.trackId,e.layoutP])}}));function _Z(e,t){for(var n=e.clippedSpaceRange,r=e.clippedSpaceWidth,i=e.fps,a=e.gapWidth,o=void 0===a?120:a,s=1/i,u=r/(i*(n.end-n.start)),l=Math.floor(o/u),c=(l<i?SZ(i).find((function(e){return e>=l})):i*Math.floor(l/i))*s,f=Math.floor(n.start/c),d=Math.ceil(n.end/c),p=f;p<=d;p++){var h=p*c;t(h,h%1===0)}}var SZ,kZ=L((function(){Ud(),SZ=_o((function(e){for(var t=[],n=1;n<=e;n++)e%n===0&&t.push(n);return t}))}));var EZ,CZ,MZ,TZ,PZ,AZ,DZ,IZ,RZ,OZ,LZ,NZ,zZ,FZ,jZ,BZ,UZ,ZZ,VZ,HZ,WZ,GZ,qZ,XZ,KZ,YZ,QZ,$Z,JZ,eV,tV,nV=L((function(){EZ=n(8458),CZ=j(Hd()),nv(),kZ(),q(),TZ=tv.div(MZ||(MZ=U(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  pointer-events: none;\n"]))),AZ=tv.canvas(PZ||(PZ=U(["\n  position: relative;\n  left: 0;\n"]))),DZ=function(e){var t=e;return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},IZ=function(){return window.devicePixelRatio||1},RZ=function(e){return IZ()/DZ(e)},OZ=function(e){var t=e.layoutP,n=e.width,r=e.height,i=(0,CZ.useRef)(null),a=(0,CZ.useState)(null),o=m(a,2),s=o[0],u=o[1],l=(0,CZ.useMemo)((function(){if(!s)return{};var e=s.getContext("2d");return{ctx:e,ratio:RZ(e)}}),[s]),c=l.ctx,f=l.ratio;return(0,CZ.useLayoutEffect)((function(){if(c){s.width=n*f,s.height=r*f;var e=(0,EZ.prism)((function(){var e=(0,EZ.val)(t.sheet).getSequence();return{ctx:c,clippedSpaceRange:(0,EZ.val)(t.clippedSpace.range),clippedSpaceWidth:(0,EZ.val)(t.clippedSpace.width),unitSpaceToClippedSpace:(0,EZ.val)(t.clippedSpace.fromUnitSpace),height:r,leftPadding:(0,EZ.val)(t.scaledSpace.leftPadding),fps:e.subUnitsPerUnit,snapToGrid:function(t){return e.closestGridPosition(t)}}})).onChange(W().ticker,(function(e){c.save(),c.scale(f,f),function(e){var t=e.clippedSpaceWidth,n=e.height,r=e.ctx,i=e.unitSpaceToClippedSpace,a=e.snapToGrid;r.clearRect(0,0,t,n),_Z(e,(function(e,t){var o=a(e),s=Math.floor(i(o));r.strokeStyle=t?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",r.beginPath(),r.moveTo(s,0),r.lineTo(s,n),r.stroke(),r.closePath()}))}(e),c.restore()}),!0);return function(){e()}}}),[c,n,r,t]),CZ.default.createElement(TZ,{ref:i,style:{width:n+"px"}},CZ.default.createElement(AZ,{ref:u,style:{width:n+"px",height:r+"px"}}))}})),rV=L((function(){q(),LL(),LM(),cp(),LZ=n(8458),NZ=j(Hd()),nv(),kU(),kz(),xZ(),nV(),lm(),zZ={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},jZ=tv.div(FZ||(FZ=U(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  background: ",";\n"])),sm(.03,"#1a1c1e")),UZ=tv.svg(BZ||(BZ=U(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  pointer-events: none;\n"]))),ZZ=function(e){var t=e.layoutP;return Kd((function(){var e=(0,LZ.val)(t.sheet),n=(0,LZ.val)(W().atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequenceEditor.selectedPropsByObject),r=(0,LZ.val)(t.graphEditorDims.height),i=(0,LZ.val)(t.scaledSpace.fromUnitSpace)(1),a=[];if(n)for(var o=0,s=Object.entries(n);o<s.length;o++){var u=m(s[o],2),l=u[0],c=u[1],f=e.getObject(l);if(f)for(var d=(0,LZ.val)(f.template.getMapOfValidSequenceTracks_forStudio()),p=0,h=Object.entries(c);p<h.length;p++){var v=m(h[p],2),g=v[0],y=v[1],b=OL(g),w=OM(d,b);w&&a.push(NZ.default.createElement(bZ,{key:"graph-".concat(l,"-").concat(g),sheetObject:f,pathToProp:b,layoutP:t,trackId:w,color:y}))}}var x=(0,LZ.val)(t.rightDims.width);return NZ.default.createElement(jZ,{style:{width:x+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":i,"--graphEditorVerticalSpace":"".concat((0,LZ.val)(t.graphEditorVerticalSpace.space))}},NZ.default.createElement(OZ,{layoutP:t,width:x,height:r}),NZ.default.createElement(vz,{layoutP:t,height:r},NZ.default.createElement(UZ,{width:mU,height:r,viewBox:"0 0 ".concat(mU," ").concat(r)},NZ.default.createElement("g",{style:{transform:"translate(".concat((0,LZ.val)(t.scaledSpace.leftPadding),"px, ").concat((0,LZ.val)(t.graphEditorDims.padding.top),"px)")}},a))))}),[t])}})),iV=L((function(){q(),LL(),jM(),cp(),VZ=n(8458),HZ=j(Hd()),nv(),bP(),ET(),rV(),DL(),lM(),AL(),WZ={label:{color:"#9a9a9a"}},qZ=tv(yL)(GZ||(GZ=U([""]))),KZ=tv(wL)(XZ||(XZ=U(["\n  display: flex;\n  color: ",";\n  padding-right: 12px;\n  align-items: center;\n  justify-content: flex-end;\n  box-sizing: border-box;\n"])),WZ.label.color),QZ=tv.button(YZ||(YZ=U(["\n  background: none;\n  border: none;\n  outline: none;\n  display: flex;\n  box-sizing: border-box;\n  font-size: 14px;\n  align-items: center;\n  height: 100%;\n  margin-left: 12px;\n  color: ",";\n\n  &:not([disabled]):hover {\n    color: white;\n  }\n"])),(function(e){return e.isSelected?zZ[e.graphEditorColor].iconColor:eT.offColor})),$Z=function(){return HZ.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},HZ.default.createElement("g",{transform:"translate(0 100)"},HZ.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"})))},eV=tv.span(JZ||(JZ=U(["\n  margin-right: 4px;\n  ",";\n\n  ",":hover & {\n    color: #ccc;\n  }\n"])),JC,KZ),tV=function(e){var t,n=e.leaf,r=vP(FM(n.sheetObject.propsP,n.pathToProp),n.sheetObject,n.propConf).controlIndicators,i=Kd((function(){var e=n.sheetObject.address,t=RL(n.pathToProp);return(0,VZ.val)(W().atomP.historic.projects.stateByProjectId[e.projectId].stateBySheetId[e.sheetId].sequenceEditor.selectedPropsByObject[e.objectKey][t])}),[n]),a=(0,HZ.useRef)(!1),o="string"==typeof i;a.current=o;var s=(0,HZ.useCallback)((function(){var e=n.sheetObject.address;W().transaction((function(t){var r=t.stateEditors;a.current?r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(R(I({},e),{pathToProp:n.pathToProp})):(r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(R(I({},e),{pathToProp:n.pathToProp})),r.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))}))}),[n]),u=null!=(t=n.propConf.label)?t:n.pathToProp[n.pathToProp.length-1],l=(0,HZ.useRef)(null);return hL(l.current,n),HZ.default.createElement(qZ,{depth:n.depth},HZ.default.createElement(KZ,{ref:l,isEven:n.n%2===0,style:{height:n.nodeHeight+"px"},isSelected:!0===o},HZ.default.createElement(eV,null,u),r,HZ.default.createElement(QZ,{onClick:s,isSelected:!0===o,graphEditorColor:null!=i?i:"1",style:{opacity:1},disabled:!1},HZ.default.createElement($Z,null))))}}));function aV(e,t){W().transaction((function(n){n.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(R(I({},t.sheetAddress),{studioSheetItemKey:t.sheetItemKey,isCollapsed:e}))}))}var oV,sV,uV,lV,cV,fV,dV,pV,hV,vV,mV,gV,yV,bV,wV,xV,_V,SV,kV,EV,CV,MV,TV=L((function(){q()})),PV=L((function(){oV=j(Hd()),DL(),iV(),TV(),sV=function(e){var t="prop"+e.pathToProp[e.pathToProp.length-1];return e.shouldRender?"propWithChildren"===e.type?oV.default.createElement(uV,{leaf:e,key:t}):oV.default.createElement(tV,{leaf:e,key:t}):oV.default.createElement(oV.default.Fragment,{key:t})},uV=function(e){var t=e.leaf;return oV.default.createElement(PL,{leaf:t,label:t.pathToProp[t.pathToProp.length-1],isCollapsed:t.isCollapsed,toggleCollapsed:function(){return aV(!t.isCollapsed,{sheetAddress:t.sheetObject.address,sheetItemKey:t.sheetItemKey})}},t.children.map((function(e){return sV(e)})))}})),AV=L((function(){lV=j(Hd()),DL(),PV(),TV(),q(),cV=function(e){var t=e.leaf;return lV.default.createElement(PL,{leaf:t,label:t.sheetObject.address.objectKey,isCollapsed:t.isCollapsed,toggleSelect:function(){W().transaction((function(e){e.stateEditors.studio.historic.panels.outline.selection.set([t.sheetObject])}))},toggleCollapsed:function(){return aV(!t.isCollapsed,{sheetAddress:t.sheetObject.address,sheetItemKey:t.sheetItemKey})}},t.children.map((function(e){return sV(e)})))}})),DV=L((function(){cp(),fV=j(Hd()),AV(),DL(),TV(),PA(),dV=function(e){var t=e.leaf;return Kd((function(){return fV.default.createElement(PL,{leaf:t,label:t.sheet.address.sheetId,isCollapsed:t.isCollapsed,toggleCollapsed:function(){aV(!t.isCollapsed,{sheetAddress:t.sheet.address,sheetItemKey:t.sheetItemKey})}},t.children.map((function(e){return fV.default.createElement(cV,{key:"sheetObject-"+mA(e.sheetObject),leaf:e})})))}),[t])}})),IV=L((function(){cp(),pV=n(8458),hV=j(Hd()),nv(),DV(),mV=tv.div(vV||(vV=U(["\n  position: absolute;\n  left: 0;\n  overflow-x: visible;\n"]))),yV=tv.ul(gV||(gV=U(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),bV=function(e){var t=e.layoutP;return Kd((function(){var e=(0,pV.val)(t.tree),n=(0,pV.val)(t.leftDims.width);return hV.default.createElement(mV,{style:{width:n+"px",top:e.top+"px"}},hV.default.createElement(yV,null,hV.default.createElement(dV,{leaf:e})))}),[t])}})),RV=L((function(){Fy(),Gq(),cp(),lm(),wV=j(Hd()),nv(),nV(),_V=tv.div(xV||(xV=U(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ",";\n  overflow: hidden;\n  background: ",";\n  pointer-events: none;\n"])),(function(){return Mq.rightBackground}),sm(.01,im(.03,yy.panel.bg))),SV=function(e){var t=e.layoutP,n=np(t.rightDims.width),r=np(t.panelDims.height);return wV.default.createElement(_V,{style:{width:n+"px"}},wV.default.createElement(OZ,{width:n,height:r,layoutP:t}))}})),OV=L((function(){cp(),kV=j(Hd()),nv(),IV(),RV(),kU(),UN(),CV=tv.div(EV||(EV=U(["\n  position: absolute;\n  left: 0;\n  right: 0;\n"]))),MV=function(e){var t=e.layoutP,n=np(t.dopeSheetDims.height);return kV.default.createElement(CV,{style:{height:n+"px"}},kV.default.createElement(SV,{layoutP:t}),kV.default.createElement(yN,null,kV.default.createElement(bV,{layoutP:t}),kV.default.createElement(bU,{layoutP:t})))}}));var LV,NV=L((function(){LV=n(8458)}));function zV(e){return function(t,n){return e(t,n())}}function FV(e){return Object.freeze({audience:jV(e,8)?"internal":jV(e,16)?"dev":"public",category:jV(e,4)?"troubleshooting":jV(e,2)?"todo":"general",level:jV(e,512)?512:jV(e,256)?256:jV(e,128)?128:64})}function jV(e,t){return(e&t)===t}function BV(e,t){return(32===(32&t)||(16===(16&t)?e.dev:8===(8&t)&&e.internal))&&e.min<=t}function UV(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console,t=R(I({},XV),{includes:I({},XV.includes)}),n={styled:HV.bind(t,e),noStyle:WV.bind(t,e)},r=VV.bind(t);function i(){return t.loggingConsoleStyle&&t.loggerConsoleStyle?n.styled:n.noStyle}return t.create=i(),{configureLogger:function(e){var n;"console"===e?(t.loggerConsoleStyle=XV.loggerConsoleStyle,t.create=i()):"console"===e.type?(t.loggerConsoleStyle=null!=(n=e.style)?n:XV.loggerConsoleStyle,t.create=i()):"keyed"===e.type?(t.creatExt=function(t){return e.keyed(t.names)},t.create=r):"named"===e.type&&(t.creatExt=ZV.bind(null,e.named),t.create=r)},configureLogging:function(e){var n,r,a,o,s;t.includes.dev=null!=(n=e.dev)?n:XV.includes.dev,t.includes.internal=null!=(r=e.internal)?r:XV.includes.internal,t.includes.min=null!=(a=e.min)?a:XV.includes.min,t.include=null!=(o=e.include)?o:XV.include,t.loggingConsoleStyle=null!=(s=e.consoleStyle)?s:XV.loggingConsoleStyle,t.create=i()},getLogger:function(){return t.create({names:[]})}}}function ZV(e,t){var n,r=[],i=g(t.names);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.name,s=a.key;r.push(null==s?o:"".concat(o," (").concat(s,")"))}}catch(u){i.e(u)}finally{i.f()}return e(r)}function VV(e){var t=I(I({},this.includes),this.include(e)),n=this.filtered,r=this.named.bind(this,e),i=this.creatExt(e),a=BV(t,524),o=BV(t,522),s=BV(t,521),u=BV(t,529),l=BV(t,545),c=BV(t,265),f=BV(t,268),d=BV(t,273),p=BV(t,289),h=BV(t,137),v=BV(t,145),m=BV(t,73),g=BV(t,81),y=a?i.error.bind(i,qV._hmm):n.bind(e,524),b=o?i.error.bind(i,qV._todo):n.bind(e,522),w=s?i.error.bind(i,qV._error):n.bind(e,521),x=u?i.error.bind(i,qV.errorDev):n.bind(e,529),_=l?i.error.bind(i,qV.errorPublic):n.bind(e,545),S=f?i.warn.bind(i,qV._kapow):n.bind(e,268),k=c?i.warn.bind(i,qV._warn):n.bind(e,265),E=d?i.warn.bind(i,qV.warnDev):n.bind(e,273),C=p?i.warn.bind(i,qV.warnPublic):n.bind(e,273),M=h?i.debug.bind(i,qV._debug):n.bind(e,137),T=v?i.debug.bind(i,qV.debugDev):n.bind(e,145),P=m?i.trace.bind(i,qV._trace):n.bind(e,73),A=g?i.trace.bind(i,qV.traceDev):n.bind(e,81),D={_hmm:y,_todo:b,_error:w,errorDev:x,errorPublic:_,_kapow:S,_warn:k,warnDev:E,warnPublic:C,_debug:M,debugDev:T,_trace:P,traceDev:A,lazy:{_hmm:a?zV(y):y,_todo:o?zV(b):b,_error:s?zV(w):w,errorDev:u?zV(x):x,errorPublic:l?zV(_):_,_kapow:f?zV(S):S,_warn:c?zV(k):k,warnDev:d?zV(E):E,warnPublic:p?zV(C):C,_debug:h?zV(M):M,debugDev:v?zV(T):T,_trace:m?zV(P):P,traceDev:g?zV(A):A},named:r,utilFor:{internal:function(){return{debug:D._debug,error:D._error,warn:D._warn,trace:D._trace,named:function(e,t){return D.named(e,t).utilFor.internal()}}},dev:function(){return{debug:D.debugDev,error:D.errorDev,warn:D.warnDev,trace:D.traceDev,named:function(e,t){return D.named(e,t).utilFor.dev()}}},public:function(){return{error:D.errorPublic,warn:D.warnPublic,debug:function(e,t){D._warn('(public "debug" filtered out) '.concat(e),t)},trace:function(e,t){D._warn('(public "trace" filtered out) '.concat(e),t)},named:function(e,t){return D.named(e,t).utilFor.public()}}}}};return D}function HV(e,t){for(var n=I(I({},this.includes),this.include(t)),r=[],i="",a=0;a<t.names.length;a++){var o=t.names[a],s=o.name,u=o.key;if(i+=" %c".concat(s),r.push(this.style.css(s)),null!=u){var l="%c#".concat(u);i+=l,r.push(this.style.css(l))}}var c=this.filtered,f=this.named.bind(this,t),d=[i].concat(r);return GV(c,t,n,e,d,function(e){for(var t=e.slice(0),n=1;n<t.length;n++)t[n]+=";background-color:#e0005a;padding:2px;color:white";return t}(d),f)}function WV(e,t){for(var n=I(I({},this.includes),this.include(t)),r="",i=0;i<t.names.length;i++){var a=t.names[i],o=a.name,s=a.key;r+=" ".concat(o),null!=s&&(r+="#".concat(s))}var u=[r];return GV(this.filtered,t,n,e,u,u,this.named.bind(this,t))}function GV(e,t,n,r,i,a,o){var s,u,l,c,f,d,p,h,m,g,y,b,w,x=BV(n,524),_=BV(n,522),S=BV(n,521),k=BV(n,529),E=BV(n,545),C=BV(n,265),M=BV(n,268),T=BV(n,273),P=BV(n,289),A=BV(n,137),D=BV(n,145),I=BV(n,73),R=BV(n,81),O=x?(s=r.error).bind.apply(s,[r].concat(v(i))):e.bind(t,524),L=_?(u=r.error).bind.apply(u,[r].concat(v(i))):e.bind(t,522),N=S?(l=r.error).bind.apply(l,[r].concat(v(i))):e.bind(t,521),z=k?(c=r.error).bind.apply(c,[r].concat(v(i))):e.bind(t,529),F=E?(f=r.error).bind.apply(f,[r].concat(v(i))):e.bind(t,545),j=M?(d=r.warn).bind.apply(d,[r].concat(v(a))):e.bind(t,268),B=C?(p=r.warn).bind.apply(p,[r].concat(v(i))):e.bind(t,265),U=T?(h=r.warn).bind.apply(h,[r].concat(v(i))):e.bind(t,273),Z=P?(m=r.warn).bind.apply(m,[r].concat(v(i))):e.bind(t,273),V=A?(g=r.info).bind.apply(g,[r].concat(v(i))):e.bind(t,137),H=D?(y=r.info).bind.apply(y,[r].concat(v(i))):e.bind(t,145),W=I?(b=r.debug).bind.apply(b,[r].concat(v(i))):e.bind(t,73),G=R?(w=r.debug).bind.apply(w,[r].concat(v(i))):e.bind(t,81),q={_hmm:O,_todo:L,_error:N,errorDev:z,errorPublic:F,_kapow:j,_warn:B,warnDev:U,warnPublic:Z,_debug:V,debugDev:H,_trace:W,traceDev:G,lazy:{_hmm:x?zV(O):O,_todo:_?zV(L):L,_error:S?zV(N):N,errorDev:k?zV(z):z,errorPublic:E?zV(F):F,_kapow:M?zV(j):j,_warn:C?zV(B):B,warnDev:T?zV(U):U,warnPublic:P?zV(Z):Z,_debug:A?zV(V):V,debugDev:D?zV(H):H,_trace:I?zV(W):W,traceDev:R?zV(G):G},named:o,utilFor:{internal:function(){return{debug:q._debug,error:q._error,warn:q._warn,trace:q._trace,named:function(e,t){return q.named(e,t).utilFor.internal()}}},dev:function(){return{debug:q.debugDev,error:q.errorDev,warn:q.warnDev,trace:q.traceDev,named:function(e,t){return q.named(e,t).utilFor.dev()}}},public:function(){return{error:q.errorPublic,warn:q.warnPublic,debug:function(e,t){q._warn('(public "debug" filtered out) '.concat(e),t)},trace:function(e,t){q._warn('(public "trace" filtered out) '.concat(e),t)},named:function(e,t){return q.named(e,t).utilFor.public()}}}}};return q}var qV,XV,KV,YV,QV,$V,JV,eH=L((function(){qV={_hmm:FV(524),_todo:FV(522),_error:FV(521),errorDev:FV(529),errorPublic:FV(545),_kapow:FV(268),_warn:FV(265),warnDev:FV(273),warnPublic:FV(289),_debug:FV(137),debugDev:FV(145),_trace:FV(73),traceDev:FV(81)},XV={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named:function(e,t,n){return this.create({names:[].concat(v(e.names),[{name:t,key:n}])})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed:function(e){if(e.length<5)return e;var t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css:function(e){var t,n,r,i,a=this.cssMemo.get(e);if(a)return a;var o="color:".concat(null!=(n=null==(t=this.color)?void 0:t.call(this,e))?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return null!=(r=this.bold)&&r.test(e)&&(o+=";font-weight:600"),null!=(i=this.italic)&&i.test(e)&&(o+=";font-style:italic"),this.cssMemo.set(e,o),o}}}})),tH=L((function(){eH(),eH(),(KV=UV(console,{_debug:function(){},_error:function(){}})).configureLogging({dev:!0,min:64}),YV=KV.getLogger().named("Theatre.js (default logger)").utilFor.dev()})),nH=L((function(){LT(),QV=n(8458),tH(),jy(),$V=28,JV=function(e,t){var n;QV.prism.ensurePrism();var r=!0,i=Ry+$V,a=0,o=t.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequence.collapsableItems,s=o.byId[OT.forSheet()].isCollapsed,u=null!=(n=(0,QV.pointerToPrism)(s).getValue())&&n,l={type:"sheet",isCollapsed:u,sheet:e,children:[],sheetItemKey:OT.forSheet(),shouldRender:r,top:Ry,depth:0,n:a,nodeHeight:$V,heightIncludingChildren:-1};a+=1;for(var c=0,f=Object.values((0,QV.val)(e.objectsP));c<f.length;c++){var d=f[c];d&&p(d,l.children,l.depth+1,!u)}function p(e,t,n,r){var s,u=(0,QV.val)(e.template.getMapOfValidSequenceTracks_forStudio()),l=(0,QV.val)(e.template.configPointer);if(0!==Object.keys(u).length){var c=o.byId[OT.forSheetObject(e)].isCollapsed,f=null!=(s=(0,QV.pointerToPrism)(c).getValue())&&s,d={type:"sheetObject",isCollapsed:f,sheetItemKey:OT.forSheetObject(e),shouldRender:r,top:i,children:[],depth:n,n:a,sheetObject:e,nodeHeight:r?$V:0,heightIncludingChildren:-1};t.push(d),r&&(a+=1,i+=d.nodeHeight),h(e,u,[],l,d.children,n+1,r&&!f),d.heightIncludingChildren=i-d.top}}function h(e,t,n,r,i,a,o){for(var s=0,u=Object.entries(t);s<u.length;s++){var l=m(u[s],2),c=l[0],f=l[1],d=r.props[c];g(e,f,[].concat(v(n),[c]),d,i,a,o)}}function g(e,t,n,r,s,u,l){"compound"===r.type?function(e,t,n,r,s,u,l,c){var f,d=o.byId[OT.forSheetObjectProp(e,r)].isCollapsed,p=null!=(f=(0,QV.pointerToPrism)(d).getValue())&&f,v={type:"propWithChildren",isCollapsed:p,propConf:n,pathToProp:r,sheetItemKey:OT.forSheetObjectProp(e,r),sheetObject:e,shouldRender:c,top:i,children:[],nodeHeight:c?$V:0,heightIncludingChildren:-1,depth:l,trackMapping:t,n:a};u.push(v),c&&(i+=v.nodeHeight,a+=1),h(e,t,r,s,v.children,l+1,c&&!p),v.heightIncludingChildren=i-v.top}(e,t,r,n,r,s,u,l):"enum"===r.type?YV.warn("Prop type enum is not yet supported in the sequence editor"):function(e,t,n,r,o,s,u){var l={type:"primitiveProp",propConf:r,depth:s,sheetItemKey:OT.forSheetObjectProp(e,n),sheetObject:e,pathToProp:n,shouldRender:u,top:i,nodeHeight:u?$V:0,heightIncludingChildren:u?$V:0,trackId:t,n:a};o.push(l),a+=1,i+=l.nodeHeight}(e,t,n,r,s,u,l)}return l.heightIncludingChildren=i-l.top,l}}));function rH(e,t){var n=W(),r=n.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId],i=n.atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId];return(0,iH.prism)((function(){var a,o=function(e,t,n){return LV.prism.memo(e,(function(){return(0,LV.prism)(t)}),n).getValue()}("tree",(function(){return JV(e,n)}),[]),s=(0,iH.val)(t),u=(0,iH.val)(n.atomP.historic.panels.sequenceEditor.graphEditor),l=(0,iH.val)(i.sequenceEditor.selectedPropsByObject),c=!!l&&Object.keys(l).length>0,f=iH.prism.memo("leftDims",(function(){var e,t={width:Math.floor(s.width*aH),height:s.height,screenX:s.screenX,screenY:s.screenY},n={width:s.width-t.width,height:s.height,screenX:s.screenX+t.width,screenY:s.screenY},r=c&&!0===(null==u?void 0:u.isOpen),i=Math.floor((r?Cs(null!=(e=null==u?void 0:u.height)?e:.5,.1,.7):0)*s.heightWithoutBorder),a=0+i,o=s.height-a,l={width:s.width,height:o,screenX:s.screenX,screenY:s.screenY};return{leftDims:t,rightDims:n,graphEditorDims:{isAvailable:c,isOpen:r,width:n.width,height:i,screenX:s.screenX,screenY:s.screenY+o,padding:{top:20,bottom:20}},dopeSheetDims:l,horizontalScrollbarDims:{bottom:0}}}),[s,u,c]),d=f.leftDims,p=f.rightDims,h=f.graphEditorDims,v=f.dopeSheetDims,g=f.horizontalScrollbarDims,y=iH.prism.memo("graphEditorVerticalSpace",(function(){var e=h.height-h.padding.top-h.padding.bottom;return{space:e,fromExtremumSpace:function(t){return t*e},toExtremumSpace:function(t){return t/e}}}),[h]),b=iH.prism.state("isSeeking",!1),w=m(b,2),x={isSeeking:w[0],setIsSeeking:w[1]},_=null!=(a=(0,iH.val)(r.sequence.clippedSpaceRange))?a:oH,S=iH.prism.memo("scaledSpace",(function(){var e=_.end-_.start,t=p.width,n=e/t,r=t/e;return{fromUnitSpace:function(e){return e*r},toUnitSpace:function(e){return e*n},leftPadding:10}}),[_,p.width]),k=iH.prism.memo("setClippedSpaceRange",(function(){return function(t){n.transaction((function(n){var r=n.stateEditors,i=I({},t);if(i.end<=i.start&&(i.end=i.start+1),i.start<0){var a=i.end-i.start;i.start=0,i.end=a}r.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(R(I({},e.address),{range:i}))}))}}),[]),E=iH.prism.memo("clippedSpace",(function(){return{range:_,width:p.width,fromUnitSpace:function(e){return S.fromUnitSpace(e-_.start)+S.leftPadding},toUnitSpace:function(e){return S.toUnitSpace(e-S.leftPadding)+_.start},setRange:k}}),[_,p.width,S,k]),C=iH.prism.memo("selection.current",(function(){return new iH.Atom({})}),[]);return rL("finalAtom",{sheet:e,tree:o,panelDims:s,leftDims:d,rightDims:p,dopeSheetDims:v,horizontalScrollbarDims:g,seeker:x,unitSpace:{},scaledSpace:S,clippedSpace:E,graphEditorDims:h,graphEditorVerticalSpace:y,selectionAtom:C}).pointer}))}var iH,aH,oH,sH=L((function(){q(),NV(),pL(),iH=n(8458),nH(),Ud(),aH=.2,oH={start:0,end:10}}));function uH(e){var t=e.fullSecondStampsContainer,n=e.sequencePositionFormatter,r=e.snapToGrid,i=e.unitSpaceToClippedSpace,a="";_Z(e,(function(e,t){var o=r(e),s=i(o);a+=t?lH(n.formatFullUnitForGrid(o),s,"full-unit"):lH(n.formatSubUnitForGrid(o),s,"sub-unit")})),t.innerHTML=a}function lH(e,t,n){return'<span class="'.concat(n,'" style="transform: translate3d(').concat(t.toFixed(1),'px, -50%, 0);">').concat(e,"</span>")}var cH,fH,dH,pH,hH,vH,mH,gH,yH,bH,wH=L((function(){cH=n(8458),lm(),fH=j(Hd()),nv(),kZ(),q(),pH=tv.div(dH||(dH=U(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  pointer-events: none;\n"]))),hH={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return im(.2,hH.fullUnitStampColor)}},mH=tv.div(vH||(vH=U(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  left: 0;\n  overflow: hidden;\n  z-index: 2;\n  will-change: transform;\n  pointer-events: none;\n"]))),yH=tv.div(gH||(gH=U(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  & > span {\n    position: absolute;\n    display: block;\n    top: 9px;\n    left: -10px;\n    color: ",";\n    text-align: center;\n    font-size: ",";\n    width: 20px;\n\n    &.full-unit {\n      color: ",";\n    }\n\n    &.sub-unit {\n      color: ",";\n    }\n  }\n\n  pointer-events: none;\n"])),hH.fullUnitStampColor,hH.stampFontSize,hH.fullUnitStampColor,hH.subUnitStampColor),bH=function(e){var t=e.layoutP,n=e.width,r=(0,fH.useRef)(null),i=(0,fH.useState)(null),a=m(i,2),o=a[0],s=a[1];return(0,fH.useLayoutEffect)((function(){if(o)return(0,cH.prism)((function(){var e=(0,cH.val)(t.sheet).getSequence();return{fullSecondStampsContainer:o,clippedSpaceRange:(0,cH.val)(t.clippedSpace.range),clippedSpaceWidth:(0,cH.val)(t.clippedSpace.width),unitSpaceToClippedSpace:(0,cH.val)(t.clippedSpace.fromUnitSpace),leftPadding:(0,cH.val)(t.scaledSpace.leftPadding),fps:e.subUnitsPerUnit,sequencePositionFormatter:e.positionFormatter,snapToGrid:function(t){return e.closestGridPosition(t)}}})).onChange(W().ticker,uH,!0)}),[o,n,t]),fH.default.createElement(pH,{ref:r,style:{width:n+"px"}},fH.default.createElement(mH,{style:{width:n+"px"}},fH.default.createElement(yH,{ref:s})))}}));var xH,_H=L((function(){xH=j(Hd())}));var SH,kH,EH,CH,MH,TH,PH,AH,DH,IH,RH,OH,LH,NH,zH,FH=L((function(){SH=n(8458),cp(),Fy(),q(),oW(),RM(),Rx(),py(),kH=j(Hd()),nv(),WN(),EH={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},1e3,MH=tv.div(CH||(CH=U(["\n  position: absolute;\n  height: ","px;\n  background-color: ",";\n  cursor: grab;\n  top: 0;\n  left: 0;\n  width: ","px;\n  transform-origin: left top;\n  &:hover {\n    background-color: ",";\n  }\n  &.dragging {\n    background-color: ",";\n    cursor: grabbing !important;\n  }\n  ",";\n\n  /* covers the one pixel space between the focus range strip and the top strip\n  of the sequence editor panel, which would have caused that one pixel to act\n  like a panel drag zone */\n  &:after {\n    display: block;\n    content: ' ';\n    position: absolute;\n    bottom: -1px;\n    height: 1px;\n    left: 0;\n    right: 0;\n    background: transparent;\n    pointer-events: normal;\n    z-index: -1;\n  }\n"])),(function(){return GH-1}),(function(e){return e.enabled?EH.enabled.backgroundColor:EH.disabled.backgroundColor}),1e3,EH.hover.backgroundColor,EH.dragging.backgroundColor,gy),TH=function(e){var t=e.layoutP,n=(0,kH.useMemo)((function(){return(0,SH.prism)((function(){var e=(0,SH.val)(t.sheet).address,n=e.projectId,r=e.sheetId;return(0,SH.val)(W().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[r].sequence.focusRange)}))}),[t]),r=fy(null),i=m(r,2),a=i[0],o=i[1],s=AM(o,{menuItems:function(){var e=(0,SH.val)(t.sheet),r=n.getValue();return[{label:"Delete focus range",callback:function(){W().tempTransaction((function(t){t.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(I({},e.address))})).commit()}},{label:null!=r&&r.enabled?"Disable focus range":"Enable focus range",callback:function(){void 0!==r&&W().tempTransaction((function(t){t.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(R(I({},e.address),{range:r.range,enabled:!r.enabled}))})).commit()}}]}}),u=m(s,1)[0],l=np(t.scaledSpace.toUnitSpace),c=np(t.sheet),f=(0,kH.useMemo)((function(){var e,r;return{debugName:"FocusRangeStrip",onDragStart:function(i){var a,o=n.getValue();if(!o)return!1;var s=o.range.start,u=o.range.end,f=!1,d=(0,SH.val)(t.sheet).getSequence();return{onDrag:function(t){if(o=n.getValue()){var i,p;f=!0;var h=l(t),v=s+h,g=u+h;g<v&&(g=v),i=function(e,t){var n=0,r=m(e,2),i=r[0],a=r[1],o=m(t,2),s=o[0],u=o[1];return a-i>u-s?[s,u]:(i<s&&(n=0-i),a>u&&(n=u-a),[i+n,a+n])}([v,g],[0,d.length]).map((function(e){return d.closestGridPosition(e)})),p=m(i,2),e=p[0],r=p[1],a&&a.discard(),a=W().tempTransaction((function(t){var n;t.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(R(I({},c.address),{range:{start:e,end:r},enabled:null==(n=null==o?void 0:o.enabled)||n}))}))}},onDragEnd:function(){o&&(f&&void 0!==a?a.commit():a&&a.discard())}}},lockCSSCursorTo:"grabbing"}}),[c,l]),d=Px(o,f),p=m(d,1)[0];return DN(p,-1),Kd((function(){var e,r,i=n.getValue(),o=(null==i?void 0:i.range)||{start:0,end:0},s=(0,SH.val)(t.clippedSpace.fromUnitSpace)(o.start),l=(0,SH.val)(t.clippedSpace.fromUnitSpace)(o.end);return s<0&&(s=0),l>(0,SH.val)(t.clippedSpace.width)&&(l=(0,SH.val)(t.clippedSpace.width)),s>l?(r=0,e=0):(r=s,e=(l-s)/1e3),i?kH.default.createElement(kH.default.Fragment,null,u,kH.default.createElement(MH,{id:"range-strip",enabled:i.enabled,className:"".concat(p?"dragging":""," ").concat(i.enabled?"enabled":""),ref:a,style:{transform:"translateX(".concat(r,"px) scale(").concat(e,", 1)")}})):kH.default.createElement(kH.default.Fragment,null)}),[t,a,n,u,p])}})),jH=L((function(){PH=n(8458),cp(),q(),oW(),vx(),Rx(),py(),AH=j(Hd()),nv(),WN(),FH(),KL(),IH=tv.div(DH||(DH=U(["\n  position: absolute;\n  top: 0;\n  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side\n  left: ","px;\n  transform-origin: left top;\n  width: ","px;\n  height: ","px;\n  z-index: 3;\n\n  --bg: ",";\n\n  stroke: ",";\n  user-select: none;\n\n  cursor: ",";\n\n  // no pointer events unless pointer-root is in normal mode _and_ the\n  // focus range is enabled\n  #pointer-root & {\n    pointer-events: none;\n  }\n\n  #pointer-root.normal & {\n    pointer-events: auto;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.dragging {\n    pointer-events: none !important;\n  }\n\n  // highlight the handle if it's hovered, or the whole strip is hovverd\n  ",":hover ~ &, &:hover {\n    --bg: ",";\n    stroke: ",";\n  }\n\n  // highlight the handle when it's being dragged or the whole strip is being dragged.\n  // using dragging.dragging to give this selector priority, as it seems to be overridden\n  // by the hover selector above\n  &.dragging,\n  ",".dragging.dragging ~ & {\n    --bg: ",";\n    stroke: ",";\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor &:hover {\n    --bg: ",";\n    stroke: #40aaa4;\n  }\n\n  background-color: var(--bg);\n\n  // a larger hit zone\n  &:before {\n    display: block;\n    content: ' ';\n    position: absolute;\n    inset: -8px;\n  }\n"])),(function(e){return"start"===e.type?0:-EH.thumbWidth}),EH.thumbWidth,(function(){return GH-1}),(function(e){return e.enabled?EH.enabled.backgroundColor:EH.disabled.backgroundColor}),EH.enabled.stroke,(function(e){return"start"===e.type?"w-resize":"e-resize"}),ox,(function(){return MH}),EH.hover.backgroundColor,EH.hover.stroke,(function(){return MH}),EH.dragging.backgroundColor,EH.dragging.stroke,EH.dragging.backgroundColor),OH=tv.div(RH||(RH=U(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  background: linear-gradient(\n    ","deg,\n    var(--bg) 0%,\n    #ffffff00 100%\n  );\n\n  width: 12px;\n  left: ","px;\n"])),(function(e){return"start"===e.type?90:-90}),(function(e){return"start"===e.type?EH.thumbWidth:1-EH.thumbWidth})),NH=tv.div(LH||(LH=U(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  background: linear-gradient(\n    ","deg,\n    "," 0%,\n    #ffffff00 100%\n  );\n\n  width: 12px;\n  left: ","px;\n"])),(function(e){return"start"===e.type?-90:90}),(function(){return qH.backgroundColor}),(function(e){return"start"===e.type?-12:EH.thumbWidth})),zH=function(e){var t,n=e.layoutP,r=e.thumbType,i=fy(null),a=m(i,2),o=a[0],s=a[1],u=(0,AH.useMemo)((function(){return(0,PH.prism)((function(){var e=(0,PH.val)(n.sheet).address,t=e.projectId,r=e.sheetId;return(0,PH.val)(W().atomP.ahistoric.projects.stateByProjectId[t].stateBySheetId[r].sequence.focusRange)}))}),[n]),l=(0,AH.useMemo)((function(){return{debugName:"FocusRangeThumb",onDragStart:function(){var e,t,i=(0,PH.val)(n.sheet),a={start:0,end:i.getSequence().length},o=u.getValue()||{range:a,enabled:!1},l=o.enabled,c=o.range[r],f=(0,PH.val)(n.scaledSpace.toUnitSpace),d=f(EH.rangeStripMinWidth);return{onDrag:function(n,o,h){var v,m,g=qL.checkIfMouseEventSnapToPos(h,{ignore:s});if(null==g){var y=f(n);m=c+y}else m=g;t=(null==(v=u.getValue())?void 0:v.range)||a,m="start"===r?Math.max(Math.min(m,t.end-d),0):Math.min(Math.max(m,t.start+d),i.getSequence().length);var b=i.getSequence().closestGridPosition(m);void 0!==e&&e.discard(),e=W().tempTransaction((function(e){e.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(R(I({},i.address),{range:R(I({},t),p({},r,b)),enabled:l}))}))},onDragEnd:function(t){t?null==e||e.commit():null==e||e.discard()}}}}}),[n]),c=Px(s,l),f=m(c,1)[0];dx(f,"draggingPositionInSequenceEditor","start"===r?"w-resize":"e-resize");var d=np(u);return DN(f,null!=(t=null==d?void 0:d.range[r])?t:0),Kd((function(){var e=u.getValue();if(!e)return null;var t=e.enabled,i=e.range[r],a=(0,PH.val)(n.clippedSpace.fromUnitSpace)(i);return(a<0||(0,PH.val)(n.clippedSpace.width)<a)&&(a=-1e4),AH.default.createElement(IH,R(I(I({ref:o},qL.includePositionSnapAttrs(i)),IN(i)),{className:"".concat(f&&"dragging"," ").concat(t&&"enabled"),enabled:t,type:r,style:{transform:"translate3d(".concat(a,"px, 0, 0)")}}),AH.default.createElement(OH,{type:r,enabled:t}),AH.default.createElement(NH,{type:r}),AH.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},AH.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),AH.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))}),[n,o,u,f])}}));var BH,UH,ZH,VH,HH,WH,GH,qH,XH,KH,YH,QH,$H,JH,eW,tW,nW,rW,iW,aW=L((function(){BH=n(8458),cp(),q(),oL(),oW(),vx(),Rx(),_H(),BL(),py(),Ud(),UH=j(Hd()),nv(),FH(),jH(),jy(),VH=tv.div(ZH||(ZH=U(["\n  position: absolute;\n  height: ",'px;\n  left: 0;\n  right: 0;\n  box-sizing: border-box;\n  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */\n  cursor: ',";\n"])),(function(){return GH}),(function(e){return e.isShiftDown?"ew-resize":"move"})),HH=function(e){var t=e.layoutP,n=fy(null),r=m(n,2),i=r[0],a=r[1],o=qR(),s=(0,UH.useRef)(o);s.current=o;var u=(0,UH.useMemo)((function(){return(0,BH.prism)((function(){var e=(0,BH.val)(t.sheet).address,n=e.projectId,r=e.sheetId;return(0,BH.val)(W().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[r].sequence.focusRange)}))}),[t]);Px(a,function(e,t){var n=(0,UH.useState)("none"),r=m(n,2),i=r[0],a=r[1];return dx("none"!==i,"dragging","creating"===i?"ew-resize":"move"),(0,UH.useMemo)((function(){return{debugName:"FocusRangeZone",onDragStart:function(n){var r=n.shiftKey?["creating",function(t){var n,r=(0,BH.val)(e.clippedSpace.toUnitSpace),i=(0,BH.val)(e.scaledSpace.toUnitSpace),a=(0,BH.val)(e.sheet),o=a.getSequence(),s=t.target.getBoundingClientRect(),u=r(t.clientX-s.left),l=i(EH.rangeStripMinWidth);return{onDrag:function(e){var t,r,s,c=i(e),f=u,d=u+c;t=[Cs(f,0,o.length),Cs(d,0,o.length)].map((function(e){return o.closestGridPosition(e)})),r=m(t,2),f=r[0],(d=r[1])<f?(s=[Math.max(Math.min(d,f-l),0),f],f=s[0],d=s[1]):e>0&&(d=Math.min(Math.max(d,f+l),o.length)),n&&n.discard(),n=W().tempTransaction((function(e){e.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(R(I({},a.address),{range:{start:f,end:d},enabled:!0}))}))},onDragEnd:function(e){e&&void 0!==n?n.commit():n&&n.discard()}}}(n)]:["moving-panel",function(){var e,n=t.current,r=t.current.addBoundsHighlightLock();return{onDrag:function(t,r){var i=R(I({},n.dims),{top:Cs(n.dims.top+r,0,window.innerHeight-Ny),left:Cs(n.dims.left+t,-n.dims.width+Ny,window.innerWidth-Ny)}),a=WR(i,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=W().tempTransaction((function(e){e.stateEditors.studio.historic.panelPositions.setPanelPosition({position:a,panelId:n.panelId})}))},onDragEnd:function(t){r(),t?null==e||e.commit():null==e||e.discard()}}}()],i=m(r,2),o=i[0],s=i[1];return a(o),!1!==s&&{onDrag:function(e,t,n,r,i){s.onDrag(e,t,n,r,i)},onDragEnd:function(e){var t;a("none"),null==(t=s.onDragEnd)||t.call(s,e)}}}}}),[e,t])}(t,s));var l=FL("Shift"),c=function(e){var t=(0,xH.useState)(!1),n=m(t,2),r=n[0],i=n[1];return(0,xH.useEffect)((function(){if(i(!1),e){var t=function(t){t.target===e?i(!0):i(!1)},n=function(){i(!1)};return e.addEventListener("mouseenter",t),e.addEventListener("mousemove",t),e.addEventListener("mouseleave",n),function(){i(!1),e.removeEventListener("mouseenter",t),e.removeEventListener("mousemove",t),e.removeEventListener("mouseleave",n)}}}),[e]),r}(a);return(0,UH.useEffect)((function(){if(!l&&c)return s.current.addBoundsHighlightLock()}),[!l&&c]),Kd((function(){return UH.default.createElement(VH,{ref:i,isShiftDown:l},UH.default.createElement(TH,{layoutP:t}),UH.default.createElement(zH,{thumbType:"start",layoutP:t}),UH.default.createElement(zH,{thumbType:"end",layoutP:t}))}),[t,u,l])}})),oW=L((function(){cp(),WH=j(Hd()),nv(),wH(),WN(),Fy(),aW(),GH=18,qH={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},KH=tv.div(XH||(XH=U(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: ","px;\n  box-sizing: border-box;\n  background: ",";\n  border-bottom: 1px solid ",";\n  ",";\n"])),GH,qH.backgroundColor,qH.borderColor,gy),YH=function(e){var t=e.layoutP,n=np(t.rightDims.width);return WH.default.createElement(WH.default.Fragment,null,WH.default.createElement(KH,I({},IN("hide")),WH.default.createElement(bH,{layoutP:t,width:n,height:GH}),WH.default.createElement(HH,{layoutP:t})))}})),sW=L((function(){QH=j(Hd()),nv(),cp(),q(),qx(),lM(),$H=function(e){return isFinite(e)&&e>0},eW=tv.div(JH||(JH=U(["\n  display: flex;\n  gap: 8px;\n  padding: 4px 8px;\n  height: 28px;\n  align-items: center;\n"]))),nW=tv.div(tW||(tW=U(["\n  ",";\n  white-space: nowrap;\n"])),JC),rW=function(e){return.25*e.deltaX},iW=function(e){var t=e.layoutP,n=np(t.sheet),r=(0,QH.useMemo)((function(){var e;return{temporarilySetValue:function(t){e&&(e.discard(),e=void 0),e=W().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.setLength(R(I({},n.address),{length:t}))}))},discardTemporaryValue:function(){e&&(e.discard(),e=void 0)},permanentlySetValue:function(t){e&&(e.discard(),e=void 0),W().transaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.setLength(R(I({},n.address),{length:t}))}))}}}),[t,n]),i=(0,QH.useRef)(null);return(0,QH.useLayoutEffect)((function(){i.current.focus()}),[]),Kd((function(){var e=n.getSequence().length;return QH.default.createElement(eW,null,QH.default.createElement(nW,null,"Sequence length"),QH.default.createElement(Gx,R(I({value:e},r),{isValid:$H,inputRef:i,nudge:rW})))}),[n,r,i])}}));var uW,lW,cW,fW,dW,pW,hW,vW,mW,gW,yW,bW,wW,xW,_W,SW,kW,EW,CW,MW,TW,PW,AW,DW,IW,RW,OW,LW,NW,zW,FW,jW,BW,UW,ZW,VW,HW,WW,GW,qW,XW,KW,YW,QW,$W,JW,eG,tG,nG,rG,iG,aG,oG,sG,uG,lG,cG,fG=L((function(){cp(),uW=n(8458),lW=j(Hd()),nv(),Gq(),oW(),py(),Rx(),q(),GE(),WN(),X_(),sW(),Fy(),XE(),1e3,cW={stripNormal:"#0000006c",stripActive:"#000000"},dW=tv.div(fW||(fW=U(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 4px;\n  z-index: ",";\n  pointer-events: none;\n\n  &:after {\n    display: block;\n    content: ' ';\n    position: absolute;\n    /* top: ","px; */\n    top: 0;\n    bottom: 0;\n    left: -1px;\n    width: 1px;\n    background-color: ",";\n  }\n\n  &:hover:after,\n  &.dragging:after {\n    background-color: ",";\n  }\n"])),(function(){return Mq.lengthIndicatorStrip}),GH,cW.stripNormal,cW.stripActive),hW=tv.div(pW||(pW=U(["\n  position: absolute;\n  top: ","px;\n  width: 100px;\n  left: -50px;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n"])),GH-15),mW=tv.div(vW||(vW=U(["\n  margin-top: 8px;\n  font-size: 10px;\n  white-space: nowrap;\n  padding: 2px 8px;\n  border-radius: 2px;\n  ",";\n  cursor: ew-resize;\n  color: #464646;\n  background-color: #0000004d;\n  display: none;\n\n  ",":hover &, ",".dragging & {\n    display: block;\n    color: white;\n    background-color: ",";\n  }\n"])),gy,dW,dW,cW.stripActive),yW=tv.div(gW||(gW=U(["\n  font-size: 10px;\n  white-space: nowrap;\n  padding: 1px 2px;\n  border-radius: 2px;\n  ",";\n  justify-content: center;\n  align-items: center;\n  cursor: ew-resize;\n  color: #5d5d5d;\n  background-color: #191919;\n\n  ",":hover &, ",".dragging & {\n    color: white;\n    background-color: ",";\n\n    & > svg:first-child {\n      margin-right: -1px;\n    }\n  }\n\n  & > svg:first-child {\n    margin-right: -4px;\n  }\n"])),gy,dW,dW,cW.stripActive),wW=tv.div(bW||(bW=U(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: rgb(23 23 23 / 43%);\n  width: ","px;\n  z-index: ",";\n  transform-origin: left top;\n\n  ",".dragging ~ &, ",":hover ~ & {\n    background-color: rgb(23 23 23 / 60%);\n  }\n"])),1e3,(function(){return Mq.lengthIndicatorCover}),dW,dW),-1e4,xW=function(e){var t=e.layoutP,n=fy(null),r=m(n,2),i=r[0],a=r[1],o=function(e,t){var n=(0,lW.useRef)(t);n.current=t;var r=Px(e,(0,lW.useMemo)((function(){return{debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart:function(e){var t,r=n.current,i=(0,uW.val)(n.current.layoutP.sheet),a=i.getSequence().length,o=(0,uW.val)(r.layoutP.scaledSpace.toUnitSpace);return{onDrag:function(e,n,r){var s=o(e);t&&(t.discard(),t=void 0),t=W().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.setLength(R(I({},i.address),{length:a+s}))}))},onDragEnd:function(e){e?t&&t.commit():t&&t.discard()}}}}}),[])),i=m(r,1)[0];return DN(i,-1),[i]}(a,{layoutP:t}),s=m(o,1)[0],u=SE({debugName:"LengthIndicator"},(function(){return lW.default.createElement(WE,null,lW.default.createElement(iW,{layoutP:t,onRequestClose:f}))})),l=u.node,c=u.toggle,f=u.close;return Kd((function(){var e,n,r=(0,uW.val)(t.sheet),o=(0,uW.val)(t.rightDims.height),u=r.getSequence(),f=u.length,d=f,p=(0,uW.val)(t.clippedSpace.fromUnitSpace)(d),h=(0,uW.val)(t.clippedSpace.width);return p>h?(n=0,e=0):(p<0&&(p=0),n=p,e=(h-p)/1e3),lW.default.createElement(lW.default.Fragment,null,l,lW.default.createElement(dW,{style:{height:o+"px",transform:"translateX(".concat(0===n?-1e4:n,"px)")},className:s?"dragging":""},lW.default.createElement(hW,null,lW.default.createElement(yW,I({ref:i,onClick:function(e){c(e,a)}},IN("hide")),lW.default.createElement(M_,null),lW.default.createElement(T_,null)),lW.default.createElement(mW,null,"Sequence length:"," ",u.positionFormatter.formatBasic(f)))),lW.default.createElement(wW,{title:"Length",style:{height:o+"px",transform:"translateX(".concat(n,"px) scale(").concat(e,", 1)")}}))}),[t,i,s,l])}})),dG=L((function(){cp(),_W=n(8458),SW=j(Hd()),nv(),wH(),Gq(),oW(),WN(),EW=tv.div(kW||(kW=U(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin-top: 0px;\n"]))),MW=tv.div(CW||(CW=U(["\n  position: absolute;\n  top: 16px;\n  font-size: ",";\n  color: ",";\n  text-align: center;\n  transform: translateX(-50%);\n  background: ",";\n  padding: 1px 8px;\n  font-variant-numeric: tabular-nums;\n  pointer-events: none;\n  z-index: ",";\n"])),hH.stampFontSize,hH.fullUnitStampColor,qH.backgroundColor,(function(){return Mq.currentFrameStamp})),PW=tv.div(TW||(TW=U(["\n  position: absolute;\n  top: 5px;\n  left: -0px;\n  bottom: 0;\n  width: 0.5px;\n  background: rgba(100, 100, 100, 0.2);\n  pointer-events: none;\n"]))),AW=SW.default.memo((function(e){var t=e.layoutP,n=np(PN()),r=m(n,2),i=r[0],a=r[1],o=np(t.clippedSpace.fromUnitSpace),s=Kd((function(){var e=(0,_W.val)(t.sheet).getSequence(),n=(0,_W.val)(t.clippedSpace.width);return{sequence:e,formatter:e.positionFormatter,clippedSpaceWidth:n}}),[t]),u=s.sequence,l=s.formatter,c=s.clippedSpaceWidth;if(-1==i)return SW.default.createElement(SW.default.Fragment,null);var f=3===a?u.closestGridPosition(i):i,d=o(f),p=d>=0&&d<=c;return SW.default.createElement(SW.default.Fragment,null,SW.default.createElement(EW,null,SW.default.createElement(MW,{style:{opacity:p?1:0,transform:"translate3d(calc(".concat(d,"px - 50%), 0, 0)")}},l.formatForPlayhead(f)),SW.default.createElement(PW,{posType:a,style:{opacity:p?1:0,transform:"translate3d(".concat(d,"px, 0, 0)")}}))," ")})),DW=AW})),pG=L((function(){cp(),IW=n(8458),Gf(),lm(),RW=j(Hd()),nv(),Gq(),WN(),Fy(),Rx(),LW=tv.div(OW||(OW=U(["\n  --threadHeight: 6px;\n  --bg-inactive: #32353b;\n  --bg-active: #5b5c5d;\n  position: absolute;\n  height: 0;\n  width: 100%;\n  left: 12px;\n  /* bottom: 8px; */\n  z-index: ",";\n  ","\n"])),(function(){return Mq.horizontalScrollbar}),gy),zW=tv.div(NW||(NW=U(["\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--threadHeight);\n"]))),jW=tv.div(FW||(FW=U(["\n  position: absolute;\n  height: 5px;\n  background: var(--bg-inactive);\n  cursor: ew-resize;\n  z-index: 2;\n\n  &:hover,\n  &:active {\n    background: var(--bg-active);\n  }\n\n  &:after {\n    ",";\n    display: block;\n    content: ' ';\n  }\n"])),Uv("absolute","-4px")),UW=tv.div(BW||(BW=U(["\n  position: absolute;\n  height: 5px;\n  width: 7px;\n  left: 0;\n  z-index: 2;\n  top: 0;\n  bottom: 0;\n  display: block;\n\n  &:hover:before {\n    background: var(--bg-active);\n  }\n\n  &:before {\n    ",";\n    display: block;\n    content: ' ';\n    background: var(--bg-inactive);\n    border-radius: 0 2px 2px 0;\n  }\n\n  &:after {\n    ",";\n    display: block;\n    content: ' ';\n  }\n"])),Uv("absolute","0"),Uv("absolute","-4px")),VW=tv(UW)(ZW||(ZW=U(["\n  left: calc(-1 * 7px);\n  cursor: w-resize;\n  &:before {\n    transform: scaleX(-1);\n  }\n"]))),WW=tv(UW)(HW||(HW=U(["\n  cursor: e-resize;\n  left: 0px;\n"]))),qW=tv.div(GW||(GW=U(["\n  display: ",";\n  position: absolute;\n  top: -20px;\n  left: 4px;\n  padding: 0 4px;\n  transform: translateX(-50%);\n  background: #131d1f;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 10px;\n  line-height: 18px;\n  text-align: center;\n\n  ",":hover &,\n  ",":hover &,\n  ",":hover ~ "," &,\n  ",":hover ~ "," & {\n    display: block;\n  }\n"])),(function(e){return e.active?"block":"none"}),VW,WW,jW,VW,jW,WW),XW=function(e){var t=e.layoutP,n=(0,RW.useCallback)((function(e){return e.toFixed(2)}),[]),r=(0,RW.useMemo)((function(){return(0,IW.prism)((function(){var e=(0,IW.val)(t.rightDims.width)-25,n=(0,IW.val)(t.clippedSpace.range),r=(0,IW.val)(t.sheet).getSequence().length,i=Math.max(n.end,r);return{rightWidth:e,clippedSpaceRange:n,sequenceLength:r,assumedLengthOfSequence:i,rangeStartX:n.start/i*e,rangeEndX:n.end/i*e,bottom:(0,IW.val)(t.horizontalScrollbarDims.bottom)}}))}),[t]),i=np(r),a=i.rangeStartX,o=i.rangeEndX,s=i.clippedSpaceRange,u=i.bottom,l=(0,RW.useState)("nothing"),c=m(l,2),f=c[0],d=c[1],p=(0,RW.useMemo)((function(){var e=(0,IW.val)(r),n=function(){e=(0,IW.val)(r)},i=function(t){return t/e.rightWidth*e.assumedLengthOfSequence};return{onRangeDragStart:function(){return n(),{onDrag:function(n){d("both");var r=i(n),a=Wf(e.clippedSpaceRange,(function(e){return e+r}));(0,IW.val)(t.clippedSpace.setRange)(a)},onDragEnd:function(){d("nothing")}}},onRangeStartDragStart:function(){return n(),{onDrag:function(n){d("start");var r=i(n),a={start:e.clippedSpaceRange.start+r,end:e.clippedSpaceRange.end};a.start>a.end-1&&(a.start=a.end-1),a.start<=0&&(a.start=0),(0,IW.val)(t.clippedSpace.setRange)(a)},onDragEnd:function(){d("nothing")}}},onRangeEndDragStart:function(){return n(),{onDrag:function(n){d("end");var r=i(n),a={start:e.clippedSpaceRange.start,end:e.clippedSpaceRange.end+r};a.end<a.start+1&&(a.end=a.start+1),a.end>=e.assumedLengthOfSequence&&(a.end=e.assumedLengthOfSequence),(0,IW.val)(t.clippedSpace.setRange)(a)},onDragEnd:function(){d("nothing")}}}}}),[t,r]),h=(0,RW.useState)(null),v=m(h,2),g=v[0],y=v[1];Px(g,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:p.onRangeDragStart,lockCSSCursorTo:"ew-resize"});var b=(0,RW.useState)(null),w=m(b,2),x=w[0],_=w[1];Px(x,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:p.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});var S=(0,RW.useState)(null),k=m(S,2),E=k[0],C=k[1];return Px(E,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:p.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),RW.default.createElement(LW,I({style:{bottom:u+8+"px"}},IN("hide")),RW.default.createElement(zW,null,RW.default.createElement(jW,{ref:y,style:{width:"".concat(o-a,"px"),transform:"translate3d(".concat(a,"px, 0, 0)")}}),RW.default.createElement(VW,{ref:_,style:{transform:"translate3d(".concat(a,"px, 0, 0)")}},RW.default.createElement(qW,{active:"both"===f||"start"===f},n(s.start))),RW.default.createElement(WW,{ref:C,style:{transform:"translate3d(".concat(o,"px, 0, 0)")}},RW.default.createElement(qW,{active:"both"===f||"end"===f},n(s.end)))))}})),hG=L((function(){KW=j(Hd()),nv(),QW=tv.div(YW||(YW=U(["\n  position: absolute;\n  inset: ","px;\n"])),(function(e){return-1*e.room})),$W=function(e){return KW.default.createElement(QW,{room:e.room})}})),vG=L((function(){nv(),cp(),qx(),lM(),JW=j(Hd()),eG=j(Hd()),tG=n(8458),Ms(),nG=function(e){return isFinite(e)&&e>=0},iG=tv.div(rG||(rG=U(["\n  display: flex;\n  gap: 8px;\n  padding: 4px 8px;\n  height: 28px;\n  align-items: center;\n"]))),oG=tv.div(aG||(aG=U(["\n  ",";\n  white-space: nowrap;\n"])),JC),sG=function(e){return.25*e.deltaX},uG=function(e){var t=e.layoutP,n=e.onRequestClose,r=(0,tG.val)(t.sheet),i=r.getSequence(),a=(0,JW.useMemo)((function(){var e,t=i.position;return{temporarilySetValue:function(t){e&&(e=void 0),e=Cs(t,0,i.length),i.position=e},discardTemporaryValue:function(){e&&(e=void 0,i.position=t,n("discardTemporaryValue"))},permanentlySetValue:function(t){e&&(e=void 0),i.position=Cs(t,0,i.length),n("permanentlySetValue")}}}),[t,i]),o=(0,JW.useRef)(null);return(0,JW.useLayoutEffect)((function(){o.current.focus()}),[]),Kd((function(){var e=r.getSequence(),t=Number((0,tG.val)(e.pointer.position).toFixed(3));return eG.default.createElement(iG,null,eG.default.createElement(oG,null,"Sequence position"),eG.default.createElement(Gx,R(I({value:t},a),{isValid:nG,inputRef:o,nudge:sG})))}),[r,a,o])}})),mG=L((function(){lG="undefined"!=typeof navigator&&navigator.platform.toUpperCase().indexOf("MAC")>=0})),gG=L((function(){mG(),cG=function(e){return lG?!0===e.metaKey:!0===e.ctrlKey}}));function yG(){var e=W();(0,bG.useEffect)((function(){var t=function(t){var n=t.composedPath()[0];if(!n||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName){if("z"===t.key||"Z"===t.key||"KeyZ"===t.code){if(!cG(t))return;!0===t.shiftKey?e.redo():e.undo()}else if("Space"!==t.code||t.shiftKey||t.metaKey||t.altKey||t.ctrlKey){if(!t.altKey||"\\"!==t.key&&"Backslash"!==t.code&&"IntlBackslash"!==t.code)return;e.transaction((function(e){var t=e.stateEditors,n=e.drafts;t.studio.ahistoric.setVisibilityState("everythingIsHidden"===n.ahistoric.visibilityState?"everythingIsVisible":"everythingIsHidden")}))}else{if(!xG)return;var r=function(){var e=jd(Nb().filter((function(e){return ee(e)||ne(e)})).map((function(e){return ne(e)?e.sheet:e})))[0];if(e)return e.getSequence()}();if(!r)return;if(r.playing)r.pause();else{var i=r.address,a=i.projectId,o=i.sheetId,s=(0,wG.prism)((function(){var e=(0,wG.val)(W().atomP.ahistoric.projects.stateByProjectId[a].stateBySheetId[o].sequence.focusRange);return wG.prism.memo("shouldFollowFocusRange",(function(){var t=r.position;if(e){var n=t>=e.range.start&&t<=e.range.end;return!e.enabled||!!n}return!0}),[])&&e&&e.enabled?{range:[e.range.start,e.range.end],isFollowingARange:!0}:{range:[0,(0,wG.val)(r.pointer.length)],isFollowingARange:!1}})),u=r.playDynamicRange((0,wG.prism)((function(){return(0,wG.val)(s).range})),W().ticker),l=_G(r);u.finally((function(){l.set(void 0)})),l.set(s)}}t.preventDefault(),t.stopPropagation()}};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[])}var bG,wG,xG,_G,SG,kG=L((function(){bG=j(Hd()),q(),gG(),Bb(),wG=n(8458),WC(),xG=!0,_G=HC((function(e){return new wG.Atom(void 0)})),SG=HC((function(e){return(0,wG.prism)((function(){var t=_G(e).prism.getValue();if(t)return t.getValue().isFollowingARange;var n=e.address,r=n.projectId,i=n.sheetId,a=(0,wG.val)(W().atomP.ahistoric.projects.stateByProjectId[r].stateBySheetId[i].sequence.focusRange);if(!a||!a.enabled)return!1;var o=(0,wG.val)(e.pointer.position);return o>=a.range.start&&o<=a.range.end}))}))}));var EG,CG,MG,TG,PG,AG,DG,IG,RG,OG,LG,NG,zG,FG,jG,BG,UG,ZG,VG,HG,WG,GG,qG,XG,KG=L((function(){hG(),Rx(),py(),cp(),EG=n(8458),Ms(),CG=j(Hd()),nv(),Gq(),WN(),Fy(),GE(),XE(),vG(),kG(),vx(),RM(),q(),LT(),KL(),sz(),TG=tv.div(MG||(MG=U(["\n  --thumbColor: #00e0ff;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 5px;\n  height: 100%;\n  z-index: ",";\n  pointer-events: none;\n\n  display: ",";\n"])),(function(){return Mq.playhead}),(function(e){return e.isVisible?"block":"none"})),AG=tv.div(PG||(PG=U(["\n  position: absolute;\n  top: 8px;\n  width: 0;\n  height: calc(100% - 8px);\n  border-left: 1px solid #27e0fd;\n  z-index: 10;\n  pointer-events: none;\n\n  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {\n    /* pointer-events: auto; */\n    /* cursor: var(","); */\n\n    &:after {\n      position: absolute;\n      inset: -8px;\n      display: block;\n      content: ' ';\n    }\n  }\n"])),ox),IG=tv.div(DG||(DG=U(["\n  background-color: var(--thumbColor);\n  position: absolute;\n  width: 5px;\n  height: 13px;\n  top: -4px;\n  left: -2px;\n  z-index: 11;\n  cursor: ew-resize;\n  --sunblock-color: #1f2b2b;\n\n  ",";\n\n  ",".seeking > & {\n    pointer-events: none !important;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor\n    ",":not(.seeking)\n    > & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  ",".playheadattachedtofocusrange > & {\n    top: -8px;\n    --sunblock-color: #005662;\n    &:before,\n    &:after {\n      border-bottom-width: 8px;\n    }\n  }\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    left: -2px;\n    width: 0;\n    height: 0;\n    border-bottom: 4px solid var(--sunblock-color);\n    border-left: 2px solid transparent;\n  }\n\n  &:after {\n    position: absolute;\n    display: block;\n    content: ' ';\n    right: -2px;\n    width: 0;\n    height: 0;\n    border-bottom: 4px solid var(--sunblock-color);\n    border-right: 2px solid transparent;\n  }\n"])),gy,TG,TG,ox,TG),OG=tv.div(RG||(RG=U(["\n  position: absolute;\n  left: 1px;\n  right: 1px;\n  top: 13px;\n  border-top: 3px solid var(--thumbColor);\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  pointer-events: none;\n\n  /* ",".playheadattachedtofocusrange & {\n    top: 10px;\n    &:before,\n    &:after {\n      height: 15px;\n    }\n  } */\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    top: -4px;\n    left: -2px;\n    height: 8px;\n    width: 2px;\n    background: none;\n    border-radius: 0 100% 0 0;\n    border-top: 1px solid var(--thumbColor);\n    border-right: 1px solid var(--thumbColor);\n  }\n\n  &:after {\n    position: absolute;\n    display: block;\n    content: ' ';\n    top: -4px;\n    right: -2px;\n    height: 8px;\n    width: 2px;\n    background: none;\n    border-radius: 100% 0 0 0;\n    border-top: 1px solid var(--thumbColor);\n    border-left: 1px solid var(--thumbColor);\n  }\n"])),TG),NG=tv.div(LG||(LG=U(["\n  display: none;\n  position: absolute;\n  top: -20px;\n  left: 4px;\n  padding: 0 2px;\n  transform: translateX(-50%);\n  background: #1a1a1a;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 10px;\n  line-height: 18px;\n  text-align: center;\n  ",":hover &, ",".seeking & {\n    display: block;\n  }\n"])),IG,TG),zG=function(e){var t=e.layoutP,n=fy(null),r=m(n,2),i=r[0],a=r[1],o=SE({debugName:"Playhead"},(function(){return CG.default.createElement(WE,null,CG.default.createElement(uG,{layoutP:t,onRequestClose:l}))})),s=o.node,u=o.toggle,l=o.close,c=(0,CG.useMemo)((function(){return{debugName:"RightOverlay/Playhead",onDragStart:function(){var e=(0,EG.val)(t.sheet).getSequence(),n=e.position,r=(0,EG.val)(t.scaledSpace.toUnitSpace),o=(0,EG.val)(t.seeker.setIsSeeking);return o(!0),qN(),{onDrag:function(t,i,o){var s,u=r(t);e.position=null!=(s=qL.checkIfMouseEventSnapToPos(o,{ignore:a}))?s:Cs(n+u,0,e.length)},onDragEnd:function(e){o(!1),XN()},onClick:function(e){u(e,i.current)}}}}}),[t,a]),f=Px(a,c),d=m(f,1)[0];dx(d,"draggingPositionInSequenceEditor","ew-resize"),DN(np(t.seeker.isSeeking)||d,-1);var p=function(e,t){return AM(e,{menuItems:function(){return[{label:"Place marker",callback:function(){W().transaction((function(e){var n=e.stateEditors,r=(0,EG.val)(t.layoutP.sheet),i=r.getSequence();n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:r.address,markers:[{id:AT(10),position:i.position}],snappingFunction:i.closestGridPosition})}))}}]}})}(a,{layoutP:t}),h=m(p,1)[0];return Kd((function(){var e=(0,EG.val)(t.seeker.isSeeking),n=(0,EG.val)(t.sheet).getSequence(),r=(0,EG.val)(SG(n)),a=n.positionPrism.getValue(),o=(0,EG.val)(t.clippedSpace.fromUnitSpace)(a),u=o>=0&&o<=(0,EG.val)(t.clippedSpace.width);return CG.default.createElement(CG.default.Fragment,null,h,s,CG.default.createElement(TG,I({isVisible:u,style:{transform:"translate3d(".concat(o,"px, 0, 0)")},className:"".concat(e&&"seeking"," ").concat(r&&"playheadattachedtofocusrange")},IN("hide")),CG.default.createElement(IG,I({ref:i},qL.includePositionSnapAttrs(a)),CG.default.createElement($W,{room:8}),CG.default.createElement(OG,null),CG.default.createElement(NG,null,n.positionFormatter.formatForPlayhead(n.closestGridPosition(a)))),CG.default.createElement(AG,R(I({},qL.includePositionSnapAttrs(a)),{className:e?"seeking":""}))))}),[t,i,s])}})),YG=L((function(){FG=n(8458),cp(),q(),oW(),jG=j(Hd()),nv(),BG=1e3,ZG=tv.div(UG||(UG=U(["\n  position: absolute;\n  top: ","px;\n  left: 0;\n  opacity: 0.15;\n  width: ","px;\n  transform-origin: top left;\n  pointer-events: none;\n  background-color: ",";\n"])),GH,BG,(function(e){return e.enabled?"#000000":"transparent"})),VG=function(e){var t=e.layoutP,n=(0,jG.useMemo)((function(){return(0,FG.prism)((function(){var e=(0,FG.val)(t.sheet).address,n=e.projectId,r=e.sheetId;return(0,FG.val)(W().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[r].sequence.focusRange)}))}),[t]);return Kd((function(){var e=n.getValue();if(!e||!e.enabled)return null;e.range;var r,i,a=(0,FG.val)(t.rightDims.height)-GH,o=(0,FG.val)(t.clippedSpace.fromUnitSpace),s=(0,FG.val)(t.clippedSpace.width),u=[],l=o(e.range.start);0>l?(i=0,r=0):(l>s&&(l=s),i=0,r=(l-0)/BG),u.push({translateX:i,scaleX:r});var c,f,d=o(e.range.end);return d>s?(f=0,c=0):(d<0&&(d=0),f=d,c=(s-d)/BG),u.push({translateX:f,scaleX:c}),jG.default.createElement(jG.default.Fragment,null,u.map((function(e,t){var n=e.translateX,r=e.scaleX;return jG.default.createElement(ZG,{key:"curtain-".concat(t),enabled:!0,style:{height:"".concat(a,"px"),transform:"translateX(".concat(n,"px) scaleX(").concat(r,")")}})})))}),[t,n])}})),QG=L((function(){HG=j(Hd()),nv(),cp(),q(),lM(),vS(),GG=tv.div(WG||(WG=U(["\n  display: flex;\n  gap: 8px;\n  /* padding: 4px 8px; */\n  height: 28px;\n  align-items: center;\n"]))),tv.div(qG||(qG=U(["\n  ",";\n  white-space: nowrap;\n"])),JC),XG=function(e){var t,n=e.layoutP,r=e.marker,i=np(n.sheet),a=(0,HG.useMemo)((function(){var e;return{temporarilySetValue:function(t){e&&(e.discard(),e=void 0),e=W().tempTransaction((function(e){e.stateEditors.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:i.address,markerId:r.id,label:t})}))},discardTemporaryValue:function(){e&&(e.discard(),e=void 0)},permanentlySetValue:function(t){e&&(e.discard(),e=void 0),W().transaction((function(e){e.stateEditors.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:i.address,markerId:r.id,label:t})}))}}}),[n,i]),o=(0,HG.useRef)(null);return(0,HG.useLayoutEffect)((function(){o.current.focus()}),[]),HG.default.createElement(GG,null,HG.default.createElement(pS,R(I({value:null!=(t=r.label)?t:""},a),{isValid:function(){return!0},inputRef:o})))}}));var $G,JG,eq,tq,nq,rq,iq,aq,oq,sq,uq,lq,cq,fq,dq,pq,hq,vq,mq,gq,yq,bq,wq,xq,_q,Sq,kq,Eq,Cq,Mq,Tq,Pq,Aq,Dq,Iq,Rq,Oq,Lq,Nq,zq,Fq,jq,Bq,Uq,Zq=L((function(){$G=n(8458),cp(),q(),vx(),RM(),py(),JG=j(Hd()),nv(),WN(),Rx(),Gq(),KL(),VN(),GN(),sz(),GE(),XE(),QG(),12,12,24,24,tq=tv.div(eq||(eq=U(['\n  position: absolute;\n  // below the sequence ruler "top bar"\n  top: 18px;\n  z-index: ',";\n"])),(function(){return Mq.marker})),rq=tv.div(nq||(nq=U(["\n  position: absolute;\n  ","\n  pointer-events: none;\n"])),wN(12,12)),iq=JG.default.memo((function(){return JG.default.createElement(rq,{children:JG.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},JG.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})})),oq=tv.div(aq||(aq=U(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  ","\n\n  // :not dragging marker to ensure that markers don't snap to other markers\n  // this works because only one marker track (so this technique is not used by keyframes...)\n  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {\n    ",'\n  }\n\n  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"\n  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting\n  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,\n  #pointer-root.draggingPositionInSequenceEditor\n    &.'," {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &:hover\n    + ",',\n    // notice , "or" in CSS\n    &.',"\n    + "," {\n    ","\n  }\n"])),jN.CSS,jN.CSS_WHEN_SOMETHING_DRAGGING,jN.BEING_DRAGGED_CLASS,ox,rq,jN.BEING_DRAGGED_CLASS,rq,wN(24,24)),sq=function(e){var t=e.layoutP,n=e.markerId,r=np(t.sheet.address),i=np(W().atomP.historic.projects.stateByProjectId[r.projectId].stateBySheetId[r.sheetId].sequenceEditor.markerSet.byId[n]);if(!i)return null;var a=np(t.clippedSpace.width),o=np(t.clippedSpace.fromUnitSpace)(i.position),s=o<=0||o>a,u=s?-1e4:o,l=s?0:1;return JG.default.createElement(tq,{style:{transform:"translateX(".concat(u,"px) scale(").concat(l,")")}},JG.default.createElement(uq,{marker:i,layoutP:t}))},uq=function(e){var t=e.layoutP,n=e.marker,r=np(t.sheet.address),i=fy(null),a=m(i,2),o=a[0],s=a[1],u=function(e,t){return AM(e,{menuItems:function(){return[{label:"Remove marker",callback:function(){W().transaction((function(e){e.stateEditors.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:t.sheetAddress,markerId:t.markerId})}))}}]}})}(s,{sheetAddress:r,markerId:n.id}),l=m(u,1)[0],c=function(e,t){var n=(0,JG.useRef)(t);n.current=t;var r=(0,JG.useMemo)((function(){return{debugName:"MarkerDot/useDragMarker (".concat(t.marker.id,")"),onDragStart:function(r){var i,a=n.current.marker,o=(0,$G.val)(t.layoutP.scaledSpace.toUnitSpace);return qN(),{onDrag:function(n,r,s){var u,l=a,c=Math.max(null!=(u=qL.checkIfMouseEventSnapToPos(s,{ignore:e}))?u:l.position+o(n),0);null==i||i.discard(),i=W().tempTransaction((function(e){e.stateEditors.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,$G.val)(t.layoutP.sheet.address),markers:[R(I({},l),{position:c})],snappingFunction:(0,$G.val)(t.layoutP.sheet).getSequence().closestGridPosition})}))},onDragEnd:function(e){e?null==i||i.commit():null==i||i.discard(),XN()}}}}}),[]),i=Px(e,r),a=m(i,1)[0];return DN(a,t.marker.position),dx(a,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[a]}(s,{layoutP:t,marker:n}),f=m(c,1)[0],d=SE({debugName:"MarkerPopover"},(function(){return JG.default.createElement(WE,null,JG.default.createElement(XG,{marker:n,layoutP:t,onRequestClose:v}))})),p=d.node,h=d.toggle,v=d.close;return JG.default.createElement(JG.default.Fragment,null,l,p,JG.default.createElement(oq,I({title:n.label?"Marker: ".concat(n.label):"Marker",ref:o,onClick:function(e){h(e,o.current)}},jN.reactProps({isDragging:f,position:n.position}))),JG.default.createElement(iq,null))}})),Vq=L((function(){cp(),q(),lq=j(Hd()),Zq(),cq=function(e){var t=e.layoutP,n=np(t.sheet.address),r=W().atomP.historic.projects.stateByProjectId[n.projectId].stateBySheetId[n.sheetId].sequenceEditor.markerSet,i=np(r.allIds);return lq.default.createElement(lq.default.Fragment,null,i&&Object.keys(i).map((function(e){return lq.default.createElement(sq,{key:e,layoutP:t,markerId:e})})))}})),Hq=L((function(){Gq(),cp(),fq=n(8458),dq=j(Hd()),nv(),fG(),dG(),pG(),KG(),oW(),YG(),Vq(),hq=tv.div(pq||(pq=U(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ",";\n  overflow: visible;\n  pointer-events: none;\n"])),(function(){return Mq.rightOverlay})),vq=function(e){var t=e.layoutP;return Kd((function(){var e=(0,fq.val)(t.rightDims.width);return dq.default.createElement(hq,{style:{width:e+"px"}},dq.default.createElement(zG,{layoutP:t}),dq.default.createElement(XW,{layoutP:t}),dq.default.createElement(DW,{layoutP:t}),dq.default.createElement(YH,{layoutP:t}),dq.default.createElement(cq,{layoutP:t}),dq.default.createElement(xW,{layoutP:t}),dq.default.createElement(VG,{layoutP:t}))}),[t])}})),Wq=L((function(){mq=n(8458),cp(),q(),gq=j(Hd()),nv(),X_(),WN(),bq=tv.button(yq||(yq=U(["\n  outline: none;\n  background-color: #1c1d21;\n  border: 1px solid #191919;\n  border-radius: 2px;\n  display: flex;\n  bottom: 14px;\n  right: 8px;\n  z-index: 1;\n  position: absolute;\n\n  padding: 4px 8px;\n  display: flex;\n  color: #656d77;\n  line-height: 20px;\n  font-size: 10px;\n\n  &:hover {\n    color: white;\n  }\n\n  & > svg {\n    transition: transform 0.3s;\n    transform: rotateZ(0deg);\n  }\n\n  &:hover > svg {\n    transform: rotateZ(-20deg);\n  }\n\n  &.open > svg {\n    transform: rotateZ(-180deg);\n  }\n\n  &.open:hover > svg {\n    transform: rotateZ(-160deg);\n  }\n"]))),wq=function(e){var t=e.layoutP,n=np(t.graphEditorDims.isOpen),r=(0,gq.useCallback)((function(){var e=(0,mq.val)(t.graphEditorDims.isOpen);W().transaction((function(t){t.stateEditors.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!e})}))}),[t]);return gq.default.createElement(bq,I({onClick:r,title:"Toggle graph editor",className:n?"open":""},IN("hide")),gq.default.createElement(G_,null))}})),Gq=L((function(){Bb(),cp(),pL(),xq=n(8458),_q=j(Hd()),nv(),OV(),rV(),sH(),Hq(),oL(),sL(),cL(),WN(),pe(),Ud(),Wq(),jy(),kT(),kq=tv(LO)(Sq||(Sq=U(["\n  z-index: ",";\n  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);\n"])),Ey.sequenceEditorPanel),Cq=tv.div(Eq||(Eq=U(["\n  background-color: rgba(40, 43, 47, 0.99);\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  z-index: -1;\n  pointer-events: none;\n"]))),Mq=function(){for(var e={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},t=-1,n=0,r=Object.keys(e);n<r.length;n++){e[r[n]]=t,t++}return e}(),Pq=tv($R)(Tq||(Tq=U(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n"]))),Aq={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},Dq={width:800,height:200},Iq=function(e){return _q.default.createElement(XR,{panelId:"sequenceEditor",defaultPosition:Aq,minDims:Dq},_q.default.createElement(Rq,null))},Rq=function(){var e=qR().dims,t=(0,_q.useState)(null),n=m(t,2),r=n[0],i=n[1];return UM(r),Kd((function(){var t=xq.prism.memo("panelSize",(function(){var t=e.width,n=e.height;return{width:t,height:n,widthWithoutBorder:t-2,heightWithoutBorder:n-4,screenX:e.left,screenY:e.top}}),[e]),n=jd(Nb().filter((function(e){return ee(e)||ne(e)})).map((function(e){return ne(e)?e.sheet:e})));if(1!==jd(n.map((function(e){return e.template}))).length)return _q.default.createElement(_q.default.Fragment,null);var a=n[0];if(!a)return _q.default.createElement(_q.default.Fragment,null);var o=rL("panelSizeP",t).pointer,s=xq.prism.memo("key",(function(){return JSON.stringify(a.address)}),[a]),u=xq.prism.memo("layout",(function(){return rH(a,o)}),[a,o]).getValue();if(0===(0,xq.val)(u.tree.children).length)return _q.default.createElement(_q.default.Fragment,null);var l=xq.prism.memo("containerRef",Nq,[]),c=(0,xq.val)(u.graphEditorDims.isAvailable),f=(0,xq.val)(u.graphEditorDims.isOpen);return _q.default.createElement(kq,{ref:function(e){l(e),e!==r&&i(e)}},_q.default.createElement(Cq,{style:{width:"".concat((0,xq.val)(u.leftDims.width),"px")}}),_q.default.createElement(LN,{layoutP:u},_q.default.createElement(Oq,{layoutP:u}),_q.default.createElement(MV,{key:s+"-dopeSheet",layoutP:u}),f&&_q.default.createElement(ZZ,{key:s+"-graphEditor",layoutP:u}),c&&_q.default.createElement(wq,{layoutP:u}),_q.default.createElement(vq,{layoutP:u})))}),[e,r])},Oq=function(e){var t=e.layoutP;return Kd((function(){var e=(0,xq.val)(t.sheet);return _q.default.createElement(Pq,{style:{width:(0,xq.val)(t.leftDims.width)}},_q.default.createElement(Ly,null,_q.default.createElement(Ty,null,e.address.sheetId," "),_q.default.createElement(Ay,null,":","\xa0"),_q.default.createElement(Ty,null,e.address.sheetInstanceId," "),_q.default.createElement(Ay,null,"\xa0",">","\xa0"),_q.default.createElement(Ty,null,"Sequence")))}),[t])},Lq=Iq,Nq=function(){var e=null,t={passive:!1,capture:!1},n=function(e){Math.abs(e.deltaY)<Math.abs(e.deltaX)&&(e.preventDefault(),e.stopPropagation())};return function(r){e!==r&&e&&e.removeEventListener("wheel",n,t),e=r,r&&r.addEventListener("wheel",n,t)}}})),qq=L((function(){qw(),aL(),zq=j(Hd()),q(),cp(),dL(),Gq(),Fq=function(){var e=np(W().paneManager.allPanesD),t=Object.entries(e).map((function(e){var t=m(e,2),n=t[0],r=t[1];return zq.default.createElement(tL,{key:"pane-".concat(n),paneInstance:r})}));return zq.default.createElement(zq.default.Fragment,null,t,zq.default.createElement(jw,null),zq.default.createElement(BR,null),zq.default.createElement(Lq,null))}})),Xq=L((function(){nv(),PD(),Bq=tv(YA)(jq||(jq=U(["\n  --popover-outer-stroke: #e11c1c;\n  --popover-inner-stroke: #2c1c1c;\n  --popover-bg: #2c1c1c;\n  pointer-events: none !important;\n"]))),Uq=Bq})),Kq=N((function(e,t){var n,r;n=[],r=[],t.exports=function(e,t,i){var a,o,s,u,l,c,f,d;if(e===t)return 0;if(a=e.length,o=t.length,0===a)return o;if(0===o)return a;for(i&&(e=e.toLowerCase(),t=t.toLowerCase()),f=0;f<a;)r[f]=e.charCodeAt(f),n[f]=++f;for(d=0;d<o;)for(s=t.charCodeAt(d),u=l=d++,f=-1;++f<a;)c=s===r[f]?l:l+1,l=n[f],n[f]=u=l>u?c>u?u+1:c:c>l?l+1:c;return u}})),Yq=N((function(e,t){var n=Kq();t.exports=function(){var e,t,r,i,a,o=0,s=arguments[0],u=arguments[1],l=u.length,c=arguments[2];c&&(i=c.threshold,a=c.ignoreCase),void 0===i&&(i=0);for(var f=0;f<l;++f)(e=(t=a?n(s,u[f],!0):n(s,u[f]))>s.length?1-t/u[f].length:1-t/s.length)>o&&(o=e,r=u[f]);return o>=i?r:null}}));var Qq,$q=L((function(){Qq=j(Yq())}));function Jq(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var eX,tX,nX,rX,iX,aX,oX,sX,uX,lX,cX,fX,dX,pX=L((function(){})),hX=L((function(){pX(),eX=function(e){return"string"==typeof e?'string("'.concat(Jq(e,10),'")'):"number"==typeof e?"number(".concat(Jq(String(e),10),")"):null===e?"null":void 0===e?"undefined":"boolean"==typeof e?String(e):Array.isArray(e)?"array":"object"==typeof e?"object":"unknown"}})),vX=L((function(){nv(),cy(),nX=tv($g)(tX||(tX=U(["\n  display: flex;\n  height: fit-content;\n  backdrop-filter: blur(14px);\n  border-radius: 2px;\n"]))),rX=nX})),mX=L((function(){nv(),Fy(),iX=j(Hd()),TD(),nx(),JI(),vX(),oX=tv.button(aX||(aX=U(["\n  ",";\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  font-weight: 600;\n  width: 32px;\n  height: 32px;\n  outline: none;\n\n  color: #a8a8a9;\n\n  background: rgba(40, 43, 47, 0.8);\n  backdrop-filter: blur(14px);\n  border: none;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 2px;\n\n  svg {\n    display: block;\n  }\n\n  &:hover {\n    background: rgba(59, 63, 69, 0.8);\n  }\n\n  &:active {\n    background: rgba(82, 88, 96, 0.8);\n  }\n\n  &.selected {\n    color: rgba(255, 255, 255, 0.8);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.7);\n  }\n\n  // Don't blur if in a button group, because it already blurs. We need to blur\n  // on the group-level, otherwise we get seams.\n  "," > & {\n    backdrop-filter: none;\n    filter: none;\n    border-radius: 0;\n\n    &:first-child {\n      border-top-left-radius: 2px;\n      border-bottom-left-radius: 2px;\n    }\n\n    &:last-child {\n      border-bottom-right-radius: 2px;\n      border-top-right-radius: 2px;\n    }\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),gy,rX),sX=iX.default.forwardRef((function(e,t){var n=e,r=n.title,i=O(n,["title"]),a=VA({enabled:"string"==typeof r},(function(){return iX.default.createElement(bI,null,r)})),o=m(a,2),s=o[0],u=o[1];return iX.default.createElement(iX.default.Fragment,null,s,iX.default.createElement(oX,I({ref:tx([u,t])},i))," ")})),uX=sX})),gX=L((function(){lX=j(Hd()),mX(),nv(),Fy(),fX=tv(uX)(cX||(cX=U(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),gy),dX=function(e){var t,n=e.config,r=e.testId;return lX.default.createElement(fX,{onClick:n.onClick,"data-testid":r,title:n.title,dangerouslySetInnerHTML:{__html:null!=(t=n.svgSource)?t:""}})}}));function yX(e){e.value;var t=e.label,n=e.icon,r=e.onClick,i=e.isSelected;return bX.default.createElement(bX.default.Fragment,null,bX.default.createElement(uX,{forwardedAs:Yg,className:i?"selected":void 0,"aria-label":t,onClick:r,title:t},n))}var bX,wX,xX,_X,SX,kX,EX,CX,MX,TX,PX=L((function(){bX=j(Hd()),cy(),mX(),vX(),wX=function(e){var t=e.value,n=e.onChange,r=e.options;return bX.default.createElement(rX,null,r.map((function(e){var r=e.label,i=e.icon,a=e.value;return bX.default.createElement(yX,{key:a,value:a,isSelected:t===a,label:r,icon:i,onClick:function(){return n(a)}})})))}})),AX=L((function(){xX=j(Hd()),nv(),Fy(),PX(),SX=tv.div(_X||(_X=U(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),gy),kX=function(e){var t=e.config;return xX.default.createElement(wX,{onChange:t.onChange,options:t.options.map((function(e){var t=e.label,n=e.value,r=e.svgSource;return{label:t,value:n,icon:xX.default.createElement(SX,{dangerouslySetInnerHTML:{__html:r}})}})),value:t.value})}})),DX=L((function(){EX=j(Hd()),nv(),Fy(),mX(),MM(),GE(),MX=tv.div(CX||(CX=U(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),gy),TX=function(e){var t=e.config,n=(0,EX.useRef)(null),r=SE((function(){var e=n.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+t.label,constraints:{maxX:e.right,maxY:8,minX:e.left,minY:8},verticalGap:2}}),(function(){return EX.default.createElement(yM,{items:t.items.map((function(e,t){return{label:e.label,callback:function(){var t;try{null==(t=e.onClick)||t.call(e)}catch(n){console.error(n)}}}})),onRequestClose:function(){r.close("clicked")}})}));return EX.default.createElement(MX,null,r.node,EX.default.createElement(uX,{ref:n,onClick:function(e){r.open(e,n.current)}},t.label))}}));var IX,RX,OX,LX,NX,zX,FX,jX,BX,UX,ZX,VX,HX,WX,GX,qX,XX,KX,YX=L((function(){$q(),hX(),IX=j(Hd()),gX(),AX(),DX(),RX=function(e){return IX.default.createElement(IX.default.Fragment,null,e.config.map((function(e,t){return IX.default.createElement(LX,{config:e,key:t})})))},OX={Icon:dX,Switch:kX,Flyout:TX},LX=function(e){var t=e.config,n=function(e){return OX[e]}(t.type);if(!n)throw new Error("No tool with tool.type ".concat(eX(t.type)," exists. Did you mean ").concat(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Did you mean ",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"?",i=(0,Qq.default)(e,t,{threshold:.7});return i?n+JSON.stringify(i)+r:""}(t.type,Object.keys(OX))));return IX.default.createElement(n,{config:t})},NX=RX})),QX=L((function(){zX=n(8458),cp(),q(),FX=j(Hd()),nv(),YX(),BX=tv.div(jX||(jX=U(["\n  height: 36px;\n  /* pointer-events: none; */\n\n  display: flex;\n  gap: 0.5rem;\n  justify-content: center;\n"]))),ZX=tv.div(UX||(UX=U(["\n  position: abolute;\n  height: 32px;\n  width: 1px;\n  background: #373b40;\n  opacity: 0.4;\n"]))),VX=function(e){var t,n=e.extension,r=e.toolbarId,i=(0,FX.useMemo)((function(){return new zX.Atom([])}),[]),a=null==(t=n.toolbars)?void 0:t[r];(0,FX.useLayoutEffect)((function(){var e=null==a?void 0:a(i.set.bind(i),W().publicApi);if("function"==typeof e)return e}),[n,r,a]);var o=np(i.prism);return FX.default.createElement(NX,{config:o})},HX=function(e){for(var t,n=e.toolbarId,r=e.showLeftDivider,i=[],a=np(W().atomP.ephemeral.extensions.byId),o=!1,s=0,u=Object.entries(a);s<u.length;s++){var l=m(u[s],2)[1];!l||null==(t=l.toolbars)||!t[n]||(i.push(FX.default.createElement(FX.default.Fragment,{key:"extensionToolbar-"+l.id},o?FX.default.createElement(ZX,null):void 0,FX.default.createElement(VX,{extension:l,toolbarId:n}))),o=!0)}return 0===i.length?null:FX.default.createElement(BX,{"data-testid":"theatre-extensionToolbar-".concat(n)},r?FX.default.createElement(ZX,null):void 0,i)}})),$X=L((function(){nv(),WX=j(Hd()),mX(),qX=tv(uX)(GX||(GX=U(["\n  color: ",";\n\n  border-bottom: 1px solid\n    ",";\n"])),(function(e){return e.pinned?"rgba(255, 255, 255, 0.8)":"#A8A8A9"}),(function(e){return e.pinned?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"})),XX=(0,WX.forwardRef)((function(e,t){var n=e,r=n.children,i=n.hint,a=n.pinned,o=n.icon,s=n.pinHintIcon,u=n.unpinHintIcon,l=O(n,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]),c=(0,WX.useState)(!1),f=m(c,2),d=f[0],p=f[1],h=d||i;return WX.default.createElement(qX,R(I({},l),{pinned:a,ref:t,onMouseOver:function(){return p(!0)},onMouseOut:function(){return p(!1)}}),WX.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},h&&!a?s:h&&a?u:o),r)})),KX=XX}));function JX(e){return eK.createElement("svg",I({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),eK.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var eK,tK,nK=L((function(){eK=j(Hd()),tK=JX}));function rK(e){return iK.createElement("svg",I({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),iK.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var iK,aK,oK,sK,uK,lK,cK,fK,dK,pK,hK,vK,mK,gK,yK,bK,wK,xK,_K,SK,kK,EK,CK,MK,TK,PK,AK,DK,IK,RK,OK,LK,NK,zK,FK,jK,BK,UK,ZK,VK,HK,WK,GK,qK,XK,KK,YK=L((function(){iK=j(Hd()),aK=rK})),QK=L((function(){cp(),q(),oK=j(Hd()),nv(),uK=tv.div(sK||(sK=U(["\n  width: 138px;\n  border-radius: 2px;\n  background-color: rgba(42, 45, 50, 0.9);\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: flex-start;\n  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  pointer-events: auto;\n  // makes the edges of the item highlights match the rounded corners\n  overflow: hidden;\n\n  @supports not (backdrop-filter: blur()) {\n    background-color: rgba(42, 45, 50, 0.98);\n  }\n\n  color: rgba(255, 255, 255, 0.9);\n\n  & a {\n    // Fix colors of links to not be default\n    color: inherit;\n  }\n"]))),cK=tv.div(lK||(lK=U(["\n  position: relative;\n  padding: 0px 12px;\n  font-weight: 400;\n  font-size: 11px;\n  height: 32px;\n  text-decoration: none;\n  user-select: none;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: default;\n"]))),dK=tv(cK)(fK||(fK=U(["\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    inset: 3px;\n    border-radius: 3px;\n    background: rgba(255, 255, 255, 0.1);\n    opacity: 0;\n  }\n\n  &.secondary {\n    color: rgba(255, 255, 255, 0.5);\n  }\n\n  &:hover {\n    /* background-color: #398995; */\n    color: white !important;\n    &:before {\n      opacity: 1;\n    }\n  }\n"]))),hK=tv(cK)(pK||(pK=U(["\n  height: auto;\n  min-height: 32px;\n  padding-top: 12px;\n  padding-bottom: 10px;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  gap: 8px;\n  color: rgba(255, 255, 255, 0.5);\n"]))),mK=tv.div(vK||(vK=U(["\n  font-weight: 600;\n"]))),yK=tv.div(gK||(gK=U(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),wK=tv.div(bK||(bK=U(["\n  margin-left: 2px;\n"]))),_K=tv.div(xK||(xK=U(["\n  height: 1px;\n  margin: 0 2px;\n  background: rgba(255, 255, 255, 0.02);\n"]))),kK=tv.div(SK||(SK=U(["\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background: #40aaa4;\n  right: 14px;\n  top: 12px;\n  border-radius: 50%;\n"]))),CK=(EK="0.7.0").match(/^[^\-]+/)[0],MK=oK.default.forwardRef((function(e,t){var n=np(W().atomP.ahistoric.updateChecker.result.hasUpdates);return oK.default.createElement(uK,{ref:t},oK.default.createElement(dK,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),oK.default.createElement(dK,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),oK.default.createElement(_K,null),oK.default.createElement(dK,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),oK.default.createElement(dK,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),oK.default.createElement(dK,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),oK.default.createElement(_K,null),oK.default.createElement(hK,null,oK.default.createElement(mK,null,"Version"),oK.default.createElement(yK,null,oK.default.createElement(wK,null,EK," ",!0===n?"(outdated)":!1===n?"(latest)":""))),!0===n&&oK.default.createElement(oK.default.Fragment,null,oK.default.createElement(_K,null),oK.default.createElement(dK,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(CK)),className:"",target:"_blank"},"Update",oK.default.createElement(kK,null)),oK.default.createElement(dK,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(CK)),className:"",target:"_blank"},"What's new?")))})),TK=MK})),$K=L((function(){cp(),q(),PK=j(Hd()),nv(),TD(),Xq(),PD(),AK=n(8458),QX(),$X(),Rb(),nK(),YK(),mX(),GE(),QK(),eR(),IK=tv.div(DK||(DK=U(["\n  height: 36px;\n  pointer-events: none;\n\n  display: flex;\n  justify-content: space-between;\n  padding: 12px;\n"]))),OK=tv.div(RK||(RK=U(["\n  color: white;\n  width: 14px;\n  height: 14px;\n  background: #d00;\n  border-radius: 4px;\n  text-align: center;\n  line-height: 14px;\n  font-weight: 600;\n  font-size: 8px;\n  position: relative;\n  left: -6px;\n  top: -11px;\n  margin-right: -14px;\n  box-shadow: 0 4px 6px -4px #00000059;\n"]))),NK=tv.div(LK||(LK=U(["\n  display: flex;\n  gap: 8px;\n"]))),FK=tv.div(zK||(zK=U(["\n  position: absolute;\n  background: ",";\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  right: -2px;\n  top: -2px;\n"])),(function(e){return"info"===e.type?"#40aaa4":"#f59e0b"})),tv.div(jK||(jK=U(["\n  position: absolute;\n  height: 32px;\n  width: 1px;\n  background: #373b40;\n  opacity: 0.4;\n"]))),BK=!1,UK=function(){var e,t,n,r=Kd((function(){var e=(0,AK.val)(W().atomP.ephemeral.coreByProject);return Object.entries(e).map((function(e){var t=m(e,2);return{projectId:t[0],state:t[1]}})).filter((function(e){return"browserStateIsNotBasedOnDiskState"===e.state.loadingState.type}))}),[]),i=VA({enabled:r.length>0,enterDelay:r.length>0?0:200},(function(){return r.length>0?PK.default.createElement(Uq,null,1===r.length?'There is a state conflict in project "'.concat(r[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(r.length," projects that have state conflicts. They are highlighted in the outline below. ")):PK.default.createElement(YA,null,PK.default.createElement(PK.default.Fragment,null,"Outline"))})),a=m(i,2),o=a[0],s=a[1],u=null==(e=np(W().atomP.ahistoric.pinOutline))||e,l=null==(t=np(W().atomP.ahistoric.pinDetails))||t,c=!0===np(W().atomP.ahistoric.updateChecker.result.hasUpdates),f=SE((function(){var e=d.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:e.right,maxY:8,minX:e.left-140,minY:8},verticalGap:2}}),(function(){return PK.default.createElement(TK,null)})),d=(0,PK.useRef)(null),p=(0,PK.useMemo)((function(){return window.__IS_VISUAL_REGRESSION_TESTING&&(BK||(BK=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),!(!c&&!window.__IS_VISUAL_REGRESSION_TESTING)||c}),[c]),h=QI().hasNotifications,v=KI(),g=m(v,2),y=g[0],b=g[1];return PK.default.createElement(IK,null,PK.default.createElement(NK,null,o,PK.default.createElement(KX,{ref:s,"data-testid":"OutlinePanel-TriggerButton",onClick:function(){W().transaction((function(e){var t,n=e.stateEditors,r=e.drafts;n.studio.ahistoric.setPinOutline(!(null==(t=r.ahistoric.pinOutline)||t))}))},icon:PK.default.createElement(Vy,null),pinHintIcon:PK.default.createElement(aK,null),unpinHintIcon:PK.default.createElement(tK,null),pinned:u}),r.length>0?PK.default.createElement(OK,null,r.length):null,PK.default.createElement(HX,{showLeftDivider:!0,toolbarId:"global"})),PK.default.createElement(NK,null,y,PK.default.createElement(KX,{ref:b,onClick:function(){W().transaction((function(e){var t,n=e.stateEditors,r=e.drafts;n.studio.ahistoric.setPinNotifications(!(null!=(t=r.ahistoric.pinNotifications)&&t))}))},icon:PK.default.createElement(lb,null),pinHintIcon:PK.default.createElement(lb,null),unpinHintIcon:PK.default.createElement(lb,null),pinned:null!=(n=np(W().atomP.ahistoric.pinNotifications))&&n},h&&PK.default.createElement(FK,{type:"warning"})),f.node,PK.default.createElement(uX,{ref:d,onClick:function(e){f.toggle(e,d.current)}},PK.default.createElement(tb,null),p&&PK.default.createElement(FK,{type:"info"})),PK.default.createElement(KX,{ref:s,onClick:function(){W().transaction((function(e){var t,n=e.stateEditors,r=e.drafts;n.studio.ahistoric.setPinDetails(!(null==(t=r.ahistoric.pinDetails)||t))}))},icon:PK.default.createElement(Qy,null),pinHintIcon:PK.default.createElement(tK,null),unpinHintIcon:PK.default.createElement(aK,null),pinned:l})))}})),JK=L((function(){ZK=n(8458),cp(),VK=j(Hd()),HK=j(Xd()),WK=new ZK.Atom({set:{},byId:{}}),GK=1,qK=function(){var e=GK++;return{mountOrRender:function(t,n,r){WK.reduce((function(i){return{byId:R(I({},i.byId),p({},e,{comp:t,props:n,portalNode:r})),set:R(I({},i.set),p({},e,!0))}}))},unmount:function(){WK.reduce((function(t){var n=I({},t.set),r=I({},t.byId);return delete n[e],{byId:r,set:n}}))}}},XK=function(){var e=Object.keys(np(WK.pointer.set));return VK.default.createElement(VK.default.Fragment,null,e.map((function(e){return VK.default.createElement(KK,{key:"id-"+e,id:e})})))},KK=function(e){var t=e.id,n=np(WK.pointer.byId[t]),r=n.comp,i=n.portalNode,a=n.props;return(0,HK.createPortal)(VK.default.createElement(r,I({},a)),i)}}));function eY(e){var t=W(),n=fy(void 0),r=m(n,2),i=r[0],a=r[1],o=UV();o.configureLogging({min:128,dev:uY,internal:uY});var s=o.getLogger().named("Theatre.js UIRoot");yG();var u=np(t.atomP.ahistoric.visibilityState);return(0,nY.useEffect)((function(){return"everythingIsHidden"===u&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),function(){}}),[u]),Kd((function(){var n=(0,tY.val)(t.atomP.ahistoric.visibilityState);return(0,tY.val)(t.atomP.ephemeral.initialised)?nY.default.createElement(mx,{logger:s},nY.default.createElement(BA,null,nY.default.createElement(xx,null,nY.default.createElement(lY,null),nY.default.createElement(oy.Provider,{value:a},nY.default.createElement(Sy,{target:!0===window.__IS_VISUAL_REGRESSION_TESTING?void 0:e.containerShadow},nY.default.createElement(nY.default.Fragment,null,nY.default.createElement(iY,null),nY.default.createElement(oY,{className:"everythingIsHidden"===n?"invisible":""},nY.default.createElement(_y,{ref:i}),nY.default.createElement(UK,null),nY.default.createElement(Fq,null),nY.default.createElement(YI,null)))))))):null}),[t,i,a])}var tY,nY,rY,iY,aY,oY,sY,uY,lY,cY=L((function(){q(),cp(),tY=n(8458),nY=j(Hd()),nv(),qq(),$K(),py(),cy(),kG(),vx(),ZA(),Mx(),JK(),Fy(),tH(),wx(),eR(),iY="undefined"!=typeof window?Xp(rY||(rY=U(["\n  :host {\n    contain: strict;\n  }\n"]))):{},oY=tv(px)(aY||(aY=U(["\n  z-index: 50;\n  position: fixed;\n  inset: 0;\n\n  &.invisible {\n    pointer-events: none !important;\n    opacity: 0;\n    transform: translateX(1000000px);\n  }\n"]))),uY=/Playground.+Theatre\.js/.test(null!=(sY="undefined"!=typeof document?null==document?void 0:document.title:null)?sY:""),lY=function(){return nY.default.createElement(XK,null)}})),fY=N((function(e){var t=Xd();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot})),dY={};z(dY,{default:function(){return vY}});var pY,hY,vY,mY,gY=L((function(){cY(),pY=j(Hd()),hY=j(fY()),JK(),Fy(),QX(),vY=function(){function e(){var t=this;s(this,e),B(this,"containerEl",document.createElement("div")),B(this,"_renderTimeout"),B(this,"_documentBodyUIIsRenderedIn"),B(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText="\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      z-index: 100;\n    ";this.containerShadow=function(){if(!0===window.__IS_VISUAL_REGRESSION_TESTING){var e=document.createElement("div");return e.id="theatrejs-faux-shadow-root",document.body.appendChild(e),e}return t.containerEl.attachShadow({mode:"open"})}()}return o(e,[{key:"render",value:function(){var e=this;this._renderTimeout=setTimeout((function t(){document.body?(e._renderTimeout=void 0,e._documentBodyUIIsRenderedIn=document.body,e._documentBodyUIIsRenderedIn.appendChild(e.containerEl),hY.default.createRoot(e.containerShadow).render(pY.default.createElement(eY,{containerShadow:e.containerShadow}))):e._renderTimeout=setTimeout(t,5)}),10)}},{key:"renderToolset",value:function(e,t){var n,r=qK();return r.mountOrRender((n=HX,function(e){return hy.default.createElement(ky,null,hy.default.createElement(n,I({},e)))}),{toolbarId:e},t),r.unmount}}]),e}()})),yY=N((function(e){function t(e,t,n,r,i,a){return t[i+r]===n[a+r]?{value:e[a+1][i+1].value,type:0}:e[a][i+1].value<e[a+1][i].value?{value:e[a][i+1].value+1,type:-1}:{value:e[a+1][i].value+1,type:1}}e.compare=function(e,n){for(var r=e.length,i=n.length,a=function(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r&&e[n]===t[n];)++n;return n}(e,n),o=a<r&&a<i?function(e,t){for(var n=e.length-1,r=t.length-1,i=Math.min(n,r),a=0;a<i&&e[n-a]===t[r-a];)++a;return a}(e,n):0,s=o+a-1,u=function(e,t){var n,r,i,a=[];for(i=a[t]=[],r=0;r<e;++r)i[r]={value:e-r,type:-1};for(n=0;n<t;++n)a[n]=[],a[n][e]={value:t-n,type:1};return a[t][e]={value:0,type:0},a}(r-=s,i-=s),l=r-1;l>=0;--l)for(var c=i-1;c>=0;--c)u[c][l]=t(u,e,n,a,l,c);return{prefix:a,matrix:u,suffix:o}},e.reduce=function(e,t,n){var r,i,a,o,s=n.matrix,u=n.prefix;for(r=0;r<u;++r)t=e(t,0,r,r);for(a=r,u=s.length,r=0,i=0;r<u;)switch(o=s[r][i].type,t=e(t,o,r+a,i+a),o){case 0:++r,++i;break;case-1:++i;break;case 1:++r}for(r+=a,i+=a,u=n.suffix,a=0;a<u;++a)t=e(t,0,r+a,i+a);return t},e.REMOVE=-1,e.ADD=1,e.EQUAL=0})),bY=N((function(e){e.cons=function(e,t){var n=t.length,r=new Array(n+1);r[0]=e;for(var i=0;i<n;++i)r[i+1]=t[i];return r},e.tail=function(e){for(var t=e.length-1,n=new Array(t),r=0;r<t;++r)n[r]=e[r+1];return n},e.map=function(e,t){for(var n=new Array(t.length),r=0;r<t.length;++r)n[r]=e(t[r]);return n}})),wY=N((function(e,t){t.exports=function(e,t){var r,i,a,o;for(r="/"===e.charAt(0)?1:0,i="",n.lastIndex=r;a=n.exec(e);)if(o=a[0],i+=e.slice(r,n.lastIndex-o.length),r=n.lastIndex,"/"===o){if(!1===t(i))return e;i=""}else i+="~1"===o?"/":"~";return i+=e.slice(r),t(i),e};var n=/\/|~1|~0/g})),xY=N((function(e){var t=wY();e.find=function(e,r,i,a){if("string"==typeof r){if(""===r)return{target:e,key:void 0};if(r===n)return{target:e,key:""};var o,s=e,u=void 0!==a;return t(r,(function(t){if(null==e)return s=null,!1;o=Array.isArray(e)?u?function(e,t,n,r){var i=t;if(i<0)throw new Error("array index out of bounds "+i);if(void 0!==r&&"function"==typeof e&&(i=e(t,n,r))<0)throw new Error("could not find patch context "+r);return i}(i,l(t),e,a):"-"===t?t:l(t):t,s=e,e=e[o]})),null===s?void 0:{target:s,key:o}}},e.join=function(e){return e.join(n)},e.absolute=function(e){return e[0]===n?e:n+e},e.parse=function(e){var n=[];return t(e,n.push.bind(n)),n},e.contains=function(e,t){return 0===t.indexOf(e)&&t[e.length]===n},e.encodeSegment=function(e){return e.replace(a,"~0").replace(r,"~1")},e.decodeSegment=function(e){return e.replace(i,n).replace(o,"~")},e.parseArrayIndex=l,e.isValidArrayIndex=u;var n="/",r=/\//g,i=/~1/g,a=/~/g,o=/~0/g;var s=/^(0|[1-9]\d*)$/;function u(e){return s.test(e)}function l(e){if(u(e))return+e;throw new SyntaxError("invalid array index "+e)}})),_Y=N((function(e,t){function n(e){return null==e||"object"!=typeof e?e:Array.isArray(e)?function(e){for(var t=e.length,r=new Array(t),i=0;i<t;++i)r[i]=n(e[i]);return r}(e):function(e){for(var t,r=Object.keys(e),i={},a=0,o=r.length;a<o;++a)i[t=r[a]]=n(e[t]);return i}(e)}t.exports=n})),SY=N((function(e,t){function n(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(e,t):"object"==typeof e&&"object"==typeof t&&function(e,t){if(null===e&&null!==t||null!==e&&null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a,o=0;o<r.length;++o)if(!((a=r[o])in t)||!n(e[a],t[a]))return!1;return!0}(e,t))}t.exports=n})),kY=N((function(e,t){var n=xY();function r(e,t,n,r,i){var a=t.length-1,o=+t[a],s=+r[a],u=r.slice();return o>s||("add"===e.op||"copy"===e.op?u[a]=Math.max(0,s-i):"remove"===e.op&&(u[a]=Math.max(0,s+i))),u}function i(e){return"remove"===e.op?{op:e.op,path:e.path}:"copy"===e.op||"move"===e.op?{op:e.op,path:e.path,from:e.from}:{op:e.op,path:e.path,value:e.value}}t.exports=function(e,t){var a=n.parse(e.path),o=n.parse(t.path),s=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||n<2&&r<2)return[];for(var i=n===r?n-1:Math.min(n,r),a=0;a<i&&e[a]===t[a];)++a;return e.slice(0,a)}(a,o),u=function(e,t,r){return n.isValidArrayIndex(e[r])&&n.isValidArrayIndex(t[r])}(a,o,s.length),l=i(e),c=i(t);return 0!==s.length||u?u?function(e,t,i,a){return t.length===a.length?function(e,t,r,i){var a,o=t.length-1,s=+t[o],u=+i[o];return s<u?"add"===e.op||"copy"===e.op?((a=i.slice())[o]=Math.max(0,u-1),r.path=n.absolute(n.join(a))):"remove"===e.op&&((a=i.slice())[o]=u+1,r.path=n.absolute(n.join(a))):"add"===r.op||"copy"===r.op?((a=t.slice())[o]=s+1,e.path=n.absolute(n.join(a))):s>u&&"remove"===r.op&&((a=t.slice())[o]=Math.max(0,s-1),e.path=n.absolute(n.join(a))),[r,e]}(e,t,i,a):(t.length>a.length?(t=r(i,a,e,t,-1),e.path=n.absolute(n.join(t))):(a=r(e,t,i,a,1),i.path=n.absolute(n.join(a))),[i,e])}(l,a,c,o):function(e,t,n,r){if(e.path===n.path)throw new TypeError("cannot commute "+e.op+","+n.op+" with identical object paths");return[n,e]}(l,0,c):[c,l]}})),EY=N((function(e,t){function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n})),CY=N((function(e,t){function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n})),MY=N((function(e,t){function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n})),TY=N((function(e){var t=xY(),n=_Y(),r=SY(),i=kY(),a=bY(),o=EY(),s=CY(),u=MY(),l=t.find,c=t.parseArrayIndex;function f(e,t){var n=e.target;if(Array.isArray(n))if("-"===e.key)n.push(t);else{if(e.key>n.length)throw new s("target of add outside of array bounds");n.splice(e.key,0,t)}else{if(!m(n))throw new s("target of add must be an object or array "+e.key);n[e.key]=t}}function d(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute add,remove -> remove,add for same path");return i(e,t)}function p(e){var t,n=e.target;if(Array.isArray(n))return(t=n.splice(c(e.key),1))[0];if(m(n))return t=n[e.key],delete n[e.key],t;throw new s("target of remove must be an object or array")}function h(e){return void 0===e||null==e.target&&void 0!==e.key}function v(e){return void 0!==e.key&&void 0===e.target[e.key]}function m(e){return null!==e&&"object"==typeof e}e.test={apply:function(e,t,n){var i,a,s=l(e,t.path,n.findContext,t.context),u=s.target;if(Array.isArray(u)?(i=c(s.key),a=u[i]):a=void 0===s.key?s.target:s.target[s.key],!r(a,t.value))throw new o("test failed "+JSON.stringify(t));return e},inverse:function(e,t){return e.push(t),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute test,remove -> remove,test for same path");return"test"===t.op||"replace"===t.op?[t,e]:i(e,t)}},e.add={apply:function(e,t,r){var i=l(e,t.path,r.findContext,t.context);if(h(i))throw new s("path does not exist "+t.path);if(void 0===t.value)throw new s("missing value");var a=n(t.value);return void 0===i.key?a:(f(i,a),e)},inverse:function(e,t){var n=t.context;return void 0!==n&&(n={before:n.before,after:a.cons(t.value,n.after)}),e.push({op:"test",path:t.path,value:t.value,context:n}),e.push({op:"remove",path:t.path,context:n}),1},commute:d},e.remove={apply:function(e,t,n){var r=l(e,t.path,n.findContext,t.context);if(h(r)||void 0===r.target[r.key])throw new s("path does not exist "+t.path);return p(r),e},inverse:function(e,t,n,r){var i=r[n-1];if(void 0===i||"test"!==i.op||i.path!==t.path)throw new u("cannot invert remove w/o test");var o=i.context;return void 0!==o&&(o={before:o.before,after:a.tail(o.after)}),e.push({op:"add",path:i.path,value:i.value,context:o}),2},commute:function(e,t){return e.path===t.path&&"remove"===t.op?[t,e]:i(e,t)}},e.replace={apply:function(e,t,r){var i=l(e,t.path,r.findContext,t.context);if(h(i)||v(i))throw new s("path does not exist "+t.path);if(void 0===t.value)throw new s("missing value");var a=n(t.value);if(void 0===i.key)return a;var o=i.target;return Array.isArray(o)?o[c(i.key)]=a:o[i.key]=a,e},inverse:function(e,t,n,r){var i=r[n-1];if(void 0===i||"test"!==i.op||i.path!==t.path)throw new u("cannot invert replace w/o test");var o=i.context;return void 0!==o&&(o={before:o.before,after:a.cons(i.value,a.tail(o.after))}),e.push({op:"test",path:i.path,value:t.value}),e.push({op:"replace",path:i.path,value:i.value}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return"test"===t.op||"replace"===t.op?[t,e]:i(e,t)}},e.move={apply:function(e,n,r){if(t.contains(n.path,n.from))throw new s("move.from cannot be ancestor of move.path");var i=l(e,n.path,r.findContext,n.context),a=l(e,n.from,r.findContext,n.fromContext);return f(i,p(a)),e},inverse:function(e,t){return e.push({op:"move",path:t.from,context:t.fromContext,from:t.path,fromContext:t.context}),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute move,remove -> move,replace for same path");return i(e,t)}},e.copy={apply:function(e,t,r){var i=l(e,t.path,r.findContext,t.context),a=l(e,t.from,r.findContext,t.fromContext);if(h(a)||v(a))throw new s("copy.from must exist");var o,u=a.target;return o=Array.isArray(u)?u[c(a.key)]:u[a.key],f(i,n(o)),e},inverse:function(e,t){throw new u("cannot invert "+t.op)},commute:d}})),PY=N((function(e){var t=TY(),n=_Y(),r=CY();e.apply=function(e,t,r){return a(e,n(t),r)},e.applyInPlace=a,e.clone=n,e.isValidObject=o,e.defaultHash=function(e){return o(e)||function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)?JSON.stringify(e):e};var i={};function a(e,n,a){if(a||(a=i),!Array.isArray(e))return n;for(var o,s,u=0;u<e.length;++u){if(s=e[u],void 0===(o=t[s.op]))throw new r("invalid op "+JSON.stringify(s));n=o.apply(n,s,a)}return n}function o(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}})),AY=N((function(e,t){var n=TY();function r(e,t,r,i){var a=n[t.op];return void 0!==a&&"function"==typeof a.inverse?a.inverse(e,t,r,i):1}t.exports=function(e){var t,n,i=[];for(t=e.length-1;t>=0;t-=n)n=r(i,e[t],t,e);return i}})),DY=N((function(e){var t=yY(),n=bY(),r=PY(),i=AY(),a=xY().encodeSegment;e.diff=function(e,t,n){return u(e,t,"",function(e,t){return"object"==typeof e?{patch:t,hash:l(f,e.hash,s),makeContext:l(f,e.makeContext,c),invertible:!1!==e.invertible}:{patch:t,hash:l(f,e,s),makeContext:c,invertible:!0}}(n,[])).patch},e.patch=r.apply,e.patchInPlace=r.applyInPlace,e.inverse=i,e.clone=r.clone,e.InvalidPatchOperationError=CY(),e.TestFailedError=EY(),e.PatchNotInvertibleError=MY();var o=r.isValidObject,s=r.defaultHash;function u(e,r,i,s){return Array.isArray(e)&&Array.isArray(r)?function(e,r,i,a){var o=n.map(a.hash,e),s=n.map(a.hash,r),l=t.compare(o,s);return function(e,n,r,i,a){var o=0;return t.reduce((function(i,a,s,l){var c,f,d=i.patch,p=r+"/"+(l+o);return a===t.REMOVE?(c=d[d.length-1],f=i.makeContext(l,e),i.invertible&&d.push({op:"test",path:p,value:e[l],context:f}),void 0!==c&&"add"===c.op&&c.path===p?(c.op="replace",c.context=f):d.push({op:"remove",path:p,context:f}),o-=1):a===t.ADD?(d.push({op:"add",path:p,value:n[s],context:i.makeContext(l,e)}),o+=1):u(e[l],n[s],p,i),i}),i,a)}(e,r,i,a,l)}(e,r,i,s):o(e)&&o(r)?function(e,t,n,r){var i,o,s=Object.keys(t),l=r.patch;for(i=s.length-1;i>=0;--i){o=s[i];var c=n+"/"+a(o);void 0!==e[o]?u(e[o],t[o],c,r):l.push({op:"add",path:c,value:t[o]})}for(s=Object.keys(e),i=s.length-1;i>=0;--i)if(void 0===t[o=s[i]]){var f=n+"/"+a(o);r.invertible&&l.push({op:"test",path:f,value:e[o]}),l.push({op:"remove",path:f})}return r}(e,r,i,s):function(e,t,n,r){return e!==t&&(r.invertible&&r.patch.push({op:"test",path:n,value:e}),r.patch.push({op:"replace",path:n,value:t})),r}(e,r,i,s)}function l(e,t,n){return e(t)?t:n}function c(){}function f(e){return"function"==typeof e}})),IY=N((function(e,t){t.exports=function(e,t){for(var n=0,r=t.length-1;n<r;n++){if(!e[t[n]])return null;e=e[t[n]]}return e}})),RY=N((function(e,t){function n(e){return"~0"===e?"~":"/"}t.exports=function(e){var t=e.split("/");if(-1===e.indexOf("~"))return t;for(var r=0,i=t.length;r<i;r++)-1!==t[r].indexOf("~")&&(t[r]=t[r].replace(/~[01]/g,n));return t}})),OY=N((function(e,t){var n=IY(),r=RY();t.exports=function(e,t){var i=r(t),a=i[i.length-1],o=n(e,i);return o?o[a]:void 0}})),LY=N((function(e,t){t.exports=function e(t,n){if(t===n)return!0;if(!t||!n||"object"!=typeof t||"object"!=typeof n||t.length!==n.length)return!1;if(Array.isArray(t)){if(!Array.isArray(n))return!1;for(var r=0,i=t.length;r<i;r++)if(!e(t[r],n[r]))return!1;return!0}var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;for(var o=0,s=a.length;o<s;o++){var u=a[o];if(!e(t[u],n[u]))return!1}return!0}})),NY=N((function(e,t){t.exports=function(e,t){if("-"===t)return e.length;for(var n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);if(57<i||i<48)return 1/0}return+t}})),zY=N((function(e,t){var n=LY(),r=IY(),i=NY(),a=RY();t.exports=function(e,t,o,s){if("undefined"==typeof o)return"[op:add] require value, but got undefined";var u=a(t),l=u[u.length-1],c=r(e,u);if(null===c)return"[op:add] path not found: "+t;if(Array.isArray(c)){var f=i(c,l);if(c.length<f)return"[op:add] invalid array index: "+t;s(e,u).splice(f,0,o)}else n(c[l],o)||(s(e,u)[l]=o)}})),FY=N((function(e,t){var n=IY(),r=NY(),i=RY();t.exports=function(e,t,a){var o=i(t),s=o[o.length-1],u=n(e,o);if(null===u)return"[op:remove] path not found: "+t;if(Array.isArray(u)){var l=r(u,s);if(u.length<=l)return"[op:remove] invalid array index: "+t;a(e,o).splice(l,1)}else delete a(e,o)[s]}})),jY=N((function(e,t){var n=LY(),r=IY(),i=NY(),a=RY();t.exports=function(e,t,o,s){if("undefined"==typeof o)return"[op:replace] require value, but got undefined";var u=a(t),l=u[u.length-1],c=r(e,u);if(null===c)return"[op:replace] path not found: "+t;if(Array.isArray(c)){var f=i(c,l);if(c.length<=f)return"[op:replace] invalid array index: "+t;n(c[f],o)||s(e,u).splice(f,1,o)}else n(c[l],o)||(s(e,u)[l]=o)}})),BY=N((function(e,t){var n=zY(),r=IY(),i=NY(),a=RY();t.exports=function(e,t,o,s){if(o!==t){var u=a(t),l=u[u.length-1],c=r(e,u);if(null===c)return"[op:move] path not found: "+t;var f=void 0;if(Array.isArray(c)){var d=i(c,l);if(c.length<=d)return"[op:move] invalid array index: "+o;f=c[d],s(e,u).splice(d,1)}else f=c[l],delete s(e,u)[l];return n(e,o,f,s)}}})),UY=N((function(e,t){var n=IY(),r=RY(),i=zY();t.exports=function(e,t,a,o){var s=r(t),u=s[s.length-1],l=n(e,s);return null===l?"[op:copy] path not found: "+t:i(e,a,l[u],o)}})),ZY=N((function(e,t){var n=LY(),r=IY(),i=RY();t.exports=function(e,t,a){var o=i(t),s=o[o.length-1],u=r(e,o);return null===u?"[op:test] path not found: "+t:n(u[s],a)?void 0:"[op:test] not matched: "+JSON.stringify(u[s])+" "+JSON.stringify(a)}})),VY=N((function(e,t){t.exports=function(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e[r];return n}for(var i=Object.keys(e),a={},o=0,s=i.length;o<s;o++){var u=i[o];a[u]=e[u]}return a}})),HY=N((function(e,t){var n=OY(),r=zY(),i=FY(),a=jY(),o=BY(),s=UY(),u=ZY(),l=LY(),c=VY(),f=RY();t.exports=function(e,t){return{get:function(t){return n(e,t)},add:function(n,i){return r(e,n,i,t)},remove:function(n){return i(e,n,t)},replace:function(n,r){return a(e,n,r,t)},move:function(n,r){return o(e,n,r,t)},copy:function(n,r){return s(e,n,r,t)},test:function(t,n){return u(e,t,n)},deepEqual:l,shallowCopy:c,toKeys:f}}})),WY=N((function(e,t){t.exports=function(e,t,n,r){return r.error=n,r.partial?t[""]:e}})),GY=N((function(e,t){t.exports=function(e){return!!e}})),qY=N((function(e,t){t.exports=function(e){if(e)throw new TypeError(e)}})),XY=N((function(e,t){var n=VY();t.exports=function(e,t){for(var r=0,i=t.length-1;r<i;r++)e=e[t[r]]=n(e[t[r]]);return e}})),KY=N((function(e,t){var n=VY();function r(e,t,r){var i=e[t];return r.has(i)||(i=n(i),r.add(i)),i}t.exports=function(e,t,n){for(var i=0,a=t.length-1;i<a;i++)e=e[t[i]]=r(e,t[i],n);return e}})),YY=N((function(e,t){var n=HY(),r=WY(),i=GY(),a=qY(),o=XY(),s=KY(),u=zY(),l=FY(),c=jY(),f=BY(),d=UY(),p=ZY(),h=Set||function(){var e=[];return e.has=function(e){return-1!==this.indexOf(e)},e.add=function(e){this.push(e)},e};t.exports=function(e,t,v){if(0===t.length)return e;for(var m,g=(v=v||{}).strict?a:i,y=1===t.length?o:function(e){return function(t,n){return s(t,n,e)}}(new h),b={"":e},w=0,x=t.length;w<x;w++){var _=t[w];switch(_.op){case"add":if(g(u(b,""+_.path,_.value,y)))return r(e,b,_,v);break;case"remove":if(g(l(b,""+_.path,y)))return r(e,b,_,v);break;case"replace":if(g(c(b,""+_.path,_.value,y)))return r(e,b,_,v);break;case"move":if(g(f(b,""+_.from,""+_.path,y)))return r(e,b,_,v);break;case"copy":if(g(d(b,""+_.from,""+_.path,y)))return r(e,b,_,v);break;case"test":if(g(p(b,""+_.path,_.value)))return r(e,b,_,v);break;default:if(!v.custom||!v.custom[_.op])return g("[op:"+_.op+"] unknown"),r(e,b,_,v);if(m=m||n(b,y),g(v.custom[_.op](m,_,w,t)))return r(e,b,_,v)}}return b[""]}})),QY=N((function(e,t){t.exports=YY()})),$Y=N((function(n,u){var l;window,l=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._messageId=1,n._messages=new Map,n._worker=e,n._worker.onmessage=n._onMessage.bind(n),n._id=Math.ceil(1e7*Math.random()),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return 0===this._messages.size}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments[3];return new Promise((function(a,o){var s=n._messageId++;n._messages.set(s,[a,o,i]),n._worker.postMessage([s,t,e],r||[])}))}},{key:"postMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2];return new Promise((function(i,a){var o=t._messageId++;t._messages.set(o,[i,a,r]),t._worker.postMessage([o,e],n||[])}))}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._worker.postMessage({eventName:e,args:n})}},{key:"_onMessage",value:function(e){var n;if(!Array.isArray(e.data)&&e.data.eventName)return(n=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(n,[this,e.data.eventName].concat(a(e.data.args)));var r,i=(r=e.data,Array.isArray(r)?r:Array.from(r)),o=i[0],s=i.slice(1);if(1===o)this._onEvent.apply(this,a(s));else{if(0!==o)throw new Error("Wrong message type '"+o+"'");this._onResult.apply(this,a(s))}}},{key:"_onResult",value:function(e,t,n){var i=this._messages.get(e),a=r(i,2),o=a[0],s=a[1];return this._messages.delete(e),1===t?o(n):s(n)}},{key:"_onEvent",value:function(e,t,n){var i=this._messages.get(e),a=r(i,3)[2];a&&a(t,n)}}]),t}(n(2));e.exports=o},function(e,t,n){e.exports=function(){return n(3)('!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);',null)}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return r(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!0,a=!1,o=void 0;try{for(var s,u=this.__listeners[e][Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;l.apply(void 0,n)}}catch(c){a=!0,o=c}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}return this}},{key:"once",value:function(e,t){var n=this;return this.on(e,(function r(){n.off(e,r),t.apply(void 0,arguments)}))}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=i},function(e,t,n){var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(i){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(i){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(i){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},function(e,t,n){n.r(t);var r=n(0),i=n.n(r),a=n(1),u=n.n(a);n.d(t,"workersEnabled",(function(){return l})),n.d(t,"default",(function(){return c}));var l=!!window.Worker,c=function(){function e(){s(this,e)}return o(e,null,[{key:"toBinaryStringWithWorker",value:function(e,t){return Z(this,null,d().mark((function n(){var r,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new i.a(new u.a),n.next=3,r.exec("binary",{blob:e,chunk:t});case 3:return a=n.sent,n.abrupt("return",(r.terminate(),a));case 5:case"end":return n.stop()}}),n)})))}},{key:"toBinaryStringWithoutWorker",value:function(e,t){return n=e,r=t,new Promise((function(e,t){var i=new FileReader,a=r?Math.min(r,n.size):n.size,o=n.slice(0,a);i.onload=function(){return e(i.result)},i.onerror=t,i.readAsBinaryString(o)}));var n,r}},{key:"toBinaryString",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n&&l?this.toBinaryStringWithWorker(e,t):this.toBinaryStringWithoutWorker(e,t)}},{key:"toArrayBufferWithWorker",value:function(e,t){return Z(this,null,d().mark((function n(){var r,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new i.a(new u.a),n.next=3,r.exec("buffer",{blob:e,chunk:t});case 3:return a=n.sent,n.abrupt("return",(r.terminate(),a));case 5:case"end":return n.stop()}}),n)})))}},{key:"toArrayBufferWithoutWorker",value:function(e,t){return n=e,r=t,new Promise((function(e,t){var i=new FileReader,a=r?Math.min(r,n.size):n.size,o=n.slice(0,a);i.onload=function(){return e(i.result)},i.onerror=t,i.readAsArrayBuffer(o)}));var n,r}},{key:"toArrayBuffer",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n&&l?this.toArrayBufferWithWorker(e,t):this.toArrayBufferWithoutWorker(e,t)}},{key:"compareBuffersWithWorker",value:function(e,t){return Z(this,null,d().mark((function n(){var r,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e!==t){n.next=2;break}return n.abrupt("return",!0);case 2:return r=new i.a(new u.a),n.next=5,r.exec("compare",{buf1:e,buf2:t},[e,t]);case 5:return a=n.sent,n.abrupt("return",(r.terminate(),a));case 7:case"end":return n.stop()}}),n)})))}},{key:"compareBuffersWithoutWorker",value:function(e,t){return function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),r=new DataView(t),i=e.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}(e,t)}},{key:"compareBuffers",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n&&l?this.compareBuffersWithWorker(e,t):this.compareBuffersWithoutWorker(e,t)}},{key:"sizeEqual",value:function(e,t){return e.size===t.size}},{key:"typeEqual",value:function(e,t){return e.type===t.type}},{key:"magicNumbersEqual",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Z(this,null,d().mark((function r(){var i,a,o,s,u,l,c,f;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e!==t){r.next=2;break}return r.abrupt("return",!0);case 2:return i=[24,16,14,12,8,6,4],r.next=5,Promise.all([this.toBinaryString(e,24,n),this.toBinaryString(t,24,n)]);case 5:a=r.sent,o=m(a,2),s=o[0],u=o[1],l=0,c=i;case 10:if(!(l<c.length)){r.next=17;break}if(f=c[l],s.substring(0,f)!==u.substring(0,f)){r.next=14;break}return r.abrupt("return",!0);case 14:l++,r.next=10;break;case 17:return r.abrupt("return",!1);case 18:case"end":return r.stop()}}),r,this)})))}},{key:"bytesEqualWithBinaryString",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Z(this,null,d().mark((function i(){var a,o,s,u;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e!==t){i.next=2;break}return i.abrupt("return",!0);case 2:return i.next=4,Promise.all([this.toBinaryString(e,n,r),this.toBinaryString(t,n,r)]);case 4:return a=i.sent,o=m(a,2),s=o[0],u=o[1],i.abrupt("return",s===u);case 9:case"end":return i.stop()}}),i,this)})))}},{key:"bytesEqualWithArrayBuffer",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Z(this,null,d().mark((function i(){var a,o,s,u;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e!==t){i.next=2;break}return i.abrupt("return",!0);case 2:return i.next=4,Promise.all([this.toArrayBuffer(e,n,r),this.toArrayBuffer(t,n,r)]);case 4:return a=i.sent,o=m(a,2),s=o[0],u=o[1],i.abrupt("return",this.compareBuffers(s,u,r));case 9:case"end":return i.stop()}}),i,this)})))}},{key:"isEqual",value:function(e,t){return Z(this,arguments,d().mark((function e(t,n){var r,i,a,o,s,u,l,c,f,p,h,v,m,y,b,w,x,_,S=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=S.length>2&&void 0!==S[2]?S[2]:{},i=r.methods,a=void 0===i?["size","type","magic","byte"]:i,o=r.byte,s=void 0===o?"buffer":o,u=r.partial,l=void 0!==u&&u,c=r.chunks,f=void 0===c?null:c,p=r.worker,h=void 0===p||p,v=null,m=g(a),e.prev=3,m.s();case 5:if((y=m.n()).done){e.next=52;break}if(b=y.value,!(!1===v||l&&!0===v)){e.next=9;break}return e.abrupt("break",52);case 9:e.t0=b,e.next="byte"===e.t0||"bytes"===e.t0||"content"===e.t0?12:"magic"===e.t0||"headers"===e.t0||"numbers"===e.t0||"mime"===e.t0?41:"size"===e.t0||"sizes"===e.t0?45:"type"===e.t0||"types"===e.t0?47:49;break;case 12:f=f instanceof Array?f:[t.size],v=!0,w=g(f),e.prev=14,w.s();case 16:if((x=w.n()).done){e.next=32;break}if(_=x.value,"buffer"!==s){e.next=25;break}return e.next=22,this.bytesEqualWithArrayBuffer(t,n,_,h);case 22:e.t1=e.sent,e.next=28;break;case 25:return e.next=27,this.bytesEqualWithBinaryString(t,n,_,h);case 27:e.t1=e.sent;case 28:e.t1||(v=!1);case 30:e.next=16;break;case 32:e.next=37;break;case 34:e.prev=34,e.t2=e.catch(14),w.e(e.t2);case 37:return e.prev=37,w.f(),e.finish(37);case 40:return e.abrupt("break",50);case 41:return e.next=43,this.magicNumbersEqual(t,n,h);case 43:return v=e.sent,e.abrupt("break",50);case 45:return v=this.sizeEqual(t,n),e.abrupt("break",50);case 47:return v=this.typeEqual(t,n),e.abrupt("break",50);case 49:throw new Error("Blob-compare : Unknown comparison method");case 50:e.next=5;break;case 52:e.next=57;break;case 54:e.prev=54,e.t3=e.catch(3),m.e(e.t3);case 57:return e.prev=57,m.f(),e.finish(57);case 60:return e.abrupt("return",v);case 61:case"end":return e.stop()}}),e,this,[[3,54,57,60],[14,34,37,40]])})))}}]),e}()}])},"object"==typeof n&&"object"==typeof u?u.exports=l():(i=[],void 0===(a="function"===typeof(r=l)?r.apply(t,i):r)||(e.exports=a))})),JY={};z(JY,{ToolbarDropdownSelect:function(){return AJ},default:function(){return IJ}}),e.exports=(mY=JY,F(x({},"__esModule",{value:!0}),mY)),q(),Q();var eQ=n(8458);pe();var tQ=0,nQ=function(){function e(t){s(this,e),this._studio=t,B(this,"_id"),B(this,"_state",{type:"Ready"}),this._id=String(tQ++)}return o(e,[{key:"status",get:function(){return this._state.type}},{key:"reset",value:function(){var e=this._state;if("Ready"!==e.type){if("Captured"!==e.type)throw"Committed"===e.type?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.");this._state={type:"Ready"},e.transaction.discard(),e.flagsTransaction.discard()}}},{key:"commit",value:function(){var e=this._state;if("Captured"!==e.type){if("Ready"===e.type)return void console.warn("Scrub is empty. Nothing to commit.");throw"Committed"===e.type?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}e.transaction.commit(),e.flagsTransaction.discard(),this._state={type:"Committed"}}},{key:"capture",value:function(e){if("Captured"===this._state.type&&this.reset(),"Ready"!==this._state.type)throw"Committed"===this._state.type?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()");var t=!0;try{this._state=I({type:"Captured"},this._capture(e)),t=!1}finally{t&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}},{key:"_capture",value:function(e){var t=[];return{transaction:this._studio.tempTransaction((function(n){var r=!0,i={set:function(e,i){if(!r)throw new Error("You seem to have called the scrub api after scrub.capture()");var a=(0,eQ.getPointerParts)(e),o=a.root;a.path;if(!ne(o))throw new Error("We can only scrub props of Sheet Objects for now");n.set(e,i),t.push(e)}};try{e(i)}finally{r=!1}})),flagsTransaction:this._studio.tempTransaction((function(e){var n=e.stateEditors;t.forEach((function(e){var t=(0,eQ.getPointerParts)(e),r=t.root,i=t.path;ne(r)&&X(r.template.getDefaultsAtPointer(e),(function(e,t){n.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(R(I({},r.address),{pathToProp:t}))}),i)}))}))}}},{key:"discard",value:function(){var e=this._state;if("Captured"!==e.type&&"Ready"!==e.type)throw"Committed"===e.type?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded");"Captured"===e.type&&(e.transaction.discard(),e.flagsTransaction.discard()),this._state={type:"Discarded"}}}]),e}(),rQ=n(8458),iQ="undefined"!=typeof window?Promise.resolve().then((function(){return gY(),dY})).then((function(e){return e.default})):null,aQ=function(){function e(t){s(this,e),this.studio=t,B(this,"_rendered",!1),B(this,"_nonSSRBits",iQ?iQ.then((function(e){return new e})):Promise.reject()),B(this,"ready",this._nonSSRBits.then((function(){}),(function(){})))}return o(e,[{key:"render",value:function(){this._rendered||(this._rendered=!0,this._nonSSRBits.then((function(e){e.render()})).catch((function(e){throw console.error(e),e})))}},{key:"hide",value:function(){this.studio.transaction((function(e){e.drafts.ahistoric.visibilityState="everythingIsHidden"}))}},{key:"restore",value:function(){this.render(),this.studio.transaction((function(e){e.drafts.ahistoric.visibilityState="everythingIsVisible"}))}},{key:"isHidden",get:function(){return"everythingIsHidden"===(0,rQ.val)(this.studio.atomP.ahistoric.visibilityState)}},{key:"renderToolset",value:function(e,t){var n=!1,r=null;return this._nonSSRBits.then((function(i){n||(r=i.renderToolset(e,t))})).catch((function(e){console.error(e)})),function(){r?r():n||(n=!0)}}}]),e}(),oQ=n(8458);function sQ(e){return e}var uQ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sQ,n=function(n){return{type:e,payload:t(n)}};return n.type=e,n.is=function(t){return t&&t.type&&t.type===e},n},lQ=j(DY()),cQ=j(QY());gf();var fQ,dQ=new Uint8Array(16);function pQ(){if(!fQ&&!(fQ="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fQ(dQ)}var hQ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var vQ,mQ=function(e){return"string"==typeof e&&hQ.test(e)},gQ=[];for(vQ=0;vQ<256;++vQ)gQ.push((vQ+256).toString(16).substr(1));var yQ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(gQ[e[t+0]]+gQ[e[t+1]]+gQ[e[t+2]]+gQ[e[t+3]]+"-"+gQ[e[t+4]]+gQ[e[t+5]]+"-"+gQ[e[t+6]]+gQ[e[t+7]]+"-"+gQ[e[t+8]]+gQ[e[t+9]]+"-"+gQ[e[t+10]]+gQ[e[t+11]]+gQ[e[t+12]]+gQ[e[t+13]]+gQ[e[t+14]]+gQ[e[t+15]]).toLowerCase();if(!mQ(n))throw TypeError("Stringified UUID is invalid");return n};var bQ=function(e,t,n){var r=(e=e||{}).random||(e.rng||pQ)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return yQ(r)},wQ={replaceHistory:uQ("@history/replaceHistory"),startHistoryFromScratch:uQ("@history/startHistoryFromScratch"),undo:uQ("@history/undo"),redo:uQ("@history/redo")},xQ={type:"@history/unknownAction",payload:""},_Q={maxNumberOfCommits:100};function SQ(e){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:e}}function kQ(e,t,n){if(t===e.innerState)return e;var r=function(e,t){var n=lQ.default.diff(e,t,{invertible:!1}),r=lQ.default.diff(t,e,{invertible:!1}),i=Date.now(),a=bQ();return{forwardDiff:n,backwardDiff:r,timestamp:i,hash:a}}(e.innerState,t);if(0===r.forwardDiff.length)return e;var i=mf(e.listOfCommitHashes),a={currentCommitHash:r.hash,commitsByHash:I({},e.commitsByHash),listOfCommitHashes:v(e.listOfCommitHashes),innerState:t};if(e.currentCommitHash!==i){var o=e.listOfCommitHashes.findIndex((function(t){return t===e.currentCommitHash}));e.listOfCommitHashes.slice(o+1).forEach((function(e){delete a.commitsByHash[e]})),a.listOfCommitHashes.splice(o+1,a.listOfCommitHashes.length)}if(a.listOfCommitHashes.push(r.hash),a.commitsByHash[r.hash]=r,a.listOfCommitHashes.length>n.maxNumberOfCommits){var s=a.listOfCommitHashes.length-n.maxNumberOfCommits;a.listOfCommitHashes.slice(0,s).forEach((function(e){delete a.commitsByHash[e]})),a.listOfCommitHashes.splice(0,s)}return a}function EQ(e){if(void 0===e.currentCommitHash)return e;var t=e.listOfCommitHashes.findIndex((function(t){return t===e.currentCommitHash}));if(-1===t)throw new Error("This should never happen");var n=e.commitsByHash[e.currentCommitHash],r=(0,cQ.default)(e.innerState,n.backwardDiff),i=t-1,a=-1===i?void 0:e.listOfCommitHashes[i];return R(I({},e),{currentCommitHash:a,innerState:r})}function CQ(e){if(0===e.listOfCommitHashes.length)return e;var t=e.listOfCommitHashes.findIndex((function(t){return t===e.currentCommitHash}));if(t===e.listOfCommitHashes.length-1)return e;var n=t+1,r=e.listOfCommitHashes[n],i=e.commitsByHash[r],a=(0,cQ.default)(e.innerState,i.forwardDiff);return R(I({},e),{currentCommitHash:r,innerState:a})}tH();var MQ={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},TQ=uQ("@storeBundle/replacePersistentState",(function(e){return e})),PQ=uQ("@storeBundle/reduceParts",(function(e){return e})),AQ={historic:wQ,replacePersistentState:TQ,reduceParts:PQ},DQ=uQ("@storeBundle/setInnerHistoricState",(function(e){return e})),IQ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_Q,n=SQ(e(void 0,xQ));return function(r,i){return wQ.startHistoryFromScratch.is(i)?SQ(e(void 0,i.payload)):wQ.replaceHistory.is(i)?i.payload:wQ.undo.is(i)?r?EQ(r):n:wQ.redo.is(i)?r?CQ(r):n:r?kQ(r,e(r.innerState,i),t):SQ(e(void 0,i))}}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MQ.historic,t=arguments.length>1?arguments[1]:void 0;return DQ.is(t)?t.payload:e})),RQ=function(e,t){if(TQ.is(t)){var n=t.payload;return{$persistent:{historic:n.historic,ahistoric:n.ahistoric},ephemeral:(null==e?void 0:e.ephemeral)||MQ.ephemeral}}if(e){var r=e.$persistent,i=r.historic,a=r.ahistoric,o=e.ephemeral;if(PQ.is(t)){var s={historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral},u=t.payload(s);if(u===s)return e;i.innerState!==u.historic&&(i=IQ(i,DQ(u.historic))),a=u.ahistoric,o=u.ephemeral}else{var l=IQ(i,t);if(l===i)return e;i=l}return{$persistent:i===e.$persistent.historic&&a===e.$persistent.ahistoric?e.$persistent:{historic:i,ahistoric:a},ephemeral:o}}return{$persistent:{historic:IQ(void 0,{}),ahistoric:MQ.ahistoric},ephemeral:MQ.ephemeral}},OQ=uQ("@history/pushTempAction",(function(e){return e})),LQ=uQ("@history/discardTempAction",(function(e){return e})),NQ=uQ("@history/commitTempAction",(function(e){return e})),zQ=0,FQ=function(e,t){if(e){var n,r=e.$temps,i=r.tempActions,a=r.permanent;if(OQ.is(t))i=[].concat(v(i),[t]);else if(NQ.is(t)){var o=i.find((function(e){return e.payload.id===t.payload}));o?(n=o.payload.originalAction,i=i.filter((function(e){return e.payload.id!==t.payload}))):YV.error("Comitting temp action group ".concat(t.payload," isn't possible as this group doesn't exist"))}else LQ.is(t)?i=i.filter((function(e){return e.payload.id!==t.payload})):n=t;n&&(a=RQ(e.$temps.permanent,n));var s,u={historic:a.$persistent.historic.innerState,ahistoric:a.$persistent.ahistoric,ephemeral:a.ephemeral},l=g(i);try{for(l.s();!(s=l.n()).done;){u=s.value.payload.originalAction.payload(u)}}catch(f){l.e(f)}finally{l.f()}return I({$temps:{tempActions:i,permanent:a},$persistent:a.$persistent},u)}var c=RQ(void 0,t);return{$temps:{permanent:c,tempActions:[]},$persistent:c.$persistent,historic:c.$persistent.historic.innerState,ahistoric:c.$persistent.ahistoric,ephemeral:c.ephemeral}};function jQ(e,t){if("object"==typeof e&&null!==e)if(0!==t.length){var n,r=t.slice(0,t.length-1),i=e,a=new WeakMap,o=g(r);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i,l=u[s];if("object"!=typeof l||null===l)return;a.set(l,u),i=l}}catch(v){o.e(v)}finally{o.f()}var c,f=t.slice().reverse(),d=g(f);try{for(d.s();!(c=d.n()).done;){if(delete i[c.value],Object.keys(i).length>0)return;i=a.get(i)}}catch(v){d.e(v)}finally{d.f()}}else for(var p=0,h=Object.keys(e);p<h.length;p++){delete e[h[p]]}}function BQ(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function UQ(e){return!!e&&!!e[C$]}function ZQ(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===M$}(e)||Array.isArray(e)||!!e[E$]||!!e.constructor[E$]||qQ(e)||XQ(e))}function VQ(e,t,n){void 0===n&&(n=!1),0===HQ(e)?(n?Object.keys:T$)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function HQ(e){var t=e[C$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:qQ(e)?2:XQ(e)?3:0}function WQ(e,t){return 2===HQ(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GQ(e,t,n){var r=HQ(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function qQ(e){return x$&&e instanceof Map}function XQ(e){return _$&&e instanceof Set}function KQ(e){return e.o||e.t}function YQ(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=P$(e);delete t[C$];for(var n=T$(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function QQ(e,t){return void 0===t&&(t=!1),JQ(e)||UQ(e)||!ZQ(e)||(HQ(e)>1&&(e.set=e.add=e.clear=e.delete=$Q),Object.freeze(e),t&&VQ(e,(function(e,t){return QQ(t,!0)}),!0)),e}function $Q(){BQ(2)}function JQ(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function e$(e){var t=A$[e];return t||BQ(18,e),t}function t$(){return b$}function n$(e,t){t&&(e$("Patches"),e.u=[],e.s=[],e.v=t)}function r$(e){i$(e),e.p.forEach(o$),e.p=null}function i$(e){e===b$&&(b$=e.l)}function a$(e){return b$={p:[],l:b$,h:e,m:!0,_:0}}function o$(e){var t=e[C$];0===t.i||1===t.i?t.j():t.O=!0}function s$(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||e$("ES5").S(t,e,r),r?(n[C$].P&&(r$(t),BQ(4)),ZQ(e)&&(e=u$(t,e),t.l||c$(t,e)),t.u&&e$("Patches").M(n[C$],e,t.u,t.s)):e=u$(t,n,[]),r$(t),t.u&&t.v(t.u,t.s),e!==k$?e:void 0}function u$(e,t,n){if(JQ(t))return t;var r=t[C$];if(!r)return VQ(t,(function(i,a){return l$(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return c$(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=YQ(r.k):r.o;VQ(3===r.i?new Set(i):i,(function(t,a){return l$(e,r,i,t,a,n)})),c$(e,i,!1),n&&e.u&&e$("Patches").R(r,n,e.u,e.s)}return r.o}function l$(e,t,n,r,i,a){if(UQ(i)){var o=u$(e,i,a&&t&&3!==t.i&&!WQ(t.D,r)?a.concat(r):void 0);if(GQ(n,r,o),!UQ(o))return;e.m=!1}if(ZQ(i)&&!JQ(i)){if(!e.h.F&&e._<1)return;u$(e,i),t&&t.A.l||c$(e,i)}}function c$(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&QQ(t,n)}function f$(e,t){var n=e[C$];return(n?KQ(n):e)[t]}function d$(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function p$(e){e.P||(e.P=!0,e.l&&p$(e.l))}function h$(e){e.o||(e.o=YQ(e.t))}function v$(e,t,n){var r=qQ(t)?e$("MapSet").N(t,n):XQ(t)?e$("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:t$(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=D$;n&&(i=[r],a=I$);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):e$("ES5").J(t,n);return(n?n.A:t$()).p.push(r),r}function m$(e){return UQ(e)||BQ(22,e),function e(t){if(!ZQ(t))return t;var n,r=t[C$],i=HQ(t);if(r){if(!r.P&&(r.i<4||!e$("ES5").K(r)))return r.t;r.I=!0,n=g$(t,i),r.I=!1}else n=g$(t,i);return VQ(n,(function(t,i){r&&function(e,t){return 2===HQ(e)?e.get(t):e[t]}(r.t,t)===i||GQ(n,t,e(i))})),3===i?new Set(n):n}(e)}function g$(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return YQ(e)}LL(),LL(),LT();var y$,b$,w$="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),x$="undefined"!=typeof Map,_$="undefined"!=typeof Set,S$="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,k$=w$?Symbol.for("immer-nothing"):((y$={})["immer-nothing"]=!0,y$),E$=w$?Symbol.for("immer-draftable"):"__$immer_draftable",C$=w$?Symbol.for("immer-state"):"__$immer_state",M$=""+Object.prototype.constructor,T$="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,P$=Object.getOwnPropertyDescriptors||function(e){var t={};return T$(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},A$={},D$={get:function(e,t){if(t===C$)return e;var n=KQ(e);if(!WQ(n,t))return function(e,t,n){var r,i=d$(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!ZQ(r)?r:r===f$(e.t,t)?(h$(e),e.o[t]=v$(e.A.h,r,e)):r},has:function(e,t){return t in KQ(e)},ownKeys:function(e){return Reflect.ownKeys(KQ(e))},set:function(e,t,n){var r=d$(KQ(e),t);if(null!=r&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=f$(KQ(e),t),a=null==i?void 0:i[C$];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||WQ(e.t,t)))return!0;h$(e),p$(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==f$(e.t,t)||t in e.t?(e.D[t]=!1,h$(e),p$(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=KQ(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty:function(){BQ(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){BQ(12)}},I$={};VQ(D$,(function(e,t){I$[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),I$.deleteProperty=function(e,t){return D$.deleteProperty.call(this,e[0],t)},I$.set=function(e,t,n){return D$.set.call(this,e[0],t,n,e[0])};var R$=function(){function e(e){var t=this;this.g=S$,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&BQ(6),void 0!==r&&"function"!=typeof r&&BQ(7),ZQ(e)){var s=a$(t),u=v$(t,e,void 0),l=!0;try{o=n(u),l=!1}finally{l?r$(s):i$(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return n$(s,r),s$(e,s)}),(function(e){throw r$(s),e})):(n$(s,r),s$(o,s))}if(!e||"object"!=typeof e)return(o=n(e))===k$?void 0:(void 0===o&&(o=e),t.F&&QQ(o,!0),o);BQ(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){ZQ(e)||BQ(8),UQ(e)&&(e=m$(e));var t=a$(this),n=v$(this,e,void 0);return n[C$].C=!0,i$(t),n},t.finishDraft=function(e,t){var n=(e&&e[C$]).A;return n$(n,t),s$(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!S$&&BQ(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=e$("Patches").$;return UQ(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),O$=new R$,L$=(O$.produce,O$.produceWithPatches.bind(O$),O$.setAutoFreeze.bind(O$),O$.setUseProxies.bind(O$),O$.applyPatches.bind(O$),O$.createDraft.bind(O$)),N$=O$.finishDraft.bind(O$);Cf(),Vf(),Sd(),Dd(),Id(),rV(),Ud(),pe();var z$,F$,j$,B$={create:function(e){var t={byId:{},allIds:{}};if(e){var n,r=g(e);try{for(r.s();!(n=r.n()).done;){var i=m(n.value,2),a=i[0],o=i[1];t.byId[a]=o,t.allIds[a]=!0}}catch(s){r.e(s)}finally{r.f()}}return t},shallowCopy:function(e){return{byId:I({},null==e?void 0:e.byId),allIds:I({},null==e?void 0:e.allIds)}},add:function(e,t,n){return{byId:R(I({},null==e?void 0:e.byId),p({},t,n)),allIds:R(I({},null==e?void 0:e.allIds),p({},t,!0))}},merge:function(e){for(var t=B$.create(),n=0;n<e.length;n++)t.byId=I(I({},t.byId),e[n].byId),t.allIds=I(I({},t.allIds),e[n].allIds);return t},remove:function(e,t){var n=B$.shallowCopy(e);return delete n.allIds[t],delete n.byId[t],n},filter:function(e,t){for(var n=B$.shallowCopy(e),r=0,i=Object.entries(n.byId);r<i.length;r++){var a=m(i[r],2),o=a[0];t(a[1])||(delete n.allIds[o],delete n.byId[o])}return n}},U$=function(e){return z$=e,F$},Z$=function(){if(void 0===z$)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return z$};function V$(){var e,t,n=new Promise((function(n,i){e=function(e){n(e),r.status="resolved"},t=function(e){i(e),r.status="rejected"}})),r={resolve:e,reject:t,promise:n,status:"pending"};return r}(function(e){var t,n,r;((n=e.historic||(e.historic={})).panelPositions||(n.panelPositions={})).setPanelPosition=function(e){var t=Z$().historic;null!=t.panelPositions||(t.panelPositions={}),t.panelPositions[e.panelId]=e.position},function(e){var t;e._ensure=function(){var e;return null!=(e=Z$().historic).panels||(e.panels={}),Z$().historic.panels},function(e){var t;e._ensure=function(){var e=j$.studio.historic.panels._ensure();return null!=e.outlinePanel||(e.outlinePanel={}),e.outlinePanel},(t=e.selection||(e.selection={})).set=function(t){var n,r=[],i=g(jd(t));try{for(i.s();!(n=i.n()).done;){var a=n.value;J(a)?r.push(I({type:"Project"},a.address)):ee(a)?(r.push(I({type:"Sheet"},a.template.address)),j$.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(a.address)):te(a)?r.push(I({type:"Sheet"},a.address)):ne(a)?(r.push(I({type:"SheetObject"},a.template.address)),j$.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(a.sheet.address)):re(a)&&r.push(I({type:"SheetObject"},a.address))}}catch(o){i.e(o)}finally{i.f()}e._ensure().selection=r},t.unset=function(){e._ensure().selection=[]}}(e.outline||(e.outline={})),(t=e.sequenceEditor||(e.sequenceEditor={}))._ensure=function(){var e=j$.studio.historic.panels._ensure();return null!=e.sequenceEditor||(e.sequenceEditor={}),e.sequenceEditor},(t.graphEditor||(t.graphEditor={})).setIsOpen=function(e){(function(){var e=t._ensure();return null!=e.graphEditor||(e.graphEditor={height:.5,isOpen:!1}),e.graphEditor}()).isOpen=e.isOpen}}(n.panels||(n.panels={})),function(e){var t;e._ensure=function(e){var t=Z$().historic;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},(t=e.stateBySheetId||(e.stateBySheetId={}))._ensure=function(e){var t=j$.studio.historic.projects.stateByProjectId._ensure(e);return t.stateBySheetId[e.sheetId]||(t.stateBySheetId[e.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),t.stateBySheetId[e.sheetId]},t.setSelectedInstanceId=function(e){j$.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(e).selectedInstanceId=e.sheetInstanceId},function(e){function n(e){var t=j$.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(e).sequenceEditor;return t.markerSet||(t.markerSet=B$.create()),t.markerSet}e.addPropToGraphEditor=function(e){var n=t._ensure(e).sequenceEditor.selectedPropsByObject;n[e.objectKey]||(n[e.objectKey]={});for(var r=n[e.objectKey],i=RL(e.pathToProp),a=new Set(Object.keys(zZ)),o=0,s=Object.entries(m$(n));o<s.length;o++)for(var u=m(s[o],2),l=(u[0],u[1]),c=0,f=Object.entries(l);c<f.length;c++){var d=m(f[c],2),p=(d[0],d[1]);a.delete(p)}var h=a.size>0?a.values().next().value:Object.keys(zZ)[0];r[i]=h},e.removePropFromGraphEditor=function(e){var n=t._ensure(e).sequenceEditor.selectedPropsByObject;if(n[e.objectKey]){var r=n[e.objectKey],i=RL(e.pathToProp);r[i]&&jQ(n,[e.objectKey,i])}},e.replaceMarkers=function(e){var t=n(e.sheetAddress),r=e.markers.filter((function(e){return!!isFinite(e.position)})).map((function(t){return R(I({},t),{position:e.snappingFunction(t.position)})})),i=Uf(r,"id"),a=B$.filter(t,(function(e){return e&&!i[e.id]})),o=Uf(Object.values(a.byId),"position");r.forEach((function(e){var t=e.position,n=o[t];n&&(a=B$.remove(a,n.id))})),Object.assign(t,B$.merge([a,B$.create(r.map((function(e){return[e.id,e]})))]))},e.removeMarker=function(e){var t=n(e.sheetAddress);Object.assign(t,B$.remove(t,e.markerId))},e.updateMarker=function(e){var t=n(e.sheetAddress).byId[e.markerId];void 0!==t&&(t.label=e.label)}}(t.sequenceEditor||(t.sequenceEditor={}))}((t=n.projects||(n.projects={})).stateByProjectId||(t.stateByProjectId={})),(r=e.ephemeral||(e.ephemeral={})).setShowOutline=function(e){Z$().ephemeral.showOutline=e},function(e){var t;(t=e.stateByProjectId||(e.stateByProjectId={}))._ensure=function(e){var t=Z$().ephemeral;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},function(e){var t;e._ensure=function(e){var t=j$.studio.ephemeral.projects.stateByProjectId._ensure(e);return t.stateBySheetId[e.sheetId]||(t.stateBySheetId[e.sheetId]={stateByObjectKey:{}}),t.stateBySheetId[e.sheetId]},(t=e.stateByObjectKey||(e.stateByObjectKey={}))._ensure=function(e){var t,n=j$.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(e).stateByObjectKey;return null!=n[t=e.objectKey]||(n[t]={}),n[e.objectKey]},function(e){function t(e){var t=j$.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(e);return null!=t.valuesBeingScrubbed||(t.valuesBeingScrubbed={}),t.valuesBeingScrubbed}e._ensure=t,e.flag=function(e){Cd(t(e),e.pathToProp,!0)}}(t.propsBeingScrubbed||(t.propsBeingScrubbed={}))}(t.stateBySheetId||(t.stateBySheetId={}))}(r.projects||(r.projects={})),function(e){var t;e.setPinOutline=function(e){Z$().ahistoric.pinOutline=e},e.setPinDetails=function(e){Z$().ahistoric.pinDetails=e},e.setPinNotifications=function(e){Z$().ahistoric.pinNotifications=e},e.setVisibilityState=function(e){Z$().ahistoric.visibilityState=e},e.setClipboardKeyframes=function(e){var t=IL(e.map((function(e){return e.pathToProp}))),n=e.map((function(e){return{keyframe:e.keyframe,pathToProp:e.pathToProp.slice(t.length)}})),r=Z$();r.ahistoric.clipboard?r.ahistoric.clipboard.keyframesWithRelativePaths=n:r.ahistoric.clipboard={keyframesWithRelativePaths:n}},function(e){var t;e._ensure=function(e){var t=Z$().ahistoric;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},(t=e.collapsedItemsInOutline||(e.collapsedItemsInOutline={}))._ensure=function(e){var t=j$.studio.ahistoric.projects.stateByProjectId._ensure(e);return t.collapsedItemsInOutline||(t.collapsedItemsInOutline={}),t.collapsedItemsInOutline},t.set=function(e){var t=j$.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(e);e.isCollapsed?t[e.itemKey]=!0:delete t[e.itemKey]},function(e){e._ensure=function(e){var t=j$.studio.ahistoric.projects.stateByProjectId._ensure(e);return t.stateBySheetId[e.sheetId]||(t.stateBySheetId[e.sheetId]={}),t.stateBySheetId[e.sheetId]},function(e){var t;e._ensure=function(e){var t=j$.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(e);return t.sequence||(t.sequence={}),t.sequence},(t=e.focusRange||(e.focusRange={})).set=function(e){j$.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e).focusRange={range:e.range,enabled:e.enabled}},t.unset=function(e){j$.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e).focusRange=void 0},(e.clippedSpaceRange||(e.clippedSpaceRange={})).set=function(e){j$.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e).clippedSpaceRange=I({},e.range)},function(e){e.set=function(e){var t=function(e){var t=j$.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e),n=t.collapsableItems;return n||(n=t.collapsableItems=B$.create()),n}(e);Object.assign(t,B$.add(t,e.studioSheetItemKey,{isCollapsed:e.isCollapsed}))}}(e.sequenceEditorCollapsableItems||(e.sequenceEditorCollapsableItems={}))}(e.sequence||(e.sequence={}))}(e.stateBySheetId||(e.stateBySheetId={}))}((t=e.projects||(e.projects={})).stateByProjectId||(t.stateByProjectId={}))}(e.ahistoric||(e.ahistoric={}))})((j$=F$||(F$={})).studio||(j$.studio={})),function(e){var t;((t=e.historic||(e.historic={})).revisionHistory||(t.revisionHistory={})).add=function(e){var t=Z$().historic.coreByProject[e.projectId].revisionHistory;t.unshift(e.revision),t.length>50&&(t.length=50)},function(e){var t;e._ensure=function(e){var t=Z$().historic.coreByProject[e.projectId].sheetsById;return t[e.sheetId]||(t[e.sheetId]={staticOverrides:{byObject:{}}}),t[e.sheetId]},e.forgetObject=function(e){var t=Z$().historic.coreByProject[e.projectId].sheetsById[e.sheetId];if(t){delete t.staticOverrides.byObject[e.objectKey];var n=t.sequence;n&&delete n.tracksByObject[e.objectKey]}},e.forgetSheet=function(e){Z$().historic.coreByProject[e.projectId].sheetsById[e.sheetId]&&delete Z$().historic.coreByProject[e.projectId].sheetsById[e.sheetId]},function(e){function t(e){var t=j$.coreByProject.historic.sheetsById._ensure(e);return null!=t.sequence||(t.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),t.sequence}function n(e){var t,n=j$.coreByProject.historic.sheetsById.sequence._ensure(e).tracksByObject;return null!=n[t=e.objectKey]||(n[t]={trackData:{},trackIdByPropPath:{}}),n[e.objectKey]}function r(e){return n(e).trackData[e.trackId]}function i(e){var t=r(e);if(t)return t.keyframes.find((function(t){return t.id===e.keyframeId}))}function a(e){var t=r(e);if(t){var n=m$(t.keyframes),i=e.keyframes.filter((function(e){return!("number"==typeof e.value&&!isFinite(e.value)||!e.handles.every((function(e){return isFinite(e)})))})).map((function(t){return R(I({},t),{position:e.snappingFunction(t.position)})})),a=Uf(i,"id"),o=n.filter((function(e){return!a[e.id]})),s=Uf(o,"position");i.forEach((function(e){var t=e.position,n=s[t];n&&bd(o,n)}));var u=Td([].concat(v(o),v(i)),"position");t.keyframes=u}}e._ensure=t,e.setLength=function(e){t(e).length=Cs(parseFloat(e.length.toFixed(2)),.01,1/0)},e.setPrimitivePropAsSequenced=function(e,t){var r=n(e),i=RL(e.pathToProp);if("string"!=typeof r.trackIdByPropPath[i]){var a=AT(10),o={type:"BasicKeyframedTrack",__debugName:"".concat(e.objectKey,":").concat(i),keyframes:[]};r.trackData[a]=o,r.trackIdByPropPath[i]=a}},e.setPrimitivePropAsStatic=function(e){var t=n(e),r=RL(e.pathToProp),i=t.trackIdByPropPath[r];"string"==typeof i&&(delete t.trackIdByPropPath[r],delete t.trackData[i],j$.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(e))},e.setCompoundPropAsStatic=function(e){for(var t=n(e),r=function(){var n=a[i],r=JSON.parse(n);if(e.pathToProp.every((function(e,t){return r[t]===e}))){var o=t.trackIdByPropPath[n];if("string"!=typeof o)return"continue";delete t.trackIdByPropPath[n],delete t.trackData[o]}},i=0,a=Object.keys(t.trackIdByPropPath);i<a.length;i++)r();j$.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(e)},e.setKeyframeAtPosition=function(e){var t=e.snappingFunction(e.position),n=r(e);if(n){var i=n.keyframes,a=i.findIndex((function(e){return e.position===t}));if(-1===a){var o=Ef(i,(function(e){return e.position<t}));if(-1!==o){var s=i[o];i.splice(o+1,0,{id:RT(),position:t,connectedRight:s.connectedRight,handles:e.handles||[.5,1,.5,0],type:e.type||"bezier",value:e.value})}else i.unshift({id:RT(),position:t,connectedRight:!0,handles:e.handles||[.5,1,.5,0],type:e.type||"bezier",value:e.value})}else i[a].value=e.value}},e.unsetKeyframeAtPosition=function(e){var t=r(e);if(t){var n=t.keyframes,i=n.findIndex((function(t){return t.position===e.position}));-1!==i&&n.splice(i,1)}},e.transformKeyframes=function(e){var t=r(e);if(t){var n=m$(t.keyframes).filter((function(t){return e.keyframeIds.includes(t.id)})).map((function(t){var n=t.position,r=e.snappingFunction(function(e,t){var n=t.scale,r=t.origin;return t.translate+(r+(e-r)*n)}(n,e));return R(I({},t),{position:r})}));a(R(I({},e),{keyframes:n}))}},e.setTweenBetweenKeyframes=function(e){var t=r(e);t&&(t.keyframes=t.keyframes.map((function(n,r){var i=t.keyframes[r-1],a=e.keyframeIds.includes(n.id),o=e.keyframeIds.includes(null==i?void 0:i.id);return a&&!o?R(I({},n),{handles:[n.handles[0],n.handles[1],e.handles[0],e.handles[1]]}):a&&o?R(I({},n),{handles:[e.handles[2],e.handles[3],e.handles[0],e.handles[1]]}):o?R(I({},n),{handles:[e.handles[2],e.handles[3],n.handles[2],n.handles[3]]}):n})))},e.setHandlesForKeyframe=function(e){var t,n,r,a,o,s,u,l,c=i(e);c&&(c.handles=[null!=(n=null==(t=e.end)?void 0:t[0])?n:c.handles[0],null!=(a=null==(r=e.end)?void 0:r[1])?a:c.handles[1],null!=(s=null==(o=e.start)?void 0:o[0])?s:c.handles[2],null!=(l=null==(u=e.start)?void 0:u[1])?l:c.handles[3]])},e.deleteKeyframes=function(e){var t=r(e);t&&(t.keyframes=t.keyframes.filter((function(t){return-1===e.keyframeIds.indexOf(t.id)})))},e.setKeyframeType=function(e){var t=i(e);t&&(t.type=e.keyframeType)},e.replaceKeyframes=a}(e.sequence||(e.sequence={})),function(e){function t(e){var t,n=j$.coreByProject.historic.sheetsById._ensure(e).staticOverrides.byObject;return null!=n[t=e.objectKey]||(n[t]={}),n[e.objectKey]}e.setValueOfCompoundProp=function(e){var n=t(e);Cd(n,e.pathToProp,e.value)},e.setValueOfPrimitiveProp=function(e){var n=t(e);Cd(n,e.pathToProp,e.value)},e.unsetValueOfPrimitiveProp=function(e){var t=j$.coreByProject.historic.sheetsById._ensure(e).staticOverrides.byObject[e.objectKey];t&&jQ(t,e.pathToProp)}}((t=e.staticOverrides||(e.staticOverrides={})).byObject||(t.byObject={}))}(t.sheetsById||(t.sheetsById={}))}(j$.coreByProject||(j$.coreByProject={}));var H$=n(8458);ms();var W$=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:e),G$=W$,q$="@@redux/INIT";function X$(e,t,n){var r;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(X$)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,a=t,o=[],s=o,u=!1;function l(){s===o&&(s=o.slice())}function c(){return a}function f(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),s.push(e),function(){if(t){t=!1,l();var n=s.indexOf(e);s.splice(n,1)}}}function d(e){if(!vs(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:q$}),(r={dispatch:d,subscribe:f,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,d({type:q$})}})[G$]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[G$]=function(){return this},e},r}function K$(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Y$(e){var t=K$.apply(void 0,[]);return X$(e.rootReducer,void 0,t)}tH(),ff();var Q$=new WeakMap,$$=function(e,t,n){var r=J$(n);!function(){var n=localStorage.getItem(r);if(n){var i,a=!0;try{i=JSON.parse(n),a=!1}catch(o){YV.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{a||function(t){e.dispatch(AQ.replacePersistentState(t))}(i),t()}}else t()}();var i=function(){var t=e.getState().$persistent;t!==Q$.get(e)&&(Q$.set(e,t),localStorage.setItem(r,JSON.stringify(t)))};e.subscribe(cf(i,1e3)),window&&window.addEventListener("beforeunload",i)};function J$(e){return e+".persistent"}UA(),pe(),Xo(),Q(),LM();var eJ=n(8458);function tJ(e){if("boolean"==typeof e||"string"==typeof e||"number"==typeof e)return e;if(vs(e)){for(var t={},n=!1,r=0,i=Object.entries(e);r<i.length;r++){var a=m(i[r],2),o=a[0],s=a[1];void 0!==tJ(s)&&(t[o]=s,n=!0)}return n?t:void 0}}function nJ(e,t,n){for(var r=0,i=Object.entries(e.props);r<i.length;r++){var a=m(i[r],2),o=a[0],s=a[1];if("compound"===s.type)nJ(s,[].concat(v(t),[o]),n);else{if("enum"===s.type)throw new Error("Not yet implemented");n(s,[].concat(v(t),[o]))}}}function rJ(e,t,n){return{set:function(n,r){e();var i=tJ(r);if("undefined"!=typeof i){var a=(0,eJ.getPointerParts)(n),o=a.root,s=a.path;if(!ne(o))throw new Error("Only setting props of SheetObject-s is supported in a transaction so far");var u=o.template.getMapOfValidSequenceTracks_forStudio().getValue(),l=qC(o.template.staticConfig,s);if(!l)throw new Error("Object ".concat(o.address.objectKey," does not have a prop at ").concat(JSON.stringify(s)));var c=function(e,n,r){if(null!=e){if(void 0===tJ(n.deserializeAndSanitize(e)))throw new Error("Invalid value ".concat(eX(e)," for object.props").concat(r.map((function(e){return"[".concat(JSON.stringify(e),"]")})).join("")," is invalid"));var i=R(I({},o.address),{pathToProp:r}),a=qo(u,r);if("string"==typeof a){var s=o.sheet.getSequence();s.position=s.closestGridPosition(s.position),t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(R(I({},i),{trackId:a,position:s.position,value:e,snappingFunction:s.closestGridPosition,type:"bezier"}))}else t.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(R(I({},i),{value:e}))}};if("compound"===l.type){var f=(0,eJ.getPointerParts)(n).path,d=f.length;nJ(l,f,(function(e,t){var n=t.slice(d),r=OM(i,n);if("undefined"==typeof r)throw new Error("Property object.props".concat(t.map((function(e){return"[".concat(JSON.stringify(e),"]")})).join("")," is required but not provided"));c(r,e,t)}))}else{if("enum"===l.type)throw new Error("Enums aren't implemented yet");c(i,l,s)}}},unset:function(n){e();var r=(0,eJ.getPointerParts)(n),i=r.root,a=r.path;if(!ne(i))throw new Error("Only setting props of SheetObject-s is supported in a transaction so far");var o=i.template.getMapOfValidSequenceTracks_forStudio().getValue(),s=OM(i.template.getDefaultValues().getValue(),a),u=qC(i.template.staticConfig,a),l=function(e,n){var r=R(I({},i.address),{pathToProp:n}),a=qo(o,n);"string"==typeof a?t.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(R(I({},r),{trackId:a,position:i.sheet.getSequence().positionSnappedToGrid})):void 0!==u&&t.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(r)};"compound"===u.type?X(s,(function(e,t){l(0,t)}),(0,eJ.getPointerParts)(n).path):l(0,a)},get drafts(){return e(),n},get stateEditors(){return t}}}sM(),Ud(),hX();var iJ=function(){function e(){s(this,e),B(this,"_reduxStore"),B(this,"_atom"),B(this,"atomP"),this._reduxStore=Y$({rootReducer:FQ,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=function(e){var t=e.getState(),n=new H$.Atom(t);return e.subscribe((function(){var r=e.getState();n.set(r),t=r})),n}(this._reduxStore),this.atomP=this._atom.pointer}return o(e,[{key:"initialize",value:function(e){var t=this,n=V$();return!0===e.usePersistentStorage?$$(this._reduxStore,(function(){t.tempTransaction((function(e){e.drafts.ephemeral.initialised=!0})).commit(),n.resolve()}),e.persistenceKey):(this.tempTransaction((function(e){e.drafts.ephemeral.initialised=!0})).commit(),n.resolve()),n.promise}},{key:"getState",value:function(){return this._reduxStore.getState()}},{key:"__experimental_clearPersistentStorage",value:function(e){return function(e,t){var n=J$(t),r=e.getState().$persistent;localStorage.removeItem(n),Q$.set(e,r)}(this._reduxStore,e),this.getState()}},{key:"__dev_startHistoryFromScratch",value:function(e){this._reduxStore.dispatch(AQ.historic.startHistoryFromScratch(AQ.reduceParts((function(t){return R(I({},t),{historic:e})}))))}},{key:"tempTransaction",value:function(e){var t,n=this,r=function(){var e=zQ++;return{push:function(t){return OQ({id:e,originalAction:t})},discard:function(){return LQ(e)},commit:function(){return NQ(e)}}}(),i=r.push(AQ.reduceParts((function(n){var r={historic:L$(n.historic),ahistoric:L$(n.ahistoric),ephemeral:L$(n.ephemeral)},i=!0,a=rJ((function(){if(!i)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")}),U$(r),r);try{return e(a),i=!1,{historic:N$(r.historic),ahistoric:N$(r.ahistoric),ephemeral:N$(r.ephemeral)}}catch(o){return t=o,n}finally{U$(void 0)}})));if(this._reduxStore.dispatch(i),t)throw this._reduxStore.dispatch(r.discard()),t;return{commit:function(){n._reduxStore.dispatch(r.commit())},discard:function(){n._reduxStore.dispatch(r.discard())}}}},{key:"undo",value:function(){this._reduxStore.dispatch(AQ.historic.undo())}},{key:"redo",value:function(){this._reduxStore.dispatch(AQ.historic.redo())}},{key:"createContentOfSaveFile",value:function(e){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e])throw new Error("Project ".concat(e," has not been initialized."));var t=OA();this.tempTransaction((function(n){n.stateEditors.coreByProject.historic.revisionHistory.add({projectId:e,revision:t})})).commit();var n=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e];return I({},n)}}]),e}(),aJ=n(8458),oJ=function(){function e(){s(this,e),B(this,"_values",{})}return o(e,[{key:"get",value:function(e,t){if(this.has(e))return this._values[e];var n=t();return this._values[e]=n,n}},{key:"has",value:function(e){return this._values.hasOwnProperty(e)}}]),e}();pe(),Bb(),q(),Ud(),kG();var sJ=function(){function e(t){s(this,e),B(this,"ui",{hide:function(){W().ui.hide()},get isHidden(){return W().ui.isHidden},restore:function(){W().ui.restore()},renderToolset:function(e,t){return W().ui.renderToolset(e,t)}}),B(this,"_cache",new oJ),B(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut:function(){xG=!1},__experimental_enablePlayPauseKeyboardShortcut:function(){xG=!0},__experimental_clearPersistentStorage:function(e){return W().clearPersistentStorage(e)},__experimental_createContentOfSaveFileTyped:function(e){return W().createContentOfSaveFile(e)}})}return o(e,[{key:"initialize",value:function(e){return W().initialize(e)}},{key:"extend",value:function(e,t){W().extend(e,t)}},{key:"transaction",value:function(e){return W().transaction((function(t){var n=t.set,r=t.unset,i=t.stateEditors;return e({set:n,unset:r,__experimental_forgetObject:function(e){if(!ae(e))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");i.coreByProject.historic.sheetsById.forgetObject(e.address)},__experimental_forgetSheet:function(e){if(!ie(e))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");i.coreByProject.historic.sheetsById.forgetSheet(e.address)}})}))}},{key:"_getSelectionPrism",value:function(){return this._cache.get("_getSelectionPrism()",(function(){return(0,aJ.prism)((function(){return Nb().filter((function(e){return"Theatre_SheetObject"===e.type||"Theatre_Sheet"===e.type})).map((function(e){return e.publicApi}))}))}))}},{key:"_getSelection",value:function(){return this._getSelectionPrism().getValue()}},{key:"setSelection",value:function(e){var t=v(e).filter((function(e){return ae(e)||ie(e)})).map((function(e){return W().corePrivateAPI(e)}));W().transaction((function(e){e.stateEditors.studio.historic.panels.outline.selection.set(t)}))}},{key:"onSelectionChange",value:function(e){var t=W();return this._getSelectionPrism().onChange(t.ticker,e,!0)}},{key:"selection",get:function(){return this._getSelection()}},{key:"scrub",value:function(){return W().scrub()}},{key:"getStudioProject",value:function(){var e=W().core;if(!e)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return W().getStudioProject(e)}},{key:"debouncedScrub",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,r=cf((function(){var t=e;t&&(e=void 0,t.commit())}),n);return{capture:function(n){e||(e=t.scrub());var i=!0;try{e.capture(n),i=!1}finally{if(i){var a=e;e=void 0,a.discard()}else r()}}}}},{key:"createPane",value:function(e){return W().paneManager.createPane(e)}},{key:"destroyPane",value:function(e){return W().paneManager.destroyPane(e)}},{key:"createContentOfSaveFile",value:function(e){return W().createContentOfSaveFile(e)}}]),e}();IT();var uJ=n(8458),lJ=function(){function e(t){s(this,e),this._studio=t,B(this,"_cache",new oJ),this._instantiatePanesAsTheyComeIn()}return o(e,[{key:"_instantiatePanesAsTheyComeIn",value:function(){var e=this._getAllPanes();e.onStale((function(){e.getValue()}))}},{key:"_getAllPanes",value:function(){var e=this;return this._cache.get("_getAllPanels()",(function(){return(0,uJ.prism)((function(){if(!(0,uJ.val)(e._studio.coreP))return{};for(var t=(0,uJ.val)(e._studio.atomP.historic.panelInstanceDesceriptors),n=(0,uJ.val)(e._studio.atomP.ephemeral.extensions.paneClasses),r={},i=function(){var e=o[a];if(!e)return"continue";var t=n[e.paneClass];if(!t)return"continue";var i=e.instanceId,s=t.extensionId,u=t.classDefinition,l=uJ.prism.memo("instance-".concat(e.instanceId),(function(){return{extensionId:s,instanceId:i,definition:u}}),[u]);r[i]=l},a=0,o=Object.values(t);a<o.length;a++)i();return r}))}))}},{key:"allPanesD",get:function(){return this._getAllPanes()}},{key:"createPane",value:function(e){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");for(var t,n=(0,uJ.val)(this._studio.atomP.ephemeral.extensions.paneClasses[e].extensionId),r=(0,uJ.val)(this._studio.atomP.historic.panelInstanceDesceriptors),i=1;i<1e3&&r[t="".concat(e," #").concat(i)];i++);if(!n)throw new Error('Pane class "'.concat(e,'" is not registered.'));return this._studio.transaction((function(n){n.drafts.historic.panelInstanceDesceriptors[t]={instanceId:t,paneClass:e}})),this._getAllPanes().getValue()[t]}},{key:"destroyPane",value:function(e){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction((function(t){delete t.drafts.historic.panelInstanceDesceriptors[e]}))}}]),e}(),cJ=n(8458);q();var fJ=18e5;function dJ(){return Z(this,null,d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=W().atomP.ahistoric.visibilityState,"everythingIsVisible"!==(0,cJ.val)(t)){e.next=3;break}return e.abrupt("return");case 3:return n=V$(),r=(0,cJ.pointerToPrism)(t).onStale((function(){"everythingIsVisible"===(0,cJ.val)(t)&&(r(),n.resolve(void 0))})),e.abrupt("return",n.promise);case 5:case"end":return e.stop()}}),e)})))}function pJ(){return Z(this,null,d().mark((function e(){var t,n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("0.7.0".match(/COMPAT/)){e.next=29;break}return e.next=3,hJ(500);case 3:return e.next=5,dJ();case 5:if(!(t=(0,cJ.val)(W().atomP.ahistoric.updateChecker))||"error"===t.result){e.next=12;break}if(n=t.lastChecked,r=Date.now(),i=Math.abs(r-n),e.t0=i<fJ,!e.t0){e.next=12;break}return e.next=12,hJ(fJ-i);case 12:return e.prev=12,e.next=15,fetch(new Request("https://updates.theatrejs.com/updates/0.7.0"));case 15:if(!(a=e.sent).ok){e.next=20;break}return e.delegateYield(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:if(vJ(t=e.sent)){e.next=5;break}throw new Error("Bad response");case 5:return W().transaction((function(e){e.drafts.ahistoric.updateChecker={lastChecked:Date.now(),result:I({},t)}})),e.next=8,hJ(1e3);case 8:case"end":return e.stop()}}),e)}))(),"t1",18);case 18:e.next=21;break;case 20:throw new Error("HTTP Error ".concat(a.statusText));case 21:e.next=27;break;case 23:return e.prev=23,e.t2=e.catch(12),e.next=27,hJ(36e5);case 27:e.next=5;break;case 29:case"end":return e.stop()}}),e,null,[[12,23]])})))}var hJ=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function vJ(e){if("object"!=typeof e)return!1;var t=e;return"boolean"==typeof t.hasUpdates&&(!0===t.hasUpdates&&"string"==typeof t.newVersion&&"string"==typeof t.releasePage||!1===t.hasUpdates)}var mJ,gJ=j(pp());function yJ(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function bJ(e,t){var n=indexedDB.open(e);n.onupgradeneeded=function(){return n.result.createObjectStore(t)};var r=yJ(n);return function(e,n){return r.then((function(r){return n(r.transaction(t,e).objectStore(t))}))}}function wJ(){return mJ||(mJ=bJ("keyval-store","keyval")),mJ}function xJ(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},yJ(e.transaction)}var _J=function(e){var t=bJ("theatrejs-".concat(e),"default-store");return{set:function(e,n){return function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:wJ())("readwrite",(function(n){return n.put(t,e),yJ(n.transaction)}))}(e,n,t)},get:function(e){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:wJ())("readonly",(function(t){return yJ(t.get(e))}))}(e,t)},del:function(e){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:wJ())("readwrite",(function(t){return t.delete(e),yJ(t.transaction)}))}(e,t)},keys:function(){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:wJ())("readonly",(function(e){if(e.getAllKeys)return yJ(e.getAllKeys());var t=[];return xJ(e,(function(e){return t.push(e.key)})).then((function(){return t}))}))}(t)},entries:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wJ();return e("readonly",(function(t){if(t.getAll&&t.getAllKeys)return Promise.all([yJ(t.getAllKeys()),yJ(t.getAll())]).then((function(e){var t=m(e,2),n=t[0],r=t[1];return n.map((function(e,t){return[e,r[t]]}))}));var n=[];return e("readonly",(function(e){return xJ(e,(function(e){return n.push([e.key,e.value])})).then((function(){return n}))}))}))}(t)},values:function(){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:wJ())("readonly",(function(e){if(e.getAll)return yJ(e.getAll());var t=[];return xJ(e,(function(e){return t.push(e.value)})).then((function(){return t}))}))}(t)}}};rR(),eR();var SJ="theatre-0.4",kJ=function(){function e(){var t=this;s(this,e),B(this,"ui"),B(this,"publicApi"),B(this,"address"),B(this,"_projectsProxy",new oQ.PointerProxy(new oQ.Atom({}).pointer)),B(this,"projectsP",this._projectsProxy.pointer),B(this,"_store",new iJ),B(this,"_corePrivateApi"),B(this,"_cache",new oJ),B(this,"paneManager"),B(this,"_coreAtom",new oQ.Atom({})),B(this,"_initializedDeferred",V$()),B(this,"_initializeFnCalled",!1),B(this,"_didWarnAboutNotInitializing",!1),B(this,"_coreBits"),B(this,"_rafDriver"),this.address={studioId:AT(10)},this.publicApi=new sJ(this),this.ui=new aQ(this),this._attachToIncomingProjects(),this.paneManager=new lJ(this),"undefined"!=typeof window&&setTimeout((function(){t._initializeFnCalled||(console.error("You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:\n```\nimport studio from '@theatre/studio'\nstudio.initialize()\n```\n\n* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.\n\n* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:\n\n```\nimport studio from '@theatre/studio'\nstudio.initialize()\nstudio.ui.hide()\n```\n"),t._didWarnAboutNotInitializing=!0)}),100)}return o(e,[{key:"ticker",get:function(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}},{key:"atomP",get:function(){return this._store.atomP}},{key:"initialize",value:function(e){return Z(this,null,d().mark((function t(){var n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._coreBits){t.next=2;break}throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");case 2:if(!this._initializeFnCalled){t.next=4;break}return t.abrupt("return",this._initializedDeferred.promise);case 4:if(this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn("You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n"),n={persistenceKey:SJ,usePersistentStorage:!0},"string"==typeof(null==e?void 0:e.persistenceKey)&&(n.persistenceKey=e.persistenceKey),(!1===(null==e?void 0:e.usePersistentStorage)||"undefined"==typeof window)&&(n.usePersistentStorage=!1),null==e||!e.__experimental_rafDriver){t.next=15;break}if("Theatre_RafDriver_PublicAPI"===e.__experimental_rafDriver.type){t.next=9;break}throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");case 9:if(r=this._coreBits.privateAPI(e.__experimental_rafDriver)){t.next=12;break}throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");case 12:this._rafDriver=r,t.next=16;break;case 15:this._rafDriver=this._coreBits.getCoreRafDriver();case 16:return t.prev=16,t.next=19,this._store.initialize(n);case 19:t.next=25;break;case 21:return t.prev=21,t.t0=t.catch(16),this._initializedDeferred.reject(t.t0),t.abrupt("return");case 25:if(t.t1="undefined"!=typeof window,!t.t1){t.next=29;break}return t.next=29,this.ui.ready;case 29:this._initializedDeferred.resolve(),this.ui.render(),pJ().catch((function(e){console.error(e)}));case 32:case"end":return t.stop()}}),t,this,[[16,21]])})))}},{key:"initialized",get:function(){return this._initializedDeferred.promise}},{key:"_attachToIncomingProjects",value:function(){var e=this,t=(0,oQ.pointerToPrism)(this.projectsP),n=function(t){for(var n=0,r=Object.values(t);n<r.length;n++){var i=r[n];i.isAttachedToStudio||i.attachToStudio(e)}};t.onStale((function(){n(t.getValue())})),n(t.getValue())}},{key:"setCoreBits",value:function(e){this._coreBits=e,this._corePrivateApi=e.privateAPI,this._coreAtom.setByPointer((function(e){return e.core}),e.coreExports),this._setProjectsP(e.projectsP)}},{key:"_setProjectsP",value:function(e){this._projectsProxy.setPointer(e)}},{key:"scrub",value:function(){return new nQ(this)}},{key:"tempTransaction",value:function(e){return this._store.tempTransaction(e)}},{key:"transaction",value:function(e){return this.tempTransaction(e).commit()}},{key:"__dev_startHistoryFromScratch",value:function(e){return this._store.__dev_startHistoryFromScratch(e)}},{key:"corePrivateAPI",get:function(){return this._corePrivateApi}},{key:"core",get:function(){return this._coreAtom.get().core}},{key:"coreP",get:function(){return this._coreAtom.pointer.core}},{key:"extend",value:function(e,t){if(!e||"object"!=typeof e)throw new Error("Extensions must be JS objects");if("string"!=typeof e.id)throw new Error("extension.id must be a string");var n=!0===(null==t?void 0:t.__experimental_reconfigure),r=e.id,i=this._store.getState().ephemeral.extensions.byId[r];if(i&&!n){if(e===i||(0,gJ.default)(e,i))return;throw new Error('Extension id "'.concat(e.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction((function(t){var r,a,o=t.drafts;o.ephemeral.extensions.byId[e.id]=e;var s=o.ephemeral.extensions.paneClasses;n&&i&&(null==(r=i.panes)||r.forEach((function(e){delete s[e.class]}))),null==(a=e.panes)||a.forEach((function(t){if("string"!=typeof t.class)throw new Error("pane.class must be a string");if(t.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");var r=s[t.class];if(r){if(!n||r.extensionId!==e.id)throw new Error('Pane class "'.concat(t.class,'" already exists and is supplied by extension ').concat(r));console.warn('Pane class "'.concat(t.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'))}s[t.class]={extensionId:e.id,classDefinition:t}}))}))}},{key:"getStudioProject",value:function(e){return this._cache.get("getStudioProject",(function(){return e.getProject("Studio")}))}},{key:"getExtensionSheet",value:function(e,t){var n=this;return this._cache.get("extensionSheet-"+e,(function(){return n.getStudioProject(t).sheet("Extension "+e)}))}},{key:"undo",value:function(){this._store.undo()}},{key:"redo",value:function(){this._store.redo()}},{key:"createContentOfSaveFile",value:function(e){return this._store.createContentOfSaveFile(e)}},{key:"createAssetStorage",value:function(e,t){return Z(this,null,d().mark((function n(){var r,i,a,o,s,u,l,c=this;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"!=typeof window){n.next=2;break}return n.abrupt("return",{getAssetUrl:function(){return""},createAsset:function(){return Promise.resolve(null)}});case 2:if("indexedDB"in window){n.next=4;break}return n.abrupt("return",(console.log("This browser doesn't support IndexedDB."),{getAssetUrl:function(e){throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:function(e){throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}}));case 4:return r=_J("".concat(e.address.projectId,"-assets")),i=tR(e),n.next=8,r.keys();case 8:return a=n.sent,n.next=11,Promise.all(a.map((function(e){return Z(c,null,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=i.includes(e),t.t0){t.next=4;break}return t.next=4,r.del(e);case 4:case"end":return t.stop()}}),t)})))})));case 11:return n.next=13,Promise.all(a.map((function(n){return Z(c,null,d().mark((function i(){var a,o,s;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s="".concat(t,"/").concat(n),i.prev=1,i.next=4,fetch(s,{method:"HEAD"});case 4:if(i.t0=i.sent.ok,!i.t0){i.next=8;break}return i.next=8,r.del(n);case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),FI.error("Failed to access assets","Failed to access assets at ".concat(null!=(o=null==(a=e.config.assets)?void 0:a.baseUrl)?o:"/",". This is likely due to a CORS issue."));case 13:case"end":return i.stop()}}),i,null,[[1,10]])})))})));case 13:return n.t0=Map,n.next=16,r.entries();case 16:return n.t1=n.sent,o=new n.t0(n.t1),s=new Map,u=function(e){if(s.has(e))return s.get(e);var t=URL.createObjectURL(e);return s.set(e,t),t},l=function(e){var t=o.get(e);if(!t)throw new Error("Asset with id ".concat(e," not found"));return u(t)},n.abrupt("return",{getAssetUrl:function(e){return o.has(e)?l(e):"".concat(t,"/").concat(e)},createAsset:function(n){return Z(c,null,d().mark((function i(){var a,s,u,l,c;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(l=tR(e),!1,!l.includes(n.name)){i.next=27;break}if(i.prev=2,null==(a=o.get(n.name))){i.next=7;break}i.t0=a,i.next=10;break;case 7:return i.next=9,fetch("".concat(t,"/").concat(n.name)).then((function(e){return e.ok?e.blob():void 0}));case 9:i.t0=i.sent;case 10:c=i.t0,i.next=16;break;case 13:return i.prev=13,i.t1=i.catch(2),i.abrupt("return",(FI.error("Failed to access assets","Failed to access assets at ".concat(null!=(u=null==(s=e.config.assets)?void 0:s.baseUrl)?u:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)));case 16:if(!c){i.next=27;break}return i.next=19,Promise.resolve().then((function(){return j($Y())}));case 19:return i.next=21,i.sent.default.isEqual(n,c);case 21:if(!i.sent){i.next=24;break}return i.abrupt("return",n.name);case 24:if(function e(t){var r=prompt(t,n.name);return null!==r&&(""===r?e("Asset name cannot be empty. Please choose a different file name for this asset."):l.includes(r)?(console.log(l),e("An asset with this name already exists. Please choose a different file name for this asset.")):(n=new File([n],r,{type:n.type}),!0))}("An asset with this name already exists. Please choose a different file name for this asset.")){i.next=27;break}return i.abrupt("return",null);case 27:return o.set(n.name,n),i.next=30,r.set(n.name,n);case 30:return i.abrupt("return",n.name);case 31:case"end":return i.stop()}}),i,null,[[2,13]])})))}});case 22:case"end":return n.stop()}}),n)})))}},{key:"clearPersistentStorage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SJ;this._store.__experimental_clearPersistentStorage(e)}}]),e}(),EJ="__TheatreJS_StudioBundle",CJ=function(){function e(t){s(this,e),this._studio=t,B(this,"_coreBundle")}return o(e,[{key:"type",get:function(){return"Theatre_StudioBundle"}},{key:"registerCoreBundle",value:function(e){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");var t;this._coreBundle=e,e.getBitsForStudio(this._studio,(function(e){t=e})),this._studio.setCoreBits(t)}}]),e}(),MJ=j(Hd());nv();var TJ,PJ=tv.div(TJ||(TJ=U([""]))),AJ=function(e){return MJ.default.createElement(PJ,null)};eR();var DJ=new kJ;!function(e){G=e}(DJ);var IJ=DJ.publicApi;!function(){if("undefined"==typeof window)return;var e=window[EJ];if("undefined"!=typeof e)throw"object"==typeof e&&e&&"string"==typeof e.version?new Error("It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:\n1. You might have two separate versions of Theatre.js in node_modules.\n2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.\n\nNote that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module."):new Error("The variable window.".concat(EJ," seems to be already set by a module other than @theatre/core."));var t=new CJ(DJ);window[EJ]=t;var n=window.__TheatreJS_CoreBundle;n&&null!==n&&"Theatre_CoreBundle"===n.type&&t.registerCoreBundle(n)}(),"undefined"!=typeof window&&(window.__TheatreJS_Notifications={notify:FI})},8725:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},7860:function(e){function t(e,t,n){var r,i,a,o,s;function u(){var l=Date.now()-o;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}t.debounce=t,e.exports=t},5419:function(e,t,n){"use strict";var r=n(3284),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{l(t,g,y)}catch(b){}}}}return t}},5358:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return x(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||x(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=x},3284:function(e,t,n){"use strict";e.exports=n(5358)},1782:function(e,t,n){var r="__lodash_hash_undefined__",i=9007199254740991,a="[object Symbol]",o=/^\[object .+?Constructor\]$/,s=/^(?:0|[1-9]\d*)$/,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")();function f(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function d(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var i=e.length,a=n+(r?1:-1);for(;r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,m,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function p(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function h(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function v(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function m(e){return e!==e}function g(e,t){return e.has(t)}function y(e,t){return function(n){return e(t(n))}}var b=Array.prototype,w=Function.prototype,x=Object.prototype,_=c["__core-js_shared__"],S=function(){var e=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),k=w.toString,E=x.hasOwnProperty,C=x.toString,M=RegExp("^"+k.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=c.Symbol,P=y(Object.getPrototypeOf,Object),A=x.propertyIsEnumerable,D=b.splice,I=T?T.isConcatSpreadable:void 0,R=Object.getOwnPropertySymbols,O=Math.max,L=X(c,"Map"),N=X(Object,"create");function z(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function F(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B(e){var t=-1,n=e?e.length:0;for(this.__data__=new j;++t<n;)this.add(e[t])}function U(e,t){var n=te(e)||ee(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!E.call(e,a)||i&&("length"==a||$(a,r))||n.push(a);return n}function Z(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function V(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Q),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?V(s,t-1,n,r,i):v(i,s):r||(i[i.length]=s)}return i}function H(e){if(!ie(e)||(t=e,S&&S in t))return!1;var t,n=re(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?M:o;return n.test(function(e){if(null!=e){try{return k.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function W(e){if(!ie(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||x;return e===n}(e),n=[];for(var r in e)("constructor"!=r||!t&&E.call(e,r))&&n.push(r);return n}function G(e){return function(e,t,n){var r=t(e);return te(e)?r:v(r,n(e))}(e,oe,Y)}function q(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function X(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return H(n)?n:void 0}z.prototype.clear=function(){this.__data__=N?N(null):{}},z.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},z.prototype.get=function(e){var t=this.__data__;if(N){var n=t[e];return n===r?void 0:n}return E.call(t,e)?t[e]:void 0},z.prototype.has=function(e){var t=this.__data__;return N?void 0!==t[e]:E.call(t,e)},z.prototype.set=function(e,t){return this.__data__[e]=N&&void 0===t?r:t,this},F.prototype.clear=function(){this.__data__=[]},F.prototype.delete=function(e){var t=this.__data__,n=Z(t,e);return!(n<0)&&(n==t.length-1?t.pop():D.call(t,n,1),!0)},F.prototype.get=function(e){var t=this.__data__,n=Z(t,e);return n<0?void 0:t[n][1]},F.prototype.has=function(e){return Z(this.__data__,e)>-1},F.prototype.set=function(e,t){var n=this.__data__,r=Z(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},j.prototype.clear=function(){this.__data__={hash:new z,map:new(L||F),string:new z}},j.prototype.delete=function(e){return q(this,e).delete(e)},j.prototype.get=function(e){return q(this,e).get(e)},j.prototype.has=function(e){return q(this,e).has(e)},j.prototype.set=function(e,t){return q(this,e).set(e,t),this},B.prototype.add=B.prototype.push=function(e){return this.__data__.set(e,r),this},B.prototype.has=function(e){return this.__data__.has(e)};var K=R?y(R,Object):ce,Y=R?function(e){for(var t=[];e;)v(t,K(e)),e=P(e);return t}:ce;function Q(e){return te(e)||ee(e)||!!(I&&e&&e[I])}function $(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}function J(e){if("string"==typeof e||function(e){return"symbol"==typeof e||ae(e)&&C.call(e)==a}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function ee(e){return function(e){return ae(e)&&ne(e)}(e)&&E.call(e,"callee")&&(!A.call(e,"callee")||"[object Arguments]"==C.call(e))}var te=Array.isArray;function ne(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!re(e)}function re(e){var t=ie(e)?C.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function ie(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ae(e){return!!e&&"object"==typeof e}function oe(e){return ne(e)?U(e,!0):W(e)}var se,ue,le=(se=function(e,t){return null==e?{}:(t=h(V(t,1),J),function(e,t){return function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=e[o];n(s,o)&&(a[o]=s)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var i,a=-1,o=d,s=!0,u=e.length,l=[],c=t.length;if(!u)return l;n&&(t=h(t,(i=n,function(e){return i(e)}))),r?(o=p,s=!1):t.length>=200&&(o=g,s=!1,t=new B(t));e:for(;++a<u;){var f=e[a],v=n?n(f):f;if(f=r||0!==f?f:0,s&&v===v){for(var m=c;m--;)if(t[m]===v)continue e;l.push(f)}else o(t,v,r)||l.push(f)}return l}(G(e),t)))},ue=O(void 0===ue?se.length-1:ue,0),function(){for(var e=arguments,t=-1,n=O(e.length-ue,0),r=Array(n);++t<n;)r[t]=e[ue+t];t=-1;for(var i=Array(ue+1);++t<ue;)i[t]=e[t];return i[ue]=r,f(se,this,i)});function ce(){return[]}e.exports=le},7217:function(e,t,n){var r=9007199254740991,i="[object Arguments]",a="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]",u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")();function f(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function d(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var p=Object.prototype,h=p.hasOwnProperty,v=p.toString,m=c.Symbol,g=p.propertyIsEnumerable,y=m?m.isConcatSpreadable:void 0,b=Math.max;function w(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=x),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?w(s,t-1,n,r,i):d(i,s):r||(i[i.length]=s)}return i}function x(e){return S(e)||function(e){return function(e){return k(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?v.call(e):"";return t==a||t==o}(e)}(e)}(e)&&h.call(e,"callee")&&(!g.call(e,"callee")||v.call(e)==i)}(e)||!!(y&&e&&e[y])}function _(e){if("string"==typeof e||function(e){return"symbol"==typeof e||k(e)&&v.call(e)==s}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var S=Array.isArray;function k(e){return!!e&&"object"==typeof e}var E,C,M=(E=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=e[o];n(s,o)&&(a[o]=s)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(w(t,1),_))},C=b(void 0===C?E.length-1:C,0),function(){for(var e=arguments,t=-1,n=b(e.length-C,0),r=Array(n);++t<n;)r[t]=e[C+t];t=-1;for(var i=Array(C+1);++t<C;)i[t]=e[t];return i[C]=r,f(E,this,i)});e.exports=M},3522:function(e,t,n){"use strict";var r=n(3358),i=n(4824);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(h,e)||!f.call(p,e)&&(d.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var N,z=Object.assign;function F(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Q(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,ke=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Ce(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Me(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Pe(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Se||null!==ke)&&(Pe(),Me())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Re=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ne=!1,ze=null,Fe=!1,je=null,Be={onError:function(e){Ne=!0,ze=e}};function Ue(e,t,n,r,i,a,o,s,u){Ne=!1,ze=null,Le.apply(Be,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Qe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,St,kt,Et,Ct=!1,Mt=[],Tt=null,Pt=null,At=null,Dt=new Map,It=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Nt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=yi(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(jt),It.forEach(jt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Zt(e){function t(t){return Ut(t,e)}if(0<Mt.length){Ut(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Pt&&Ut(Pt,e),null!==At&&Ut(At,e),Dt.forEach(t),It.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)zt(n),null===n.blockedOn&&Rt.shift()}var Vt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function Gt(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function qt(e,t,n,r){if(Ht){var i=Kt(e,t,n,r);if(null===i)Hr(e,t,r,Xt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Nt(Tt,e,t,n,r,i),!0;case"dragenter":return Pt=Nt(Pt,e,t,n,r,i),!0;case"mouseover":return At=Nt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Nt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Nt(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&xt(a),null===(a=Kt(e,t,n,r))&&Hr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Kt(e,t,n,r){if(Xt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=z({},ln,{view:0,detail:0}),dn=an(fn),pn=z({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(pn),vn=an(z({},pn,{dataTransfer:0})),mn=an(z({},fn,{relatedTarget:0})),gn=an(z({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(z({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return kn}var Cn=z({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=an(Cn),Tn=an(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(z({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(z({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=z({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Dn),Rn=[9,13,27,32],On=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Nn=c&&"TextEvent"in window&&!Ln,zn=c&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Xn(e){Fr(e,0)}function Kn(e){if(q(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(c){var $n;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Qn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(qn)){var t=[];Wn(t,qn,e,xe(e)),De(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},kr={};function Er(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Er("animationend"),Mr=Er("animationiteration"),Tr=Er("animationstart"),Pr=Er("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Ir(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ir(Cr,"onAnimationEnd"),Ir(Mr,"onAnimationIteration"),Ir(Tr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Pr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Ue.apply(this,arguments),Ne){if(!Ne)throw Error(a(198));var c=ze;Ne=!1,ze=null,Fe||(Fe=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;zr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;zr(i,s,l),a=u}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}De((function(){var r=a,i=xe(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Mn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Cr:case Mr:case Tr:u=gn;break;case Pr:u=An;break;case"scroll":u=dn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==d&&(null!=(v=Ie(h,d))&&c.push(Wr(h,v,p)))),f)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(f=Ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,v="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,v="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==u?s:wi(u),p=null==l?s:wi(l),(s=new c(v,h+"leave",u,n,i)).target=f,s.relatedTarget=p,v=null,yi(i)===r&&((c=new c(d,h+"enter",l,n,i)).target=p,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(d=l,h=0,p=c=u;p;p=qr(p))h++;for(p=0,v=d;v;v=qr(v))p++;for(;0<h-p;)c=qr(c),h--;for(;0<p-h;)d=qr(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=qr(c),d=qr(d)}c=null}else c=null;null!==u&&Xr(o,s,u,c,!1),null!==l&&null!==f&&Xr(o,f,l,c,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Hn(s))if(Qn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(y=en()):($t="value"in(Qt=i)?Qt.value:Qt.textContent,Zn=!0)),0<(g=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Jt=$t=Qt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ie(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ie(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ie(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Ie(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,pi="__reactProps$"+fi,hi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[pi]||null}var _i=[],Si=-1;function ki(e){return{current:e}}function Ei(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Ci(e,t){Si++,_i[Si]=e.current,e.current=t}var Mi={},Ti=ki(Mi),Pi=ki(!1),Ai=Mi;function Di(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Pi),Ei(Ti)}function Oi(e,t,n){if(Ti.current!==Mi)throw Error(a(168));Ci(Ti,t),Ci(Pi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return z({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ai=Ti.current,Ci(Ti,e),Ci(Pi,Pi.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Pi),Ei(Ti),Ci(Ti,e)):Ei(Pi),Ci(Pi,n)}var Fi=null,ji=!1,Bi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function Zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),qe(Je,Zi),i}finally{bt=t,Bi=!1}}return null}var Vi=[],Hi=0,Wi=null,Gi=0,qi=[],Xi=0,Ki=null,Yi=1,Qi="";function $i(e,t){Vi[Hi++]=Gi,Vi[Hi++]=Wi,Wi=e,Gi=t}function Ji(e,t,n){qi[Xi++]=Yi,qi[Xi++]=Qi,qi[Xi++]=Ki,Ki=e;var r=Yi;e=Qi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Qi=a+e}else Yi=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&($i(e,1),Ji(e,1,0))}function ta(e){for(;e===Wi;)Wi=Vi[--Hi],Vi[Hi]=null,Gi=Vi[--Hi],Vi[Hi]=null;for(;e===Ki;)Ki=qi[--Xi],qi[Xi]=null,Qi=qi[--Xi],qi[Xi]=null,Yi=qi[--Xi],qi[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Yi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=li(e.nextSibling)}function pa(){ra=na=null,ia=!1}function ha(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=ki(null),ya=null,ba=null,wa=null;function xa(){wa=ba=ya=null}function _a(e){var t=ga.current;Ei(ga),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ca=null;function Ma(e){null===Ca?Ca=[e]:Ca.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ma(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ma(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Na(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(d=t,p=n,v.tag){case 1:if("function"===typeof(h=v.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(d="function"===typeof(h=v.payload)?h.call(p,f,d):h)||void 0===d)break e;f=z({},f,d);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=p,u=f):c=c.next=p,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Nu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nl(t,e,r,n),La(t,e,r))}};function Za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Va(e,t,n){var r=!1,i=Mi,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ii(t)?Ai:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ii(t)?Ai:Ti.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),za(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&Xa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=Fl(t,e.mode,n)).return=e,t;case I:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case I:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=p(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(i,f),ia&&$i(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&$i(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=h(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&$i(i,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,l))&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return ia&&$i(i,m),c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=h(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===I&&Xa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Ll(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ol(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(o,r.mode,u)).return=r,r=a}return s(r);case I:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=zl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Ka(!0),Qa=Ka(!1),$a={},Ja=ki($a),eo=ki($a),to=ki($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Ja,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),Ci(Ja,t)}function io(){Ei(Ja),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Ja.current),n=ue(t,e.type);t!==n&&(Ci(eo,e),Ci(Ja,n))}function oo(e){eo.current===e&&(Ei(Ja),Ei(eo))}var so=ki(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=w.ReactCurrentDispatcher,po=w.ReactCurrentBatchConfig,ho=0,vo=null,mo=null,go=null,yo=!1,bo=!1,wo=0,xo=0;function _o(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(ho=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,ho=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==wo;return wo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Mo(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Mo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((ho&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,vo.lanes|=f,Nu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Nu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Mo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Io(e,t){var n=vo,r=Mo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&ho)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&zo(e)}function Lo(e,t,n){return n((function(){No(t)&&zo(e)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function zo(e){var t=Pa(e,1);null!==t&&nl(t,e,1,-1)}function Fo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Mo().memoizedState}function Uo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Zo(e,t,n,r){var i=Mo();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Vo(e,t){return Uo(8390656,8,e,t)}function Ho(e,t){return Zo(2048,8,e,t)}function Wo(e,t){return Zo(4,2,e,t)}function Go(e,t){return Zo(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zo(4,4,qo.bind(null,t,e),n)}function Ko(){}function Yo(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Nu|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{bt=n,po.transition=r}}function es(){return Mo().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ma(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ta(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Fo,useDebugValue:Ko,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Jo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&ho)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Pu.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Qo,useReducer:Po,useRef:Bo,useState:function(){return Po(To)},useDebugValue:Ko,useDeferredValue:function(e){return $o(Mo(),mo.memoizedState,e)},useTransition:function(){return[Po(To)[0],Mo().memoizedState]},useMutableSource:Do,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Qo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(To)},useDebugValue:Ko,useDeferredValue:function(e){var t=Mo();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Ao(To)[0],Mo().memoizedState]},useMutableSource:Do,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),ds(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Ya(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return ka(t,i),r=ko(e,t,n,r,a,i),n=Eo(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Il(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Rl(a,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ms(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ru,Iu),Iu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ru,Iu),Iu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ru,Iu),Iu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ru,Iu),Iu|=r;return xs(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,i){var a=Ii(n)?Ai:Ti.current;return a=Di(t,a),ka(t,i),n=ko(e,t,n,r,a,i),r=Eo(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Ii(n)){var a=!0;Ni(t)}else a=!1;if(ka(t,i),null===t.stateNode)Vs(e,t),Va(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ea(l):l=Di(t,l=Ii(n)?Ai:Ti.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ha(t,o,r,l),Aa=!1;var d=t.memoizedState;o.state=d,za(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Pi.current||Aa?("function"===typeof c&&(Ba(t,n,c,r),u=t.memoizedState),(s=Aa||Za(t,n,s,r,d,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ia(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Di(t,u=Ii(n)?Ai:Ti.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Ha(t,o,r,u),Aa=!1,d=t.memoizedState,o.state=d,za(t,r,o,i);var h=t.memoizedState;s!==f||d!==h||Pi.current||Aa?("function"===typeof p&&(Ba(t,n,p,r),h=t.memoizedState),(l=Aa||Za(t,n,l,r,d,h,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&zi(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ds(e,t,n,r,i){return pa(),ha(i),t.flags|=256,xs(e,t,n,r),t.child}var Is,Rs,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Nl(u,i,0,null),e=Ll(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ns(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Nl({mode:"visible",children:r.children},i,0,null),(o=Ll(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ns(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,js(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),nl(r,e,i,-1))}return vl(),js(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ml.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(qi[Xi++]=Yi,qi[Xi++]=Qi,qi[Xi++]=Ki,Yi=e.id,Qi=e.overflow,Ki=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Rl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rl(r,s):(s=Ll(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ns(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Rl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Nl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&ha(r),Ya(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Us(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ii(t.type)&&Ri(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Pi),Ei(Ti),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":G(r),J(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[pi]=r,Is(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=K(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),pa(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):vl())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&Zr(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Zu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Qe()-o.renderingStartTime>Zu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Iu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xs(e,t){switch(ta(t),t.tag){case 1:return Ii(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Pi),Ei(Ti),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=K(e,i),r=K(e,r),o=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Ys=!1,Qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){kl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Js(n,t);case 6:var r=cu,i=fu;cu=null,du(e,t,n),fu=i,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Zt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=fu,cu=n.stateNode.containerInfo,fu=!0,du(e,t,n),cu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Ys&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,du(e,t,n),Ys=r):du(e,t,n);break;default:du(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));pu(o,s,i),cu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){kl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){kl(e,e.return,m)}try{nu(5,e,e.return)}catch(m){kl(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){kl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Q(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,c)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(i,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(m){kl(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){kl(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(m){kl(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Uu=Qe())),4&r&&hu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||f,vu(t,e),Ys=c):vu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for($s=e,f=e.child;null!==f;){for(d=$s=f;null!==$s;){switch(h=(p=$s).child,p.tag){case 0:case 11:case 14:case 15:nu(4,p,p.return);break;case 1:Js(p,p.return);var v=p.stateNode;if("function"===typeof v.componentWillUnmount){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){kl(r,n,m)}}break;case 5:Js(p,p.return);break;case 22:if(null!==p.memoizedState){xu(d);continue}}null!==h?(h.return=p,$s=h):xu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){kl(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){kl(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),gu(e),4&r&&hu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){kl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){$s=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Ks;var l=Ys;if(Ks=o,(Ys=u)&&!l)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,$s=u):_u(i);for(;null!==a;)$s=a,bu(a,t,n),a=a.sibling;$s=i,Ks=s,Ys=l}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):wu(e)}}function wu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Zt(d)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(p){kl(t,t.return,p)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function xu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function _u(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){kl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){kl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){kl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){kl(t,o,u)}}}catch(u){kl(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Su,ku=Math.ceil,Eu=w.ReactCurrentDispatcher,Cu=w.ReactCurrentOwner,Mu=w.ReactCurrentBatchConfig,Tu=0,Pu=null,Au=null,Du=0,Iu=0,Ru=ki(0),Ou=0,Lu=null,Nu=0,zu=0,Fu=0,ju=null,Bu=null,Uu=0,Zu=1/0,Vu=null,Hu=!1,Wu=null,Gu=null,qu=!1,Xu=null,Ku=0,Yu=0,Qu=null,$u=-1,Ju=0;function el(){return 0!==(6&Tu)?Qe():-1!==$u?$u:$u=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Du?Du&-Du:null!==va.transition?(0===Ju&&(Ju=vt()),Ju):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Yu)throw Yu=0,Qu=null,Error(a(185));gt(e,n,r),0!==(2&Tu)&&e===Pu||(e===Pu&&(0===(2&Tu)&&(zu|=n),4===Ou&&sl(e,Du)),rl(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(Zu=Qe()+500,ji&&Zi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Pu?Du:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){ji=!0,Ui(e)}(ul.bind(null,e)):Ui(ul.bind(null,e)),oi((function(){0===(6&Tu)&&Zi()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if($u=-1,Ju=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=dt(e,e===Pu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Tu;Tu|=2;var o=hl();for(Pu===e&&Du===t||(Vu=null,Zu=Qe()+500,dl(e,t));;)try{yl();break}catch(u){pl(e,u)}xa(),Eu.current=o,Tu=i,null!==Au?t=0:(Pu=null,Du=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=al(e,i))),1===t)throw n=Lu,dl(e,0),sl(e,r),rl(e,Qe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=ht(e))&&(r=o,t=al(e,o))),1===t))throw n=Lu,dl(e,0),sl(e,r),rl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xl(e,Bu,Vu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Uu+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xl.bind(null,e,Bu,Vu),t);break}xl(e,Bu,Vu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){e.timeoutHandle=ri(xl.bind(null,e,Bu,Vu),r);break}xl(e,Bu,Vu);break;default:throw Error(a(329))}}}return rl(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Bu,Bu=n,null!==t&&ol(t)),e}function ol(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sl(e,t){for(t&=~Fu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Tu))throw Error(a(327));_l();var t=dt(e,0);if(0===(1&t))return rl(e,Qe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Lu,dl(e,0),sl(e,t),rl(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,Bu,Vu),rl(e,Qe()),null}function ll(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(Zu=Qe()+500,ji&&Zi())}}function cl(e){null!==Xu&&0===Xu.tag&&0===(6&Tu)&&_l();var t=Tu;Tu|=1;var n=Mu.transition,r=bt;try{if(Mu.transition=null,bt=1,e)return e()}finally{bt=r,Mu.transition=n,0===(6&(Tu=t))&&Zi()}}function fl(){Iu=Ru.current,Ei(Ru)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Pi),Ei(Ti),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Pu=e,Au=e=Rl(e.current,null),Du=Iu=t,Ou=0,Lu=null,Fu=zu=Nu=0,Bu=ju=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pl(e,t){for(;;){var n=Au;try{if(xa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(ho=0,go=mo=vo=null,bo=!1,wo=0,Cu.current=null,null===n||null===n.return){Ou=1,Lu=t,Au=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Du,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ys(h,s,u,0,t),1&h.mode&&ms(o,c,t),l=c;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),ha(cs(l,u));break e}}o=l=cs(l,u),4!==Ou&&(Ou=2),null===ju?ju=[o]:ju.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Na(o,hs(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Na(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(w){t=w,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function hl(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vl(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Pu||0===(268435455&Nu)&&0===(268435455&zu)||sl(Pu,Du)}function ml(e,t){var n=Tu;Tu|=2;var r=hl();for(Pu===e&&Du===t||(Vu=null,dl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(xa(),Tu=n,Eu.current=r,null!==Au)throw Error(a(261));return Pu=null,Du=0,Ou}function gl(){for(;null!==Au;)bl(Au)}function yl(){for(;null!==Au&&!Ke();)bl(Au)}function bl(e){var t=Su(e.alternate,e,Iu);e.memoizedProps=e.pendingProps,null===t?wl(e):Au=t,Cu.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Iu)))return void(Au=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Ou=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Ou&&(Ou=5)}function xl(e,t,n){var r=bt,i=Mu.transition;try{Mu.transition=null,bt=1,function(e,t,n,r){do{_l()}while(null!==Xu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Au=Pu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qu||(qu=!0,Pl(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Mu.transition,Mu.transition=null;var s=bt;bt=1;var u=Tu;Tu|=4,Cu.current=null,function(e,t){if(ei=Ht,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===i&&(u=s),p===o&&++f===r&&(l=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(x){kl(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=tu,tu=!1}(e,n),mu(n,e),hr(ti),Ht=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Ye(),Tu=u,bt=s,Mu.transition=o}else e.current=n;if(qu&&(qu=!1,Xu=e,Ku=i),0===(o=e.pendingLanes)&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Ku)&&0!==e.tag&&_l(),0!==(1&(o=e.pendingLanes))?e===Qu?Yu++:(Yu=0,Qu=e):Yu=0,Zi()}(e,t,n,r)}finally{Mu.transition=i,bt=r}return null}function _l(){if(null!==Xu){var e=wt(Ku),t=Mu.transition,n=bt;try{if(Mu.transition=null,bt=16>e?16:e,null===Xu)var r=!1;else{if(e=Xu,Xu=null,Ku=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($s=c;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var d=f.child;if(null!==d)d.return=f,$s=d;else for(;null!==$s;){var p=(f=$s).sibling,h=f.return;if(au(f),f===c){$s=null;break}if(null!==p){p.return=h,$s=p;break}$s=h}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var w=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,$s=w;else e:for(s=b;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){kl(u,u.return,_)}if(u===s){$s=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,$s=x;break e}$s=u.return}}if(Tu=i,Zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Mu.transition=t}}return!1}function Sl(e,t,n){e=Oa(e,t=hs(0,t=cs(n,t),1),1),t=el(),null!==e&&(gt(e,1,t),rl(e,t))}function kl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Oa(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(gt(t,1,e),rl(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Du&n)===n&&(4===Ou||3===Ou&&(130023424&Du)===Du&&500>Qe()-Uu?dl(e,0):Fu|=n),rl(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Pa(e,t))&&(gt(e,t,n),rl(e,n))}function Ml(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cl(e,n)}function Pl(e,t){return qe(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new Al(e,t,n,r)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Il(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ll(n.children,i,o,t);case k:s=8,i|=8;break;case E:return(e=Dl(12,n,t,2|i)).elementType=E,e.lanes=o,e;case P:return(e=Dl(13,n,t,i)).elementType=P,e.lanes=o,e;case A:return(e=Dl(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Nl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case M:s=9;break e;case T:s=11;break e;case D:s=14;break e;case I:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ll(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function Nl(e,t,n,r){return(e=Dl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function zl(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new jl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Ul(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zl(e){if(!e)return Mi;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Li(e,n,t)}return t}function Vl(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=Zl(null),n=e.current,(a=Ra(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),rl(e,r),e}function Hl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nl(e,i,o,a),La(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ql(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:As(t),pa();break;case 5:ao(t);break;case 1:Ii(t.type)&&Ni(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(Ci(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Di(t,Ti.current);ka(t,n),i=ko(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,Ni(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Il(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ms(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ia(e,t),za(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Hs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return zs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Pi.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Ra(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ka(t,n),r=r(i=Ea(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Ss(e,t,r,i=ma(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Vs(e,t),t.tag=1,Ii(r)?(e=!0,Ni(t)):e=!1,ka(t,n),Va(t,r,i),Wa(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Zs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=Vl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[hi]=o.current,Zr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[hi]=u.current,Zr(8===e.nodeType?e.parentNode:e),cl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},Yl.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Hl(null,e,null,null)})),t[hi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&zt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Qe()),0===(6&Tu)&&(Zu=Qe()+500,Zi()))}break;case 13:cl((function(){var t=Pa(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),ql(e,1)}},_t=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)nl(t,e,134217728,el());ql(e,134217728)}},St=function(e){if(13===e.tag){var t=tl(e),n=Pa(e,t);if(null!==n)nl(n,e,t,el());ql(e,t)}},kt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));q(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=ll,Pe=cl;var tc={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ce,Me,ll]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(a(200));return Ul(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(a(299));var n=!1,r="",i=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Zr(8===e.nodeType?e.parentNode:e),new Kl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!$l(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vl(t,null,e,1,null!=n?n:null,i,0,o,s),e[hi]=t.current,Zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!$l(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},8194:function(e,t,n){"use strict";var r=n(9339);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},9339:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(3522)},3802:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,l=60112,c=60113,f=60120,d=60115,p=60116,h=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),u=b("react.context"),l=b("react.forward_ref"),c=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),p=b("react.lazy"),h=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case p:case d:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===u}},9667:function(e,t,n){"use strict";e.exports=n(3802)},8917:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},8960:function(e,t,n){e.exports=function(e){var t={},r=n(3358),i=n(5054),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var x=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case l:return"Portal";case d:return"Profiler";case f:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return S(e(t))}catch(n){}}return null}function k(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function C(e){if(E(e)!==e)throw Error(o(188))}function M(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return C(i),e;if(a===r)return C(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function T(e){return null!==(e=M(e))?P(e):null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=P(e);if(null!==t)return t;e=e.sibling}return null}function A(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=A(e);if(null!==t)return t}e=e.sibling}return null}var D,I=Array.isArray,R=e.getPublicInstance,O=e.getRootHostContext,L=e.getChildHostContext,N=e.prepareForCommit,z=e.resetAfterCommit,F=e.createInstance,j=e.appendInitialChild,B=e.finalizeInitialChildren,U=e.prepareUpdate,Z=e.shouldSetTextContent,V=e.createTextInstance,H=e.scheduleTimeout,W=e.cancelTimeout,G=e.noTimeout,q=e.isPrimaryRenderer,X=e.supportsMutation,K=e.supportsPersistence,Y=e.supportsHydration,Q=e.getInstanceFromNode,$=e.preparePortalMount,J=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,ue=e.matchAccessibilityRole,le=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,fe=e.appendChild,de=e.appendChildToContainer,pe=e.commitTextUpdate,he=e.commitMount,ve=e.commitUpdate,me=e.insertBefore,ge=e.insertInContainerBefore,ye=e.removeChild,be=e.removeChildFromContainer,we=e.resetTextContent,xe=e.hideInstance,_e=e.hideTextInstance,Se=e.unhideInstance,ke=e.unhideTextInstance,Ee=e.clearContainer,Ce=e.cloneInstance,Me=e.createContainerChildSet,Te=e.appendChildToContainerChildSet,Pe=e.finalizeContainerChildren,Ae=e.replaceContainerChildren,De=e.cloneHiddenInstance,Ie=e.cloneHiddenTextInstance,Re=e.canHydrateInstance,Oe=e.canHydrateTextInstance,Le=e.canHydrateSuspenseInstance,Ne=e.isSuspenseInstancePending,ze=e.isSuspenseInstanceFallback,Fe=e.registerSuspenseInstanceRetry,je=e.getNextHydratableSibling,Be=e.getFirstHydratableChild,Ue=e.getFirstHydratableChildWithinContainer,Ze=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,He=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,Ge=e.getNextHydratableInstanceAfterSuspenseInstance,qe=e.commitHydratedContainer,Xe=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,Ye=e.clearSuspenseBoundaryFromContainer,Qe=e.shouldDeleteUnhydratedTailInstances,$e=e.didNotMatchHydratedContainerTextInstance,Je=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function ut(e,t){at++,it[at]=e.current,e.current=t}var lt={},ct=ot(lt),ft=ot(!1),dt=lt;function pt(e,t){var n=e.type.contextTypes;if(!n)return lt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ht(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vt(){st(ft),st(ct)}function mt(e,t,n){if(ct.current!==lt)throw Error(o(168));ut(ct,t),ut(ft,n)}function gt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,k(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lt,dt=ct.current,ut(ct,e),ut(ft,ft.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gt(e,t,dt),r.__reactInternalMemoizedMergedChildContext=e,st(ft),st(ct),ut(ct,e)):st(ft),ut(ft,n)}var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xt(e)/_t|0)|0},xt=Math.log,_t=Math.LN2;var St=64,kt=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Et(s):0!==(a&=o)&&(r=Et(a))}else 0!==(o=n&~i)?r=Et(o):0!==a&&(r=Et(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-wt(t)),r|=e[n],t&=~i;return r}function Mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function At(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-wt(t)]=n}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function Rt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ot=i.unstable_scheduleCallback,Lt=i.unstable_cancelCallback,Nt=i.unstable_shouldYield,zt=i.unstable_requestPaint,Ft=i.unstable_now,jt=i.unstable_ImmediatePriority,Bt=i.unstable_UserBlockingPriority,Ut=i.unstable_NormalPriority,Zt=i.unstable_IdlePriority,Vt=null,Ht=null;var Wt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Gt=null,qt=!1,Xt=!1;function Kt(e){null===Gt?Gt=[e]:Gt.push(e)}function Yt(){if(!Xt&&null!==Gt){Xt=!0;var e=0,t=It;try{var n=Gt;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gt=null,qt=!1}catch(i){throw null!==Gt&&(Gt=Gt.slice(e+1)),Ot(jt,Yt),i}finally{It=t,Xt=!1}}return null}var Qt=s.ReactCurrentBatchConfig;function $t(e,t){if(Wt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function Jt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){q?(ut(tn,t._currentValue),t._currentValue=n):(ut(tn,t._currentValue2),t._currentValue2=n)}function un(e){var t=tn.current;st(tn),q?e._currentValue=t:e._currentValue2=t}function ln(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ni=!0),e.firstContext=null)}function fn(e){var t=q?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var dn=null,pn=!1;function hn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xa&&0!==(1&e.mode)&&0===(2&qa)?(null===(e=n.interleaved)?(t.next=t,null===dn?dn=[n]:dn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Dt(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wn(e,t,n,r){var i=e.updateQueue;pn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var f=e.alternate;null!==f&&((u=(f=f.updateQueue).lastBaseUpdate)!==s&&(null===u?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,f=c=l=null,u=o;;){var p=u.lane,h=u.eventTime;if((r&p)===p){null!==f&&(f=f.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,m=u;switch(p=t,h=n,m.tag){case 1:if("function"===typeof(v=m.payload)){d=v.call(h,d,p);break e}d=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(p="function"===typeof(v=m.payload)?v.call(h,d,p):v)||void 0===p)break e;d=a({},d,p);break e;case 2:pn=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===f?(c=f=h,l=d):f=f.next=h,s|=p;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(p=u).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===f&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=d}}function xn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var _n=(new r.Component).refs;function Sn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var kn={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xo(),i=_o(e),a=mn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xo(),i=_o(e),a=mn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xo(),r=_o(e),i=mn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),null!==(t=So(e,r,n))&&yn(t,e,r)}};function En(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!$t(n,r)||!$t(i,a))}function Cn(e,t,n){var r=!1,i=lt,a=t.contextType;return"object"===typeof a&&null!==a?a=fn(a):(i=ht(t)?dt:ct.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?pt(e,i):lt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=kn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Mn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kn.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_n,hn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=fn(a):(a=ht(t)?dt:ct.current,i.context=pt(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&kn.enqueueReplaceState(i,i.state,null),wn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Pn=[],An=0,Dn=null,In=0,Rn=[],On=0,Ln=null,Nn=1,zn="";function Fn(e,t){Pn[An++]=In,Pn[An++]=Dn,Dn=e,In=t}function jn(e,t,n){Rn[On++]=Nn,Rn[On++]=zn,Rn[On++]=Ln,Ln=e;var r=Nn;e=zn;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var a=32-wt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nn=1<<32-wt(t)+i|n<<i|r,zn=a+e}else Nn=1<<a|n<<i|r,zn=e}function Bn(e){null!==e.return&&(Fn(e,1),jn(e,1,0))}function Un(e){for(;e===Dn;)Dn=Pn[--An],Pn[An]=null,In=Pn[--An],Pn[An]=null;for(;e===Ln;)Ln=Rn[--On],Rn[On]=null,zn=Rn[--On],Rn[On]=null,Nn=Rn[--On],Rn[On]=null}var Zn=null,Vn=null,Hn=!1,Wn=!1,Gn=null;function qn(e,t){var n=$o(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Xn(e,t){switch(e.tag){case 5:return null!==(t=Re(t,e.type,e.pendingProps))&&(e.stateNode=t,Zn=e,Vn=Be(t),!0);case 6:return null!==(t=Oe(t,e.pendingProps))&&(e.stateNode=t,Zn=e,Vn=null,!0);case 13:if(null!==(t=Le(t))){var n=null!==Ln?{id:Nn,overflow:zn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=$o(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Zn=e,Vn=null,!0}return!1;default:return!1}}function Kn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Yn(e){if(Hn){var t=Vn;if(t){var n=t;if(!Xn(e,t)){if(Kn(e))throw Error(o(418));t=je(n);var r=Zn;t&&Xn(e,t)?qn(r,n):(e.flags=-4097&e.flags|2,Hn=!1,Zn=e)}}else{if(Kn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Hn=!1,Zn=e}}}function Qn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Zn=e}function $n(e){if(!Y||e!==Zn)return!1;if(!Hn)return Qn(e),Hn=!0,!1;if(3!==e.tag&&(5!==e.tag||Qe(e.type)&&!Z(e.type,e.memoizedProps))){var t=Vn;if(t){if(Kn(e)){for(e=Vn;e;)e=je(e);throw Error(o(418))}for(;t;)qn(e,t),t=je(t)}}if(Qn(e),13===e.tag){if(!Y)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Vn=Ge(e)}else Vn=Zn?je(e.stateNode):null;return!0}function Jn(){Y&&(Vn=Zn=null,Wn=Hn=!1)}function er(e){null===Gn?Gn=[e]:Gn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===_n&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function f(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var a=n.type;return a===c?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===b&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case l:return(t=as(t,e.mode,n)).return=e,t;case b:return v(e,(0,t._init)(t._payload),n)}if(I(t)||_(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:f(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?d(e,t,n,r):null;case l:return n.key===i?p(e,t,n,r):null;case b:return m(e,t,(i=n._init)(n._payload),r)}if(I(n)||_(n))return null!==i?null:h(e,t,n,r,null);nr(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return f(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return p(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return g(e,t,n,(0,r._init)(r._payload),i)}if(I(r)||_(r))return h(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,s,u){for(var l=null,c=null,f=o,d=o=0,p=null;null!==f&&d<s.length;d++){f.index>d?(p=f,f=null):p=f.sibling;var h=m(i,f,s[d],u);if(null===h){null===f&&(f=p);break}e&&f&&null===h.alternate&&t(i,f),o=a(h,o,d),null===c?l=h:c.sibling=h,c=h,f=p}if(d===s.length)return n(i,f),Hn&&Fn(i,d),l;if(null===f){for(;d<s.length;d++)null!==(f=v(i,s[d],u))&&(o=a(f,o,d),null===c?l=f:c.sibling=f,c=f);return Hn&&Fn(i,d),l}for(f=r(i,f);d<s.length;d++)null!==(p=g(f,i,d,s[d],u))&&(e&&null!==p.alternate&&f.delete(null===p.key?d:p.key),o=a(p,o,d),null===c?l=p:c.sibling=p,c=p);return e&&f.forEach((function(e){return t(i,e)})),Hn&&Fn(i,d),l}function w(i,s,u,l){var c=_(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,d=s,p=s=0,h=null,y=u.next();null!==d&&!y.done;p++,y=u.next()){d.index>p?(h=d,d=null):h=d.sibling;var b=m(i,d,y.value,l);if(null===b){null===d&&(d=h);break}e&&d&&null===b.alternate&&t(i,d),s=a(b,s,p),null===f?c=b:f.sibling=b,f=b,d=h}if(y.done)return n(i,d),Hn&&Fn(i,p),c;if(null===d){for(;!y.done;p++,y=u.next())null!==(y=v(i,y.value,l))&&(s=a(y,s,p),null===f?c=y:f.sibling=y,f=y);return Hn&&Fn(i,p),c}for(d=r(i,d);!y.done;p++,y=u.next())null!==(y=g(d,i,p,y.value,l))&&(e&&null!==y.alternate&&d.delete(null===y.key?p:y.key),s=a(y,s,p),null===f?c=y:f.sibling=y,f=y);return e&&d.forEach((function(e){return t(i,e)})),Hn&&Fn(i,p),c}return function e(r,a,o,f){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case u:e:{for(var d=o.key,p=a;null!==p;){if(p.key===d){if((d=o.type)===c){if(7===p.tag){n(r,p.sibling),(a=i(p,o.props.children)).return=r,r=a;break e}}else if(p.elementType===d||"object"===typeof d&&null!==d&&d.$$typeof===b&&rr(d)===p.type){n(r,p.sibling),(a=i(p,o.props)).ref=tr(r,p,o),a.return=r,r=a;break e}n(r,p);break}t(r,p),p=p.sibling}o.type===c?((a=ns(o.props.children,r.mode,f,o.key)).return=r,r=a):((f=ts(o.type,o.key,o.props,null,r.mode,f)).ref=tr(r,a,o),f.return=r,r=f)}return s(r);case l:e:{for(p=o.key;null!==a;){if(a.key===p){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,f)).return=r,r=a}return s(r);case b:return e(r,a,(p=o._init)(o._payload),f)}if(I(o))return y(r,a,o,f);if(_(o))return w(r,a,o,f);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,f)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},ur=ot(sr),lr=ot(sr),cr=ot(sr);function fr(e){if(e===sr)throw Error(o(174));return e}function dr(e,t){ut(cr,t),ut(lr,e),ut(ur,sr),e=O(t),st(ur),ut(ur,e)}function pr(){st(ur),st(lr),st(cr)}function hr(e){var t=fr(cr.current),n=fr(ur.current);n!==(t=L(n,e.type,t))&&(ut(lr,e),ut(ur,t))}function vr(e){lr.current===e&&(st(ur),st(lr))}var mr=ot(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ne(n)||ze(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function br(){for(var e=0;e<yr.length;e++){var t=yr[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var wr=s.ReactCurrentDispatcher,xr=s.ReactCurrentBatchConfig,_r=0,Sr=null,kr=null,Er=null,Cr=!1,Mr=!1,Tr=0,Pr=0;function Ar(){throw Error(o(321))}function Dr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Ir(e,t,n,r,i,a){if(_r=a,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wr.current=null===e||null===e.memoizedState?hi:vi,e=n(r,i),Mr){a=0;do{if(Mr=!1,Tr=0,25<=a)throw Error(o(301));a+=1,Er=kr=null,t.updateQueue=null,wr.current=mi,e=n(r,i)}while(Mr)}if(wr.current=pi,t=null!==kr&&null!==kr.next,_r=0,Er=kr=Sr=null,Cr=!1,t)throw Error(o(300));return e}function Rr(){var e=0!==Tr;return Tr=0,e}function Or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Er?Sr.memoizedState=Er=e:Er=Er.next=e,Er}function Lr(){if(null===kr){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=kr.next;var t=null===Er?Sr.memoizedState:Er.next;if(null!==t)Er=t,kr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(kr=e).memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},null===Er?Sr.memoizedState=Er=e:Er=Er.next=e}return Er}function Nr(e,t){return"function"===typeof t?t(e):t}function zr(e){var t=Lr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=kr,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var f=c.lane;if((_r&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,Sr.lanes|=f,to|=f}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,Wt(r,t.memoizedState)||(Ni=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,Sr.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fr(e){var t=Lr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Wt(a,t.memoizedState)||(Ni=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function jr(){}function Br(e,t){var n=Sr,r=Lr(),i=t(),a=!Wt(r.memoizedState,i);if(a&&(r.memoizedState=i,Ni=!0),r=r.queue,Qr(Vr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Er&&1&Er.memoizedState.tag){if(n.flags|=2048,Gr(9,Zr.bind(null,n,r,i,t),void 0,null),null===Xa)throw Error(o(349));0!==(30&_r)||Ur(n,t,i)}return i}function Ur(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Zr(e,t,n,r){t.value=n,t.getSnapshot=r,Hr(t)&&So(e,1,-1)}function Vr(e,t,n){return n((function(){Hr(t)&&So(e,1,-1)}))}function Hr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function Wr(e){var t=Or();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=ui.bind(null,Sr,e),[t.memoizedState,e]}function Gr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qr(){return Lr().memoizedState}function Xr(e,t,n,r){var i=Or();Sr.flags|=e,i.memoizedState=Gr(1|t,n,void 0,void 0===r?null:r)}function Kr(e,t,n,r){var i=Lr();r=void 0===r?null:r;var a=void 0;if(null!==kr){var o=kr.memoizedState;if(a=o.destroy,null!==r&&Dr(r,o.deps))return void(i.memoizedState=Gr(t,n,a,r))}Sr.flags|=e,i.memoizedState=Gr(1|t,n,a,r)}function Yr(e,t){return Xr(8390656,8,e,t)}function Qr(e,t){return Kr(2048,8,e,t)}function $r(e,t){return Kr(4,2,e,t)}function Jr(e,t){return Kr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Kr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Dr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Dr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=xr.transition;xr.transition={};try{e(!1),t()}finally{It=n,xr.transition=r}}function oi(){return Lr().memoizedState}function si(e,t,n){var r=_o(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},li(e)?ci(t,n):(fi(e,t,n),null!==(e=So(e,r,n=xo()))&&di(e,t,r))}function ui(e,t,n){var r=_o(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(li(e))ci(t,i);else{fi(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Wt(s,o))return}catch(u){}null!==(e=So(e,r,n=xo()))&&di(e,t,r)}}function li(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ci(e,t){Mr=Cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fi(e,t,n){null!==Xa&&0!==(1&e.mode)&&0===(2&qa)?(null===(e=t.interleaved)?(n.next=n,null===dn?dn=[t]:dn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function di(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Dt(e,n)}}var pi={readContext:fn,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},hi={readContext:fn,useCallback:function(e,t){return Or().memoizedState=[e,void 0===t?null:t],e},useContext:fn,useEffect:Yr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Xr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xr(4,2,e,t)},useMemo:function(e,t){var n=Or();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Or();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Or().memoizedState=e},useState:Wr,useDebugValue:ni,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return Yr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=ai.bind(null,e[1]),Or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=Or();if(Hn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Xa)throw Error(o(349));0!==(30&_r)||Ur(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Yr(Vr.bind(null,r,a,e),[e]),r.flags|=2048,Gr(9,Zr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Or(),t=Xa.identifierPrefix;if(Hn){var n=zn;t=":"+t+"R"+(n=(Nn&~(1<<32-wt(Nn)-1)).toString(32)+n),0<(n=Tr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Pr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vi={readContext:fn,useCallback:ri,useContext:fn,useEffect:Qr,useImperativeHandle:ti,useInsertionEffect:$r,useLayoutEffect:Jr,useMemo:ii,useReducer:zr,useRef:qr,useState:function(){return zr(Nr)},useDebugValue:ni,useDeferredValue:function(e){var t=zr(Nr),n=t[0],r=t[1];return Qr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[zr(Nr)[0],Lr().memoizedState]},useMutableSource:jr,useSyncExternalStore:Br,useId:oi,unstable_isNewReconciler:!1},mi={readContext:fn,useCallback:ri,useContext:fn,useEffect:Qr,useImperativeHandle:ti,useInsertionEffect:$r,useLayoutEffect:Jr,useMemo:ii,useReducer:Fr,useRef:qr,useState:function(){return Fr(Nr)},useDebugValue:ni,useDeferredValue:function(e){var t=Fr(Nr),n=t[0],r=t[1];return Qr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[Fr(Nr)[0],Lr().memoizedState]},useMutableSource:jr,useSyncExternalStore:Br,useId:oi,unstable_isNewReconciler:!1};function gi(e,t){try{var n="",r=t;do{n+=Jt(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi,wi,xi,_i,Si="function"===typeof WeakMap?WeakMap:Map;function ki(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,fo=r),yi(0,t)},n}function Ei(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!==typeof r&&(null===po?po=new Set([this]):po.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ci(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Si;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Go.bind(null,e,t,n),t.then(e,e))}function Mi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ti(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=mn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Pi(e){e.flags|=4}function Ai(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(X)bi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)j(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},wi=function(){},xi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=fr(ur.current);n=U(a,n,e,r,i,o),(t.updateQueue=n)&&Pi(t)}},_i=function(e,t,n,r){n!==r&&Pi(t)};else if(K){bi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=De(a,i.type,i.memoizedProps,i)),j(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ie(a,i.memoizedProps,i)),j(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),bi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Di=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=De(o,a.type,a.memoizedProps,a)),Te(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Ie(o,a.memoizedProps,a)),Te(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};wi=function(e,t){var n=t.stateNode;if(!Ai(e,t)){e=n.containerInfo;var r=Me(e);Di(r,t,!1,!1),n.pendingChildren=r,Pi(t),Pe(e,r)}},xi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Ai(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,u=fr(ur.current),l=null;o!==r&&(l=U(s,n,o,r,i,u)),e&&null===l?t.stateNode=a:(a=Ce(a,l,n,o,r,t,e,s),B(a,n,r,i,u)&&Pi(t),t.stateNode=a,e?Pi(t):bi(a,t,!1,!1))}},_i=function(e,t,n,r){n!==r?(e=fr(cr.current),n=fr(ur.current),t.stateNode=V(r,e,n,t),Pi(t)):t.stateNode=e.stateNode}}else wi=function(){},xi=function(){},_i=function(){};function Ii(e,t){if(!Hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ri(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Oi(e,t,n){var r=t.pendingProps;switch(Un(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(t),null;case 1:case 17:return ht(t.type)&&vt(),Ri(t),null;case 3:return r=t.stateNode,pr(),st(ft),st(ct),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||($n(t)?Pi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Gn&&(To(Gn),Gn=null))),wi(e,t),Ri(t),null;case 5:vr(t),n=fr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)xi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ri(t),null}if(e=fr(ur.current),$n(t)){if(!Y)throw Error(o(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Pi(t)}else{var a=F(i,r,n,e,t);bi(a,t,!1,!1),t.stateNode=a,B(a,i,r,n,e)&&Pi(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ri(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=fr(cr.current),n=fr(ur.current),$n(t)){if(!Y)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=He(e,r,t,!Wn))&&null!==(i=Zn))switch(a=0!==(1&i.mode),i.tag){case 3:$e(i.stateNode.containerInfo,e,r,a);break;case 5:Je(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Pi(t)}else t.stateNode=V(r,e,n,t)}return Ri(t),null;case 13:if(st(mr),r=t.memoizedState,Hn&&null!==Vn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Vn;e;)e=je(e);return Jn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=$n(t),null===e){if(!r)throw Error(o(318));if(!Y)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));We(e,t)}else Jn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ri(t),null}return null!==Gn&&(To(Gn),Gn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?$n(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&mr.current)?0===Ja&&(Ja=3):No())),null!==t.updateQueue&&(t.flags|=4),Ri(t),null);case 4:return pr(),wi(e,t),null===e&&$(t.stateNode.containerInfo),Ri(t),null;case 10:return un(t.type._context),Ri(t),null;case 19:if(st(mr),null===(i=t.memoizedState))return Ri(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Ii(i,!1);else{if(0!==Ja||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=gr(e))){for(t.flags|=128,Ii(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return ut(mr,1&mr.current|2),t.child}e=e.sibling}null!==i.tail&&Ft()>so&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ii(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Hn)return Ri(t),null}else 2*Ft()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,e=mr.current,ut(mr,r?1&e|2:1&e),t):(Ri(t),null);case 22:case 23:return Io(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Qa)&&(Ri(t),X&&6&t.subtreeFlags&&(t.flags|=8192)):Ri(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Li=s.ReactCurrentOwner,Ni=!1;function zi(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Fi(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Ir(e,t,n,r,a,i),n=Rr(),null===e||Ni?(Hn&&n&&Bn(t),t.flags|=1,zi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function ji(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Jo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Bi(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:$t)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e}function Bi(e,t,n,r,i){if(null!==e&&$t(e.memoizedProps,r)&&e.ref===t.ref){if(Ni=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(Ni=!0)}return Vi(e,t,n,r,i)}function Ui(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},ut($a,Qa),Qa|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ut($a,Qa),Qa|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,ut($a,Qa),Qa|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ut($a,Qa),Qa|=r;return zi(e,t,i,n),t.child}function Zi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vi(e,t,n,r,i){var a=ht(n)?dt:ct.current;return a=pt(t,a),cn(t,i),n=Ir(e,t,n,r,a,i),r=Rr(),null===e||Ni?(Hn&&r&&Bn(t),t.flags|=1,zi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Hi(e,t,n,r,i){if(ht(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Cn(t,n,r),Tn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=fn(l):l=pt(t,l=ht(n)?dt:ct.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Mn(t,o,r,l),pn=!1;var d=t.memoizedState;o.state=d,wn(t,r,o,i),u=t.memoizedState,s!==r||d!==u||ft.current||pn?("function"===typeof c&&(Sn(t,n,c,r),u=t.memoizedState),(s=pn||En(t,n,s,r,d,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vn(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:en(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=fn(u):u=pt(t,u=ht(n)?dt:ct.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Mn(t,o,r,u),pn=!1,d=t.memoizedState,o.state=d,wn(t,r,o,i);var h=t.memoizedState;s!==f||d!==h||ft.current||pn?("function"===typeof p&&(Sn(t,n,p,r),h=t.memoizedState),(l=pn||En(t,n,l,r,d,h,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,a,i)}function Wi(e,t,n,r,i,a){Zi(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&bt(t,n,!1),ia(e,t,a);r=t.stateNode,Li.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):zi(e,t,s,a),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function Gi(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),dr(e,t.containerInfo)}function qi(e,t,n,r,i){return Jn(),er(i),t.flags|=256,zi(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function Ki(e){return{baseLanes:e,cachePool:null}}function Yi(e,t,n){var r,i=t.pendingProps,a=mr.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ut(mr,1&a),null===e)return Yn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:ze(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=rs(a,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ki(n),t.memoizedState=Xi,e):Qi(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=rs({mode:"visible",children:i.children},a,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Ki(n),t.memoizedState=Xi,s);if(0===(1&t.mode))t=ea(e,t,n,null);else if(ze(r))t=ea(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),Ni||i){if(null!==(i=Xa)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,So(e,i,-1))}No(),t=ea(e,t,n,Error(o(421)))}else Ne(r)?(t.flags|=128,t.child=e.child,t=Xo.bind(null,e),Fe(r,t),t=null):(n=a.treeContext,Y&&(Vn=Ze(r),Zn=t,Hn=!0,Gn=null,Wn=!1,null!==n&&(Rn[On++]=Nn,Rn[On++]=zn,Rn[On++]=Ln,Nn=n.id,zn=n.overflow,Ln=t)),(t=Qi(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Ji(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ki(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=$i(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Ji(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ki(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=$i(e,t,i.children,n),t.memoizedState=null,n)}function Qi(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $i(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ji(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Qi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ln(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(zi(e,t,r.children,n),0!==(2&(r=mr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(mr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(Un(t),t.tag){case 1:return ht(t.type)&&vt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return pr(),st(ft),st(ct),br(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return vr(t),null;case 13:if(st(mr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Jn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(mr),null;case 4:return pr(),null;case 10:return un(t.type._context),null;case 22:case 23:return Io(),null;default:return null}}var oa=!1,sa=!1,ua="function"===typeof WeakSet?WeakSet:Set,la=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Wo(e,t,r)}else n.current=null}function fa(e,t,n){try{n()}catch(r){Wo(e,t,r)}}var da=!1;function pa(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&fa(t,n,a)}i=i.next}while(i!==r)}}function ha(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=R(n);else e=n;"function"===typeof t?t(e):t.current=e}}function ma(e,t,n){if(Ht&&"function"===typeof Ht.onCommitFiberUnmount)try{Ht.onCommitFiberUnmount(Vt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&fa(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Wo(t,n,o)}break;case 5:ca(t,n);break;case 4:X?ka(e,t,n):K&&K&&(t=t.stateNode.containerInfo,n=Me(t),Ae(t,n))}}function ga(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||X&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ya(e){var t=e.alternate;null!==t&&(e.alternate=null,ya(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ba(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ba(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xa(e){if(X){e:{for(var t=e.return;null!==t;){if(ba(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(we(t),n.flags&=-33),Sa(e,n=wa(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,_a(e,n=wa(e),t);break;default:throw Error(o(161))}}}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function ka(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)ga(e,a,n),i?be(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?Ye(r,a.stateNode):Ke(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ma(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Ea(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:return pa(3,t,t.return),ha(3,t),void pa(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ve(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void pe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Y&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo));case 13:case 19:return void Ca(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return pa(3,t,t.return),ha(3,t),void pa(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ca(t);case 3:Y&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo)}e:if(K){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Ae(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ca(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ua),t.forEach((function(t){var r=Ko.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ma(e,t,n){la=e,Ta(e,t,n)}function Ta(e,t,n){for(var r=0!==(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||sa;s=oa;var l=sa;if(oa=o,(sa=u)&&!l)for(la=i;null!==la;)u=(o=la).child,22===o.tag&&null!==o.memoizedState?Da(i):null!==u?(u.return=o,la=u):Da(i);for(;null!==a;)la=a,Ta(a,t,n),a=a.sibling;la=i,oa=s,sa=l}Pa(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,la=a):Pa(e)}}function Pa(e){for(;null!==la;){var t=la;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sa||ha(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&xn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=R(t.child.stateNode);break;case 1:n=t.child.stateNode}xn(t,s,n)}break;case 5:var u=t.stateNode;null===n&&4&t.flags&&he(u,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Y&&null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&Xe(f)}}}break;default:throw Error(o(163))}sa||512&t.flags&&va(t)}catch(d){Wo(t,t.return,d)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function Aa(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function Da(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ha(4,t)}catch(u){Wo(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Wo(t,i,u)}}var a=t.return;try{va(t)}catch(u){Wo(t,a,u)}break;case 5:var o=t.return;try{va(t)}catch(u){Wo(t,o,u)}}}catch(u){Wo(t,t.return,u)}if(t===e){la=null;break}var s=t.sibling;if(null!==s){s.return=t.return,la=s;break}la=t.return}}var Ia=0,Ra=1,Oa=2,La=3,Na=4;if("function"===typeof Symbol&&Symbol.for){var za=Symbol.for;Ia=za("selector.component"),Ra=za("selector.has_pseudo_class"),Oa=za("selector.role"),La=za("selector.test_id"),Na=za("selector.text")}function Fa(e){var t=Q(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function ja(e,t){switch(t.$$typeof){case Ia:if(e.type===t.value)return!0;break;case Ra:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&ja(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Oa:if(5===e.tag&&ue(e.stateNode,t.value))return!0;break;case Na:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case La:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Ba(e){switch(e.$$typeof){case Ia:return"<"+(S(e.value)||"Unknown")+">";case Ra:return":has("+(Ba(e)||"")+")";case Oa:return'[role="'+e.value+'"]';case Na:return'"'+e.value+'"';case La:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Ua(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&ja(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Za(e,t){if(!re)throw Error(o(363));e=Ua(e=Fa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Va=Math.ceil,Ha=s.ReactCurrentDispatcher,Wa=s.ReactCurrentOwner,Ga=s.ReactCurrentBatchConfig,qa=0,Xa=null,Ka=null,Ya=0,Qa=0,$a=ot(0),Ja=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=1/0;function uo(){so=Ft()+500}var lo,co=!1,fo=null,po=null,ho=!1,vo=null,mo=0,go=0,yo=null,bo=-1,wo=0;function xo(){return 0!==(6&qa)?Ft():-1!==bo?bo:bo=Ft()}function _o(e){return 0===(1&e.mode)?1:0!==(2&qa)&&0!==Ya?Ya&-Ya:null!==Qt.transition?(0===wo&&(e=St,0===(4194240&(St<<=1))&&(St=64),wo=e),wo):0!==(e=It)?e:J()}function So(e,t,n){if(50<go)throw go=0,yo=null,Error(o(185));var r=ko(e,t);return null===r?null:(At(r,t,n),0!==(2&qa)&&r===Xa||(r===Xa&&(0===(2&qa)&&(no|=t),4===Ja&&Po(r,Ya)),Eo(r,n),1===t&&0===qa&&0===(1&e.mode)&&(uo(),qt&&Yt())),r)}function ko(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Eo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-wt(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=Mt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Ct(e,e===Xa?Ya:0);if(0===r)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){qt=!0,Kt(e)}(Ao.bind(null,e)):Kt(Ao.bind(null,e)),te?ne((function(){0===qa&&Yt()})):Ot(jt,Yt),n=null;else{switch(Rt(r)){case 1:n=jt;break;case 4:n=Bt;break;case 16:default:n=Ut;break;case 536870912:n=Zt}n=Yo(n,Co.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Co(e,t){if(bo=-1,wo=0,0!==(6&qa))throw Error(o(327));var n=e.callbackNode;if(Vo()&&e.callbackNode!==n)return null;var r=Ct(e,e===Xa?Ya:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=zo(e,r);else{t=r;var i=qa;qa|=2;var a=Lo();for(Xa===e&&Ya===t||(uo(),Ro(e,t));;)try{jo();break}catch(u){Oo(e,u)}on(),Ha.current=a,qa=i,null!==Ka?t=0:(Xa=null,Ya=0,t=Ja)}if(0!==t){if(2===t&&(0!==(i=Tt(e))&&(r=i,t=Mo(e,i))),1===t)throw n=eo,Ro(e,0),Po(e,r),Eo(e,Ft()),n;if(6===t)Po(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=zo(e,r))&&(0!==(a=Tt(e))&&(r=a,t=Mo(e,a))),1===t))throw n=eo,Ro(e,0),Po(e,r),Eo(e,Ft()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Zo(e,ao);break;case 3:if(Po(e,r),(130023424&r)===r&&10<(t=oo+500-Ft())){if(0!==Ct(e,0))break;if(((i=e.suspendedLanes)&r)!==r){xo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=H(Zo.bind(null,e,ao),t);break}Zo(e,ao);break;case 4:if(Po(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-wt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ft()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Va(r/1960))-r)){e.timeoutHandle=H(Zo.bind(null,e,ao),r);break}Zo(e,ao);break;default:throw Error(o(329))}}}return Eo(e,Ft()),e.callbackNode===n?Co.bind(null,e):null}function Mo(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Ro(e,t).flags|=256),2!==(e=zo(e,t))&&(t=ao,ao=n,null!==t&&To(t)),e}function To(e){null===ao?ao=e:ao.push.apply(ao,e)}function Po(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Ao(e){if(0!==(6&qa))throw Error(o(327));Vo();var t=Ct(e,0);if(0===(1&t))return Eo(e,Ft()),null;var n=zo(e,t);if(0!==e.tag&&2===n){var r=Tt(e);0!==r&&(t=r,n=Mo(e,r))}if(1===n)throw n=eo,Ro(e,0),Po(e,t),Eo(e,Ft()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zo(e,ao),Eo(e,Ft()),null}function Do(e){null!==vo&&0===vo.tag&&0===(6&qa)&&Vo();var t=qa;qa|=1;var n=Ga.transition,r=It;try{if(Ga.transition=null,It=1,e)return e()}finally{It=r,Ga.transition=n,0===(6&(qa=t))&&Yt()}}function Io(){Qa=$a.current,st($a)}function Ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==G&&(e.timeoutHandle=G,W(n)),null!==Ka)for(n=Ka.return;null!==n;){var r=n;switch(Un(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vt();break;case 3:pr(),st(ft),st(ct),br();break;case 5:vr(r);break;case 4:pr();break;case 13:case 19:st(mr);break;case 10:un(r.type._context);break;case 22:case 23:Io()}n=n.return}if(Xa=e,Ka=e=es(e.current,null),Ya=Qa=t,Ja=0,eo=null,ro=no=to=0,ao=io=null,null!==dn){for(t=0;t<dn.length;t++)if(null!==(r=(n=dn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}dn=null}return e}function Oo(e,t){for(;;){var n=Ka;try{if(on(),wr.current=pi,Cr){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Cr=!1}if(_r=0,Er=kr=Sr=null,Mr=!1,Tr=0,Wa.current=null,null===n||null===n.return){Ja=1,eo=t,Ka=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Ya,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Mi(s);if(null!==h){h.flags&=-257,Ti(h,s,u,0,t),1&h.mode&&Ci(a,c,t),l=c;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){Ci(a,c,t),No();break e}l=Error(o(426))}else if(Hn&&1&u.mode){var g=Mi(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ti(g,s,u,0,t),er(l);break e}}a=l,4!==Ja&&(Ja=2),null===io?io=[a]:io.push(a),l=gi(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,bn(u,ki(0,l,t));break e;case 1:a=l;var y=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===po||!po.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,bn(u,Ei(u,a,t));break e}}u=u.return}while(null!==u)}Uo(n)}catch(w){t=w,Ka===n&&null!==n&&(Ka=n=n.return);continue}break}}function Lo(){var e=Ha.current;return Ha.current=pi,null===e?pi:e}function No(){0!==Ja&&3!==Ja&&2!==Ja||(Ja=4),null===Xa||0===(268435455&to)&&0===(268435455&no)||Po(Xa,Ya)}function zo(e,t){var n=qa;qa|=2;var r=Lo();for(Xa===e&&Ya===t||Ro(e,t);;)try{Fo();break}catch(i){Oo(e,i)}if(on(),qa=n,Ha.current=r,null!==Ka)throw Error(o(261));return Xa=null,Ya=0,Ja}function Fo(){for(;null!==Ka;)Bo(Ka)}function jo(){for(;null!==Ka&&!Nt();)Bo(Ka)}function Bo(e){var t=lo(e.alternate,e,Qa);e.memoizedProps=e.pendingProps,null===t?Uo(e):Ka=t,Wa.current=null}function Uo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Oi(n,t,Qa)))return void(Ka=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(Ka=n);if(null===e)return Ja=6,void(Ka=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ka=t);Ka=t=e}while(null!==t);0===Ja&&(Ja=5)}function Zo(e,t){var n=It,r=Ga.transition;try{Ga.transition=null,It=1,function(e,t,n){do{Vo()}while(null!==vo);if(0!==(6&qa))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Xa&&(Ka=Xa=null,Ya=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||ho||(ho=!0,Yo(Ut,(function(){return Vo(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=Ga.transition,Ga.transition=null;var s=It;It=1;var u=qa;qa|=4,Wa.current=null,function(e,t){for(N(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:X&&Ee(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(u){Wo(e,e.return,u)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=da,da=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;X?ka(a,i,t):ga(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(x){Wo(i,t,x)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var s=t.flags;if(32&s&&X&&we(t.stateNode),512&s){var u=t.alternate;if(null!==u){var l=u.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=Ft())}break;case 22:var f=null!==t.memoizedState,d=t.alternate,p=null!==d&&null!==d.memoizedState;if(n=t,X)e:if(r=n,i=f,a=null,X)for(var h=r;;){if(5===h.tag){if(null===a){a=h;var v=h.stateNode;i?xe(v):Se(h.stateNode,h.memoizedProps)}}else if(6===h.tag){if(null===a){var m=h.stateNode;i?_e(m):ke(m,h.memoizedProps)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===r)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===r)break;for(;null===h.sibling;){if(null===h.return||h.return===r)break e;a===h&&(a=null),h=h.return}a===h&&(a=null),h.sibling.return=h.return,h=h.sibling}if(f&&!p&&0!==(1&n.mode)){la=n;for(var g=n.child;null!==g;){for(n=la=g;null!==la;){var y=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:pa(4,r,r.return);break;case 1:ca(r,r.return);var b=r.stateNode;if("function"===typeof b.componentWillUnmount){var w=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(x){Wo(r,w,x)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Aa(n);continue}}null!==y?(y.return=r,la=y):Aa(n)}g=g.sibling}}}switch(4102&s){case 2:xa(t),t.flags&=-3;break;case 6:xa(t),t.flags&=-3,Ea(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ea(t.alternate,t);break;case 4:Ea(t.alternate,t)}}catch(x){Wo(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),z(e.containerInfo),e.current=r,Ma(r,e,i),zt(),qa=u,It=s,Ga.transition=a}else e.current=r;if(ho&&(ho=!1,vo=e,mo=i),0===(a=e.pendingLanes)&&(po=null),function(e){if(Ht&&"function"===typeof Ht.onCommitFiberRoot)try{Ht.onCommitFiberRoot(Vt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Eo(e,Ft()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=fo,fo=null,e;0!==(1&mo)&&0!==e.tag&&Vo(),0!==(1&(a=e.pendingLanes))?e===yo?go++:(go=0,yo=e):go=0,Yt()}(e,t,n)}finally{Ga.transition=r,It=n}return null}function Vo(){if(null!==vo){var e=Rt(mo),t=Ga.transition,n=It;try{if(Ga.transition=null,It=16>e?16:e,null===vo)var r=!1;else{if(e=vo,vo=null,mo=0,0!==(6&qa))throw Error(o(331));var i=qa;for(qa|=4,la=e.current;null!==la;){var a=la,s=a.child;if(0!==(16&la.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(la=c;null!==la;){var f=la;switch(f.tag){case 0:case 11:case 15:pa(8,f,a)}var d=f.child;if(null!==d)d.return=f,la=d;else for(;null!==la;){var p=(f=la).sibling,h=f.return;if(ya(f),f===c){la=null;break}if(null!==p){p.return=h,la=p;break}la=h}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}la=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,la=s;else e:for(;null!==la;){if(0!==(2048&(a=la).flags))switch(a.tag){case 0:case 11:case 15:pa(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,la=y;break e}la=a.return}}var b=e.current;for(la=b;null!==la;){var w=(s=la).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,la=w;else e:for(s=b;null!==la;){if(0!==(2048&(u=la).flags))try{switch(u.tag){case 0:case 11:case 15:ha(9,u)}}catch(_){Wo(u,u.return,_)}if(u===s){la=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,la=x;break e}la=u.return}}if(qa=i,Yt(),Ht&&"function"===typeof Ht.onPostCommitFiberRoot)try{Ht.onPostCommitFiberRoot(Vt,e)}catch(_){}r=!0}return r}finally{It=n,Ga.transition=t}}return!1}function Ho(e,t,n){gn(e,t=ki(0,t=gi(n,t),1)),t=xo(),null!==(e=ko(e,1))&&(At(e,1,t),Eo(e,t))}function Wo(e,t,n){if(3===e.tag)Ho(e,e,n);else for(;null!==t;){if(3===t.tag){Ho(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===po||!po.has(r))){gn(t,e=Ei(t,e=gi(n,e),1)),e=xo(),null!==(t=ko(t,1))&&(At(t,1,e),Eo(t,e));break}}t=t.return}}function Go(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=xo(),e.pingedLanes|=e.suspendedLanes&n,Xa===e&&(Ya&n)===n&&(4===Ja||3===Ja&&(130023424&Ya)===Ya&&500>Ft()-oo?Ro(e,0):ro|=n),Eo(e,t)}function qo(e,t){0===t&&(0===(1&e.mode)?t=1:(t=kt,0===(130023424&(kt<<=1))&&(kt=4194304)));var n=xo();null!==(e=ko(e,t))&&(At(e,t,n),Eo(e,n))}function Xo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),qo(e,n)}function Ko(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),qo(e,n)}function Yo(e,t){return Ot(e,t)}function Qo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(e,t,n,r){return new Qo(e,t,n,r)}function Jo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=$o(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Jo(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case f:s=8,i|=8;break;case d:return(e=$o(12,n,t,2|i)).elementType=d,e.lanes=a,e;case m:return(e=$o(13,n,t,i)).elementType=m,e.lanes=a,e;case g:return(e=$o(19,n,t,i)).elementType=g,e.lanes=a,e;case w:return rs(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:s=10;break e;case h:s=9;break e;case v:s=11;break e;case y:s=14;break e;case b:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=$o(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=$o(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=$o(22,e,r,t)).elementType=w,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=$o(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=$o(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=G,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pt(0),this.expirationTimes=Pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.identifierPrefix=r,this.onRecoverableError=i,Y&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,u){return e=new os(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=$o(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},hn(a),e}function us(e){if(!e)return lt;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ht(n))return gt(e,n,t)}return t}function ls(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=T(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function fs(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function ds(e){return null===(e=T(e))?null:e.stateNode}function ps(){return null}return lo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ft.current)Ni=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ni=!1,function(e,t,n){switch(t.tag){case 3:Gi(t),Jn();break;case 5:hr(t);break;case 1:ht(t.type)&&yt(t);break;case 4:dr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ut(mr,1&mr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Yi(e,t,n):(ut(mr,1&mr.current),null!==(e=ia(e,t,n))?e.sibling:null);ut(mr,1&mr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,Ui(e,t,n)}return ia(e,t,n)}(e,t,n);Ni=0!==(131072&e.flags)}else Ni=!1,Hn&&0!==(1048576&t.flags)&&jn(t,In,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=pt(t,ct.current);cn(t,n),i=Ir(null,t,r,e,i,n);var a=Rr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,hn(t),i.updater=kn,t.stateNode=i,i._reactInternals=t,Tn(t,r,e,n),t=Wi(null,t,r,!0,a,n)):(t.tag=0,Hn&&a&&Bn(t),zi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Jo(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Vi(null,t,r,e,n);break e;case 1:t=Hi(null,t,r,e,n);break e;case 11:t=Fi(null,t,r,e,n);break e;case 14:t=ji(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Hi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Gi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,vn(e,t),wn(t,r,null,n);var s=t.memoizedState;if(r=s.element,Y&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=qi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=qi(e,t,r,n,i=Error(o(424)));break e}for(Y&&(Vn=Ue(t.stateNode.containerInfo),Zn=t,Hn=!0,Gn=null,Wn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Jn(),r===i){t=ia(e,t,n);break e}zi(e,t,r,n)}t=t.child}return t;case 5:return hr(t),null===e&&Yn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Z(r,i)?s=null:null!==a&&Z(r,a)&&(t.flags|=32),Zi(e,t),zi(e,t,s,n),t.child;case 6:return null===e&&Yn(t),null;case 13:return Yi(e,t,n);case 4:return dr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):zi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return zi(e,t,t.pendingProps,n),t.child;case 8:case 12:return zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Wt(a.value,s)){if(a.children===i.children&&!ft.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=mn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ln(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ln(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}zi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=fn(i)),t.flags|=1,zi(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),ji(e,t,r,i=en(r.type,i),n);case 15:return Bi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ht(r)?(e=!0,yt(t)):e=!1,cn(t,n),Cn(t,r,i),Tn(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return Ui(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(So(e,134217728,xo()),fs(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=xo(),n=_o(e);So(e,n,t),fs(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(Dt(t,1|n),Eo(t,Ft()),0===(6&qa)&&(uo(),Yt()))}break;case 13:var r=xo();Do((function(){return So(e,1,r)})),fs(e,1)}},t.batchedUpdates=function(e,t){var n=qa;qa|=1;try{return e(t)}finally{0===(qa=n)&&(uo(),qt&&Yt())}},t.createComponentSelector=function(e){return{$$typeof:Ia,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ra,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,u){return(e=ss(n,r,!0,e,0,a,0,s,u)).context=us(null),n=e.current,(a=mn(r=xo(),i=_o(n))).callback=void 0!==t&&null!==t?t:null,gn(n,a),e.current.lanes=i,At(e,i,r),Eo(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Oa,value:e}},t.createTestNameSelector=function(e){return{$$typeof:La,value:e}},t.createTextSelector=function(e){return{$$typeof:Na,value:e}},t.deferredUpdates=function(e){var t=It,n=Ga.transition;try{return Ga.transition=null,It=16,e()}finally{It=t,Ga.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=It,o=Ga.transition;try{return Ga.transition=null,It=1,e(t,n,r,i)}finally{It=a,Ga.transition=o,0===qa&&uo()}},t.findAllNodes=Za,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Za(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,u=t-1;0<=u;u--)if(t!==u){var l=e[u],c=l.x,f=c+l.width,d=l.y,p=d+l.height;if(r>=c&&a>=d&&i<=f&&s<=p){e.splice(t,1);break}if(!(r!==c||n.width!==l.width||p<a||d>s)){d>a&&(l.height+=d-a,l.y=a),p<s&&(l.height=s-d),e.splice(t,1);break}if(!(a!==d||n.height!==l.height||f<r||c>i)){c>r&&(l.width+=c-r,l.x=r),f<i&&(l.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=ls,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=M(e))?A(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ls(e)},t.flushControlled=function(e){var t=qa;qa|=1;var n=Ga.transition,r=It;try{Ga.transition=null,It=1,e()}finally{It=r,Ga.transition=n,0===(qa=t)&&(uo(),Yt())}},t.flushPassiveEffects=Vo,t.flushSync=Do,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Ua(e=Fa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Fa(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],u=t[s];if((5!==a.tag||!se(a))&&(ja(a,u)&&(r.push(Ba(u)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ba(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?R(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:ds,findFiberByHostInstance:e.findFiberByHostInstance||ps,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Vt=t.inject(e),Ht=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Za(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=xo(),o=_o(i);return n=us(n),null===t.context?t.context=n:t.pendingContext=n,(t=mn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),null!==(e=So(i,o,a))&&yn(e,i,o),o},t}},5800:function(e,t,n){"use strict";e.exports=n(8917)},442:function(e,t,n){"use strict";e.exports=n(8960)},5477:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,p=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,R(_);else{var t=r(c);null!==t&&O(x,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(C),C=-1),h=!0;var a=p;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&O(x,f.startTime-n),u=!1}return u}finally{d=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,C=-1,M=5,T=-1;function P(){return!(t.unstable_now()-T<M)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,I=D.port2;D.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){g(A,0)};function R(e){E=e,k||(k=!0,S())}function O(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(C),C=-1):m=!0,O(x,a-o))):(e.sortIndex=s,n(l,e),v||h||(v=!0,R(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5054:function(e,t,n){"use strict";e.exports=n(5477)},8012:function(e,t,n){"use strict";var r=n(3358),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9104:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,x(o)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(M,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",x(e))for(var l=0;l<e.length;l++){var c=a+T(s=e[l],l);u+=P(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,c=a+T(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},R={transition:null},O={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)_.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},3358:function(e,t,n){"use strict";e.exports=n(9104)},2885:function(e,t,n){"use strict";e.exports=n(8012)},1533:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,p=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,R(_);else{var t=r(c);null!==t&&O(x,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(C),C=-1),h=!0;var a=p;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&O(x,f.startTime-n),u=!1}return u}finally{d=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,C=-1,M=5,T=-1;function P(){return!(t.unstable_now()-T<M)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,I=D.port2;D.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){g(A,0)};function R(e){E=e,k||(k=!0,S())}function O(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(C),C=-1):m=!0,O(x,a-o))):(e.sortIndex=s,n(l,e),v||h||(v=!0,R(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},4824:function(e,t,n){"use strict";e.exports=n(1533)},6821:function(e,t,n){"use strict";e=n.nmd(e);var r,i=n(366).default,a=n(3333).default,o=n(7240).default,s=n(7964).default,u=n(4790).default,l=n(1555).default,c=n(8648).default,f=n(653).default,d=n(202).default,p=n(3298).default,h=n(1795).default,v=n(1146).default,m=Object.create,g=Object.defineProperty,y=Object.defineProperties,b=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertyNames,_=Object.getOwnPropertySymbols,S=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,C=function(e,t,n){return t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},M=function(e,t){for(var n in t||(t={}))k.call(t,n)&&C(e,n,t[n]);if(_){var r,i=v(_(t));try{for(i.s();!(r=i.n()).done;){n=r.value;E.call(t,n)&&C(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},T=function(e,t){return y(e,w(t))},P=function(e,t){return function(){return t||(0,e[x(e)[0]])((t={exports:{}}).exports,t),t.exports}},A=function(e,t){for(var n in t)g(e,n,{get:t[n],enumerable:!0})},D=function(e,t,n,r){if(t&&"object"===typeof t||"function"===typeof t){var i,a=v(x(t));try{var o=function(){var a=i.value;k.call(e,a)||a===n||g(e,a,{get:function(){return t[a]},enumerable:!(r=b(t,a))||r.enumerable})};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}return e},I=function(e,t,n){return n=null!=e?m(S(e)):{},D(!t&&e&&e.__esModule?n:g(n,"default",{value:e,enumerable:!0}),e)},R=function(e,t,n){return C(e,"symbol"!==typeof t?t+"":t,n),n},O=P({"../node_modules/timing-function/lib/UnitBezier.js":function(e,t){t.exports=function(){function e(e,t,n,r){this.set(e,t,n,r)}return e.prototype.set=function(e,t,n,r){this._cx=3*e,this._bx=3*(n-e)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*t,this._by=3*(r-t)-this._cy,this._ay=1-this._cy-this._by},e.epsilon=1e-6,e.prototype._sampleCurveX=function(e){return((this._ax*e+this._bx)*e+this._cx)*e},e.prototype._sampleCurveY=function(e){return((this._ay*e+this._by)*e+this._cy)*e},e.prototype._sampleCurveDerivativeX=function(e){return(3*this._ax*e+2*this._bx)*e+this._cx},e.prototype._solveCurveX=function(e,t){var n,r,i,a,o,s;for(i=void 0,a=void 0,o=void 0,s=void 0,n=void 0,r=void 0,o=e,r=0;r<8;){if(s=this._sampleCurveX(o)-e,Math.abs(s)<t)return o;if(n=this._sampleCurveDerivativeX(o),Math.abs(n)<t)break;o-=s/n,r++}if((o=e)<(i=0))return i;if(o>(a=1))return a;for(;i<a;){if(s=this._sampleCurveX(o),Math.abs(s-e)<t)return o;e>s?i=o:a=o,o=.5*(a-i)+i}return o},e.prototype.solve=function(e,t){return this._sampleCurveY(this._solveCurveX(e,t))},e.prototype.solveSimple=function(e){return this._sampleCurveY(this._solveCurveX(e,1e-6))},e}()}}),L=P({"../node_modules/levenshtein-edit-distance/index.js":function(e,t){var n,r;n=[],r=[],t.exports=function(e,t,i){var a,o,s,u,l,c,f,d;if(e===t)return 0;if(a=e.length,o=t.length,0===a)return o;if(0===o)return a;for(i&&(e=e.toLowerCase(),t=t.toLowerCase()),f=0;f<a;)r[f]=e.charCodeAt(f),n[f]=++f;for(d=0;d<o;)for(s=t.charCodeAt(d),u=l=d++,f=-1;++f<a;)c=s===r[f]?l:l+1,l=n[f],n[f]=u=l>u?c>u?u+1:c:c>l?l+1:c;return u}}}),N=P({"../node_modules/propose/propose.js":function(e,t){var n=L();t.exports=function(){var e,t,r,i,a,o=0,s=arguments[0],u=arguments[1],l=u.length,c=arguments[2];c&&(i=c.threshold,a=c.ignoreCase),void 0===i&&(i=0);for(var f=0;f<l;++f)(e=(t=a?n(s,u[f],!0):n(s,u[f]))>s.length?1-t/u[f].length:1-t/s.length)>o&&(o=e,r=u[f]);return o>=i?r:null}}}),z=P({"../node_modules/fast-deep-equal/index.js":function(e,t){t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}}}),F={};A(F,{createRafDriver:function(){return Do},getProject:function(){return Lu},notify:function(){return Co},onChange:function(){return zu},types:function(){return Ho},val:function(){return Fu}}),e.exports=(r=F,D(g({},"__esModule",{value:!0}),r));var j={};A(j,{createRafDriver:function(){return Do},getProject:function(){return Lu},notify:function(){return Co},onChange:function(){return zu},types:function(){return Ho},val:function(){return Fu}});var B=n(8458),U=new(function(){function e(){p(this,e),R(this,"atom",new B.Atom({projects:{}}))}return h(e,[{key:"add",value:function(e,t){this.atom.setByPointer((function(t){return t.projects[e]}),t)}},{key:"get",value:function(e){return this.atom.get().projects[e]}},{key:"has",value:function(e){return!!this.get(e)}}]),e}()),Z=new WeakMap;function V(e){return Z.get(e)}function H(e,t){Z.set(e,t)}var W=[],G=Array.isArray,q="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,X="object"==typeof self&&self&&self.Object===Object&&self,K=q||X||Function("return this")(),Y=K.Symbol,Q=Object.prototype,$=Q.hasOwnProperty,J=Q.toString,ee=Y?Y.toStringTag:void 0;var te=function(e){var t=$.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(a){}var i=J.call(e);return r&&(t?e[ee]=n:delete e[ee]),i},ne=Object.prototype.toString;var re=function(e){return ne.call(e)},ie=Y?Y.toStringTag:void 0;var ae=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ie&&ie in Object(e)?te(e):re(e)};var oe=function(e){return null!=e&&"object"==typeof e};var se=function(e){return"symbol"==typeof e||oe(e)&&"[object Symbol]"==ae(e)},ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,le=/^\w*$/;var ce=function(e,t){if(G(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!se(e))||(le.test(e)||!ue.test(e)||null!=t&&e in Object(t))};var fe=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var de=function(e){if(!fe(e))return!1;var t=ae(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},pe=K["__core-js_shared__"],he=function(){var e=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ve=function(e){return!!he&&he in e},me=Function.prototype.toString;var ge=function(e){if(null!=e){try{return me.call(e)}catch(t){}try{return e+""}catch(t){}}return""},ye=/^\[object .+?Constructor\]$/,be=Function.prototype,we=Object.prototype,xe=be.toString,_e=we.hasOwnProperty,Se=RegExp("^"+xe.call(_e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ke=function(e){return!(!fe(e)||ve(e))&&(de(e)?Se:ye).test(ge(e))};var Ee=function(e,t){return null==e?void 0:e[t]};var Ce=function(e,t){var n=Ee(e,t);return ke(n)?n:void 0},Me=Ce(Object,"create");var Te=function(){this.__data__=Me?Me(null):{},this.size=0};var Pe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ae=Object.prototype.hasOwnProperty;var De=function(e){var t=this.__data__;if(Me){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ae.call(t,e)?t[e]:void 0},Ie=Object.prototype.hasOwnProperty;var Re=function(e){var t=this.__data__;return Me?void 0!==t[e]:Ie.call(t,e)};var Oe=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Me&&void 0===t?"__lodash_hash_undefined__":t,this};function Le(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Le.prototype.clear=Te,Le.prototype.delete=Pe,Le.prototype.get=De,Le.prototype.has=Re,Le.prototype.set=Oe;var Ne=Le;var ze=function(){this.__data__=[],this.size=0};var Fe=function(e,t){return e===t||e!==e&&t!==t};var je=function(e,t){for(var n=e.length;n--;)if(Fe(e[n][0],t))return n;return-1},Be=Array.prototype.splice;var Ue=function(e){var t=this.__data__,n=je(t,e);return!(n<0)&&(n==t.length-1?t.pop():Be.call(t,n,1),--this.size,!0)};var Ze=function(e){var t=this.__data__,n=je(t,e);return n<0?void 0:t[n][1]};var Ve=function(e){return je(this.__data__,e)>-1};var He=function(e,t){var n=this.__data__,r=je(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function We(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}We.prototype.clear=ze,We.prototype.delete=Ue,We.prototype.get=Ze,We.prototype.has=Ve,We.prototype.set=He;var Ge=We,qe=Ce(K,"Map");var Xe=function(){this.size=0,this.__data__={hash:new Ne,map:new(qe||Ge),string:new Ne}};var Ke=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ye=function(e,t){var n=e.__data__;return Ke(t)?n["string"==typeof t?"string":"hash"]:n.map};var Qe=function(e){var t=Ye(this,e).delete(e);return this.size-=t?1:0,t};var $e=function(e){return Ye(this,e).get(e)};var Je=function(e){return Ye(this,e).has(e)};var et=function(e,t){var n=Ye(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function tt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tt.prototype.clear=Xe,tt.prototype.delete=Qe,tt.prototype.get=$e,tt.prototype.has=Je,tt.prototype.set=et;var nt=tt;function rt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(rt.Cache||nt),n}rt.Cache=nt;var it=rt;var at=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/\\(\\)?/g,st=function(e){var t=it(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(at,(function(e,n,r,i){t.push(r?i.replace(ot,"$1"):n||e)})),t}));var ut=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},lt=Y?Y.prototype:void 0,ct=lt?lt.toString:void 0;var ft=function e(t){if("string"==typeof t)return t;if(G(t))return ut(t,e)+"";if(se(t))return ct?ct.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var dt=function(e){return null==e?"":ft(e)};var pt=function(e,t){return G(e)?e:ce(e,t)?[e]:st(dt(e))};var ht=function(e){if("string"==typeof e||se(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var vt=function(e,t){for(var n=0,r=(t=pt(t,e)).length;null!=e&&n<r;)e=e[ht(t[n++])];return n&&n==r?e:void 0};var mt=function(e,t,n){var r=null==e?void 0:vt(e,t);return void 0===r?n:r};function gt(e,t){return 0===t.length?e:mt(e,t)}var yt=function(){function e(){p(this,e),R(this,"_values",{})}return h(e,[{key:"get",value:function(e,t){if(this.has(e))return this._values[e];var n=t();return this._values[e]=n,n}},{key:"has",value:function(e){return this._values.hasOwnProperty(e)}}]),e}(),bt=n(8458),wt=function(){try{var e=Ce(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var xt=function(e,t,n){"__proto__"==t&&wt?wt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},_t=Object.prototype.hasOwnProperty;var St=function(e,t,n){var r=e[t];_t.call(e,t)&&Fe(r,n)&&(void 0!==n||t in e)||xt(e,t,n)},kt=/^(?:0|[1-9]\d*)$/;var Et=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&kt.test(e))&&e>-1&&e%1==0&&e<t};var Ct=function(e,t,n,r){if(!fe(e))return e;for(var i=-1,a=(t=pt(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=ht(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=fe(c)?c:Et(t[i+1])?[]:{})}St(s,u,l),s=s[u]}return e};var Mt=function(e,t,n){return null==e?e:Ct(e,t,n)},Tt=new WeakMap;function Pt(e){if(Tt.has(e))return Tt.get(e);var t="compound"===e.type?function(e){for(var t={},n=0,r=Object.entries(e.props);n<r.length;n++){var i=d(r[n],2),a=i[0],o=i[1];t[a]=Pt(o)}return t}(e):"enum"===e.type?function(e){for(var t={$case:e.defaultCase},n=0,r=Object.entries(e.cases);n<r.length;n++){var i=d(r[n],2),a=i[0],o=i[1];t[a]=Pt(o)}return t}(e):e.default;return Tt.set(e,t),t}var At=n(8458),Dt=I(O());function It(e,t,n){return(0,At.prism)((function(){var r=(0,At.val)(t),i=At.prism.memo("driver",(function(){return r?"BasicKeyframedTrack"===r.type?function(e,t,n){return(0,At.prism)((function(){var e=At.prism.ref("state",{started:!1}),r=e.current,i=n.getValue();return(!r.started||i<r.validFrom||r.validTo<=i)&&(e.current=r=function(e,t,n){var r=t.getValue();if(0===n.keyframes.length)return{started:!0,validFrom:-1/0,validTo:1/0,der:Rt};var i=0;for(;;){var a=n.keyframes[i];if(!a)return Ot.error;var o=i===n.keyframes.length-1;if(r<a.position)return 0===i?Ot.beforeFirstKeyframe(a):Ot.error;if(a.position===r)return o?Ot.lastKeyframe(a):Ot.between(a,n.keyframes[i+1],t);if(i===n.keyframes.length-1)return Ot.lastKeyframe(a);var s=i+1;if(!(n.keyframes[s].position<=r))return Ot.between(a,n.keyframes[i+1],t);i=s}}(0,n,t)),r.der.getValue()}))}(0,r,n):(e.logger.error("Track type not yet supported."),(0,At.prism)((function(){}))):(0,At.prism)((function(){}))}),[r]);return i.getValue()}))}var Rt=(0,At.prism)((function(){}));var Ot={beforeFirstKeyframe:function(e){return{started:!0,validFrom:-1/0,validTo:e.position,der:(0,At.prism)((function(){return{left:e.value,progression:0}}))}},lastKeyframe:function(e){return{started:!0,validFrom:e.position,validTo:1/0,der:(0,At.prism)((function(){return{left:e.value,progression:0}}))}},between:function(e,t,n){if(!e.connectedRight)return{started:!0,validFrom:e.position,validTo:t.position,der:(0,At.prism)((function(){return{left:e.value,progression:0}}))};var r=function(n){return(n-e.position)/(t.position-e.position)};if(!e.type||"bezier"===e.type){var i=new Dt.default(e.handles[2],e.handles[3],t.handles[0],t.handles[1]),a=(0,At.prism)((function(){var a=r(n.getValue()),o=i.solveSimple(a);return{left:e.value,right:t.value,progression:o}}));return{started:!0,validFrom:e.position,validTo:t.position,der:a}}var o=(0,At.prism)((function(){var i=r(n.getValue()),a=Math.floor(i);return{left:e.value,right:t.value,progression:a}}));return{started:!0,validFrom:e.position,validTo:t.position,der:o}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:Rt}};function Lt(e,t,n){var r=n.get(e);if(r&&r.override===t)return r.merged;for(var i=M({},e),a=0,o=Object.keys(t);a<o.length;a++){var s=o[a],u=t[s],l=e[s];i[s]="object"===typeof u&&"object"===typeof l?Lt(l,u,n):void 0===u?l:u}return n.set(e,{override:t,merged:i}),i}function Nt(e,t){var n,r=e,i=v(t);try{for(i.s();!(n=i.n()).done;){r=r[n.value]}}catch(a){i.e(a)}finally{i.f()}return r}var zt=n(8458),Ft=n(8458),jt=n(8458),Bt=/\s/;var Ut=function(e){for(var t=e.length;t--&&Bt.test(e.charAt(t)););return t},Zt=/^\s+/;var Vt=function(e){return e?e.slice(0,Ut(e)+1).replace(Zt,""):e},Ht=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,Gt=/^0o[0-7]+$/i,qt=parseInt;var Xt=function(e){if("number"==typeof e)return e;if(se(e))return NaN;if(fe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=fe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vt(e);var n=Wt.test(e);return n||Gt.test(e)?qt(e.slice(2),n?2:8):Ht.test(e)?NaN:+e},Kt=1/0;var Yt=function(e){return e?(e=Xt(e))===Kt||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var Qt=function(e){var t=Yt(e),n=t%1;return t===t?n?t-n:t:0};var $t=function(e){return e},Jt=Ce(K,"WeakMap"),en=Object.create,tn=function(){function e(){}return function(t){if(!fe(t))return{};if(en)return en(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var nn=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var rn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var an=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?xt(n,s,u):St(n,s,u)}return n};var on=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var sn=function(e){return null!=e&&on(e.length)&&!de(e)},un=Object.prototype;var ln=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||un)};var cn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var fn=function(e){return oe(e)&&"[object Arguments]"==ae(e)},dn=Object.prototype,pn=dn.hasOwnProperty,hn=dn.propertyIsEnumerable,vn=fn(function(){return arguments}())?fn:function(e){return oe(e)&&pn.call(e,"callee")&&!hn.call(e,"callee")},mn=vn;var gn=function(){return!1},yn=t&&!t.nodeType&&t,bn=yn&&e&&!e.nodeType&&e,wn=bn&&bn.exports===yn?K.Buffer:void 0,xn=(wn?wn.isBuffer:void 0)||gn,_n={};_n["[object Float32Array]"]=_n["[object Float64Array]"]=_n["[object Int8Array]"]=_n["[object Int16Array]"]=_n["[object Int32Array]"]=_n["[object Uint8Array]"]=_n["[object Uint8ClampedArray]"]=_n["[object Uint16Array]"]=_n["[object Uint32Array]"]=!0,_n["[object Arguments]"]=_n["[object Array]"]=_n["[object ArrayBuffer]"]=_n["[object Boolean]"]=_n["[object DataView]"]=_n["[object Date]"]=_n["[object Error]"]=_n["[object Function]"]=_n["[object Map]"]=_n["[object Number]"]=_n["[object Object]"]=_n["[object RegExp]"]=_n["[object Set]"]=_n["[object String]"]=_n["[object WeakMap]"]=!1;var Sn=function(e){return oe(e)&&on(e.length)&&!!_n[ae(e)]};var kn=function(e){return function(t){return e(t)}},En=t&&!t.nodeType&&t,Cn=En&&e&&!e.nodeType&&e,Mn=Cn&&Cn.exports===En&&q.process,Tn=function(){try{var e=Cn&&Cn.require&&Cn.require("util").types;return e||Mn&&Mn.binding&&Mn.binding("util")}catch(t){}}(),Pn=Tn&&Tn.isTypedArray,An=Pn?kn(Pn):Sn,Dn=Object.prototype.hasOwnProperty;var In=function(e,t){var n=G(e),r=!n&&mn(e),i=!n&&!r&&xn(e),a=!n&&!r&&!i&&An(e),o=n||r||i||a,s=o?cn(e.length,String):[],u=s.length;for(var l in e)!t&&!Dn.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Et(l,u))||s.push(l);return s};var Rn=function(e,t){return function(n){return e(t(n))}},On=Rn(Object.keys,Object),Ln=Object.prototype.hasOwnProperty;var Nn=function(e){if(!ln(e))return On(e);var t=[];for(var n in Object(e))Ln.call(e,n)&&"constructor"!=n&&t.push(n);return t};var zn=function(e){return sn(e)?In(e):Nn(e)};var Fn=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},jn=Object.prototype.hasOwnProperty;var Bn=function(e){if(!fe(e))return Fn(e);var t=ln(e),n=[];for(var r in e)("constructor"!=r||!t&&jn.call(e,r))&&n.push(r);return n};var Un=function(e){return sn(e)?In(e,!0):Bn(e)};var Zn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Vn=Rn(Object.getPrototypeOf,Object),Hn=Function.prototype,Wn=Object.prototype,Gn=Hn.toString,qn=Wn.hasOwnProperty,Xn=Gn.call(Object);var Kn=function(e){if(!oe(e)||"[object Object]"!=ae(e))return!1;var t=Vn(e);if(null===t)return!0;var n=qn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Gn.call(n)==Xn};var Yn=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var Qn=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Yn(e,t,n)},$n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Jn=function(e){return $n.test(e)};var er=function(e){return e.split("")},tr="[\\ud800-\\udfff]",nr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rr="\\ud83c[\\udffb-\\udfff]",ir="[^\\ud800-\\udfff]",ar="(?:\\ud83c[\\udde6-\\uddff]){2}",or="[\\ud800-\\udbff][\\udc00-\\udfff]",sr="(?:"+nr+"|"+rr+")"+"?",ur="[\\ufe0e\\ufe0f]?",lr=ur+sr+("(?:\\u200d(?:"+[ir,ar,or].join("|")+")"+ur+sr+")*"),cr="(?:"+[ir+nr+"?",nr,ar,or,tr].join("|")+")",fr=RegExp(rr+"(?="+rr+")|"+cr+lr,"g");var dr=function(e){return e.match(fr)||[]};var pr=function(e){return Jn(e)?dr(e):er(e)};var hr=function(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e};var vr=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=Xt(n))===n?n:0),void 0!==t&&(t=(t=Xt(t))===t?t:0),hr(Xt(e),t,n)};var mr=function(){this.__data__=new Ge,this.size=0};var gr=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var yr=function(e){return this.__data__.get(e)};var br=function(e){return this.__data__.has(e)};var wr=function(e,t){var n=this.__data__;if(n instanceof Ge){var r=n.__data__;if(!qe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new nt(r)}return n.set(e,t),this.size=n.size,this};function xr(e){var t=this.__data__=new Ge(e);this.size=t.size}xr.prototype.clear=mr,xr.prototype.delete=gr,xr.prototype.get=yr,xr.prototype.has=br,xr.prototype.set=wr;var _r=xr;var Sr=function(e,t){return e&&an(t,zn(t),e)};var kr=function(e,t){return e&&an(t,Un(t),e)},Er=t&&!t.nodeType&&t,Cr=Er&&e&&!e.nodeType&&e,Mr=Cr&&Cr.exports===Er?K.Buffer:void 0,Tr=Mr?Mr.allocUnsafe:void 0;var Pr=function(e,t){if(t)return e.slice();var n=e.length,r=Tr?Tr(n):new e.constructor(n);return e.copy(r),r};var Ar=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Dr=function(){return[]},Ir=Object.prototype.propertyIsEnumerable,Rr=Object.getOwnPropertySymbols,Or=Rr?function(e){return null==e?[]:(e=Object(e),Ar(Rr(e),(function(t){return Ir.call(e,t)})))}:Dr;var Lr=function(e,t){return an(e,Or(e),t)},Nr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Zn(t,Or(e)),e=Vn(e);return t}:Dr;var zr=function(e,t){return an(e,Nr(e),t)};var Fr=function(e,t,n){var r=t(e);return G(e)?r:Zn(r,n(e))};var jr=function(e){return Fr(e,zn,Or)};var Br=function(e){return Fr(e,Un,Nr)},Ur=Ce(K,"DataView"),Zr=Ce(K,"Promise"),Vr=Ce(K,"Set"),Hr="[object Map]",Wr="[object Promise]",Gr="[object Set]",qr="[object WeakMap]",Xr="[object DataView]",Kr=ge(Ur),Yr=ge(qe),Qr=ge(Zr),$r=ge(Vr),Jr=ge(Jt),ei=ae;(Ur&&ei(new Ur(new ArrayBuffer(1)))!=Xr||qe&&ei(new qe)!=Hr||Zr&&ei(Zr.resolve())!=Wr||Vr&&ei(new Vr)!=Gr||Jt&&ei(new Jt)!=qr)&&(ei=function(e){var t=ae(e),n="[object Object]"==t?e.constructor:void 0,r=n?ge(n):"";if(r)switch(r){case Kr:return Xr;case Yr:return Hr;case Qr:return Wr;case $r:return Gr;case Jr:return qr}return t});var ti=ei,ni=Object.prototype.hasOwnProperty;var ri=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ni.call(e,"index")&&(n.index=e.index,n.input=e.input),n},ii=K.Uint8Array;var ai=function(e){var t=new e.constructor(e.byteLength);return new ii(t).set(new ii(e)),t};var oi=function(e,t){var n=t?ai(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},si=/\w*$/;var ui=function(e){var t=new e.constructor(e.source,si.exec(e));return t.lastIndex=e.lastIndex,t},li=Y?Y.prototype:void 0,ci=li?li.valueOf:void 0;var fi=function(e){return ci?Object(ci.call(e)):{}};var di=function(e,t){var n=t?ai(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var pi=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return ai(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return oi(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return di(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return ui(e);case"[object Symbol]":return fi(e)}};var hi=function(e){return"function"!=typeof e.constructor||ln(e)?{}:tn(Vn(e))};var vi=function(e){return oe(e)&&"[object Map]"==ti(e)},mi=Tn&&Tn.isMap,gi=mi?kn(mi):vi;var yi=function(e){return oe(e)&&"[object Set]"==ti(e)},bi=Tn&&Tn.isSet,wi=bi?kn(bi):yi,xi="[object Arguments]",_i="[object Function]",Si="[object Object]",ki={};ki[xi]=ki["[object Array]"]=ki["[object ArrayBuffer]"]=ki["[object DataView]"]=ki["[object Boolean]"]=ki["[object Date]"]=ki["[object Float32Array]"]=ki["[object Float64Array]"]=ki["[object Int8Array]"]=ki["[object Int16Array]"]=ki["[object Int32Array]"]=ki["[object Map]"]=ki["[object Number]"]=ki[Si]=ki["[object RegExp]"]=ki["[object Set]"]=ki["[object String]"]=ki["[object Symbol]"]=ki["[object Uint8Array]"]=ki["[object Uint8ClampedArray]"]=ki["[object Uint16Array]"]=ki["[object Uint32Array]"]=!0,ki["[object Error]"]=ki[_i]=ki["[object WeakMap]"]=!1;var Ei=function e(t,n,r,i,a,o){var s,u=1&n,l=2&n,c=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!fe(t))return t;var f=G(t);if(f){if(s=ri(t),!u)return nn(t,s)}else{var d=ti(t),p=d==_i||"[object GeneratorFunction]"==d;if(xn(t))return Pr(t,u);if(d==Si||d==xi||p&&!a){if(s=l||p?{}:hi(t),!u)return l?zr(t,kr(s,t)):Lr(t,Sr(s,t))}else{if(!ki[d])return a?t:{};s=pi(t,d,u)}}o||(o=new _r);var h=o.get(t);if(h)return h;o.set(t,s),wi(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):gi(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(c?l?Br:jr:l?Un:zn)(t);return rn(v||t,(function(i,a){v&&(i=t[a=i]),St(s,a,e(i,n,r,a,t,o))})),s};var Ci=function(e){return Ei(e,5)};var Mi=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Ti=function(e){return this.__data__.has(e)};function Pi(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new nt;++t<n;)this.add(e[t])}Pi.prototype.add=Pi.prototype.push=Mi,Pi.prototype.has=Ti;var Ai=Pi;var Di=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Ii=function(e,t){return e.has(t)};var Ri=function(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),c=a.get(t);if(l&&c)return l==t&&c==e;var f=-1,d=!0,p=2&n?new Ai:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var h=e[f],v=t[f];if(r)var m=o?r(v,h,f,t,e,a):r(h,v,f,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!Di(t,(function(e,t){if(!Ii(p,t)&&(h===e||i(h,e,n,r,a)))return p.push(t)}))){d=!1;break}}else if(h!==v&&!i(h,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d};var Oi=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Li=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ni=Y?Y.prototype:void 0,zi=Ni?Ni.valueOf:void 0;var Fi=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new ii(e),new ii(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Fe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Oi;case"[object Set]":var u=1&r;if(s||(s=Li),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var c=Ri(s(e),s(t),r,i,a,o);return o.delete(e),c;case"[object Symbol]":if(zi)return zi.call(e)==zi.call(t)}return!1},ji=Object.prototype.hasOwnProperty;var Bi=function(e,t,n,r,i,a){var o=1&n,s=jr(e),u=s.length;if(u!=jr(t).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in t:ji.call(t,c)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);for(var h=o;++l<u;){var v=e[c=s[l]],m=t[c];if(r)var g=o?r(m,v,c,t,e,a):r(v,m,c,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p},Ui="[object Arguments]",Zi="[object Array]",Vi="[object Object]",Hi=Object.prototype.hasOwnProperty;var Wi=function(e,t,n,r,i,a){var o=G(e),s=G(t),u=o?Zi:ti(e),l=s?Zi:ti(t),c=(u=u==Ui?Vi:u)==Vi,f=(l=l==Ui?Vi:l)==Vi,d=u==l;if(d&&xn(e)){if(!xn(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new _r),o||An(e)?Ri(e,t,n,r,i,a):Fi(e,t,u,n,r,i,a);if(!(1&n)){var p=c&&Hi.call(e,"__wrapped__"),h=f&&Hi.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,m=h?t.value():t;return a||(a=new _r),i(v,m,n,r,a)}}return!!d&&(a||(a=new _r),Bi(e,t,n,r,i,a))};var Gi=function e(t,n,r,i,a){return t===n||(null==t||null==n||!oe(t)&&!oe(n)?t!==t&&n!==n:Wi(t,n,r,i,e,a))};var qi=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],l=e[u],c=s[1];if(o&&s[2]){if(void 0===l&&!(u in e))return!1}else{var f=new _r;if(r)var d=r(l,c,u,e,t,f);if(!(void 0===d?Gi(c,l,3,r,f):d))return!1}}return!0};var Xi=function(e){return e===e&&!fe(e)};var Ki=function(e){for(var t=zn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Xi(i)]}return t};var Yi=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Qi=function(e){var t=Ki(e);return 1==t.length&&t[0][2]?Yi(t[0][0],t[0][1]):function(n){return n===e||qi(n,e,t)}};var $i=function(e,t){return null!=e&&t in Object(e)};var Ji=function(e,t,n){for(var r=-1,i=(t=pt(t,e)).length,a=!1;++r<i;){var o=ht(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&on(i)&&Et(o,i)&&(G(e)||mn(e))};var ea=function(e,t){return null!=e&&Ji(e,t,$i)};var ta=function(e,t){return ce(e)&&Xi(t)?Yi(ht(e),t):function(n){var r=mt(n,e);return void 0===r&&r===t?ea(n,e):Gi(t,r,3)}};var na=function(e){return function(t){return null==t?void 0:t[e]}};var ra=function(e){return function(t){return vt(t,e)}};var ia=function(e){return ce(e)?na(ht(e)):ra(e)};var aa=function(e){return"function"==typeof e?e:null==e?$t:"object"==typeof e?G(e)?ta(e[0],e[1]):Qi(e):ia(e)};var oa=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}();var sa=function(e,t){return e&&oa(e,t,zn)},ua=function(){return K.Date.now()},la=Math.max,ca=Math.min;var fa=function(e,t,n){var r,i,a,o,s,u,l=0,c=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function h(e){return l=e,s=setTimeout(m,t),c?p(e):o}function v(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=a}function m(){var e=ua();if(v(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-u);return f?ca(n,a-(e-l)):n}(e))}function g(e){return s=void 0,d&&r?p(e):(r=i=void 0,o)}function y(){var e=ua(),n=v(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return h(u);if(f)return clearTimeout(s),s=setTimeout(m,t),p(u)}return void 0===s&&(s=setTimeout(m,t)),o}return t=Xt(t)||0,fe(n)&&(c=!!n.leading,a=(f="maxWait"in n)?la(Xt(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},y.flush=function(){return void 0===s?o:g(ua())},y};var da=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var pa=function(e,t){return t.length<2?e:vt(e,Yn(t,0,-1))};var ha=function(e){return"number"==typeof e&&e==Qt(e)};var va=function(e,t){var n={};return t=aa(t,3),sa(e,(function(e,r,i){xt(n,r,t(e,r,i))})),n};var ma=function(e,t){return t=pt(t,e),null==(e=pa(e,t))||delete e[ht(da(t))]},ga=Math.floor;var ya=function(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=ga(t/2))&&(e+=e)}while(t);return n},ba=na("length"),wa="[\\ud800-\\udfff]",xa="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",_a="\\ud83c[\\udffb-\\udfff]",Sa="[^\\ud800-\\udfff]",ka="(?:\\ud83c[\\udde6-\\uddff]){2}",Ea="[\\ud800-\\udbff][\\udc00-\\udfff]",Ca="(?:"+xa+"|"+_a+")"+"?",Ma="[\\ufe0e\\ufe0f]?",Ta=Ma+Ca+("(?:\\u200d(?:"+[Sa,ka,Ea].join("|")+")"+Ma+Ca+")*"),Pa="(?:"+[Sa+xa+"?",xa,ka,Ea,wa].join("|")+")",Aa=RegExp(_a+"(?="+_a+")|"+Pa+Ta,"g");var Da=function(e){for(var t=Aa.lastIndex=0;Aa.test(e);)++t;return t};var Ia=function(e){return Jn(e)?Da(e):ba(e)},Ra=Math.ceil;var Oa=function(e,t){var n=(t=void 0===t?" ":ft(t)).length;if(n<2)return n?ya(t,e):t;var r=ya(t,Ra(e/Ia(t)));return Jn(t)?Qn(pr(r),0,e).join(""):r.slice(0,e)};var La=function(e,t,n){e=dt(e);var r=(t=Qt(t))?Ia(e):0;return t&&r<t?Oa(t-r,n)+e:e};var Na=function(e,t){return null==e||ma(e,t)},za=function(){function e(t){p(this,e),R(this,"_cache",new yt),R(this,"_keepHotUntapDebounce"),H(this,t)}return h(e,[{key:"type",get:function(){return"Theatre_SheetObject_PublicAPI"}},{key:"props",get:function(){return V(this).propsP}},{key:"sheet",get:function(){return V(this).sheet.publicApi}},{key:"project",get:function(){return V(this).sheet.project.publicApi}},{key:"address",get:function(){return M({},V(this).address)}},{key:"_valuesPrism",value:function(){var e=this;return this._cache.get("_valuesPrism",(function(){var t=V(e);return(0,jt.prism)((function(){return(0,jt.val)(t.getValues().getValue())}))}))}},{key:"onValuesChange",value:function(e,t){return zu(this._valuesPrism(),e,t)}},{key:"value",get:function(){var e=this,t=this._valuesPrism();if(!t.isHot){null!=this._keepHotUntapDebounce&&this._keepHotUntapDebounce.flush();var n=t.keepHot();this._keepHotUntapDebounce=fa((function(){n(),e._keepHotUntapDebounce=void 0}),5e3)}return this._keepHotUntapDebounce&&this._keepHotUntapDebounce(),t.getValue()}},{key:"initialValue",set:function(e){V(this).setInitialValue(e)}}]),e}();function Fa(e){var t=new WeakMap;return function(n){return t.has(n)||t.set(n,e(n)),t.get(n)}}function ja(e){return"compound"===e.type||"enum"===e.type}function Ba(e,t){if(e){var n=f(t),r=n[0],i=n.slice(1);if(void 0===r)return e;if(ja(e))return Ba("enum"===e.type?e.cases[r]:e.props[r],i)}}var Ua=Fa((function(e){if("enum"===e.type)throw new Error("Not implemented yet for enums");for(var t in e.props){var n=e.props[t];if(!ja(n))return!0;if(Ua(n))return!0}return!1})),Za=function(){function e(t,n,r){p(this,e),this.sheet=t,this.template=n,this.nativeObject=r,R(this,"$$isPointerToPrismProvider",!0),R(this,"address"),R(this,"publicApi"),R(this,"_initialValue",new Ft.Atom({})),R(this,"_cache",new yt),R(this,"_logger"),R(this,"_internalUtilCtx"),this._logger=t._logger.named("SheetObject",n.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=T(M({},n.address),{sheetInstanceId:t.address.sheetInstanceId}),this.publicApi=new za(this)}return h(e,[{key:"type",get:function(){return"Theatre_SheetObject"}},{key:"getValues",value:function(){var e=this;return this._cache.get("getValues()",(function(){return(0,Ft.prism)((function(){var t=Lt((0,Ft.val)(e.template.getDefaultValues()),(0,Ft.val)(e._initialValue.pointer),Ft.prism.memo("withInitialCache",(function(){return new WeakMap}),[])),n=Lt(t,(0,Ft.val)(e.template.getStaticValues()),Ft.prism.memo("withStatics",(function(){return new WeakMap}),[])),r=Ft.prism.memo("seq",(function(){return e.getSequencedValues()}),[]),i=Ft.prism.memo("withSeqsCache",(function(){return new WeakMap}),[]);return function(e,t){var n=zt.prism.memo(e,(function(){return new zt.Atom(t)}),[]);return n.set(t),n}("finalAtom",n=Lt(n,(0,Ft.val)((0,Ft.val)(r)),i)).pointer}))}))}},{key:"getValueByPointer",value:function(e){var t=(0,Ft.val)(this.getValues()),n=(0,Ft.getPointerParts)(e).path;return(0,Ft.val)(Nt(t,n))}},{key:"pointerToPrism",value:function(e){var t=this,n=(0,Ft.getPointerParts)(e).path;return(0,Ft.prism)((function(){var e=(0,Ft.val)(t.getValues());return(0,Ft.val)(Nt(e,n))}))}},{key:"getSequencedValues",value:function(){var e=this;return(0,Ft.prism)((function(){var t=Ft.prism.memo("tracksToProcess",(function(){return e.template.getArrayOfValidSequenceTracks()}),[]),n=(0,Ft.val)(t),r=new Ft.Atom({}),i=(0,Ft.val)(e.template.configPointer);return Ft.prism.effect("processTracks",(function(){var t,a=[],o=v(n);try{var s=function(){var n=t.value,o=n.trackId,s=n.pathToProp,u=e._trackIdToPrism(o),l=Ba(i,s),c=l.deserializeAndSanitize,f=l.interpolate,d=function(){var e=u.getValue();if(!e)return r.setByPointer((function(e){return Nt(e,s)}),void 0);var t=c(e.left),n=void 0===t?l.default:t;if(void 0===e.right)return r.setByPointer((function(e){return Nt(e,s)}),n);var i=c(e.right),a=void 0===i?l.default:i;return r.setByPointer((function(e){return Nt(e,s)}),f(n,a,e.progression))},p=u.onStale(d);d(),a.push(p)};for(o.s();!(t=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}return function(){var e,t=v(a);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(u){t.e(u)}finally{t.f()}}}),[i].concat(c(n))),r.pointer}))}},{key:"_trackIdToPrism",value:function(e){var t=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[e],n=this.sheet.getSequence().positionPrism;return It(this._internalUtilCtx,t,n)}},{key:"propsP",get:function(){var e=this;return this._cache.get("propsP",(function(){return(0,Ft.pointer)({root:e,path:[]})}))}},{key:"validateValue",value:function(e,t){}},{key:"setInitialValue",value:function(e){this.validateValue(this.propsP,e),this._initialValue.set(e)}}]),e}();function Va(e){return function(t,n){return e(t,n())}}var Ha={_hmm:Wa(524),_todo:Wa(522),_error:Wa(521),errorDev:Wa(529),errorPublic:Wa(545),_kapow:Wa(268),_warn:Wa(265),warnDev:Wa(273),warnPublic:Wa(289),_debug:Wa(137),debugDev:Wa(145),_trace:Wa(73),traceDev:Wa(81)};function Wa(e){return Object.freeze({audience:Ga(e,8)?"internal":Ga(e,16)?"dev":"public",category:Ga(e,4)?"troubleshooting":Ga(e,2)?"todo":"general",level:Ga(e,512)?512:Ga(e,256)?256:Ga(e,128)?128:64})}function Ga(e,t){return(e&t)===t}function qa(e,t){return(32===(32&t)||(16===(16&t)?e.dev:8===(8&t)&&e.internal))&&e.min<=t}var Xa={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named:function(e,t,n){return this.create({names:[].concat(c(e.names),[{name:t,key:n}])})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed:function(e){if(e.length<5)return e;var t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css:function(e){var t,n,r,i,a=this.cssMemo.get(e);if(a)return a;var o="color:".concat(null!=(n=null==(t=this.color)?void 0:t.call(this,e))?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(null==(r=this.bold)?void 0:r.test(e))&&(o+=";font-weight:600"),(null==(i=this.italic)?void 0:i.test(e))&&(o+=";font-style:italic"),this.cssMemo.set(e,o),o}}};function Ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console,t=T(M({},Xa),{includes:M({},Xa.includes)}),n={styled:$a.bind(t,e),noStyle:Ja.bind(t,e)},r=Qa.bind(t);function i(){return t.loggingConsoleStyle&&t.loggerConsoleStyle?n.styled:n.noStyle}return t.create=i(),{configureLogger:function(e){var n;"console"===e?(t.loggerConsoleStyle=Xa.loggerConsoleStyle,t.create=i()):"console"===e.type?(t.loggerConsoleStyle=null!=(n=e.style)?n:Xa.loggerConsoleStyle,t.create=i()):"keyed"===e.type?(t.creatExt=function(t){return e.keyed(t.names)},t.create=r):"named"===e.type&&(t.creatExt=Ya.bind(null,e.named),t.create=r)},configureLogging:function(e){var n,r,a,o,s;t.includes.dev=null!=(n=e.dev)?n:Xa.includes.dev,t.includes.internal=null!=(r=e.internal)?r:Xa.includes.internal,t.includes.min=null!=(a=e.min)?a:Xa.includes.min,t.include=null!=(o=e.include)?o:Xa.include,t.loggingConsoleStyle=null!=(s=e.consoleStyle)?s:Xa.loggingConsoleStyle,t.create=i()},getLogger:function(){return t.create({names:[]})}}}function Ya(e,t){var n,r=[],i=v(t.names);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.name,s=a.key;r.push(null==s?o:"".concat(o," (").concat(s,")"))}}catch(u){i.e(u)}finally{i.f()}return e(r)}function Qa(e){var t=M(M({},this.includes),this.include(e)),n=this.filtered,r=this.named.bind(this,e),i=this.creatExt(e),a=qa(t,524),o=qa(t,522),s=qa(t,521),u=qa(t,529),l=qa(t,545),c=qa(t,265),f=qa(t,268),d=qa(t,273),p=qa(t,289),h=qa(t,137),v=qa(t,145),m=qa(t,73),g=qa(t,81),y=a?i.error.bind(i,Ha._hmm):n.bind(e,524),b=o?i.error.bind(i,Ha._todo):n.bind(e,522),w=s?i.error.bind(i,Ha._error):n.bind(e,521),x=u?i.error.bind(i,Ha.errorDev):n.bind(e,529),_=l?i.error.bind(i,Ha.errorPublic):n.bind(e,545),S=f?i.warn.bind(i,Ha._kapow):n.bind(e,268),k=c?i.warn.bind(i,Ha._warn):n.bind(e,265),E=d?i.warn.bind(i,Ha.warnDev):n.bind(e,273),C=p?i.warn.bind(i,Ha.warnPublic):n.bind(e,273),T=h?i.debug.bind(i,Ha._debug):n.bind(e,137),P=v?i.debug.bind(i,Ha.debugDev):n.bind(e,145),A=m?i.trace.bind(i,Ha._trace):n.bind(e,73),D=g?i.trace.bind(i,Ha.traceDev):n.bind(e,81),I={_hmm:y,_todo:b,_error:w,errorDev:x,errorPublic:_,_kapow:S,_warn:k,warnDev:E,warnPublic:C,_debug:T,debugDev:P,_trace:A,traceDev:D,lazy:{_hmm:a?Va(y):y,_todo:o?Va(b):b,_error:s?Va(w):w,errorDev:u?Va(x):x,errorPublic:l?Va(_):_,_kapow:f?Va(S):S,_warn:c?Va(k):k,warnDev:d?Va(E):E,warnPublic:p?Va(C):C,_debug:h?Va(T):T,debugDev:v?Va(P):P,_trace:m?Va(A):A,traceDev:g?Va(D):D},named:r,utilFor:{internal:function(){return{debug:I._debug,error:I._error,warn:I._warn,trace:I._trace,named:function(e,t){return I.named(e,t).utilFor.internal()}}},dev:function(){return{debug:I.debugDev,error:I.errorDev,warn:I.warnDev,trace:I.traceDev,named:function(e,t){return I.named(e,t).utilFor.dev()}}},public:function(){return{error:I.errorPublic,warn:I.warnPublic,debug:function(e,t){I._warn('(public "debug" filtered out) '.concat(e),t)},trace:function(e,t){I._warn('(public "trace" filtered out) '.concat(e),t)},named:function(e,t){return I.named(e,t).utilFor.public()}}}}};return I}function $a(e,t){for(var n=M(M({},this.includes),this.include(t)),r=[],i="",a=0;a<t.names.length;a++){var o=t.names[a],s=o.name,u=o.key;if(i+=" %c".concat(s),r.push(this.style.css(s)),null!=u){var l="%c#".concat(u);i+=l,r.push(this.style.css(l))}}var c=this.filtered,f=this.named.bind(this,t),d=[i].concat(r);return eo(c,t,n,e,d,function(e){for(var t=e.slice(0),n=1;n<t.length;n++)t[n]+=";background-color:#e0005a;padding:2px;color:white";return t}(d),f)}function Ja(e,t){for(var n=M(M({},this.includes),this.include(t)),r="",i=0;i<t.names.length;i++){var a=t.names[i],o=a.name,s=a.key;r+=" ".concat(o),null!=s&&(r+="#".concat(s))}var u=[r];return eo(this.filtered,t,n,e,u,u,this.named.bind(this,t))}function eo(e,t,n,r,i,a,o){var s,u,l,f,d,p,h,v,m,g,y,b,w,x=qa(n,524),_=qa(n,522),S=qa(n,521),k=qa(n,529),E=qa(n,545),C=qa(n,265),M=qa(n,268),T=qa(n,273),P=qa(n,289),A=qa(n,137),D=qa(n,145),I=qa(n,73),R=qa(n,81),O=x?(s=r.error).bind.apply(s,[r].concat(c(i))):e.bind(t,524),L=_?(u=r.error).bind.apply(u,[r].concat(c(i))):e.bind(t,522),N=S?(l=r.error).bind.apply(l,[r].concat(c(i))):e.bind(t,521),z=k?(f=r.error).bind.apply(f,[r].concat(c(i))):e.bind(t,529),F=E?(d=r.error).bind.apply(d,[r].concat(c(i))):e.bind(t,545),j=M?(p=r.warn).bind.apply(p,[r].concat(c(a))):e.bind(t,268),B=C?(h=r.warn).bind.apply(h,[r].concat(c(i))):e.bind(t,265),U=T?(v=r.warn).bind.apply(v,[r].concat(c(i))):e.bind(t,273),Z=P?(m=r.warn).bind.apply(m,[r].concat(c(i))):e.bind(t,273),V=A?(g=r.info).bind.apply(g,[r].concat(c(i))):e.bind(t,137),H=D?(y=r.info).bind.apply(y,[r].concat(c(i))):e.bind(t,145),W=I?(b=r.debug).bind.apply(b,[r].concat(c(i))):e.bind(t,73),G=R?(w=r.debug).bind.apply(w,[r].concat(c(i))):e.bind(t,81),q={_hmm:O,_todo:L,_error:N,errorDev:z,errorPublic:F,_kapow:j,_warn:B,warnDev:U,warnPublic:Z,_debug:V,debugDev:H,_trace:W,traceDev:G,lazy:{_hmm:x?Va(O):O,_todo:_?Va(L):L,_error:S?Va(N):N,errorDev:k?Va(z):z,errorPublic:E?Va(F):F,_kapow:M?Va(j):j,_warn:C?Va(B):B,warnDev:T?Va(U):U,warnPublic:P?Va(Z):Z,_debug:A?Va(V):V,debugDev:D?Va(H):H,_trace:I?Va(W):W,traceDev:R?Va(G):G},named:o,utilFor:{internal:function(){return{debug:q._debug,error:q._error,warn:q._warn,trace:q._trace,named:function(e,t){return q.named(e,t).utilFor.internal()}}},dev:function(){return{debug:q.debugDev,error:q.errorDev,warn:q.warnDev,trace:q.traceDev,named:function(e,t){return q.named(e,t).utilFor.dev()}}},public:function(){return{error:q.errorPublic,warn:q.warnPublic,debug:function(e,t){q._warn('(public "debug" filtered out) '.concat(e),t)},trace:function(e,t){q._warn('(public "trace" filtered out) '.concat(e),t)},named:function(e,t){return q.named(e,t).utilFor.public()}}}}};return q}var to=Ka(console,{_debug:function(){},_error:function(){}});to.configureLogging({dev:!0,min:64});var no=to.getLogger().named("Theatre.js (default logger)").utilFor.dev(),ro=new WeakMap;function io(e,t,n){for(var r=0,i=Object.entries(t.props);r<i.length;r++){var a=d(i[r],2),o=a[0],s=a[1];if(!ja(s)){var u=[].concat(c(e),[o]);n.set(JSON.stringify(u),n.size),ao(u,s,n)}}for(var l=0,f=Object.entries(t.props);l<f.length;l++){var p=d(f[l],2),h=p[0],v=p[1];if(ja(v)){var m=[].concat(c(e),[h]);n.set(JSON.stringify(m),n.size),ao(m,v,n)}}}function ao(e,t,n){if("compound"===t.type)io(e,t,n);else{if("enum"===t.type)throw new Error("Enums aren't supported yet");n.set(JSON.stringify(e),n.size)}}function oo(e){return"object"===typeof e&&null!==e&&0===Object.keys(e).length}var so=function(){function e(t,n,r,i,a){p(this,e),this.sheetTemplate=t,R(this,"address"),R(this,"type","Theatre_SheetObjectTemplate"),R(this,"_config"),R(this,"_temp_actions_atom"),R(this,"_cache",new yt),R(this,"project"),R(this,"pointerToSheetState"),R(this,"pointerToStaticOverrides"),this.address=T(M({},t.address),{objectKey:n}),this._config=new bt.Atom(i),this._temp_actions_atom=new bt.Atom(a),this.project=t.project,this.pointerToSheetState=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],this.pointerToStaticOverrides=this.pointerToSheetState.staticOverrides.byObject[this.address.objectKey]}return h(e,[{key:"staticConfig",get:function(){return this._config.get()}},{key:"configPointer",get:function(){return this._config.pointer}},{key:"_temp_actions",get:function(){return this._temp_actions_atom.get()}},{key:"_temp_actionsPointer",get:function(){return this._temp_actions_atom.pointer}},{key:"createInstance",value:function(e,t,n){return this._config.set(n),new Za(e,this,t)}},{key:"reconfigure",value:function(e){this._config.set(e)}},{key:"_temp_setActions",value:function(e){this._temp_actions_atom.set(e)}},{key:"getDefaultValues",value:function(){var e=this;return this._cache.get("getDefaultValues()",(function(){return(0,bt.prism)((function(){return function(e){return Pt(e)}((0,bt.val)(e.configPointer))}))}))}},{key:"getStaticValues",value:function(){var e=this;return this._cache.get("getStaticValues",(function(){return(0,bt.prism)((function(){var t,n=null!=(t=(0,bt.val)(e.pointerToStaticOverrides))?t:{};return(0,bt.val)(e.configPointer).deserializeAndSanitize(n)||{}}))}))}},{key:"getArrayOfValidSequenceTracks",value:function(){var e=this;return this._cache.get("getArrayOfValidSequenceTracks",(function(){return(0,bt.prism)((function(){var t=e.project.pointers.historic.sheetsById[e.address.sheetId],n=(0,bt.val)(t.sequence.tracksByObject[e.address.objectKey].trackIdByPropPath);if(!n)return W;var r=[];if(!n)return W;for(var i=(0,bt.val)(e.configPointer),a=0,o=Object.entries(n);a<o.length;a++){var s=d(o[a],2),u=s[0],l=s[1],c=uo(u);if(c){var f=Ba(i,c);f&&!ja(f)&&r.push({pathToProp:c,trackId:l})}}var p=function(e){var t=ro.get(e);if(t)return t;var n=new Map;return ro.set(e,n),io([],e,n),n}(i);return r.sort((function(e,t){var n=e.pathToProp,r=t.pathToProp;return p.get(JSON.stringify(n))>p.get(JSON.stringify(r))?1:-1})),0===r.length?W:r}))}))}},{key:"getMapOfValidSequenceTracks_forStudio",value:function(){var e=this;return this._cache.get("getMapOfValidSequenceTracks_forStudio",(function(){return(0,bt.prism)((function(){var t,n=(0,bt.val)(e.getArrayOfValidSequenceTracks()),r={},i=v(n);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.pathToProp,s=a.trackId;Mt(r,o,s)}}catch(u){i.e(u)}finally{i.f()}return r}))}))}},{key:"getStaticButNotSequencedOverrides",value:function(){var e=this;return this._cache.get("getStaticButNotSequencedOverrides",(function(){return(0,bt.prism)((function(){var t,n=(0,bt.val)(e.getStaticValues()),r=(0,bt.val)(e.getArrayOfValidSequenceTracks()),i=Ci(n),a=v(r);try{for(a.s();!(t=a.n()).done;){var o=t.value.pathToProp;Na(i,o);for(var s=o.slice(0,-1);s.length>0;){if(!oo(gt(i,s)))break;Na(i,s),s=s.slice(0,-1)}}}catch(u){a.e(u)}finally{a.f()}return oo(i)?void 0:i}))}))}},{key:"getDefaultsAtPointer",value:function(e){var t=(0,bt.getPointerParts)(e).path;return gt(this.getDefaultValues().getValue(),t)}}]),e}();function uo(e){try{return JSON.parse(e)}catch(t){return void no.warn("property ".concat(JSON.stringify(e)," cannot be parsed. Skipping."))}}var lo=n(8458),co=Fa((function(e){return JSON.stringify(e)}));I(N());var fo=function(e){s(n,e);var t=u(n);function n(){return p(this,n),t.apply(this,arguments)}return h(n)}(l(Error)),po=function(e){s(n,e);var t=u(n);function n(){return p(this,n),t.apply(this,arguments)}return h(n)}(fo),ho=n(8458),vo=n(8458),mo=n(8458),go=n(8458);function yo(){var e,t,n=new Promise((function(n,i){e=function(e){n(e),r.status="resolved"},t=function(e){i(e),r.status="rejected"}})),r={resolve:e,reject:t,promise:n,status:"pending"};return r}var bo=function(){},wo=n(8458),xo=function(){function e(){p(this,e),R(this,"_stopPlayCallback",bo),R(this,"_state",new wo.Atom({position:0,playing:!1})),R(this,"statePointer"),this.statePointer=this._state.pointer}return h(e,[{key:"destroy",value:function(){}},{key:"pause",value:function(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=bo}},{key:"gotoPosition",value:function(e){this._updatePositionInState(e)}},{key:"_updatePositionInState",value:function(e){this._state.setByPointer((function(e){return e.position}),e)}},{key:"getCurrentPosition",value:function(){return this._state.get().position}},{key:"playing",get:function(){return this._state.get().playing},set:function(e){this._state.setByPointer((function(e){return e.playing}),e)}},{key:"play",value:function(e,t,n,r,i){var a=this;this.playing&&this.pause(),this.playing=!0;var o=t[1]-t[0],s=this.getCurrentPosition();s<t[0]||s>t[1]?"normal"===r||"alternate"===r?this._updatePositionInState(t[0]):"reverse"!==r&&"alternateReverse"!==r||this._updatePositionInState(t[1]):"normal"===r||"alternate"===r?s===t[1]&&this._updatePositionInState(t[0]):s===t[0]&&this._updatePositionInState(t[1]);var u=yo(),l=i.time,c=o*e,f=this.getCurrentPosition()-t[0];"reverse"!==r&&"alternateReverse"!==r||(f=t[1]-this.getCurrentPosition());var d=function(i){var s=Math.max(i-l,0)/1e3,d=Math.min(s*n+f,c);if(d!==c){var h=Math.floor(d/o),v=d/o%1*o;if("normal"!==r)if("reverse"===r)v=o-v;else{var m=h%2===0;"alternate"===r?m||(v=o-v):m&&(v=o-v)}a._updatePositionInState(v+t[0]),p()}else{if("normal"===r)a._updatePositionInState(t[1]);else if("reverse"===r)a._updatePositionInState(t[0]);else{var g=(e-1)%2===0;"alternate"===r?g?a._updatePositionInState(t[1]):a._updatePositionInState(t[0]):g?a._updatePositionInState(t[0]):a._updatePositionInState(t[1])}a.playing=!1,u.resolve(!0)}};this._stopPlayCallback=function(){i.offThisOrNextTick(d),i.offNextTick(d),a.playing&&u.resolve(!1)};var p=function(){return i.onNextTick(d)};return i.onThisOrNextTick(d),u.promise}},{key:"playDynamicRange",value:function(e,t){var n=this;this.playing&&this.pause(),this.playing=!0;var r=yo(),i=e.keepHot();r.promise.then(i,i);var a=t.time,o=function(t){var r=Math.max(t-a,0);a=t;var i=r/1e3,o=n.getCurrentPosition(),u=e.getValue();if(o<u[0]||o>u[1])n.gotoPosition(u[0]);else{var l=o+i;l>u[1]&&(l=u[0]+(l-u[1])),n.gotoPosition(l)}s()};this._stopPlayCallback=function(){t.offThisOrNextTick(o),t.offNextTick(o),r.resolve(!1)};var s=function(){return t.onNextTick(o)};return t.onThisOrNextTick(o),r.promise}}]),e}(),_o=n(8458),So="__TheatreJS_CoreBundle",ko="__TheatreJS_Notifications",Eo=function(e){return function(){for(var t,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];switch(e){case"success":case"info":no.debug(i.slice(0,2).join("\n"));break;case"warning":no.warn(i.slice(0,2).join("\n"))}return"undefined"!==typeof window?null==(n=window[ko])?void 0:(t=n.notify)[e].apply(t,i):void 0}},Co={warning:Eo("warning"),success:Eo("success"),info:Eo("info"),error:Eo("error")};"undefined"!==typeof window&&(window.addEventListener("error",(function(e){Co.error("An error occurred","<pre>".concat(e.message,"</pre>\n\nSee **console** for details."))})),window.addEventListener("unhandledrejection",(function(e){Co.error("An error occurred","<pre>".concat(e.reason,"</pre>\n\nSee **console** for details."))})));var Mo,To=function(){function e(t,n,r){p(this,e),this._decodedBuffer=t,this._audioContext=n,this._nodeDestination=r,R(this,"_mainGain"),R(this,"_state",new _o.Atom({position:0,playing:!1})),R(this,"statePointer"),R(this,"_stopPlayCallback",bo),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}return h(e,[{key:"playDynamicRange",value:function(e,t){var n=this,r=yo();this._playing&&this.pause(),this._playing=!0;var i=void 0,a=function(){null==i||i(),i=n._loopInRange(e.getValue(),t).stop},o=e.onStale(a);return a(),this._stopPlayCallback=function(){null==i||i(),o(),r.resolve(!1)},r.promise}},{key:"_loopInRange",value:function(e,t){var n=this,r=this.getCurrentPosition(),i=e[1]-e[0];(r<e[0]||r>e[1]||r===e[1])&&this._updatePositionInState(e[0]),r=this.getCurrentPosition();var a=this._audioContext.createBufferSource();a.buffer=this._decodedBuffer,a.connect(this._mainGain),a.playbackRate.value=1,a.loop=!0,a.loopStart=e[0],a.loopEnd=e[1];var o=t.time,s=r-e[0];a.start(0,r);var u=function(t){var r=(1*(Math.max(t-o,0)/1e3)+s)/i%1*i;n._updatePositionInState(r+e[0]),l()},l=function(){return t.onNextTick(u)};t.onThisOrNextTick(u);return{stop:function(){a.stop(),a.disconnect(),t.offThisOrNextTick(u),t.offNextTick(u)}}}},{key:"_playing",get:function(){return this._state.get().playing},set:function(e){this._state.setByPointer((function(e){return e.playing}),e)}},{key:"destroy",value:function(){}},{key:"pause",value:function(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=bo}},{key:"gotoPosition",value:function(e){this._updatePositionInState(e)}},{key:"_updatePositionInState",value:function(e){this._state.reduce((function(t){return T(M({},t),{position:e})}))}},{key:"getCurrentPosition",value:function(){return this._state.get().position}},{key:"play",value:function(e,t,n,r,i){var a=this;this._playing&&this.pause(),this._playing=!0;var o=this.getCurrentPosition(),s=t[1]-t[0];if("normal"!==r)throw new po('Audio-controlled sequences can only be played in the "normal" direction. '+"'".concat(r,"' given."));(o<t[0]||o>t[1]||o===t[1])&&this._updatePositionInState(t[0]),o=this.getCurrentPosition();var u=yo(),l=this._audioContext.createBufferSource();l.buffer=this._decodedBuffer,l.connect(this._mainGain),l.playbackRate.value=n,e>1e3&&(Co.warning("Can't play sequences with audio more than 1000 times","The sequence will still play, but only 1000 times. The `iterationCount: ".concat(e,"` provided to `sequence.play()`\nis too high for a sequence with audio.\n\nTo fix this, either set `iterationCount` to a lower value, or remove the audio from the sequence."),[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),e=1e3),e>1&&(l.loop=!0,l.loopStart=t[0],l.loopEnd=t[1]);var c=i.time,f=o-t[0],d=s*e;l.start(0,o,d-f);var p=function(e){var r=Math.max(e-c,0)/1e3,i=Math.min(r*n+f,d);if(i!==d){var o=i/s%1*s;a._updatePositionInState(o+t[0]),v()}else a._updatePositionInState(t[1]),a._playing=!1,h(),u.resolve(!0)},h=function(){l.stop(),l.disconnect()};this._stopPlayCallback=function(){h(),i.offThisOrNextTick(p),i.offNextTick(p),a._playing&&u.resolve(!1)};var v=function(){return i.onNextTick(p)};return i.onThisOrNextTick(p),u.promise}}]),e}(),Po=n(8458),Ao=0;function Do(e){var t,n=new Po.Ticker({onActive:function(){var t;null==(t=null==e?void 0:e.start)||t.call(e)},onDormant:function(){var t;null==(t=null==e?void 0:e.stop)||t.call(e)}}),r={tick:function(e){n.tick(e)},id:Ao++,name:null!=(t=null==e?void 0:e.name)?t:"CustomRafDriver-".concat(Ao),type:"Theatre_RafDriver_PublicAPI"};return H(r,{type:"Theatre_RafDriver_PrivateAPI",publicApi:r,ticker:n,start:null==e?void 0:e.start,stop:null==e?void 0:e.stop}),r}function Io(){return Mo||function(e){if(Mo)throw new Error("`setCoreRafDriver()` is already called.");var t=V(e);Mo=t}(function(){var e=null,t=Do({name:"DefaultCoreRafDriver",start:function(){"undefined"!==typeof window?e=window.requestAnimationFrame((function n(r){t.tick(r),e=window.requestAnimationFrame(n)})):(t.tick(0),setTimeout((function(){return t.tick(1)}),0))},stop:function(){"undefined"!==typeof window&&null!==e&&window.cancelAnimationFrame(e)}});return t}()),Mo}function Ro(){return Io().ticker}var Oo=function(){function e(t){p(this,e),H(this,t)}return h(e,[{key:"type",get:function(){return"Theatre_Sequence_PublicAPI"}},{key:"play",value:function(e){var t=V(this);if(t._project.isReady()){var n=(null==e?void 0:e.rafDriver)?V(e.rafDriver).ticker:Ro();return t.play(null!=e?e:{},n)}var r=yo();return r.resolve(!0),r.promise}},{key:"pause",value:function(){V(this).pause()}},{key:"position",get:function(){return V(this).position},set:function(e){V(this).position=e}},{key:"__experimental_getKeyframes",value:function(e){return V(this).getKeyframesOfSimpleProp(e)}},{key:"attachAudio",value:function(){var e=o(a().mark((function e(t){var n,r,i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(t);case 2:return n=e.sent,r=n.audioContext,i=n.destinationNode,o=n.decodedBuffer,s=n.gainNode,u=new To(o,r,s),V(this).replacePlaybackController(u),e.abrupt("return",{audioContext:r,destinationNode:i,decodedBuffer:o,gainNode:s});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pointer",get:function(){return V(this).pointer}}]),e}();function Lo(e){return No.apply(this,arguments)}function No(){return No=o(a().mark((function e(t){var n,r,i,s,u,l,c,f,p,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return(r=o(a().mark((function e(){var n,r,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.source instanceof AudioBuffer)){e.next=2;break}return e.abrupt("return",t.source);case 2:if(n=yo(),"string"===typeof t.source){e.next=5;break}throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");case 5:return e.prev=5,e.next=8,fetch(t.source);case 8:r=e.sent,e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),console.error(e.t0),new Error("Could not fetch '".concat(t.source,"'. Network error logged above."));case 15:return e.prev=15,e.next=18,r.arrayBuffer();case 18:o=e.sent,e.next=25;break;case 21:throw e.prev=21,e.t1=e.catch(15),console.error(e.t1),new Error("Could not read '".concat(t.source,"' as an arrayBuffer."));case 25:return e.next=27,i;case 27:return e.sent.decodeAudioData(o,n.resolve,n.reject),e.prev=29,e.next=32,n.promise;case 32:s=e.sent,e.next=39;break;case 35:throw e.prev=35,e.t2=e.catch(29),console.error(e.t2),new Error("Could not decode ".concat(t.source," as an audio file."));case 39:return e.abrupt("return",s);case 40:case"end":return e.stop()}}),e,null,[[5,11],[15,21],[29,35]])})))).apply(this,arguments)},n=function(){return r.apply(this,arguments)},i=function(){if(t.audioContext)return Promise.resolve(t.audioContext);var e=new AudioContext;return"running"===e.state||"undefined"===typeof window?Promise.resolve(e):new Promise((function(t){var n=function(){e.resume().catch((function(e){console.error(e)}))},r=["mousedown","keydown","touchstart"],i={capture:!0,passive:!1};r.forEach((function(e){window.addEventListener(e,n,i)})),e.addEventListener("statechange",(function(){"running"===e.state&&(r.forEach((function(e){window.removeEventListener(e,n,i)})),t(e))}))}))}(),s=n(),e.next=7,Promise.all([i,s]);case 7:return u=e.sent,l=d(u,2),c=l[0],f=l[1],p=t.destinationNode||c.destination,(h=c.createGain()).connect(p),e.abrupt("return",{audioContext:c,decodedBuffer:f,gainNode:h,destinationNode:p});case 15:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}Fo("Theatre_Project"),Fo("Theatre_Sheet"),Fo("Theatre_SheetTemplate");var zo=Fo("Theatre_SheetObject");Fo("Theatre_SheetObjectTemplate"),Fo("Theatre_Project_PublicAPI"),Fo("Theatre_Sheet_PublicAPI"),Fo("Theatre_SheetObject_PublicAPI");function Fo(e){return function(t){return"object"===typeof t&&!!t&&t.type===e}}var jo=function(){function e(t,n,r,i,a){var o=this;p(this,e),this._project=t,this._sheet=n,this._lengthD=r,this._subUnitsPerUnitD=i,R(this,"address"),R(this,"publicApi"),R(this,"_playbackControllerBox"),R(this,"_prismOfStatePointer"),R(this,"_positionD"),R(this,"_positionFormatterD"),R(this,"_playableRangeD"),R(this,"pointer",(0,mo.pointer)({root:this,path:[]})),R(this,"$$isPointerToPrismProvider",!0),R(this,"_logger"),R(this,"closestGridPosition",(function(e){var t=1/o.subUnitsPerUnit;return parseFloat((Math.round(e/t)*t).toFixed(3))})),this._logger=t._logger.named("Sheet",n.address.sheetId).named("Instance",n.address.sheetInstanceId),this.address=T(M({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new Oo(this),this._playbackControllerBox=new vo.Atom(null!=a?a:new xo),this._prismOfStatePointer=(0,go.prism)((function(){return o._playbackControllerBox.prism.getValue().statePointer})),this._positionD=(0,go.prism)((function(){var e=o._prismOfStatePointer.getValue();return(0,go.val)(e.position)})),this._positionFormatterD=(0,go.prism)((function(){var e=(0,go.val)(o._subUnitsPerUnitD);return new Bo(e)}))}return h(e,[{key:"pointerToPrism",value:function(e){var t=this,n=(0,ho.getPointerParts)(e).path;if(0===n.length)return(0,go.prism)((function(){return{length:(0,go.val)(t.pointer.length),playing:(0,go.val)(t.pointer.playing),position:(0,go.val)(t.pointer.position)}}));if(n.length>1)return(0,go.prism)((function(){}));var r=d(n,1)[0];return"length"===r?this._lengthD:"position"===r?this._positionD:"playing"===r?(0,go.prism)((function(){return(0,go.val)(t._prismOfStatePointer.getValue().playing)})):(0,go.prism)((function(){}))}},{key:"getKeyframesOfSimpleProp",value:function(e){var t=(0,ho.getPointerParts)(e),n=t.path,r=t.root;if(!zo(r))throw new po("Argument prop must be a pointer to a SheetObject property");var i=(0,go.val)(this._project.pointers.historic.sheetsById[this._sheet.address.sheetId].sequence.tracksByObject[r.address.objectKey]);if(!i)return[];var a=i.trackData,o=i.trackIdByPropPath[co(n)];if(!o)return[];var s=a[o];return s?s.keyframes:[]}},{key:"positionFormatter",get:function(){return this._positionFormatterD.getValue()}},{key:"prismOfStatePointer",get:function(){return this._prismOfStatePointer}},{key:"length",get:function(){return this._lengthD.getValue()}},{key:"positionPrism",get:function(){return this._positionD}},{key:"position",get:function(){return this._playbackControllerBox.get().getCurrentPosition()},set:function(e){var t=e;this.pause(),t>this.length&&(t=this.length);var n=this.length;this._playbackControllerBox.get().gotoPosition(t>n?n:t)}},{key:"subUnitsPerUnit",get:function(){return this._subUnitsPerUnitD.getValue()}},{key:"positionSnappedToGrid",get:function(){return this.closestGridPosition(this.position)}},{key:"getDurationCold",value:function(){return this._lengthD.getValue()}},{key:"playing",get:function(){return(0,go.val)(this._playbackControllerBox.get().statePointer.playing)}},{key:"_makeRangeFromSequenceTemplate",value:function(){var e=this;return(0,go.prism)((function(){return[0,(0,go.val)(e._lengthD)]}))}},{key:"playDynamicRange",value:function(e,t){return this._playbackControllerBox.get().playDynamicRange(e,t)}},{key:"play",value:function(){var e=o(a().mark((function e(t,n){var r,i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.length,i=t&&t.range?t.range:[0,r],e.next=12;break;case 5:if(!(i[0]>=r)){e.next=7;break}throw new po("Argument conf.range[0] in sequence.play(conf) cannot be longer than the duration of the sequence, which is ".concat(r,"s. ").concat(JSON.stringify(i[0])," given."));case 7:if(!("number"!==typeof i[1]||i[1]<=0)){e.next=9;break}throw new po("Argument conf.range[1] in sequence.play(conf) must be a number larger than zero. ".concat(JSON.stringify(i[1])," given."));case 9:if(i[1]>r&&(Co.warning("Couldn't play sequence in given range","Your animation will still play until the end of the sequence, however the argument `conf.range[1]` given in `sequence.play(conf)` (".concat(JSON.stringify(i[1]),"s) is longer than the duration of the sequence (").concat(r,"s).\n\nTo fix this, either set `conf.range[1]` to be less the duration of the sequence, or adjust the sequence duration in the UI."),[{url:"https://www.theatrejs.com/docs/latest/manual/sequences",title:"Sequences"},{url:"https://www.theatrejs.com/docs/latest/manual/sequences",title:"Playback API"}]),i[1]=r),!(i[1]<=i[0])){e.next=12;break}throw new po("Argument conf.range[1] in sequence.play(conf) must be larger than conf.range[0]. ".concat(JSON.stringify(i)," given."));case 12:o=t&&"number"===typeof t.iterationCount?t.iterationCount:1,e.next=16;break;case 16:s=t&&"undefined"!==typeof t.rate?t.rate:1,e.next=22;break;case 20:if(!(s<0)){e.next=22;break}throw new po("Argument conf.rate in sequence.play(conf) must be a number larger than 0. ".concat(JSON.stringify(s)," given. If you want the animation to play backwards, try setting conf.direction to 'reverse' or 'alternateReverse'."));case 22:u=t&&t.direction?t.direction:"normal",e.next=26;break;case 26:return e.next=28,this._play(o,[i[0],i[1]],s,u,n);case 28:return e.abrupt("return",e.sent);case 29:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_play",value:function(e,t,n,r,i){return this._playbackControllerBox.get().play(e,t,n,r,i)}},{key:"pause",value:function(){this._playbackControllerBox.get().pause()}},{key:"replacePlaybackController",value:function(e){this.pause();var t=this._playbackControllerBox.get();this._playbackControllerBox.set(e);var n=t.getCurrentPosition();t.destroy(),e.gotoPosition(n)}}]),e}(),Bo=function(){function e(t){p(this,e),this._fps=t}return h(e,[{key:"formatSubUnitForGrid",value:function(e){var t=e%1,n=1/this._fps;return Math.round(t/n)+"f"}},{key:"formatFullUnitForGrid",value:function(e){var t=e,n="";t>=Vo&&(n+=Math.floor(t/Vo)+"h",t%=Vo);t>=Zo&&(n+=Math.floor(t/Zo)+"m",t%=Zo);t>=Uo&&(n+=Math.floor(t/Uo)+"s",t%=Uo);var r=1/this._fps;t>=r&&(n+=Math.floor(t/r)+"f",t%=r);return 0===n.length?"0s":n}},{key:"formatForPlayhead",value:function(e){var t=e,n="";if(t>=Vo){var r=Math.floor(t/Vo);n+=La(r.toString(),2,"0")+"h",t%=Vo}if(t>=Zo){var i=Math.floor(t/Zo);n+=La(i.toString(),2,"0")+"m",t%=Zo}else n.length>0&&(n+="00m");if(t>=Uo){var a=Math.floor(t/Uo);n+=La(a.toString(),2,"0")+"s",t%=Uo}else n+="00s";var o=1/this._fps;if(t>=o){var s=Math.round(t/o);n+=La(s.toString(),2,"0")+"f",t%=o}else if(t/o>.98){n+=La(1..toString(),2,"0")+"f",t%=o}else n+="00f";return 0===n.length?"00s00f":n}},{key:"formatBasic",value:function(e){return e.toFixed(2)+"s"}}]),e}(),Uo=1,Zo=60*Uo,Vo=60*Zo,Ho={};function Wo(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}A(Ho,{boolean:function(){return ps},compound:function(){return ts},file:function(){return ns},image:function(){return is},number:function(){return os},rgba:function(){return cs},string:function(){return ms},stringLiteral:function(){return ys}});var Go=function(e){return"string"===typeof e?'string("'.concat(Wo(e,10),'")'):"number"===typeof e?"number(".concat(Wo(String(e),10),")"):null===e?"null":void 0===e?"undefined":"boolean"===typeof e?String(e):Array.isArray(e)?"array":"object"===typeof e?"object":"unknown"};function qo(e){return T(M({},e),{toString:function(){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).removeAlphaIfOpaque,n=void 0!==t&&t,r=(255*e.a|256).toString(16).slice(1),i=(255*e.r|256).toString(16).slice(1)+(255*e.g|256).toString(16).slice(1)+(255*e.b|256).toString(16).slice(1)+(n&&"ff"===r?"":r);return"#".concat(i)}(this,{removeAlphaIfOpaque:!0})}})}function Xo(e){function t(e){return e>=.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e}return function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=d(e,2),n=t[0],r=t[1];return[n,vr(r,0,1)]})))}({r:t(e.r),g:t(e.g),b:t(e.b),a:e.a})}function Ko(e){function t(e){return e>=.04045?Math.pow((e+.055)/1.055,2.4):e/12.92}return{r:t(e.r),g:t(e.g),b:t(e.b),a:e.a}}function Yo(e){var t=.4122214708*e.r+.5363325363*e.g+.0514459929*e.b,n=.2119034982*e.r+.6806995451*e.g+.1073969566*e.b,r=.0883024619*e.r+.2817188376*e.g+.6299787005*e.b,i=Math.cbrt(t),a=Math.cbrt(n),o=Math.cbrt(r);return{L:.2104542553*i+.793617785*a-.0040720468*o,a:1.9779984951*i-2.428592205*a+.4505937099*o,b:.0259040371*i+.7827717662*a-.808675766*o,alpha:e.a}}var Qo=Symbol("TheatrePropType_Basic");function $o(e){return"object"===typeof e&&!!e&&"TheatrePropType"===e[Qo]}function Jo(e){if("number"===typeof e)return os(e);if("boolean"===typeof e)return ps(e);if("string"===typeof e)return ms(e);if("object"===typeof e&&e){if($o(e))return e;if(Kn(e))return ts(e);throw new po("This value is not a valid prop type: ".concat(Go(e)))}throw new po("This value is not a valid prop type: ".concat(Go(e)))}function es(e){var t={};for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];0;var a=e[i];$o(a)?t[i]=a:t[i]=Jo(a)}return t}var ts=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=es(e),a=new WeakMap,o=(i(t={type:"compound",props:r,valueType:null},Qo,"TheatrePropType"),i(t,"label",n.label),i(t,"default",va(r,(function(e){return e.default}))),i(t,"deserializeAndSanitize",(function(e){if("object"===typeof e&&e){if(a.has(e))return a.get(e);for(var t={},n=!1,i=0,o=Object.entries(r);i<o.length;i++){var s=d(o[i],2),u=s[0],l=s[1];if(Object.prototype.hasOwnProperty.call(e,u)){var c=l.deserializeAndSanitize(e[u]);null!=c&&(n=!0,t[u]=c)}}return a.set(e,t),n?t:void 0}})),t);return o},ns=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r=function(e,t,r){var i;return{type:"file",id:(null!=(i=n.interpolate)?i:vs)(e.id,t.id,r)}};return i(t={type:"file",default:{type:"file",id:e},valueType:null},Qo,"TheatrePropType"),i(t,"label",n.label),i(t,"interpolate",r),i(t,"deserializeAndSanitize",rs),t},rs=function(e){if(e){var t=!0;if("string"===typeof e.id||[null,void 0].includes(e.id)||(t=!1),"file"!==e.type&&(t=!1),t)return e}},is=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r=function(e,t,r){var i;return{type:"image",id:(null!=(i=n.interpolate)?i:vs)(e.id,t.id,r)}};return i(t={type:"image",default:{type:"image",id:e},valueType:null},Qo,"TheatrePropType"),i(t,"label",n.label),i(t,"interpolate",r),i(t,"deserializeAndSanitize",as),t},as=function(e){if(e){var t=!0;if("string"===typeof e.id||[null,void 0].includes(e.id)||(t=!1),"image"!==e.type&&(t=!1),t)return e}},os=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T(M(i({type:"number",valueType:0,default:e},Qo,"TheatrePropType"),n||{}),{label:n.label,nudgeFn:null!=(t=n.nudgeFn)?t:bs,nudgeMultiplier:"number"===typeof n.nudgeMultiplier?n.nudgeMultiplier:void 0,interpolate:ls,deserializeAndSanitize:ss(n.range)})},ss=function(e){return e?function(t){if("number"===typeof t&&isFinite(t))return vr(t,e[0],e[1])}:us},us=function(e){return"number"===typeof e&&isFinite(e)?e:void 0},ls=function(e,t,n){return e+n*(t-e)},cs=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:0,g:0,b:0,a:1},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},a=0,o=["r","g","b","a"];a<o.length;a++){var s=o[a];r[s]=Math.min(Math.max(t[s],0),1)}return e={type:"rgba",valueType:null,default:qo(r)},i(e,Qo,"TheatrePropType"),i(e,"label",n.label),i(e,"interpolate",ds),i(e,"deserializeAndSanitize",fs),e},fs=function(e){if(e){for(var t=!0,n=0,r=["r","g","b","a"];n<r.length;n++){var i=r[n];Object.prototype.hasOwnProperty.call(e,i)&&"number"===typeof e[i]||(t=!1)}if(t){for(var a={},o=0,s=["r","g","b","a"];o<s.length;o++){var u=s[o];a[u]=Math.min(Math.max(e[u],0),1)}return qo(a)}}},ds=function(e,t,n){var r=Yo(Ko(e)),i=Yo(Ko(t));return qo(Xo(function(e){var t=e.L+.3963377774*e.a+.2158037573*e.b,n=e.L-.1055613458*e.a-.0638541728*e.b,r=e.L-.0894841775*e.a-1.291485548*e.b,i=t*t*t,a=n*n*n,o=r*r*r;return{r:4.0767416621*i-3.3077115913*a+.2309699292*o,g:-1.2684380046*i+2.6097574011*a-.3413193965*o,b:-.0041960863*i-.7034186147*a+1.707614701*o,a:e.alpha}}({L:(1-n)*r.L+n*i.L,a:(1-n)*r.a+n*i.a,b:(1-n)*r.b+n*i.b,alpha:(1-n)*r.alpha+n*i.alpha})))},ps=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(t={type:"boolean",default:e,valueType:null},Qo,"TheatrePropType"),i(t,"label",r.label),i(t,"interpolate",null!=(n=r.interpolate)?n:vs),i(t,"deserializeAndSanitize",hs),t},hs=function(e){return"boolean"===typeof e?e:void 0};function vs(e){return e}var ms=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(t={type:"string",default:e,valueType:null},Qo,"TheatrePropType"),i(t,"label",r.label),i(t,"interpolate",null!=(n=r.interpolate)?n:vs),i(t,"deserializeAndSanitize",gs),t};function gs(e){return"string"===typeof e?e:void 0}function ys(e,t){var n,r,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n={type:"stringLiteral",default:e,valuesAndLabels:M({},t)},i(n,Qo,"TheatrePropType"),i(n,"valueType",null),i(n,"as",null!=(r=o.as)?r:"menu"),i(n,"label",o.label),i(n,"interpolate",null!=(a=o.interpolate)?a:vs),i(n,"deserializeAndSanitize",(function(e){if("string"===typeof e)return Object.prototype.hasOwnProperty.call(t,e)?e:void 0})),n}var bs=function(e){var t,n=e.config,r=e.deltaX,i=e.deltaFraction,a=e.magnitude,o=n.range;return n.nudgeMultiplier||!o||o.includes(1/0)||o.includes(-1/0)?r*a*(null!=(t=n.nudgeMultiplier)?t:1):i*(o[1]-o[0])*a};function ws(e,t){var n=e.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");return n}I(z());var xs,_s,Ss=function(){function e(t){p(this,e),H(this,t)}return h(e,[{key:"type",get:function(){return"Theatre_Sheet_PublicAPI"}},{key:"object",value:function(e,t,n){var r=V(this),i=ws(e),a=r.getObject(i),o=null==n?void 0:n.__actions__THIS_API_IS_UNSTABLE_AND_WILL_CHANGE_IN_THE_NEXT_VERSION;if(a)return o&&a.template._temp_setActions(o),a.publicApi;var s=ts(t),u=r.createObject(i,null,s,o);return u.publicApi}},{key:"sequence",get:function(){return V(this).getSequence().publicApi}},{key:"project",get:function(){return V(this).project.publicApi}},{key:"address",get:function(){return M({},V(this).address)}},{key:"detachObject",value:function(e){var t=V(this),n=ws(e,'sheet.deleteObject("'.concat(e,'")'));if(!t.getObject(n))return Co.warning("Couldn't delete object \"".concat(n,'"'),'There is no object with key "'.concat(n,'".\n\nTo fix this, make sure you are calling `sheet.deleteObject("').concat(n,'")` with the correct key.')),void console.warn('Object key "'.concat(n,'" does not exist.'));t.deleteObject(n)}}]),e}(),ks=n(8458),Es=function(){function e(t,n){p(this,e),this.template=t,this.instanceId=n,R(this,"_objects",new ks.Atom({})),R(this,"_sequence"),R(this,"address"),R(this,"publicApi"),R(this,"project"),R(this,"objectsP",this._objects.pointer),R(this,"type","Theatre_Sheet"),R(this,"_logger"),this._logger=t.project._logger.named("Sheet",n),this._logger._trace("creating sheet"),this.project=t.project,this.address=T(M({},t.address),{sheetInstanceId:this.instanceId}),this.publicApi=new Ss(this)}return h(e,[{key:"createObject",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.template.getObjectTemplate(e,t,n,r),a=i.createInstance(this,t,n);return this._objects.setByPointer((function(t){return t[e]}),a),a}},{key:"getObject",value:function(e){return this._objects.get()[e]}},{key:"deleteObject",value:function(e){this._objects.reduce((function(t){var n=M({},t);return delete n[e],n}))}},{key:"getSequence",value:function(){var e=this;if(!this._sequence){var t=(0,ks.prism)((function(){var t=(0,ks.val)(e.project.pointers.historic.sheetsById[e.address.sheetId].sequence.length);return Cs(t)})),n=(0,ks.prism)((function(){var t=(0,ks.val)(e.project.pointers.historic.sheetsById[e.address.sheetId].sequence.subUnitsPerUnit);return Ms(t)}));this._sequence=new jo(this.template.project,this,t,n)}return this._sequence}}]),e}(),Cs=function(e){return"number"===typeof e&&isFinite(e)&&e>0?e:10},Ms=function(e){return"number"===typeof e&&ha(e)&&e>=1&&e<=1e3?e:30},Ts=function(){function e(t,n){p(this,e),this.project=t,R(this,"type","Theatre_SheetTemplate"),R(this,"address"),R(this,"_instances",new lo.Atom({})),R(this,"instancesP",this._instances.pointer),R(this,"_objectTemplates",new lo.Atom({})),R(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=T(M({},t.address),{sheetId:n})}return h(e,[{key:"getInstance",value:function(e){var t=this._instances.get()[e];return t||(t=new Es(this,e),this._instances.setByPointer((function(t){return t[e]}),t)),t}},{key:"getObjectTemplate",value:function(e,t,n,r){var i=this._objectTemplates.get()[e];return i||(i=new so(this,e,t,n,r),this._objectTemplates.setByPointer((function(t){return t[e]}),i)),i}}]),e}(),Ps=n(8458),As=n(8458),Ds=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Is(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Rs(e){return!!e&&!!e[gu]}function Os(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===yu}(e)||Array.isArray(e)||!!e[mu]||!!e.constructor[mu]||Bs(e)||Us(e))}function Ls(e){return Rs(e)||Is(23,e),e[gu].t}function Ns(e,t,n){void 0===n&&(n=!1),0===zs(e)?(n?Object.keys:bu)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function zs(e){var t=e[gu];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Bs(e)?2:Us(e)?3:0}function Fs(e,t){return 2===zs(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function js(e,t,n){var r=zs(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Bs(e){return du&&e instanceof Map}function Us(e){return pu&&e instanceof Set}function Zs(e){return e.o||e.t}function Vs(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=wu(e);delete t[gu];for(var n=bu(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Hs(e,t){return void 0===t&&(t=!1),Gs(e)||Rs(e)||!Os(e)||(zs(e)>1&&(e.set=e.add=e.clear=e.delete=Ws),Object.freeze(e),t&&Ns(e,(function(e,t){return Hs(t,!0)}),!0)),e}function Ws(){Is(2)}function Gs(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function qs(e){var t=xu[e];return t||Is(18,e),t}function Xs(){return _s}function Ks(e,t){t&&(qs("Patches"),e.u=[],e.s=[],e.v=t)}function Ys(e){Qs(e),e.p.forEach(Js),e.p=null}function Qs(e){e===_s&&(_s=e.l)}function $s(e){return _s={p:[],l:_s,h:e,m:!0,_:0}}function Js(e){var t=e[gu];0===t.i||1===t.i?t.j():t.O=!0}function eu(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||qs("ES5").S(t,e,r),r?(n[gu].P&&(Ys(t),Is(4)),Os(e)&&(e=tu(t,e),t.l||ru(t,e)),t.u&&qs("Patches").M(n[gu],e,t.u,t.s)):e=tu(t,n,[]),Ys(t),t.u&&t.v(t.u,t.s),e!==vu?e:void 0}function tu(e,t,n){if(Gs(t))return t;var r=t[gu];if(!r)return Ns(t,(function(i,a){return nu(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ru(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Vs(r.k):r.o;Ns(3===r.i?new Set(i):i,(function(t,a){return nu(e,r,i,t,a,n)})),ru(e,i,!1),n&&e.u&&qs("Patches").R(r,n,e.u,e.s)}return r.o}function nu(e,t,n,r,i,a){if(Rs(i)){var o=tu(e,i,a&&t&&3!==t.i&&!Fs(t.D,r)?a.concat(r):void 0);if(js(n,r,o),!Rs(o))return;e.m=!1}if(Os(i)&&!Gs(i)){if(!e.h.F&&e._<1)return;tu(e,i),t&&t.A.l||ru(e,i)}}function ru(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Hs(t,n)}function iu(e,t){var n=e[gu];return(n?Zs(n):e)[t]}function au(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ou(e){e.P||(e.P=!0,e.l&&ou(e.l))}function su(e){e.o||(e.o=Vs(e.t))}function uu(e,t,n){var r=Bs(t)?qs("MapSet").N(t,n):Us(t)?qs("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Xs(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=_u;n&&(i=[r],a=Su);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):qs("ES5").J(t,n);return(n?n.A:Xs()).p.push(r),r}function lu(e){return Rs(e)||Is(22,e),function e(t){if(!Os(t))return t;var n,r=t[gu],i=zs(t);if(r){if(!r.P&&(r.i<4||!qs("ES5").K(r)))return r.t;r.I=!0,n=cu(t,i),r.I=!1}else n=cu(t,i);return Ns(n,(function(t,i){r&&function(e,t){return 2===zs(e)?e.get(t):e[t]}(r.t,t)===i||js(n,t,e(i))})),3===i?new Set(n):n}(e)}function cu(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Vs(e)}var fu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),du="undefined"!=typeof Map,pu="undefined"!=typeof Set,hu="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,vu=fu?Symbol.for("immer-nothing"):((xs={})["immer-nothing"]=!0,xs),mu=fu?Symbol.for("immer-draftable"):"__$immer_draftable",gu=fu?Symbol.for("immer-state"):"__$immer_state",yu=""+Object.prototype.constructor,bu="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,wu=Object.getOwnPropertyDescriptors||function(e){var t={};return bu(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},xu={},_u={get:function(e,t){if(t===gu)return e;var n=Zs(e);if(!Fs(n,t))return function(e,t,n){var r,i=au(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Os(r)?r:r===iu(e.t,t)?(su(e),e.o[t]=uu(e.A.h,r,e)):r},has:function(e,t){return t in Zs(e)},ownKeys:function(e){return Reflect.ownKeys(Zs(e))},set:function(e,t,n){var r=au(Zs(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=iu(Zs(e),t),a=null==i?void 0:i[gu];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||Fs(e.t,t)))return!0;su(e),ou(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==iu(e.t,t)||t in e.t?(e.D[t]=!1,su(e),ou(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Zs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Is(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Is(12)}},Su={};Ns(_u,(function(e,t){Su[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Su.deleteProperty=function(e,t){return _u.deleteProperty.call(this,e[0],t)},Su.set=function(e,t,n){return _u.set.call(this,e[0],t,n,e[0])};var ku=function(){function e(e){var t=this;this.g=hu,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&Is(6),void 0!==r&&"function"!=typeof r&&Is(7),Os(e)){var s=$s(t),u=uu(t,e,void 0),l=!0;try{o=n(u),l=!1}finally{l?Ys(s):Qs(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Ks(s,r),eu(e,s)}),(function(e){throw Ys(s),e})):(Ks(s,r),eu(o,s))}if(!e||"object"!=typeof e){if((o=n(e))===vu)return;return void 0===o&&(o=e),t.F&&Hs(o,!0),o}Is(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Os(e)||Is(8),Rs(e)&&(e=lu(e));var t=$s(this),n=uu(this,e,void 0);return n[gu].C=!0,Qs(t),n},t.finishDraft=function(e,t){var n=(e&&e[gu]).A;return Ks(n,t),eu(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!hu&&Is(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=qs("Patches").$;return Rs(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),Eu=new ku,Cu=(Eu.produce,Eu.produceWithPatches.bind(Eu),Eu.setAutoFreeze.bind(Eu),Eu.setUseProxies.bind(Eu),Eu.applyPatches.bind(Eu),Eu.createDraft.bind(Eu),Eu.finishDraft.bind(Eu),{currentProjectStateDefinitionVersion:"0.4.0"});function Mu(e,t,n){return Tu.apply(this,arguments)}function Tu(){return(Tu=o(a().mark((function e(t,n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(0);case 2:t.transaction((function(e){var t,i=e.drafts,a=n.address.projectId;function o(){i.ephemeral.coreByProject[a].loadingState={type:"loaded"}}i.ephemeral.coreByProject[a]={lastExportedObject:null,loadingState:{type:"loading"}},i.ahistoric.coreByProject[a]={ahistoricStuff:""};var s,u,l=null==(t=Ls(i.historic))?void 0:t.coreByProject[n.address.projectId];l?r&&-1==l.revisionHistory.indexOf(r.revisionHistory[0])?(s=r,i.ephemeral.coreByProject[a].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:s}):o():r?(u=r,i.ephemeral.coreByProject[a].loadingState={type:"loaded"},i.historic.coreByProject[a]=u):(i.ephemeral.coreByProject[a].loadingState={type:"loaded"},i.historic.coreByProject[a]={sheetsById:{},definitionVersion:Cu.currentProjectStateDefinitionVersion,revisionHistory:[]})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(){}function Au(e){var t,n,r=(null==(t=null==e?void 0:e.logging)?void 0:t.internal)?null!=(n=e.logging.min)?n:256:1/0,i=r<=512,a=Ka(void 0,{_debug:r<=128?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):Pu,_error:i?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):Pu});if(e){var o=e.logger,s=e.logging;o&&a.configureLogger(o),s?a.configureLogging(s):a.configureLogging({dev:!1})}return a.getLogger().named("Theatre")}var Du=function(){function e(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;p(this,e),this.config=i,this.publicApi=a,R(this,"pointers"),R(this,"_pointerProxies"),R(this,"address"),R(this,"_studioReadyDeferred"),R(this,"_assetStorageReadyDeferred"),R(this,"_readyPromise"),R(this,"_sheetTemplates",new As.Atom({})),R(this,"sheetTemplatesP",this._sheetTemplates.pointer),R(this,"_studio"),R(this,"assetStorage"),R(this,"type","Theatre_Project"),R(this,"_logger"),this._logger=Au({logging:{dev:!0}}).named("Project",t),this._logger.traceDev("creating project"),this.address={projectId:t};var o=new As.Atom({ahistoric:{ahistoricStuff:""},historic:null!=(n=i.state)?n:{sheetsById:{},definitionVersion:Cu.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=yo(),this.assetStorage={getAssetUrl:function(e){var t;return"".concat(null==(t=i.assets)?void 0:t.baseUrl,"/").concat(e)},createAsset:function(){throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new Ps.PointerProxy(o.pointer.historic),ahistoric:new Ps.PointerProxy(o.pointer.ahistoric),ephemeral:new Ps.PointerProxy(o.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},U.add(t,this),this._studioReadyDeferred=yo(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then((function(){})),i.state?setTimeout((function(){r._studio||(r._studioReadyDeferred.resolve(void 0),r._assetStorageReadyDeferred.resolve(void 0),r._logger._trace("ready deferred resolved with no state"))}),0):"undefined"===typeof window?console.error('Argument config.state in Theatre.getProject("'.concat(t,'", config) is empty. ')+"You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state"):setTimeout((function(){if(!r._studio)throw new Error('Argument config.state in Theatre.getProject("'.concat(t,'", config) is empty. This is fine ')+"while you are using @theatre/core along with @theatre/studio. But since @theatre/studio "+'is not loaded, the state of project "'.concat(t,'" will be empty.\n\n')+"To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state\n")}),1e3)}return h(e,[{key:"attachToStudio",value:function(e){var t=this;if(this._studio){if(this._studio!==e)throw new Error("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));console.warn("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId))}else this._studio=e,e.initialized.then(o(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mu(e,t,t.config.state);case 2:return t._pointerProxies.historic.setPointer(e.atomP.historic.coreByProject[t.address.projectId]),t._pointerProxies.ahistoric.setPointer(e.atomP.ahistoric.coreByProject[t.address.projectId]),t._pointerProxies.ephemeral.setPointer(e.atomP.ephemeral.coreByProject[t.address.projectId]),n.next=7,e.createAssetStorage(t,null==(r=t.config.assets)?void 0:r.baseUrl).then((function(e){t.assetStorage=e,t._assetStorageReadyDeferred.resolve(void 0)}));case 7:t._studioReadyDeferred.resolve(void 0);case 8:case"end":return n.stop()}}),n)})))).catch((function(e){throw console.error(e),e}))}},{key:"isAttachedToStudio",get:function(){return!!this._studio}},{key:"ready",get:function(){return this._readyPromise}},{key:"isReady",value:function(){return"resolved"===this._studioReadyDeferred.status&&"resolved"===this._assetStorageReadyDeferred.status}},{key:"getOrCreateSheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=this._sheetTemplates.get()[e];return n||(n=new Ts(this,e),this._sheetTemplates.reduce((function(t){return T(M({},t),i({},e,n))}))),n.getInstance(t)}}]),e}(),Iu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,e),H(this,new Du(t,n,this))}return h(e,[{key:"type",get:function(){return"Theatre_Project_PublicAPI"}},{key:"ready",get:function(){return V(this).ready}},{key:"isReady",get:function(){return V(this).isReady()}},{key:"address",get:function(){return M({},V(this).address)}},{key:"getAssetUrl",value:function(e){if(this.isReady)return e.id?V(this).assetStorage.getAssetUrl(e.id):void 0;console.error("Calling `project.getAssetUrl()` before `project.ready` is resolved, will always return `undefined`. Either use `project.ready.then(() => project.getAssetUrl())` or `await project.ready` before calling `project.getAssetUrl()`.")}},{key:"sheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=ws(e);return V(this).getOrCreateSheet(n,t).publicApi}}]),e}(),Ru=(I(z()),n(8458)),Ou=n(8458);function Lu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=U.get(e);if(n)return n.publicApi;var r=Au(),i=r.named("Project",e);return t.state?(Nu(e,t.state),i._debug("deep validated config.state on disk")):i._debug("no config.state"),new Iu(e,t)}var Nu=function(e,t){!function(e,t){if(Array.isArray(t)||null==t||t.definitionVersion!==Cu.currentProjectStateDefinitionVersion)throw new po("Error validating conf.state in Theatre.getProject(".concat(JSON.stringify(e),", conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state"))}(e,t)};function zu(e,t,n){var r=n?V(n).ticker:Ro();if((0,Ru.isPointer)(e))return(0,Ou.pointerToPrism)(e).onChange(r,t,!0);if((0,Ou.isPrism)(e))return e.onChange(r,t,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function Fu(e){if((0,Ru.isPointer)(e))return(0,Ou.pointerToPrism)(e).getValue();throw new Error("Called val(p) where p is not a pointer.")}var ju=function(){function e(){p(this,e),R(this,"_studio")}return h(e,[{key:"type",get:function(){return"Theatre_CoreBundle"}},{key:"version",get:function(){return"0.7.0"}},{key:"getBitsForStudio",value:function(e,t){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=e,t({projectsP:U.atom.pointer.projects,privateAPI:V,coreExports:j,getCoreRafDriver:Io})}}]),e}();!function(){if("undefined"==typeof window)return;var e=window[So];if("undefined"!==typeof e)throw"object"===typeof e&&e&&"string"===typeof e.version?new Error("It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:\n1. You might have two separate versions of Theatre.js in node_modules.\n2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.\n\nNote that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module."):new Error("The variable window.".concat(So," seems to be already set by a module other than @theatre/core."));var t=new ju;window[So]=t;var n=window.__TheatreJS_StudioBundle;n&&null!==n&&"Theatre_StudioBundle"===n.type&&n.registerCoreBundle(t)}()},8546:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},9512:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},2839:function(e,t,n){var r=n(8546);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1185:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7240:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},3298:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},5761:function(e,t,n){var r=n(3903),i=n(4412);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},1795:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},1146:function(e,t,n){var r=n(5300);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},4790:function(e,t,n){var r=n(7474),i=n(4412),a=n(8442);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},366:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},7474:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7964:function(e,t,n){var r=n(3903);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9174:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},4412:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},8766:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7022:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},4045:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7122:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8442:function(e,t,n){var r=n(2125).default,i=n(1185);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3333:function(e,t,n){var r=n(2125).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=f;var p={};function h(){}function v(){}function m(){}var g={};c(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(M([])));b&&b!==n&&a.call(b,s)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,s,u){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function M(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=m,c(w,"constructor",m),c(m,"constructor",v),v.displayName=c(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(_.prototype),c(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new _(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),c(w,l,"Generator"),c(w,s,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3903:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},202:function(e,t,n){var r=n(9512),i=n(7022),a=n(5300),o=n(4045);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},653:function(e,t,n){var r=n(9512),i=n(8766),a=n(5300),o=n(4045);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8648:function(e,t,n){var r=n(2839),i=n(8766),a=n(5300),o=n(7122);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},2125:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5300:function(e,t,n){var r=n(8546);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},1555:function(e,t,n){var r=n(7474),i=n(3903),a=n(9174),o=n(5761);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},7982:function(e,t,n){"use strict";n.r(t),n.d(t,{ACESFilmicToneMapping:function(){return ge},AddEquation:function(){return B},AddOperation:function(){return de},AdditiveAnimationBlendMode:function(){return Gt},AdditiveBlending:function(){return N},AlphaFormat:function(){return Ke},AlwaysCompare:function(){return An},AlwaysDepth:function(){return re},AlwaysStencilFunc:function(){return _n},AmbientLight:function(){return Kd},AmbientLightProbe:function(){return fp},AnimationAction:function(){return Bp},AnimationClip:function(){return yd},AnimationLoader:function(){return Td},AnimationMixer:function(){return Zp},AnimationObjectGroup:function(){return jp},AnimationUtils:function(){return ad},ArcCurve:function(){return wc},ArrayCamera:function(){return Zu},ArrowHelper:function(){return Rh},Audio:function(){return Sp},AudioAnalyser:function(){return Pp},AudioContext:function(){return up},AudioListener:function(){return _p},AudioLoader:function(){return lp},AxesHelper:function(){return Oh},BackSide:function(){return D},BasicDepthPacking:function(){return $t},BasicShadowMap:function(){return C},Bone:function(){return Ol},BooleanKeyframeTrack:function(){return fd},Box2:function(){return eh},Box3:function(){return Ur},Box3Helper:function(){return Ah},BoxGeometry:function(){return $a},BoxHelper:function(){return Ph},BufferAttribute:function(){return ha},BufferGeometry:function(){return Ia},BufferGeometryLoader:function(){return np},ByteType:function(){return je},Cache:function(){return wd},Camera:function(){return io},CameraHelper:function(){return kh},CanvasTexture:function(){return gc},CapsuleGeometry:function(){return Uc},CatmullRomCurve3:function(){return Cc},CineonToneMapping:function(){return me},CircleGeometry:function(){return Zc},ClampToEdgeWrapping:function(){return Ce},Clock:function(){return mp},Color:function(){return ia},ColorKeyframeTrack:function(){return dd},ColorManagement:function(){return _r},CompressedArrayTexture:function(){return vc},CompressedCubeTexture:function(){return mc},CompressedTexture:function(){return hc},CompressedTextureLoader:function(){return Pd},ConeGeometry:function(){return Hc},CubeCamera:function(){return so},CubeReflectionMapping:function(){return we},CubeRefractionMapping:function(){return xe},CubeTexture:function(){return uo},CubeTextureLoader:function(){return Dd},CubeUVReflectionMapping:function(){return ke},CubicBezierCurve:function(){return Ac},CubicBezierCurve3:function(){return Dc},CubicInterpolant:function(){return sd},CullFaceBack:function(){return S},CullFaceFront:function(){return k},CullFaceFrontBack:function(){return E},CullFaceNone:function(){return _},Curve:function(){return yc},CurvePath:function(){return Fc},CustomBlending:function(){return j},CustomToneMapping:function(){return ye},CylinderGeometry:function(){return Vc},Cylindrical:function(){return $p},Data3DTexture:function(){return Or},DataArrayTexture:function(){return Ir},DataTexture:function(){return Ll},DataTextureLoader:function(){return Id},DataUtils:function(){return fa},DecrementStencilOp:function(){return fn},DecrementWrapStencilOp:function(){return pn},DefaultLoadingManager:function(){return _d},DepthFormat:function(){return Je},DepthStencilFormat:function(){return et},DepthTexture:function(){return Gu},DirectionalLight:function(){return Xd},DirectionalLightHelper:function(){return xh},DiscreteInterpolant:function(){return ld},DisplayP3ColorSpace:function(){return on},DodecahedronGeometry:function(){return Gc},DoubleSide:function(){return I},DstAlphaFactor:function(){return Q},DstColorFactor:function(){return J},DynamicCopyUsage:function(){return Fn},DynamicDrawUsage:function(){return In},DynamicReadUsage:function(){return Ln},EdgesGeometry:function(){return Qc},EllipseCurve:function(){return bc},EqualCompare:function(){return En},EqualDepth:function(){return oe},EqualStencilFunc:function(){return gn},EquirectangularReflectionMapping:function(){return _e},EquirectangularRefractionMapping:function(){return Se},Euler:function(){return ki},EventDispatcher:function(){return Wn},ExtrudeGeometry:function(){return Pf},FileLoader:function(){return Md},Float16BufferAttribute:function(){return _a},Float32BufferAttribute:function(){return Sa},Float64BufferAttribute:function(){return ka},FloatType:function(){return He},Fog:function(){return tl},FogExp2:function(){return el},FramebufferTexture:function(){return pc},FrontSide:function(){return A},Frustum:function(){return go},GLBufferAttribute:function(){return qp},GLSL1:function(){return Bn},GLSL3:function(){return Un},GreaterCompare:function(){return Mn},GreaterDepth:function(){return ue},GreaterEqualCompare:function(){return Pn},GreaterEqualDepth:function(){return se},GreaterEqualStencilFunc:function(){return xn},GreaterStencilFunc:function(){return bn},GridHelper:function(){return mh},Group:function(){return Vu},HalfFloatType:function(){return We},HemisphereLight:function(){return Ld},HemisphereLightHelper:function(){return vh},HemisphereLightProbe:function(){return cp},IcosahedronGeometry:function(){return Df},ImageBitmapLoader:function(){return sp},ImageLoader:function(){return Ad},ImageUtils:function(){return Sr},IncrementStencilOp:function(){return cn},IncrementWrapStencilOp:function(){return dn},InstancedBufferAttribute:function(){return jl},InstancedBufferGeometry:function(){return tp},InstancedInterleavedBuffer:function(){return Gp},InstancedMesh:function(){return ql},Int16BufferAttribute:function(){return ya},Int32BufferAttribute:function(){return wa},Int8BufferAttribute:function(){return va},IntType:function(){return Ze},InterleavedBuffer:function(){return rl},InterleavedBufferAttribute:function(){return al},Interpolant:function(){return od},InterpolateDiscrete:function(){return jt},InterpolateLinear:function(){return Bt},InterpolateSmooth:function(){return Ut},InvertStencilOp:function(){return hn},KeepStencilOp:function(){return un},KeyframeTrack:function(){return cd},LOD:function(){return Sl},LatheGeometry:function(){return Bc},Layers:function(){return Ei},LessCompare:function(){return kn},LessDepth:function(){return ie},LessEqualCompare:function(){return Cn},LessEqualDepth:function(){return ae},LessEqualStencilFunc:function(){return yn},LessStencilFunc:function(){return mn},Light:function(){return Od},LightProbe:function(){return $d},Line:function(){return ec},Line3:function(){return rh},LineBasicMaterial:function(){return Xl},LineCurve:function(){return Ic},LineCurve3:function(){return Rc},LineDashedMaterial:function(){return $f},LineLoop:function(){return ic},LineSegments:function(){return rc},LinearEncoding:function(){return Yt},LinearFilter:function(){return Re},LinearInterpolant:function(){return ud},LinearMipMapLinearFilter:function(){return ze},LinearMipMapNearestFilter:function(){return Le},LinearMipmapLinearFilter:function(){return Ne},LinearMipmapNearestFilter:function(){return Oe},LinearSRGBColorSpace:function(){return an},LinearToneMapping:function(){return he},Loader:function(){return Sd},LoaderUtils:function(){return ep},LoadingManager:function(){return xd},LoopOnce:function(){return Nt},LoopPingPong:function(){return Ft},LoopRepeat:function(){return zt},LuminanceAlphaFormat:function(){return $e},LuminanceFormat:function(){return Qe},MOUSE:function(){return w},Material:function(){return Ji},MaterialLoader:function(){return Jd},MathUtils:function(){return ar},Matrix3:function(){return sr},Matrix4:function(){return hi},MaxEquation:function(){return H},Mesh:function(){return Ya},MeshBasicMaterial:function(){return oa},MeshDepthMaterial:function(){return Nu},MeshDistanceMaterial:function(){return zu},MeshLambertMaterial:function(){return Yf},MeshMatcapMaterial:function(){return Qf},MeshNormalMaterial:function(){return Kf},MeshPhongMaterial:function(){return qf},MeshPhysicalMaterial:function(){return Gf},MeshStandardMaterial:function(){return Wf},MeshToonMaterial:function(){return Xf},MinEquation:function(){return V},MirroredRepeatWrapping:function(){return Me},MixOperation:function(){return fe},MultiplyBlending:function(){return F},MultiplyOperation:function(){return ce},NearestFilter:function(){return Te},NearestMipMapLinearFilter:function(){return Ie},NearestMipMapNearestFilter:function(){return Ae},NearestMipmapLinearFilter:function(){return De},NearestMipmapNearestFilter:function(){return Pe},NeverCompare:function(){return Sn},NeverDepth:function(){return ne},NeverStencilFunc:function(){return vn},NoBlending:function(){return O},NoColorSpace:function(){return nn},NoToneMapping:function(){return pe},NormalAnimationBlendMode:function(){return Wt},NormalBlending:function(){return L},NotEqualCompare:function(){return Tn},NotEqualDepth:function(){return le},NotEqualStencilFunc:function(){return wn},NumberKeyframeTrack:function(){return pd},Object3D:function(){return ji},ObjectLoader:function(){return rp},ObjectSpaceNormalMap:function(){return tn},OctahedronGeometry:function(){return If},OneFactor:function(){return G},OneMinusDstAlphaFactor:function(){return $},OneMinusDstColorFactor:function(){return ee},OneMinusSrcAlphaFactor:function(){return Y},OneMinusSrcColorFactor:function(){return X},OrthographicCamera:function(){return Do},PCFShadowMap:function(){return M},PCFSoftShadowMap:function(){return T},PMREMGenerator:function(){return Bo},Path:function(){return jc},PerspectiveCamera:function(){return ao},Plane:function(){return ho},PlaneGeometry:function(){return wo},PlaneHelper:function(){return Dh},PointLight:function(){return Gd},PointLightHelper:function(){return fh},Points:function(){return cc},PointsMaterial:function(){return ac},PolarGridHelper:function(){return gh},PolyhedronGeometry:function(){return Wc},PositionalAudio:function(){return Tp},PropertyBinding:function(){return Fp},PropertyMixer:function(){return Ap},QuadraticBezierCurve:function(){return Oc},QuadraticBezierCurve3:function(){return Lc},Quaternion:function(){return zr},QuaternionKeyframeTrack:function(){return vd},QuaternionLinearInterpolant:function(){return hd},RED_GREEN_RGTC2_Format:function(){return Ot},RED_RGTC1_Format:function(){return It},REVISION:function(){return b},RGBADepthPacking:function(){return Jt},RGBAFormat:function(){return Ye},RGBAIntegerFormat:function(){return at},RGBA_ASTC_10x10_Format:function(){return Tt},RGBA_ASTC_10x5_Format:function(){return Et},RGBA_ASTC_10x6_Format:function(){return Ct},RGBA_ASTC_10x8_Format:function(){return Mt},RGBA_ASTC_12x10_Format:function(){return Pt},RGBA_ASTC_12x12_Format:function(){return At},RGBA_ASTC_4x4_Format:function(){return gt},RGBA_ASTC_5x4_Format:function(){return yt},RGBA_ASTC_5x5_Format:function(){return bt},RGBA_ASTC_6x5_Format:function(){return wt},RGBA_ASTC_6x6_Format:function(){return xt},RGBA_ASTC_8x5_Format:function(){return _t},RGBA_ASTC_8x6_Format:function(){return St},RGBA_ASTC_8x8_Format:function(){return kt},RGBA_BPTC_Format:function(){return Dt},RGBA_ETC2_EAC_Format:function(){return mt},RGBA_PVRTC_2BPPV1_Format:function(){return pt},RGBA_PVRTC_4BPPV1_Format:function(){return dt},RGBA_S3TC_DXT1_Format:function(){return st},RGBA_S3TC_DXT3_Format:function(){return ut},RGBA_S3TC_DXT5_Format:function(){return lt},RGB_ETC1_Format:function(){return ht},RGB_ETC2_Format:function(){return vt},RGB_PVRTC_2BPPV1_Format:function(){return ft},RGB_PVRTC_4BPPV1_Format:function(){return ct},RGB_S3TC_DXT1_Format:function(){return ot},RGFormat:function(){return rt},RGIntegerFormat:function(){return it},RawShaderMaterial:function(){return Hf},Ray:function(){return pi},Raycaster:function(){return Xp},RectAreaLight:function(){return Yd},RedFormat:function(){return tt},RedIntegerFormat:function(){return nt},ReinhardToneMapping:function(){return ve},RenderTarget:function(){return Ar},RepeatWrapping:function(){return Ee},ReplaceStencilOp:function(){return ln},ReverseSubtractEquation:function(){return Z},RingGeometry:function(){return Rf},SIGNED_RED_GREEN_RGTC2_Format:function(){return Lt},SIGNED_RED_RGTC1_Format:function(){return Rt},SRGBColorSpace:function(){return rn},Scene:function(){return nl},ShaderChunk:function(){return xo},ShaderLib:function(){return So},ShaderMaterial:function(){return ro},ShadowMaterial:function(){return Vf},Shape:function(){return $c},ShapeGeometry:function(){return Of},ShapePath:function(){return Lh},ShapeUtils:function(){return Cf},ShortType:function(){return Be},Skeleton:function(){return Fl},SkeletonHelper:function(){return lh},SkinnedMesh:function(){return Rl},Source:function(){return Er},Sphere:function(){return ai},SphereGeometry:function(){return Lf},Spherical:function(){return Qp},SphericalHarmonics3:function(){return Qd},SplineCurve:function(){return Nc},SpotLight:function(){return Ud},SpotLightHelper:function(){return ah},Sprite:function(){return bl},SpriteMaterial:function(){return ol},SrcAlphaFactor:function(){return K},SrcAlphaSaturateFactor:function(){return te},SrcColorFactor:function(){return q},StaticCopyUsage:function(){return zn},StaticDrawUsage:function(){return Dn},StaticReadUsage:function(){return On},StereoCamera:function(){return vp},StreamCopyUsage:function(){return jn},StreamDrawUsage:function(){return Rn},StreamReadUsage:function(){return Nn},StringKeyframeTrack:function(){return md},SubtractEquation:function(){return U},SubtractiveBlending:function(){return z},TOUCH:function(){return x},TangentSpaceNormalMap:function(){return en},TetrahedronGeometry:function(){return Nf},Texture:function(){return Tr},TextureLoader:function(){return Rd},TorusGeometry:function(){return zf},TorusKnotGeometry:function(){return Ff},Triangle:function(){return Qi},TriangleFanDrawMode:function(){return Kt},TriangleStripDrawMode:function(){return Xt},TrianglesDrawMode:function(){return qt},TubeGeometry:function(){return jf},TwoPassDoubleSide:function(){return R},UVMapping:function(){return be},Uint16BufferAttribute:function(){return ba},Uint32BufferAttribute:function(){return xa},Uint8BufferAttribute:function(){return ma},Uint8ClampedBufferAttribute:function(){return ga},Uniform:function(){return Vp},UniformsGroup:function(){return Wp},UniformsLib:function(){return _o},UniformsUtils:function(){return no},UnsignedByteType:function(){return Fe},UnsignedInt248Type:function(){return Xe},UnsignedIntType:function(){return Ve},UnsignedShort4444Type:function(){return Ge},UnsignedShort5551Type:function(){return qe},UnsignedShortType:function(){return Ue},VSMShadowMap:function(){return P},Vector2:function(){return or},Vector3:function(){return Fr},Vector4:function(){return Pr},VectorKeyframeTrack:function(){return gd},VideoTexture:function(){return dc},WebGL1Renderer:function(){return $u},WebGL3DRenderTarget:function(){return Lr},WebGLArrayRenderTarget:function(){return Rr},WebGLCoordinateSystem:function(){return Vn},WebGLCubeRenderTarget:function(){return lo},WebGLMultipleRenderTargets:function(){return Nr},WebGLRenderTarget:function(){return Dr},WebGLRenderer:function(){return Qu},WebGLUtils:function(){return Uu},WebGPUCoordinateSystem:function(){return Hn},WireframeGeometry:function(){return Bf},WrapAroundEnding:function(){return Ht},ZeroCurvatureEnding:function(){return Zt},ZeroFactor:function(){return W},ZeroSlopeEnding:function(){return Vt},ZeroStencilOp:function(){return sn},_SRGBAFormat:function(){return Zn},sRGBEncoding:function(){return Qt}});var r,i,a=n(3133),o=n(9961),s=n(3755),u=n(745),l=n(3680),c=n(2731),f=n(886),d=n(4771),p=n(4269),h=n(8114),v=n(240),m=n(4611),g=n(7061),y=n(9900),b="155",w={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},x={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},_=0,S=1,k=2,E=3,C=0,M=1,T=2,P=3,A=0,D=1,I=2,R=2,O=0,L=1,N=2,z=3,F=4,j=5,B=100,U=101,Z=102,V=103,H=104,W=200,G=201,q=202,X=203,K=204,Y=205,Q=206,$=207,J=208,ee=209,te=210,ne=0,re=1,ie=2,ae=3,oe=4,se=5,ue=6,le=7,ce=0,fe=1,de=2,pe=0,he=1,ve=2,me=3,ge=4,ye=5,be=300,we=301,xe=302,_e=303,Se=304,ke=306,Ee=1e3,Ce=1001,Me=1002,Te=1003,Pe=1004,Ae=1004,De=1005,Ie=1005,Re=1006,Oe=1007,Le=1007,Ne=1008,ze=1008,Fe=1009,je=1010,Be=1011,Ue=1012,Ze=1013,Ve=1014,He=1015,We=1016,Ge=1017,qe=1018,Xe=1020,Ke=1021,Ye=1023,Qe=1024,$e=1025,Je=1026,et=1027,tt=1028,nt=1029,rt=1030,it=1031,at=1033,ot=33776,st=33777,ut=33778,lt=33779,ct=35840,ft=35841,dt=35842,pt=35843,ht=36196,vt=37492,mt=37496,gt=37808,yt=37809,bt=37810,wt=37811,xt=37812,_t=37813,St=37814,kt=37815,Et=37816,Ct=37817,Mt=37818,Tt=37819,Pt=37820,At=37821,Dt=36492,It=36283,Rt=36284,Ot=36285,Lt=36286,Nt=2200,zt=2201,Ft=2202,jt=2300,Bt=2301,Ut=2302,Zt=2400,Vt=2401,Ht=2402,Wt=2500,Gt=2501,qt=0,Xt=1,Kt=2,Yt=3e3,Qt=3001,$t=3200,Jt=3201,en=0,tn=1,nn="",rn="srgb",an="srgb-linear",on="display-p3",sn=0,un=7680,ln=7681,cn=7682,fn=7683,dn=34055,pn=34056,hn=5386,vn=512,mn=513,gn=514,yn=515,bn=516,wn=517,xn=518,_n=519,Sn=512,kn=513,En=514,Cn=515,Mn=516,Tn=517,Pn=518,An=519,Dn=35044,In=35048,Rn=35040,On=35045,Ln=35049,Nn=35041,zn=35046,Fn=35050,jn=35042,Bn="100",Un="300 es",Zn=1035,Vn=2e3,Hn=2001,Wn=function(){function e(){(0,g.Z)(this,e)}return(0,y.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Gn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],qn=1234567,Xn=Math.PI/180,Kn=180/Math.PI;function Yn(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Gn[255&e]+Gn[e>>8&255]+Gn[e>>16&255]+Gn[e>>24&255]+"-"+Gn[255&t]+Gn[t>>8&255]+"-"+Gn[t>>16&15|64]+Gn[t>>24&255]+"-"+Gn[63&n|128]+Gn[n>>8&255]+"-"+Gn[n>>16&255]+Gn[n>>24&255]+Gn[255&r]+Gn[r>>8&255]+Gn[r>>16&255]+Gn[r>>24&255]).toLowerCase()}function Qn(e,t,n){return Math.max(t,Math.min(n,e))}function $n(e,t){return(e%t+t)%t}function Jn(e,t,n){return(1-n)*e+n*t}function er(e){return 0===(e&e-1)&&0!==e}function tr(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function nr(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function rr(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function ir(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var ar={DEG2RAD:Xn,RAD2DEG:Kn,generateUUID:Yn,clamp:Qn,euclideanModulo:$n,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Jn,damp:function(e,t,n,r){return Jn(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs($n(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(qn=e);var t=qn+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Xn},radToDeg:function(e){return e*Kn},isPowerOfTwo:er,ceilPowerOfTwo:tr,floorPowerOfTwo:nr,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),u=o(n/2),l=a((t+r)/2),c=o((t+r)/2),f=a((t-r)/2),d=o((t-r)/2),p=a((r-t)/2),h=o((r-t)/2);switch(i){case"XYX":e.set(s*c,u*f,u*d,s*l);break;case"YZY":e.set(u*d,s*c,u*f,s*l);break;case"ZXZ":e.set(u*f,u*d,s*c,s*l);break;case"XZX":e.set(s*c,u*h,u*p,s*l);break;case"YXY":e.set(u*p,s*c,u*h,s*l);break;case"ZYZ":e.set(u*h,u*p,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:ir,denormalize:rr},or=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.Z)(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return(0,y.Z)(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Qn(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),sr=function(){function e(t,n,r,i,a,o,s,u,l){(0,g.Z)(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l)}return(0,y.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],f=n[2],d=n[5],p=n[8],h=r[0],v=r[3],m=r[6],g=r[1],y=r[4],b=r[7],w=r[2],x=r[5],_=r[8];return i[0]=a*h+o*g+s*w,i[3]=a*v+o*y+s*x,i[6]=a*m+o*b+s*_,i[1]=u*h+l*g+c*w,i[4]=u*v+l*y+c*x,i[7]=u*m+l*b+c*_,i[2]=f*h+d*g+p*w,i[5]=f*v+d*y+p*x,i[8]=f*m+d*b+p*_,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,f=o*s-l*i,d=u*i-a*s,p=t*c+n*f+r*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);var h=1/p;return e[0]=c*h,e[1]=(r*u-l*n)*h,e[2]=(o*n-r*a)*h,e[3]=f*h,e[4]=(l*t-r*s)*h,e[5]=(r*i-o*t)*h,e[6]=d*h,e[7]=(n*s-u*t)*h,e[8]=(a*t-n*i)*h,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(ur.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(ur.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(ur.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),ur=new sr;function lr(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var cr={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function fr(e,t){return new cr[e](t)}function dr(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var pr={};function hr(e){e in pr||(pr[e]=!0,console.warn(e))}function vr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function mr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var gr=(new sr).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),yr=(new sr).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);var br,wr=(r={},(0,v.Z)(r,an,(function(e){return e})),(0,v.Z)(r,rn,(function(e){return e.convertSRGBToLinear()})),(0,v.Z)(r,on,(function(e){return e.convertSRGBToLinear().applyMatrix3(yr)})),r),xr=(i={},(0,v.Z)(i,an,(function(e){return e})),(0,v.Z)(i,rn,(function(e){return e.convertLinearToSRGB()})),(0,v.Z)(i,on,(function(e){return e.applyMatrix3(gr).convertLinearToSRGB()})),i),_r={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return an},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=wr[t],i=xr[n];if(void 0===r||void 0===i)throw new Error('Unsupported color space conversion, "'.concat(t,'" to "').concat(n,'".'));return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Sr=function(){function e(){(0,g.Z)(this,e)}return(0,y.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===br&&(br=dr("canvas")),br.width=e.width,br.height=e.height;var n=br.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=br}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=dr("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*vr(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*vr(o[s]/255)):o[s]=vr(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),kr=0,Er=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,g.Z)(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:kr++}),this.uuid=Yn(),this.data=t,this.version=0}return(0,y.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(Cr(r[a].image)):i.push(Cr(r[a]))}else i=Cr(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function Cr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Sr.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Mr=0,Tr=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ce,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Re,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ne,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ye,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Fe,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:nn;return(0,g.Z)(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty((0,d.Z)(e),"id",{value:Mr++}),e.uuid=Yn(),e.name="",e.source=new Er(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=f,e.format=l,e.internalFormat=null,e.type=c,e.offset=new or(0,0),e.repeat=new or(1,1),e.center=new or(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new sr,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,"string"===typeof p?e.colorSpace=p:(hr("THREE.Texture: Property .encoding has been replaced by .colorSpace."),e.colorSpace=p===Qt?rn:nn),e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return(0,y.Z)(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==be)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ee:e.x=e.x-Math.floor(e.x);break;case Ce:e.x=e.x<0?0:1;break;case Me:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ee:e.y=e.y-Math.floor(e.y);break;case Ce:e.y=e.y<0?0:1;break;case Me:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return hr("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===rn?Qt:Yt},set:function(e){hr("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Qt?rn:nn}}]),n}(Wn);Tr.DEFAULT_IMAGE=null,Tr.DEFAULT_MAPPING=be,Tr.DEFAULT_ANISOTROPY=1;var Pr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,g.Z)(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return(0,y.Z)(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],f=s[1],d=s[5],p=s[9],h=s[2],v=s[6],m=s[10];if(Math.abs(l-f)<a&&Math.abs(c-h)<a&&Math.abs(p-v)<a){if(Math.abs(l+f)<o&&Math.abs(c+h)<o&&Math.abs(p+v)<o&&Math.abs(u+d+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(d+1)/2,b=(m+1)/2,w=(l+f)/4,x=(c+h)/4,_=(p+v)/4;return g>y&&g>b?g<a?(n=0,r=.707106781,i=.707106781):(r=w/(n=Math.sqrt(g)),i=x/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=w/(r=Math.sqrt(y)),i=_/r):b<a?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(b)),r=_/i),this.set(n,r,i,t),this}var S=Math.sqrt((v-p)*(v-p)+(c-h)*(c-h)+(f-l)*(f-l));return Math.abs(S)<.001&&(S=1),this.x=(v-p)/S,this.y=(c-h)/S,this.z=(f-l)/S,this.w=Math.acos((u+d+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Ar=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,g.Z)(this,n),(e=t.call(this)).isRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new Pr(0,0,r,i),e.scissorTest=!1,e.viewport=new Pr(0,0,r,i);var o={width:r,height:i,depth:1};return void 0!==a.encoding&&(hr("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===Qt?rn:nn),e.texture=new Tr(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:Re,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return(0,y.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Er(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Wn),Dr=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,g.Z)(this,n),(e=t.call(this,r,i,a)).isWebGLRenderTarget=!0,e}return(0,y.Z)(n)}(Ar),Ir=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,g.Z)(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Te,e.minFilter=Te,e.wrapR=Ce,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,y.Z)(n)}(Tr),Rr=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,g.Z)(this,n),(e=t.call(this,r,i)).isWebGLArrayRenderTarget=!0,e.depth=a,e.texture=new Ir(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return(0,y.Z)(n)}(Dr),Or=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,g.Z)(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Te,e.minFilter=Te,e.wrapR=Ce,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,y.Z)(n)}(Tr),Lr=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,g.Z)(this,n),(e=t.call(this,r,i)).isWebGL3DRenderTarget=!0,e.depth=a,e.texture=new Or(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return(0,y.Z)(n)}(Dr),Nr=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,g.Z)(this,n),(e=t.call(this,r,i,o)).isWebGLMultipleRenderTargets=!0;var s=e.texture;e.texture=[];for(var u=0;u<a;u++)e.texture[u]=s.clone(),e.texture[u].isRenderTargetTexture=!0;return e}return(0,y.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}]),n}(Dr),zr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,g.Z)(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return(0,y.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),f=s(n/2),d=s(r/2),p=s(i/2);switch(a){case"XYZ":this._x=f*l*c+u*d*p,this._y=u*d*c-f*l*p,this._z=u*l*p+f*d*c,this._w=u*l*c-f*d*p;break;case"YXZ":this._x=f*l*c+u*d*p,this._y=u*d*c-f*l*p,this._z=u*l*p-f*d*c,this._w=u*l*c+f*d*p;break;case"ZXY":this._x=f*l*c-u*d*p,this._y=u*d*c+f*l*p,this._z=u*l*p+f*d*c,this._w=u*l*c-f*d*p;break;case"ZYX":this._x=f*l*c-u*d*p,this._y=u*d*c+f*l*p,this._z=u*l*p-f*d*c,this._w=u*l*c+f*d*p;break;case"YZX":this._x=f*l*c+u*d*p,this._y=u*d*c+f*l*p,this._z=u*l*p-f*d*c,this._w=u*l*c-f*d*p;break;case"XZY":this._x=f*l*c-u*d*p,this._y=u*d*c-f*l*p,this._z=u*l*p+f*d*c,this._w=u*l*c+f*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],f=n+o+c;if(f>0){var d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(l-s)*d,this._y=(i-u)*d,this._z=(a-r)*d}else if(n>o&&n>c){var p=2*Math.sqrt(1+n-o-c);this._w=(l-s)/p,this._x=.25*p,this._y=(r+a)/p,this._z=(i+u)/p}else if(o>c){var h=2*Math.sqrt(1+o-n-c);this._w=(i-u)/h,this._x=(r+a)/h,this._y=.25*h,this._z=(s+l)/h}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+u)/v,this._y=(s+l)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Qn(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),f=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*f+this._w*d,this._x=n*f+this._x*d,this._y=r*f+this._y*d,this._z=i*f+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],f=i[a+0],d=i[a+1],p=i[a+2],h=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=f,e[t+1]=d,e[t+2]=p,void(e[t+3]=h);if(c!==h||s!==f||u!==d||l!==p){var v=1-o,m=s*f+u*d+l*p+c*h,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,m*g);v=Math.sin(v*w)/b,o=Math.sin(o*w)/b}var x=o*g;if(s=s*v+f*x,u=u*v+d*x,l=l*v+p*x,c=c*v+h*x,v===1-o){var _=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=_,u*=_,l*=_,c*=_}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],f=i[a+1],d=i[a+2],p=i[a+3];return e[t]=o*p+l*c+s*d-u*f,e[t+1]=s*p+l*f+u*c-o*d,e[t+2]=u*p+l*d+o*f-s*c,e[t+3]=l*p-o*c-s*f-u*d,e}}]),t}(Symbol.iterator),Fr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,g.Z)(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return(0,y.Z)(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(Br.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Br.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,f=-i*t-a*n-o*r;return this.x=u*s+f*-i+l*-o-c*-a,this.y=l*s+f*-a+c*-i-u*-o,this.z=c*s+f*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return jr.copy(this).projectOnVector(e),this.sub(jr)}},{key:"reflect",value:function(e){return this.sub(jr.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Qn(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:e,value:(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),jr=new Fr,Br=new zr,Ur=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr(-1/0,-1/0,-1/0);(0,g.Z)(this,e),this.isBox3=!0,this.min=t,this.max=n}return(0,y.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(Vr.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(Vr.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Vr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Hr.copy(e.boundingBox),Hr.applyMatrix4(e.matrixWorld),this.union(Hr);else{var n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)Vr.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Vr);else null===n.boundingBox&&n.computeBoundingBox(),Hr.copy(n.boundingBox),Hr.applyMatrix4(e.matrixWorld),this.union(Hr)}for(var o=e.children,s=0,u=o.length;s<u;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Vr),Vr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Qr),$r.subVectors(this.max,Qr),Wr.subVectors(e.a,Qr),Gr.subVectors(e.b,Qr),qr.subVectors(e.c,Qr),Xr.subVectors(Gr,Wr),Kr.subVectors(qr,Gr),Yr.subVectors(Wr,qr);var t=[0,-Xr.z,Xr.y,0,-Kr.z,Kr.y,0,-Yr.z,Yr.y,Xr.z,0,-Xr.x,Kr.z,0,-Kr.x,Yr.z,0,-Yr.x,-Xr.y,Xr.x,0,-Kr.y,Kr.x,0,-Yr.y,Yr.x,0];return!!ti(t,Wr,Gr,qr,$r)&&(!!ti(t=[1,0,0,0,1,0,0,0,1],Wr,Gr,qr,$r)&&(Jr.crossVectors(Xr,Kr),ti(t=[Jr.x,Jr.y,Jr.z],Wr,Gr,qr,$r)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,Vr).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Vr).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Zr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Zr=[new Fr,new Fr,new Fr,new Fr,new Fr,new Fr,new Fr,new Fr],Vr=new Fr,Hr=new Ur,Wr=new Fr,Gr=new Fr,qr=new Fr,Xr=new Fr,Kr=new Fr,Yr=new Fr,Qr=new Fr,$r=new Fr,Jr=new Fr,ei=new Fr;function ti(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){ei.fromArray(e,a);var s=i.x*Math.abs(ei.x)+i.y*Math.abs(ei.y)+i.z*Math.abs(ei.z),u=t.dot(ei),l=n.dot(ei),c=r.dot(ei);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var ni=new Ur,ri=new Fr,ii=new Fr,ai=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,g.Z)(this,e),this.center=t,this.radius=n}return(0,y.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):ni.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ri.subVectors(e,this.center);var t=ri.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(ri,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(ii.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ri.copy(e.center).add(ii)),this.expandByPoint(ri.copy(e.center).sub(ii))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),oi=new Fr,si=new Fr,ui=new Fr,li=new Fr,ci=new Fr,fi=new Fr,di=new Fr,pi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr(0,0,-1);(0,g.Z)(this,e),this.origin=t,this.direction=n}return(0,y.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,oi)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=oi.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(oi.copy(this.origin).addScaledVector(this.direction,t),oi.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){si.copy(e).add(t).multiplyScalar(.5),ui.copy(t).sub(e).normalize(),li.copy(this.origin).sub(si);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(ui),c=li.dot(this.direction),f=-li.dot(ui),d=li.lengthSq(),p=Math.abs(1-l*l);if(p>0)if(a=l*c-f,s=u*p,(i=l*f-c)>=0)if(a>=-s)if(a<=s){var h=1/p;o=(i*=h)*(i+l*(a*=h)+2*c)+a*(l*i+a+2*f)+d}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-f),u))*(a+2*f)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-f),u))*(a+2*f)+d):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-f),u))*(a+2*f)+d;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(si).addScaledVector(ui,a),o}},{key:"intersectSphere",value:function(e,t){oi.subVectors(e.center,this.origin);var n=oi.dot(this.direction),r=oi.dot(oi)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,f=this.origin;return u>=0?(n=(e.min.x-f.x)*u,r=(e.max.x-f.x)*u):(n=(e.max.x-f.x)*u,r=(e.min.x-f.x)*u),l>=0?(i=(e.min.y-f.y)*l,a=(e.max.y-f.y)*l):(i=(e.max.y-f.y)*l,a=(e.min.y-f.y)*l),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-f.z)*c,s=(e.max.z-f.z)*c):(o=(e.max.z-f.z)*c,s=(e.min.z-f.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,oi)}},{key:"intersectTriangle",value:function(e,t,n,r,i){ci.subVectors(t,e),fi.subVectors(n,e),di.crossVectors(ci,fi);var a,o=this.direction.dot(di);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}li.subVectors(this.origin,e);var s=a*this.direction.dot(fi.crossVectors(li,fi));if(s<0)return null;var u=a*this.direction.dot(ci.cross(li));if(u<0)return null;if(s+u>o)return null;var l=-a*li.dot(di);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),hi=function(){function e(t,n,r,i,a,o,s,u,l,c,f,d,p,h,v,m){(0,g.Z)(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l,c,f,d,p,h,v,m)}return(0,y.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=f,m[3]=d,m[7]=p,m[11]=h,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/vi.setFromMatrixColumn(e,0).length(),i=1/vi.setFromMatrixColumn(e,1).length(),a=1/vi.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var f=a*l,d=a*c,p=o*l,h=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=d+p*u,t[5]=f-h*u,t[9]=-o*s,t[2]=h-f*u,t[6]=p+d*u,t[10]=a*s}else if("YXZ"===e.order){var v=s*l,m=s*c,g=u*l,y=u*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*l,w=s*c,x=u*l,_=u*c;t[0]=b-_*o,t[4]=-a*c,t[8]=x+w*o,t[1]=w+x*o,t[5]=a*l,t[9]=_-b*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*l,k=a*c,E=o*l,C=o*c;t[0]=s*l,t[4]=E*u-k,t[8]=S*u+C,t[1]=s*c,t[5]=C*u+S,t[9]=k*u-E,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var M=a*s,T=a*u,P=o*s,A=o*u;t[0]=s*l,t[4]=A-M*c,t[8]=P*c+T,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=T*c+P,t[10]=M-A*c}else if("XZY"===e.order){var D=a*s,I=a*u,R=o*s,O=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=D*c+O,t[5]=a*l,t[9]=I*c-R,t[2]=R*c-I,t[6]=o*l,t[10]=O*c+D}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(gi,e,yi)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return xi.subVectors(e,t),0===xi.lengthSq()&&(xi.z=1),xi.normalize(),bi.crossVectors(n,xi),0===bi.lengthSq()&&(1===Math.abs(n.z)?xi.x+=1e-4:xi.z+=1e-4,xi.normalize(),bi.crossVectors(n,xi)),bi.normalize(),wi.crossVectors(xi,bi),r[0]=bi.x,r[4]=wi.x,r[8]=xi.x,r[1]=bi.y,r[5]=wi.y,r[9]=xi.y,r[2]=bi.z,r[6]=wi.z,r[10]=xi.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],f=n[9],d=n[13],p=n[2],h=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],w=n[15],x=r[0],_=r[4],S=r[8],k=r[12],E=r[1],C=r[5],M=r[9],T=r[13],P=r[2],A=r[6],D=r[10],I=r[14],R=r[3],O=r[7],L=r[11],N=r[15];return i[0]=a*x+o*E+s*P+u*R,i[4]=a*_+o*C+s*A+u*O,i[8]=a*S+o*M+s*D+u*L,i[12]=a*k+o*T+s*I+u*N,i[1]=l*x+c*E+f*P+d*R,i[5]=l*_+c*C+f*A+d*O,i[9]=l*S+c*M+f*D+d*L,i[13]=l*k+c*T+f*I+d*N,i[2]=p*x+h*E+v*P+m*R,i[6]=p*_+h*C+v*A+m*O,i[10]=p*S+h*M+v*D+m*L,i[14]=p*k+h*T+v*I+m*N,i[3]=g*x+y*E+b*P+w*R,i[7]=g*_+y*C+b*A+w*O,i[11]=g*S+y*M+b*D+w*L,i[15]=g*k+y*T+b*I+w*N,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],f=e[10],d=e[14];return e[3]*(+i*s*c-r*u*c-i*o*f+n*u*f+r*o*d-n*s*d)+e[7]*(+t*s*d-t*u*f+i*a*f-r*a*d+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*d-i*a*c+n*a*d+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*f+r*a*c-n*a*f+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],d=e[11],p=e[12],h=e[13],v=e[14],m=e[15],g=c*v*u-h*f*u+h*s*d-o*v*d-c*s*m+o*f*m,y=p*f*u-l*v*u-p*s*d+a*v*d+l*s*m-a*f*m,b=l*h*u-p*c*u+p*o*d-a*h*d-l*o*m+a*c*m,w=p*c*s-l*h*s-p*o*f+a*h*f+l*o*v-a*c*v,x=t*g+n*y+r*b+i*w;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var _=1/x;return e[0]=g*_,e[1]=(h*f*i-c*v*i-h*r*d+n*v*d+c*r*m-n*f*m)*_,e[2]=(o*v*i-h*s*i+h*r*u-n*v*u-o*r*m+n*s*m)*_,e[3]=(c*s*i-o*f*i-c*r*u+n*f*u+o*r*d-n*s*d)*_,e[4]=y*_,e[5]=(l*v*i-p*f*i+p*r*d-t*v*d-l*r*m+t*f*m)*_,e[6]=(p*s*i-a*v*i-p*r*u+t*v*u+a*r*m-t*s*m)*_,e[7]=(a*f*i-l*s*i+l*r*u-t*f*u-a*r*d+t*s*d)*_,e[8]=b*_,e[9]=(p*c*i-l*h*i-p*n*d+t*h*d+l*n*m-t*c*m)*_,e[10]=(a*h*i-p*o*i+p*n*u-t*h*u-a*n*m+t*o*m)*_,e[11]=(l*o*i-a*c*i-l*n*u+t*c*u+a*n*d-t*o*d)*_,e[12]=w*_,e[13]=(l*h*r-p*c*r+p*n*f-t*h*f-l*n*v+t*c*v)*_,e[14]=(p*o*r-a*h*r-p*n*s+t*h*s+a*n*v-t*o*v)*_,e[15]=(a*c*r-l*o*r+l*n*s-t*c*s-a*n*f+t*o*f)*_,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,f=i*u,d=i*l,p=i*c,h=a*l,v=a*c,m=o*c,g=s*u,y=s*l,b=s*c,w=n.x,x=n.y,_=n.z;return r[0]=(1-(h+m))*w,r[1]=(d+b)*w,r[2]=(p-y)*w,r[3]=0,r[4]=(d-b)*x,r[5]=(1-(f+m))*x,r[6]=(v+g)*x,r[7]=0,r[8]=(p+y)*_,r[9]=(v-g)*_,r[10]=(1-(f+h))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=vi.set(r[0],r[1],r[2]).length(),a=vi.set(r[4],r[5],r[6]).length(),o=vi.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],mi.copy(this);var s=1/i,u=1/a,l=1/o;return mi.elements[0]*=s,mi.elements[1]*=s,mi.elements[2]*=s,mi.elements[4]*=u,mi.elements[5]*=u,mi.elements[6]*=u,mi.elements[8]*=l,mi.elements[9]*=l,mi.elements[10]*=l,t.setFromRotationMatrix(mi),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vn,l=this.elements,c=2*i/(t-e),f=2*i/(n-r),d=(t+e)/(t-e),p=(n+r)/(n-r);if(u===Vn)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(u!==Hn)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);o=-a/(a-i),s=-a*i/(a-i)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=o,l[14]=s,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vn,l=this.elements,c=1/(t-e),f=1/(n-r),d=1/(a-i),p=(t+e)*c,h=(n+r)*f;if(u===Vn)o=(a+i)*d,s=-2*d;else{if(u!==Hn)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);o=i*d,s=-1*d}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=s,l[14]=-o,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),vi=new Fr,mi=new hi,gi=new Fr(0,0,0),yi=new Fr(1,1,1),bi=new Fr,wi=new Fr,xi=new Fr,_i=new hi,Si=new zr,ki=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;(0,g.Z)(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return(0,y.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],u=r[5],l=r[9],c=r[2],f=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Qn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Qn(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Qn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Qn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Qn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return _i.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_i,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Si.setFromEuler(this),this.setFromQuaternion(Si,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);ki.DEFAULT_ORDER="XYZ";var Ei=function(){function e(){(0,g.Z)(this,e),this.mask=1}return(0,y.Z)(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Ci=0,Mi=new Fr,Ti=new zr,Pi=new hi,Ai=new Fr,Di=new Fr,Ii=new Fr,Ri=new zr,Oi=new Fr(1,0,0),Li=new Fr(0,1,0),Ni=new Fr(0,0,1),zi={type:"added"},Fi={type:"removed"},ji=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,g.Z)(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty((0,d.Z)(e),"id",{value:Ci++}),e.uuid=Yn(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new Fr,i=new ki,a=new zr,o=new Fr(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties((0,d.Z)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new hi},normalMatrix:{value:new sr}}),e.matrix=new hi,e.matrixWorld=new hi,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new Ei,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,y.Z)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Ti.setFromAxisAngle(e,t),this.quaternion.multiply(Ti),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Ti.setFromAxisAngle(e,t),this.quaternion.premultiply(Ti),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Oi,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Li,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Ni,e)}},{key:"translateOnAxis",value:function(e,t){return Mi.copy(e).applyQuaternion(this.quaternion),this.position.add(Mi.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Oi,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Li,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Ni,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pi.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Ai.copy(e):Ai.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Di.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pi.lookAt(Di,Ai,this.up):Pi.lookAt(Ai,Di,this.up),this.quaternion.setFromRotationMatrix(Pi),r&&(Pi.extractRotation(r.matrixWorld),Ti.setFromRotationMatrix(Pi),this.quaternion.premultiply(Ti.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(zi)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Fi)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Fi)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Pi.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Pi.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pi),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Di,e,Ii),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Di,Ri,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],f=0,d=this.material.length;f<d;f++)c.push(i(e.materials,this.material[f]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var p=0;p<this.children.length;p++)r.children.push(this.children[p].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var h=0;h<this.animations.length;h++){var v=this.animations[h];r.animations.push(i(e.animations,v))}}if(t){var m=k(e.geometries),g=k(e.materials),y=k(e.textures),b=k(e.images),w=k(e.shapes),x=k(e.skeletons),_=k(e.animations),S=k(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),w.length>0&&(n.shapes=w),x.length>0&&(n.skeletons=x),_.length>0&&(n.animations=_),S.length>0&&(n.nodes=S)}return n.object=r,n;function k(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Wn);ji.DEFAULT_UP=new Fr(0,1,0),ji.DEFAULT_MATRIX_AUTO_UPDATE=!0,ji.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Bi=new Fr,Ui=new Fr,Zi=new Fr,Vi=new Fr,Hi=new Fr,Wi=new Fr,Gi=new Fr,qi=new Fr,Xi=new Fr,Ki=new Fr,Yi=!1,Qi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Fr;(0,g.Z)(this,e),this.a=t,this.b=n,this.c=r}return(0,y.Z)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Bi.subVectors(this.c,this.b),Ui.subVectors(this.a,this.b),.5*Bi.cross(Ui).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return!1===Yi&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Yi=!0),e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Hi.subVectors(a,i),Wi.subVectors(o,i),qi.subVectors(e,i);var s=Hi.dot(qi),u=Wi.dot(qi);if(s<=0&&u<=0)return t.copy(i);Xi.subVectors(e,a);var l=Hi.dot(Xi),c=Wi.dot(Xi);if(l>=0&&c<=l)return t.copy(a);var f=s*c-l*u;if(f<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(Hi,n);Ki.subVectors(e,o);var d=Hi.dot(Ki),p=Wi.dot(Ki);if(p>=0&&d<=p)return t.copy(o);var h=d*u-s*p;if(h<=0&&u>=0&&p<=0)return r=u/(u-p),t.copy(i).addScaledVector(Wi,r);var v=l*p-d*c;if(v<=0&&c-l>=0&&d-p>=0)return Gi.subVectors(o,a),r=(c-l)/(c-l+(d-p)),t.copy(a).addScaledVector(Gi,r);var m=1/(v+h+f);return n=h*m,r=f*m,t.copy(i).addScaledVector(Hi,n).addScaledVector(Wi,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Bi.subVectors(e,t),r.cross(Bi);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Bi.subVectors(r,t),Ui.subVectors(n,t),Zi.subVectors(e,t);var a=Bi.dot(Bi),o=Bi.dot(Ui),s=Bi.dot(Zi),u=Ui.dot(Ui),l=Ui.dot(Zi),c=a*u-o*o;if(0===c)return i.set(-2,-1,-1);var f=1/c,d=(u*s-o*l)*f,p=(a*l-o*s)*f;return i.set(1-d-p,p,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Vi),Vi.x>=0&&Vi.y>=0&&Vi.x+Vi.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return!1===Yi&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Yi=!0),this.getInterpolation(e,t,n,r,i,a,o,s)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Vi),s.setScalar(0),s.addScaledVector(i,Vi.x),s.addScaledVector(a,Vi.y),s.addScaledVector(o,Vi.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Bi.subVectors(n,t),Ui.subVectors(e,t),Bi.cross(Ui).dot(r)<0}}]),e}(),$i=0,Ji=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty((0,d.Z)(e),"id",{value:$i++}),e.uuid=Yn(),e.name="",e.type="Material",e.blending=L,e.side=A,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=K,e.blendDst=Y,e.blendEquation=B,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=ae,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=_n,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=un,e.stencilZFail=un,e.stencilZPass=un,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return(0,y.Z)(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==L&&(n.blending=this.blending),this.side!==A&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Wn),ea={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ta={h:0,s:0,l:0},na={h:0,s:0,l:0};function ra(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var ia=function(e){function t(e,n,r){return(0,g.Z)(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}return(0,y.Z)(t,[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,_r.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_r.workingColorSpace;return this.r=e,this.g=t,this.b=n,_r.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_r.workingColorSpace;if(e=$n(e,1),t=Qn(t,0,1),n=Qn(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=ra(a,i,e+1/3),this.g=ra(a,i,e),this.b=ra(a,i,e-1/3)}return _r.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],u=s.length;if(3===u)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===u)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn,n=ea[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=vr(e.r),this.g=vr(e.g),this.b=vr(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=mr(e.r),this.g=mr(e.g),this.b=mr(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return _r.fromWorkingColorSpace(aa.copy(this),e),65536*Math.round(Qn(255*aa.r,0,255))+256*Math.round(Qn(255*aa.g,0,255))+Math.round(Qn(255*aa.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_r.workingColorSpace;_r.fromWorkingColorSpace(aa.copy(this),t);var n,r,i=aa.r,a=aa.g,o=aa.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)n=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_r.workingColorSpace;return _r.fromWorkingColorSpace(aa.copy(this),t),e.r=aa.r,e.g=aa.g,e.b=aa.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;_r.fromWorkingColorSpace(aa.copy(this),e);var t=aa.r,n=aa.g,r=aa.b;return e!==rn?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(ta),ta.h+=e,ta.s+=t,ta.l+=n,this.setHSL(ta.h,ta.s,ta.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(ta),e.getHSL(na);var n=Jn(ta.h,na.h,t),r=Jn(ta.s,na.s,t),i=Jn(ta.l,na.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:e,value:(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),aa=new ia;ia.NAMES=ea;var oa=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new ia(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ce,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Ji),sa=ua();function ua(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),u=new Uint32Array(64),l=new Uint32Array(64),c=1;c<1024;++c){for(var f=c<<13,d=0;0===(8388608&f);)f<<=1,d-=8388608;f&=-8388609,d+=947912704,s[c]=f|d}for(var p=1024;p<2048;++p)s[p]=939524096+(p-1024<<13);for(var h=1;h<31;++h)u[h]=h<<23;u[31]=1199570944,u[32]=2147483648;for(var v=33;v<63;++v)u[v]=2147483648+(v-32<<23);u[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(l[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:u,offsetTable:l}}function la(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Qn(e,-65504,65504),sa.floatView[0]=e;var t=sa.uint32View[0],n=t>>23&511;return sa.baseTable[n]+((8388607&t)>>sa.shiftTable[n])}function ca(e){var t=e>>10;return sa.uint32View[0]=sa.mantissaTable[sa.offsetTable[t]+(1023&e)]+sa.exponentTable[t],sa.floatView[0]}var fa={toHalfFloat:la,fromHalfFloat:ca},da=new Fr,pa=new or,ha=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,g.Z)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=Dn,this.updateRange={offset:0,count:-1},this.gpuType=He,this.version=0}return(0,y.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)pa.fromBufferAttribute(this,t),pa.applyMatrix3(e),this.setXY(t,pa.x,pa.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)da.fromBufferAttribute(this,r),da.applyMatrix3(e),this.setXYZ(r,da.x,da.y,da.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)da.fromBufferAttribute(this,t),da.applyMatrix4(e),this.setXYZ(t,da.x,da.y,da.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)da.fromBufferAttribute(this,t),da.applyNormalMatrix(e),this.setXYZ(t,da.x,da.y,da.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)da.fromBufferAttribute(this,t),da.transformDirection(e),this.setXYZ(t,da.x,da.y,da.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getComponent",value:function(e,t){var n=this.array[e*this.itemSize+t];return this.normalized&&(n=rr(n,this.array)),n}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=ir(n,this.array)),this.array[e*this.itemSize+t]=n,this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=rr(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=rr(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=rr(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=rr(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array),r=ir(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array),r=ir(r,this.array),i=ir(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Dn&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}(),va=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){return(0,g.Z)(this,n),t.call(this,new Int8Array(e),r,i)}return(0,y.Z)(n)}(ha),ma=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){return(0,g.Z)(this,n),t.call(this,new Uint8Array(e),r,i)}return(0,y.Z)(n)}(ha),ga=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){return(0,g.Z)(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return(0,y.Z)(n)}(ha),ya=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){return(0,g.Z)(this,n),t.call(this,new Int16Array(e),r,i)}return(0,y.Z)(n)}(ha),ba=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){return(0,g.Z)(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,y.Z)(n)}(ha),wa=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){return(0,g.Z)(this,n),t.call(this,new Int32Array(e),r,i)}return(0,y.Z)(n)}(ha),xa=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){return(0,g.Z)(this,n),t.call(this,new Uint32Array(e),r,i)}return(0,y.Z)(n)}(ha),_a=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var a;return(0,g.Z)(this,n),(a=t.call(this,new Uint16Array(e),r,i)).isFloat16BufferAttribute=!0,a}return(0,y.Z)(n,[{key:"getX",value:function(e){var t=ca(this.array[e*this.itemSize]);return this.normalized&&(t=rr(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize]=la(t),this}},{key:"getY",value:function(e){var t=ca(this.array[e*this.itemSize+1]);return this.normalized&&(t=rr(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize+1]=la(t),this}},{key:"getZ",value:function(e){var t=ca(this.array[e*this.itemSize+2]);return this.normalized&&(t=rr(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize+2]=la(t),this}},{key:"getW",value:function(e){var t=ca(this.array[e*this.itemSize+3]);return this.normalized&&(t=rr(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.array[e*this.itemSize+3]=la(t),this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array)),this.array[e+0]=la(t),this.array[e+1]=la(n),this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array),r=ir(r,this.array)),this.array[e+0]=la(t),this.array[e+1]=la(n),this.array[e+2]=la(r),this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array),r=ir(r,this.array),i=ir(i,this.array)),this.array[e+0]=la(t),this.array[e+1]=la(n),this.array[e+2]=la(r),this.array[e+3]=la(i),this}}]),n}(ha),Sa=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){return(0,g.Z)(this,n),t.call(this,new Float32Array(e),r,i)}return(0,y.Z)(n)}(ha),ka=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){return(0,g.Z)(this,n),t.call(this,new Float64Array(e),r,i)}return(0,y.Z)(n)}(ha),Ea=0,Ca=new hi,Ma=new ji,Ta=new Fr,Pa=new Ur,Aa=new Ur,Da=new Fr,Ia=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty((0,d.Z)(e),"id",{value:Ea++}),e.uuid=Yn(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,y.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(lr(e)?xa:ba)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new sr).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Ca.makeRotationFromQuaternion(e),this.applyMatrix4(Ca),this}},{key:"rotateX",value:function(e){return Ca.makeRotationX(e),this.applyMatrix4(Ca),this}},{key:"rotateY",value:function(e){return Ca.makeRotationY(e),this.applyMatrix4(Ca),this}},{key:"rotateZ",value:function(e){return Ca.makeRotationZ(e),this.applyMatrix4(Ca),this}},{key:"translate",value:function(e,t,n){return Ca.makeTranslation(e,t,n),this.applyMatrix4(Ca),this}},{key:"scale",value:function(e,t,n){return Ca.makeScale(e,t,n),this.applyMatrix4(Ca),this}},{key:"lookAt",value:function(e){return Ma.lookAt(e),Ma.updateMatrix(),this.applyMatrix4(Ma.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ta).negate(),this.translate(Ta.x,Ta.y,Ta.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Sa(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Ur);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Fr(-1/0,-1/0,-1/0),new Fr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Pa.setFromBufferAttribute(i),this.morphTargetsRelative?(Da.addVectors(this.boundingBox.min,Pa.min),this.boundingBox.expandByPoint(Da),Da.addVectors(this.boundingBox.max,Pa.max),this.boundingBox.expandByPoint(Da)):(this.boundingBox.expandByPoint(Pa.min),this.boundingBox.expandByPoint(Pa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new ai);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Fr,1/0);if(e){var n=this.boundingSphere.center;if(Pa.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Aa.setFromBufferAttribute(a),this.morphTargetsRelative?(Da.addVectors(Pa.min,Aa.min),Pa.expandByPoint(Da),Da.addVectors(Pa.max,Aa.max),Pa.expandByPoint(Da)):(Pa.expandByPoint(Aa.min),Pa.expandByPoint(Aa.max))}Pa.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)Da.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(Da));if(t)for(var l=0,c=t.length;l<c;l++)for(var f=t[l],d=this.morphTargetsRelative,p=0,h=f.count;p<h;p++)Da.fromBufferAttribute(f,p),d&&(Ta.fromBufferAttribute(e,p),Da.add(Ta)),o=Math.max(o,n.distanceToSquared(Da));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ha(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,u=[],l=[],c=0;c<o;c++)u[c]=new Fr,l[c]=new Fr;var f=new Fr,d=new Fr,p=new Fr,h=new or,v=new or,m=new or,g=new Fr,y=new Fr,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var w=0,x=b.length;w<x;++w)for(var _=b[w],S=_.start,k=S,E=S+_.count;k<E;k+=3)N(n[k+0],n[k+1],n[k+2]);for(var C=new Fr,M=new Fr,T=new Fr,P=new Fr,A=0,D=b.length;A<D;++A)for(var I=b[A],R=I.start,O=R,L=R+I.count;O<L;O+=3)z(n[O+0]),z(n[O+1]),z(n[O+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function N(e,t,n){f.fromArray(r,3*e),d.fromArray(r,3*t),p.fromArray(r,3*n),h.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(f),p.sub(f),v.sub(h),m.sub(h);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(g.copy(d).multiplyScalar(m.y).addScaledVector(p,-v.y).multiplyScalar(i),y.copy(p).multiplyScalar(v.x).addScaledVector(d,-m.x).multiplyScalar(i),u[e].add(g),u[t].add(g),u[n].add(g),l[e].add(y),l[t].add(y),l[n].add(y))}function z(e){T.fromArray(i,3*e),P.copy(T);var t=u[e];C.copy(t),C.sub(T.multiplyScalar(T.dot(t))).normalize(),M.crossVectors(P,t);var n=M.dot(l[e])<0?-1:1;s[4*e]=C.x,s[4*e+1]=C.y,s[4*e+2]=C.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new ha(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new Fr,o=new Fr,s=new Fr,u=new Fr,l=new Fr,c=new Fr,f=new Fr,d=new Fr;if(e)for(var p=0,h=e.count;p<h;p+=3){var v=e.getX(p+0),m=e.getX(p+1),g=e.getX(p+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),f.subVectors(s,o),d.subVectors(a,o),f.cross(d),u.fromBufferAttribute(n,v),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),u.add(f),l.add(f),c.add(f),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),f.subVectors(s,o),d.subVectors(a,o),f.cross(d),n.setXYZ(y+0,f.x,f.y,f.z),n.setXYZ(y+1,f.x,f.y,f.z),n.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Da.fromBufferAttribute(e,t),Da.normalize(),e.setXYZ(t,Da.x,Da.y,Da.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new ha(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],f=0,d=c.length;f<d;f++){var p=e(c[f],r);l.push(p)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,v=0,m=h.length;v<m;v++){var g=h[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],f=[],d=0,p=c.length;d<p;d++){var h=c[d];f.push(h.toJSON(e.data))}f.length>0&&(s[l]=f,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,f=l.length;c<f;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,p=0,h=d.length;p<h;p++){var v=d[p];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Wn),Ra=new hi,Oa=new pi,La=new ai,Na=new Fr,za=new Fr,Fa=new Fr,ja=new Fr,Ba=new Fr,Ua=new Fr,Za=new or,Va=new or,Ha=new or,Wa=new Fr,Ga=new Fr,qa=new Fr,Xa=new Fr,Ka=new Fr,Ya=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ia,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oa;return(0,g.Z)(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,y.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){Ua.set(0,0,0);for(var s=0,u=i.length;s<u;s++){var l=o[s],c=i[s];0!==l&&(Ba.fromBufferAttribute(c,e),a?Ua.addScaledVector(Ba,l):Ua.addScaledVector(Ba.sub(t),l))}t.add(Ua)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),La.copy(n.boundingSphere),La.applyMatrix4(i),Oa.copy(e.ray).recast(e.near),!1===La.containsPoint(Oa.origin)){if(null===Oa.intersectSphere(La,Na))return;if(Oa.origin.distanceToSquared(Na)>Math.pow(e.far-e.near,2))return}Ra.copy(i).invert(),Oa.copy(e.ray).applyMatrix4(Ra),null!==n.boundingBox&&!1===Oa.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Oa)}}},{key:"_computeIntersections",value:function(e,t,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,u=i.attributes.uv,l=i.attributes.uv1,c=i.attributes.normal,f=i.groups,d=i.drawRange;if(null!==o)if(Array.isArray(a))for(var p=0,h=f.length;p<h;p++)for(var v=f[p],m=a[v.materialIndex],g=Math.max(v.start,d.start),y=Math.min(o.count,Math.min(v.start+v.count,d.start+d.count));g<y;g+=3){(r=Qa(this,m,e,n,u,l,c,o.getX(g),o.getX(g+1),o.getX(g+2)))&&(r.faceIndex=Math.floor(g/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(var b=Math.max(0,d.start),w=Math.min(o.count,d.start+d.count);b<w;b+=3){(r=Qa(this,a,e,n,u,l,c,o.getX(b),o.getX(b+1),o.getX(b+2)))&&(r.faceIndex=Math.floor(b/3),t.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var x=0,_=f.length;x<_;x++)for(var S=f[x],k=a[S.materialIndex],E=Math.max(S.start,d.start),C=Math.min(s.count,Math.min(S.start+S.count,d.start+d.count));E<C;E+=3){(r=Qa(this,k,e,n,u,l,c,E,E+1,E+2))&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=S.materialIndex,t.push(r))}else for(var M=Math.max(0,d.start),T=Math.min(s.count,d.start+d.count);M<T;M+=3){(r=Qa(this,a,e,n,u,l,c,M,M+1,M+2))&&(r.faceIndex=Math.floor(M/3),t.push(r))}}}]),n}(ji);function Qa(e,t,n,r,i,a,o,s,u,l){e.getVertexPosition(s,za),e.getVertexPosition(u,Fa),e.getVertexPosition(l,ja);var c=function(e,t,n,r,i,a,o,s){if(null===(t.side===D?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===A,s)))return null;Ka.copy(s),Ka.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(Ka);return u<n.near||u>n.far?null:{distance:u,point:Ka.clone(),object:e}}(e,t,n,r,za,Fa,ja,Xa);if(c){i&&(Za.fromBufferAttribute(i,s),Va.fromBufferAttribute(i,u),Ha.fromBufferAttribute(i,l),c.uv=Qi.getInterpolation(Xa,za,Fa,ja,Za,Va,Ha,new or)),a&&(Za.fromBufferAttribute(a,s),Va.fromBufferAttribute(a,u),Ha.fromBufferAttribute(a,l),c.uv1=Qi.getInterpolation(Xa,za,Fa,ja,Za,Va,Ha,new or),c.uv2=c.uv1),o&&(Wa.fromBufferAttribute(o,s),Ga.fromBufferAttribute(o,u),qa.fromBufferAttribute(o,l),c.normal=Qi.getInterpolation(Xa,za,Fa,ja,Wa,Ga,qa,new Fr),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var f={a:s,b:u,c:l,normal:new Fr,materialIndex:0};Qi.getNormal(za,Fa,ja,f.normal),c.face=f}return c}var $a=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,g.Z)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var l=(0,d.Z)(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var c=[],f=[],p=[],h=[],v=0,m=0;function y(e,t,n,r,i,a,o,s,u,d,g){for(var y=a/u,b=o/d,w=a/2,x=o/2,_=s/2,S=u+1,k=d+1,E=0,C=0,M=new Fr,T=0;T<k;T++)for(var P=T*b-x,A=0;A<S;A++){var D=A*y-w;M[e]=D*r,M[t]=P*i,M[n]=_,f.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=s>0?1:-1,p.push(M.x,M.y,M.z),h.push(A/u),h.push(1-T/d),E+=1}for(var I=0;I<d;I++)for(var R=0;R<u;R++){var O=v+R+S*I,L=v+R+S*(I+1),N=v+(R+1)+S*(I+1),z=v+(R+1)+S*I;c.push(O,L,z),c.push(L,N,z),C+=6}l.addGroup(m,C,g),m+=C,v+=E}return y("z","y","x",-1,-1,a,i,r,u,s,0),y("z","y","x",1,-1,a,i,-r,u,s,1),y("x","z","y",1,1,r,a,i,o,u,2),y("x","z","y",1,-1,r,a,-i,o,u,3),y("x","y","z",1,-1,r,i,a,o,s,4),y("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new Sa(f,3)),e.setAttribute("normal",new Sa(p,3)),e.setAttribute("uv",new Sa(h,2)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(Ia);function Ja(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function eo(e){for(var t={},n=0;n<e.length;n++){var r=Ja(e[n]);for(var i in r)t[i]=r[i]}return t}function to(e){return null===e.getRenderTarget()?e.outputColorSpace:an}var no={clone:Ja,merge:eo},ro=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ja(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(Ji),io=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new hi,e.projectionMatrix=new hi,e.projectionMatrixInverse=new hi,e.coordinateSystem=Vn,e}return(0,y.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){(0,c.Z)((0,f.Z)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(ji),ao=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,g.Z)(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,y.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Kn*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Xn*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Kn*Math.atan(Math.tan(.5*Xn*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Xn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(io),oo=-90,so=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var a;(0,g.Z)(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i,a.coordinateSystem=null;var o=new ao(oo,1,e,r);o.layers=a.layers,a.add(o);var s=new ao(oo,1,e,r);s.layers=a.layers,a.add(s);var u=new ao(oo,1,e,r);u.layers=a.layers,a.add(u);var l=new ao(oo,1,e,r);l.layers=a.layers,a.add(l);var c=new ao(oo,1,e,r);c.layers=a.layers,a.add(c);var f=new ao(oo,1,e,r);return f.layers=a.layers,a.add(f),a}return(0,y.Z)(n,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,n=this.children.concat(),r=(0,l.Z)(n,6),i=r[0],a=r[1],o=r[2],s=r[3],c=r[4],f=r[5],d=(0,u.Z)(n);try{for(d.s();!(e=d.n()).done;){var p=e.value;this.remove(p)}}catch(g){d.e(g)}finally{d.f()}if(t===Vn)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else{if(t!==Hn)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1)}var h,v=(0,u.Z)(n);try{for(v.s();!(h=v.n()).done;){var m=h.value;this.add(m),m.updateMatrixWorld()}}catch(g){v.e(g)}finally{v.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var r=(0,l.Z)(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],c=r[5],f=e.getRenderTarget(),d=e.xr.enabled;e.xr.enabled=!1;var p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(f),e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}]),n}(ji),uo=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a,o,s,u,l,c,f){var d;return(0,g.Z)(this,n),e=void 0!==e?e:[],r=void 0!==r?r:we,(d=t.call(this,e,r,i,a,o,s,u,l,c,f)).isCubeTexture=!0,d.flipY=!1,d}return(0,y.Z)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Tr),lo=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,g.Z)(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return void 0!==i.encoding&&(hr("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Qt?rn:nn),e.texture=new uo(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:Re,e}return(0,y.Z)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new $a(5,5,5),o=new ro({name:"CubemapFromEquirect",uniforms:Ja(n),vertexShader:r,fragmentShader:i,side:D,blending:O});o.uniforms.tEquirect.value=t;var s=new Ya(a,o),u=t.minFilter;return t.minFilter===Ne&&(t.minFilter=Re),new so(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Dr),co=new Fr,fo=new Fr,po=new sr,ho=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.Z)(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return(0,y.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=co.subVectors(n,t).cross(fo.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(co),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||po.getNormalMatrix(e),r=this.coplanarPoint(co).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),vo=new ai,mo=new Fr,go=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ho,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ho,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ho,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ho,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ho,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new ho;(0,g.Z)(this,e),this.planes=[t,n,r,i,a,o]}return(0,y.Z)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vn,n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=r[6],f=r[7],d=r[8],p=r[9],h=r[10],v=r[11],m=r[12],g=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,f-u,v-d,b-m).normalize(),n[1].setComponents(s+i,f+u,v+d,b+m).normalize(),n[2].setComponents(s+a,f+l,v+p,b+g).normalize(),n[3].setComponents(s-a,f-l,v-p,b-g).normalize(),n[4].setComponents(s-o,f-c,v-h,b-y).normalize(),t===Vn)n[5].setComponents(s+o,f+c,v+h,b+y).normalize();else{if(t!==Hn)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,h,y).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),vo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),vo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(vo)}},{key:"intersectsSprite",value:function(e){return vo.center.set(0,0,0),vo.radius=.7071067811865476,vo.applyMatrix4(e.matrixWorld),this.intersectsSphere(vo)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(mo.x=r.normal.x>0?e.max.x:e.min.x,mo.y=r.normal.y>0?e.max.y:e.min.y,mo.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(mo)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function yo(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function bo(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=e.FLOAT;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=e.HALF_FLOAT}else i=e.UNSIGNED_SHORT;else if(a instanceof Int16Array)i=e.SHORT;else if(a instanceof Uint32Array)i=e.UNSIGNED_INT;else if(a instanceof Int32Array)i=e.INT;else if(a instanceof Int8Array)i=e.BYTE;else if(a instanceof Uint8Array)i=e.UNSIGNED_BYTE;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=e.UNSIGNED_BYTE}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var wo=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,g.Z)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,u=i/2,l=Math.floor(a),c=Math.floor(o),f=l+1,d=c+1,p=r/l,h=i/c,v=[],m=[],y=[],b=[],w=0;w<d;w++)for(var x=w*h-u,_=0;_<f;_++){var S=_*p-s;m.push(S,-x,0),y.push(0,0,1),b.push(_/l),b.push(1-w/c)}for(var k=0;k<c;k++)for(var E=0;E<l;E++){var C=E+f*k,M=E+f*(k+1),T=E+1+f*(k+1),P=E+1+f*k;v.push(C,M,P),v.push(M,T,P)}return e.setIndex(v),e.setAttribute("position",new Sa(m,3)),e.setAttribute("normal",new Sa(y,3)),e.setAttribute("uv",new Sa(b,2)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(Ia),xo={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},_o={common:{diffuse:{value:new ia(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new sr},alphaMap:{value:null},alphaMapTransform:{value:new sr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new sr}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new sr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new sr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new sr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new sr},normalScale:{value:new or(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new sr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new sr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new sr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new sr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ia(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ia(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new sr},alphaTest:{value:0},uvTransform:{value:new sr}},sprite:{diffuse:{value:new ia(16777215)},opacity:{value:1},center:{value:new or(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new sr},alphaMap:{value:null},alphaMapTransform:{value:new sr},alphaTest:{value:0}}},So={basic:{uniforms:eo([_o.common,_o.specularmap,_o.envmap,_o.aomap,_o.lightmap,_o.fog]),vertexShader:xo.meshbasic_vert,fragmentShader:xo.meshbasic_frag},lambert:{uniforms:eo([_o.common,_o.specularmap,_o.envmap,_o.aomap,_o.lightmap,_o.emissivemap,_o.bumpmap,_o.normalmap,_o.displacementmap,_o.fog,_o.lights,{emissive:{value:new ia(0)}}]),vertexShader:xo.meshlambert_vert,fragmentShader:xo.meshlambert_frag},phong:{uniforms:eo([_o.common,_o.specularmap,_o.envmap,_o.aomap,_o.lightmap,_o.emissivemap,_o.bumpmap,_o.normalmap,_o.displacementmap,_o.fog,_o.lights,{emissive:{value:new ia(0)},specular:{value:new ia(1118481)},shininess:{value:30}}]),vertexShader:xo.meshphong_vert,fragmentShader:xo.meshphong_frag},standard:{uniforms:eo([_o.common,_o.envmap,_o.aomap,_o.lightmap,_o.emissivemap,_o.bumpmap,_o.normalmap,_o.displacementmap,_o.roughnessmap,_o.metalnessmap,_o.fog,_o.lights,{emissive:{value:new ia(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xo.meshphysical_vert,fragmentShader:xo.meshphysical_frag},toon:{uniforms:eo([_o.common,_o.aomap,_o.lightmap,_o.emissivemap,_o.bumpmap,_o.normalmap,_o.displacementmap,_o.gradientmap,_o.fog,_o.lights,{emissive:{value:new ia(0)}}]),vertexShader:xo.meshtoon_vert,fragmentShader:xo.meshtoon_frag},matcap:{uniforms:eo([_o.common,_o.bumpmap,_o.normalmap,_o.displacementmap,_o.fog,{matcap:{value:null}}]),vertexShader:xo.meshmatcap_vert,fragmentShader:xo.meshmatcap_frag},points:{uniforms:eo([_o.points,_o.fog]),vertexShader:xo.points_vert,fragmentShader:xo.points_frag},dashed:{uniforms:eo([_o.common,_o.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xo.linedashed_vert,fragmentShader:xo.linedashed_frag},depth:{uniforms:eo([_o.common,_o.displacementmap]),vertexShader:xo.depth_vert,fragmentShader:xo.depth_frag},normal:{uniforms:eo([_o.common,_o.bumpmap,_o.normalmap,_o.displacementmap,{opacity:{value:1}}]),vertexShader:xo.meshnormal_vert,fragmentShader:xo.meshnormal_frag},sprite:{uniforms:eo([_o.sprite,_o.fog]),vertexShader:xo.sprite_vert,fragmentShader:xo.sprite_frag},background:{uniforms:{uvTransform:{value:new sr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xo.background_vert,fragmentShader:xo.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:xo.backgroundCube_vert,fragmentShader:xo.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xo.cube_vert,fragmentShader:xo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xo.equirect_vert,fragmentShader:xo.equirect_frag},distanceRGBA:{uniforms:eo([_o.common,_o.displacementmap,{referencePosition:{value:new Fr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xo.distanceRGBA_vert,fragmentShader:xo.distanceRGBA_frag},shadow:{uniforms:eo([_o.lights,_o.fog,{color:{value:new ia(0)},opacity:{value:1}}]),vertexShader:xo.shadow_vert,fragmentShader:xo.shadow_frag}};So.physical={uniforms:eo([So.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new sr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new sr},clearcoatNormalScale:{value:new or(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new sr},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new sr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new sr},sheen:{value:0},sheenColor:{value:new ia(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new sr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new sr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new sr},transmissionSamplerSize:{value:new or},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new sr},attenuationDistance:{value:0},attenuationColor:{value:new ia(0)},specularColor:{value:new ia(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new sr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new sr},anisotropyVector:{value:new or},anisotropyMap:{value:null},anisotropyMapTransform:{value:new sr}}]),vertexShader:xo.meshphysical_vert,fragmentShader:xo.meshphysical_frag};var ko={r:0,b:0,g:0};function Eo(e,t,n,r,i,a,o){var s,u,l=new ia(0),c=!0===a?0:1,f=null,d=0,p=null;function h(t,n){t.getRGB(ko,to(e)),r.buffers.color.setClear(ko.r,ko.g,ko.b,n,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),h(l,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){h(l,c=e)},render:function(a,v){var m=!1,g=!0===v.isScene?v.background:null;switch(g&&g.isTexture&&(g=(v.backgroundBlurriness>0?n:t).get(g)),null===g?h(l,c):g&&g.isColor&&(h(g,1),m=!0),e.xr.getEnvironmentBlendMode()){case"opaque":m=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),m=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),m=!0}(e.autoClear||m)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===ke)?(void 0===u&&((u=new Ya(new $a(1,1,1),new ro({name:"BackgroundCubeMaterial",uniforms:Ja(So.backgroundCube.uniforms),vertexShader:So.backgroundCube.vertexShader,fragmentShader:So.backgroundCube.fragmentShader,side:D,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=g,u.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=g.colorSpace!==rn,f===g&&d===g.version&&p===e.toneMapping||(u.material.needsUpdate=!0,f=g,d=g.version,p=e.toneMapping),u.layers.enableAll(),a.unshift(u,u.geometry,u.material,0,0,null)):g&&g.isTexture&&(void 0===s&&((s=new Ya(new wo(2,2),new ro({name:"BackgroundMaterial",uniforms:Ja(So.background.uniforms),vertexShader:So.background.vertexShader,fragmentShader:So.background.fragmentShader,side:A,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=g,s.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,s.material.toneMapped=g.colorSpace!==rn,!0===g.matrixAutoUpdate&&g.updateMatrix(),s.material.uniforms.uvTransform.value.copy(g.matrix),f===g&&d===g.version&&p===e.toneMapping||(s.material.needsUpdate=!0,f=g,d=g.version,p=e.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null))}}}function Co(e,t,n,r){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},u=p(null),l=u,c=!1;function f(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function p(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){m(e,0)}function m(n,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function g(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function b(){w(),c=!0,l!==u&&f((l=u).object)}function w(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,d,b,w){var x=!1;if(o){var _=function(t,n,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[n.id];void 0===l&&(l={},u[n.id]=l);var c=l[o];void 0===c&&(c=p(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(b,d,u);l!==_&&f((l=_).object),x=function(e,t,n,r){var i=l.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=i[u],f=a[u];if(void 0===f&&("instanceMatrix"===u&&e.instanceMatrix&&(f=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(f=e.instanceColor)),void 0===c)return!0;if(c.attribute!==f)return!0;if(f&&c.data!==f.data)return!0;o++}}return l.attributesNum!==o||l.index!==r}(i,b,d,w),x&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=a[u];void 0===c&&("instanceMatrix"===u&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(c=e.instanceColor));var f={};f.attribute=c,c&&c.data&&(f.data=c.data),i[u]=f,o++}}l.attributes=i,l.attributesNum=o,l.index=r}(i,b,d,w)}else{var S=!0===u.wireframe;l.geometry===b.id&&l.program===d.id&&l.wireframe===S||(l.geometry=b.id,l.program=d.id,l.wireframe=S,x=!0)}null!==w&&n.update(w,e.ELEMENT_ARRAY_BUFFER),(x||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;h();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var f in l){var d=l[f];if(d.location>=0){var p=u[f];if(void 0===p&&("instanceMatrix"===f&&i.instanceMatrix&&(p=i.instanceMatrix),"instanceColor"===f&&i.instanceColor&&(p=i.instanceColor)),void 0!==p){var b=p.normalized,w=p.itemSize,x=n.get(p);if(void 0===x)continue;var _=x.buffer,S=x.type,k=x.bytesPerElement,E=!0===r.isWebGL2&&(S===e.INT||S===e.UNSIGNED_INT||p.gpuType===Ze);if(p.isInterleavedBufferAttribute){var C=p.data,M=C.stride,T=p.offset;if(C.isInstancedInterleavedBuffer){for(var P=0;P<d.locationSize;P++)m(d.location+P,C.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=C.meshPerAttribute*C.count)}else for(var A=0;A<d.locationSize;A++)v(d.location+A);e.bindBuffer(e.ARRAY_BUFFER,_);for(var D=0;D<d.locationSize;D++)y(d.location+D,w/d.locationSize,S,b,M*k,(T+w/d.locationSize*D)*k,E)}else{if(p.isInstancedBufferAttribute){for(var I=0;I<d.locationSize;I++)m(d.location+I,p.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=p.meshPerAttribute*p.count)}else for(var R=0;R<d.locationSize;R++)v(d.location+R);e.bindBuffer(e.ARRAY_BUFFER,_);for(var O=0;O<d.locationSize;O++)y(d.location+O,w/d.locationSize,S,b,w*k,w/d.locationSize*O*k,E)}}else if(void 0!==c){var L=c[f];if(void 0!==L)switch(L.length){case 2:e.vertexAttrib2fv(d.location,L);break;case 3:e.vertexAttrib3fv(d.location,L);break;case 4:e.vertexAttrib4fv(d.location,L);break;default:e.vertexAttrib1fv(d.location,L)}}}}g()}(i,u,d,b),null!==w&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(w).buffer))},reset:b,resetDefaultState:w,dispose:function(){for(var e in b(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:h,enableAttribute:v,disableUnusedAttributes:g}}function Mo(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,o,s),n.update(o,i,s)}}}function To(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_TEXTURE_SIZE),p=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),h=e.getParameter(e.MAX_VERTEX_ATTRIBS),v=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),y=f>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:p,maxAttributes:h,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function Po(e){var t=this,n=null,r=0,i=!1,a=!1,o=new ho,s=new sr,u={value:null,needsUpdate:!1};function l(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,f=n.matrixWorldInverse;s.getNormalMatrix(f),(null===l||l.length<c)&&(l=new Float32Array(c));for(var d=0,p=r;d!==a;++d,p+=4)o.copy(e[d]).applyMatrix4(f,s),o.normal.toArray(l,p),l[p+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=l(e,t,0)},this.setState=function(o,s,c){var f=o.clippingPlanes,d=o.clipIntersection,p=o.clipShadows,h=e.get(o);if(!i||null===f||0===f.length||a&&!p)a?l(null):function(){u.value!==n&&(u.value=n,u.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var v=a?0:r,m=4*v,g=h.clippingState||null;u.value=g,g=l(f,s,m,c);for(var y=0;y!==m;++y)g[y]=n[y];h.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=v}}}function Ao(e){var t=new WeakMap;function n(e,t){return t===_e?e.mapping=we:t===Se&&(e.mapping=xe),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===_e||a===Se){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new lo(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var Do=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,g.Z)(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return(0,y.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(io),Io=[.125,.215,.35,.446,.526,.582],Ro=20,Oo=new Do,Lo=new ia,No=null,zo=(1+Math.sqrt(5))/2,Fo=1/zo,jo=[new Fr(1,1,1),new Fr(-1,1,1),new Fr(1,1,-1),new Fr(-1,1,-1),new Fr(0,zo,Fo),new Fr(0,zo,-Fo),new Fr(Fo,0,zo),new Fr(-Fo,0,zo),new Fr(zo,Fo,0),new Fr(-zo,Fo,0)],Bo=function(){function e(t){(0,g.Z)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,y.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;No=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ho(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Vo(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(No),e.scissorTest=!1,Zo(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===we||e.mapping===xe?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),No=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Re,minFilter:Re,generateMipmaps:!1,type:We,format:Ye,colorSpace:an,depthBuffer:!1},r=Uo(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Uo(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+Io.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var u=1/s;o>e-4?u=Io[o-e+4-1]:0===o&&(u=0),r.push(u);for(var l=1/(s-2),c=-l,f=1+l,d=[c,c,f,c,f,f,c,c,f,f,c,f],p=6,h=6,v=3,m=2,g=1,y=new Float32Array(v*h*p),b=new Float32Array(m*h*p),w=new Float32Array(g*h*p),x=0;x<p;x++){var _=x%3*2/3-1,S=x>2?0:-1,k=[_,S,0,_+2/3,S,0,_+2/3,S+1,0,_,S,0,_+2/3,S+1,0,_,S+1,0];y.set(k,v*h*x),b.set(d,m*h*x);var E=[x,x,x,x,x,x];w.set(E,g*h*x)}var C=new Ia;C.setAttribute("position",new ha(y,v)),C.setAttribute("uv",new ha(b,m)),C.setAttribute("faceIndex",new ha(w,g)),t.push(C),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(Ro),i=new Fr(0,1,0);return new ro({name:"SphericalGaussianBlur",defines:{n:Ro,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:O,depthTest:!1,depthWrite:!1})}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new Ya(this._lodPlanes[0],e);this._renderer.compile(t,Oo)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new ao(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor(Lo),s.toneMapping=pe,s.autoClear=!1;var c=new oa({name:"PMREM.Background",side:D,depthWrite:!1,depthTest:!1}),f=new Ya(new $a,c),d=!1,p=e.background;p?p.isColor&&(c.color.copy(p),e.background=null,d=!0):(c.color.copy(Lo),d=!0);for(var h=0;h<6;h++){var v=h%3;0===v?(i.up.set(0,a[h],0),i.lookAt(o[h],0,0)):1===v?(i.up.set(0,0,a[h]),i.lookAt(0,o[h],0)):(i.up.set(0,a[h],0),i.lookAt(0,0,o[h]));var m=this._cubeSize;Zo(r,v*m,h>2?m:0,m,m),s.setRenderTarget(r),d&&s.render(f,i),s.render(e,i)}f.geometry.dispose(),f.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=p}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===we||e.mapping===xe;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ho()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Vo());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new Ya(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;Zo(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Oo)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=jo[(r-1)%jo.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new Ya(this._lodPlanes[r],u),c=u.uniforms,f=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*f):2*Math.PI/39,p=i/d,h=isFinite(i)?1+Math.floor(3*p):Ro;h>Ro&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(h," samples when the maximum is set to ").concat(Ro));for(var v=[],m=0,g=0;g<Ro;++g){var y=g/p,b=Math.exp(-y*y/2);v.push(b),0===g?m+=b:g<h&&(m+=2*b)}for(var w=0;w<v.length;w++)v[w]=v[w]/m;c.envMap.value=e.texture,c.samples.value=h,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var x=this._lodMax;c.dTheta.value=d,c.mipInt.value=x-n;var _=this._sizeLods[r];Zo(t,3*_*(r>x-4?r-x+4:0),4*(this._cubeSize-_),3*_,2*_),s.setRenderTarget(t),s.render(l,Oo)}}]),e}();function Uo(e,t,n){var r=new Dr(e,t,n);return r.texture.mapping=ke,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Zo(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Vo(){return new ro({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:O,depthTest:!1,depthWrite:!1})}function Ho(){return new ro({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:O,depthTest:!1,depthWrite:!1})}function Wo(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===_e||a===Se,s=a===we||a===xe;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var u=t.get(i);return null===n&&(n=new Bo(e)),u=o?n.fromEquirectangular(i,u):n.fromCubemap(i,u),t.set(i,u),u.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||s&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new Bo(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Go(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function qo(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);for(var l in s.morphAttributes)for(var c=s.morphAttributes[l],f=0,d=c.length;f<d;f++)t.remove(c[f]);s.removeEventListener("dispose",o),delete i[s.id];var p=a.get(s);p&&(t.remove(p),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],f=s[u+1],d=s[u+2];n.push(c,f,f,d,d,c)}}else{if(void 0===i)return;var p=i.array;o=i.version;for(var h=0,v=p.length/3-1;h<v;h+=3){var m=h+0,g=h+1,y=h+2;n.push(m,g,g,y,y,m)}}var b=new(lr(n)?xa:ba)(n,1);b.version=o;var w=a.get(e);w&&t.remove(w),a.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,l=s.length;u<l;u++)t.update(s[u],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Xo(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,f;if(s)c=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[f](i,u,a,r*o,l),n.update(u,i,l)}}}function Ko(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Yo(e,t){return e[0]-t[0]}function Qo(e,t){return Math.abs(t[1])-Math.abs(e[1])}function $o(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new Pr,s=[],u=0;u<8;u++)s[u]=[u,0];return{update:function(u,l,c){var f=u.morphTargetInfluences;if(!0===t.isWebGL2){var d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,p=void 0!==d?d.length:0,h=a.get(l);if(void 0===h||h.count!==p){void 0!==h&&h.texture.dispose();var v=void 0!==l.morphAttributes.position,m=void 0!==l.morphAttributes.normal,g=void 0!==l.morphAttributes.color,y=l.morphAttributes.position||[],b=l.morphAttributes.normal||[],w=l.morphAttributes.color||[],x=0;!0===v&&(x=1),!0===m&&(x=2),!0===g&&(x=3);var _=l.attributes.position.count*x,S=1;_>t.maxTextureSize&&(S=Math.ceil(_/t.maxTextureSize),_=t.maxTextureSize);var k=new Float32Array(_*S*4*p),E=new Ir(k,_,S,p);E.type=He,E.needsUpdate=!0;for(var C=4*x,M=0;M<p;M++)for(var T=y[M],P=b[M],A=w[M],D=_*S*4*M,I=0;I<T.count;I++){var R=I*C;!0===v&&(o.fromBufferAttribute(T,I),k[D+R+0]=o.x,k[D+R+1]=o.y,k[D+R+2]=o.z,k[D+R+3]=0),!0===m&&(o.fromBufferAttribute(P,I),k[D+R+4]=o.x,k[D+R+5]=o.y,k[D+R+6]=o.z,k[D+R+7]=0),!0===g&&(o.fromBufferAttribute(A,I),k[D+R+8]=o.x,k[D+R+9]=o.y,k[D+R+10]=o.z,k[D+R+11]=4===A.itemSize?o.w:1)}h={count:p,texture:E,size:new or(_,S)},a.set(l,h),l.addEventListener("dispose",(function e(){E.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var O=0,L=0;L<f.length;L++)O+=f[L];var N=l.morphTargetsRelative?1:1-O;c.getUniforms().setValue(e,"morphTargetBaseInfluence",N),c.getUniforms().setValue(e,"morphTargetInfluences",f),c.getUniforms().setValue(e,"morphTargetsTexture",h.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}else{var z=void 0===f?0:f.length,F=r[l.id];if(void 0===F||F.length!==z){F=[];for(var j=0;j<z;j++)F[j]=[j,0];r[l.id]=F}for(var B=0;B<z;B++){var U=F[B];U[0]=B,U[1]=f[B]}F.sort(Qo);for(var Z=0;Z<8;Z++)Z<z&&F[Z][1]?(s[Z][0]=F[Z][0],s[Z][1]=F[Z][1]):(s[Z][0]=Number.MAX_SAFE_INTEGER,s[Z][1]=0);s.sort(Yo);for(var V=l.morphAttributes.position,H=l.morphAttributes.normal,W=0,G=0;G<8;G++){var q=s[G],X=q[0],K=q[1];X!==Number.MAX_SAFE_INTEGER&&K?(V&&l.getAttribute("morphTarget"+G)!==V[X]&&l.setAttribute("morphTarget"+G,V[X]),H&&l.getAttribute("morphNormal"+G)!==H[X]&&l.setAttribute("morphNormal"+G,H[X]),i[G]=K,W+=K):(V&&!0===l.hasAttribute("morphTarget"+G)&&l.deleteAttribute("morphTarget"+G),H&&!0===l.hasAttribute("morphNormal"+G)&&l.deleteAttribute("morphNormal"+G),i[G]=0)}var Y=l.morphTargetsRelative?1:1-W;c.getUniforms().setValue(e,"morphTargetBaseInfluence",Y),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Jo(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,u=o.geometry,l=t.get(o,u);if(i.get(l)!==s&&(t.update(l),i.set(l,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){var c=o.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return l},dispose:function(){i=new WeakMap}}}var es=new Tr,ts=new Ir,ns=new Or,rs=new uo,is=[],as=[],os=new Float32Array(16),ss=new Float32Array(9),us=new Float32Array(4);function ls(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=is[i];if(void 0===a&&(a=new Float32Array(i),is[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function cs(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function fs(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function ds(e,t){var n=as[t];void 0===n&&(n=new Int32Array(t),as[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function ps(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function hs(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(cs(n,t))return;e.uniform2fv(this.addr,t),fs(n,t)}}function vs(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(cs(n,t))return;e.uniform3fv(this.addr,t),fs(n,t)}}function ms(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(cs(n,t))return;e.uniform4fv(this.addr,t),fs(n,t)}}function gs(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(cs(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),fs(n,t)}else{if(cs(n,r))return;us.set(r),e.uniformMatrix2fv(this.addr,!1,us),fs(n,r)}}function ys(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(cs(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),fs(n,t)}else{if(cs(n,r))return;ss.set(r),e.uniformMatrix3fv(this.addr,!1,ss),fs(n,r)}}function bs(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(cs(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),fs(n,t)}else{if(cs(n,r))return;os.set(r),e.uniformMatrix4fv(this.addr,!1,os),fs(n,r)}}function ws(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function xs(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(cs(n,t))return;e.uniform2iv(this.addr,t),fs(n,t)}}function _s(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(cs(n,t))return;e.uniform3iv(this.addr,t),fs(n,t)}}function Ss(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(cs(n,t))return;e.uniform4iv(this.addr,t),fs(n,t)}}function ks(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Es(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(cs(n,t))return;e.uniform2uiv(this.addr,t),fs(n,t)}}function Cs(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(cs(n,t))return;e.uniform3uiv(this.addr,t),fs(n,t)}}function Ms(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(cs(n,t))return;e.uniform4uiv(this.addr,t),fs(n,t)}}function Ts(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||es,i)}function Ps(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||ns,i)}function As(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||rs,i)}function Ds(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||ts,i)}function Is(e,t){e.uniform1fv(this.addr,t)}function Rs(e,t){var n=ls(t,this.size,2);e.uniform2fv(this.addr,n)}function Os(e,t){var n=ls(t,this.size,3);e.uniform3fv(this.addr,n)}function Ls(e,t){var n=ls(t,this.size,4);e.uniform4fv(this.addr,n)}function Ns(e,t){var n=ls(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function zs(e,t){var n=ls(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Fs(e,t){var n=ls(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function js(e,t){e.uniform1iv(this.addr,t)}function Bs(e,t){e.uniform2iv(this.addr,t)}function Us(e,t){e.uniform3iv(this.addr,t)}function Zs(e,t){e.uniform4iv(this.addr,t)}function Vs(e,t){e.uniform1uiv(this.addr,t)}function Hs(e,t){e.uniform2uiv(this.addr,t)}function Ws(e,t){e.uniform3uiv(this.addr,t)}function Gs(e,t){e.uniform4uiv(this.addr,t)}function qs(e,t,n){var r=this.cache,i=t.length,a=ds(n,i);cs(r,a)||(e.uniform1iv(this.addr,a),fs(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||es,a[o])}function Xs(e,t,n){var r=this.cache,i=t.length,a=ds(n,i);cs(r,a)||(e.uniform1iv(this.addr,a),fs(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||ns,a[o])}function Ks(e,t,n){var r=this.cache,i=t.length,a=ds(n,i);cs(r,a)||(e.uniform1iv(this.addr,a),fs(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||rs,a[o])}function Ys(e,t,n){var r=this.cache,i=t.length,a=ds(n,i);cs(r,a)||(e.uniform1iv(this.addr,a),fs(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||ts,a[o])}var Qs=(0,y.Z)((function e(t,n,r){(0,g.Z)(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ps;case 35664:return hs;case 35665:return vs;case 35666:return ms;case 35674:return gs;case 35675:return ys;case 35676:return bs;case 5124:case 35670:return ws;case 35667:case 35671:return xs;case 35668:case 35672:return _s;case 35669:case 35673:return Ss;case 5125:return ks;case 36294:return Es;case 36295:return Cs;case 36296:return Ms;case 35678:case 36198:case 36298:case 36306:case 35682:return Ts;case 35679:case 36299:case 36307:return Ps;case 35680:case 36300:case 36308:case 36293:return As;case 36289:case 36303:case 36311:case 36292:return Ds}}(n.type)})),$s=(0,y.Z)((function e(t,n,r){(0,g.Z)(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return Is;case 35664:return Rs;case 35665:return Os;case 35666:return Ls;case 35674:return Ns;case 35675:return zs;case 35676:return Fs;case 5124:case 35670:return js;case 35667:case 35671:return Bs;case 35668:case 35672:return Us;case 35669:case 35673:return Zs;case 5125:return Vs;case 36294:return Hs;case 36295:return Ws;case 36296:return Gs;case 35678:case 36198:case 36298:case 36306:case 35682:return qs;case 35679:case 36299:case 36307:return Xs;case 35680:case 36300:case 36308:case 36293:return Ks;case 36289:case 36303:case 36311:case 36292:return Ys}}(n.type)})),Js=function(){function e(t){(0,g.Z)(this,e),this.id=t,this.seq=[],this.map={}}return(0,y.Z)(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),eu=/(\w+)(\])?(\[|\.)?/g;function tu(e,t){e.seq.push(t),e.map[t.id]=t}function nu(e,t,n){var r=e.name,i=r.length;for(eu.lastIndex=0;;){var a=eu.exec(r),o=eu.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){tu(n,void 0===l?new Qs(s,e,t):new $s(s,e,t));break}var c=n.map[s];void 0===c&&tu(n,c=new Js(s)),n=c}}var ru=function(){function e(t,n){(0,g.Z)(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i);nu(a,t.getUniformLocation(n,a.name),this)}}return(0,y.Z)(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function iu(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var au=0;function ou(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function su(e,t){var n=function(e){switch(e){case an:return["Linear","( value )"];case rn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function uu(e,t){var n;switch(t){case he:n="Linear";break;case ve:n="Reinhard";break;case me:n="OptimizedCineon";break;case ge:n="ACESFilmic";break;case ye:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function lu(e){return""!==e}function cu(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function fu(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var du=/^[ \t]*#include +<([\w\d./]+)>/gm;function pu(e){return e.replace(du,vu)}var hu=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function vu(e,t){var n=xo[t];if(void 0===n){var r=hu.get(t);if(void 0===r)throw new Error("Can not resolve #include <"+t+">");n=xo[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r)}return pu(n)}var mu=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gu(e){return e.replace(mu,yu)}function yu(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function bu(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function wu(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,u=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===M?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===T?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===P&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case we:case xe:t="ENVMAP_TYPE_CUBE";break;case ke:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===xe&&(t="ENVMAP_MODE_REFRACTION");return t}(n),p=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case ce:t="ENVMAP_BLENDING_MULTIPLY";break;case fe:t="ENVMAP_BLENDING_MIX";break;case de:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(lu).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(lu).join("\n")).length>0&&(i+="\n"),(a=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(lu).join("\n")).length>0&&(a+="\n")):(i=[bu(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(lu).join("\n"),a=[v,bu(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",n.envMap?"#define "+p:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==pe?"#define TONE_MAPPING":"",n.toneMapping!==pe?xo.tonemapping_pars_fragment:"",n.toneMapping!==pe?uu("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",xo.colorspace_pars_fragment,su("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(lu).join("\n")),u=fu(u=cu(u=pu(u),n),n),l=fu(l=cu(l=pu(l),n),n),u=gu(u),l=gu(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Un?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Un?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,w,x=y+i+u,_=y+a+l,S=iu(o,o.VERTEX_SHADER,x),k=iu(o,o.FRAGMENT_SHADER,_);if(o.attachShader(g,S),o.attachShader(g,k),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var E=o.getProgramInfoLog(g).trim(),C=o.getShaderInfoLog(S).trim(),A=o.getShaderInfoLog(k).trim(),D=!0,I=!0;if(!1===o.getProgramParameter(g,o.LINK_STATUS))if(D=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,g,S,k);else{var R=ou(o,S,"vertex"),O=ou(o,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,o.VALIDATE_STATUS)+"\n\nProgram Info Log: "+E+"\n"+R+"\n"+O)}else""!==E?console.warn("THREE.WebGLProgram: Program Info Log:",E):""!==C&&""!==A||(I=!1);I&&(this.diagnostics={runnable:D,programLog:E,vertexShader:{log:C,prefix:i},fragmentShader:{log:A,prefix:a}})}return o.deleteShader(S),o.deleteShader(k),this.getUniforms=function(){return void 0===b&&(b=new ru(o,g)),b},this.getAttributes=function(){return void 0===w&&(w=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)),w},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=au++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=S,this.fragmentShader=k,this}var xu=0,_u=function(){function e(){(0,g.Z)(this,e),this.shaderCache=new Map,this.materialCache=new Map}return(0,y.Z)(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=this.materialCache.get(e),r=(0,u.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(a){r.e(a)}finally{r.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new Su(e),t.set(e,n)),n}}]),e}(),Su=(0,y.Z)((function e(t){(0,g.Z)(this,e),this.id=xu++,this.code=t,this.usedTimes=0}));function ku(e,t,n,r,i,a,o){var s=new Ei,u=new _u,l=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures,p=i.precision,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(e){return 0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,l,m,g){var y=m.fog,b=g.geometry,w=a.isMeshStandardMaterial?m.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||w),_=x&&x.mapping===ke?x.image.height:null,S=h[a.type];null!==a.precision&&(p=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",p,"instead.");var k,E,C,M,T=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,P=void 0!==T?T.length:0,A=0;if(void 0!==b.morphAttributes.position&&(A=1),void 0!==b.morphAttributes.normal&&(A=2),void 0!==b.morphAttributes.color&&(A=3),S){var R=So[S];k=R.vertexShader,E=R.fragmentShader}else k=a.vertexShader,E=a.fragmentShader,u.update(a),C=u.getVertexShaderID(a),M=u.getFragmentShaderID(a);var O=e.getRenderTarget(),N=!0===g.isInstancedMesh,z=!!a.map,F=!!a.matcap,j=!!x,B=!!a.aoMap,U=!!a.lightMap,Z=!!a.bumpMap,V=!!a.normalMap,H=!!a.displacementMap,W=!!a.emissiveMap,G=!!a.metalnessMap,q=!!a.roughnessMap,X=a.anisotropy>0,K=a.clearcoat>0,Y=a.iridescence>0,Q=a.sheen>0,$=a.transmission>0,J=X&&!!a.anisotropyMap,ee=K&&!!a.clearcoatMap,te=K&&!!a.clearcoatNormalMap,ne=K&&!!a.clearcoatRoughnessMap,re=Y&&!!a.iridescenceMap,ie=Y&&!!a.iridescenceThicknessMap,ae=Q&&!!a.sheenColorMap,oe=Q&&!!a.sheenRoughnessMap,se=!!a.specularMap,ue=!!a.specularColorMap,le=!!a.specularIntensityMap,ce=$&&!!a.transmissionMap,fe=$&&!!a.thicknessMap,de=!!a.gradientMap,he=!!a.alphaMap,ve=a.alphaTest>0,me=!!a.alphaHash,ge=!!a.extensions,ye=!!b.attributes.uv1,be=!!b.attributes.uv2,we=!!b.attributes.uv3,xe=pe;return a.toneMapped&&(null!==O&&!0!==O.isXRRenderTarget||(xe=e.toneMapping)),{isWebGL2:c,shaderID:S,shaderType:a.type,shaderName:a.name,vertexShader:k,fragmentShader:E,defines:a.defines,customVertexShaderID:C,customFragmentShaderID:M,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:p,instancing:N,instancingColor:N&&null!==g.instanceColor,supportsVertexTextures:d,outputColorSpace:null===O?e.outputColorSpace:!0===O.isXRRenderTarget?O.texture.colorSpace:an,map:z,matcap:F,envMap:j,envMapMode:j&&x.mapping,envMapCubeUVHeight:_,aoMap:B,lightMap:U,bumpMap:Z,normalMap:V,displacementMap:d&&H,emissiveMap:W,normalMapObjectSpace:V&&a.normalMapType===tn,normalMapTangentSpace:V&&a.normalMapType===en,metalnessMap:G,roughnessMap:q,anisotropy:X,anisotropyMap:J,clearcoat:K,clearcoatMap:ee,clearcoatNormalMap:te,clearcoatRoughnessMap:ne,iridescence:Y,iridescenceMap:re,iridescenceThicknessMap:ie,sheen:Q,sheenColorMap:ae,sheenRoughnessMap:oe,specularMap:se,specularColorMap:ue,specularIntensityMap:le,transmission:$,transmissionMap:ce,thicknessMap:fe,gradientMap:de,opaque:!1===a.transparent&&a.blending===L,alphaMap:he,alphaTest:ve,alphaHash:me,combine:a.combine,mapUv:z&&v(a.map.channel),aoMapUv:B&&v(a.aoMap.channel),lightMapUv:U&&v(a.lightMap.channel),bumpMapUv:Z&&v(a.bumpMap.channel),normalMapUv:V&&v(a.normalMap.channel),displacementMapUv:H&&v(a.displacementMap.channel),emissiveMapUv:W&&v(a.emissiveMap.channel),metalnessMapUv:G&&v(a.metalnessMap.channel),roughnessMapUv:q&&v(a.roughnessMap.channel),anisotropyMapUv:J&&v(a.anisotropyMap.channel),clearcoatMapUv:ee&&v(a.clearcoatMap.channel),clearcoatNormalMapUv:te&&v(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ne&&v(a.clearcoatRoughnessMap.channel),iridescenceMapUv:re&&v(a.iridescenceMap.channel),iridescenceThicknessMapUv:ie&&v(a.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&v(a.sheenColorMap.channel),sheenRoughnessMapUv:oe&&v(a.sheenRoughnessMap.channel),specularMapUv:se&&v(a.specularMap.channel),specularColorMapUv:ue&&v(a.specularColorMap.channel),specularIntensityMapUv:le&&v(a.specularIntensityMap.channel),transmissionMapUv:ce&&v(a.transmissionMap.channel),thicknessMapUv:fe&&v(a.thicknessMap.channel),alphaMapUv:he&&v(a.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(V||X),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUv1s:ye,vertexUv2s:be,vertexUv3s:we,pointsUvs:!0===g.isPoints&&!!b.attributes.uv&&(z||he),fog:!!y,useFog:!0===a.fog,fogExp2:y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:P,morphTextureStride:A,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:xe,useLegacyLights:e._useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===I,flipSided:a.side===D,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:ge&&!0===a.extensions.derivatives,extensionFragDepth:ge&&!0===a.extensions.fragDepth,extensionDrawBuffers:ge&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:ge&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=h[e.type];if(n){var r=So[n];t=no.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=l.length;i<o;i++){var s=l[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new wu(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:l,dispose:function(){u.dispose()}}}function Eu(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Cu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Mu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Tu(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Cu),r.length>1&&r.sort(t||Mu),i.length>1&&i.sort(t||Mu)}}}function Pu(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new Tu,e.set(t,[r])):n>=i.length?(r=new Tu,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function Au(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Fr,color:new ia};break;case"SpotLight":n={position:new Fr,direction:new Fr,color:new ia,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Fr,color:new ia,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Fr,skyColor:new ia,groundColor:new ia};break;case"RectAreaLight":n={color:new ia,position:new Fr,halfWidth:new Fr,halfHeight:new Fr}}return e[t.id]=n,n}}}var Du=0;function Iu(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Ru(e,t){for(var n=new Au,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new or};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new or,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new Fr);var o=new Fr,s=new hi,u=new hi;return{setup:function(a,o){for(var s=0,u=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var f=0,d=0,p=0,h=0,v=0,m=0,g=0,y=0,b=0,w=0;a.sort(Iu);for(var x=!0===o?Math.PI:1,_=0,S=a.length;_<S;_++){var k=a[_],E=k.color,C=k.intensity,M=k.distance,T=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)s+=E.r*C*x,u+=E.g*C*x,l+=E.b*C*x;else if(k.isLightProbe)for(var P=0;P<9;P++)i.probe[P].addScaledVector(k.sh.coefficients[P],C);else if(k.isDirectionalLight){var A=n.get(k);if(A.color.copy(k.color).multiplyScalar(k.intensity*x),k.castShadow){var D=k.shadow,I=r.get(k);I.shadowBias=D.bias,I.shadowNormalBias=D.normalBias,I.shadowRadius=D.radius,I.shadowMapSize=D.mapSize,i.directionalShadow[f]=I,i.directionalShadowMap[f]=T,i.directionalShadowMatrix[f]=k.shadow.matrix,m++}i.directional[f]=A,f++}else if(k.isSpotLight){var R=n.get(k);R.position.setFromMatrixPosition(k.matrixWorld),R.color.copy(E).multiplyScalar(C*x),R.distance=M,R.coneCos=Math.cos(k.angle),R.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),R.decay=k.decay,i.spot[p]=R;var O=k.shadow;if(k.map&&(i.spotLightMap[b]=k.map,b++,O.updateMatrices(k),k.castShadow&&w++),i.spotLightMatrix[p]=O.matrix,k.castShadow){var L=r.get(k);L.shadowBias=O.bias,L.shadowNormalBias=O.normalBias,L.shadowRadius=O.radius,L.shadowMapSize=O.mapSize,i.spotShadow[p]=L,i.spotShadowMap[p]=T,y++}p++}else if(k.isRectAreaLight){var N=n.get(k);N.color.copy(E).multiplyScalar(C),N.halfWidth.set(.5*k.width,0,0),N.halfHeight.set(0,.5*k.height,0),i.rectArea[h]=N,h++}else if(k.isPointLight){var z=n.get(k);if(z.color.copy(k.color).multiplyScalar(k.intensity*x),z.distance=k.distance,z.decay=k.decay,k.castShadow){var F=k.shadow,j=r.get(k);j.shadowBias=F.bias,j.shadowNormalBias=F.normalBias,j.shadowRadius=F.radius,j.shadowMapSize=F.mapSize,j.shadowCameraNear=F.camera.near,j.shadowCameraFar=F.camera.far,i.pointShadow[d]=j,i.pointShadowMap[d]=T,i.pointShadowMatrix[d]=k.shadow.matrix,g++}i.point[d]=z,d++}else if(k.isHemisphereLight){var B=n.get(k);B.skyColor.copy(k.color).multiplyScalar(C*x),B.groundColor.copy(k.groundColor).multiplyScalar(C*x),i.hemi[v]=B,v++}}h>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=_o.LTC_FLOAT_1,i.rectAreaLTC2=_o.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=_o.LTC_HALF_1,i.rectAreaLTC2=_o.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=u,i.ambient[2]=l;var U=i.hash;U.directionalLength===f&&U.pointLength===d&&U.spotLength===p&&U.rectAreaLength===h&&U.hemiLength===v&&U.numDirectionalShadows===m&&U.numPointShadows===g&&U.numSpotShadows===y&&U.numSpotMaps===b||(i.directional.length=f,i.spot.length=p,i.rectArea.length=h,i.point.length=d,i.hemi.length=v,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=y+b-w,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=w,U.directionalLength=f,U.pointLength=d,U.spotLength=p,U.rectAreaLength=h,U.hemiLength=v,U.numDirectionalShadows=m,U.numPointShadows=g,U.numSpotShadows=y,U.numSpotMaps=b,i.version=Du++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,c=0,f=t.matrixWorldInverse,d=0,p=e.length;d<p;d++){var h=e[d];if(h.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(f),n++}else if(h.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(h.matrixWorld),m.position.applyMatrix4(f),m.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(f),a++}else if(h.isRectAreaLight){var g=i.rectArea[l];g.position.setFromMatrixPosition(h.matrixWorld),g.position.applyMatrix4(f),u.identity(),s.copy(h.matrixWorld),s.premultiply(f),u.extractRotation(s),g.halfWidth.set(.5*h.width,0,0),g.halfHeight.set(0,.5*h.height,0),g.halfWidth.applyMatrix4(u),g.halfHeight.applyMatrix4(u),l++}else if(h.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(h.matrixWorld),y.position.applyMatrix4(f),r++}else if(h.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(h.matrixWorld),b.direction.transformDirection(f),c++}}},state:i}}function Ou(e,t){var n=new Ru(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Lu(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new Ou(e,t),n.set(r,[i])):a>=o.length?(i=new Ou(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var Nu=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=$t,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Ji),zu=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Ji);function Fu(e,t,n){var r,i=new go,a=new or,o=new or,s=new Pr,u=new Nu({depthPacking:Jt}),l=new zu,c={},f=n.maxTextureSize,d=(r={},(0,v.Z)(r,A,D),(0,v.Z)(r,D,A),(0,v.Z)(r,I,I),r),p=new ro({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new or},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=p.clone();h.defines.HORIZONTAL_PASS=1;var m=new Ia;m.setAttribute("position",new ha(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var g=new Ya(m,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=M;var b=this.type;function w(n,r){var i=t.update(g);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,h.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,h.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Dr(a.x,a.y)),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,p,g,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,g,null)}function x(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:u,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,f=n.uuid,p=c[s];void 0===p&&(p={},c[s]=p);var h=p[f];void 0===h&&(h=a.clone(),p[f]=h),a=h}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===P?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function _(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===P)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,f=0,d=c.length;f<d;f++){var p=c[f],h=l[p.materialIndex];if(h&&h.visible){var v=x(n,h,o,s);e.renderBufferDirect(a,null,u,v,n,p)}}else if(l.visible){var m=x(n,l,o,s);e.renderBufferDirect(a,null,u,m,n,null)}}for(var g=n.children,y=0,b=g.length;y<b;y++)_(g[y],r,a,o,s)}}this.render=function(t,n,r){if(!1!==y.enabled&&(!1!==y.autoUpdate||!1!==y.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),d=e.state;d.setBlending(O),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var p=b!==P&&this.type===P,h=b===P&&this.type!==P,v=0,m=t.length;v<m;v++){var g=t[v],x=g.shadow;if(void 0!==x){if(!1!==x.autoUpdate||!1!==x.needsUpdate){a.copy(x.mapSize);var S=x.getFrameExtents();if(a.multiply(S),o.copy(x.mapSize),(a.x>f||a.y>f)&&(a.x>f&&(o.x=Math.floor(f/S.x),a.x=o.x*S.x,x.mapSize.x=o.x),a.y>f&&(o.y=Math.floor(f/S.y),a.y=o.y*S.y,x.mapSize.y=o.y)),null===x.map||!0===p||!0===h){var k=this.type!==P?{minFilter:Te,magFilter:Te}:{};null!==x.map&&x.map.dispose(),x.map=new Dr(a.x,a.y,k),x.map.texture.name=g.name+".shadowMap",x.camera.updateProjectionMatrix()}e.setRenderTarget(x.map),e.clear();for(var E=x.getViewportCount(),C=0;C<E;C++){var M=x.getViewport(C);s.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),d.viewport(s),x.updateMatrices(g,C),i=x.getFrustum(),_(n,r,x.camera,g,this.type)}!0!==x.isPointLightShadow&&this.type===P&&w(x,r),x.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}b=this.type,y.needsUpdate=!1,e.setRenderTarget(u,l,c)}}}function ju(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new Pr,r=null,i=new Pr(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?ke(e.DEPTH_TEST):Ee(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case ne:e.depthFunc(e.NEVER);break;case re:e.depthFunc(e.ALWAYS);break;case ie:e.depthFunc(e.LESS);break;case ae:e.depthFunc(e.LEQUAL);break;case oe:e.depthFunc(e.EQUAL);break;case se:e.depthFunc(e.GEQUAL);break;case ue:e.depthFunc(e.GREATER);break;case le:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(n){t||(n?ke(e.STENCIL_TEST):Ee(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},l=new WeakMap,c=new WeakMap,f={},d={},p=new WeakMap,h=[],m=null,g=!1,y=null,b=null,w=null,x=null,E=null,C=null,M=null,T=!1,P=null,A=null,R=null,ce=null,fe=null,de=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),pe=!1,he=0,ve=e.getParameter(e.VERSION);-1!==ve.indexOf("WebGL")?(he=parseFloat(/^WebGL (\d)/.exec(ve)[1]),pe=he>=1):-1!==ve.indexOf("OpenGL ES")&&(he=parseFloat(/^OpenGL ES (\d)/.exec(ve)[1]),pe=he>=2);var me=null,ge={},ye=e.getParameter(e.SCISSOR_BOX),be=e.getParameter(e.VIEWPORT),we=(new Pr).fromArray(ye),xe=(new Pr).fromArray(be);function _e(t,n,r,i){var o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var u=0;u<r;u++)!a||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+u,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}var Se={};function ke(t){!0!==f[t]&&(e.enable(t),f[t]=!0)}function Ee(t){!1!==f[t]&&(e.disable(t),f[t]=!1)}Se[e.TEXTURE_2D]=_e(e.TEXTURE_2D,e.TEXTURE_2D,1),Se[e.TEXTURE_CUBE_MAP]=_e(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(Se[e.TEXTURE_2D_ARRAY]=_e(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),Se[e.TEXTURE_3D]=_e(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),s.setClear(1),u.setClear(0),ke(e.DEPTH_TEST),s.setFunc(ae),Ae(!1),De(S),ke(e.CULL_FACE),Pe(O);var Ce=(r={},(0,v.Z)(r,B,e.FUNC_ADD),(0,v.Z)(r,U,e.FUNC_SUBTRACT),(0,v.Z)(r,Z,e.FUNC_REVERSE_SUBTRACT),r);if(a)Ce[V]=e.MIN,Ce[H]=e.MAX;else{var Me=t.get("EXT_blend_minmax");null!==Me&&(Ce[V]=Me.MIN_EXT,Ce[H]=Me.MAX_EXT)}var Te=(i={},(0,v.Z)(i,W,e.ZERO),(0,v.Z)(i,G,e.ONE),(0,v.Z)(i,q,e.SRC_COLOR),(0,v.Z)(i,K,e.SRC_ALPHA),(0,v.Z)(i,te,e.SRC_ALPHA_SATURATE),(0,v.Z)(i,J,e.DST_COLOR),(0,v.Z)(i,Q,e.DST_ALPHA),(0,v.Z)(i,X,e.ONE_MINUS_SRC_COLOR),(0,v.Z)(i,Y,e.ONE_MINUS_SRC_ALPHA),(0,v.Z)(i,ee,e.ONE_MINUS_DST_COLOR),(0,v.Z)(i,$,e.ONE_MINUS_DST_ALPHA),i);function Pe(t,n,r,i,a,o,s,u){if(t!==O){if(!1===g&&(ke(e.BLEND),g=!0),t===j)a=a||n,o=o||r,s=s||i,n===b&&a===E||(e.blendEquationSeparate(Ce[n],Ce[a]),b=n,E=a),r===w&&i===x&&o===C&&s===M||(e.blendFuncSeparate(Te[r],Te[i],Te[o],Te[s]),w=r,x=i,C=o,M=s),y=t,T=!1;else if(t!==y||u!==T){if(b===B&&E===B||(e.blendEquation(e.FUNC_ADD),b=B,E=B),u)switch(t){case L:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case N:e.blendFunc(e.ONE,e.ONE);break;case z:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case F:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case L:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case N:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case z:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case F:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}w=null,x=null,C=null,M=null,y=t,T=u}}else!0===g&&(Ee(e.BLEND),g=!1)}function Ae(t){P!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),P=t)}function De(t){t!==_?(ke(e.CULL_FACE),t!==A&&(t===S?e.cullFace(e.BACK):t===k?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):Ee(e.CULL_FACE),A=t}function Ie(t,n,r){t?(ke(e.POLYGON_OFFSET_FILL),ce===n&&fe===r||(e.polygonOffset(n,r),ce=n,fe=r)):Ee(e.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:s,stencil:u},enable:ke,disable:Ee,bindFramebuffer:function(t,n){return d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,a&&(t===e.DRAW_FRAMEBUFFER&&(d[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(d[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){var a=h,o=!1;if(r)if(void 0===(a=p.get(i))&&(a=[],p.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||a[0]!==e.COLOR_ATTACHMENT0){for(var u=0,l=s.length;u<l;u++)a[u]=e.COLOR_ATTACHMENT0+u;a.length=s.length,o=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,o=!0);else a[0]!==e.BACK&&(a[0]=e.BACK,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:Pe,setMaterial:function(t,n){t.side===I?Ee(e.CULL_FACE):ke(e.CULL_FACE);var r=t.side===D;n&&(r=!r),Ae(r),t.blending===L&&!1===t.transparent?Pe(O):Pe(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),o.setMask(t.colorWrite);var i=t.stencilWrite;u.setTest(i),i&&(u.setMask(t.stencilWriteMask),u.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),u.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Ie(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?ke(e.SAMPLE_ALPHA_TO_COVERAGE):Ee(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Ae,setCullFace:De,setLineWidth:function(t){t!==R&&(pe&&e.lineWidth(t),R=t)},setPolygonOffset:Ie,setScissorTest:function(t){t?ke(e.SCISSOR_TEST):Ee(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+de-1),me!==t&&(e.activeTexture(t),me=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===me?e.TEXTURE0+de-1:me);var i=ge[r];void 0===i&&(i={type:void 0,texture:void 0},ge[r]=i),i.type===t&&i.texture===n||(me!==r&&(e.activeTexture(r),me=r),e.bindTexture(t,n||Se[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=ge[me];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=c.get(n).get(t);l.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),l.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===we.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),we.copy(t))},viewport:function(t){!1===xe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),xe.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===a&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),f={},me=null,ge={},d={},p=new WeakMap,h=[],m=null,g=!1,y=null,b=null,w=null,x=null,E=null,C=null,M=null,T=!1,P=null,A=null,R=null,ce=null,fe=null,we.set(0,0,e.canvas.width,e.canvas.height),xe.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),u.reset()}}}function Bu(e,t,n,r,i,a,o){var s,u,l,c,f=i.isWebGL2,d=i.maxTextures,p=i.maxCubemapSize,h=i.maxTextureSize,m=i.maxSamples,g=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,y="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),b=new WeakMap,w=new WeakMap,x=!1;try{x="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(q){}function _(e,t){return x?new OffscreenCanvas(e,t):dr("canvas")}function S(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?nr:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===c&&(c=_(o,s));var u=n?_(o,s):c;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function k(e){return er(e.width)&&er(e.height)}function E(e,t){return e.generateMipmaps&&t&&e.minFilter!==Te&&e.minFilter!==Re}function C(t){e.generateMipmap(t)}function M(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===f)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RGBA&&(i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=a===rn&&!1===o?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)),s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function T(e,t,n){return!0===E(e,n)||e.isFramebufferTexture&&e.minFilter!==Te&&e.minFilter!==Re?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function P(t){return t===Te||t===Pe||t===De?e.NEAREST:e.LINEAR}function A(e){var t=e.target;t.removeEventListener("dispose",A),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=w.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&I(e),0===Object.keys(i).length&&w.delete(n)}r.remove(e)}(t),t.isVideoTexture&&b.delete(t)}function D(t){var n=t.target;n.removeEventListener("dispose",D),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++){if(Array.isArray(i.__webglFramebuffer[s]))for(var u=0;u<i.__webglFramebuffer[s].length;u++)e.deleteFramebuffer(i.__webglFramebuffer[s][u]);else e.deleteFramebuffer(i.__webglFramebuffer[s]);i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s])}else{if(Array.isArray(i.__webglFramebuffer))for(var l=0;l<i.__webglFramebuffer.length;l++)e.deleteFramebuffer(i.__webglFramebuffer[l]);else e.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var c=0;c<i.__webglColorRenderbuffer.length;c++)i.__webglColorRenderbuffer[c]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[c]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var f=0,d=n.length;f<d;f++){var p=r.get(n[f]);p.__webglTexture&&(e.deleteTexture(p.__webglTexture),o.memory.textures--),r.remove(n[f])}r.remove(n),r.remove(t)}(n)}function I(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete w.get(i)[n.__cacheKey],o.memory.textures--}var R=0;function O(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=o.render.frame;b.get(e)!==t&&(b.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void B(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}var L=(s={},(0,v.Z)(s,Ee,e.REPEAT),(0,v.Z)(s,Ce,e.CLAMP_TO_EDGE),(0,v.Z)(s,Me,e.MIRRORED_REPEAT),s),N=(u={},(0,v.Z)(u,Te,e.NEAREST),(0,v.Z)(u,Pe,e.NEAREST_MIPMAP_NEAREST),(0,v.Z)(u,De,e.NEAREST_MIPMAP_LINEAR),(0,v.Z)(u,Re,e.LINEAR),(0,v.Z)(u,Oe,e.LINEAR_MIPMAP_NEAREST),(0,v.Z)(u,Ne,e.LINEAR_MIPMAP_LINEAR),u),z=(l={},(0,v.Z)(l,Sn,e.NEVER),(0,v.Z)(l,An,e.ALWAYS),(0,v.Z)(l,kn,e.LESS),(0,v.Z)(l,Cn,e.LEQUAL),(0,v.Z)(l,En,e.EQUAL),(0,v.Z)(l,Pn,e.GEQUAL),(0,v.Z)(l,Mn,e.GREATER),(0,v.Z)(l,Tn,e.NOTEQUAL),l);function F(n,a,o){if(o?(e.texParameteri(n,e.TEXTURE_WRAP_S,L[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,L[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,L[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,N[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,N[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS===Ce&&a.wrapT===Ce||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,P(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,P(a.minFilter)),a.minFilter!==Te&&a.minFilter!==Re&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,z[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===Te)return;if(a.minFilter!==De&&a.minFilter!==Ne)return;if(a.type===He&&!1===t.has("OES_texture_float_linear"))return;if(!1===f&&a.type===We&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function j(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",A));var i=n.source,a=w.get(i);void 0===a&&(a={},w.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var u=a[t.__cacheKey];void 0!==u&&(a[t.__cacheKey].usedTimes--,0===u.usedTimes&&I(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function B(t,i,o){var s=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(s=e.TEXTURE_3D);var u=j(t,i),l=i.source;n.bindTexture(s,t.__webglTexture,e.TEXTURE0+o);var c=r.get(l);if(l.version!==c.__version||!0===u){n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);var d,p=function(e){return!f&&(e.wrapS!==Ce||e.wrapT!==Ce||e.minFilter!==Te&&e.minFilter!==Re)}(i)&&!1===k(i.image),v=S(i.image,p,!1,h),m=k(v=G(i,v))||f,g=a.convert(i.format,i.colorSpace),y=a.convert(i.type),b=M(i.internalFormat,g,y,i.colorSpace);F(s,i,m);var w=i.mipmaps,x=f&&!0!==i.isVideoTexture,_=void 0===c.__version||!0===u,P=T(i,v,m);if(i.isDepthTexture)b=e.DEPTH_COMPONENT,f?b=i.type===He?e.DEPTH_COMPONENT32F:i.type===Ve?e.DEPTH_COMPONENT24:i.type===Xe?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===He&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Je&&b===e.DEPTH_COMPONENT&&i.type!==Ue&&i.type!==Ve&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Ve,y=a.convert(i.type)),i.format===et&&b===e.DEPTH_COMPONENT&&(b=e.DEPTH_STENCIL,i.type!==Xe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Xe,y=a.convert(i.type))),_&&(x?n.texStorage2D(e.TEXTURE_2D,1,b,v.width,v.height):n.texImage2D(e.TEXTURE_2D,0,b,v.width,v.height,0,g,y,null));else if(i.isDataTexture)if(w.length>0&&m){x&&_&&n.texStorage2D(e.TEXTURE_2D,P,b,w[0].width,w[0].height);for(var A=0,D=w.length;A<D;A++)d=w[A],x?n.texSubImage2D(e.TEXTURE_2D,A,0,0,d.width,d.height,g,y,d.data):n.texImage2D(e.TEXTURE_2D,A,b,d.width,d.height,0,g,y,d.data);i.generateMipmaps=!1}else x?(_&&n.texStorage2D(e.TEXTURE_2D,P,b,v.width,v.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,v.width,v.height,g,y,v.data)):n.texImage2D(e.TEXTURE_2D,0,b,v.width,v.height,0,g,y,v.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){x&&_&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,b,w[0].width,w[0].height,v.depth);for(var I=0,R=w.length;I<R;I++)d=w[I],i.format!==Ye?null!==g?x?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,d.width,d.height,v.depth,g,d.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,I,b,d.width,d.height,v.depth,0,d.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):x?n.texSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,d.width,d.height,v.depth,g,y,d.data):n.texImage3D(e.TEXTURE_2D_ARRAY,I,b,d.width,d.height,v.depth,0,g,y,d.data)}else{x&&_&&n.texStorage2D(e.TEXTURE_2D,P,b,w[0].width,w[0].height);for(var O=0,L=w.length;O<L;O++)d=w[O],i.format!==Ye?null!==g?x?n.compressedTexSubImage2D(e.TEXTURE_2D,O,0,0,d.width,d.height,g,d.data):n.compressedTexImage2D(e.TEXTURE_2D,O,b,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):x?n.texSubImage2D(e.TEXTURE_2D,O,0,0,d.width,d.height,g,y,d.data):n.texImage2D(e.TEXTURE_2D,O,b,d.width,d.height,0,g,y,d.data)}else if(i.isDataArrayTexture)x?(_&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,b,v.width,v.height,v.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,v.width,v.height,v.depth,g,y,v.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,b,v.width,v.height,v.depth,0,g,y,v.data);else if(i.isData3DTexture)x?(_&&n.texStorage3D(e.TEXTURE_3D,P,b,v.width,v.height,v.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,v.width,v.height,v.depth,g,y,v.data)):n.texImage3D(e.TEXTURE_3D,0,b,v.width,v.height,v.depth,0,g,y,v.data);else if(i.isFramebufferTexture){if(_)if(x)n.texStorage2D(e.TEXTURE_2D,P,b,v.width,v.height);else for(var N=v.width,z=v.height,B=0;B<P;B++)n.texImage2D(e.TEXTURE_2D,B,b,N,z,0,g,y,null),N>>=1,z>>=1}else if(w.length>0&&m){x&&_&&n.texStorage2D(e.TEXTURE_2D,P,b,w[0].width,w[0].height);for(var U=0,Z=w.length;U<Z;U++)d=w[U],x?n.texSubImage2D(e.TEXTURE_2D,U,0,0,g,y,d):n.texImage2D(e.TEXTURE_2D,U,b,g,y,d);i.generateMipmaps=!1}else x?(_&&n.texStorage2D(e.TEXTURE_2D,P,b,v.width,v.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,g,y,v)):n.texImage2D(e.TEXTURE_2D,0,b,g,y,v);E(i,m)&&C(s),c.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function U(t,i,o,s,u,l){var c=a.convert(o.format,o.colorSpace),f=a.convert(o.type),d=M(o.internalFormat,c,f,o.colorSpace);if(!r.get(i).__hasExternalTextures){var p=Math.max(1,i.width>>l),h=Math.max(1,i.height>>l);u===e.TEXTURE_3D||u===e.TEXTURE_2D_ARRAY?n.texImage3D(u,l,d,p,h,i.depth,0,c,f,null):n.texImage2D(u,l,d,p,h,0,c,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),W(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,u,r.get(o).__webglTexture,0,H(i)):(u===e.TEXTURE_2D||u>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,u,r.get(o).__webglTexture,l),n.bindFramebuffer(e.FRAMEBUFFER,null)}function Z(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){var i=e.DEPTH_COMPONENT16;if(r||W(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===He?i=e.DEPTH_COMPONENT32F:o.type===Ve&&(i=e.DEPTH_COMPONENT24));var s=H(n);W(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,s,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){var u=H(n);r&&!1===W(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):W(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else for(var l=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<l.length;c++){var f=l[c],d=a.convert(f.format,f.colorSpace),p=a.convert(f.type),h=M(f.internalFormat,d,p,f.colorSpace),v=H(n);r&&!1===W(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,v,h,n.width,n.height):W(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,v,h,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,h,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function V(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),O(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=H(i);if(i.depthTexture.format===Je)W(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==et)throw new Error("Unknown depthTexture format");W(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),Z(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),Z(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function H(e){return Math.min(m,e.samples)}function W(e){var n=r.get(e);return f&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function G(e,n){var r=e.colorSpace,i=e.format,a=e.type;return!0===e.isCompressedTexture||e.format===Zn||r!==an&&r!==nn&&(r===rn?!1===f?!0===t.has("EXT_sRGB")&&i===Ye?(e.format=Zn,e.minFilter=Re,e.generateMipmaps=!1):n=Sr.sRGBToLinear(n):i===Ye&&a===Fe||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){var e=R;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),R+=1,e},this.resetTextureUnits=function(){R=0},this.setTexture2D=O,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?B(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?B(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;var s=j(t,i),u=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);var l=r.get(u);if(u.version!==l.__version||!0===s){n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);for(var c=i.isCompressedTexture||i.image[0].isCompressedTexture,d=i.image[0]&&i.image[0].isDataTexture,h=[],v=0;v<6;v++)h[v]=c||d?d?i.image[v].image:i.image[v]:S(i.image[v],!1,!0,p),h[v]=G(i,h[v]);var m,g=h[0],y=k(g)||f,b=a.convert(i.format,i.colorSpace),w=a.convert(i.type),x=M(i.internalFormat,b,w,i.colorSpace),_=f&&!0!==i.isVideoTexture,P=void 0===l.__version||!0===s,A=T(i,g,y);if(F(e.TEXTURE_CUBE_MAP,i,y),c){_&&P&&n.texStorage2D(e.TEXTURE_CUBE_MAP,A,x,g.width,g.height);for(var D=0;D<6;D++){m=h[D].mipmaps;for(var I=0;I<m.length;I++){var R=m[I];i.format!==Ye?null!==b?_?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,I,0,0,R.width,R.height,b,R.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,I,x,R.width,R.height,0,R.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):_?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,I,0,0,R.width,R.height,b,w,R.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,I,x,R.width,R.height,0,b,w,R.data)}}}else{m=i.mipmaps,_&&P&&(m.length>0&&A++,n.texStorage2D(e.TEXTURE_CUBE_MAP,A,x,h[0].width,h[0].height));for(var O=0;O<6;O++)if(d){_?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,0,0,0,h[O].width,h[O].height,b,w,h[O].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,0,x,h[O].width,h[O].height,0,b,w,h[O].data);for(var L=0;L<m.length;L++){var N=m[L].image[O].image;_?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,L+1,0,0,N.width,N.height,b,w,N.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,L+1,x,N.width,N.height,0,b,w,N.data)}}else{_?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,0,0,0,b,w,h[O]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,0,x,b,w,h[O]);for(var z=0;z<m.length;z++){var B=m[z];_?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,z+1,0,0,b,w,B.image[O]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,z+1,x,b,w,B.image[O])}}}E(i,y)&&C(e.TEXTURE_CUBE_MAP),l.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&U(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&V(t)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),l=r.get(s);t.addEventListener("dispose",D),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=s.version,o.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,p=k(t)||f;if(c){u.__webglFramebuffer=[];for(var h=0;h<6;h++)if(f&&s.mipmaps&&s.mipmaps.length>0){u.__webglFramebuffer[h]=[];for(var v=0;v<s.mipmaps.length;v++)u.__webglFramebuffer[h][v]=e.createFramebuffer()}else u.__webglFramebuffer[h]=e.createFramebuffer()}else{if(f&&s.mipmaps&&s.mipmaps.length>0){u.__webglFramebuffer=[];for(var m=0;m<s.mipmaps.length;m++)u.__webglFramebuffer[m]=e.createFramebuffer()}else u.__webglFramebuffer=e.createFramebuffer();if(d)if(i.drawBuffers)for(var g=t.texture,y=0,b=g.length;y<b;y++){var w=r.get(g[y]);void 0===w.__webglTexture&&(w.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(f&&t.samples>0&&!1===W(t)){var x=d?s:[s];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer);for(var _=0;_<x.length;_++){var S=x[_];u.__webglColorRenderbuffer[_]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u.__webglColorRenderbuffer[_]);var T=a.convert(S.format,S.colorSpace),P=a.convert(S.type),A=M(S.internalFormat,T,P,S.colorSpace,!0===t.isXRRenderTarget),I=H(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,I,A,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+_,e.RENDERBUFFER,u.__webglColorRenderbuffer[_])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),Z(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),F(e.TEXTURE_CUBE_MAP,s,p);for(var R=0;R<6;R++)if(f&&s.mipmaps&&s.mipmaps.length>0)for(var O=0;O<s.mipmaps.length;O++)U(u.__webglFramebuffer[R][O],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+R,O);else U(u.__webglFramebuffer[R],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+R,0);E(s,p)&&C(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(var L=t.texture,N=0,z=L.length;N<z;N++){var j=L[N],B=r.get(j);n.bindTexture(e.TEXTURE_2D,B.__webglTexture),F(e.TEXTURE_2D,j,p),U(u.__webglFramebuffer,t,j,e.COLOR_ATTACHMENT0+N,e.TEXTURE_2D,0),E(j,p)&&C(e.TEXTURE_2D)}n.unbindTexture()}else{var G=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(f?G=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(G,l.__webglTexture),F(G,s,p),f&&s.mipmaps&&s.mipmaps.length>0)for(var q=0;q<s.mipmaps.length;q++)U(u.__webglFramebuffer[q],t,s,e.COLOR_ATTACHMENT0,G,q);else U(u.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,G,0);E(s,p)&&C(G),n.unbindTexture()}t.depthBuffer&&V(t)},this.updateRenderTargetMipmap=function(t){for(var i=k(t)||f,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=0,s=a.length;o<s;o++){var u=a[o];if(E(u,i)){var l=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,c=r.get(u).__webglTexture;n.bindTexture(l,c),C(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(f&&t.samples>0&&!1===W(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,u=[],l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var p=0;p<i.length;p++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+p,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+p,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(var h=0;h<i.length;h++){u.push(e.COLOR_ATTACHMENT0+h),t.depthBuffer&&u.push(l);var v=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===v&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[h]),!0===v&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[l]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[l])),d){var m=r.get(i[h]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,m,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),y&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,u)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(var g=0;g<i.length;g++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.RENDERBUFFER,c.__webglColorRenderbuffer[g]);var b=r.get(i[g]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.TEXTURE_2D,b,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=V,this.setupFrameBufferTexture=U,this.useMultisampledRTT=W}function Uu(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nn;if(n===Fe)return e.UNSIGNED_BYTE;if(n===Ge)return e.UNSIGNED_SHORT_4_4_4_4;if(n===qe)return e.UNSIGNED_SHORT_5_5_5_1;if(n===je)return e.BYTE;if(n===Be)return e.SHORT;if(n===Ue)return e.UNSIGNED_SHORT;if(n===Ze)return e.INT;if(n===Ve)return e.UNSIGNED_INT;if(n===He)return e.FLOAT;if(n===We)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===Ke)return e.ALPHA;if(n===Ye)return e.RGBA;if(n===Qe)return e.LUMINANCE;if(n===$e)return e.LUMINANCE_ALPHA;if(n===Je)return e.DEPTH_COMPONENT;if(n===et)return e.DEPTH_STENCIL;if(n===Zn)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===tt)return e.RED;if(n===nt)return e.RED_INTEGER;if(n===rt)return e.RG;if(n===it)return e.RG_INTEGER;if(n===at)return e.RGBA_INTEGER;if(n===ot||n===st||n===ut||n===lt)if(a===rn){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===ot)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===st)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===ut)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===lt)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===ot)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===st)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===ut)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===lt)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===ct||n===ft||n===dt||n===pt){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===ct)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ft)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===dt)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===pt)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===ht)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===vt||n===mt){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===vt)return a===rn?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===mt)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===gt||n===yt||n===bt||n===wt||n===xt||n===_t||n===St||n===kt||n===Et||n===Ct||n===Mt||n===Tt||n===Pt||n===At){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===gt)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===yt)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===bt)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===wt)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===xt)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===_t)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===St)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===kt)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Et)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Ct)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Mt)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Tt)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Pt)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===At)return a===rn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Dt){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===Dt)return a===rn?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===It||n===Rt||n===Ot||n===Lt){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===Dt)return i.COMPRESSED_RED_RGTC1_EXT;if(n===Rt)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Ot)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Lt)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Xe?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var Zu=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,g.Z)(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return(0,y.Z)(n)}(ao),Vu=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return(0,y.Z)(n)}(ji),Hu={type:"move"},Wu=function(){function e(){(0,g.Z)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,y.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Vu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Vu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Fr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Fr),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Vu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Fr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Fr),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=(0,u.Z)(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;var c,f=(0,u.Z)(e.hand.values());try{for(f.s();!(c=f.n()).done;){var d=c.value,p=t.getJointPose(d,n),h=this._getHandJoint(l,d);null!==p&&(h.matrix.fromArray(p.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,h.jointRadius=p.radius),h.visible=null!==p}}catch(y){f.e(y)}finally{f.f()}var v=l.joints["index-finger-tip"],m=l.joints["thumb-tip"],g=v.position.distanceTo(m.position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Hu)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new Vu;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),Gu=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a,o,s,u,l,c,f){var d;if((0,g.Z)(this,n),(f=void 0!==f?f:Je)!==Je&&f!==et)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&f===Je&&(i=Ve),void 0===i&&f===et&&(i=Xe),(d=t.call(this,null,a,o,s,u,l,f,i,c)).isDepthTexture=!0,d.image={width:e,height:r},d.magFilter=void 0!==u?u:Te,d.minFilter=void 0!==l?l:Te,d.flipY=!1,d.generateMipmaps=!1,d.compareFunction=null,d}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),n}(Tr),qu=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;(0,g.Z)(this,n),i=t.call(this);var a=(0,d.Z)(i),o=null,u=1,l=null,c="local-floor",f=1,p=null,h=null,v=null,y=null,b=null,w=null,x=r.getContextAttributes(),_=null,S=null,k=[],E=[],C=new ao;C.layers.enable(1),C.viewport=new Pr;var M=new ao;M.layers.enable(2),M.viewport=new Pr;var T=[C,M],P=new Zu;P.layers.enable(1),P.layers.enable(2);var A=null,D=null;function I(e){var t=E.indexOf(e.inputSource);if(-1!==t){var n=k[t];void 0!==n&&(n.update(e.inputSource,e.frame,p||l),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function R(){o.removeEventListener("select",I),o.removeEventListener("selectstart",I),o.removeEventListener("selectend",I),o.removeEventListener("squeeze",I),o.removeEventListener("squeezestart",I),o.removeEventListener("squeezeend",I),o.removeEventListener("end",R),o.removeEventListener("inputsourceschange",O);for(var t=0;t<k.length;t++){var n=E[t];null!==n&&(E[t]=null,k[t].disconnect(n))}A=null,D=null,e.setRenderTarget(_),b=null,y=null,v=null,o=null,S=null,j.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function O(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=E.indexOf(n);r>=0&&(E[r]=null,k[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=E.indexOf(a);if(-1===o){for(var s=0;s<k.length;s++){if(s>=E.length){E.push(a),o=s;break}if(null===E[s]){E[s]=a,o=s;break}}if(-1===o)break}var u=k[o];u&&u.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=k[e];return void 0===t&&(t=new Wu,k[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=k[e];return void 0===t&&(t=new Wu,k[e]=t),t.getGripSpace()},i.getHand=function(e){var t=k[e];return void 0===t&&(t=new Wu,k[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){u=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){c=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return p||l},i.setReferenceSpace=function(e){p=e},i.getBaseLayer=function(){return null!==y?y:b},i.getBinding=function(){return v},i.getFrame=function(){return w},i.getSession=function(){return o},i.setSession=function(){var t=(0,s.Z)((0,m.Z)().mark((function t(n){var i,s,d,h,g;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=25;break}if(_=e.getRenderTarget(),o.addEventListener("select",I),o.addEventListener("selectstart",I),o.addEventListener("selectend",I),o.addEventListener("squeeze",I),o.addEventListener("squeezestart",I),o.addEventListener("squeezeend",I),o.addEventListener("end",R),o.addEventListener("inputsourceschange",O),!0===x.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==o.renderState.layers||x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:u},b=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:b}),S=new Dr(b.framebufferWidth,b.framebufferHeight,{format:Ye,type:Fe,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})):(s=null,d=null,h=null,x.depth&&(h=x.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,s=x.stencil?et:Je,d=x.stencil?Xe:Ve),g={colorFormat:r.RGBA8,depthFormat:h,scaleFactor:u},v=new XRWebGLBinding(o,r),y=v.createProjectionLayer(g),o.updateRenderState({layers:[y]}),S=new Dr(y.textureWidth,y.textureHeight,{format:Ye,type:Fe,depthTexture:new Gu(y.textureWidth,y.textureHeight,d,void 0,void 0,void 0,void 0,void 0,void 0,s),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0}),e.properties.get(S).__ignoreDepthValues=y.ignoreDepthValues),S.isXRRenderTarget=!0,this.setFoveation(f),p=null,t.next=20,o.requestReferenceSpace(c);case 20:l=t.sent,j.setContext(o),j.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.getEnvironmentBlendMode=function(){if(null!==o)return o.environmentBlendMode};var L=new Fr,N=new Fr;function z(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==o){P.near=M.near=C.near=e.near,P.far=M.far=C.far=e.far,A===P.near&&D===P.far||(o.updateRenderState({depthNear:P.near,depthFar:P.far}),A=P.near,D=P.far);var t=e.parent,n=P.cameras;z(P,t);for(var r=0;r<n.length;r++)z(n[r],t);2===n.length?function(e,t,n){L.setFromMatrixPosition(t.matrixWorld),N.setFromMatrixPosition(n.matrixWorld);var r=L.distanceTo(N),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(a[8]+1)/a[0],d=o*c,p=o*f,h=r/(-c+f),v=h*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+h,g=s+h,y=d-v,b=p+(r-v),w=u*s/g*m,x=l*s/g*m;e.projectionMatrix.makePerspective(y,b,w,x,m,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(P,C,M):P.projectionMatrix.copy(C.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0);for(var r=e.children,i=0,a=r.length;i<a;i++)r[i].updateMatrixWorld(!0);e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Kn*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,P,t)}},i.getCamera=function(){return P},i.getFoveation=function(){if(null!==y||null!==b)return f},i.setFoveation=function(e){f=e,null!==y&&(y.fixedFoveation=e),null!==b&&void 0!==b.fixedFoveation&&(b.fixedFoveation=e)};var F=null;var j=new yo;return j.setAnimationLoop((function(t,n){if(h=n.getViewerPose(p||l),w=n,null!==h){var r=h.views;null!==b&&(e.setRenderTargetFramebuffer(S,b.framebuffer),e.setRenderTarget(S));var i=!1;r.length!==P.cameras.length&&(P.cameras.length=0,i=!0);for(var o=0;o<r.length;o++){var s=r[o],u=null;if(null!==b)u=b.getViewport(s);else{var c=v.getViewSubImage(y,s);u=c.viewport,0===o&&(e.setRenderTargetTextures(S,c.colorTexture,y.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(S))}var f=T[o];void 0===f&&((f=new ao).layers.enable(o),f.viewport=new Pr,T[o]=f),f.matrix.fromArray(s.transform.matrix),f.matrix.decompose(f.position,f.quaternion,f.scale),f.projectionMatrix.fromArray(s.projectionMatrix),f.projectionMatrixInverse.copy(f.projectionMatrix).invert(),f.viewport.set(u.x,u.y,u.width,u.height),0===o&&(P.matrix.copy(f.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),!0===i&&P.cameras.push(f)}}for(var d=0;d<k.length;d++){var m=E[d],g=k[d];null!==m&&void 0!==g&&g.update(m,n,p||l)}F&&F(t,n),n.detectedPlanes&&a.dispatchEvent({type:"planesdetected",data:n}),w=null})),i.setAnimationLoop=function(e){F=e},i.dispose=function(){},i}return(0,y.Z)(n)}(Wn);function Xu(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===D&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===D&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===e._useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,to(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));t.get(r).envMap&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===D&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Ku(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(e,t,n){var r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[t]=a}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var s=Array.isArray(n[t])?n[t]:[n[t]],u=Array.isArray(r)?r:[r],l=0;l<s.length;l++){var c=s[l];if(!1===c.equals(u[l]))return c.copy(u[l]),!0}return!1}function l(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,f){var d=i[n.id];void 0===d&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){for(var s=t[a],u={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],f=0,d=c.length;f<d;f++){var p=l(c[f]);u.boundary+=p.boundary,u.storage+=p.storage}if(s.__data=new Float32Array(u.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-u.boundary<0&&(n+=r-i,s.__offset=n);n+=u.storage}(i=n%r)>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),d=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",c));var p=f.program;r.updateUBOMapping(n,p);var h=t.render.frame;a[n.id]!==h&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++){var c=r[o];if(!0===u(c,o,a)){for(var f=c.__offset,d=Array.isArray(c.value)?c.value:[c.value],p=0,h=0;h<d.length;h++){var v=d[h],m=l(v);"number"===typeof v?(c.__data[0]=v,e.bufferSubData(e.UNIFORM_BUFFER,f+p,c.__data)):v.isMatrix3?(c.__data[0]=v.elements[0],c.__data[1]=v.elements[1],c.__data[2]=v.elements[2],c.__data[3]=v.elements[0],c.__data[4]=v.elements[3],c.__data[5]=v.elements[4],c.__data[6]=v.elements[5],c.__data[7]=v.elements[0],c.__data[8]=v.elements[6],c.__data[9]=v.elements[7],c.__data[10]=v.elements[8],c.__data[11]=v.elements[0]):(v.toArray(c.__data,p),p+=m.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,f,c.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=h)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}function Yu(){var e=dr("canvas");return e.style.display="block",e}var Qu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,g.Z)(this,e);var n,r=t.canvas,i=void 0===r?Yu():r,a=t.context,o=void 0===a?null:a,s=t.depth,u=void 0===s||s,l=t.stencil,c=void 0===l||l,f=t.alpha,d=void 0!==f&&f,p=t.antialias,h=void 0!==p&&p,v=t.premultipliedAlpha,m=void 0===v||v,y=t.preserveDrawingBuffer,w=void 0!==y&&y,x=t.powerPreference,_=void 0===x?"default":x,S=t.failIfMajorPerformanceCaveat,k=void 0!==S&&S;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:d;var E=new Uint32Array(4),C=new Int32Array(4),M=null,T=null,P=[],R=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=rn,this._useLegacyLights=!1,this.toneMapping=pe,this.toneMappingExposure=1;var O=this,L=!1,N=0,z=0,F=null,j=-1,B=null,U=new Pr,Z=new Pr,V=null,H=new ia(0),W=0,G=i.width,q=i.height,X=1,K=null,Y=null,Q=new Pr(0,0,G,q),$=new Pr(0,0,G,q),J=!1,ee=new go,te=!1,ne=!1,re=null,ie=new hi,ae=new or,oe=new Fr,se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ue(){return null===F?X:1}var le,ce,fe,de,he,ve,me,ge,ye,be,we,xe,_e,Se,ke,Ee,Ce,Me,Te,Pe,Ae,De,Ie,Re,Oe=o;function Le(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var ze={alpha:!0,depth:u,stencil:c,antialias:h,premultipliedAlpha:m,preserveDrawingBuffer:w,powerPreference:_,failIfMajorPerformanceCaveat:k};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(b)),i.addEventListener("webglcontextlost",Ke,!1),i.addEventListener("webglcontextrestored",Qe,!1),i.addEventListener("webglcontextcreationerror",$e,!1),null===Oe){var je=["webgl2","webgl","experimental-webgl"];if(!0===O.isWebGL1Renderer&&je.shift(),null===(Oe=Le(je,ze)))throw Le(je)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&Oe instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Oe.getShaderPrecisionFormat&&(Oe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(wt){throw console.error("THREE.WebGLRenderer: "+wt.message),wt}function Be(){le=new Go(Oe),ce=new To(Oe,le,t),le.init(ce),De=new Uu(Oe,le,ce),fe=new ju(Oe,le,ce),de=new Ko(Oe),he=new Eu,ve=new Bu(Oe,le,fe,he,ce,De,de),me=new Ao(O),ge=new Wo(O),ye=new bo(Oe,ce),Ie=new Co(Oe,le,ye,ce),be=new qo(Oe,ye,de,Ie),we=new Jo(Oe,be,ye,de),Te=new $o(Oe,ce,ve),Ee=new Po(he),xe=new ku(O,me,ge,le,ce,Ie,Ee),_e=new Xu(O,he),Se=new Pu,ke=new Lu(le,ce),Me=new Eo(O,me,ge,fe,we,n,m),Ce=new Fu(O,we,ce),Re=new Ku(Oe,de,ce,fe),Pe=new Mo(Oe,le,de,ce),Ae=new Xo(Oe,le,de,ce),de.programs=xe.programs,O.capabilities=ce,O.extensions=le,O.properties=he,O.renderLists=Se,O.shadowMap=Ce,O.state=fe,O.info=de}Be();var Ze=new qu(O,Oe);function Ke(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function Qe(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;var e=de.autoReset,t=Ce.enabled,n=Ce.autoUpdate,r=Ce.needsUpdate,i=Ce.type;Be(),de.autoReset=e,Ce.enabled=t,Ce.autoUpdate=n,Ce.needsUpdate=r,Ce.type=i}function $e(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Je(e){var t=e.target;t.removeEventListener("dispose",Je),et(t)}function et(e){tt(e),he.remove(e)}function tt(e){var t=he.get(e).programs;void 0!==t&&(t.forEach((function(e){xe.releaseProgram(e)})),e.isShaderMaterial&&xe.releaseShaderCache(e))}this.xr=Ze,this.getContext=function(){return Oe},this.getContextAttributes=function(){return Oe.getContextAttributes()},this.forceContextLoss=function(){var e=le.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=le.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(e){void 0!==e&&(X=e,this.setSize(G,q,!1))},this.getSize=function(e){return e.set(G,q)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ze.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(G=e,q=t,i.width=Math.floor(e*X),i.height=Math.floor(t*X),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(G*X,q*X).floor()},this.setDrawingBufferSize=function(e,t,n){G=e,q=t,X=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(U)},this.getViewport=function(e){return e.copy(Q)},this.setViewport=function(e,t,n,r){e.isVector4?Q.set(e.x,e.y,e.z,e.w):Q.set(e,t,n,r),fe.viewport(U.copy(Q).multiplyScalar(X).floor())},this.getScissor=function(e){return e.copy($)},this.setScissor=function(e,t,n,r){e.isVector4?$.set(e.x,e.y,e.z,e.w):$.set(e,t,n,r),fe.scissor(Z.copy($).multiplyScalar(X).floor())},this.getScissorTest=function(){return J},this.setScissorTest=function(e){fe.setScissorTest(J=e)},this.setOpaqueSort=function(e){K=e},this.setTransparentSort=function(e){Y=e},this.getClearColor=function(e){return e.copy(Me.getClearColor())},this.setClearColor=function(){Me.setClearColor.apply(Me,arguments)},this.getClearAlpha=function(){return Me.getClearAlpha()},this.setClearAlpha=function(){Me.setClearAlpha.apply(Me,arguments)},this.clear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;if(e){var i=!1;if(null!==F){var a=F.texture.format;i=a===at||a===it||a===nt}if(i){var o=F.texture.type,s=o===Fe||o===Ve||o===Ue||o===Xe||o===Ge||o===qe,u=Me.getClearColor(),l=Me.getClearAlpha(),c=u.r,f=u.g,d=u.b;s?(E[0]=c,E[1]=f,E[2]=d,E[3]=l,Oe.clearBufferuiv(Oe.COLOR,0,E)):(C[0]=c,C[1]=f,C[2]=d,C[3]=l,Oe.clearBufferiv(Oe.COLOR,0,C))}else r|=Oe.COLOR_BUFFER_BIT}t&&(r|=Oe.DEPTH_BUFFER_BIT),n&&(r|=Oe.STENCIL_BUFFER_BIT),Oe.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Ke,!1),i.removeEventListener("webglcontextrestored",Qe,!1),i.removeEventListener("webglcontextcreationerror",$e,!1),Se.dispose(),ke.dispose(),he.dispose(),me.dispose(),ge.dispose(),we.dispose(),Ie.dispose(),Re.dispose(),xe.dispose(),Ze.dispose(),Ze.removeEventListener("sessionstart",st),Ze.removeEventListener("sessionend",ut),re&&(re.dispose(),re=null),lt.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=se);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=gt(e,t,n,r,i);fe.setMaterial(r,o);var u=n.index,l=1;if(!0===r.wireframe){if(void 0===(u=be.getWireframeAttribute(n)))return;l=2}var c=n.drawRange,f=n.attributes.position,d=c.start*l,p=(c.start+c.count)*l;null!==a&&(d=Math.max(d,a.start*l),p=Math.min(p,(a.start+a.count)*l)),null!==u?(d=Math.max(d,0),p=Math.min(p,u.count)):void 0!==f&&null!==f&&(d=Math.max(d,0),p=Math.min(p,f.count));var h=p-d;if(!(h<0||h===1/0)){var v;Ie.setup(i,r,s,n,u);var m=Pe;if(null!==u&&(v=ye.get(u),(m=Ae).setIndex(v)),i.isMesh)!0===r.wireframe?(fe.setLineWidth(r.wireframeLinewidth*ue()),m.setMode(Oe.LINES)):m.setMode(Oe.TRIANGLES);else if(i.isLine){var g=r.linewidth;void 0===g&&(g=1),fe.setLineWidth(g*ue()),i.isLineSegments?m.setMode(Oe.LINES):i.isLineLoop?m.setMode(Oe.LINE_LOOP):m.setMode(Oe.LINE_STRIP)}else i.isPoints?m.setMode(Oe.POINTS):i.isSprite&&m.setMode(Oe.TRIANGLES);if(i.isInstancedMesh)m.renderInstances(d,h,i.count);else if(n.isInstancedBufferGeometry){var y=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,b=Math.min(n.instanceCount,y);m.renderInstances(d,h,b)}else m.render(d,h)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===I&&!1===e.forceSinglePass?(e.side=D,e.needsUpdate=!0,vt(e,t,n),e.side=A,e.needsUpdate=!0,vt(e,t,n),e.side=I):vt(e,t,n)}(T=ke.get(e)).init(),R.push(T),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(T.pushLight(e),e.castShadow&&T.pushShadow(e))})),T.setupLights(O._useLegacyLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),R.pop(),T=null};var rt=null;function ot(e){rt&&rt(e)}function st(){lt.stop()}function ut(){lt.start()}var lt=new yo;function ct(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)T.pushLight(e),e.castShadow&&T.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||ee.intersectsSprite(e)){r&&oe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ie);var i=we.update(e),a=e.material;a.visible&&M.push(e,i,a,n,oe.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||ee.intersectsObject(e))){var o=we.update(e),s=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),oe.copy(e.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),oe.copy(o.boundingSphere.center)),oe.applyMatrix4(e.matrixWorld).applyMatrix4(ie)),Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var f=u[l],d=s[f.materialIndex];d&&d.visible&&M.push(e,o,d,n,oe.z,f)}else s.visible&&M.push(e,o,s,n,oe.z,null)}for(var p=e.children,h=0,v=p.length;h<v;h++)ct(p[h],t,n,r)}}function ft(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;T.setupLightsView(n),!0===te&&Ee.setGlobalState(O.clippingPlanes,n),a.length>0&&dt(i,a,t,n),r&&fe.viewport(U.copy(r)),i.length>0&&pt(i,t,n),a.length>0&&pt(a,t,n),o.length>0&&pt(o,t,n),fe.buffers.depth.setTest(!0),fe.buffers.depth.setMask(!0),fe.buffers.color.setMask(!0),fe.setPolygonOffset(!1)}function dt(e,t,n,r){var i=ce.isWebGL2;null===re&&(re=new Dr(1,1,{generateMipmaps:!0,type:le.has("EXT_color_buffer_half_float")?We:Fe,minFilter:Ne,samples:i?4:0})),O.getDrawingBufferSize(ae),i?re.setSize(ae.x,ae.y):re.setSize(nr(ae.x),nr(ae.y));var a=O.getRenderTarget();O.setRenderTarget(re),O.getClearColor(H),(W=O.getClearAlpha())<1&&O.setClearColor(16777215,.5),O.clear();var o=O.toneMapping;O.toneMapping=pe,pt(e,n,r),ve.updateMultisampleRenderTarget(re),ve.updateRenderTargetMipmap(re);for(var s=!1,u=0,l=t.length;u<l;u++){var c=t[u],f=c.object,d=c.geometry,p=c.material,h=c.group;if(p.side===I&&f.layers.test(r.layers)){var v=p.side;p.side=D,p.needsUpdate=!0,ht(f,n,r,d,p,h),p.side=v,p.needsUpdate=!0,s=!0}}!0===s&&(ve.updateMultisampleRenderTarget(re),ve.updateRenderTargetMipmap(re)),O.setRenderTarget(a),O.setClearColor(H,W),O.toneMapping=o}function pt(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&ht(s,t,n,u,l,c)}}function ht(e,t,n,r,i,a){e.onBeforeRender(O,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(O,t,n,r,e,a),!0===i.transparent&&i.side===I&&!1===i.forceSinglePass?(i.side=D,i.needsUpdate=!0,O.renderBufferDirect(n,t,r,i,e,a),i.side=A,i.needsUpdate=!0,O.renderBufferDirect(n,t,r,i,e,a),i.side=I):O.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(O,t,n,r,i,a)}function vt(e,t,n){!0!==t.isScene&&(t=se);var r=he.get(e),i=T.state.lights,a=T.state.shadowsArray,o=i.state.version,s=xe.getParameters(e,i.state,a,t,n),u=xe.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ge:me).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Je),l=new Map,r.programs=l);var c=l.get(u);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return mt(e,s),c}else s.uniforms=xe.getUniforms(e),e.onBuild(n,s,O),e.onBeforeCompile(s,O),c=xe.acquireProgram(s,u),l.set(u,c),r.uniforms=s.uniforms;var f=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=Ee.uniform),mt(e,s),r.needsLights=bt(e),r.lightsStateVersion=o,r.needsLights&&(f.ambientLightColor.value=i.state.ambient,f.lightProbe.value=i.state.probe,f.directionalLights.value=i.state.directional,f.directionalLightShadows.value=i.state.directionalShadow,f.spotLights.value=i.state.spot,f.spotLightShadows.value=i.state.spotShadow,f.rectAreaLights.value=i.state.rectArea,f.ltc_1.value=i.state.rectAreaLTC1,f.ltc_2.value=i.state.rectAreaLTC2,f.pointLights.value=i.state.point,f.pointLightShadows.value=i.state.pointShadow,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotLightMatrix.value=i.state.spotLightMatrix,f.spotLightMap.value=i.state.spotLightMap,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix);var d=c.getUniforms(),p=ru.seqWithValue(d.seq,f);return r.currentProgram=c,r.uniformsList=p,c}function mt(e,t){var n=he.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function gt(e,t,n,r,i){!0!==t.isScene&&(t=se),ve.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===F?O.outputColorSpace:!0===F.isXRRenderTarget?F.texture.colorSpace:an,u=(r.isMeshStandardMaterial?ge:me).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),f=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,h=pe;r.toneMapped&&(null!==F&&!0!==F.isXRRenderTarget||(h=O.toneMapping));var v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==v?v.length:0,g=he.get(r),y=T.state.lights;if(!0===te&&(!0===ne||e!==B)){var b=e===B&&r.id===j;Ee.setState(r,e,b)}var w=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==y.state.version||g.outputColorSpace!==s||i.isInstancedMesh&&!1===g.instancing?w=!0:i.isInstancedMesh||!0!==g.instancing?i.isSkinnedMesh&&!1===g.skinning?w=!0:i.isSkinnedMesh||!0!==g.skinning?i.isInstancedMesh&&!0===g.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===g.instancingColor&&null!==i.instanceColor||g.envMap!==u||!0===r.fog&&g.fog!==a?w=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===Ee.numPlanes&&g.numIntersection===Ee.numIntersection?(g.vertexAlphas!==l||g.vertexTangents!==c||g.morphTargets!==f||g.morphNormals!==d||g.morphColors!==p||g.toneMapping!==h||!0===ce.isWebGL2&&g.morphTargetsCount!==m)&&(w=!0):w=!0:w=!0:w=!0:(w=!0,g.__version=r.version);var x=g.currentProgram;!0===w&&(x=vt(r,t,i));var _=!1,S=!1,k=!1,E=x.getUniforms(),C=g.uniforms;if(fe.useProgram(x.program)&&(_=!0,S=!0,k=!0),r.id!==j&&(j=r.id,S=!0),_||B!==e){if(E.setValue(Oe,"projectionMatrix",e.projectionMatrix),ce.logarithmicDepthBuffer&&E.setValue(Oe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),B!==e&&(B=e,S=!0,k=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var M=E.map.cameraPosition;void 0!==M&&M.setValue(Oe,oe.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&E.setValue(Oe,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&E.setValue(Oe,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){E.setOptional(Oe,i,"bindMatrix"),E.setOptional(Oe,i,"bindMatrixInverse");var P=i.skeleton;P&&(ce.floatVertexTextures?(null===P.boneTexture&&P.computeBoneTexture(),E.setValue(Oe,"boneTexture",P.boneTexture,ve),E.setValue(Oe,"boneTextureSize",P.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var A=n.morphAttributes;if((void 0!==A.position||void 0!==A.normal||void 0!==A.color&&!0===ce.isWebGL2)&&Te.update(i,n,x),(S||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,E.setValue(Oe,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(C.envMap.value=u,C.flipEnvMap.value=u.isCubeTexture&&!1===u.isRenderTargetTexture?-1:1),S&&(E.setValue(Oe,"toneMappingExposure",O.toneMappingExposure),g.needsLights&&yt(C,k),a&&!0===r.fog&&_e.refreshFogUniforms(C,a),_e.refreshMaterialUniforms(C,r,X,q,re),ru.upload(Oe,g.uniformsList,C,ve)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(ru.upload(Oe,g.uniformsList,C,ve),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&E.setValue(Oe,"center",i.center),E.setValue(Oe,"modelViewMatrix",i.modelViewMatrix),E.setValue(Oe,"normalMatrix",i.normalMatrix),E.setValue(Oe,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var D=r.uniformsGroups,I=0,R=D.length;I<R;I++)if(ce.isWebGL2){var L=D[I];Re.update(L,x),Re.bind(L,x)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return x}function yt(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function bt(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}lt.setAnimationLoop(ot),"undefined"!==typeof self&&lt.setContext(self),this.setAnimationLoop=function(e){rt=e,Ze.setAnimationLoop(e),null===e?lt.stop():lt.start()},Ze.addEventListener("sessionstart",st),Ze.addEventListener("sessionend",ut),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==L){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ze.enabled&&!0===Ze.isPresenting&&(!0===Ze.cameraAutoUpdate&&Ze.updateCamera(t),t=Ze.getCamera()),!0===e.isScene&&e.onBeforeRender(O,e,t,F),(T=ke.get(e,R.length)).init(),R.push(T),ie.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ee.setFromProjectionMatrix(ie),ne=this.localClippingEnabled,te=Ee.init(this.clippingPlanes,ne),(M=Se.get(e,P.length)).init(),P.push(M),ct(e,t,0,O.sortObjects),M.finish(),!0===O.sortObjects&&M.sort(K,Y),this.info.render.frame++,!0===te&&Ee.beginShadows();var n=T.state.shadowsArray;if(Ce.render(n,e,t),!0===te&&Ee.endShadows(),!0===this.info.autoReset&&this.info.reset(),Me.render(M,e),T.setupLights(O._useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];ft(M,e,o,o.viewport)}else ft(M,e,t);null!==F&&(ve.updateMultisampleRenderTarget(F),ve.updateRenderTargetMipmap(F)),!0===e.isScene&&e.onAfterRender(O,e,t),Ie.resetDefaultState(),j=-1,B=null,R.pop(),T=R.length>0?R[R.length-1]:null,P.pop(),M=P.length>0?P[P.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return z},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(e,t,n){he.get(e.texture).__webglTexture=t,he.get(e.depthTexture).__webglTexture=n;var r=he.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===le.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=he.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;F=e,N=t,z=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=he.get(e);void 0!==s.__useDefaultFramebuffer?(fe.bindFramebuffer(Oe.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?ve.setupRenderTarget(e):s.__hasExternalTextures&&ve.rebindTextures(e,he.get(e.texture).__webglTexture,he.get(e.depthTexture).__webglTexture);var u=e.texture;(u.isData3DTexture||u.isDataArrayTexture||u.isCompressedArrayTexture)&&(o=!0);var l=he.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(l[t])?l[t][n]:l[t],a=!0):i=ce.isWebGL2&&e.samples>0&&!1===ve.useMultisampledRTT(e)?he.get(e).__webglMultisampledFramebuffer:Array.isArray(l)?l[n]:l,U.copy(e.viewport),Z.copy(e.scissor),V=e.scissorTest}else U.copy(Q).multiplyScalar(X).floor(),Z.copy($).multiplyScalar(X).floor(),V=J;var c=fe.bindFramebuffer(Oe.FRAMEBUFFER,i);if(c&&ce.drawBuffers&&r&&fe.drawBuffers(e,i),fe.viewport(U),fe.scissor(Z),fe.setScissorTest(V),a){var f=he.get(e.texture);Oe.framebufferTexture2D(Oe.FRAMEBUFFER,Oe.COLOR_ATTACHMENT0,Oe.TEXTURE_CUBE_MAP_POSITIVE_X+t,f.__webglTexture,n)}else if(o){var d=he.get(e.texture),p=t||0;Oe.framebufferTextureLayer(Oe.FRAMEBUFFER,Oe.COLOR_ATTACHMENT0,d.__webglTexture,n||0,p)}j=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=he.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){fe.bindFramebuffer(Oe.FRAMEBUFFER,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==Ye&&De.convert(l)!==Oe.getParameter(Oe.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var f=c===We&&(le.has("EXT_color_buffer_half_float")||ce.isWebGL2&&le.has("EXT_color_buffer_float"));if(c!==Fe&&De.convert(c)!==Oe.getParameter(Oe.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==He||!(ce.isWebGL2||le.has("OES_texture_float")||le.has("WEBGL_color_buffer_float")))&&!f)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Oe.readPixels(t,n,r,i,De.convert(l),De.convert(c),a)}finally{var d=null!==F?he.get(F).__webglFramebuffer:null;fe.bindFramebuffer(Oe.FRAMEBUFFER,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ve.setTexture2D(t,0),Oe.copyTexSubImage2D(Oe.TEXTURE_2D,n,0,0,e.x,e.y,i,a),fe.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=De.convert(n.format),s=De.convert(n.type);ve.setTexture2D(n,0),Oe.pixelStorei(Oe.UNPACK_FLIP_Y_WEBGL,n.flipY),Oe.pixelStorei(Oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Oe.pixelStorei(Oe.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Oe.texSubImage2D(Oe.TEXTURE_2D,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?Oe.compressedTexSubImage2D(Oe.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):Oe.texSubImage2D(Oe.TEXTURE_2D,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&Oe.generateMipmap(Oe.TEXTURE_2D),fe.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(O.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=De.convert(r.format),c=De.convert(r.type);if(r.isData3DTexture)ve.setTexture3D(r,0),a=Oe.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ve.setTexture2DArray(r,0),a=Oe.TEXTURE_2D_ARRAY}Oe.pixelStorei(Oe.UNPACK_FLIP_Y_WEBGL,r.flipY),Oe.pixelStorei(Oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Oe.pixelStorei(Oe.UNPACK_ALIGNMENT,r.unpackAlignment);var f=Oe.getParameter(Oe.UNPACK_ROW_LENGTH),d=Oe.getParameter(Oe.UNPACK_IMAGE_HEIGHT),p=Oe.getParameter(Oe.UNPACK_SKIP_PIXELS),h=Oe.getParameter(Oe.UNPACK_SKIP_ROWS),v=Oe.getParameter(Oe.UNPACK_SKIP_IMAGES),m=n.isCompressedTexture?n.mipmaps[0]:n.image;Oe.pixelStorei(Oe.UNPACK_ROW_LENGTH,m.width),Oe.pixelStorei(Oe.UNPACK_IMAGE_HEIGHT,m.height),Oe.pixelStorei(Oe.UNPACK_SKIP_PIXELS,e.min.x),Oe.pixelStorei(Oe.UNPACK_SKIP_ROWS,e.min.y),Oe.pixelStorei(Oe.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?Oe.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,m.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Oe.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,m.data)):Oe.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,m),Oe.pixelStorei(Oe.UNPACK_ROW_LENGTH,f),Oe.pixelStorei(Oe.UNPACK_IMAGE_HEIGHT,d),Oe.pixelStorei(Oe.UNPACK_SKIP_PIXELS,p),Oe.pixelStorei(Oe.UNPACK_SKIP_ROWS,h),Oe.pixelStorei(Oe.UNPACK_SKIP_IMAGES,v),0===i&&r.generateMipmaps&&Oe.generateMipmap(a),fe.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ve.setTextureCube(e,0):e.isData3DTexture?ve.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ve.setTexture2DArray(e,0):ve.setTexture2D(e,0),fe.unbindTexture()},this.resetState=function(){N=0,z=0,F=null,fe.reset(),Ie.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return(0,y.Z)(e,[{key:"coordinateSystem",get:function(){return Vn}},{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===rn?Qt:Yt},set:function(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Qt?rn:an}},{key:"useLegacyLights",get:function(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}]),e}(),$u=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,g.Z)(this,n),t.apply(this,arguments)}return(0,y.Z)(n)}(Qu);$u.prototype.isWebGL1Renderer=!0;var Ju,el=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;(0,g.Z)(this,e),this.isFogExp2=!0,this.name="",this.color=new ia(t),this.density=n}return(0,y.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),tl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,g.Z)(this,e),this.isFog=!0,this.name="",this.color=new ia(t),this.near=n,this.far=r}return(0,y.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),nl=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,d.Z)(e)})),e}return(0,y.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}]),n}(ji),rl=function(){function e(t,n){(0,g.Z)(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Dn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Yn()}return(0,y.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Yn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Yn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),il=new Fr,al=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,g.Z)(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return(0,y.Z)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)il.fromBufferAttribute(this,t),il.applyMatrix4(e),this.setXYZ(t,il.x,il.y,il.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)il.fromBufferAttribute(this,t),il.applyNormalMatrix(e),this.setXYZ(t,il.x,il.y,il.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)il.fromBufferAttribute(this,t),il.transformDirection(e),this.setXYZ(t,il.x,il.y,il.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=ir(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=rr(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=rr(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=rr(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=rr(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array),r=ir(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ir(t,this.array),n=ir(n,this.array),r=ir(r,this.array),i=ir(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new ha(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),ol=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new ia(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Ji),sl=new Fr,ul=new Fr,ll=new Fr,cl=new or,fl=new or,dl=new hi,pl=new Fr,hl=new Fr,vl=new Fr,ml=new or,gl=new or,yl=new or,bl=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;if((0,g.Z)(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===Ju){Ju=new Ia;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new rl(i,5);Ju.setIndex([0,1,2,0,2,3]),Ju.setAttribute("position",new al(a,3,0,!1)),Ju.setAttribute("uv",new al(a,2,3,!1))}return r.geometry=Ju,r.material=void 0!==e?e:new ol,r.center=new or(.5,.5),r}return(0,y.Z)(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ul.setFromMatrixScale(this.matrixWorld),dl.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ll.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ul.multiplyScalar(-ll.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;wl(pl.set(-.5,-.5,0),ll,a,ul,n,r),wl(hl.set(.5,-.5,0),ll,a,ul,n,r),wl(vl.set(.5,.5,0),ll,a,ul,n,r),ml.set(0,0),gl.set(1,0),yl.set(1,1);var o=e.ray.intersectTriangle(pl,hl,vl,!1,sl);if(null!==o||(wl(hl.set(-.5,.5,0),ll,a,ul,n,r),gl.set(0,1),null!==(o=e.ray.intersectTriangle(pl,vl,hl,!1,sl)))){var s=e.ray.origin.distanceTo(sl);s<e.near||s>e.far||t.push({distance:s,point:sl.clone(),uv:Qi.getInterpolation(sl,pl,hl,vl,ml,gl,yl,new or),face:null,object:this})}}},{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(ji);function wl(e,t,n,r,i,a){cl.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(fl.x=a*cl.x-i*cl.y,fl.y=i*cl.x+a*cl.y):fl.copy(cl),e.copy(t),e.x+=fl.x,e.y+=fl.y,e.applyMatrix4(dl)}var xl=new Fr,_l=new Fr,Sl=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties((0,d.Z)(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return(0,y.Z)(n,[{key:"copy",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);var r,i=this.levels;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r;n++){var i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){xl.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(xl);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){xl.setFromMatrixPosition(e.matrixWorld),_l.setFromMatrixPosition(this.matrixWorld);var n,r,i=xl.distanceTo(_l)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r;n++){var a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),!(i>=a))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}]),n}(ji),kl=new Fr,El=new Pr,Cl=new Pr,Ml=new Fr,Tl=new hi,Pl=new Fr,Al=new ai,Dl=new hi,Il=new pi,Rl=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;return(0,g.Z)(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new hi,i.bindMatrixInverse=new hi,i.boundingBox=null,i.boundingSphere=null,i}return(0,y.Z)(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Ur),this.boundingBox.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)Pl.fromBufferAttribute(t,n),this.applyBoneTransform(n,Pl),this.boundingBox.expandByPoint(Pl)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new ai),this.boundingSphere.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)Pl.fromBufferAttribute(t,n),this.applyBoneTransform(n,Pl),this.boundingSphere.expandByPoint(Pl)}},{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"raycast",value:function(e,t){var n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),Al.copy(this.boundingSphere),Al.applyMatrix4(r),!1!==e.ray.intersectsSphere(Al)&&(Dl.copy(r).invert(),Il.copy(e.ray).applyMatrix4(Dl),null!==this.boundingBox&&!1===Il.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,Il)))}},{key:"getVertexPosition",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"getVertexPosition",this).call(this,e,t),this.applyBoneTransform(e,t),t}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Pr,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;El.fromBufferAttribute(r.attributes.skinIndex,e),Cl.fromBufferAttribute(r.attributes.skinWeight,e),kl.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=Cl.getComponent(i);if(0!==a){var o=El.getComponent(i);Tl.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(Ml.copy(kl).applyMatrix4(Tl),a)}}return t.applyMatrix4(this.bindMatrixInverse)}},{key:"boneTransform",value:function(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}]),n}(Ya),Ol=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return(0,y.Z)(n)}(ji),Ll=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Te,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Te,p=arguments.length>10?arguments[10]:void 0,h=arguments.length>11?arguments[11]:void 0;return(0,g.Z)(this,n),(e=t.call(this,null,u,l,c,f,d,o,s,p,h)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,y.Z)(n)}(Tr),Nl=new hi,zl=new hi,Fl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,g.Z)(this,e),this.uuid=Yn(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}return(0,y.Z)(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new hi)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new hi;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:zl;Nl.multiplyMatrices(o,t[i]),Nl.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=tr(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new Ll(t,e,e,Ye,He);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new Ol),this.bones.push(a),this.boneInverses.push((new hi).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),jl=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,g.Z)(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(ha),Bl=new hi,Ul=new hi,Zl=[],Vl=new Ur,Hl=new hi,Wl=new Ya,Gl=new ai,ql=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var a;(0,g.Z)(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new jl(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.boundingBox=null,a.boundingSphere=null;for(var o=0;o<i;o++)a.setMatrixAt(o,Hl);return a}return(0,y.Z)(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Ur),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,Bl),Vl.copy(e.boundingBox).applyMatrix4(Bl),this.boundingBox.union(Vl)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new ai),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,Bl),Gl.copy(e.boundingSphere).applyMatrix4(Bl),this.boundingSphere.union(Gl)}},{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Wl.geometry=this.geometry,Wl.material=this.material,void 0!==Wl.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Gl.copy(this.boundingSphere),Gl.applyMatrix4(n),!1!==e.ray.intersectsSphere(Gl)))for(var i=0;i<r;i++){this.getMatrixAt(i,Bl),Ul.multiplyMatrices(n,Bl),Wl.matrixWorld=Ul,Wl.raycast(e,Zl);for(var a=0,o=Zl.length;a<o;a++){var s=Zl[a];s.instanceId=i,s.object=this,t.push(s)}Zl.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new jl(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Ya),Xl=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new ia(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(Ji),Kl=new Fr,Yl=new Fr,Ql=new hi,$l=new pi,Jl=new ai,ec=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ia,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xl;return(0,g.Z)(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,y.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Kl.fromBufferAttribute(t,r-1),Yl.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Kl.distanceTo(Yl);e.setAttribute("lineDistance",new Sa(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Jl.copy(n.boundingSphere),Jl.applyMatrix4(r),Jl.radius+=i,!1!==e.ray.intersectsSphere(Jl)){Ql.copy(r).invert(),$l.copy(e.ray).applyMatrix4(Ql);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new Fr,l=new Fr,c=new Fr,f=new Fr,d=this.isLineSegments?2:1,p=n.index,h=n.attributes.position;if(null!==p)for(var v=Math.max(0,a.start),m=Math.min(p.count,a.start+a.count)-1;v<m;v+=d){var g=p.getX(v),y=p.getX(v+1);if(u.fromBufferAttribute(h,g),l.fromBufferAttribute(h,y),!($l.distanceSqToSegment(u,l,f,c)>s)){f.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(f);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var w=Math.max(0,a.start),x=Math.min(h.count,a.start+a.count)-1;w<x;w+=d){if(u.fromBufferAttribute(h,w),l.fromBufferAttribute(h,w+1),!($l.distanceSqToSegment(u,l,f,c)>s)){f.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(f);_<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(ji),tc=new Fr,nc=new Fr,rc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;return(0,g.Z)(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return(0,y.Z)(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)tc.fromBufferAttribute(t,r),nc.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+tc.distanceTo(nc);e.setAttribute("lineDistance",new Sa(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(ec),ic=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;return(0,g.Z)(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return(0,y.Z)(n)}(ec),ac=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new ia(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Ji),oc=new hi,sc=new pi,uc=new ai,lc=new Fr,cc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ia,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ac;return(0,g.Z)(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,y.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),uc.copy(n.boundingSphere),uc.applyMatrix4(r),uc.radius+=i,!1!==e.ray.intersectsSphere(uc)){oc.copy(r).invert(),sc.copy(e.ray).applyMatrix4(oc);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=n.index,l=n.attributes.position;if(null!==u)for(var c=Math.max(0,a.start),f=Math.min(u.count,a.start+a.count);c<f;c++){var d=u.getX(c);lc.fromBufferAttribute(l,d),fc(lc,d,s,r,e,t,this)}else for(var p=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);p<h;p++)lc.fromBufferAttribute(l,p),fc(lc,p,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(ji);function fc(e,t,n,r,i,a,o){var s=sc.distanceSqToPoint(e);if(s<n){var u=new Fr;sc.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}var dc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a,o,s,u,l,c){var f;(0,g.Z)(this,n),(f=t.call(this,e,r,i,a,o,s,u,l,c)).isVideoTexture=!0,f.minFilter=void 0!==s?s:Re,f.magFilter=void 0!==o?o:Re,f.generateMipmaps=!1;var p=(0,d.Z)(f);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){p.needsUpdate=!0,e.requestVideoFrameCallback(t)})),f}return(0,y.Z)(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Tr),pc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;return(0,g.Z)(this,n),(i=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,i.magFilter=Te,i.minFilter=Te,i.generateMipmaps=!1,i.needsUpdate=!0,i}return(0,y.Z)(n)}(Tr),hc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a,o,s,u,l,c,f,d,p){var h;return(0,g.Z)(this,n),(h=t.call(this,null,s,u,l,c,f,a,o,d,p)).isCompressedTexture=!0,h.image={width:r,height:i},h.mipmaps=e,h.flipY=!1,h.generateMipmaps=!1,h}return(0,y.Z)(n)}(Tr),vc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a,o,s){var u;return(0,g.Z)(this,n),(u=t.call(this,e,r,i,o,s)).isCompressedArrayTexture=!0,u.image.depth=a,u.wrapR=Ce,u}return(0,y.Z)(n)}(hc),mc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var a;return(0,g.Z)(this,n),(a=t.call(this,void 0,e[0].width,e[0].height,r,i,we)).isCompressedCubeTexture=!0,a.isCubeTexture=!0,a.image=e,a}return(0,y.Z)(n)}(hc),gc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a,o,s,u,l,c){var f;return(0,g.Z)(this,n),(f=t.call(this,e,r,i,a,o,s,u,l,c)).isCanvasTexture=!0,f.needsUpdate=!0,f}return(0,y.Z)(n)}(Tr),yc=function(){function e(){(0,g.Z)(this,e),this.type="Curve",this.arcLengthDivisions=200}return(0,y.Z)(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new or:new Fr);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Fr,r=[],i=[],a=[],o=new Fr,s=new hi,u=0;u<=e;u++){var l=u/e;r[u]=this.getTangentAt(l,new Fr)}i[0]=new Fr,a[0]=new Fr;var c=Number.MAX_VALUE,f=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);f<=c&&(c=f,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),p<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var h=1;h<=e;h++){if(i[h]=i[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(r[h-1],r[h]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(Qn(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(o,v))}a[h].crossVectors(r[h],i[h])}if(!0===t){var m=Math.acos(Qn(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],m*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),bc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,g.Z)(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=l,e.aRotation=c,e}return(0,y.Z)(n,[{key:"getPoint",value:function(e,t){for(var n=t||new or,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=s-this.aX,d=u-this.aY;s=f*l-d*c+this.aX,u=f*c+d*l+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(yc),wc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a,o,s){var u;return(0,g.Z)(this,n),(u=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,u.type="ArcCurve",u}return(0,y.Z)(n)}(bc);function xc(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var _c=new Fr,Sc=new xc,kc=new xc,Ec=new xc,Cc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,g.Z)(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return(0,y.Z)(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr,i=r,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,u=Math.floor(s),l=s-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:0===l&&u===o-1&&(u=o-2,l=1),this.closed||u>0?t=a[(u-1)%o]:(_c.subVectors(a[0],a[1]).add(a[0]),t=_c);var c=a[u%o],f=a[(u+1)%o];if(this.closed||u+2<o?n=a[(u+2)%o]:(_c.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=_c),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(t.distanceToSquared(c),d),h=Math.pow(c.distanceToSquared(f),d),v=Math.pow(f.distanceToSquared(n),d);h<1e-4&&(h=1),p<1e-4&&(p=h),v<1e-4&&(v=h),Sc.initNonuniformCatmullRom(t.x,c.x,f.x,n.x,p,h,v),kc.initNonuniformCatmullRom(t.y,c.y,f.y,n.y,p,h,v),Ec.initNonuniformCatmullRom(t.z,c.z,f.z,n.z,p,h,v)}else"catmullrom"===this.curveType&&(Sc.initCatmullRom(t.x,c.x,f.x,n.x,this.tension),kc.initCatmullRom(t.y,c.y,f.y,n.y,this.tension),Ec.initCatmullRom(t.z,c.z,f.z,n.z,this.tension));return i.set(Sc.calc(l),kc.calc(l),Ec.calc(l)),i}},{key:"copy",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Fr).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(yc);function Mc(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function Tc(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Pc(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var Ac=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new or,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new or,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new or,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new or;return(0,g.Z)(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return(0,y.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new or,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(Pc(e,r.x,i.x,a.x,o.x),Pc(e,r.y,i.y,a.y,o.y)),n}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(yc),Dc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Fr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Fr;return(0,g.Z)(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return(0,y.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(Pc(e,r.x,i.x,a.x,o.x),Pc(e,r.y,i.y,a.y,o.y),Pc(e,r.z,i.z,a.z,o.z)),n}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(yc),Ic=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new or,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new or;return(0,g.Z)(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return(0,y.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new or,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new or;return t.subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(yc),Rc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr;return(0,g.Z)(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return(0,y.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr;return t.subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(yc),Oc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new or,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new or,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new or;return(0,g.Z)(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return(0,y.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new or,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Tc(e,r.x,i.x,a.x),Tc(e,r.y,i.y,a.y)),n}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(yc),Lc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Fr;return(0,g.Z)(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return(0,y.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Tc(e,r.x,i.x,a.x),Tc(e,r.y,i.y,a.y),Tc(e,r.z,i.z,a.z)),n}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(yc),Nc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,g.Z)(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return(0,y.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new or,n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(Mc(o,s.x,u.x,l.x,c.x),Mc(o,s.y,u.y,l.y,c.y)),n}},{key:"copy",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new or).fromArray(i))}return this}}]),n}(yc),zc=Object.freeze({__proto__:null,ArcCurve:wc,CatmullRomCurve3:Cc,CubicBezierCurve:Ac,CubicBezierCurve3:Dc,EllipseCurve:bc,LineCurve:Ic,LineCurve3:Rc,QuadraticBezierCurve:Oc,QuadraticBezierCurve3:Lc,SplineCurve:Nc}),Fc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return(0,y.Z)(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ic(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),u=0===s?0:1-a/s;return o.getPointAt(u,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new zc[i.type]).fromJSON(i))}return this}}]),n}(yc),jc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).type="Path",r.currentPoint=new or,e&&r.setFromPoints(e),r}return(0,y.Z)(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Ic(this.currentPoint.clone(),new or(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new Oc(this.currentPoint.clone(),new or(e,t),new or(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new Ac(this.currentPoint.clone(),new or(e,t),new or(n,r),new or(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Nc(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var u=new bc(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(Fc),Bc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new or(0,-.5),new or(.5,0),new or(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,g.Z)(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=Qn(o,0,2*Math.PI);for(var s=[],u=[],l=[],c=[],f=[],d=1/i,p=new Fr,h=new or,v=new Fr,m=new Fr,y=new Fr,b=0,w=0,x=0;x<=r.length-1;x++)switch(x){case 0:b=r[x+1].x-r[x].x,w=r[x+1].y-r[x].y,v.x=1*w,v.y=-b,v.z=0*w,y.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case r.length-1:c.push(y.x,y.y,y.z);break;default:b=r[x+1].x-r[x].x,w=r[x+1].y-r[x].y,v.x=1*w,v.y=-b,v.z=0*w,m.copy(v),v.x+=y.x,v.y+=y.y,v.z+=y.z,v.normalize(),c.push(v.x,v.y,v.z),y.copy(m)}for(var _=0;_<=i;_++)for(var S=a+_*d*o,k=Math.sin(S),E=Math.cos(S),C=0;C<=r.length-1;C++){p.x=r[C].x*k,p.y=r[C].y,p.z=r[C].x*E,u.push(p.x,p.y,p.z),h.x=_/i,h.y=C/(r.length-1),l.push(h.x,h.y);var M=c[3*C+0]*k,T=c[3*C+1],P=c[3*C+0]*E;f.push(M,T,P)}for(var A=0;A<i;A++)for(var D=0;D<r.length-1;D++){var I=D+A*r.length,R=I,O=I+r.length,L=I+r.length+1,N=I+1;s.push(R,O,N),s.push(L,N,O)}return e.setIndex(s),e.setAttribute("position",new Sa(u,3)),e.setAttribute("uv",new Sa(l,2)),e.setAttribute("normal",new Sa(f,3)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(Ia),Uc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;(0,g.Z)(this,n);var s=new jc;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,length:i,capSegments:a,radialSegments:o},e}return(0,y.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(Bc),Zc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,g.Z)(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],u=[],l=[],c=[],f=new Fr,d=new or;u.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var p=0,h=3;p<=i;p++,h+=3){var v=a+p/i*o;f.x=r*Math.cos(v),f.y=r*Math.sin(v),u.push(f.x,f.y,f.z),l.push(0,0,1),d.x=(u[h]/r+1)/2,d.y=(u[h+1]/r+1)/2,c.push(d.x,d.y)}for(var m=1;m<=i;m++)s.push(m,m+1,0);return e.setIndex(s),e.setAttribute("position",new Sa(u,3)),e.setAttribute("normal",new Sa(l,3)),e.setAttribute("uv",new Sa(c,2)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(Ia),Vc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;(0,g.Z)(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:l,thetaLength:c};var f=(0,d.Z)(e);o=Math.floor(o),s=Math.floor(s);var p=[],h=[],v=[],m=[],y=0,b=[],w=a/2,x=0;function _(){for(var e=new Fr,t=new Fr,n=0,u=(i-r)/a,d=0;d<=s;d++){for(var g=[],_=d/s,S=_*(i-r)+r,k=0;k<=o;k++){var E=k/o,C=E*c+l,M=Math.sin(C),T=Math.cos(C);t.x=S*M,t.y=-_*a+w,t.z=S*T,h.push(t.x,t.y,t.z),e.set(M,u,T).normalize(),v.push(e.x,e.y,e.z),m.push(E,1-_),g.push(y++)}b.push(g)}for(var P=0;P<o;P++)for(var A=0;A<s;A++){var D=b[A][P],I=b[A+1][P],R=b[A+1][P+1],O=b[A][P+1];p.push(D,I,O),p.push(I,R,O),n+=6}f.addGroup(x,n,0),x+=n}function S(e){for(var t=y,n=new or,a=new Fr,s=0,u=!0===e?r:i,d=!0===e?1:-1,g=1;g<=o;g++)h.push(0,w*d,0),v.push(0,d,0),m.push(.5,.5),y++;for(var b=y,_=0;_<=o;_++){var S=_/o*c+l,k=Math.cos(S),E=Math.sin(S);a.x=u*E,a.y=w*d,a.z=u*k,h.push(a.x,a.y,a.z),v.push(0,d,0),n.x=.5*k+.5,n.y=.5*E*d+.5,m.push(n.x,n.y),y++}for(var C=0;C<o;C++){var M=t+C,T=b+C;!0===e?p.push(T,T+1,M):p.push(T+1,T,M),s+=3}f.addGroup(x,s,!0===e?1:2),x+=s}return _(),!1===u&&(r>0&&S(!0),i>0&&S(!1)),e.setIndex(p),e.setAttribute("position",new Sa(h,3)),e.setAttribute("normal",new Sa(v,3)),e.setAttribute("uv",new Sa(m,2)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Ia),Hc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return(0,g.Z)(this,n),(e=t.call(this,0,r,i,a,o,s,u,l)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},e}return(0,y.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Vc),Wc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,g.Z)(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],u=[];function l(e){for(var t=new Fr,n=new Fr,r=new Fr,a=0;a<i.length;a+=3)v(i[a+0],t),v(i[a+1],n),v(i[a+2],r),c(t,n,r,e)}function c(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),u=t.clone().lerp(n,o/i),l=i-o,c=0;c<=l;c++)a[o][c]=0===c&&o===i?s:s.clone().lerp(u,c/l)}for(var f=0;f<i;f++)for(var d=0;d<2*(i-f)-1;d++){var p=Math.floor(d/2);d%2===0?(h(a[f][p+1]),h(a[f+1][p]),h(a[f][p])):(h(a[f][p+1]),h(a[f+1][p+1]),h(a[f+1][p]))}}function f(e){for(var t=new Fr,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function d(){for(var e=new Fr,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=b(e)/2/Math.PI+.5,r=w(e)/Math.PI+.5;u.push(n,1-r)}m(),p()}function p(){for(var e=0;e<u.length;e+=6){var t=u[e+0],n=u[e+2],r=u[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(u[e+0]+=1),n<.2&&(u[e+2]+=1),r<.2&&(u[e+4]+=1))}}function h(e){s.push(e.x,e.y,e.z)}function v(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function m(){for(var e=new Fr,t=new Fr,n=new Fr,r=new Fr,i=new or,a=new or,o=new or,l=0,c=0;l<s.length;l+=9,c+=6){e.set(s[l+0],s[l+1],s[l+2]),t.set(s[l+3],s[l+4],s[l+5]),n.set(s[l+6],s[l+7],s[l+8]),i.set(u[c+0],u[c+1]),a.set(u[c+2],u[c+3]),o.set(u[c+4],u[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=b(r);y(i,c+0,e,f),y(a,c+2,t,f),y(o,c+4,n,f)}}function y(e,t,n,r){r<0&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}function b(e){return Math.atan2(e.z,-e.x)}function w(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return l(o),f(a),d(),e.setAttribute("position",new Sa(s,3)),e.setAttribute("normal",new Sa(s.slice(),3)),e.setAttribute("uv",new Sa(u,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(Ia),Gc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.Z)(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o],u=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,u,r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,y.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Wc),qc=new Fr,Xc=new Fr,Kc=new Fr,Yc=new Qi,Qc=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if((0,g.Z)(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=4,o=Math.pow(10,a),s=Math.cos(Xn*i),u=r.getIndex(),l=r.getAttribute("position"),c=u?u.count:l.count,f=[0,0,0],d=["a","b","c"],p=new Array(3),h={},v=[],m=0;m<c;m+=3){u?(f[0]=u.getX(m),f[1]=u.getX(m+1),f[2]=u.getX(m+2)):(f[0]=m,f[1]=m+1,f[2]=m+2);var y=Yc.a,b=Yc.b,w=Yc.c;if(y.fromBufferAttribute(l,f[0]),b.fromBufferAttribute(l,f[1]),w.fromBufferAttribute(l,f[2]),Yc.getNormal(Kc),p[0]="".concat(Math.round(y.x*o),",").concat(Math.round(y.y*o),",").concat(Math.round(y.z*o)),p[1]="".concat(Math.round(b.x*o),",").concat(Math.round(b.y*o),",").concat(Math.round(b.z*o)),p[2]="".concat(Math.round(w.x*o),",").concat(Math.round(w.y*o),",").concat(Math.round(w.z*o)),p[0]!==p[1]&&p[1]!==p[2]&&p[2]!==p[0])for(var x=0;x<3;x++){var _=(x+1)%3,S=p[x],k=p[_],E=Yc[d[x]],C=Yc[d[_]],M="".concat(S,"_").concat(k),T="".concat(k,"_").concat(S);T in h&&h[T]?(Kc.dot(h[T].normal)<=s&&(v.push(E.x,E.y,E.z),v.push(C.x,C.y,C.z)),h[T]=null):M in h||(h[M]={index0:f[x],index1:f[_],normal:Kc.clone()})}}for(var P in h)if(h[P]){var A=h[P],D=A.index0,I=A.index1;qc.fromBufferAttribute(l,D),Xc.fromBufferAttribute(l,I),v.push(qc.x,qc.y,qc.z),v.push(Xc.x,Xc.y,Xc.z)}e.setAttribute("position",new Sa(v,3))}return e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(Ia),$c=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this,e)).uuid=Yn(),r.type="Shape",r.holes=[],r}return(0,y.Z)(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new jc).fromJSON(i))}return this}}]),n}(jc),Jc=function(e,t){var n,r,i,a,o,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,f=c?t[0]*l:e.length,d=ef(e,0,f,l,!0),p=[];if(!d||d.next===d.prev)return p;if(c&&(d=uf(e,t,d,l)),e.length>80*l){n=i=e[0],r=a=e[1];for(var h=l;h<f;h+=l)(o=e[h])<n&&(n=o),(s=e[h+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);u=0!==(u=Math.max(i-n,a-r))?32767/u:0}return nf(d,p,l,n,r,u,0),p};function ef(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Sf(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Sf(a,e[a],e[a+1],o);return o&&gf(o,o.next)&&(kf(o),o=o.next),o}function tf(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!gf(r,r.next)&&0!==mf(r.prev,r,r.next))r=r.next;else{if(kf(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function nf(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=df(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?af(e,r,i,a):rf(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),kf(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?nf(e=of(tf(e),t,n),t,n,r,i,a,2):2===o&&sf(e,t,n,r,i,a):nf(tf(e),t,n,r,i,a,1);break}}}function rf(e){var t=e.prev,n=e,r=e.next;if(mf(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,u=n.y,l=r.y,c=i<a?i<o?i:o:a<o?a:o,f=s<u?s<l?s:l:u<l?u:l,d=i>a?i>o?i:o:a>o?a:o,p=s>u?s>l?s:l:u>l?u:l,h=r.next;h!==t;){if(h.x>=c&&h.x<=d&&h.y>=f&&h.y<=p&&hf(i,s,a,u,o,l,h.x,h.y)&&mf(h.prev,h,h.next)>=0)return!1;h=h.next}return!0}function af(e,t,n,r){var i=e.prev,a=e,o=e.next;if(mf(i,a,o)>=0)return!1;for(var s=i.x,u=a.x,l=o.x,c=i.y,f=a.y,d=o.y,p=s<u?s<l?s:l:u<l?u:l,h=c<f?c<d?c:d:f<d?f:d,v=s>u?s>l?s:l:u>l?u:l,m=c>f?c>d?c:d:f>d?f:d,g=df(p,h,t,n,r),y=df(v,m,t,n,r),b=e.prevZ,w=e.nextZ;b&&b.z>=g&&w&&w.z<=y;){if(b.x>=p&&b.x<=v&&b.y>=h&&b.y<=m&&b!==i&&b!==o&&hf(s,c,u,f,l,d,b.x,b.y)&&mf(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,w.x>=p&&w.x<=v&&w.y>=h&&w.y<=m&&w!==i&&w!==o&&hf(s,c,u,f,l,d,w.x,w.y)&&mf(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;b&&b.z>=g;){if(b.x>=p&&b.x<=v&&b.y>=h&&b.y<=m&&b!==i&&b!==o&&hf(s,c,u,f,l,d,b.x,b.y)&&mf(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=y;){if(w.x>=p&&w.x<=v&&w.y>=h&&w.y<=m&&w!==i&&w!==o&&hf(s,c,u,f,l,d,w.x,w.y)&&mf(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function of(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!gf(i,a)&&yf(i,r,r.next,a)&&xf(i,a)&&xf(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),kf(r),kf(r.next),r=e=a),r=r.next}while(r!==e);return tf(r)}function sf(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&vf(o,s)){var u=_f(o,s);return o=tf(o,o.next),u=tf(u,u.next),nf(o,t,n,r,i,a,0),void nf(u,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function uf(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=ef(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(pf(o));for(s.sort(lf),i=0;i<s.length;i++)n=cf(s[i],n);return n}function lf(e,t){return e.x-t.x}function cf(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,f=n.y,d=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&hf(o<f?a:i,o,c,f,o<f?i:a,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(a-r.x),xf(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&ff(n,r)))&&(n=r,d=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var r=_f(n,e);return tf(r,r.next),tf(n,n.next)}function ff(e,t){return mf(e.prev,e,t.prev)<0&&mf(t.next,e,e.next)<0}function df(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function pf(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function hf(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function vf(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&yf(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(xf(e,t)&&xf(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(mf(e.prev,e,t.prev)||mf(e,t.prev,t))||gf(e,t)&&mf(e.prev,e,e.next)>0&&mf(t.prev,t,t.next)>0)}function mf(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function gf(e,t){return e.x===t.x&&e.y===t.y}function yf(e,t,n,r){var i=wf(mf(e,t,n)),a=wf(mf(e,t,r)),o=wf(mf(n,r,e)),s=wf(mf(n,r,t));return i!==a&&o!==s||(!(0!==i||!bf(e,n,t))||(!(0!==a||!bf(e,r,t))||(!(0!==o||!bf(n,e,r))||!(0!==s||!bf(n,t,r)))))}function bf(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function wf(e){return e>0?1:e<0?-1:0}function xf(e,t){return mf(e.prev,e,e.next)<0?mf(e,t,e.next)>=0&&mf(e,e.prev,t)>=0:mf(e,t,e.prev)<0||mf(e,e.next,t)<0}function _f(e,t){var n=new Ef(e.i,e.x,e.y),r=new Ef(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Sf(e,t,n,r){var i=new Ef(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function kf(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ef(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Cf=function(){function e(){(0,g.Z)(this,e)}return(0,y.Z)(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];Mf(e),Tf(n,e);var a=e.length;t.forEach(Mf);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Tf(n,t[o]);for(var s=Jc(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}]),e}();function Mf(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Tf(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Pf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $c([new or(.5,.5),new or(-.5,.5),new or(-.5,-.5),new or(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,g.Z)(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=(0,d.Z)(e),o=[],s=[],u=0,l=r.length;u<l;u++){var c=r[u];f(c)}function f(e){var t,n,r,u,l,c=[],f=void 0!==i.curveSegments?i.curveSegments:12,d=void 0!==i.steps?i.steps:1,p=void 0!==i.depth?i.depth:1,h=void 0===i.bevelEnabled||i.bevelEnabled,v=void 0!==i.bevelThickness?i.bevelThickness:.2,m=void 0!==i.bevelSize?i.bevelSize:v-.1,g=void 0!==i.bevelOffset?i.bevelOffset:0,y=void 0!==i.bevelSegments?i.bevelSegments:3,b=i.extrudePath,w=void 0!==i.UVGenerator?i.UVGenerator:Af,x=!1;b&&(t=b.getSpacedPoints(d),x=!0,h=!1,n=b.computeFrenetFrames(d,!1),r=new Fr,u=new Fr,l=new Fr),h||(y=0,v=0,m=0,g=0);var _=e.extractPoints(f),S=_.shape,k=_.holes;if(!Cf.isClockWise(S)){S=S.reverse();for(var E=0,C=k.length;E<C;E++){var M=k[E];Cf.isClockWise(M)&&(k[E]=M.reverse())}}for(var T=Cf.triangulateShape(S,k),P=S,A=0,D=k.length;A<D;A++){var I=k[A];S=S.concat(I)}function R(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}var O=S.length,L=T.length;function N(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,f=o*l-s*u;if(Math.abs(f)>Number.EPSILON){var d=Math.sqrt(c),p=Math.sqrt(u*u+l*l),h=t.x-s/d,v=t.y+o/d,m=((n.x-l/p-h)*l-(n.y+u/p-v)*u)/(o*l-s*u),g=(r=h+o*m-e.x)*r+(i=v+s*m-e.y)*i;if(g<=2)return new or(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new or(r/a,i/a)}for(var z=[],F=0,j=P.length,B=j-1,U=F+1;F<j;F++,B++,U++)B===j&&(B=0),U===j&&(U=0),z[F]=N(P[F],P[B],P[U]);for(var Z,V=[],H=z.concat(),W=0,G=k.length;W<G;W++){var q=k[W];Z=[];for(var X=0,K=q.length,Y=K-1,Q=X+1;X<K;X++,Y++,Q++)Y===K&&(Y=0),Q===K&&(Q=0),Z[X]=N(q[X],q[Y],q[Q]);V.push(Z),H=H.concat(Z)}for(var $=0;$<y;$++){for(var J=$/y,ee=v*Math.cos(J*Math.PI/2),te=m*Math.sin(J*Math.PI/2)+g,ne=0,re=P.length;ne<re;ne++){var ie=R(P[ne],z[ne],te);De(ie.x,ie.y,-ee)}for(var ae=0,oe=k.length;ae<oe;ae++){var se=k[ae];Z=V[ae];for(var ue=0,le=se.length;ue<le;ue++){var ce=R(se[ue],Z[ue],te);De(ce.x,ce.y,-ee)}}}for(var fe=m+g,de=0;de<O;de++){var pe=h?R(S[de],H[de],fe):S[de];x?(u.copy(n.normals[0]).multiplyScalar(pe.x),r.copy(n.binormals[0]).multiplyScalar(pe.y),l.copy(t[0]).add(u).add(r),De(l.x,l.y,l.z)):De(pe.x,pe.y,0)}for(var he=1;he<=d;he++)for(var ve=0;ve<O;ve++){var me=h?R(S[ve],H[ve],fe):S[ve];x?(u.copy(n.normals[he]).multiplyScalar(me.x),r.copy(n.binormals[he]).multiplyScalar(me.y),l.copy(t[he]).add(u).add(r),De(l.x,l.y,l.z)):De(me.x,me.y,p/d*he)}for(var ge=y-1;ge>=0;ge--){for(var ye=ge/y,be=v*Math.cos(ye*Math.PI/2),we=m*Math.sin(ye*Math.PI/2)+g,xe=0,_e=P.length;xe<_e;xe++){var Se=R(P[xe],z[xe],we);De(Se.x,Se.y,p+be)}for(var ke=0,Ee=k.length;ke<Ee;ke++){var Ce=k[ke];Z=V[ke];for(var Me=0,Te=Ce.length;Me<Te;Me++){var Pe=R(Ce[Me],Z[Me],we);x?De(Pe.x,Pe.y+t[d-1].y,t[d-1].x+be):De(Pe.x,Pe.y,p+be)}}}function Ae(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=d+2*y;a<o;a++){var s=O*a,u=O*(a+1);Re(t+r+s,t+i+s,t+i+u,t+r+u)}}}function De(e,t,n){c.push(e),c.push(t),c.push(n)}function Ie(e,t,n){Oe(e),Oe(t),Oe(n);var r=o.length/3,i=w.generateTopUV(a,o,r-3,r-2,r-1);Le(i[0]),Le(i[1]),Le(i[2])}function Re(e,t,n,r){Oe(e),Oe(t),Oe(r),Oe(t),Oe(n),Oe(r);var i=o.length/3,s=w.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Le(s[0]),Le(s[1]),Le(s[3]),Le(s[1]),Le(s[2]),Le(s[3])}function Oe(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function Le(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(h){for(var t=0,n=O*t,r=0;r<L;r++){var i=T[r];Ie(i[2]+n,i[1]+n,i[0]+n)}n=O*(t=d+2*y);for(var s=0;s<L;s++){var u=T[s];Ie(u[0]+n,u[1]+n,u[2]+n)}}else{for(var l=0;l<L;l++){var c=T[l];Ie(c[2],c[1],c[0])}for(var f=0;f<L;f++){var p=T[f];Ie(p[0]+O*d,p[1]+O*d,p[2]+O*d)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Ae(P,t),t+=P.length;for(var n=0,r=k.length;n<r;n++){var i=k[n];Ae(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new Sa(o,3)),e.setAttribute("uv",new Sa(s,2)),e.computeVertexNormals(),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new zc[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(Ia),Af={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new or(a,o),new or(s,u),new or(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],f=t[3*r+2],d=t[3*i],p=t[3*i+1],h=t[3*i+2],v=t[3*a],m=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<Math.abs(o-l)?[new or(o,1-u),new or(l,1-f),new or(d,1-h),new or(v,1-g)]:[new or(s,1-u),new or(c,1-f),new or(p,1-h),new or(m,1-g)]}};var Df=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.Z)(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,o,s,r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,y.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Wc),If=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.Z)(this,n);var a=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,a,o,r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,y.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Wc),Rf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;(0,g.Z)(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:u},a=Math.max(3,a);for(var l=[],c=[],f=[],d=[],p=r,h=(i-r)/(o=Math.max(1,o)),v=new Fr,m=new or,y=0;y<=o;y++){for(var b=0;b<=a;b++){var w=s+b/a*u;v.x=p*Math.cos(w),v.y=p*Math.sin(w),c.push(v.x,v.y,v.z),f.push(0,0,1),m.x=(v.x/i+1)/2,m.y=(v.y/i+1)/2,d.push(m.x,m.y)}p+=h}for(var x=0;x<o;x++)for(var _=x*(a+1),S=0;S<a;S++){var k=S+_,E=k,C=k+a+1,M=k+a+2,T=k+1;l.push(E,C,T),l.push(C,M,T)}return e.setIndex(l),e.setAttribute("position",new Sa(c,3)),e.setAttribute("normal",new Sa(f,3)),e.setAttribute("uv",new Sa(d,2)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(Ia),Of=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $c([new or(0,.5),new or(-.5,-.5),new or(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;(0,g.Z)(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],u=[],l=0,c=0;if(!1===Array.isArray(r))d(r);else for(var f=0;f<r.length;f++)d(r[f]),e.addGroup(l,c,f),l+=c,c=0;function d(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,l=n.holes;!1===Cf.isClockWise(r)&&(r=r.reverse());for(var f=0,d=l.length;f<d;f++){var p=l[f];!0===Cf.isClockWise(p)&&(l[f]=p.reverse())}for(var h=Cf.triangulateShape(r,l),v=0,m=l.length;v<m;v++){var g=l[v];r=r.concat(g)}for(var y=0,b=r.length;y<b;y++){var w=r[y];o.push(w.x,w.y,0),s.push(0,0,1),u.push(w.x,w.y)}for(var x=0,_=h.length;x<_;x++){var S=h[x],k=S[0]+t,E=S[1]+t,C=S[2]+t;a.push(k,E,C),c+=3}}return e.setIndex(a),e.setAttribute("position",new Sa(o,3)),e.setAttribute("normal",new Sa(s,3)),e.setAttribute("uv",new Sa(u,2)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(Ia);var Lf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;(0,g.Z)(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:u,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(u+l,Math.PI),f=0,d=[],p=new Fr,h=new Fr,v=[],m=[],y=[],b=[],w=0;w<=a;w++){var x=[],_=w/a,S=0;0===w&&0===u?S=.5/i:w===a&&c===Math.PI&&(S=-.5/i);for(var k=0;k<=i;k++){var E=k/i;p.x=-r*Math.cos(o+E*s)*Math.sin(u+_*l),p.y=r*Math.cos(u+_*l),p.z=r*Math.sin(o+E*s)*Math.sin(u+_*l),m.push(p.x,p.y,p.z),h.copy(p).normalize(),y.push(h.x,h.y,h.z),b.push(E+S,1-_),x.push(f++)}d.push(x)}for(var C=0;C<a;C++)for(var M=0;M<i;M++){var T=d[C][M+1],P=d[C][M],A=d[C+1][M],D=d[C+1][M+1];(0!==C||u>0)&&v.push(T,P,D),(C!==a-1||c<Math.PI)&&v.push(P,A,D)}return e.setIndex(v),e.setAttribute("position",new Sa(m,3)),e.setAttribute("normal",new Sa(y,3)),e.setAttribute("uv",new Sa(b,2)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(Ia),Nf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.Z)(this,n);var a=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,a,o,r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,y.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Wc),zf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;(0,g.Z)(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var u=[],l=[],c=[],f=[],d=new Fr,p=new Fr,h=new Fr,v=0;v<=a;v++)for(var m=0;m<=o;m++){var y=m/o*s,b=v/a*Math.PI*2;p.x=(r+i*Math.cos(b))*Math.cos(y),p.y=(r+i*Math.cos(b))*Math.sin(y),p.z=i*Math.sin(b),l.push(p.x,p.y,p.z),d.x=r*Math.cos(y),d.y=r*Math.sin(y),h.subVectors(p,d).normalize(),c.push(h.x,h.y,h.z),f.push(m/o),f.push(v/a)}for(var w=1;w<=a;w++)for(var x=1;x<=o;x++){var _=(o+1)*w+x-1,S=(o+1)*(w-1)+x-1,k=(o+1)*(w-1)+x,E=(o+1)*w+x;u.push(_,S,E),u.push(S,k,E)}return e.setIndex(u),e.setAttribute("position",new Sa(l,3)),e.setAttribute("normal",new Sa(c,3)),e.setAttribute("uv",new Sa(f,2)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(Ia),Ff=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;(0,g.Z)(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:u},a=Math.floor(a),o=Math.floor(o);for(var l=[],c=[],f=[],d=[],p=new Fr,h=new Fr,v=new Fr,m=new Fr,y=new Fr,b=new Fr,w=new Fr,x=0;x<=a;++x){var _=x/a*s*Math.PI*2;R(_,s,u,r,v),R(_+.01,s,u,r,m),b.subVectors(m,v),w.addVectors(m,v),y.crossVectors(b,w),w.crossVectors(y,b),y.normalize(),w.normalize();for(var S=0;S<=o;++S){var k=S/o*Math.PI*2,E=-i*Math.cos(k),C=i*Math.sin(k);p.x=v.x+(E*w.x+C*y.x),p.y=v.y+(E*w.y+C*y.y),p.z=v.z+(E*w.z+C*y.z),c.push(p.x,p.y,p.z),h.subVectors(p,v).normalize(),f.push(h.x,h.y,h.z),d.push(x/a),d.push(S/o)}}for(var M=1;M<=a;M++)for(var T=1;T<=o;T++){var P=(o+1)*(M-1)+(T-1),A=(o+1)*M+(T-1),D=(o+1)*M+T,I=(o+1)*(M-1)+T;l.push(P,A,I),l.push(A,D,I)}function R(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(l),e.setAttribute("position",new Sa(c,3)),e.setAttribute("normal",new Sa(f,3)),e.setAttribute("uv",new Sa(d,2)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(Ia),jf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Lc(new Fr(-1,-1,0),new Fr(-1,1,0),new Fr(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,g.Z)(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var u=r.computeFrenetFrames(i,s);e.tangents=u.tangents,e.normals=u.normals,e.binormals=u.binormals;var l=new Fr,c=new Fr,f=new or,d=new Fr,p=[],h=[],v=[],m=[];function y(){for(var e=0;e<i;e++)b(e);b(!1===s?i:0),x(),w()}function b(e){d=r.getPointAt(e/i,d);for(var t=u.normals[e],n=u.binormals[e],s=0;s<=o;s++){var f=s/o*Math.PI*2,v=Math.sin(f),m=-Math.cos(f);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),h.push(c.x,c.y,c.z),l.x=d.x+a*c.x,l.y=d.y+a*c.y,l.z=d.z+a*c.z,p.push(l.x,l.y,l.z)}}function w(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;m.push(n,r,s),m.push(r,a,s)}}function x(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)f.x=e/i,f.y=t/o,v.push(f.x,f.y)}return y(),e.setIndex(m),e.setAttribute("position",new Sa(p,3)),e.setAttribute("normal",new Sa(h,3)),e.setAttribute("uv",new Sa(v,2)),e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new zc[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(Ia),Bf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((0,g.Z)(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new Fr,s=new Fr;if(null!==r.index){var u=r.attributes.position,l=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:l.count,materialIndex:0}]);for(var f=0,d=c.length;f<d;++f)for(var p=c[f],h=p.start,v=p.count,m=h,y=h+v;m<y;m+=3)for(var b=0;b<3;b++){var w=l.getX(m+b),x=l.getX(m+(b+1)%3);o.fromBufferAttribute(u,w),s.fromBufferAttribute(u,x),!0===Uf(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var _=r.attributes.position,S=0,k=_.count/3;S<k;S++)for(var E=0;E<3;E++){var C=3*S+E,M=3*S+(E+1)%3;o.fromBufferAttribute(_,C),s.fromBufferAttribute(_,M),!0===Uf(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new Sa(i,3))}return e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(Ia);function Uf(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Zf=Object.freeze({__proto__:null,BoxGeometry:$a,CapsuleGeometry:Uc,CircleGeometry:Zc,ConeGeometry:Hc,CylinderGeometry:Vc,DodecahedronGeometry:Gc,EdgesGeometry:Qc,ExtrudeGeometry:Pf,IcosahedronGeometry:Df,LatheGeometry:Bc,OctahedronGeometry:If,PlaneGeometry:wo,PolyhedronGeometry:Wc,RingGeometry:Rf,ShapeGeometry:Of,SphereGeometry:Lf,TetrahedronGeometry:Nf,TorusGeometry:zf,TorusKnotGeometry:Ff,TubeGeometry:jf,WireframeGeometry:Bf}),Vf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new ia(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(Ji),Hf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return(0,y.Z)(n)}(ro),Wf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new ia(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new ia(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=en,r.normalScale=new or(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ji),Gf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.anisotropyRotation=0,r.anisotropyMap=null,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new or(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty((0,d.Z)(r),"reflectivity",{get:function(){return Qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new ia(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new ia(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new ia(1,1,1),r.specularColorMap=null,r._anisotropy=0,r._clearcoat=0,r._iridescence=0,r._sheen=0,r._transmission=0,r.setValues(e),r}return(0,y.Z)(n,[{key:"anisotropy",get:function(){return this._anisotropy},set:function(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=(0,o.Z)(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(Wf),qf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new ia(16777215),r.specular=new ia(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new ia(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=en,r.normalScale=new or(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ce,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ji),Xf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new ia(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new ia(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=en,r.normalScale=new or(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Ji),Kf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=en,r.normalScale=new or(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(Ji),Yf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new ia(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new ia(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=en,r.normalScale=new or(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ce,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ji),Qf=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new ia(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=en,r.normalScale=new or(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ji),$f=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(Xl);function Jf(e,t,n){return td(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function ed(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function td(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nd(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function rd(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i}function id(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var ad={arraySlice:Jf,convertArray:ed,isTypedArray:td,getKeyframeOrder:nd,sortedArray:rd,flattenJSON:id,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],f=[],d=0;d<u.times.length;++d){var p=u.times[d]*i;if(!(p<n||p>=r)){c.push(u.times[d]);for(var h=0;h<l;++h)f.push(u.values[d*l+h])}}0!==c.length&&(u.times=ed(c,u.times.constructor),u.values=ed(f,u.values.constructor),o.push(u))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=u/3);var l=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var f=r.times.length-1,d=void 0;if(a<=r.times[0]){var p=s,h=u-s;d=Jf(r.values,p,h)}else if(a>=r.times[f]){var v=f*u+s,m=v+u-s;d=Jf(r.values,v,m)}else{var g=r.createInterpolant(),y=s,b=u-s;g.evaluate(a),d=Jf(g.resultBuffer,y,b)}"quaternion"===i&&(new zr).fromArray(d).normalize().conjugate().toArray(d);for(var w=o.times.length,x=0;x<w;++x){var _=x*c+l;if("quaternion"===i)zr.multiplyQuaternionsFlat(o.values,_,d,0,o.values,_);else for(var S=c-2*l,k=0;k<S;++k)o.values[_+k]-=d[k]}},s=0;s<i;++s)o(s);return e.blendMode=Gt,e}},od=function(){function e(t,n,r,i){(0,g.Z)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,y.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),sd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a){var o;return(0,g.Z)(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:Zt,endingEnd:Zt},o}return(0,y.Z)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Vt:i=e,o=2*t-n;break;case Ht:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Vt:a=e,s=2*n-t;break;case Ht:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,d=this._weightNext,p=(n-t)/(r-t),h=p*p,v=h*p,m=-f*v+2*f*h-f*p,g=(1+f)*v+(-1.5-2*f)*h+(-.5+f)*p+1,y=(-1-d)*v+(1.5+d)*h+.5*p,b=d*v-d*h,w=0;w!==o;++w)i[w]=m*a[l+w]+g*a[u+w]+y*a[s+w]+b*a[c+w];return i}}]),n}(od),ud=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a){return(0,g.Z)(this,n),t.call(this,e,r,i,a)}return(0,y.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,f=0;f!==o;++f)i[f]=a[u+f]*c+a[s+f]*l;return i}}]),n}(od),ld=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a){return(0,g.Z)(this,n),t.call(this,e,r,i,a)}return(0,y.Z)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(od),cd=function(){function e(t,n,r,i){if((0,g.Z)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ed(n,this.TimeBufferType),this.values=ed(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,y.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new ld(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new ud(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new sd(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case jt:t=this.InterpolantFactoryMethodDiscrete;break;case Bt:t=this.InterpolantFactoryMethodLinear;break;case Ut:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jt;case this.InterpolantFactoryMethodLinear:return Bt;case this.InterpolantFactoryMethodSmooth:return Ut}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Jf(n,i,a),this.values=Jf(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&td(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Jf(this.times),t=Jf(this.values),n=this.getValueSize(),r=this.getInterpolation()===Ut,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var l=o*n,c=l-n,f=l+n,d=0;d!==n;++d){var p=t[l+d];if(p!==t[c+d]||p!==t[f+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var h=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[h+m]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=Jf(e,0,a),this.values=Jf(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Jf(this.times,0),t=Jf(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:ed(e.times,Array),values:ed(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();cd.prototype.TimeBufferType=Float32Array,cd.prototype.ValueBufferType=Float32Array,cd.prototype.DefaultInterpolation=Bt;var fd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,g.Z)(this,n),t.apply(this,arguments)}return(0,y.Z)(n)}(cd);fd.prototype.ValueTypeName="bool",fd.prototype.ValueBufferType=Array,fd.prototype.DefaultInterpolation=jt,fd.prototype.InterpolantFactoryMethodLinear=void 0,fd.prototype.InterpolantFactoryMethodSmooth=void 0;var dd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,g.Z)(this,n),t.apply(this,arguments)}return(0,y.Z)(n)}(cd);dd.prototype.ValueTypeName="color";var pd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,g.Z)(this,n),t.apply(this,arguments)}return(0,y.Z)(n)}(cd);pd.prototype.ValueTypeName="number";var hd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i,a){return(0,g.Z)(this,n),t.call(this,e,r,i,a)}return(0,y.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)zr.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),n}(od),vd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,g.Z)(this,n),t.apply(this,arguments)}return(0,y.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new hd(this.times,this.values,this.getValueSize(),e)}}]),n}(cd);vd.prototype.ValueTypeName="quaternion",vd.prototype.DefaultInterpolation=Bt,vd.prototype.InterpolantFactoryMethodSmooth=void 0;var md=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,g.Z)(this,n),t.apply(this,arguments)}return(0,y.Z)(n)}(cd);md.prototype.ValueTypeName="string",md.prototype.ValueBufferType=Array,md.prototype.DefaultInterpolation=jt,md.prototype.InterpolantFactoryMethodLinear=void 0,md.prototype.InterpolantFactoryMethodSmooth=void 0;var gd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,g.Z)(this,n),t.apply(this,arguments)}return(0,y.Z)(n)}(cd);gd.prototype.ValueTypeName="vector";var yd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Wt;(0,g.Z)(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Yn(),this.duration<0&&this.resetDuration()}return(0,y.Z)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(bd(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(cd.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=nd(s);s=rd(s,1,l),u=rd(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new pd(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var f=[];for(var d in r)f.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return f}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];id(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var f={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var p=0;p<c[d].morphTargets.length;p++)f[c[d].morphTargets[p]]=-1;for(var h in f){for(var v=[],m=[],g=0;g!==c[d].morphTargets.length;++g){var y=c[d];v.push(y.time),m.push(y.morphTarget===h?1:0)}r.push(new pd(".morphTargetInfluence["+h+"]",v,m))}s=f.length*a}else{var b=".bones["+t[l].name+"]";n(gd,b+".position",c,"pos",r),n(vd,b+".quaternion",c,"rot",r),n(gd,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function bd(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return pd;case"vector":case"vector2":case"vector3":case"vector4":return gd;case"color":return dd;case"quaternion":return vd;case"bool":case"boolean":return fd;case"string":return md}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];id(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var wd={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},xd=(0,y.Z)((function e(t,n,r){(0,g.Z)(this,e);var i=this,a=!1,o=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),_d=new xd,Sd=function(){function e(t){(0,g.Z)(this,e),this.manager=void 0!==t?t:_d,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,y.Z)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}();Sd.DEFAULT_MATERIAL_NAME="__DEFAULT";var kd,Ed={},Cd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;return(0,g.Z)(this,n),(i=t.call(this,e)).response=r,i}return(0,y.Z)(n)}((0,a.Z)(Error)),Md=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=wd.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===Ed[e]){Ed[e]=[],Ed[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=Ed[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,u=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,u=r.value;if(i)e.close();else{s+=u.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,f=n.length;c<f;c++){var d=n[c];d.onProgress&&d.onProgress(l)}e.enqueue(u),t()}}))}()}});return new Response(u)}throw new Cd('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(u){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){wd.add(e,t);var n=Ed[e];delete Ed[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=Ed[e];if(void 0===n)throw i.manager.itemError(e),t;delete Ed[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else Ed[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(Sd),Td=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new Md(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=yd.parse(e[n]);t.push(r)}return t}}]),n}(Sd),Pd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new hc,s=new Md(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var u=0;function l(l){s.load(e[l],(function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=Re),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,f=e.length;c<f;++c)l(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Re),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(Sd),Ad=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=wd.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=dr("img");function s(){l(),wd.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(Sd),Dd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new uo;i.colorSpace=rn;var a=new Ad(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}]),n}(Sd),Id=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new Ll,o=new Md(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n;try{n=i.parse(e)}catch(o){if(void 0===r)return void console.error(o);r(o)}if(!n)return r();void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Ce,a.wrapT=void 0!==n.wrapT?n.wrapT:Ce,a.magFilter=void 0!==n.magFilter?n.magFilter:Re,a.minFilter=void 0!==n.minFilter?n.minFilter:Re,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace?a.colorSpace=n.colorSpace:void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Ne),1===n.mipmapCount&&(a.minFilter=Re),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)}),n,r),a}}]),n}(Sd),Rd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new Tr,a=new Ad(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(Sd),Od=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,g.Z)(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new ia(e),r.intensity=i,r}return(0,y.Z)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(ji),Ld=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var a;return(0,g.Z)(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(ji.DEFAULT_UP),a.updateMatrix(),a.groundColor=new ia(r),a}return(0,y.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(Od),Nd=new hi,zd=new Fr,Fd=new Fr,jd=function(){function e(t){(0,g.Z)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new or(512,512),this.map=null,this.mapPass=null,this.matrix=new hi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new go,this._frameExtents=new or(1,1),this._viewportCount=1,this._viewports=[new Pr(0,0,1,1)]}return(0,y.Z)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;zd.setFromMatrixPosition(e.matrixWorld),t.position.copy(zd),Fd.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Fd),t.updateMatrixWorld(),Nd.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nd),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Nd)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),Bd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this,new ao(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return(0,y.Z)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*Kn*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),(0,c.Z)((0,f.Z)(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(jd),Ud=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return(0,g.Z)(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(ji.DEFAULT_UP),i.updateMatrix(),i.target=new ji,i.distance=a,i.angle=o,i.penumbra=s,i.decay=u,i.map=null,i.shadow=new Bd,i}return(0,y.Z)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Od),Zd=new hi,Vd=new Fr,Hd=new Fr,Wd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this,new ao(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new or(4,2),e._viewportCount=6,e._viewports=[new Pr(2,1,1,1),new Pr(0,1,1,1),new Pr(3,1,1,1),new Pr(1,1,1,1),new Pr(3,0,1,1),new Pr(1,0,1,1)],e._cubeDirections=[new Fr(1,0,0),new Fr(-1,0,0),new Fr(0,0,1),new Fr(0,0,-1),new Fr(0,1,0),new Fr(0,-1,0)],e._cubeUps=[new Fr(0,1,0),new Fr(0,1,0),new Fr(0,1,0),new Fr(0,1,0),new Fr(0,0,1),new Fr(0,0,-1)],e}return(0,y.Z)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Vd.setFromMatrixPosition(e.matrixWorld),n.position.copy(Vd),Hd.copy(n.position),Hd.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Hd),n.updateMatrixWorld(),r.makeTranslation(-Vd.x,-Vd.y,-Vd.z),Zd.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Zd)}}]),n}(jd),Gd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return(0,g.Z)(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new Wd,i}return(0,y.Z)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(Od),qd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this,new Do(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return(0,y.Z)(n)}(jd),Xd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;return(0,g.Z)(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(ji.DEFAULT_UP),i.updateMatrix(),i.target=new ji,i.shadow=new qd,i}return(0,y.Z)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Od),Kd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;return(0,g.Z)(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return(0,y.Z)(n)}(Od),Yd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,g.Z)(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return(0,y.Z)(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(Od),Qd=function(){function e(){(0,g.Z)(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Fr)}return(0,y.Z)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),$d=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qd,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,g.Z)(this,n),(e=t.call(this,void 0,i)).isLightProbe=!0,e.sh=r,e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(Od),Jd=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this,e)).textures={},r}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new Md(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new ia).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(i.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(i.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(i.alphaHash=e.alphaHash),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=(new ia).setHex(o.value);break;case"v2":i.uniforms[a].value=(new or).fromArray(o.value);break;case"v3":i.uniforms[a].value=(new Fr).fromArray(o.value);break;case"v4":i.uniforms[a].value=(new Pr).fromArray(o.value);break;case"m3":i.uniforms[a].value=(new sr).fromArray(o.value);break;case"m4":i.uniforms[a].value=(new hi).fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(var s in e.extensions)i.extensions[s]=e.extensions[s];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=r(e.map)),void 0!==e.matcap&&(i.matcap=r(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var u=e.normalScale;!1===Array.isArray(u)&&(u=[u,u]),i.normalScale=(new or).fromArray(u)}return void 0!==e.displacementMap&&(i.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new or).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=r(e.thicknessMap)),void 0!==e.anisotropyMap&&(i.anisotropyMap=r(e.anisotropyMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:Vf,SpriteMaterial:ol,RawShaderMaterial:Hf,ShaderMaterial:ro,PointsMaterial:ac,MeshPhysicalMaterial:Gf,MeshStandardMaterial:Wf,MeshPhongMaterial:qf,MeshToonMaterial:Xf,MeshNormalMaterial:Kf,MeshLambertMaterial:Yf,MeshDepthMaterial:Nu,MeshDistanceMaterial:zu,MeshBasicMaterial:oa,MeshMatcapMaterial:Qf,LineDashedMaterial:$f,LineBasicMaterial:Xl,Material:Ji}[e]}}]),n}(Sd),ep=function(){function e(){(0,g.Z)(this,e)}return(0,y.Z)(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),tp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(Ia),np=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new Md(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),o=fr(i.type,a),s=new rl(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new tp:new Ia,a=e.data.index;if(void 0!==a){var o=fr(a.type,a.array);i.setIndex(new ha(o,1))}var s=e.data.attributes;for(var u in s){var l=s[u],c=void 0;if(l.isInterleavedBufferAttribute){var f=r(e.data,l.data);c=new al(f,l.itemSize,l.offset,l.normalized)}else{var d=fr(l.type,l.array);c=new(l.isInstancedBufferAttribute?jl:ha)(d,l.itemSize,l.normalized)}void 0!==l.name&&(c.name=l.name),void 0!==l.usage&&c.setUsage(l.usage),void 0!==l.updateRange&&(c.updateRange.offset=l.updateRange.offset,c.updateRange.count=l.updateRange.count),i.setAttribute(u,c)}var p=e.data.morphAttributes;if(p)for(var h in p){for(var v=p[h],m=[],g=0,y=v.length;g<y;g++){var b=v[g],w=void 0;if(b.isInterleavedBufferAttribute){var x=r(e.data,b.data);w=new al(x,b.itemSize,b.offset,b.normalized)}else{var _=fr(b.type,b.array);w=new ha(_,b.itemSize,b.normalized)}void 0!==b.name&&(w.name=b.name),m.push(w)}i.morphAttributes[h]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var S=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==S)for(var k=0,E=S.length;k!==E;++k){var C=S[k];i.addGroup(C.start,C.count,C.materialIndex)}var M=e.data.boundingSphere;if(void 0!==M){var T=new Fr;void 0!==M.center&&T.fromArray(M.center),i.boundingSphere=new ai(T,M.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(Sd),rp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?ep.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new Md(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)}),n,r)}},{key:"loadAsync",value:function(){var e=(0,s.Z)((0,m.Z)().mark((function e(t,n){var r,i,a,o,s,u;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?ep.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new Md(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0!==(u=s.metadata)&&void 0!==u.type&&"geometry"!==u.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(u)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,i,s,o,n),l=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,l),void 0!==t){var c=!1;for(var f in a)if(a[f].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(u)}return u}},{key:"parseAsync",value:function(){var e=(0,s.Z)((0,m.Z)().mark((function e(t){var n,r,i,a,o,s,u,l;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),u=this.parseObject(t.object,i,s,o,n),l=this.parseSkeletons(t.skeletons,u),this.bindSkeletons(u,l),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new $c).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new Fl).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new np,i=0,a=e.length;i<a;i++){var o=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in Zf?o=Zf[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new Jd;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=yd.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:fr(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new xd(t);(n=new Ad(o)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var l=e[s],c=l.url;if(Array.isArray(c)){for(var f=[],d=0,p=c.length;d<p;d++){var h=a(c[d]);null!==h&&(h instanceof HTMLImageElement?f.push(h):f.push(new Ll(h.data,h.width,h.height)))}i[l.uuid]=new Er(f)}else{var v=a(l.url);i[l.uuid]=new Er(v)}}}return i}},{key:"parseImagesAsync",value:function(){var e=(0,s.Z)((0,m.Z)().mark((function e(t){var n,r,i,a,o,u,l,c,f,d,p,h,v,g,y;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return o=(0,s.Z)((0,m.Z)().mark((function e(t){var r,a;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:fr(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)},a=function(e){return o.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new Ad(this.manager)).setCrossOrigin(this.crossOrigin),u=0,l=t.length;case 8:if(!(u<l)){e.next=33;break}if(c=t[u],f=c.url,!Array.isArray(f)){e.next=26;break}d=[],p=0,h=f.length;case 14:if(!(p<h)){e.next=23;break}return v=f[p],e.next=18,a(v);case 18:null!==(g=e.sent)&&(g instanceof HTMLImageElement?d.push(g):d.push(new Ll(g.data,g.width,g.height)));case 20:p++,e.next=14;break;case 23:r[c.uuid]=new Er(d),e.next=30;break;case 26:return e.next=28,a(c.url);case 28:y=e.sent,r[c.uuid]=new Er(y);case 30:u++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],u=s.data,l=void 0;Array.isArray(u)?(l=new uo,6===u.length&&(l.needsUpdate=!0)):(l=u&&u.data?new Ll:new Tr,u&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,ip)),void 0!==o.channel&&(l.channel=o.channel),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],ap),l.wrapT=n(o.wrap[1],ap)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.colorSpace&&(l.colorSpace=o.colorSpace),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,op)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,op)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(l.compareFunction=o.compareFunction),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,s;function u(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new nl,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new ia(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new tl(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new el(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new ao(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Do(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Kd(e.color,e.intensity);break;case"DirectionalLight":a=new Xd(e.color,e.intensity);break;case"PointLight":a=new Gd(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Yd(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Ud(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Ld(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new $d).fromJSON(e);break;case"SkinnedMesh":o=u(e.geometry),s=l(e.material),a=new Rl(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=u(e.geometry),s=l(e.material),a=new Ya(o,s);break;case"InstancedMesh":o=u(e.geometry),s=l(e.material);var f=e.count,d=e.instanceMatrix,p=e.instanceColor;(a=new ql(o,s,f)).instanceMatrix=new jl(new Float32Array(d.array),16),void 0!==p&&(a.instanceColor=new jl(new Float32Array(p.array),p.itemSize));break;case"LOD":a=new Sl;break;case"Line":a=new ec(u(e.geometry),l(e.material));break;case"LineLoop":a=new ic(u(e.geometry),l(e.material));break;case"LineSegments":a=new rc(u(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new cc(u(e.geometry),l(e.material));break;case"Sprite":a=new bl(l(e.material));break;case"Group":a=new Vu;break;case"Bone":a=new Ol;break;default:a=new ji}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var h=e.children,v=0;v<h.length;v++)a.add(this.parseObject(h[v],t,n,r,i));if(void 0!==e.animations)for(var m=e.animations,g=0;g<m.length;g++){var y=m[g];a.animations.push(i[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var b=e.levels,w=0;w<b.length;w++){var x=b[w],_=a.getObjectByProperty("uuid",x.object);void 0!==_&&a.addLevel(_,x.distance,x.hysteresis)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),n}(Sd),ip={UVMapping:be,CubeReflectionMapping:we,CubeRefractionMapping:xe,EquirectangularReflectionMapping:_e,EquirectangularRefractionMapping:Se,CubeUVReflectionMapping:ke},ap={RepeatWrapping:Ee,ClampToEdgeWrapping:Ce,MirroredRepeatWrapping:Me},op={NearestFilter:Te,NearestMipmapNearestFilter:Pe,NearestMipmapLinearFilter:De,LinearFilter:Re,LinearMipmapNearestFilter:Oe,LinearMipmapLinearFilter:Ne},sp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return(0,y.Z)(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=wd.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){wd.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(Sd),up=function(){function e(){(0,g.Z)(this,e)}return(0,y.Z)(e,null,[{key:"getContext",value:function(){return void 0===kd&&(kd=new(window.AudioContext||window.webkitAudioContext)),kd}},{key:"setContext",value:function(e){kd=e}}]),e}(),lp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,y.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new Md(this.manager);function o(t){r?r(t):console.error(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){try{var n=e.slice(0);up.getContext().decodeAudioData(n,(function(e){t(e)}),o)}catch(r){o(r)}}),n,r)}}]),n}(Sd),cp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,g.Z)(this,n),(i=t.call(this,void 0,a)).isHemisphereLightProbe=!0;var o=(new ia).set(e),s=(new ia).set(r),u=new Fr(o.r,o.g,o.b),l=new Fr(s.r,s.g,s.b),c=Math.sqrt(Math.PI),f=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(u).add(l).multiplyScalar(c),i.sh.coefficients[1].copy(u).sub(l).multiplyScalar(f),i}return(0,y.Z)(n)}($d),fp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,g.Z)(this,n),(r=t.call(this,void 0,i)).isAmbientLightProbe=!0;var a=(new ia).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return(0,y.Z)(n)}($d),dp=new hi,pp=new hi,hp=new hi,vp=function(){function e(){(0,g.Z)(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ao,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ao,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return(0,y.Z)(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,hp.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(Xn*t.fov*.5)/t.zoom;pp.elements[12]=-i,dp.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,hp.elements[0]=2*t.near/(r-n),hp.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(hp),n=-o*t.aspect-a,r=o*t.aspect-a,hp.elements[0]=2*t.near/(r-n),hp.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(hp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(pp),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(dp)}}]),e}(),mp=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,g.Z)(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,y.Z)(e,[{key:"start",value:function(){this.startTime=gp(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=gp();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function gp(){return("undefined"===typeof performance?Date:performance).now()}var yp=new Fr,bp=new zr,wp=new Fr,xp=new Fr,_p=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this)).type="AudioListener",e.context=up.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new mp,e}return(0,y.Z)(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){(0,c.Z)((0,f.Z)(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(yp,bp,wp),xp.set(0,0,-1).applyQuaternion(bp),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(yp.x,i),t.positionY.linearRampToValueAtTime(yp.y,i),t.positionZ.linearRampToValueAtTime(yp.z,i),t.forwardX.linearRampToValueAtTime(xp.x,i),t.forwardY.linearRampToValueAtTime(xp.y,i),t.forwardZ.linearRampToValueAtTime(xp.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(yp.x,yp.y,yp.z),t.setOrientation(xp.x,xp.y,xp.z,r.x,r.y,r.z)}}]),n}(ji),Sp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return(0,y.Z)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(ji),kp=new Fr,Ep=new zr,Cp=new Fr,Mp=new Fr,Tp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return(0,y.Z)(n,[{key:"connect",value:function(){(0,c.Z)((0,f.Z)(n.prototype),"connect",this).call(this),this.panner.connect(this.gain)}},{key:"disconnect",value:function(){(0,c.Z)((0,f.Z)(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if((0,c.Z)((0,f.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(kp,Ep,Cp),Mp.set(0,0,1).applyQuaternion(Ep);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(kp.x,r),t.positionY.linearRampToValueAtTime(kp.y,r),t.positionZ.linearRampToValueAtTime(kp.z,r),t.orientationX.linearRampToValueAtTime(Mp.x,r),t.orientationY.linearRampToValueAtTime(Mp.y,r),t.orientationZ.linearRampToValueAtTime(Mp.z,r)}else t.setPosition(kp.x,kp.y,kp.z),t.setOrientation(Mp.x,Mp.y,Mp.z)}}}]),n}(Sp),Pp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;(0,g.Z)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return(0,y.Z)(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Ap=function(){function e(t,n,r){var i,a,o;switch((0,g.Z)(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return(0,y.Z)(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(n[u]!==n[u+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){zr.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;zr.multiplyQuaternionsFlat(e,a,e,t,e,n),zr.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),Dp="\\[\\]\\.:\\/",Ip=new RegExp("[\\[\\]\\.:\\/]","g"),Rp="[^\\[\\]\\.:\\/]",Op="[^"+Dp.replace("\\.","")+"]",Lp=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Rp)+/(WCOD+)?/.source.replace("WCOD",Op)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Rp)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Rp)+"$"),Np=["material","materials","bones","map"],zp=function(){function e(t,n,r){(0,g.Z)(this,e);var i=r||Fp.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return(0,y.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),Fp=function(){function e(t,n,r){(0,g.Z)(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,y.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var f=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",t)}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Ip,"")}},{key:"parseTrackName",value:function(e){var t=Lp.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Np.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();Fp.Composite=zp,Fp.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Fp.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Fp.prototype.GetterByBindingType=[Fp.prototype._getValue_direct,Fp.prototype._getValue_array,Fp.prototype._getValue_arrayElement,Fp.prototype._getValue_toArray],Fp.prototype.SetterByBindingTypeAndVersioning=[[Fp.prototype._setValue_direct,Fp.prototype._setValue_direct_setNeedsUpdate,Fp.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fp.prototype._setValue_array,Fp.prototype._setValue_array_setNeedsUpdate,Fp.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fp.prototype._setValue_arrayElement,Fp.prototype._setValue_arrayElement_setNeedsUpdate,Fp.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fp.prototype._setValue_fromArray,Fp.prototype._setValue_fromArray_setNeedsUpdate,Fp.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var jp=function(){function e(){(0,g.Z)(this,e),this.isAnimationObjectGroup=!0,this.uuid=Yn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return(0,y.Z)(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,u=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var f=arguments[l],d=f.uuid,p=t[d];if(void 0===p){p=s++,t[d]=p,e.push(f);for(var h=0,v=a;h!==v;++h)i[h].push(new Fp(f,n[h],r[h]))}else if(p<u){o=e[p];var m=--u,g=e[m];t[g.uuid]=p,e[p]=g,t[d]=m,e[m]=f;for(var y=0,b=a;y!==b;++y){var w=i[y],x=w[m],_=w[p];w[p]=x,void 0===_&&(_=new Fp(f,n[y],r[y])),w[m]=_}}else e[p]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,f=e[c];t[f.uuid]=l,e[l]=f,t[u]=c,e[c]=s;for(var d=0,p=r;d!==p;++d){var h=n[d],v=h[c],m=h[l];h[l]=v,h[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var f=--i,d=e[f],p=--a,h=e[p];t[d.uuid]=c,e[c]=d,t[h.uuid]=f,e[f]=h,e.pop();for(var v=0,m=r;v!==m;++v){var g=n[v],y=g[f],b=g[p];g[c]=y,g[f]=b,g.pop()}}else{var w=--a,x=e[w];w>0&&(t[x.uuid]=c),e[c]=x,e.pop();for(var _=0,S=r;_!==S;++_){var k=n[_];k[c]=k[w],k.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var f=l,d=s.length;f!==d;++f){var p=s[f];c[f]=new Fp(p,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}(),Bp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;(0,g.Z)(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),u={endingStart:Zt,endingEnd:Zt},l=0;l!==o;++l){var c=a[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=zt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return(0,y.Z)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;if(this.blendMode===Gt)for(var c=0,f=u.length;c!==f;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);else for(var d=0,p=u.length;d!==p;++d)u[d].evaluate(o),l[d].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===Ft;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===Nt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Vt,r.endingEnd=Vt):(r.endingStart=e?this.zeroSlopeAtStart?Vt:Zt:Ht,r.endingEnd=t?this.zeroSlopeAtEnd?Vt:Zt:Ht)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),Up=new Float32Array(1),Zp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return(0,y.Z)(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var f=r[c],d=f.name,p=l[d];if(void 0!==p)++p.referenceCount,a[c]=p;else{if(void 0!==(p=a[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var h=t&&t._propertyBindings[c].binding.parsedPath;++(p=new Ap(Fp.create(n,d,h),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),a[c]=p}o[c].resultBuffer=p.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new ud(new Float32Array(2),new Float32Array(2),1,Up)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?yd.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==a?a.blendMode:Wt),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new Bp(this,a,t,n);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?yd.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Wn),Vp=function(){function e(t){(0,g.Z)(this,e),this.value=t}return(0,y.Z)(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),Hp=0,Wp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty((0,d.Z)(e),"id",{value:Hp++}),e.name="",e.usage=Dn,e.uniforms=[],e}return(0,y.Z)(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Wn),Gp=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,g.Z)(this,n),(i=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return(0,y.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,f.Z)(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(rl),qp=function(){function e(t,n,r,i,a){(0,g.Z)(this,e),this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return(0,y.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),Xp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,g.Z)(this,e),this.ray=new pi(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new Ei,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,y.Z)(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Yp(e,this,n,t),n.sort(Kp),n}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)Yp(e[r],this,n,t);return n.sort(Kp),n}}]),e}();function Kp(e,t){return e.distance-t.distance}function Yp(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)Yp(i[a],t,n,!0)}var Qp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,g.Z)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return(0,y.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Qn(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),$p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,g.Z)(this,e),this.radius=t,this.theta=n,this.y=r,this}return(0,y.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Jp=new or,eh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new or(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new or(-1/0,-1/0);(0,g.Z)(this,e),this.isBox2=!0,this.min=t,this.max=n}return(0,y.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Jp.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,Jp).distanceTo(e)}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),th=new Fr,nh=new Fr,rh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr;(0,g.Z)(this,e),this.start=t,this.end=n}return(0,y.Z)(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){th.subVectors(e,this.start),nh.subVectors(this.end,this.start);var n=nh.dot(nh),r=nh.dot(th)/n;return t&&(r=Qn(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ih=new Fr,ah=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;(0,g.Z)(this,n),(i=t.call(this)).light=e,i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r,i.type="SpotLightHelper";for(var a=new Ia,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var l=s/32*Math.PI*2,c=u/32*Math.PI*2;o.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new Sa(o,3));var f=new Xl({fog:!1,toneMapped:!1});return i.cone=new rc(a,f),i.add(i.cone),i.update(),i}return(0,y.Z)(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),ih.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ih),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(ji),oh=new Fr,sh=new hi,uh=new hi,lh=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;(0,g.Z)(this,n);for(var i=ch(e),a=new Ia,o=[],s=[],u=new ia(0,0,1),l=new ia(0,1,0),c=0;c<i.length;c++){var f=i[c];f.parent&&f.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new Sa(o,3)),a.setAttribute("color",new Sa(s,3));var d=new Xl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,d)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return(0,y.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");uh.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(sh.multiplyMatrices(uh,s.matrixWorld),oh.setFromMatrixPosition(sh),i.setXYZ(o,oh.x,oh.y,oh.z),sh.multiplyMatrices(uh,s.parent.matrixWorld),oh.setFromMatrixPosition(sh),i.setXYZ(o+1,oh.x,oh.y,oh.z),o+=2)}r.getAttribute("position").needsUpdate=!0,(0,c.Z)((0,f.Z)(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(rc);function ch(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,ch(e.children[n]));return t}var fh=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var a;(0,g.Z)(this,n);var o=new Lf(r,4,2),s=new oa({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return(0,y.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(Ya),dh=new Fr,ph=new ia,hh=new ia,vh=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var a;(0,g.Z)(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="HemisphereLightHelper";var o=new If(r);o.rotateY(.5*Math.PI),a.material=new oa({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new ha(u,3)),a.add(new Ya(o,a.material)),a.update(),a}return(0,y.Z)(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");ph.copy(this.light.color),hh.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?ph:hh;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(dh.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(ji),mh=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;(0,g.Z)(this,n),a=new ia(a),o=new ia(o);for(var s=i/2,u=r/i,l=r/2,c=[],f=[],d=0,p=0,h=-l;d<=i;d++,h+=u){c.push(-l,0,h,l,0,h),c.push(h,0,-l,h,0,l);var v=d===s?a:o;v.toArray(f,p),p+=3,v.toArray(f,p),p+=3,v.toArray(f,p),p+=3,v.toArray(f,p),p+=3}var m=new Ia;m.setAttribute("position",new Sa(c,3)),m.setAttribute("color",new Sa(f,3));var y=new Xl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,y)).type="GridHelper",e}return(0,y.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(rc),gh=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;(0,g.Z)(this,n),s=new ia(s),u=new ia(u);var l=[],c=[];if(i>1)for(var f=0;f<i;f++){var d=f/i*(2*Math.PI),p=Math.sin(d)*r,h=Math.cos(d)*r;l.push(0,0,0),l.push(p,0,h);var v=1&f?s:u;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var m=0;m<a;m++)for(var y=1&m?s:u,b=r-r/a*m,w=0;w<o;w++){var x=w/o*(2*Math.PI),_=Math.sin(x)*b,S=Math.cos(x)*b;l.push(_,0,S),c.push(y.r,y.g,y.b),x=(w+1)/o*(2*Math.PI),_=Math.sin(x)*b,S=Math.cos(x)*b,l.push(_,0,S),c.push(y.r,y.g,y.b)}var k=new Ia;k.setAttribute("position",new Sa(l,3)),k.setAttribute("color",new Sa(c,3));var E=new Xl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,k,E)).type="PolarGridHelper",e}return(0,y.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(rc),yh=new Fr,bh=new Fr,wh=new Fr,xh=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,i){var a;(0,g.Z)(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="DirectionalLightHelper",void 0===r&&(r=1);var o=new Ia;o.setAttribute("position",new Sa([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new Xl({fog:!1,toneMapped:!1});return a.lightPlane=new ec(o,s),a.add(a.lightPlane),(o=new Ia).setAttribute("position",new Sa([0,0,0,0,0,1],3)),a.targetLine=new ec(o,s),a.add(a.targetLine),a.update(),a}return(0,y.Z)(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),yh.setFromMatrixPosition(this.light.matrixWorld),bh.setFromMatrixPosition(this.light.target.matrixWorld),wh.subVectors(bh,yh),this.lightPlane.lookAt(bh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(bh),this.targetLine.scale.z=wh.length()}}]),n}(ji),_h=new Fr,Sh=new io,kh=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;(0,g.Z)(this,n);var i=new Ia,a=new Xl({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={};function l(e,t){c(e),c(t)}function c(e){o.push(0,0,0),s.push(0,0,0),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4"),i.setAttribute("position",new Sa(o,3)),i.setAttribute("color",new Sa(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=u,r.update();var f=new ia(16755200),d=new ia(16711680),p=new ia(43775),h=new ia(16777215),v=new ia(3355443);return r.setColors(f,d,p,h,v),r}return(0,y.Z)(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;Sh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Eh("c",t,e,Sh,0,0,-1),Eh("t",t,e,Sh,0,0,1),Eh("n1",t,e,Sh,-1,-1,-1),Eh("n2",t,e,Sh,1,-1,-1),Eh("n3",t,e,Sh,-1,1,-1),Eh("n4",t,e,Sh,1,1,-1),Eh("f1",t,e,Sh,-1,-1,1),Eh("f2",t,e,Sh,1,-1,1),Eh("f3",t,e,Sh,-1,1,1),Eh("f4",t,e,Sh,1,1,1),Eh("u1",t,e,Sh,.7,1.1,-1),Eh("u2",t,e,Sh,-.7,1.1,-1),Eh("u3",t,e,Sh,0,2,-1),Eh("cf1",t,e,Sh,-1,0,1),Eh("cf2",t,e,Sh,1,0,1),Eh("cf3",t,e,Sh,0,-1,1),Eh("cf4",t,e,Sh,0,1,1),Eh("cn1",t,e,Sh,-1,0,-1),Eh("cn2",t,e,Sh,1,0,-1),Eh("cn3",t,e,Sh,0,-1,-1),Eh("cn4",t,e,Sh,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(rc);function Eh(e,t,n,r,i,a,o){_h.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),l=0,c=s.length;l<c;l++)u.setXYZ(s[l],_h.x,_h.y,_h.z)}var Ch,Mh,Th=new Ur,Ph=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,g.Z)(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new Ia;return s.setIndex(new ha(a,1)),s.setAttribute("position",new ha(o,3)),(r=t.call(this,s,new Xl({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return(0,y.Z)(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Th.setFromObject(this.object),!Th.isEmpty()){var t=Th.min,n=Th.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(rc),Ah=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,g.Z)(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ia;return s.setIndex(new ha(a,1)),s.setAttribute("position",new Sa(o,3)),(r=t.call(this,s,new Xl({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return(0,y.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),(0,c.Z)((0,f.Z)(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(rc),Dh=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;(0,g.Z)(this,n);var o=a,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],u=new Ia;u.setAttribute("position",new Sa(s,3)),u.computeBoundingSphere(),(r=t.call(this,u,new Xl({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new Ia;return c.setAttribute("position",new Sa(l,3)),c.computeBoundingSphere(),r.add(new Ya(c,new oa({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return(0,y.Z)(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),(0,c.Z)((0,f.Z)(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(ec),Ih=new Fr,Rh=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return(0,g.Z)(this,n),(e=t.call(this)).type="ArrowHelper",void 0===Ch&&((Ch=new Ia).setAttribute("position",new Sa([0,0,0,0,1,0],3)),(Mh=new Vc(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new ec(Ch,new Xl({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new Ya(Mh,new oa({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,u),e}return(0,y.Z)(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Ih.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Ih,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return(0,c.Z)((0,f.Z)(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(ji),Oh=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,g.Z)(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new Ia;o.setAttribute("position",new Sa(i,3)),o.setAttribute("color",new Sa(a,3));var s=new Xl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,s)).type="AxesHelper",e}return(0,y.Z)(n,[{key:"setColors",value:function(e,t,n){var r=new ia,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(rc),Lh=function(){function e(){(0,g.Z)(this,e),this.type="ShapePath",this.color=new ia,this.subPaths=[],this.currentPath=null}return(0,y.Z)(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new jc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=Cf.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new $c).curves=r.curves,s.push(i),s;var u=!a(o[0].getPoints());u=e?!u:u;var l,c,f=[],d=[],p=[],h=0;d[h]=void 0,p[h]=[];for(var v=0,m=o.length;v<m;v++)n=a(l=(r=o[v]).getPoints()),(n=e?!n:n)?(!u&&d[h]&&h++,d[h]={s:new $c,p:l},d[h].s.curves=r.curves,u&&h++,p[h]=[]):p[h].push({h:r,p:l[0]});if(!d[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new $c;a.curves=i.curves,t.push(a)}return t}(o);if(d.length>1){for(var g=!1,y=0,b=0,w=d.length;b<w;b++)f[b]=[];for(var x=0,_=d.length;x<_;x++)for(var S=p[x],k=0;k<S.length;k++){for(var E=S[k],C=!0,M=0;M<d.length;M++)t(E.p,d[M].p)&&(x!==M&&y++,C?(C=!1,f[M].push(E)):g=!0);C&&f[x].push(E)}y>0&&!1===g&&(p=f)}for(var T=0,P=d.length;T<P;T++){i=d[T].s,s.push(i);for(var A=0,D=(c=p[T]).length;A<D;A++)i.holes.push(c[A].h)}return s}}]),e}();"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:b}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=b)},9516:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},6220:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4771:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},3755:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},7061:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},2533:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(374),i=n(2765);function a(e,t,n){return a=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&(0,r.Z)(a,n.prototype),a},a.apply(null,arguments)}},9900:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},745:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(4783);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},8114:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(886),i=n(2765),a=n(4593);function o(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}},240:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},2731:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(886);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},a.apply(this,arguments)}},886:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},4269:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(374);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},2765:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},4125:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},6089:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},9677:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(240);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},9382:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1972);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},1972:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},4593:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7209),i=n(4771);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},4611:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7209);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return M()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var d={};function p(){}function h(){}function v(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=v.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(a,o,s,u){var l=f(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}var a;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return h.prototype=v,l(b,"constructor",v),l(v,"constructor",h),h.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,u,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},374:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},3680:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(6220);var i=n(4783),a=n(6089);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},9189:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6220),i=n(4125),a=n(4783),o=n(6089);function s(e){return(0,r.Z)(e)||(0,i.Z)(e)||(0,a.Z)(e)||(0,o.Z)()}},9961:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9516);var i=n(4125),a=n(4783);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7209:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},4783:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9516);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},3133:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(886),i=n(374);var a=n(2533);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return(0,a.Z)(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},o(e)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".9674e194.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="three:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/three/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkthree=self.webpackChunkthree||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{Decoder:function(){return ur},Encoder:function(){return sr},PacketType:function(){return ar},protocol:function(){return or}});var t=n(3358),r=n(8194),i=n(4611),a=n(7061),o=n(9900),s=n(4269),u=n(8114),l=n(3755),c=n(9677),f=n(9961),d=n(3680),p=n(9382),h=n(240),v=n(3761);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var g=n(7982),y=n(7860),b=n.n(y);function w(e){var n=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,r=n.debounce,i=n.scroll,s=n.polyfill,u=n.offsetSize,l=s||("undefined"===typeof window?(0,o.Z)((function e(){(0,a.Z)(this,e)})):window.ResizeObserver);if(!l)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var c=(0,t.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=(0,d.Z)(c,2),p=f[0],h=f[1],v=(0,t.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:p}),m=r?"number"===typeof r?r:r.scroll:null,g=r?"number"===typeof r?r:r.resize:null,y=(0,t.useRef)(!1);(0,t.useEffect)((function(){return y.current=!0,function(){y.current=!1}}));var w=(0,t.useMemo)((function(){var e=function(){if(v.current.element){var e=v.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};v.current.element instanceof HTMLElement&&u&&(t.height=v.current.element.offsetHeight,t.width=v.current.element.offsetWidth),Object.freeze(t),y.current&&!S(v.current.lastBounds,t)&&h(v.current.lastBounds=t)}};return[e,g?b()(e,g):e,m?b()(e,m):e]}),[h,u,m,g]),_=(0,d.Z)(w,3),k=_[0],E=_[1],C=_[2];function M(){v.current.scrollContainers&&(v.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",C,!0)})),v.current.scrollContainers=null),v.current.resizeObserver&&(v.current.resizeObserver.disconnect(),v.current.resizeObserver=null)}function T(){v.current.element&&(v.current.resizeObserver=new l(C),v.current.resizeObserver.observe(v.current.element),i&&v.current.scrollContainers&&v.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",C,{capture:!0,passive:!0})})))}var P,A,D;return P=C,A=Boolean(i),(0,t.useEffect)((function(){if(A){var e=P;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[P,A]),D=E,(0,t.useEffect)((function(){var e=D;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[D]),(0,t.useEffect)((function(){M(),T()}),[i,C,E]),(0,t.useEffect)((function(){return M}),[]),[function(e){e&&e!==v.current.element&&(M(),v.current.element=e,v.current.scrollContainers=x(e),T())},p,k]}function x(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,(0,f.Z)(x(e.parentElement)))}var _=["x","y","top","bottom","left","right","width","height"],S=function(e,t){return _.every((function(n){return e[n]===t[n]}))},k=n(745),E=Object.defineProperty,C=Object.defineProperties,M=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,D=function(e,t,n){return t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},I=function(e,t){for(var n in t||(t={}))P.call(t,n)&&D(e,n,t[n]);if(T){var r,i=(0,k.Z)(T(t));try{for(i.s();!(r=i.n()).done;){n=r.value;A.call(t,n)&&D(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e};function R(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var i=R(r,t,n);if(i)return i;r=t?null:r.sibling}}}function O(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(t){return e}}var L=O(t.createContext(null)),N=function(e){(0,s.Z)(r,e);var n=(0,u.Z)(r);function r(){return(0,a.Z)(this,r),n.apply(this,arguments)}return(0,o.Z)(r,[{key:"render",value:function(){return t.createElement(L.Provider,{value:this._reactInternals},this.props.children)}}]),r}(t.Component),z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=z.ReactCurrentOwner,j=z.ReactCurrentDispatcher;function B(){var e=t.useContext(L);if(!e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var n=t.useId();return t.useMemo((function(){var t;return null!=(t=F.current)?t:R(e,!1,(function(e){for(var t=e.memoizedState;t;){if(t.memoizedState===n)return!0;t=t.next}}))}),[e,n])}var U=[],Z=new WeakMap;function V(){var e,n=B();U.splice(0,U.length),R(n,!0,(function(e){var t,n=null==(t=e.type)?void 0:t._context;n&&n!==L&&U.push(O(n))}));var r,i=(0,k.Z)(U);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=null==(e=j.current)?void 0:e.readContext(a);Z.set(a,o)}}catch(s){i.e(s)}finally{i.f()}return t.useMemo((function(){return U.reduce((function(e,n){return function(r){return t.createElement(e,null,t.createElement(n.Provider,(i=I({},r),a={value:Z.get(n)},C(i,M(a)))));var i,a}}),(function(e){return t.createElement(N,I({},e))}))}),[])}n(5800),n(442),n(4852);var H=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],W={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function G(e){var t=(0,v.c)(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(W).reduce((function(e,n){return(0,c.Z)((0,c.Z)({},e),{},(0,h.Z)({},n,t(n)))}),{}),update:function(){var t,n=e.getState(),r=n.events,i=n.internal;null!=(t=i.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:(0,c.Z)((0,c.Z)({},e.events),{},{connected:t})}})),Object.entries(null!=(n=a.handlers)?n:[]).forEach((function(e){var n=(0,d.Z)(e,2),r=n[0],i=n[1],a=(0,d.Z)(W[r],2),o=a[0],s=a[1];t.addEventListener(o,i,{passive:s})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=(0,d.Z)(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=(0,d.Z)(W[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:(0,c.Z)((0,c.Z)({},e.events),{},{connected:void 0})}})))}}}var q=t.forwardRef((function(e,n){var r=e.children,i=e.fallback,a=e.resize,o=e.style,s=e.gl,u=e.events,l=void 0===u?G:u,f=e.eventSource,h=e.eventPrefix,y=e.shadows,b=e.linear,x=e.flat,_=e.legacy,S=e.orthographic,k=e.frameloop,E=e.dpr,C=e.performance,M=e.raycaster,T=e.camera,P=e.onPointerMissed,A=e.onCreated,D=(0,p.Z)(e,H);t.useMemo((function(){return(0,v.e)(g)}),[]);var I=V(),R=w((0,c.Z)({scroll:!0,debounce:{scroll:50,resize:0}},a)),O=(0,d.Z)(R,2),L=O[0],N=O[1],z=t.useRef(null),F=t.useRef(null);t.useImperativeHandle(n,(function(){return z.current}));var j=(0,v.u)(P),B=t.useState(!1),U=(0,d.Z)(B,2),Z=U[0],W=U[1],q=t.useState(!1),X=(0,d.Z)(q,2),K=X[0],Y=X[1];if(Z)throw Z;if(K)throw K;var Q=t.useRef(null);(0,v.a)((function(){var e=z.current;N.width>0&&N.height>0&&e&&(Q.current||(Q.current=(0,v.b)(e)),Q.current.configure({gl:s,events:l,shadows:y,linear:b,flat:x,legacy:_,orthographic:S,frameloop:k,dpr:E,performance:C,raycaster:M,camera:T,size:N,onPointerMissed:function(){return null==j.current?void 0:j.current.apply(j,arguments)},onCreated:function(e){null==e.events.connect||e.events.connect(f?(0,v.i)(f)?f.current:f:F.current),h&&e.setEvents({compute:function(e,t){var n=e[h+"X"],r=e[h+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==A||A(e)}}),Q.current.render(t.createElement(I,null,t.createElement(v.E,{set:Y},t.createElement(t.Suspense,{fallback:t.createElement(v.B,{set:W})},r)))))})),t.useEffect((function(){var e=z.current;if(e)return function(){return(0,v.d)(e)}}),[]);var $=f?"none":"auto";return t.createElement("div",m({ref:F,style:(0,c.Z)({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$},o)},D),t.createElement("div",{ref:L,style:{width:"100%",height:"100%"}},t.createElement("canvas",{ref:z,style:{display:"block"}},i)))})),X=t.forwardRef((function(e,n){return t.createElement(N,null,t.createElement(q,m({},e,{ref:n})))})),K=n(4771),Y=Object.defineProperty,Q=function(e,t,n){return function(e,t,n){t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},$=function(e,t){return(e%t+t)%t},J=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){var i;(0,a.Z)(this,n),i=t.call(this),Q((0,K.Z)(i),"object"),Q((0,K.Z)(i),"domElement"),Q((0,K.Z)(i),"enabled",!0),Q((0,K.Z)(i),"target",new g.Vector3),Q((0,K.Z)(i),"minDistance",0),Q((0,K.Z)(i),"maxDistance",1/0),Q((0,K.Z)(i),"minZoom",0),Q((0,K.Z)(i),"maxZoom",1/0),Q((0,K.Z)(i),"minPolarAngle",0),Q((0,K.Z)(i),"maxPolarAngle",Math.PI),Q((0,K.Z)(i),"minAzimuthAngle",-1/0),Q((0,K.Z)(i),"maxAzimuthAngle",1/0),Q((0,K.Z)(i),"enableDamping",!1),Q((0,K.Z)(i),"dampingFactor",.05),Q((0,K.Z)(i),"enableZoom",!0),Q((0,K.Z)(i),"zoomSpeed",1),Q((0,K.Z)(i),"enableRotate",!0),Q((0,K.Z)(i),"rotateSpeed",1),Q((0,K.Z)(i),"enablePan",!0),Q((0,K.Z)(i),"panSpeed",1),Q((0,K.Z)(i),"screenSpacePanning",!0),Q((0,K.Z)(i),"keyPanSpeed",7),Q((0,K.Z)(i),"autoRotate",!1),Q((0,K.Z)(i),"autoRotateSpeed",2),Q((0,K.Z)(i),"reverseOrbit",!1),Q((0,K.Z)(i),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Q((0,K.Z)(i),"mouseButtons",{LEFT:g.MOUSE.ROTATE,MIDDLE:g.MOUSE.DOLLY,RIGHT:g.MOUSE.PAN}),Q((0,K.Z)(i),"touches",{ONE:g.TOUCH.ROTATE,TWO:g.TOUCH.DOLLY_PAN}),Q((0,K.Z)(i),"target0"),Q((0,K.Z)(i),"position0"),Q((0,K.Z)(i),"zoom0"),Q((0,K.Z)(i),"_domElementKeyEvents",null),Q((0,K.Z)(i),"getPolarAngle"),Q((0,K.Z)(i),"getAzimuthalAngle"),Q((0,K.Z)(i),"setPolarAngle"),Q((0,K.Z)(i),"setAzimuthalAngle"),Q((0,K.Z)(i),"getDistance"),Q((0,K.Z)(i),"listenToKeyEvents"),Q((0,K.Z)(i),"stopListenToKeyEvents"),Q((0,K.Z)(i),"saveState"),Q((0,K.Z)(i),"reset"),Q((0,K.Z)(i),"update"),Q((0,K.Z)(i),"connect"),Q((0,K.Z)(i),"dispose"),i.object=e,i.domElement=r,i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i.getPolarAngle=function(){return p.phi},i.getAzimuthalAngle=function(){return p.theta},i.setPolarAngle=function(e){var t=$(e,2*Math.PI),n=p.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),h.phi=t-n,o.update()},i.setAzimuthalAngle=function(e){var t=$(e,2*Math.PI),n=p.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),h.theta=t-n,o.update()},i.getDistance=function(){return o.object.position.distanceTo(o.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",ee),i._domElementKeyEvents=e},i.stopListenToKeyEvents=function(){i._domElementKeyEvents.removeEventListener("keydown",ee),i._domElementKeyEvents=null},i.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},i.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(s),o.update(),f=c.NONE},i.update=function(){var t=new g.Vector3,n=new g.Vector3(0,1,0),r=(new g.Quaternion).setFromUnitVectors(e.up,n),i=r.clone().invert(),a=new g.Vector3,u=new g.Quaternion,l=2*Math.PI;return function(){var g=o.object.position;r.setFromUnitVectors(e.up,n),i.copy(r).invert(),t.copy(g).sub(o.target),t.applyQuaternion(r),p.setFromVector3(t),o.autoRotate&&f===c.NONE&&D(2*Math.PI/60/60*o.autoRotateSpeed),o.enableDamping?(p.theta+=h.theta*o.dampingFactor,p.phi+=h.phi*o.dampingFactor):(p.theta+=h.theta,p.phi+=h.phi);var b=o.minAzimuthAngle,w=o.maxAzimuthAngle;return isFinite(b)&&isFinite(w)&&(b<-Math.PI?b+=l:b>Math.PI&&(b-=l),w<-Math.PI?w+=l:w>Math.PI&&(w-=l),p.theta=b<=w?Math.max(b,Math.min(w,p.theta)):p.theta>(b+w)/2?Math.max(b,p.theta):Math.min(w,p.theta)),p.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,p.phi)),p.makeSafe(),p.radius*=v,p.radius=Math.max(o.minDistance,Math.min(o.maxDistance,p.radius)),!0===o.enableDamping?o.target.addScaledVector(m,o.dampingFactor):o.target.add(m),t.setFromSpherical(p),t.applyQuaternion(i),g.copy(o.target).add(t),o.object.lookAt(o.target),!0===o.enableDamping?(h.theta*=1-o.dampingFactor,h.phi*=1-o.dampingFactor,m.multiplyScalar(1-o.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),v=1,!!(y||a.distanceToSquared(o.object.position)>d||8*(1-u.dot(o.object.quaternion))>d)&&(o.dispatchEvent(s),a.copy(o.object.position),u.copy(o.object.quaternion),y=!1,!0)}}(),i.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),o.domElement=e,o.domElement.style.touchAction="none",o.domElement.addEventListener("contextmenu",te),o.domElement.addEventListener("pointerdown",G),o.domElement.addEventListener("pointercancel",Y),o.domElement.addEventListener("wheel",J)},i.dispose=function(){var e,t,n,r,i,a;null==(e=o.domElement)||e.removeEventListener("contextmenu",te),null==(t=o.domElement)||t.removeEventListener("pointerdown",G),null==(n=o.domElement)||n.removeEventListener("pointercancel",Y),null==(r=o.domElement)||r.removeEventListener("wheel",J),null==(i=o.domElement)||i.ownerDocument.removeEventListener("pointermove",q),null==(a=o.domElement)||a.ownerDocument.removeEventListener("pointerup",X),null!==o._domElementKeyEvents&&o._domElementKeyEvents.removeEventListener("keydown",ee)};var o=(0,K.Z)(i),s={type:"change"},u={type:"start"},l={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=c.NONE,d=1e-6,p=new g.Spherical,h=new g.Spherical,v=1,m=new g.Vector3,y=!1,b=new g.Vector2,w=new g.Vector2,x=new g.Vector2,_=new g.Vector2,S=new g.Vector2,k=new g.Vector2,E=new g.Vector2,C=new g.Vector2,M=new g.Vector2,T=[],P={};function A(){return Math.pow(.95,o.zoomSpeed)}function D(e){o.reverseOrbit?h.theta+=e:h.theta-=e}function I(e){o.reverseOrbit?h.phi+=e:h.phi-=e}var R=function(){var e=new g.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),m.add(e)}}(),O=function(){var e=new g.Vector3;return function(t,n){!0===o.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(o.object.up,e)),e.multiplyScalar(t),m.add(e)}}(),L=function(){var e=new g.Vector3;return function(t,n){var r=o.domElement;if(r&&o.object instanceof g.PerspectiveCamera&&o.object.isPerspectiveCamera){var i=o.object.position;e.copy(i).sub(o.target);var a=e.length();a*=Math.tan(o.object.fov/2*Math.PI/180),R(2*t*a/r.clientHeight,o.object.matrix),O(2*n*a/r.clientHeight,o.object.matrix)}else r&&o.object instanceof g.OrthographicCamera&&o.object.isOrthographicCamera?(R(t*(o.object.right-o.object.left)/o.object.zoom/r.clientWidth,o.object.matrix),O(n*(o.object.top-o.object.bottom)/o.object.zoom/r.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function N(e){o.object instanceof g.PerspectiveCamera&&o.object.isPerspectiveCamera?v/=e:o.object instanceof g.OrthographicCamera&&o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function z(e){o.object instanceof g.PerspectiveCamera&&o.object.isPerspectiveCamera?v*=e:o.object instanceof g.OrthographicCamera&&o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function F(e){b.set(e.clientX,e.clientY)}function j(e){_.set(e.clientX,e.clientY)}function B(){if(1==T.length)b.set(T[0].pageX,T[0].pageY);else{var e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);b.set(e,t)}}function U(){if(1==T.length)_.set(T[0].pageX,T[0].pageY);else{var e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);_.set(e,t)}}function Z(){var e=T[0].pageX-T[1].pageX,t=T[0].pageY-T[1].pageY,n=Math.sqrt(e*e+t*t);E.set(0,n)}function V(e){if(1==T.length)w.set(e.pageX,e.pageY);else{var t=ie(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);w.set(n,r)}x.subVectors(w,b).multiplyScalar(o.rotateSpeed);var i=o.domElement;i&&(D(2*Math.PI*x.x/i.clientHeight),I(2*Math.PI*x.y/i.clientHeight)),b.copy(w)}function H(e){if(1==T.length)S.set(e.pageX,e.pageY);else{var t=ie(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);S.set(n,r)}k.subVectors(S,_).multiplyScalar(o.panSpeed),L(k.x,k.y),_.copy(S)}function W(e){var t=ie(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);C.set(0,i),M.set(0,Math.pow(C.y/E.y,o.zoomSpeed)),N(M.y),E.copy(C)}function G(e){var t,n;!1!==o.enabled&&(0===T.length&&(null==(t=o.domElement)||t.ownerDocument.addEventListener("pointermove",q),null==(n=o.domElement)||n.ownerDocument.addEventListener("pointerup",X)),function(e){T.push(e)}(e),"touch"===e.pointerType?function(e){switch(re(e),T.length){case 1:switch(o.touches.ONE){case g.TOUCH.ROTATE:if(!1===o.enableRotate)return;B(),f=c.TOUCH_ROTATE;break;case g.TOUCH.PAN:if(!1===o.enablePan)return;U(),f=c.TOUCH_PAN;break;default:f=c.NONE}break;case 2:switch(o.touches.TWO){case g.TOUCH.DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;o.enableZoom&&Z(),o.enablePan&&U(),f=c.TOUCH_DOLLY_PAN;break;case g.TOUCH.DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;o.enableZoom&&Z(),o.enableRotate&&B(),f=c.TOUCH_DOLLY_ROTATE;break;default:f=c.NONE}break;default:f=c.NONE}f!==c.NONE&&o.dispatchEvent(u)}(e):function(e){var t;switch(e.button){case 0:t=o.mouseButtons.LEFT;break;case 1:t=o.mouseButtons.MIDDLE;break;case 2:t=o.mouseButtons.RIGHT;break;default:t=-1}switch(t){case g.MOUSE.DOLLY:if(!1===o.enableZoom)return;!function(e){E.set(e.clientX,e.clientY)}(e),f=c.DOLLY;break;case g.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enablePan)return;j(e),f=c.PAN}else{if(!1===o.enableRotate)return;F(e),f=c.ROTATE}break;case g.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enableRotate)return;F(e),f=c.ROTATE}else{if(!1===o.enablePan)return;j(e),f=c.PAN}break;default:f=c.NONE}f!==c.NONE&&o.dispatchEvent(u)}(e))}function q(e){!1!==o.enabled&&("touch"===e.pointerType?function(e){switch(re(e),f){case c.TOUCH_ROTATE:if(!1===o.enableRotate)return;V(e),o.update();break;case c.TOUCH_PAN:if(!1===o.enablePan)return;H(e),o.update();break;case c.TOUCH_DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;!function(e){o.enableZoom&&W(e),o.enablePan&&H(e)}(e),o.update();break;case c.TOUCH_DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;!function(e){o.enableZoom&&W(e),o.enableRotate&&V(e)}(e),o.update();break;default:f=c.NONE}}(e):function(e){if(!1===o.enabled)return;switch(f){case c.ROTATE:if(!1===o.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),x.subVectors(w,b).multiplyScalar(o.rotateSpeed);var t=o.domElement;t&&(D(2*Math.PI*x.x/t.clientHeight),I(2*Math.PI*x.y/t.clientHeight)),b.copy(w),o.update()}(e);break;case c.DOLLY:if(!1===o.enableZoom)return;!function(e){C.set(e.clientX,e.clientY),M.subVectors(C,E),M.y>0?N(A()):M.y<0&&z(A()),E.copy(C),o.update()}(e);break;case c.PAN:if(!1===o.enablePan)return;!function(e){S.set(e.clientX,e.clientY),k.subVectors(S,_).multiplyScalar(o.panSpeed),L(k.x,k.y),_.copy(S),o.update()}(e)}}(e))}function X(e){var t,n,r;ne(e),0===T.length&&(null==(t=o.domElement)||t.releasePointerCapture(e.pointerId),null==(n=o.domElement)||n.ownerDocument.removeEventListener("pointermove",q),null==(r=o.domElement)||r.ownerDocument.removeEventListener("pointerup",X)),o.dispatchEvent(l),f=c.NONE}function Y(e){ne(e)}function J(e){!1===o.enabled||!1===o.enableZoom||f!==c.NONE&&f!==c.ROTATE||(e.preventDefault(),o.dispatchEvent(u),function(e){e.deltaY<0?z(A()):e.deltaY>0&&N(A()),o.update()}(e),o.dispatchEvent(l))}function ee(e){!1!==o.enabled&&!1!==o.enablePan&&function(e){var t=!1;switch(e.code){case o.keys.UP:L(0,o.keyPanSpeed),t=!0;break;case o.keys.BOTTOM:L(0,-o.keyPanSpeed),t=!0;break;case o.keys.LEFT:L(o.keyPanSpeed,0),t=!0;break;case o.keys.RIGHT:L(-o.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),o.update())}(e)}function te(e){!1!==o.enabled&&e.preventDefault()}function ne(e){delete P[e.pointerId];for(var t=0;t<T.length;t++)if(T[t].pointerId==e.pointerId)return void T.splice(t,1)}function re(e){var t=P[e.pointerId];void 0===t&&(t=new g.Vector2,P[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ie(e){var t=e.pointerId===T[0].pointerId?T[1]:T[0];return P[t.pointerId]}return void 0!==r&&i.connect(r),i.update(),i}return(0,o.Z)(n)}(g.EventDispatcher),ee=["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"],te=t.forwardRef((function(e,n){var r=e.makeDefault,i=e.camera,a=e.regress,o=e.domElement,s=e.enableDamping,u=void 0===s||s,l=e.keyEvents,c=void 0!==l&&l,f=e.onChange,d=e.onStart,h=e.onEnd,g=(0,p.Z)(e,ee),y=(0,v.z)((function(e){return e.invalidate})),b=(0,v.z)((function(e){return e.camera})),w=(0,v.z)((function(e){return e.gl})),x=(0,v.z)((function(e){return e.events})),_=(0,v.z)((function(e){return e.setEvents})),S=(0,v.z)((function(e){return e.set})),k=(0,v.z)((function(e){return e.get})),E=(0,v.z)((function(e){return e.performance})),C=i||b,M=o||x.connected||w.domElement,T=t.useMemo((function(){return new J(C)}),[C]);return(0,v.A)((function(){T.enabled&&T.update()}),-1),t.useEffect((function(){return c&&T.connect(!0===c?M:c),T.connect(M),function(){T.dispose()}}),[c,M,a,T,y]),t.useEffect((function(){var e=function(e){y(),a&&E.regress(),f&&f(e)},t=function(e){d&&d(e)},n=function(e){h&&h(e)};return T.addEventListener("change",e),T.addEventListener("start",t),T.addEventListener("end",n),function(){T.removeEventListener("start",t),T.removeEventListener("end",n),T.removeEventListener("change",e)}}),[f,d,h,T,y,_]),t.useEffect((function(){if(r){var e=k().controls;return S({controls:T}),function(){return S({controls:e})}}}),[r,T]),t.createElement("primitive",m({ref:n,object:T,enableDamping:u},g))})),ne=n(1782),re=n.n(ne),ie=n(7217),ae=n.n(ie),oe=n(2731),se=n(886),ue=Object.defineProperty,le=function(e,t,n){return function(e,t,n){t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},ce=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){var i,o;(0,a.Z)(this,n),o=t.call(this),le((0,K.Z)(o),"isTransformControls",!0),le((0,K.Z)(o),"visible",!1),le((0,K.Z)(o),"domElement"),le((0,K.Z)(o),"raycaster",new g.Raycaster),le((0,K.Z)(o),"gizmo"),le((0,K.Z)(o),"plane"),le((0,K.Z)(o),"tempVector",new g.Vector3),le((0,K.Z)(o),"tempVector2",new g.Vector3),le((0,K.Z)(o),"tempQuaternion",new g.Quaternion),le((0,K.Z)(o),"unit",{X:new g.Vector3(1,0,0),Y:new g.Vector3(0,1,0),Z:new g.Vector3(0,0,1)}),le((0,K.Z)(o),"pointStart",new g.Vector3),le((0,K.Z)(o),"pointEnd",new g.Vector3),le((0,K.Z)(o),"offset",new g.Vector3),le((0,K.Z)(o),"rotationAxis",new g.Vector3),le((0,K.Z)(o),"startNorm",new g.Vector3),le((0,K.Z)(o),"endNorm",new g.Vector3),le((0,K.Z)(o),"rotationAngle",0),le((0,K.Z)(o),"cameraPosition",new g.Vector3),le((0,K.Z)(o),"cameraQuaternion",new g.Quaternion),le((0,K.Z)(o),"cameraScale",new g.Vector3),le((0,K.Z)(o),"parentPosition",new g.Vector3),le((0,K.Z)(o),"parentQuaternion",new g.Quaternion),le((0,K.Z)(o),"parentQuaternionInv",new g.Quaternion),le((0,K.Z)(o),"parentScale",new g.Vector3),le((0,K.Z)(o),"worldPositionStart",new g.Vector3),le((0,K.Z)(o),"worldQuaternionStart",new g.Quaternion),le((0,K.Z)(o),"worldScaleStart",new g.Vector3),le((0,K.Z)(o),"worldPosition",new g.Vector3),le((0,K.Z)(o),"worldQuaternion",new g.Quaternion),le((0,K.Z)(o),"worldQuaternionInv",new g.Quaternion),le((0,K.Z)(o),"worldScale",new g.Vector3),le((0,K.Z)(o),"eye",new g.Vector3),le((0,K.Z)(o),"positionStart",new g.Vector3),le((0,K.Z)(o),"quaternionStart",new g.Quaternion),le((0,K.Z)(o),"scaleStart",new g.Vector3),le((0,K.Z)(o),"camera"),le((0,K.Z)(o),"object"),le((0,K.Z)(o),"enabled",!0),le((0,K.Z)(o),"axis",null),le((0,K.Z)(o),"mode","translate"),le((0,K.Z)(o),"translationSnap",null),le((0,K.Z)(o),"rotationSnap",null),le((0,K.Z)(o),"scaleSnap",null),le((0,K.Z)(o),"space","world"),le((0,K.Z)(o),"size",1),le((0,K.Z)(o),"dragging",!1),le((0,K.Z)(o),"showX",!0),le((0,K.Z)(o),"showY",!0),le((0,K.Z)(o),"showZ",!0),le((0,K.Z)(o),"changeEvent",{type:"change"}),le((0,K.Z)(o),"mouseDownEvent",{type:"mouseDown",mode:o.mode}),le((0,K.Z)(o),"mouseUpEvent",{type:"mouseUp",mode:o.mode}),le((0,K.Z)(o),"objectChangeEvent",{type:"objectChange"}),le((0,K.Z)(o),"intersectObjectWithRay",(function(e,t,n){for(var r=t.intersectObject(e,!0),i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1})),le((0,K.Z)(o),"attach",(function(e){return o.object=e,o.visible=!0,(0,K.Z)(o)})),le((0,K.Z)(o),"detach",(function(){return o.object=void 0,o.visible=!1,o.axis=null,(0,K.Z)(o)})),le((0,K.Z)(o),"reset",(function(){return o.enabled?(o.dragging&&void 0!==o.object&&(o.object.position.copy(o.positionStart),o.object.quaternion.copy(o.quaternionStart),o.object.scale.copy(o.scaleStart),o.dispatchEvent(o.changeEvent),o.dispatchEvent(o.objectChangeEvent),o.pointStart.copy(o.pointEnd)),(0,K.Z)(o)):(0,K.Z)(o)})),le((0,K.Z)(o),"updateMatrixWorld",(function(){void 0!==o.object&&(o.object.updateMatrixWorld(),null===o.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):o.object.parent.matrixWorld.decompose(o.parentPosition,o.parentQuaternion,o.parentScale),o.object.matrixWorld.decompose(o.worldPosition,o.worldQuaternion,o.worldScale),o.parentQuaternionInv.copy(o.parentQuaternion).invert(),o.worldQuaternionInv.copy(o.worldQuaternion).invert()),o.camera.updateMatrixWorld(),o.camera.matrixWorld.decompose(o.cameraPosition,o.cameraQuaternion,o.cameraScale),o.eye.copy(o.cameraPosition).sub(o.worldPosition).normalize(),(0,oe.Z)((i=(0,K.Z)(o),(0,se.Z)(n.prototype)),"updateMatrixWorld",i).call(i)})),le((0,K.Z)(o),"pointerHover",(function(e){if(void 0!==o.object&&!0!==o.dragging){o.raycaster.setFromCamera(e,o.camera);var t=o.intersectObjectWithRay(o.gizmo.picker[o.mode],o.raycaster);o.axis=t?t.object.name:null}})),le((0,K.Z)(o),"pointerDown",(function(e){if(void 0!==o.object&&!0!==o.dragging&&0===e.button&&null!==o.axis){o.raycaster.setFromCamera(e,o.camera);var t=o.intersectObjectWithRay(o.plane,o.raycaster,!0);if(t){var n=o.space;if("scale"===o.mode?n="local":"E"!==o.axis&&"XYZE"!==o.axis&&"XYZ"!==o.axis||(n="world"),"local"===n&&"rotate"===o.mode){var r=o.rotationSnap;"X"===o.axis&&r&&(o.object.rotation.x=Math.round(o.object.rotation.x/r)*r),"Y"===o.axis&&r&&(o.object.rotation.y=Math.round(o.object.rotation.y/r)*r),"Z"===o.axis&&r&&(o.object.rotation.z=Math.round(o.object.rotation.z/r)*r)}o.object.updateMatrixWorld(),o.object.parent&&o.object.parent.updateMatrixWorld(),o.positionStart.copy(o.object.position),o.quaternionStart.copy(o.object.quaternion),o.scaleStart.copy(o.object.scale),o.object.matrixWorld.decompose(o.worldPositionStart,o.worldQuaternionStart,o.worldScaleStart),o.pointStart.copy(t.point).sub(o.worldPositionStart)}o.dragging=!0,o.mouseDownEvent.mode=o.mode,o.dispatchEvent(o.mouseDownEvent)}})),le((0,K.Z)(o),"pointerMove",(function(e){var t=o.axis,n=o.mode,r=o.object,i=o.space;if("scale"===n?i="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(i="world"),void 0!==r&&null!==t&&!1!==o.dragging&&-1===e.button){o.raycaster.setFromCamera(e,o.camera);var a=o.intersectObjectWithRay(o.plane,o.raycaster,!0);if(a){if(o.pointEnd.copy(a.point).sub(o.worldPositionStart),"translate"===n)o.offset.copy(o.pointEnd).sub(o.pointStart),"local"===i&&"XYZ"!==t&&o.offset.applyQuaternion(o.worldQuaternionInv),-1===t.indexOf("X")&&(o.offset.x=0),-1===t.indexOf("Y")&&(o.offset.y=0),-1===t.indexOf("Z")&&(o.offset.z=0),"local"===i&&"XYZ"!==t?o.offset.applyQuaternion(o.quaternionStart).divide(o.parentScale):o.offset.applyQuaternion(o.parentQuaternionInv).divide(o.parentScale),r.position.copy(o.offset).add(o.positionStart),o.translationSnap&&("local"===i&&(r.position.applyQuaternion(o.tempQuaternion.copy(o.quaternionStart).invert()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/o.translationSnap)*o.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/o.translationSnap)*o.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/o.translationSnap)*o.translationSnap),r.position.applyQuaternion(o.quaternionStart)),"world"===i&&(r.parent&&r.position.add(o.tempVector.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/o.translationSnap)*o.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/o.translationSnap)*o.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/o.translationSnap)*o.translationSnap),r.parent&&r.position.sub(o.tempVector.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var s=o.pointEnd.length()/o.pointStart.length();o.pointEnd.dot(o.pointStart)<0&&(s*=-1),o.tempVector2.set(s,s,s)}else o.tempVector.copy(o.pointStart),o.tempVector2.copy(o.pointEnd),o.tempVector.applyQuaternion(o.worldQuaternionInv),o.tempVector2.applyQuaternion(o.worldQuaternionInv),o.tempVector2.divide(o.tempVector),-1===t.search("X")&&(o.tempVector2.x=1),-1===t.search("Y")&&(o.tempVector2.y=1),-1===t.search("Z")&&(o.tempVector2.z=1);r.scale.copy(o.scaleStart).multiply(o.tempVector2),o.scaleSnap&&o.object&&(-1!==t.search("X")&&(o.object.scale.x=Math.round(r.scale.x/o.scaleSnap)*o.scaleSnap||o.scaleSnap),-1!==t.search("Y")&&(r.scale.y=Math.round(r.scale.y/o.scaleSnap)*o.scaleSnap||o.scaleSnap),-1!==t.search("Z")&&(r.scale.z=Math.round(r.scale.z/o.scaleSnap)*o.scaleSnap||o.scaleSnap))}else if("rotate"===n){o.offset.copy(o.pointEnd).sub(o.pointStart);var u=20/o.worldPosition.distanceTo(o.tempVector.setFromMatrixPosition(o.camera.matrixWorld));"E"===t?(o.rotationAxis.copy(o.eye),o.rotationAngle=o.pointEnd.angleTo(o.pointStart),o.startNorm.copy(o.pointStart).normalize(),o.endNorm.copy(o.pointEnd).normalize(),o.rotationAngle*=o.endNorm.cross(o.startNorm).dot(o.eye)<0?1:-1):"XYZE"===t?(o.rotationAxis.copy(o.offset).cross(o.eye).normalize(),o.rotationAngle=o.offset.dot(o.tempVector.copy(o.rotationAxis).cross(o.eye))*u):"X"!==t&&"Y"!==t&&"Z"!==t||(o.rotationAxis.copy(o.unit[t]),o.tempVector.copy(o.unit[t]),"local"===i&&o.tempVector.applyQuaternion(o.worldQuaternion),o.rotationAngle=o.offset.dot(o.tempVector.cross(o.eye).normalize())*u),o.rotationSnap&&(o.rotationAngle=Math.round(o.rotationAngle/o.rotationSnap)*o.rotationSnap),"local"===i&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(o.quaternionStart),r.quaternion.multiply(o.tempQuaternion.setFromAxisAngle(o.rotationAxis,o.rotationAngle)).normalize()):(o.rotationAxis.applyQuaternion(o.parentQuaternionInv),r.quaternion.copy(o.tempQuaternion.setFromAxisAngle(o.rotationAxis,o.rotationAngle)),r.quaternion.multiply(o.quaternionStart).normalize())}o.dispatchEvent(o.changeEvent),o.dispatchEvent(o.objectChangeEvent)}}})),le((0,K.Z)(o),"pointerUp",(function(e){0===e.button&&(o.dragging&&null!==o.axis&&(o.mouseUpEvent.mode=o.mode,o.dispatchEvent(o.mouseUpEvent)),o.dragging=!1,o.axis=null)})),le((0,K.Z)(o),"getPointer",(function(e){var t,n;if(o.domElement&&(null==(t=o.domElement.ownerDocument)?void 0:t.pointerLockElement))return{x:0,y:0,button:e.button};var r=e.changedTouches?e.changedTouches[0]:e,i=null==(n=o.domElement)?void 0:n.getBoundingClientRect();return{x:(r.clientX-i.left)/i.width*2-1,y:-(r.clientY-i.top)/i.height*2+1,button:e.button}})),le((0,K.Z)(o),"onPointerHover",(function(e){if(o.enabled)switch(e.pointerType){case"mouse":case"pen":o.pointerHover(o.getPointer(e))}})),le((0,K.Z)(o),"onPointerDown",(function(e){o.enabled&&o.domElement&&(o.domElement.style.touchAction="none",o.domElement.ownerDocument.addEventListener("pointermove",o.onPointerMove),o.pointerHover(o.getPointer(e)),o.pointerDown(o.getPointer(e)))})),le((0,K.Z)(o),"onPointerMove",(function(e){o.enabled&&o.pointerMove(o.getPointer(e))})),le((0,K.Z)(o),"onPointerUp",(function(e){o.enabled&&o.domElement&&(o.domElement.style.touchAction="",o.domElement.ownerDocument.removeEventListener("pointermove",o.onPointerMove),o.pointerUp(o.getPointer(e)))})),le((0,K.Z)(o),"getMode",(function(){return o.mode})),le((0,K.Z)(o),"setMode",(function(e){o.mode=e})),le((0,K.Z)(o),"setTranslationSnap",(function(e){o.translationSnap=e})),le((0,K.Z)(o),"setRotationSnap",(function(e){o.rotationSnap=e})),le((0,K.Z)(o),"setScaleSnap",(function(e){o.scaleSnap=e})),le((0,K.Z)(o),"setSize",(function(e){o.size=e})),le((0,K.Z)(o),"setSpace",(function(e){o.space=e})),le((0,K.Z)(o),"update",(function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")})),le((0,K.Z)(o),"connect",(function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),o.domElement=e,o.domElement.addEventListener("pointerdown",o.onPointerDown),o.domElement.addEventListener("pointermove",o.onPointerHover),o.domElement.ownerDocument.addEventListener("pointerup",o.onPointerUp)})),le((0,K.Z)(o),"dispose",(function(){var e,t,n,r,i,a;null==(e=o.domElement)||e.removeEventListener("pointerdown",o.onPointerDown),null==(t=o.domElement)||t.removeEventListener("pointermove",o.onPointerHover),null==(r=null==(n=o.domElement)?void 0:n.ownerDocument)||r.removeEventListener("pointermove",o.onPointerMove),null==(a=null==(i=o.domElement)?void 0:i.ownerDocument)||a.removeEventListener("pointerup",o.onPointerUp),o.traverse((function(e){var t=e;t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}))})),o.domElement=r,o.camera=e,o.gizmo=new fe,o.add(o.gizmo),o.plane=new de,o.add(o.plane);var s=function(e,t){var n=t;Object.defineProperty((0,K.Z)(o),e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,this.plane[e]=t,this.gizmo[e]=t,this.dispatchEvent({type:e+"-changed",value:t}),this.dispatchEvent(this.changeEvent))}}),o[e]=t,o.plane[e]=t,o.gizmo[e]=t};return s("camera",o.camera),s("object",o.object),s("enabled",o.enabled),s("axis",o.axis),s("mode",o.mode),s("translationSnap",o.translationSnap),s("rotationSnap",o.rotationSnap),s("scaleSnap",o.scaleSnap),s("space",o.space),s("size",o.size),s("dragging",o.dragging),s("showX",o.showX),s("showY",o.showY),s("showZ",o.showZ),s("worldPosition",o.worldPosition),s("worldPositionStart",o.worldPositionStart),s("worldQuaternion",o.worldQuaternion),s("worldQuaternionStart",o.worldQuaternionStart),s("cameraPosition",o.cameraPosition),s("cameraQuaternion",o.cameraQuaternion),s("pointStart",o.pointStart),s("pointEnd",o.pointEnd),s("rotationAxis",o.rotationAxis),s("rotationAngle",o.rotationAngle),s("eye",o.eye),void 0!==r&&o.connect(r),o}return(0,o.Z)(n)}(g.Object3D),fe=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e,r;(0,a.Z)(this,n),r=t.call(this),le((0,K.Z)(r),"isTransformControlsGizmo",!0),le((0,K.Z)(r),"type","TransformControlsGizmo"),le((0,K.Z)(r),"tempVector",new g.Vector3(0,0,0)),le((0,K.Z)(r),"tempEuler",new g.Euler),le((0,K.Z)(r),"alignVector",new g.Vector3(0,1,0)),le((0,K.Z)(r),"zeroVector",new g.Vector3(0,0,0)),le((0,K.Z)(r),"lookAtMatrix",new g.Matrix4),le((0,K.Z)(r),"tempQuaternion",new g.Quaternion),le((0,K.Z)(r),"tempQuaternion2",new g.Quaternion),le((0,K.Z)(r),"identityQuaternion",new g.Quaternion),le((0,K.Z)(r),"unitX",new g.Vector3(1,0,0)),le((0,K.Z)(r),"unitY",new g.Vector3(0,1,0)),le((0,K.Z)(r),"unitZ",new g.Vector3(0,0,1)),le((0,K.Z)(r),"gizmo"),le((0,K.Z)(r),"picker"),le((0,K.Z)(r),"helper"),le((0,K.Z)(r),"rotationAxis",new g.Vector3),le((0,K.Z)(r),"cameraPosition",new g.Vector3),le((0,K.Z)(r),"worldPositionStart",new g.Vector3),le((0,K.Z)(r),"worldQuaternionStart",new g.Quaternion),le((0,K.Z)(r),"worldPosition",new g.Vector3),le((0,K.Z)(r),"worldQuaternion",new g.Quaternion),le((0,K.Z)(r),"eye",new g.Vector3),le((0,K.Z)(r),"camera",null),le((0,K.Z)(r),"enabled",!0),le((0,K.Z)(r),"axis",null),le((0,K.Z)(r),"mode","translate"),le((0,K.Z)(r),"space","world"),le((0,K.Z)(r),"size",1),le((0,K.Z)(r),"dragging",!1),le((0,K.Z)(r),"showX",!0),le((0,K.Z)(r),"showY",!0),le((0,K.Z)(r),"showZ",!0),le((0,K.Z)(r),"updateMatrixWorld",(function(){var t=r.space;"scale"===r.mode&&(t="local");var i="local"===t?r.worldQuaternion:r.identityQuaternion;r.gizmo.translate.visible="translate"===r.mode,r.gizmo.rotate.visible="rotate"===r.mode,r.gizmo.scale.visible="scale"===r.mode,r.helper.translate.visible="translate"===r.mode,r.helper.rotate.visible="rotate"===r.mode,r.helper.scale.visible="scale"===r.mode;var a=[];a=(a=(a=a.concat(r.picker[r.mode].children)).concat(r.gizmo[r.mode].children)).concat(r.helper[r.mode].children);for(var o=function(e){var t=a[e];t.visible=!0,t.rotation.set(0,0,0),t.position.copy(r.worldPosition);var n=void 0;if(n=r.camera.isOrthographicCamera?(r.camera.top-r.camera.bottom)/r.camera.zoom:r.worldPosition.distanceTo(r.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*r.camera.fov/360)/r.camera.zoom,7),t.scale.set(1,1,1).multiplyScalar(n*r.size/7),"helper"===t.tag)return t.visible=!1,"AXIS"===t.name?(t.position.copy(r.worldPositionStart),t.visible=!!r.axis,"X"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,0)),t.quaternion.copy(i).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye))>.9&&(t.visible=!1)),"Y"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,Math.PI/2)),t.quaternion.copy(i).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye))>.9&&(t.visible=!1)),"Z"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),t.quaternion.copy(i).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye))>.9&&(t.visible=!1)),"XYZE"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),r.alignVector.copy(r.rotationAxis),t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.zeroVector,r.alignVector,r.unitY)),t.quaternion.multiply(r.tempQuaternion),t.visible=r.dragging),"E"===r.axis&&(t.visible=!1)):"START"===t.name?(t.position.copy(r.worldPositionStart),t.visible=r.dragging):"END"===t.name?(t.position.copy(r.worldPosition),t.visible=r.dragging):"DELTA"===t.name?(t.position.copy(r.worldPositionStart),t.quaternion.copy(r.worldQuaternionStart),r.tempVector.set(1e-10,1e-10,1e-10).add(r.worldPositionStart).sub(r.worldPosition).multiplyScalar(-1),r.tempVector.applyQuaternion(r.worldQuaternionStart.clone().invert()),t.scale.copy(r.tempVector),t.visible=r.dragging):(t.quaternion.copy(i),r.dragging?t.position.copy(r.worldPositionStart):t.position.copy(r.worldPosition),r.axis&&(t.visible=-1!==r.axis.search(t.name))),"continue";if(t.quaternion.copy(i),"translate"===r.mode||"scale"===r.mode){var o=.99;"X"!==t.name&&"XYZX"!==t.name||Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"Y"!==t.name&&"XYZY"!==t.name||Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"Z"!==t.name&&"XYZZ"!==t.name||Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XY"===t.name&&Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"YZ"===t.name&&Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XZ"===t.name&&Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),-1!==t.name.search("X")&&(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.x*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Y")&&(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.y*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Z")&&(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.z*=-1:"bwd"===t.tag&&(t.visible=!1))}else"rotate"===r.mode&&(r.tempQuaternion2.copy(i),r.alignVector.copy(r.eye).applyQuaternion(r.tempQuaternion.copy(i).invert()),-1!==t.name.search("E")&&t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.eye,r.zeroVector,r.unitY)),"X"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitX,Math.atan2(-r.alignVector.y,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Y"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitY,Math.atan2(r.alignVector.x,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Z"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitZ,Math.atan2(r.alignVector.y,r.alignVector.x)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)));t.visible=t.visible&&(-1===t.name.indexOf("X")||r.showX),t.visible=t.visible&&(-1===t.name.indexOf("Y")||r.showY),t.visible=t.visible&&(-1===t.name.indexOf("Z")||r.showZ),t.visible=t.visible&&(-1===t.name.indexOf("E")||r.showX&&r.showY&&r.showZ),t.material.tempOpacity=t.material.tempOpacity||t.material.opacity,t.material.tempColor=t.material.tempColor||t.material.color.clone(),t.material.color.copy(t.material.tempColor),t.material.opacity=t.material.tempOpacity,r.enabled?r.axis&&(t.name===r.axis||r.axis.split("").some((function(e){return t.name===e}))?(t.material.opacity=1,t.material.color.lerp(new g.Color(1,1,1),.5)):(t.material.opacity*=.25,t.material.color.lerp(new g.Color(1,1,1),.5))):(t.material.opacity*=.5,t.material.color.lerp(new g.Color(1,1,1),.5))},s=0;s<a.length;s++)o(s);(0,oe.Z)((e=(0,K.Z)(r),(0,se.Z)(n.prototype)),"updateMatrixWorld",e).call(e)}));var i=new g.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:g.DoubleSide,fog:!1,toneMapped:!1}),o=new g.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),s=i.clone();s.opacity=.15;var u=i.clone();u.opacity=.33;var l=i.clone();l.color.set(16711680);var c=i.clone();c.color.set(65280);var f=i.clone();f.color.set(255);var d=i.clone();d.opacity=.25;var p=d.clone();p.color.set(16776960);var h=d.clone();h.color.set(65535);var v=d.clone();v.color.set(16711935),i.clone().color.set(16776960);var m=o.clone();m.color.set(16711680);var y=o.clone();y.color.set(65280);var b=o.clone();b.color.set(255);var w=o.clone();w.color.set(65535);var x=o.clone();x.color.set(16711935);var _=o.clone();_.color.set(16776960);var S=o.clone();S.color.set(7895160);var k=_.clone();k.opacity=.25;var E=new g.CylinderGeometry(0,.05,.2,12,1,!1),C=new g.BoxGeometry(.125,.125,.125),M=new g.BufferGeometry;M.setAttribute("position",new g.Float32BufferAttribute([0,0,0,1,0,0],3));var T=function(e,t){for(var n=new g.BufferGeometry,r=[],i=0;i<=64*t;++i)r.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new g.Float32BufferAttribute(r,3)),n},P={X:[[new g.Mesh(E,l),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new g.Mesh(E,l),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new g.Line(M,m)]],Y:[[new g.Mesh(E,c),[0,1,0],null,null,"fwd"],[new g.Mesh(E,c),[0,1,0],[Math.PI,0,0],null,"bwd"],[new g.Line(M,y),null,[0,0,Math.PI/2]]],Z:[[new g.Mesh(E,f),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new g.Mesh(E,f),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new g.Line(M,b),null,[0,-Math.PI/2,0]]],XYZ:[[new g.Mesh(new g.OctahedronGeometry(.1,0),d.clone()),[0,0,0],[0,0,0]]],XY:[[new g.Mesh(new g.PlaneGeometry(.295,.295),p.clone()),[.15,.15,0]],[new g.Line(M,_),[.18,.3,0],null,[.125,1,1]],[new g.Line(M,_),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new g.Mesh(new g.PlaneGeometry(.295,.295),h.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new g.Line(M,w),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new g.Line(M,w),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new g.Mesh(new g.PlaneGeometry(.295,.295),v.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new g.Line(M,x),[.18,0,.3],null,[.125,1,1]],[new g.Line(M,x),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},A={X:[[new g.Mesh(new g.CylinderGeometry(.2,0,1,4,1,!1),s),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new g.Mesh(new g.CylinderGeometry(.2,0,1,4,1,!1),s),[0,.6,0]]],Z:[[new g.Mesh(new g.CylinderGeometry(.2,0,1,4,1,!1),s),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new g.Mesh(new g.OctahedronGeometry(.2,0),s)]],XY:[[new g.Mesh(new g.PlaneGeometry(.4,.4),s),[.2,.2,0]]],YZ:[[new g.Mesh(new g.PlaneGeometry(.4,.4),s),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new g.Mesh(new g.PlaneGeometry(.4,.4),s),[.2,0,.2],[-Math.PI/2,0,0]]]},D={START:[[new g.Mesh(new g.OctahedronGeometry(.01,2),u),null,null,null,"helper"]],END:[[new g.Mesh(new g.OctahedronGeometry(.01,2),u),null,null,null,"helper"]],DELTA:[[new g.Line(function(){var e=new g.BufferGeometry;return e.setAttribute("position",new g.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),u),null,null,null,"helper"]],X:[[new g.Line(M,u.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new g.Line(M,u.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new g.Line(M,u.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},I={X:[[new g.Line(T(1,.5),m)],[new g.Mesh(new g.OctahedronGeometry(.04,0),l),[0,0,.99],null,[1,3,1]]],Y:[[new g.Line(T(1,.5),y),null,[0,0,-Math.PI/2]],[new g.Mesh(new g.OctahedronGeometry(.04,0),c),[0,0,.99],null,[3,1,1]]],Z:[[new g.Line(T(1,.5),b),null,[0,Math.PI/2,0]],[new g.Mesh(new g.OctahedronGeometry(.04,0),f),[.99,0,0],null,[1,3,1]]],E:[[new g.Line(T(1.25,1),k),null,[0,Math.PI/2,0]],[new g.Mesh(new g.CylinderGeometry(.03,0,.15,4,1,!1),k),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new g.Mesh(new g.CylinderGeometry(.03,0,.15,4,1,!1),k),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new g.Mesh(new g.CylinderGeometry(.03,0,.15,4,1,!1),k),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new g.Mesh(new g.CylinderGeometry(.03,0,.15,4,1,!1),k),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new g.Line(T(1,1),S),null,[0,Math.PI/2,0]]]},R={AXIS:[[new g.Line(M,u.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},O={X:[[new g.Mesh(new g.TorusGeometry(1,.1,4,24),s),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new g.Mesh(new g.TorusGeometry(1,.1,4,24),s),[0,0,0],[Math.PI/2,0,0]]],Z:[[new g.Mesh(new g.TorusGeometry(1,.1,4,24),s),[0,0,0],[0,0,-Math.PI/2]]],E:[[new g.Mesh(new g.TorusGeometry(1.25,.1,2,24),s)]],XYZE:[[new g.Mesh(new g.SphereGeometry(.7,10,8),s)]]},L={X:[[new g.Mesh(C,l),[.8,0,0],[0,0,-Math.PI/2]],[new g.Line(M,m),null,null,[.8,1,1]]],Y:[[new g.Mesh(C,c),[0,.8,0]],[new g.Line(M,y),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new g.Mesh(C,f),[0,0,.8],[Math.PI/2,0,0]],[new g.Line(M,b),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new g.Mesh(C,p),[.85,.85,0],null,[2,2,.2]],[new g.Line(M,_),[.855,.98,0],null,[.125,1,1]],[new g.Line(M,_),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new g.Mesh(C,h),[0,.85,.85],null,[.2,2,2]],[new g.Line(M,w),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new g.Line(M,w),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new g.Mesh(C,v),[.85,0,.85],null,[2,.2,2]],[new g.Line(M,x),[.855,0,.98],null,[.125,1,1]],[new g.Line(M,x),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new g.Mesh(new g.BoxGeometry(.125,.125,.125),d.clone()),[1.1,0,0]]],XYZY:[[new g.Mesh(new g.BoxGeometry(.125,.125,.125),d.clone()),[0,1.1,0]]],XYZZ:[[new g.Mesh(new g.BoxGeometry(.125,.125,.125),d.clone()),[0,0,1.1]]]},N={X:[[new g.Mesh(new g.CylinderGeometry(.2,0,.8,4,1,!1),s),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new g.Mesh(new g.CylinderGeometry(.2,0,.8,4,1,!1),s),[0,.5,0]]],Z:[[new g.Mesh(new g.CylinderGeometry(.2,0,.8,4,1,!1),s),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new g.Mesh(C,s),[.85,.85,0],null,[3,3,.2]]],YZ:[[new g.Mesh(C,s),[0,.85,.85],null,[.2,3,3]]],XZ:[[new g.Mesh(C,s),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new g.Mesh(new g.BoxGeometry(.2,.2,.2),s),[1.1,0,0]]],XYZY:[[new g.Mesh(new g.BoxGeometry(.2,.2,.2),s),[0,1.1,0]]],XYZZ:[[new g.Mesh(new g.BoxGeometry(.2,.2,.2),s),[0,0,1.1]]]},z={X:[[new g.Line(M,u.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new g.Line(M,u.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new g.Line(M,u.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},F=function(e){var t=new g.Object3D;for(var n in e)for(var r=e[n].length;r--;){var i=e[n][r][0].clone(),a=e[n][r][1],o=e[n][r][2],s=e[n][r][3],u=e[n][r][4];i.name=n,i.tag=u,a&&i.position.set(a[0],a[1],a[2]),o&&i.rotation.set(o[0],o[1],o[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();var l=i.geometry.clone();l.applyMatrix4(i.matrix),i.geometry=l,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t};return r.gizmo={},r.picker={},r.helper={},r.add(r.gizmo.translate=F(P)),r.add(r.gizmo.rotate=F(I)),r.add(r.gizmo.scale=F(L)),r.add(r.picker.translate=F(A)),r.add(r.picker.rotate=F(O)),r.add(r.picker.scale=F(N)),r.add(r.helper.translate=F(D)),r.add(r.helper.rotate=F(R)),r.add(r.helper.scale=F(z)),r.picker.translate.visible=!1,r.picker.rotate.visible=!1,r.picker.scale.visible=!1,r}return(0,o.Z)(n)}(g.Object3D),de=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e,r;return(0,a.Z)(this,n),r=t.call(this,new g.PlaneGeometry(1e5,1e5,2,2),new g.MeshBasicMaterial({visible:!1,wireframe:!0,side:g.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),le((0,K.Z)(r),"isTransformControlsPlane",!0),le((0,K.Z)(r),"type","TransformControlsPlane"),le((0,K.Z)(r),"unitX",new g.Vector3(1,0,0)),le((0,K.Z)(r),"unitY",new g.Vector3(0,1,0)),le((0,K.Z)(r),"unitZ",new g.Vector3(0,0,1)),le((0,K.Z)(r),"tempVector",new g.Vector3),le((0,K.Z)(r),"dirVector",new g.Vector3),le((0,K.Z)(r),"alignVector",new g.Vector3),le((0,K.Z)(r),"tempMatrix",new g.Matrix4),le((0,K.Z)(r),"identityQuaternion",new g.Quaternion),le((0,K.Z)(r),"cameraQuaternion",new g.Quaternion),le((0,K.Z)(r),"worldPosition",new g.Vector3),le((0,K.Z)(r),"worldQuaternion",new g.Quaternion),le((0,K.Z)(r),"eye",new g.Vector3),le((0,K.Z)(r),"axis",null),le((0,K.Z)(r),"mode","translate"),le((0,K.Z)(r),"space","world"),le((0,K.Z)(r),"updateMatrixWorld",(function(){var t=r.space;switch(r.position.copy(r.worldPosition),"scale"===r.mode&&(t="local"),r.unitX.set(1,0,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitY.set(0,1,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitZ.set(0,0,1).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.alignVector.copy(r.unitY),r.mode){case"translate":case"scale":switch(r.axis){case"X":r.alignVector.copy(r.eye).cross(r.unitX),r.dirVector.copy(r.unitX).cross(r.alignVector);break;case"Y":r.alignVector.copy(r.eye).cross(r.unitY),r.dirVector.copy(r.unitY).cross(r.alignVector);break;case"Z":r.alignVector.copy(r.eye).cross(r.unitZ),r.dirVector.copy(r.unitZ).cross(r.alignVector);break;case"XY":r.dirVector.copy(r.unitZ);break;case"YZ":r.dirVector.copy(r.unitX);break;case"XZ":r.alignVector.copy(r.unitZ),r.dirVector.copy(r.unitY);break;case"XYZ":case"E":r.dirVector.set(0,0,0)}break;default:r.dirVector.set(0,0,0)}0===r.dirVector.length()?r.quaternion.copy(r.cameraQuaternion):(r.tempMatrix.lookAt(r.tempVector.set(0,0,0),r.dirVector,r.alignVector),r.quaternion.setFromRotationMatrix(r.tempMatrix)),(0,oe.Z)((e=(0,K.Z)(r),(0,se.Z)(n.prototype)),"updateMatrixWorld",e).call(e)})),r}return(0,o.Z)(n)}(g.Mesh),pe=["children","domElement","onChange","onMouseDown","onMouseUp","onObjectChange","object","makeDefault"],he=["camera"],ve=t.forwardRef((function(e,n){var r=e.children,i=e.domElement,a=e.onChange,o=e.onMouseDown,s=e.onMouseUp,u=e.onObjectChange,l=e.object,c=e.makeDefault,f=(0,p.Z)(e,pe),d=["enabled","axis","mode","translationSnap","rotationSnap","scaleSnap","space","size","showX","showY","showZ"],h=f.camera,y=(0,p.Z)(f,he),b=ae()(y,d),w=re()(y,d),x=(0,v.z)((function(e){return e.controls})),_=(0,v.z)((function(e){return e.gl})),S=(0,v.z)((function(e){return e.events})),k=(0,v.z)((function(e){return e.camera})),E=(0,v.z)((function(e){return e.invalidate})),C=(0,v.z)((function(e){return e.get})),M=(0,v.z)((function(e){return e.set})),T=h||k,P=i||S.connected||_.domElement,A=t.useMemo((function(){return new ce(T,P)}),[T,P]),D=t.useRef();t.useLayoutEffect((function(){return l?A.attach(l instanceof g.Object3D?l:l.current):D.current instanceof g.Object3D&&A.attach(D.current),function(){A.detach()}}),[l,r,A]),t.useEffect((function(){if(x){var e=function(e){return x.enabled=!e.value};return A.addEventListener("dragging-changed",e),function(){return A.removeEventListener("dragging-changed",e)}}}),[A,x]);var I=t.useRef(),R=t.useRef(),O=t.useRef(),L=t.useRef();return t.useLayoutEffect((function(){I.current=a}),[a]),t.useLayoutEffect((function(){R.current=o}),[o]),t.useLayoutEffect((function(){O.current=s}),[s]),t.useLayoutEffect((function(){L.current=u}),[u]),t.useEffect((function(){var e=function(e){E(),null==I.current||I.current(e)},t=function(e){return null==R.current?void 0:R.current(e)},n=function(e){return null==O.current?void 0:O.current(e)},r=function(e){return null==L.current?void 0:L.current(e)};return A.addEventListener("change",e),A.addEventListener("mouseDown",t),A.addEventListener("mouseUp",n),A.addEventListener("objectChange",r),function(){A.removeEventListener("change",e),A.removeEventListener("mouseDown",t),A.removeEventListener("mouseUp",n),A.removeEventListener("objectChange",r)}}),[E,A]),t.useEffect((function(){if(c){var e=C().controls;return M({controls:A}),function(){return M({controls:e})}}}),[c,A]),A?t.createElement(t.Fragment,null,t.createElement("primitive",m({ref:n,object:A},b)),t.createElement("group",m({ref:D},w),r)):null}));function me(e,t){return function(){return e.apply(t,arguments)}}var ge=Object.prototype.toString,ye=Object.getPrototypeOf,be=function(e){return function(t){var n=ge.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null)),we=function(e){return e=e.toLowerCase(),function(t){return be(t)===e}},xe=function(e){return function(t){return typeof t===e}},_e=Array.isArray,Se=xe("undefined");var ke=we("ArrayBuffer");var Ee=xe("string"),Ce=xe("function"),Me=xe("number"),Te=function(e){return null!==e&&"object"===typeof e},Pe=function(e){if("object"!==be(e))return!1;var t=ye(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ae=we("Date"),De=we("File"),Ie=we("Blob"),Re=we("FileList"),Oe=we("URLSearchParams");function Le(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),_e(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var s,u=o?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;for(n=0;n<l;n++)s=u[n],t.call(null,e[s],s,e)}}var Ne,ze=(Ne="undefined"!==typeof Uint8Array&&ye(Uint8Array),function(e){return Ne&&e instanceof Ne}),Fe=we("HTMLFormElement"),je=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Be=we("RegExp"),Ue=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Le(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},Ze={isArray:_e,isArrayBuffer:ke,isBuffer:function(e){return null!==e&&!Se(e)&&null!==e.constructor&&!Se(e.constructor)&&Ce(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||ge.call(e)===t||Ce(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ke(e.buffer)},isString:Ee,isNumber:Me,isBoolean:function(e){return!0===e||!1===e},isObject:Te,isPlainObject:Pe,isUndefined:Se,isDate:Ae,isFile:De,isBlob:Ie,isRegExp:Be,isFunction:Ce,isStream:function(e){return Te(e)&&Ce(e.pipe)},isURLSearchParams:Oe,isTypedArray:ze,isFileList:Re,forEach:Le,merge:function e(){for(var t={},n=function(n,r){Pe(t[r])&&Pe(n)?t[r]=e(t[r],n):Pe(n)?t[r]=e({},n):_e(n)?t[r]=n.slice():t[r]=n},r=0,i=arguments.length;r<i;r++)arguments[r]&&Le(arguments[r],n);return t},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return Le(t,(function(t,r){n&&Ce(t)?e[r]=me(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&ye(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:be,kindOfTest:we,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(_e(e))return e;var t=e.length;if(!Me(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Fe,hasOwnProperty:je,hasOwnProp:je,reduceDescriptors:Ue,freezeMethods:function(e){Ue(e,(function(t,n){var r=e[n];Ce(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return _e(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t}};function Ve(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Ze.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var He=Ve.prototype,We={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){We[e]={value:e}})),Object.defineProperties(Ve,We),Object.defineProperty(He,"isAxiosError",{value:!0}),Ve.from=function(e,t,n,r,i,a){var o=Object.create(He);return Ze.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Ve.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Ge=Ve,qe=n(8725);function Xe(e){return Ze.isPlainObject(e)||Ze.isArray(e)}function Ke(e){return Ze.endsWith(e,"[]")?e.slice(0,-2):e}function Ye(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ke(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Qe=Ze.toFlatObject(Ze,{},null,(function(e){return/^is[A-Z]/.test(e)}));var $e=function(e,t,n){if(!Ze.isObject(e))throw new TypeError("target must be an object");t=t||new(qe||FormData);var r,i=(n=Ze.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ze.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,o=n.dots,s=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&Ze.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!Ze.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ze.isDate(e))return e.toISOString();if(!u&&Ze.isBlob(e))throw new Ge("Blob is not supported. Use a Buffer instead.");return Ze.isArrayBuffer(e)||Ze.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(Ze.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ze.isArray(e)&&function(e){return Ze.isArray(e)&&!e.some(Xe)}(e)||Ze.isFileList(e)||Ze.endsWith(n,"[]")&&(a=Ze.toArray(e)))return n=Ke(n),a.forEach((function(e,r){!Ze.isUndefined(e)&&null!==e&&t.append(!0===s?Ye([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!Xe(e)||(t.append(Ye(r,n,o),l(e)),!1)}var f=[],d=Object.assign(Qe,{defaultVisitor:c,convertValue:l,isVisitable:Xe});if(!Ze.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ze.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),Ze.forEach(n,(function(n,i){!0===(!(Ze.isUndefined(n)||null===n)&&a.call(t,n,Ze.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),f.pop()}}(e),t};function Je(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function et(e,t){this._pairs=[],e&&$e(e,this,t)}var tt=et.prototype;tt.append=function(e,t){this._pairs.push([e,t])},tt.toString=function(e){var t=e?function(t){return e.call(this,t,Je)}:Je;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var nt=et;function rt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function it(e,t,n){if(!t)return e;var r,i=n&&n.encode||rt,a=n&&n.serialize;if(r=a?a(t,n):Ze.isURLSearchParams(t)?t.toString():new nt(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var at=function(){function e(){(0,a.Z)(this,e),this.handlers=[]}return(0,o.Z)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Ze.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),ot=at,st={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ut="undefined"!==typeof URLSearchParams?URLSearchParams:nt,lt=FormData,ct=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),ft={isBrowser:!0,classes:{URLSearchParams:ut,FormData:lt,Blob:Blob},isStandardBrowserEnv:ct,protocols:["http","https","file","blob","url","data"]};var dt=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&Ze.isArray(r)?r.length:a,s?(Ze.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Ze.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Ze.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Ze.isFormData(e)&&Ze.isFunction(e.entries)){var n={};return Ze.forEachEntry(e,(function(e,r){t(function(e){return Ze.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var pt=ft.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Ze.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ze.isString(r)&&o.push("path="+r),Ze.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function ht(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var vt=ft.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Ze.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function mt(e,t,n){Ge.call(this,null==e?"canceled":e,Ge.ERR_CANCELED,t,n),this.name="CanceledError"}Ze.inherits(mt,Ge,{__CANCEL__:!0});var gt=mt;var yt=Ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bt=Symbol("internals"),wt=Symbol("defaults");function xt(e){return e&&String(e).trim().toLowerCase()}function _t(e){return!1===e||null==e?e:Ze.isArray(e)?e.map(_t):String(e)}function St(e,t,n,r){return Ze.isFunction(r)?r.call(this,t,n):Ze.isString(t)?Ze.isString(r)?-1!==t.indexOf(r):Ze.isRegExp(r)?r.test(t):void 0:void 0}function kt(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}function Et(e,t){e&&this.set(e),this[wt]=t||null}Object.assign(Et.prototype,{set:function(e,t,n){var r=this;function i(e,t,n){var i=xt(t);if(!i)throw new Error("header name must be a non-empty string");var a=kt(r,i);(!a||!0===n||!1!==r[a]&&!1!==n)&&(r[a||t]=_t(e))}return Ze.isPlainObject(e)?Ze.forEach(e,(function(e,n){i(e,n,t)})):i(t,e,n),this},get:function(e,t){if(e=xt(e)){var n=kt(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Ze.isFunction(t))return t.call(this,r,n);if(Ze.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}},has:function(e,t){if(e=xt(e)){var n=kt(this,e);return!(!n||t&&!St(0,this[n],n,t))}return!1},delete:function(e,t){var n=this,r=!1;function i(e){if(e=xt(e)){var i=kt(n,e);!i||t&&!St(0,n[i],i,t)||(delete n[i],r=!0)}}return Ze.isArray(e)?e.forEach(i):i(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){var t=this,n={};return Ze.forEach(this,(function(r,i){var a=kt(n,i);if(a)return t[a]=_t(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=_t(r),n[o]=!0})),this},toJSON:function(e){var t=Object.create(null);return Ze.forEach(Object.assign({},this[wt]||null,this),(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Ze.isArray(n)?n.join(", "):n)})),t}}),Object.assign(Et,{from:function(e){return Ze.isString(e)?new this(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&yt[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e)):e instanceof this?e:new this(e)},accessor:function(e){var t=(this[bt]=this[bt]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=xt(e);t[r]||(!function(e,t){var n=Ze.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Ze.isArray(e)?e.forEach(r):r(e),this}}),Et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),Ze.freezeMethods(Et.prototype),Ze.freezeMethods(Et);var Ct=Et;var Mt=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),l=i[o];n||(n=u),r[a]=s,i[a]=u;for(var c=o,f=0;c!==a;)f+=r[c++],c%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var d=l&&u-l;return d?Math.round(1e3*f/d):void 0}}};function Tt(e,t){var n=0,r=Mt(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var l={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0};l[t?"download":"upload"]=!0,e(l)}}function Pt(e){return new Promise((function(t,n){var r,i=e.data,a=Ct.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Ze.isFormData(i)&&ft.isStandardBrowserEnv&&a.setContentType(!1);var u=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(l+":"+c))}var f=ht(e.baseURL,e.url);function d(){if(u){var r=Ct.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ge("Request failed with status code "+n.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),it(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new Ge("Request aborted",Ge.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new Ge("Network Error",Ge.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||st;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Ge(t,r.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,e,u)),u=null},ft.isStandardBrowserEnv){var p=(e.withCredentials||vt(f))&&e.xsrfCookieName&&pt.read(e.xsrfCookieName);p&&a.set(e.xsrfHeaderName,p)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&Ze.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Ze.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Tt(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Tt(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new gt(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var h=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);h&&-1===ft.protocols.indexOf(h)?n(new Ge("Unsupported protocol "+h+":",Ge.ERR_BAD_REQUEST,e)):u.send(i||null)}))}var At={http:Pt,xhr:Pt},Dt=function(e){if(Ze.isString(e)){var t=At[e];if(!e)throw Error(Ze.hasOwnProp(e)?"Adapter '".concat(e,"' is not available in the build"):"Can not resolve adapter '".concat(e,"'"));return t}if(!Ze.isFunction(e))throw new TypeError("adapter is not a function");return e},It={"Content-Type":"application/x-www-form-urlencoded"};var Rt={transitional:st,adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=Dt("xhr"):"undefined"!==typeof process&&"process"===Ze.kindOf(process)&&(e=Dt("http")),e}(),transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Ze.isObject(e);if(a&&Ze.isHTMLForm(e)&&(e=new FormData(e)),Ze.isFormData(e))return i&&i?JSON.stringify(dt(e)):e;if(Ze.isArrayBuffer(e)||Ze.isBuffer(e)||Ze.isStream(e)||Ze.isFile(e)||Ze.isBlob(e))return e;if(Ze.isArrayBufferView(e))return e.buffer;if(Ze.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return $e(e,new ft.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ft.isNode&&Ze.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Ze.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return $e(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Ze.isString(e))try{return(t||JSON.parse)(e),Ze.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Rt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Ze.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Ge.from(a,Ge.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ze.forEach(["delete","get","head"],(function(e){Rt.headers[e]={}})),Ze.forEach(["post","put","patch"],(function(e){Rt.headers[e]=Ze.merge(It)}));var Ot=Rt;function Lt(e,t){var n=this||Ot,r=t||n,i=Ct.from(r.headers),a=r.data;return Ze.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Nt(e){return!(!e||!e.__CANCEL__)}function zt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gt}function Ft(e){return zt(e),e.headers=Ct.from(e.headers),e.data=Lt.call(e,e.transformRequest),(e.adapter||Ot.adapter)(e).then((function(t){return zt(e),t.data=Lt.call(e,e.transformResponse,t),t.headers=Ct.from(t.headers),t}),(function(t){return Nt(t)||(zt(e),t&&t.response&&(t.response.data=Lt.call(e,e.transformResponse,t.response),t.response.headers=Ct.from(t.response.headers))),Promise.reject(t)}))}function jt(e,t){t=t||{};var n={};function r(e,t){return Ze.isPlainObject(e)&&Ze.isPlainObject(t)?Ze.merge(e,t):Ze.isPlainObject(t)?Ze.merge({},t):Ze.isArray(t)?t.slice():t}function i(n){return Ze.isUndefined(t[n])?Ze.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function a(e){if(!Ze.isUndefined(t[e]))return r(void 0,t[e])}function o(n){return Ze.isUndefined(t[n])?Ze.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s};return Ze.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,r=t(e);Ze.isUndefined(r)&&t!==s||(n[e]=r)})),n}var Bt="1.1.3",Ut={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Ut[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Zt={};Ut.transitional=function(e,t,n){function r(e,t){return"[Axios v1.1.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Ge(r(i," has been removed"+(t?" in "+t:"")),Ge.ERR_DEPRECATED);return t&&!Zt[i]&&(Zt[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Vt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new Ge("option "+a+" must be "+u,Ge.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ge("Unknown option "+a,Ge.ERR_BAD_OPTION)}},validators:Ut},Ht=Vt.validators,Wt=function(){function e(t){(0,a.Z)(this,e),this.defaults=t,this.interceptors={request:new ot,response:new ot}}return(0,o.Z)(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=jt(this.defaults,t),r=n.transitional,i=n.paramsSerializer;void 0!==r&&Vt.assertOptions(r,{silentJSONParsing:Ht.transitional(Ht.boolean),forcedJSONParsing:Ht.transitional(Ht.boolean),clarifyTimeoutError:Ht.transitional(Ht.boolean)},!1),void 0!==i&&Vt.assertOptions(i,{encode:Ht.function,serialize:Ht.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();var a=t.headers&&Ze.merge(t.headers.common,t.headers[t.method]);a&&Ze.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),t.headers=new Ct(t.headers,a);var o=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));var u,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var c,f=0;if(!s){var d=[Ft.bind(this),void 0];for(d.unshift.apply(d,o),d.push.apply(d,l),c=d.length,u=Promise.resolve(t);f<c;)u=u.then(d[f++],d[f++]);return u}c=o.length;var p=t;for(f=0;f<c;){var h=o[f++],v=o[f++];try{p=h(p)}catch(m){v.call(this,m);break}}try{u=Ft.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,c=l.length;f<c;)u=u.then(l[f++],l[f++]);return u}},{key:"getUri",value:function(e){return it(ht((e=jt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Ze.forEach(["delete","get","head","options"],(function(e){Wt.prototype[e]=function(t,n){return this.request(jt(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ze.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(jt(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Wt.prototype[e]=t(),Wt.prototype[e+"Form"]=t(!0)}));var Gt=Wt,qt=function(){function e(t){if((0,a.Z)(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new gt(e,t,i),n(r.reason))}))}return(0,o.Z)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),Xt=qt;var Kt=function e(t){var n=new Gt(t),r=me(Gt.prototype.request,n);return Ze.extend(r,Gt.prototype,n,{allOwnKeys:!0}),Ze.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(jt(t,n))},r}(Ot);Kt.Axios=Gt,Kt.CanceledError=gt,Kt.CancelToken=Xt,Kt.isCancel=Nt,Kt.VERSION=Bt,Kt.toFormData=$e,Kt.AxiosError=Ge,Kt.Cancel=Kt.CanceledError,Kt.all=function(e){return Promise.all(e)},Kt.spread=function(e){return function(t){return e.apply(null,t)}},Kt.isAxiosError=function(e){return Ze.isObject(e)&&!0===e.isAxiosError},Kt.formToJSON=function(e){return dt(Ze.isHTMLForm(e)?new FormData(e):e)};var Yt=Kt,Qt=(Yt.Axios,Yt.AxiosError,Yt.CanceledError,Yt.isCancel,Yt.CancelToken,Yt.VERSION,Yt.all,Yt.Cancel,Yt.isAxiosError,Yt.spread,Yt.toFormData,Yt),$t=n(3133),Jt=Object.create(null);Jt.open="0",Jt.close="1",Jt.ping="2",Jt.pong="3",Jt.message="4",Jt.upgrade="5",Jt.noop="6";var en=Object.create(null);Object.keys(Jt).forEach((function(e){en[Jt[e]]=e}));for(var tn={type:"error",data:"parser error"},nn="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),rn="function"===typeof ArrayBuffer,an=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},on=function(e,t,n){var r,i=e.type,a=e.data;return nn&&a instanceof Blob?t?n(a):an(a,n):rn&&(a instanceof ArrayBuffer||(r=a,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?t?n(a):an(new Blob([a]),n):n(Jt[i]+(a||""))},sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",un="undefined"===typeof Uint8Array?[]:new Uint8Array(256),ln=0;ln<sn.length;ln++)un[sn.charCodeAt(ln)]=ln;var cn="function"===typeof ArrayBuffer,fn=function(e,t){if(cn){var n=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var l=new ArrayBuffer(o),c=new Uint8Array(l);for(t=0;t<s;t+=4)n=un[e.charCodeAt(t)],r=un[e.charCodeAt(t+1)],i=un[e.charCodeAt(t+2)],a=un[e.charCodeAt(t+3)],c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&a;return l}(e);return dn(n,t)}return{base64:!0,data:e}},dn=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},pn=function(e,t){if("string"!==typeof e)return{type:"message",data:dn(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:fn(e.substring(1),t)}:en[n]?e.length>1?{type:en[n],data:e.substring(1)}:{type:en[n]}:tn},hn=String.fromCharCode(30);function vn(e){if(e)return function(e){for(var t in vn.prototype)e[t]=vn.prototype[t];return e}(e)}vn.prototype.on=vn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},vn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},vn.prototype.off=vn.prototype.removeListener=vn.prototype.removeAllListeners=vn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},vn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},vn.prototype.emitReserved=vn.prototype.emit,vn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},vn.prototype.hasListeners=function(e){return!!this.listeners(e).length};var mn="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var yn=setTimeout,bn=clearTimeout;function wn(e,t){t.useNativeTimers?(e.setTimeoutFn=yn.bind(mn),e.clearTimeoutFn=bn.bind(mn)):(e.setTimeoutFn=setTimeout.bind(mn),e.clearTimeoutFn=clearTimeout.bind(mn))}var xn,_n=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this,e)).description=r,o.context=i,o.type="TransportError",o}return(0,o.Z)(n)}((0,$t.Z)(Error)),Sn=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).writable=!1,wn((0,K.Z)(r),e),r.opts=e,r.query=e.query,r.readyState="",r.socket=e.socket,r}return(0,o.Z)(n,[{key:"onError",value:function(e,t,r){return(0,oe.Z)((0,se.Z)(n.prototype),"emitReserved",this).call(this,"error",new _n(e,t,r)),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,(0,oe.Z)((0,se.Z)(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=pn(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){(0,oe.Z)((0,se.Z)(n.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",(0,oe.Z)((0,se.Z)(n.prototype),"emitReserved",this).call(this,"close",e)}}]),n}(vn),kn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),En={},Cn=0,Mn=0;function Tn(e){var t="";do{t=kn[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Pn(){var e=Tn(+new Date);return e!==xn?(Cn=0,xn=e):e+"."+Tn(Cn++)}for(;Mn<64;Mn++)En[kn[Mn]]=Mn;function An(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Dn(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}var In=!1;try{In="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Zf){}var Rn=In;function On(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Rn))return new XMLHttpRequest}catch(n){}if(!t)try{return new(mn[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function Ln(){}var Nn=null!=new On({xdomain:!1}).responseType,zn=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;if((0,a.Z)(this,n),(r=t.call(this,e)).polling=!1,"undefined"!==typeof location){var i="https:"===location.protocol,o=location.port;o||(o=i?"443":"80"),r.xd="undefined"!==typeof location&&e.hostname!==location.hostname||o!==e.port,r.xs=e.secure!==i}var s=e&&e.forceBase64;return r.supportsBinary=Nn&&!s,r}return(0,o.Z)(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(hn),r=[],i=0;i<n.length;i++){var a=pn(n[i],t);if(r.push(a),"error"===a.type)break}return r})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,r=new Array(n),i=0;e.forEach((function(e,a){on(e,!1,(function(e){r[a]=e,++i===n&&t(r.join(hn))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Pn()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var r=An(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Fn(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}]),n}(Sn),Fn=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),i=t.call(this),wn((0,K.Z)(i),r),i.opts=r,i.method=r.method||"GET",i.uri=e,i.async=!1!==r.async,i.data=void 0!==r.data?r.data:null,i.create(),i}return(0,o.Z)(n,[{key:"create",value:function(){var e=this,t=gn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var r=this.xhr=new On(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var i in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}catch(a){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{r.setRequestHeader("Accept","*/*")}catch(a){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(a){return void this.setTimeoutFn((function(){e.onError(a)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Ln,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(vn);if(Fn.requestsCount=0,Fn.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",jn);else if("function"===typeof addEventListener){addEventListener("onpagehide"in mn?"pagehide":"unload",jn,!1)}function jn(){for(var e in Fn.requests)Fn.requests.hasOwnProperty(e)&&Fn.requests[e].abort()}var Bn="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},Un=mn.WebSocket||mn.MozWebSocket,Zn="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Vn=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).supportsBinary=!e.forceBase64,r}return(0,o.Z)(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=Zn?{}:gn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Zn?new Un(e,t,n):t?new Un(e,t):new Un(e)}catch(Zf){return this.emitReserved("error",Zf)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(n){var r=e[n],i=n===e.length-1;on(r,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(n){}i&&Bn((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n(r)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Pn()),this.supportsBinary||(e.b64=1);var r=An(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"check",value:function(){return!!Un}}]),n}(Sn),Hn={websocket:Vn,polling:zn},Wn=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function qn(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=Wn.exec(e||""),a={},o=14;o--;)a[Gn[o]]=i[o]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,a.query),a}var Xn=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.Z)(this,n),r=t.call(this),e&&"object"===typeof e&&(i=e,e=null),e?(e=qn(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=qn(i.host).host),wn((0,K.Z)(r),i),r.secure=null!=i.secure?i.secure:"undefined"!==typeof location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=r.secure?"443":"80"),r.hostname=i.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=i.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=i.transports||["polling","websocket"],r.readyState="",r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),r.opts.path=r.opts.path.replace(/\/$/,"")+"/","string"===typeof r.opts.query&&(r.opts.query=Dn(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"===typeof addEventListener&&(r.opts.closeOnBeforeunload&&(r.beforeunloadEventListener=function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())},addEventListener("beforeunload",r.beforeunloadEventListener,!1)),"localhost"!==r.hostname&&(r.offlineEventListener=function(){r.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",r.offlineEventListener,!1))),r.open(),r}return(0,o.Z)(n,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Hn[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this,r=this.createTransport(e),i=!1;n.priorWebsocketSuccess=!1;var a=function(){i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(e){if(!i)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,t.transport.pause((function(){i||"closed"!==t.readyState&&(f(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emitReserved("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{var a=new Error("probe error");a.transport=r.name,t.emitReserved("upgradeError",a)}})))};function o(){i||(i=!0,f(),r.close(),r=null)}var s=function(e){var n=new Error("probe error: "+e);n.transport=r.name,o(),t.emitReserved("upgradeError",n)};function u(){s("transport closed")}function l(){s("socket closed")}function c(e){r&&e.name!==r.name&&o()}var f=function(){r.removeListener("open",a),r.removeListener("error",s),r.removeListener("close",u),t.off("close",l),t.off("upgrading",c)};r.once("open",a),r.once("error",s),r.once("close",u),this.once("close",l),this.once("upgrading",c),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(t+="string"===typeof(e=r)?function(e){for(var t=0,n=0,r=0,i=e.length;r<i;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(vn);Xn.protocol=4;Xn.protocol;var Kn="function"===typeof ArrayBuffer,Yn=Object.prototype.toString,Qn="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Yn.call(Blob),$n="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Yn.call(File);function Jn(e){return Kn&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||Qn&&e instanceof Blob||$n&&e instanceof File}function er(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(er(e[n]))return!0;return!1}if(Jn(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return er(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&er(e[i]))return!0;return!1}function tr(e){var t=[],n=e.data,r=e;return r.data=nr(n,t),r.attachments=t.length,{packet:r,buffers:t}}function nr(e,t){if(!e)return e;if(Jn(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=nr(e[i],t);return r}if("object"===typeof e&&!(e instanceof Date)){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=nr(e[o],t));return a}return e}function rr(e,t){return e.data=ir(e.data,t),e.attachments=void 0,e}function ir(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=ir(e[n],t);else if("object"===typeof e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=ir(e[r],t));return e}var ar,or=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ar||(ar={}));var sr=function(){function e(t){(0,a.Z)(this,e),this.replacer=t}return(0,o.Z)(e,[{key:"encode",value:function(e){return e.type!==ar.EVENT&&e.type!==ar.ACK||!er(e)?[this.encodeAsString(e)]:(e.type=e.type===ar.EVENT?ar.BINARY_EVENT:ar.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==ar.BINARY_EVENT&&e.type!==ar.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=tr(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}(),ur=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).reviver=e,r}return(0,o.Z)(n,[{key:"add",value:function(e){var t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");(t=this.decodeString(e)).type===ar.BINARY_EVENT||t.type===ar.BINARY_ACK?(this.reconstructor=new lr(t),0===t.attachments&&(0,oe.Z)((0,se.Z)(n.prototype),"emitReserved",this).call(this,"decoded",t)):(0,oe.Z)((0,se.Z)(n.prototype),"emitReserved",this).call(this,"decoded",t)}else{if(!Jn(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,(0,oe.Z)((0,se.Z)(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===ar[r.type])throw new Error("unknown packet type "+r.type);if(r.type===ar.BINARY_EVENT||r.type===ar.BINARY_ACK){for(var i=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var a=e.substring(i,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){for(var o=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(o,t)}else r.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var u=t+1;++t;){var l=e.charAt(t);if(null==l||Number(l)!=l){--t;break}if(t===e.length)break}r.id=Number(e.substring(u,t+1))}if(e.charAt(++t)){var c=this.tryParse(e.substr(t));if(!n.isPayloadValid(r.type,c))throw new Error("invalid payload");r.data=c}return r}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case ar.CONNECT:return"object"===typeof t;case ar.DISCONNECT:return void 0===t;case ar.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case ar.EVENT:case ar.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case ar.ACK:case ar.BINARY_ACK:return Array.isArray(t)}}}]),n}(vn),lr=function(){function e(t){(0,a.Z)(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return(0,o.Z)(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=rr(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function cr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var fr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),dr=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this)).connected=!1,o.receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=e,o.nsp=r,i&&i.auth&&(o.auth=i.auth),o.io._autoConnect&&o.open(),o}return(0,o.Z)(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[cr(e,"open",this.onopen.bind(this)),cr(e,"packet",this.onpacket.bind(this)),cr(e,"error",this.onerror.bind(this)),cr(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(fr.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var i={type:ar.EVENT,data:n,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var a=this.ids++,o=n.pop();this._registerAckCallback(a,o),i.id=a}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,u=this.flags.volatile&&(!s||!this.connected);return u||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n=this,r=this.flags.timeout;if(void 0!==r){var i=this.io.setTimeoutFn((function(){delete n.acks[e];for(var r=0;r<n.sendBuffer.length;r++)n.sendBuffer[r].id===e&&n.sendBuffer.splice(r,1);t.call(n,new Error("operation has timed out"))}),r);this.acks[e]=function(){n.io.clearTimeoutFn(i);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t.apply(n,[null].concat(r))}}else this.acks[e]=t}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e.packet({type:ar.CONNECT,data:t})})):this.packet({type:ar.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case ar.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ar.EVENT:case ar.BINARY_EVENT:this.onevent(e);break;case ar.ACK:case ar.BINARY_ACK:this.onack(e);break;case ar.DISCONNECT:this.ondisconnect();break;case ar.CONNECT_ERROR:this.destroy();var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,r=this._anyListeners.slice(),i=(0,k.Z)(r);try{for(i.s();!(t=i.n()).done;){t.value.apply(this,e)}}catch(Zf){i.e(Zf)}finally{i.f()}}(0,oe.Z)((0,se.Z)(n.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.packet({type:ar.ACK,id:e,data:i})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:ar.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=this._anyOutgoingListeners.slice(),r=(0,k.Z)(n);try{for(r.s();!(t=r.n()).done;){t.value.apply(this,e.data)}}catch(Zf){r.e(Zf)}finally{r.f()}}}}]),n}(vn);function pr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}pr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},pr.prototype.reset=function(){this.attempts=0},pr.prototype.setMin=function(e){this.ms=e},pr.prototype.setMax=function(e){this.max=e},pr.prototype.setJitter=function(e){this.jitter=e};var hr=function(t){(0,s.Z)(r,t);var n=(0,u.Z)(r);function r(t,i){var o,s;(0,a.Z)(this,r),(o=n.call(this)).nsps={},o.subs=[],t&&"object"===typeof t&&(i=t,t=void 0),(i=i||{}).path=i.path||"/socket.io",o.opts=i,wn((0,K.Z)(o),i),o.reconnection(!1!==i.reconnection),o.reconnectionAttempts(i.reconnectionAttempts||1/0),o.reconnectionDelay(i.reconnectionDelay||1e3),o.reconnectionDelayMax(i.reconnectionDelayMax||5e3),o.randomizationFactor(null!==(s=i.randomizationFactor)&&void 0!==s?s:.5),o.backoff=new pr({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==i.timeout?2e4:i.timeout),o._readyState="closed",o.uri=t;var u=i.parser||e;return o.encoder=new u.Encoder,o.decoder=new u.Decoder,o._autoConnect=!1!==i.autoConnect,o._autoConnect&&o.open(),o}return(0,o.Z)(r,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new Xn(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=cr(n,"open",(function(){r.onopen(),e&&e()})),a=cr(n,"error",(function(n){r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;0===o&&i();var s=this.setTimeoutFn((function(){i(),n.close(),n.emit("error",new Error("timeout"))}),o);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(i),this.subs.push(a),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(cr(e,"ping",this.onping.bind(this)),cr(e,"data",this.ondata.bind(this)),cr(e,"error",this.onerror.bind(this)),cr(e,"close",this.onclose.bind(this)),cr(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}},{key:"ondecoded",value:function(e){var t=this;Bn((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new dr(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),r}(vn),vr={};function mr(e,t){"object"===typeof e&&(t=e,e=void 0);var n,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=qn(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),i=r.source,a=r.id,o=r.path,s=vr[a]&&o in vr[a].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=new hr(i,t):(vr[a]||(vr[a]=new hr(i,t)),n=vr[a]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}Object.assign(mr,{Manager:hr,Socket:dr,io:mr,connect:mr});var gr=new g.Plane,yr=new g.Raycaster,br=new g.Vector2,wr=new g.Vector3,xr=new g.Vector3,_r=new g.Vector3,Sr=new g.Matrix4,kr=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i){var o;(0,a.Z)(this,n),o=t.call(this),i.style.touchAction="none";var s=null,u=null,l=[],c=(0,K.Z)(o);function f(){i.addEventListener("pointermove",p),i.addEventListener("pointerdown",h),i.addEventListener("pointerup",v),i.addEventListener("pointerleave",v)}function d(){i.removeEventListener("pointermove",p),i.removeEventListener("pointerdown",h),i.removeEventListener("pointerup",v),i.removeEventListener("pointerleave",v),i.style.cursor=""}function p(t){if(!1!==c.enabled){if(m(t),yr.setFromCamera(br,r),s)return yr.ray.intersectPlane(gr,xr)&&s.position.copy(xr.sub(wr).applyMatrix4(Sr)),void c.dispatchEvent({type:"drag",object:s});if("mouse"===t.pointerType||"pen"===t.pointerType)if(l.length=0,yr.setFromCamera(br,r),yr.intersectObjects(e,!0,l),l.length>0){var n=l[0].object;gr.setFromNormalAndCoplanarPoint(r.getWorldDirection(gr.normal),_r.setFromMatrixPosition(n.matrixWorld)),u!==n&&null!==u&&(c.dispatchEvent({type:"hoveroff",object:u}),i.style.cursor="auto",u=null),u!==n&&(c.dispatchEvent({type:"hoveron",object:n}),i.style.cursor="pointer",u=n)}else null!==u&&(c.dispatchEvent({type:"hoveroff",object:u}),i.style.cursor="auto",u=null)}}function h(t){!1!==c.enabled&&(m(t),l.length=0,yr.setFromCamera(br,r),yr.intersectObjects(e,!0,l),l.length>0&&(s=!0===c.transformGroup?e[0]:l[0].object,gr.setFromNormalAndCoplanarPoint(r.getWorldDirection(gr.normal),_r.setFromMatrixPosition(s.matrixWorld)),yr.ray.intersectPlane(gr,xr)&&(Sr.copy(s.parent.matrixWorld).invert(),wr.copy(xr).sub(_r.setFromMatrixPosition(s.matrixWorld))),i.style.cursor="move",c.dispatchEvent({type:"dragstart",object:s})))}function v(){!1!==c.enabled&&(s&&(c.dispatchEvent({type:"dragend",object:s}),s=null),i.style.cursor=u?"pointer":"auto")}function m(e){var t=i.getBoundingClientRect();br.x=(e.clientX-t.left)/t.width*2-1,br.y=-(e.clientY-t.top)/t.height*2+1}return f(),o.enabled=!0,o.transformGroup=!1,o.activate=f,o.deactivate=d,o.dispose=function(){d()},o.getObjects=function(){return e},o.getRaycaster=function(){return yr},o}return(0,o.Z)(n)}(g.EventDispatcher),Er="http://"+window.location.host.split(":")[0]+":9000",Cr=function(e){var t={string:e};Qt.post(Er+"/endpoint",t).then((function(e){})).catch((function(e){console.log("Error",e)}))};[].concat((0,f.Z)([{name:"roll-in-left",value:"@keyframes roll-in-left{0%{transform:translateX(-800px) rotate(-540deg);opacity:0}100%{transform:translateX(0) rotate(0deg);opacity:1}} div {animation:roll-in-left .6s ease-out both}"},{name:"rotate-in-center",value:"@keyframes rotate-in-center{0%{transform:rotate(-360deg);opacity:0}100%{transform:rotate(0);opacity:1}} div {animation:rotate-in-center .6s cubic-bezier(.25,.46,.45,.94) both}"},{name:"keyframes rotate-in-2-cw",value:"@keyframes rotate-in-2-cw{0%{transform:rotate(-45deg);opacity:0}100%{transform:rotate(0);opacity:1}} div{animation:rotate-in-2-cw .5s cubic-bezier(.25,.46,.45,.94) both}"},{name:"slide-in-left-bottom",value:"@keyframes slide-in-left-bottom{0%{transform:translateX(-1400px) translateY(800px);opacity:0}100%{transform:translateX(0) translateY(0);opacity:1}} div {animation:slide-in-left-bottom .7s cubic-bezier(.25,.46,.45,.94) both}"},{name:"animation:shake-horizontal",value:"@keyframes shake-horizontal{0%,100%{transform:translateX(0)}10%,30%,50%,70%{transform:translateX(-10px)}20%,40%,60%{transform:translateX(10px)}80%{transform:translateX(8px)}90%{transform:translateX(-8px)}} div {animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}"},{name:"bounce-top",value:"@keyframes bounce-top{0%{transform:translateY(-45px);animation-timing-function:ease-in;opacity:1}24%{opacity:1}40%{transform:translateY(-24px);animation-timing-function:ease-in}65%{transform:translateY(-12px);animation-timing-function:ease-in}82%{transform:translateY(-6px);animation-timing-function:ease-in}93%{transform:translateY(-4px);animation-timing-function:ease-in}25%,55%,75%,87%{transform:translateY(0);animation-timing-function:ease-out}100%{transform:translateY(0);animation-timing-function:ease-out;opacity:1}} div {animation:bounce-top .9s both}"},{name:"slide-in-bck-center",value:"@keyframes slide-in-bck-center{0%{transform:translateZ(600px);opacity:0}100%{transform:translateZ(0);opacity:1}} div {animation:slide-in-bck-center .7s cubic-bezier(.25,.46,.45,.94) both}"},{name:"blinking",value:"@keyframes blinking {50% {opacity:0}} div {animation:blinking 1s linear infinite; }"}].map((function(e){return e.name}))),["lefttoright","mix"]);var Mr=n(4593),Tr=["bevelEnabled","bevelSize","bevelThickness","font","height","size","lineHeight","letterSpacing"],Pr=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,n);var o=i.bevelEnabled,s=void 0!==o&&o,u=i.bevelSize,l=void 0===u?8:u,f=i.bevelThickness,d=void 0===f?10:f,h=i.font,v=i.height,m=void 0===v?50:v,g=i.size,y=void 0===g?100:g,b=i.lineHeight,w=void 0===b?1:b,x=i.letterSpacing,_=void 0===x?0:x,S=(0,p.Z)(i,Tr);if(void 0===h)r=t.call(this);else{var k=h.generateShapes(e,y,{lineHeight:w,letterSpacing:_});r=t.call(this,k,(0,c.Z)((0,c.Z)({},S),{},{bevelEnabled:s,bevelSize:l,bevelThickness:d,depth:m}))}return r.type="TextGeometry",(0,Mr.Z)(r)}return(0,o.Z)(n)}(g.ExtrudeGeometry);var Ar=function(){function e(){(0,a.Z)(this,e),this.pluginCallbacks=[],this.register((function(e){return new ai(e)})),this.register((function(e){return new oi(e)})),this.register((function(e){return new si(e)})),this.register((function(e){return new ci(e)})),this.register((function(e){return new fi(e)})),this.register((function(e){return new ui(e)})),this.register((function(e){return new li(e)}))}return(0,o.Z)(e,[{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){for(var i=new ii,a=[],o=0,s=this.pluginCallbacks.length;o<s;o++)a.push(this.pluginCallbacks[o](i));i.setPlugins(a),i.write(e,t,r).catch(n)}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,r,i,t)}))}}]),e}(),Dr=0,Ir=1,Rr=2,Or=3,Lr=4,Nr=5121,zr=5123,Fr=5126,jr=5125,Br=34962,Ur=34963,Zr=9728,Vr=9729,Hr=9984,Wr=9985,Gr=9986,qr=9987,Xr=33071,Kr=33648,Yr=10497,Qr={};Qr[g.NearestFilter]=Zr,Qr[g.NearestMipmapNearestFilter]=Hr,Qr[g.NearestMipmapLinearFilter]=Gr,Qr[g.LinearFilter]=Vr,Qr[g.LinearMipmapNearestFilter]=Wr,Qr[g.LinearMipmapLinearFilter]=qr,Qr[g.ClampToEdgeWrapping]=Xr,Qr[g.RepeatWrapping]=Yr,Qr[g.MirroredRepeatWrapping]=Kr;var $r={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"};function Jr(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function ei(e){return 4*Math.ceil(e/4)}function ti(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ei(e.byteLength);if(n!==e.byteLength){var r=new Uint8Array(n);if(r.set(new Uint8Array(e)),0!==t)for(var i=e.byteLength;i<n;i++)r[i]=t;return r.buffer}return e}function ni(){return"undefined"===typeof document&&"undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas")}function ri(e,t){return void 0!==e.toBlob?new Promise((function(n){return e.toBlob(n,t)})):("image/jpeg"===t?n=.92:"image/webp"===t&&(n=.8),e.convertToBlob({type:t,quality:n}));var n}var ii=function(){function e(){(0,a.Z)(this,e),this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}return(0,o.Z)(e,[{key:"setPlugins",value:function(e){this.plugins=e}},{key:"write",value:function(){var e=(0,l.Z)((0,i.Z)().mark((function e(t,n,r){var a,o,s,u,l,c,f,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},r),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(t),e.next=5,Promise.all(this.pending);case 5:o=(a=this).buffers,s=a.json,r=a.options,u=a.extensionsUsed,l=new Blob(o,{type:"application/octet-stream"}),(c=Object.keys(u)).length>0&&(s.extensionsUsed=c),s.buffers&&s.buffers.length>0&&(s.buffers[0].byteLength=l.size),!0===r.binary?((f=new FileReader).readAsArrayBuffer(l),f.onloadend=function(){var e=ti(f.result),t=new DataView(new ArrayBuffer(8));t.setUint32(0,e.byteLength,!0),t.setUint32(4,5130562,!0);var r,i=ti((r=JSON.stringify(s),(new TextEncoder).encode(r).buffer),32),a=new DataView(new ArrayBuffer(8));a.setUint32(0,i.byteLength,!0),a.setUint32(4,1313821514,!0);var o=new ArrayBuffer(12),u=new DataView(o);u.setUint32(0,1179937895,!0),u.setUint32(4,2,!0);var l=12+a.byteLength+i.byteLength+t.byteLength+e.byteLength;u.setUint32(8,l,!0);var c=new Blob([o,a,i,t,e],{type:"application/octet-stream"}),d=new FileReader;d.readAsArrayBuffer(c),d.onloadend=function(){n(d.result)}}):s.buffers&&s.buffers.length>0?((d=new FileReader).readAsDataURL(l),d.onloadend=function(){var e=d.result;s.buffers[0].uri=e,n(s)}):n(s);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"serializeUserData",value:function(e,t){if(0!==Object.keys(e.userData).length){var n=this.options,r=this.extensionsUsed;try{var i=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&i.gltfExtensions){for(var a in void 0===t.extensions&&(t.extensions={}),i.gltfExtensions)t.extensions[a]=i.gltfExtensions[a],r[a]=!0;delete i.gltfExtensions}Object.keys(i).length>0&&(t.extras=i)}catch(o){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+o.message)}}}},{key:"getUID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!1===this.uids.has(e)){var n=new Map;n.set(!0,this.uid++),n.set(!1,this.uid++),this.uids.set(e,n)}var r=this.uids.get(e);return r.get(t)}},{key:"isNormalizedNormalAttribute",value:function(e){if(this.cache.attributesNormalized.has(e))return!1;for(var t=new g.Vector3,n=0,r=e.count;n<r;n++)if(Math.abs(t.fromBufferAttribute(e,n).length()-1)>5e-4)return!1;return!0}},{key:"createNormalizedNormalAttribute",value:function(e){var t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);for(var n=e.clone(),r=new g.Vector3,i=0,a=n.count;i<a;i++)r.fromBufferAttribute(n,i),0===r.x&&0===r.y&&0===r.z?r.setX(1):r.normalize(),n.setXYZ(i,r.x,r.y,r.z);return t.attributesNormalized.set(e,n),n}},{key:"applyTextureTransform",value:function(e,t){var n=!1,r={};0===t.offset.x&&0===t.offset.y||(r.offset=t.offset.toArray(),n=!0),0!==t.rotation&&(r.rotation=t.rotation,n=!0),1===t.repeat.x&&1===t.repeat.y||(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}},{key:"buildMetalRoughTexture",value:function(e,t){if(e===t)return e;function n(e){return e.encoding===g.sRGBEncoding?function(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}:function(e){return e}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");var r=null===e||void 0===e?void 0:e.image,i=null===t||void 0===t?void 0:t.image,a=Math.max((null===r||void 0===r?void 0:r.width)||0,(null===i||void 0===i?void 0:i.width)||0),o=Math.max((null===r||void 0===r?void 0:r.height)||0,(null===i||void 0===i?void 0:i.height)||0),s=ni();s.width=a,s.height=o;var u=s.getContext("2d");u.fillStyle="#00ffff",u.fillRect(0,0,a,o);var l=u.getImageData(0,0,a,o);if(r){u.drawImage(r,0,0,a,o);for(var c=n(e),f=u.getImageData(0,0,a,o).data,d=2;d<f.length;d+=4)l.data[d]=256*c(f[d]/256)}if(i){u.drawImage(i,0,0,a,o);for(var p=n(t),h=u.getImageData(0,0,a,o).data,v=1;v<h.length;v+=4)l.data[v]=256*p(h[v]/256)}u.putImageData(l,0,0);var m=(e||t).clone();return m.source=new g.Source(s),m.encoding=g.LinearEncoding,m}},{key:"processBuffer",value:function(e){var t=this.json,n=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),n.push(e),0}},{key:"processBufferView",value:function(e,t,n,r,i){var a,o=this.json;o.bufferViews||(o.bufferViews=[]),a=t===Nr?1:t===zr?2:4;for(var s=ei(r*e.itemSize*a),u=new DataView(new ArrayBuffer(s)),l=0,c=n;c<n+r;c++)for(var f=0;f<e.itemSize;f++){var d=void 0;e.itemSize>4?d=e.array[c*e.itemSize+f]:0===f?d=e.getX(c):1===f?d=e.getY(c):2===f?d=e.getZ(c):3===f&&(d=e.getW(c)),t===Fr?u.setFloat32(l,d,!0):t===jr?u.setUint32(l,d,!0):t===zr?u.setUint16(l,d,!0):t===Nr&&u.setUint8(l,d),l+=a}var p={buffer:this.processBuffer(u.buffer),byteOffset:this.byteOffset,byteLength:s};return void 0!==i&&(p.target=i),i===Br&&(p.byteStride=e.itemSize*a),this.byteOffset+=s,o.bufferViews.push(p),{id:o.bufferViews.length-1,byteLength:0}}},{key:"processBufferViewImage",value:function(e){var t=this,n=t.json;return n.bufferViews||(n.bufferViews=[]),new Promise((function(r){var i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){var e=ti(i.result),a={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,r(n.bufferViews.push(a)-1)}}))}},{key:"processAccessor",value:function(e,t,n,r){var i,a=this.options,o=this.json;if(e.array.constructor===Float32Array)i=Fr;else if(e.array.constructor===Uint32Array)i=jr;else if(e.array.constructor===Uint16Array)i=zr;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");i=Nr}if(void 0===n&&(n=0),void 0===r&&(r=e.count),a.truncateDrawRange&&void 0!==t&&null===t.index){var s=n+r,u=t.drawRange.count===1/0?e.count:t.drawRange.start+t.drawRange.count;n=Math.max(n,t.drawRange.start),(r=Math.min(s,u)-n)<0&&(r=0)}if(0===r)return null;var l,c=function(e,t,n){for(var r={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},i=t;i<t+n;i++)for(var a=0;a<e.itemSize;a++){var o=void 0;e.itemSize>4?o=e.array[i*e.itemSize+a]:0===a?o=e.getX(i):1===a?o=e.getY(i):2===a?o=e.getZ(i):3===a&&(o=e.getW(i)),r.min[a]=Math.min(r.min[a],o),r.max[a]=Math.max(r.max[a],o)}return r}(e,n,r);void 0!==t&&(l=e===t.index?Ur:Br);var f=this.processBufferView(e,i,n,r,l),d={bufferView:f.id,byteOffset:f.byteOffset,componentType:i,count:r,max:c.max,min:c.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(d.normalized=!0),o.accessors||(o.accessors=[]),o.accessors.push(d)-1}},{key:"processImage",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"image/png",i=this,a=i.cache,o=i.json,s=i.options,u=i.pending;a.images.has(e)||a.images.set(e,{});var l=a.images.get(e),c=r+":flipY/"+n.toString();if(void 0!==l[c])return l[c];o.images||(o.images=[]);var f={mimeType:r},d=ni();d.width=Math.min(e.width,s.maxTextureSize),d.height=Math.min(e.height,s.maxTextureSize);var p=d.getContext("2d");if(!0===n&&(p.translate(0,d.height),p.scale(1,-1)),void 0!==e.data){t!==g.RGBAFormat&&console.error("GLTFExporter: Only RGBAFormat is supported."),(e.width>s.maxTextureSize||e.height>s.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);for(var h=new Uint8ClampedArray(e.height*e.width*4),v=0;v<h.length;v+=4)h[v+0]=e.data[v+0],h[v+1]=e.data[v+1],h[v+2]=e.data[v+2],h[v+3]=e.data[v+3];p.putImageData(new ImageData(h,e.width,e.height),0,0)}else p.drawImage(e,0,0,d.width,d.height);!0===s.binary?u.push(ri(d,r).then((function(e){return i.processBufferViewImage(e)})).then((function(e){f.bufferView=e}))):void 0!==d.toDataURL?f.uri=d.toDataURL(r):u.push(ri(d,r).then((function(e){return(new FileReader).readAsDataURL(e)})).then((function(e){f.uri=e})));var m=o.images.push(f)-1;return l[c]=m,m}},{key:"processSampler",value:function(e){var t=this.json;t.samplers||(t.samplers=[]);var n={magFilter:Qr[e.magFilter],minFilter:Qr[e.minFilter],wrapS:Qr[e.wrapS],wrapT:Qr[e.wrapT]};return t.samplers.push(n)-1}},{key:"processTexture",value:function(e){var t=this.cache,n=this.json;if(t.textures.has(e))return t.textures.get(e);n.textures||(n.textures=[]);var r=e.userData.mimeType;"image/webp"===r&&(r="image/png");var i={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,r)};e.name&&(i.name=e.name),this._invokeAll((function(t){t.writeTexture&&t.writeTexture(e,i)}));var a=n.textures.push(i)-1;return t.textures.set(e,a),a}},{key:"processMaterial",value:function(e){var t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;n.materials||(n.materials=[]);var r={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&!0!==e.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var i=e.color.toArray().concat([e.opacity]);if(Jr(i,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=i),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=.5,r.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){var a=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),o={index:this.processTexture(a)};this.applyTextureTransform(o,a),r.pbrMetallicRoughness.metallicRoughnessTexture=o}if(e.map){var s={index:this.processTexture(e.map)};this.applyTextureTransform(s,e.map),r.pbrMetallicRoughness.baseColorTexture=s}if(e.emissive){var u=e.emissive.clone().multiplyScalar(e.emissiveIntensity),l=Math.max(u.r,u.g,u.b);if(l>1&&(u.multiplyScalar(1/l),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),l>0&&(r.emissiveFactor=u.toArray()),e.emissiveMap){var c={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(c,e.emissiveMap),r.emissiveTexture=c}}if(e.normalMap){var f={index:this.processTexture(e.normalMap)};e.normalScale&&1!==e.normalScale.x&&(f.scale=e.normalScale.x),this.applyTextureTransform(f,e.normalMap),r.normalTexture=f}if(e.aoMap){var d={index:this.processTexture(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(d.strength=e.aoMapIntensity),this.applyTextureTransform(d,e.aoMap),r.occlusionTexture=d}e.transparent?r.alphaMode="BLEND":e.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=e.alphaTest),e.side===g.DoubleSide&&(r.doubleSided=!0),""!==e.name&&(r.name=e.name),this.serializeUserData(e,r),this._invokeAll((function(t){t.writeMaterial&&t.writeMaterial(e,r)}));var p=n.materials.push(r)-1;return t.materials.set(e,p),p}},{key:"processMesh",value:function(e){var t=this.cache,n=this.json,r=[e.geometry.uuid];if(Array.isArray(e.material))for(var i=0,a=e.material.length;i<a;i++)r.push(e.material[i].uuid);else r.push(e.material.uuid);var o=r.join(":");if(t.meshes.has(o))return t.meshes.get(o);var s,u=e.geometry;s=e.isLineSegments?Ir:e.isLineLoop?Rr:e.isLine?Or:e.isPoints?Dr:e.material.wireframe?Ir:Lr;var l={},c={},f=[],d=[],p={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},h=u.getAttribute("normal");void 0===h||this.isNormalizedNormalAttribute(h)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),u.setAttribute("normal",this.createNormalizedNormalAttribute(h)));var v=null;for(var m in u.attributes)if("morph"!==m.slice(0,5)){var y=u.attributes[m];m=p[m]||m.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(m)||(m="_"+m),t.attributes.has(this.getUID(y)))c[m]=t.attributes.get(this.getUID(y));else{v=null;var b=y.array;"JOINTS_0"!==m||b instanceof Uint16Array||b instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),v=new g.BufferAttribute(new Uint16Array(b),y.itemSize,y.normalized));var w=this.processAccessor(v||y,u);null!==w&&(c[m]=w,t.attributes.set(this.getUID(y),w))}}if(void 0!==h&&u.setAttribute("normal",h),0===Object.keys(c).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){var x=[],_=[],S={};if(void 0!==e.morphTargetDictionary)for(var k in e.morphTargetDictionary)S[e.morphTargetDictionary[k]]=k;for(var E=0;E<e.morphTargetInfluences.length;++E){var C={},M=!1;for(var T in u.morphAttributes)if("position"===T||"normal"===T){var P=u.morphAttributes[T][E],A=T.toUpperCase(),D=u.attributes[T];if(t.attributes.has(this.getUID(P,!0)))C[A]=t.attributes.get(this.getUID(P,!0));else{var I=P.clone();if(!u.morphTargetsRelative)for(var R=0,O=P.count;R<O;R++)I.setXYZ(R,P.getX(R)-D.getX(R),P.getY(R)-D.getY(R),P.getZ(R)-D.getZ(R));C[A]=this.processAccessor(I,u),t.attributes.set(this.getUID(D,!0),C[A])}}else M||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),M=!0);d.push(C),x.push(e.morphTargetInfluences[E]),void 0!==e.morphTargetDictionary&&_.push(S[E])}l.weights=x,_.length>0&&(l.extras={},l.extras.targetNames=_)}var L=Array.isArray(e.material);if(L&&0===u.groups.length)return null;for(var N=L?e.material:[e.material],z=L?u.groups:[{materialIndex:0,start:void 0,count:void 0}],F=0,j=z.length;F<j;F++){var B={mode:s,attributes:c};if(this.serializeUserData(u,B),d.length>0&&(B.targets=d),null!==u.index){var U=this.getUID(u.index);void 0===z[F].start&&void 0===z[F].count||(U+=":"+z[F].start+":"+z[F].count),t.attributes.has(U)?B.indices=t.attributes.get(U):(B.indices=this.processAccessor(u.index,u,z[F].start,z[F].count),t.attributes.set(U,B.indices)),null===B.indices&&delete B.indices}var Z=this.processMaterial(N[z[F].materialIndex]);null!==Z&&(B.material=Z),f.push(B)}l.primitives=f,n.meshes||(n.meshes=[]),this._invokeAll((function(t){t.writeMesh&&t.writeMesh(e,l)}));var V=n.meshes.push(l)-1;return t.meshes.set(o,V),V}},{key:"processCamera",value:function(e){var t=this.json;t.cameras||(t.cameras=[]);var n=e.isOrthographicCamera,r={type:n?"orthographic":"perspective"};return n?r.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:g.MathUtils.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(r.name=e.type),t.cameras.push(r)-1}},{key:"processAnimation",value:function(e,t){var n=this.json,r=this.nodeMap;n.animations||(n.animations=[]);for(var i=(e=Ar.Utils.mergeMorphTargetTracks(e.clone(),t)).tracks,a=[],o=[],s=0;s<i.length;++s){var u=i[s],l=g.PropertyBinding.parseTrackName(u.name),c=g.PropertyBinding.findNode(t,l.nodeName),f=$r[l.propertyName];if("bones"===l.objectName&&(c=!0===c.isSkinnedMesh?c.skeleton.getBoneByName(l.objectIndex):void 0),!c||!f)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',u.name),null;var d=u.values.length/u.times.length;f===$r.morphTargetInfluences&&(d/=c.morphTargetInfluences.length);var p=void 0;!0===u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(p="CUBICSPLINE",d/=3):p=u.getInterpolation()===g.InterpolateDiscrete?"STEP":"LINEAR",o.push({input:this.processAccessor(new g.BufferAttribute(u.times,1)),output:this.processAccessor(new g.BufferAttribute(u.values,d)),interpolation:p}),a.push({sampler:o.length-1,target:{node:r.get(c),path:f}})}return n.animations.push({name:e.name||"clip_"+n.animations.length,samplers:o,channels:a}),n.animations.length-1}},{key:"processSkin",value:function(e){var t=this.json,n=this.nodeMap,r=t.nodes[n.get(e)],i=e.skeleton;if(void 0===i)return null;var a=e.skeleton.bones[0];if(void 0===a)return null;for(var o=[],s=new Float32Array(16*i.bones.length),u=new g.Matrix4,l=0;l<i.bones.length;++l)o.push(n.get(i.bones[l])),u.copy(i.boneInverses[l]),u.multiply(e.bindMatrix).toArray(s,16*l);return void 0===t.skins&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new g.BufferAttribute(s,16)),joints:o,skeleton:n.get(a)}),r.skin=t.skins.length-1}},{key:"processNode",value:function(e){var t=this.json,n=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);var i={};if(n.trs){var a=e.quaternion.toArray(),o=e.position.toArray(),s=e.scale.toArray();Jr(a,[0,0,0,1])||(i.rotation=a),Jr(o,[0,0,0])||(i.translation=o),Jr(s,[1,1,1])||(i.scale=s)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===Jr(e.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(i.matrix=e.matrix.elements);if(""!==e.name&&(i.name=String(e.name)),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){var u=this.processMesh(e);null!==u&&(i.mesh=u)}else e.isCamera&&(i.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){for(var l=[],c=0,f=e.children.length;c<f;c++){var d=e.children[c];if(d.visible||!1===n.onlyVisible){var p=this.processNode(d);null!==p&&l.push(p)}}l.length>0&&(i.children=l)}this._invokeAll((function(t){t.writeNode&&t.writeNode(e,i)}));var h=t.nodes.push(i)-1;return r.set(e,h),h}},{key:"processScene",value:function(e){var t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);var r={};""!==e.name&&(r.name=e.name),t.scenes.push(r);for(var i=[],a=0,o=e.children.length;a<o;a++){var s=e.children[a];if(s.visible||!1===n.onlyVisible){var u=this.processNode(s);null!==u&&i.push(u)}}i.length>0&&(r.nodes=i),this.serializeUserData(e,r)}},{key:"processObjects",value:function(e){var t=new g.Scene;t.name="AuxScene";for(var n=0;n<e.length;n++)t.children.push(e[n]);this.processScene(t)}},{key:"processInput",value:function(e){var t=this.options;e=e instanceof Array?e:[e],this._invokeAll((function(t){t.beforeParse&&t.beforeParse(e)}));for(var n=[],r=0;r<e.length;r++)e[r]instanceof g.Scene?this.processScene(e[r]):n.push(e[r]);n.length>0&&this.processObjects(n);for(var i=0;i<this.skins.length;++i)this.processSkin(this.skins[i]);for(var a=0;a<t.animations.length;++a)this.processAnimation(t.animations[a],e[0]);this._invokeAll((function(t){t.afterParse&&t.afterParse(e)}))}},{key:"_invokeAll",value:function(e){for(var t=0,n=this.plugins.length;t<n;t++)e(this.plugins[t])}}]),e}(),ai=function(){function e(t){(0,a.Z)(this,e),this.writer=t,this.name="KHR_lights_punctual"}return(0,o.Z)(e,[{key:"writeNode",value:function(e,t){if(e.isLight)if(e.isDirectionalLight||e.isPointLight||e.isSpotLight){var n=this.writer,r=n.json,i=n.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!e.target||e.target.parent===e&&0===e.target.position.x&&0===e.target.position.y&&-1===e.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),i[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},i[this.name]=!0);var o=r.extensions[this.name].lights;o.push(a),t.extensions=t.extensions||{},t.extensions[this.name]={light:o.length-1}}else console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e)}}]),e}(),oi=function(){function e(t){(0,a.Z)(this,e),this.writer=t,this.name="KHR_materials_unlit"}return(0,o.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshBasicMaterial){var n=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},n[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}}]),e}(),si=function(){function e(t){(0,a.Z)(this,e),this.writer=t,this.name="KHR_materials_pbrSpecularGlossiness"}return(0,o.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isGLTFSpecularGlossinessMaterial){var n=this.writer,r=n.extensionsUsed,i={};t.pbrMetallicRoughness.baseColorFactor&&(i.diffuseFactor=t.pbrMetallicRoughness.baseColorFactor);var a=[1,1,1];if(e.specular.toArray(a,0),i.specularFactor=a,i.glossinessFactor=e.glossiness,t.pbrMetallicRoughness.baseColorTexture&&(i.diffuseTexture=t.pbrMetallicRoughness.baseColorTexture),e.specularMap){var o={index:n.processTexture(e.specularMap)};n.applyTextureTransform(o,e.specularMap),i.specularGlossinessTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),ui=function(){function e(t){(0,a.Z)(this,e),this.writer=t,this.name="KHR_materials_clearcoat"}return(0,o.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial){var n=this.writer,r=n.extensionsUsed,i={};if(i.clearcoatFactor=e.clearcoat,e.clearcoatMap){var a={index:n.processTexture(e.clearcoatMap)};n.applyTextureTransform(a,e.clearcoatMap),i.clearcoatTexture=a}if(i.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){var o={index:n.processTexture(e.clearcoatRoughnessMap)};n.applyTextureTransform(o,e.clearcoatRoughnessMap),i.clearcoatRoughnessTexture=o}if(e.clearcoatNormalMap){var s={index:n.processTexture(e.clearcoatNormalMap)};n.applyTextureTransform(s,e.clearcoatNormalMap),i.clearcoatNormalTexture=s}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),li=function(){function e(t){(0,a.Z)(this,e),this.writer=t,this.name="KHR_materials_iridescence"}return(0,o.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial){var n=this.writer,r=n.extensionsUsed,i={};if(i.iridescenceFactor=e.iridescence,e.iridescenceMap){var a={index:n.processTexture(e.iridescenceMap)};n.applyTextureTransform(a,e.iridescenceMap),i.iridescenceTexture=a}if(i.iridescenceIor=e.iridescenceIOR,i.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],i.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){var o={index:n.processTexture(e.iridescenceThicknessMap)};n.applyTextureTransform(o,e.iridescenceThicknessMap),i.iridescenceThicknessTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),ci=function(){function e(t){(0,a.Z)(this,e),this.writer=t,this.name="KHR_materials_transmission"}return(0,o.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,i={};if(i.transmissionFactor=e.transmission,e.transmissionMap){var a={index:n.processTexture(e.transmissionMap)};n.applyTextureTransform(a,e.transmissionMap),i.transmissionTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),fi=function(){function e(t){(0,a.Z)(this,e),this.writer=t,this.name="KHR_materials_volume"}return(0,o.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,i={};if(i.thicknessFactor=e.thickness,e.thicknessMap){var a={index:n.processTexture(e.thicknessMap)};n.applyTextureTransform(a,e.thicknessMap),i.thicknessTexture=a}i.attenuationDistance=e.attenuationDistance,i.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}();function di(e,t){if(t===g.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===g.TriangleFanDrawMode||t===g.TriangleStripDrawMode){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===g.TriangleFanDrawMode)for(var u=1;u<=o;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var l=0;l<o;l++)l%2===0?(s.push(n.getX(l)),s.push(n.getX(l+1)),s.push(n.getX(l+2))):(s.push(n.getX(l+2)),s.push(n.getX(l+1)),s.push(n.getX(l)));s.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c.clearGroups(),c}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}Ar.Utils={insertKeyframe:function(e,t){var n,r=.001,i=e.getValueSize(),a=new e.TimeBufferType(e.times.length+1),o=new e.ValueBufferType(e.values.length+i),s=e.createInterpolant(new e.ValueBufferType(i));if(0===e.times.length){a[0]=t;for(var u=0;u<i;u++)o[u]=0;n=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<r)return 0;a[0]=t,a.set(e.times,1),o.set(s.evaluate(t),0),o.set(e.values,i),n=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<r)return e.times.length-1;a[a.length-1]=t,a.set(e.times,0),o.set(e.values,0),o.set(s.evaluate(t),e.values.length),n=a.length-1}else for(var l=0;l<e.times.length;l++){if(Math.abs(e.times[l]-t)<r)return l;if(e.times[l]<t&&e.times[l+1]>t){a.set(e.times.slice(0,l+1),0),a[l+1]=t,a.set(e.times.slice(l+1),l+2),o.set(e.values.slice(0,(l+1)*i),0),o.set(s.evaluate(t),(l+1)*i),o.set(e.values.slice((l+1)*i),(l+2)*i),n=l+1;break}}return e.times=a,e.values=o,n},mergeMorphTargetTracks:function(e,t){for(var n=[],r={},i=e.tracks,a=0;a<i.length;++a){var o=i[a],s=g.PropertyBinding.parseTrackName(o.name),u=g.PropertyBinding.findNode(t,s.nodeName);if("morphTargetInfluences"===s.propertyName&&void 0!==s.propertyIndex){if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(o=o.clone()).setInterpolation(g.InterpolateLinear)}var l=u.morphTargetInfluences.length,c=u.morphTargetDictionary[s.propertyIndex];if(void 0===c)throw new Error("THREE.GLTFExporter: Morph target name not found: "+s.propertyIndex);var f=void 0;if(void 0!==r[u.uuid]){var d=o.createInterpolant(new o.ValueBufferType(1));f=r[u.uuid];for(var p=0;p<f.times.length;p++)f.values[p*l+c]=d.evaluate(f.times[p]);for(var h=0;h<o.times.length;h++){var v=this.insertKeyframe(f,o.times[h]);f.values[v*l+c]=o.values[h]}}else{for(var m=new((f=o.clone()).ValueBufferType)(l*f.times.length),y=0;y<f.times.length;y++)m[y*l+c]=f.values[y];f.name=(s.nodeName||"")+".morphTargetInfluences",f.values=m,r[u.uuid]=f,n.push(f)}}else n.push(o)}return e.tracks=n,e}};var pi=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new bi(e)})),r.register((function(e){return new Mi(e)})),r.register((function(e){return new Ti(e)})),r.register((function(e){return new Pi(e)})),r.register((function(e){return new xi(e)})),r.register((function(e){return new _i(e)})),r.register((function(e){return new Si(e)})),r.register((function(e){return new ki(e)})),r.register((function(e){return new yi(e)})),r.register((function(e){return new Ei(e)})),r.register((function(e){return new wi(e)})),r.register((function(e){return new Ci(e)})),r.register((function(e){return new mi(e)})),r.register((function(e){return new Ai(e)})),r.register((function(e){return new Di(e)})),r}return(0,o.Z)(n,[{key:"load",value:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:g.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new g.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,a={},o={},s=new TextDecoder;if("string"===typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(s.decode(new Uint8Array(e,0,4))===Ii){try{a[vi.KHR_BINARY_GLTF]=new Li(e)}catch(h){return void(r&&r(h))}i=JSON.parse(a[vi.KHR_BINARY_GLTF].content)}else i=JSON.parse(s.decode(e))}else i=e;if(void 0===i.asset||i.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new sa(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var l=0;l<this.pluginCallbacks.length;l++){var c=this.pluginCallbacks[l](u);o[c.name]=c,a[c.name]=!0}if(i.extensionsUsed)for(var f=0;f<i.extensionsUsed.length;++f){var d=i.extensionsUsed[f],p=i.extensionsRequired||[];switch(d){case vi.KHR_MATERIALS_UNLIT:a[d]=new gi;break;case vi.KHR_DRACO_MESH_COMPRESSION:a[d]=new Ni(i,this.dracoLoader);break;case vi.KHR_TEXTURE_TRANSFORM:a[d]=new zi;break;case vi.KHR_MESH_QUANTIZATION:a[d]=new Fi;break;default:p.indexOf(d)>=0&&void 0===o[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}u.setExtensions(a),u.setPlugins(o),u.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(g.Loader);function hi(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var vi={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},mi=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,o.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new g.Color(16777215);void 0!==o.color&&s.fromArray(o.color);var u=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new g.DirectionalLight(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new g.PointLight(s)).distance=u;break;case"spot":(i=new g.SpotLight(s)).distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,ta(i,o),void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),gi=function(){function e(){(0,a.Z)(this,e),this.name=vi.KHR_MATERIALS_UNLIT}return(0,o.Z)(e,[{key:"getMaterialType",value:function(){return g.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new g.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,g.SRGBColorSpace))}return Promise.all(r)}}]),e}(),yi=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_MATERIALS_EMISSIVE_STRENGTH}return(0,o.Z)(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),bi=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_MATERIALS_CLEARCOAT}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?g.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new g.Vector2(o,o)}return Promise.all(i)}}]),e}(),wi=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_MATERIALS_IRIDESCENCE}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?g.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),xi=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_MATERIALS_SHEEN}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?g.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new g.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,g.SRGBColorSpace)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),_i=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_MATERIALS_TRANSMISSION}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?g.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),Si=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_MATERIALS_VOLUME}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?g.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=new g.Color(o[0],o[1],o[2]),Promise.all(i)}}]),e}(),ki=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_MATERIALS_IOR}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?g.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),Ei=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_MATERIALS_SPECULAR}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?g.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=new g.Color(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,g.SRGBColorSpace)),Promise.all(i)}}]),e}(),Ci=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_MATERIALS_ANISOTROPY}return(0,o.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?g.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.anisotropyStrength&&(t.anisotropy=a.anisotropyStrength),void 0!==a.anisotropyRotation&&(t.anisotropyRotation=a.anisotropyRotation),void 0!==a.anisotropyTexture&&i.push(n.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(i)}}]),e}(),Mi=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.KHR_TEXTURE_BASISU}return(0,o.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),Ti=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,o.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),Pi=function(){function e(t){(0,a.Z)(this,e),this.parser=t,this.name=vi.EXT_TEXTURE_AVIF,this.isSupported=null}return(0,o.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),Ai=function(){function e(t){(0,a.Z)(this,e),this.name=vi.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,o.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),Di=function(){function e(t){(0,a.Z)(this,e),this.name=vi.EXT_MESH_GPU_INSTANCING,this.parser=t}return(0,o.Z)(e,[{key:"createNodeMesh",value:function(e){var t=this,n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;var i,a=n.meshes[r.mesh],o=(0,k.Z)(a.primitives);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.mode!==Zi.TRIANGLES&&s.mode!==Zi.TRIANGLE_STRIP&&s.mode!==Zi.TRIANGLE_FAN&&void 0!==s.mode)return null}}catch(Zf){o.e(Zf)}finally{o.f()}var u=r.extensions[this.name].attributes,l=[],c={},f=function(e){l.push(t.parser.getDependency("accessor",u[e]).then((function(t){return c[e]=t,c[e]})))};for(var d in u)f(d);return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then((function(e){var n,r=e.pop(),i=r.isGroup?r.children:[r],a=e[0].count,o=[],s=(0,k.Z)(i);try{for(s.s();!(n=s.n()).done;){for(var u=n.value,l=new g.Matrix4,f=new g.Vector3,d=new g.Quaternion,p=new g.Vector3(1,1,1),h=new g.InstancedMesh(u.geometry,u.material,a),v=0;v<a;v++)c.TRANSLATION&&f.fromBufferAttribute(c.TRANSLATION,v),c.ROTATION&&d.fromBufferAttribute(c.ROTATION,v),c.SCALE&&p.fromBufferAttribute(c.SCALE,v),h.setMatrixAt(v,l.compose(f,d,p));for(var m in c)"TRANSLATION"!==m&&"ROTATION"!==m&&"SCALE"!==m&&u.geometry.setAttribute(m,c[m]);g.Object3D.prototype.copy.call(h,u),t.parser.assignFinalMaterial(h),o.push(h)}}catch(Zf){s.e(Zf)}finally{s.f()}return r.isGroup?(r.clear(),r.add.apply(r,o),r):o[0]})))}}]),e}(),Ii="glTF",Ri=1313821514,Oi=5130562,Li=(0,o.Z)((function e(t){(0,a.Z)(this,e),this.name=vi.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Ii)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=this.header.length-12,o=new DataView(t,12),s=0;s<i;){var u=o.getUint32(s,!0);s+=4;var l=o.getUint32(s,!0);if(s+=4,l===Ri){var c=new Uint8Array(t,12+s,u);this.content=r.decode(c)}else if(l===Oi){var f=12+s;this.body=t.slice(f,f+u)}s+=u}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),Ni=function(){function e(t,n){if((0,a.Z)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vi.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,o.Z)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},u={};for(var l in a){var c=qi[l]||l.toLowerCase();o[c]=a[l]}for(var f in e.attributes){var d=qi[f]||f.toLowerCase();if(void 0!==a[f]){var p=n.accessors[e.attributes[f]],h=Vi[p.componentType];u[d]=h.name,s[d]=!0===p.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,u)}))}))}}]),e}(),zi=function(){function e(){(0,a.Z)(this,e),this.name=vi.KHR_TEXTURE_TRANSFORM}return(0,o.Z)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}]),e}(),Fi=(0,o.Z)((function e(){(0,a.Z)(this,e),this.name=vi.KHR_MESH_QUANTIZATION})),ji=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i,o){return(0,a.Z)(this,n),t.call(this,e,r,i,o)}return(0,o.Z)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,l=r-t,c=(n-t)/l,f=c*c,d=f*c,p=e*u,h=p-u,v=-2*d+3*f,m=d-f,g=1-v,y=m-f+c,b=0;b!==o;b++){var w=a[h+b+o],x=a[h+b+s]*l,_=a[p+b+o],S=a[p+b]*l;i[b]=g*w+y*x+v*_+m*S}return i}}]),n}(g.Interpolant),Bi=new g.Quaternion,Ui=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"interpolate_",value:function(e,t,r,i){var a=(0,oe.Z)((0,se.Z)(n.prototype),"interpolate_",this).call(this,e,t,r,i);return Bi.fromArray(a).normalize().toArray(a),a}}]),n}(ji),Zi={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Vi={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Hi={9728:g.NearestFilter,9729:g.LinearFilter,9984:g.NearestMipmapNearestFilter,9985:g.LinearMipmapNearestFilter,9986:g.NearestMipmapLinearFilter,9987:g.LinearMipmapLinearFilter},Wi={33071:g.ClampToEdgeWrapping,33648:g.MirroredRepeatWrapping,10497:g.RepeatWrapping},Gi={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},qi={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Xi={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ki={CUBICSPLINE:void 0,LINEAR:g.InterpolateLinear,STEP:g.InterpolateDiscrete},Yi="OPAQUE",Qi="MASK",$i="BLEND";function Ji(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new g.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:g.FrontSide})),e.DefaultMaterial}function ea(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function ta(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function na(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ra(e){var t,n=e.extensions&&e.extensions[vi.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+ia(n.attributes):e.indices+":"+ia(e.attributes)+":"+e.mode,void 0!==e.targets)for(var r=0,i=e.targets.length;r<i;r++)t+=":"+ia(e.targets[r]);return t}function ia(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function aa(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var oa=new g.Matrix4,sa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new hi,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var r=!1,i=!1,o=-1;"undefined"!==typeof navigator&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=(i=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||r||i&&o<98?this.textureLoader=new g.TextureLoader(this.options.manager):this.textureLoader=new g.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new g.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,o.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};ea(i,a,r),ta(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var u=0,l=e.length;u<l;u++){var c=e[u];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var i=n.clone();return function e(t,n){var i=r.associations.get(t);null!=i&&r.associations.set(n,i);var a,o=(0,k.Z)(t.children.entries());try{for(o.s();!(a=o.n()).done;){var s=(0,d.Z)(a.value,2),u=s[0];e(s[1],n.children[u])}}catch(Zf){o.e(Zf)}finally{o.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(!(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}))))throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[vi.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(g.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){var i=Gi[r.type],a=Vi[r.componentType],o=!0===r.normalized,s=new a(r.count*i);return Promise.resolve(new g.BufferAttribute(s,i,o))}var u=[];return void 0!==r.bufferView?u.push(this.getDependency("bufferView",r.bufferView)):u.push(null),void 0!==r.sparse&&(u.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),u.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(u).then((function(e){var i,a,o=e[0],s=Gi[r.type],u=Vi[r.componentType],l=u.BYTES_PER_ELEMENT,c=l*s,f=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(d&&d!==c){var h=Math.floor(f/d),v="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+h+":"+r.count,m=t.cache.get(v);m||(i=new u(o,h*d,r.count*d/l),m=new g.InterleavedBuffer(i,d/l),t.cache.add(v,m)),a=new g.InterleavedBufferAttribute(m,s,f%d/l,p)}else i=null===o?new u(r.count*s):new u(o,f,r.count*s),a=new g.BufferAttribute(i,s,p);if(void 0!==r.sparse){var y=Gi.SCALAR,b=Vi[r.sparse.indices.componentType],w=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,_=new b(e[1],w,r.sparse.count*y),S=new u(e[2],x,r.sparse.count*s);null!==o&&(a=new g.BufferAttribute(a.array.slice(),a.itemSize,a.normalized));for(var k=0,E=_.length;k<E;k++){var C=_[k];if(a.setX(C,S[k*s]),s>=2&&a.setY(C,S[k*s+1]),s>=3&&a.setZ(C,S[k*s+2]),s>=4&&a.setW(C,S[k*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var u=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=a.name||o.name||"",""===t.name&&"string"===typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(t.name=o.uri);var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=Hi[n.magFilter]||g.LinearFilter,t.minFilter=Hi[n.minFilter]||g.LinearMipmapLinearFilter,t.wrapS=Wi[n.wrapS]||g.RepeatWrapping,t.wrapT=Wi[n.wrapT]||g.RepeatWrapping,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=u,u}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=n.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var u=Promise.resolve(o).then((function(e){return new Promise((function(n,i){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new g.Texture(e);t.needsUpdate=!0,n(t)}),t.load(g.LoaderUtils.resolveURL(e,r.path),a,void 0,i)}))})).then((function(e){var t;return!0===s&&a.revokeObjectURL(o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=u,u}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(!a)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((a=a.clone()).channel=n.texCoord),i.extensions[vi.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[vi.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[vi.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==r&&(a.colorSpace=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new g.PointsMaterial,g.Material.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var u="LineBasicMaterial:"+n.uuid,l=this.cache.get(u);l||(l=new g.LineBasicMaterial,g.Material.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(u,l)),n=l}if(r||i||a){var c="ClonedMaterial:"+n.uuid+":";r&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),a&&(c+="flat-shading:");var f=this.cache.get(c);f||(f=n.clone(),i&&(f.vertexColors=!0),a&&(f.flatShading=!0),r&&(f.normalScale&&(f.normalScale.y*=-1),f.clearcoatNormalScale&&(f.clearcoatNormalScale.y*=-1)),this.cache.add(c,f),this.associations.set(f,this.associations.get(n))),n=f}e.material=n}},{key:"getMaterialType",value:function(){return g.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=[];if((a.extensions||{})[vi.KHR_MATERIALS_UNLIT]){var u=i[vi.KHR_MATERIALS_UNLIT];t=u.getMaterialType(),s.push(u.extendParams(o,a,n))}else{var l=a.pbrMetallicRoughness||{};if(o.color=new g.Color(1,1,1),o.opacity=1,Array.isArray(l.baseColorFactor)){var c=l.baseColorFactor;o.color.fromArray(c),o.opacity=c[3]}void 0!==l.baseColorTexture&&s.push(n.assignTexture(o,"map",l.baseColorTexture,g.SRGBColorSpace)),o.metalness=void 0!==l.metallicFactor?l.metallicFactor:1,o.roughness=void 0!==l.roughnessFactor?l.roughnessFactor:1,void 0!==l.metallicRoughnessTexture&&(s.push(n.assignTexture(o,"metalnessMap",l.metallicRoughnessTexture)),s.push(n.assignTexture(o,"roughnessMap",l.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),s.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=g.DoubleSide);var f=a.alphaMode||Yi;if(f===$i?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,f===Qi&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==g.MeshBasicMaterial&&(s.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new g.Vector2(1,1),void 0!==a.normalTexture.scale)){var d=a.normalTexture.scale;o.normalScale.set(d,d)}return void 0!==a.occlusionTexture&&t!==g.MeshBasicMaterial&&(s.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==g.MeshBasicMaterial&&(o.emissive=(new g.Color).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==g.MeshBasicMaterial&&s.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,g.SRGBColorSpace)),Promise.all(s).then((function(){var r=new t(o);return a.name&&(r.name=a.name),ta(r,a),n.associations.set(r,{materials:e}),a.extensions&&ea(i,r,a),r}))}},{key:"createUniqueName",value:function(e){var t=g.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[vi.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return ua(n,e,t)}))}for(var a=[],o=0,s=e.length;o<s;o++){var u=e[o],l=ra(u),c=r[l];if(c)a.push(c.promise);else{var f=void 0;f=u.extensions&&u.extensions[vi.KHR_DRACO_MESH_COMPRESSION]?i(u):ua(new g.BufferGeometry,u,t),r[l]={primitive:u,promise:f},a.push(f)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t=this,n=this.json,r=this.extensions,i=n.meshes[e],a=i.primitives,o=[],s=0,u=a.length;s<u;s++){var l=void 0===a[s].material?Ji(this.cache):this.getDependency("material",a[s].material);o.push(l)}return o.push(t.loadGeometries(a)),Promise.all(o).then((function(n){for(var o=n.slice(0,n.length-1),s=n[n.length-1],u=[],l=0,c=s.length;l<c;l++){var f=s[l],d=a[l],p=void 0,h=o[l];if(d.mode===Zi.TRIANGLES||d.mode===Zi.TRIANGLE_STRIP||d.mode===Zi.TRIANGLE_FAN||void 0===d.mode)!0===(p=!0===i.isSkinnedMesh?new g.SkinnedMesh(f,h):new g.Mesh(f,h)).isSkinnedMesh&&p.normalizeSkinWeights(),d.mode===Zi.TRIANGLE_STRIP?p.geometry=di(p.geometry,g.TriangleStripDrawMode):d.mode===Zi.TRIANGLE_FAN&&(p.geometry=di(p.geometry,g.TriangleFanDrawMode));else if(d.mode===Zi.LINES)p=new g.LineSegments(f,h);else if(d.mode===Zi.LINE_STRIP)p=new g.Line(f,h);else if(d.mode===Zi.LINE_LOOP)p=new g.LineLoop(f,h);else{if(d.mode!==Zi.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);p=new g.Points(f,h)}Object.keys(p.geometry.morphAttributes).length>0&&na(p,i),p.name=t.createUniqueName(i.name||"mesh_"+e),ta(p,i),d.extensions&&ea(r,p,d),t.assignFinalMaterial(p),u.push(p)}for(var v=0,m=u.length;v<m;v++)t.associations.set(u[v],{meshes:e,primitives:v});if(1===u.length)return i.extensions&&ea(r,u[0],i),u[0];var y=new g.Group;i.extensions&&ea(r,y,i),t.associations.set(y,{meshes:e});for(var b=0,w=u.length;b<w;b++)y.add(u[b]);return y}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new g.PerspectiveCamera(g.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new g.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),ta(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){for(var t=this.json.skins[e],n=[],r=0,i=t.joints.length;r<i;r++)n.push(this._loadNodeShallow(t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){for(var n=e.pop(),r=e,i=[],a=[],o=0,s=r.length;o<s;o++){var u=r[o];if(u){i.push(u);var l=new g.Matrix4;null!==n&&l.fromArray(n.array,16*o),a.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}return new g.Skeleton(i,a)}))}},{key:"loadAnimation",value:function(e){for(var t=this.json,n=this,r=t.animations[e],i=r.name?r.name:"animation_"+e,a=[],o=[],s=[],u=[],l=[],c=0,f=r.channels.length;c<f;c++){var d=r.channels[c],p=r.samplers[d.sampler],h=d.target,v=h.node,m=void 0!==r.parameters?r.parameters[p.input]:p.input,y=void 0!==r.parameters?r.parameters[p.output]:p.output;void 0!==h.node&&(a.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",m)),s.push(this.getDependency("accessor",y)),u.push(p),l.push(h))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(s),Promise.all(u),Promise.all(l)]).then((function(e){for(var t=e[0],r=e[1],a=e[2],o=e[3],s=e[4],u=[],l=0,c=t.length;l<c;l++){var f=t[l],d=r[l],p=a[l],h=o[l],v=s[l];if(void 0!==f){f.updateMatrix&&f.updateMatrix();var m=n._createAnimationTracks(f,d,p,h,v);if(m)for(var y=0;y<m.length;y++)u.push(m[y])}}return new g.AnimationClip(i,void 0,u)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){for(var t=this,n=this.json.nodes[e],r=t._loadNodeShallow(e),i=[],a=n.children||[],o=0,s=a.length;o<s;o++)i.push(t.getDependency("node",a[o]));var u=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([r,Promise.all(i),u]).then((function(e){var t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,oa)}));for(var i=0,a=n.length;i<a;i++)t.add(n[i]);return t}))}},{key:"_loadNodeShallow",value:function(e){var t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];var i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"",o=[],s=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return s&&o.push(s),void 0!==i.camera&&o.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){o.push(e)})),this.nodeCache[e]=Promise.all(o).then((function(t){var o;if((o=!0===i.isBone?new g.Bone:t.length>1?new g.Group:1===t.length?t[0]:new g.Object3D)!==t[0])for(var s=0,u=t.length;s<u;s++)o.add(t[s]);if(i.name&&(o.userData.name=i.name,o.name=a),ta(o,i),i.extensions&&ea(n,o,i),void 0!==i.matrix){var l=new g.Matrix4;l.fromArray(i.matrix),o.applyMatrix4(l)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o})),this.nodeCache[e]}},{key:"loadScene",value:function(e){var t=this.extensions,n=this.json.scenes[e],r=this,i=new g.Group;n.name&&(i.name=r.createUniqueName(n.name)),ta(i,n),n.extensions&&ea(t,i,n);for(var a=n.nodes||[],o=[],s=0,u=a.length;s<u;s++)o.push(r.getDependency("node",a[s]));return Promise.all(o).then((function(e){for(var t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=function(e){var t,n=new Map,i=(0,k.Z)(r.associations);try{for(i.s();!(t=i.n()).done;){var a=(0,d.Z)(t.value,2),o=a[0],s=a[1];(o instanceof g.Material||o instanceof g.Texture)&&n.set(o,s)}}catch(Zf){i.e(Zf)}finally{i.f()}return e.traverse((function(e){var t=r.associations.get(e);null!=t&&n.set(e,t)})),n}(i),i}))}},{key:"_createAnimationTracks",value:function(e,t,n,r,i){var a,o=[],s=e.name?e.name:e.uuid,u=[];switch(Xi[i.path]===Xi.weights?e.traverse((function(e){e.morphTargetInfluences&&u.push(e.name?e.name:e.uuid)})):u.push(s),Xi[i.path]){case Xi.weights:a=g.NumberKeyframeTrack;break;case Xi.rotation:a=g.QuaternionKeyframeTrack;break;case Xi.position:case Xi.scale:a=g.VectorKeyframeTrack;break;default:if(1===n.itemSize)a=g.NumberKeyframeTrack;else a=g.VectorKeyframeTrack}for(var l=void 0!==r.interpolation?Ki[r.interpolation]:g.InterpolateLinear,c=this._getArrayFromAccessor(n),f=0,d=u.length;f<d;f++){var p=new a(u[f]+"."+Xi[i.path],t.array,c,l);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(p),o.push(p)}return o}},{key:"_getArrayFromAccessor",value:function(e){var t=e.array;if(e.normalized){for(var n=aa(t.constructor),r=new Float32Array(t.length),i=0,a=t.length;i<a;i++)r[i]=t[i]*n;t=r}return t}},{key:"_createCubicSplineTrackInterpolant",value:function(e){e.createInterpolant=function(e){return new(this instanceof g.QuaternionKeyframeTrack?Ui:ji)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}]),e}();function ua(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=qi[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var u=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(u)}return ta(e,t),function(e,t,n){var r=t.attributes,i=new g.Box3;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new g.Vector3(o[0],o[1],o[2]),new g.Vector3(s[0],s[1],s[2])),a.normalized){var u=aa(Vi[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}var l=t.targets;if(void 0!==l){for(var c=new g.Vector3,f=new g.Vector3,d=0,p=l.length;d<p;d++){var h=l[d];if(void 0!==h.POSITION){var v=n.json.accessors[h.POSITION],m=v.min,y=v.max;if(void 0!==m&&void 0!==y){if(f.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),f.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),f.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),v.normalized){var b=aa(Vi[v.componentType]);f.multiplyScalar(b)}c.max(f)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(c)}e.boundingBox=i;var w=new g.Sphere;i.getCenter(w.center),w.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=w}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var u=t[o];if(void 0!==u.POSITION&&(r=!0),void 0!==u.NORMAL&&(i=!0),void 0!==u.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var l=[],c=[],f=[],d=0,p=t.length;d<p;d++){var h=t[d];if(r){var v=void 0!==h.POSITION?n.getDependency("accessor",h.POSITION):e.attributes.position;l.push(v)}if(i){var m=void 0!==h.NORMAL?n.getDependency("accessor",h.NORMAL):e.attributes.normal;c.push(m)}if(a){var g=void 0!==h.COLOR_0?n.getDependency("accessor",h.COLOR_0):e.attributes.color;f.push(g)}}return Promise.all([Promise.all(l),Promise.all(c),Promise.all(f)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}var la=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e)}return(0,o.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new g.FileLoader(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){var n=i.parse(JSON.parse(e));t&&t(n)}),n,r)}},{key:"parse",value:function(e){return new ca(e)}}]),n}(g.Loader),ca=function(){function e(t){(0,a.Z)(this,e),this.isFont=!0,this.type="Font",this.data=t}return(0,o.Z)(e,[{key:"generateShapes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],r=fa(e,t,this.data),i=0,a=r.length;i<a;i++)n.push.apply(n,(0,f.Z)(r[i].toShapes()));return n}}]),e}();function fa(e,t,n){for(var r=Array.from(e),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,u=0,l=0;l<r.length;l++){var c=r[l];if("\n"===c)s=0,u-=a;else{var f=da(c,i,s,u,n);s+=f.offsetX,o.push(f.path)}}return o}function da(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,u,l,c,f,d,p,h=new g.ShapePath;if(a.o)for(var v=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),m=0,y=v.length;m<y;){switch(v[m++]){case"m":o=v[m++]*t+n,s=v[m++]*t+r,h.moveTo(o,s);break;case"l":o=v[m++]*t+n,s=v[m++]*t+r,h.lineTo(o,s);break;case"q":u=v[m++]*t+n,l=v[m++]*t+r,c=v[m++]*t+n,f=v[m++]*t+r,h.quadraticCurveTo(c,f,u,l);break;case"b":u=v[m++]*t+n,l=v[m++]*t+r,c=v[m++]*t+n,f=v[m++]*t+r,d=v[m++]*t+n,p=v[m++]*t+r,h.bezierCurveTo(c,f,d,p,u,l)}}return{offsetX:a.ha*t,path:h}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}var pa=n(6821),ha=n(3504),va=n.n(ha),ma=n(1501),ga=n(1779),ya=n(374);function ba(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,ya.Z)(e,t)}function wa(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var xa="function"===typeof Symbol&&Symbol.observable||"@@observable",_a=function(){return Math.random().toString(36).substring(7).split("").join(".")},Sa={INIT:"@@redux/INIT"+_a(),REPLACE:"@@redux/REPLACE"+_a(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_a()}};function ka(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ea(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(wa(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(wa(1));return n(Ea)(e,t)}if("function"!==typeof e)throw new Error(wa(2));var i=e,a=t,o=[],s=o,u=!1;function l(){s===o&&(s=o.slice())}function c(){if(u)throw new Error(wa(3));return a}function f(e){if("function"!==typeof e)throw new Error(wa(4));if(u)throw new Error(wa(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(wa(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),o=null}}}function d(e){if(!ka(e))throw new Error(wa(7));if("undefined"===typeof e.type)throw new Error(wa(8));if(u)throw new Error(wa(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(wa(10));i=e,d({type:Sa.REPLACE})}function h(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(wa(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[xa]=function(){return this},e}return d({type:Sa.INIT}),(r={dispatch:d,subscribe:f,getState:c,replaceReducer:p})[xa]=h,r}function Ca(e,t){return function(){return t(e.apply(this,arguments))}}function Ma(e,t){if("function"===typeof e)return Ca(e,t);if("object"!==typeof e||null===e)throw new Error(wa(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=Ca(i,t))}return n}function Ta(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Pa=t.createContext(null);var Aa=function(e){e()},Da=function(){return Aa};var Ia={notify:function(){},get:function(){return[]}};function Ra(e,t){var n,r=Ia;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Da(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Ia)},getListeners:function(){return r}};return o}var Oa="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var La=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=Ra(n);return{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);Oa((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var s=r||Pa;return t.createElement(s.Provider,{value:a},i)},Na=n(1972),za=n(5419),Fa=n.n(za),ja=n(9667),Ba=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Ua=["reactReduxForwardedRef"],Za=[],Va=[null,null];function Ha(e,t){var n=e[1];return[t.payload,n+1]}function Wa(e,t,n){Oa((function(){return e.apply(void 0,t)}),n)}function Ga(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function qa(e,t,n,r,i,a,o,s,u,l){if(e){var c=!1,f=null,d=function(){if(!c){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,f=p}n||(f=null),e===a.current?o.current||u():(a.current=e,s.current=e,o.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var Xa=function(){return[null,0]};function Ka(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,o=r.methodName,s=void 0===o?"connectAdvanced":o,u=r.renderCountProp,l=void 0===u?void 0:u,c=r.shouldHandleStateChanges,f=void 0===c||c,d=r.storeKey,p=void 0===d?"store":d,h=(r.withRef,r.forwardRef),v=void 0!==h&&h,g=r.context,y=void 0===g?Pa:g,b=(0,Na.Z)(r,Ba),w=y;return function(n){var r=n.displayName||n.name||"Component",i=a(r),o=m({},b,{getDisplayName:a,methodName:s,renderCountProp:l,shouldHandleStateChanges:f,storeKey:p,displayName:i,wrappedComponentName:r,WrappedComponent:n}),u=b.pure;var c=u?t.useMemo:function(e){return e()};function d(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=(0,Na.Z)(r,Ua);return[r.context,e,t]}),[r]),a=i[0],s=i[1],u=i[2],l=(0,t.useMemo)((function(){return a&&a.Consumer&&(0,ja.isContextConsumer)(t.createElement(a.Consumer,null))?a:w}),[a,w]),d=(0,t.useContext)(l),p=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var h=p?r.store:d.store,v=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,o)}(h)}),[h]),g=(0,t.useMemo)((function(){if(!f)return Va;var e=Ra(h,p?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,p,d]),y=g[0],b=g[1],x=(0,t.useMemo)((function(){return p?d:m({},d,{subscription:y})}),[p,d,y]),_=(0,t.useReducer)(Ha,Za,Xa),S=_[0][0],k=_[1];if(S&&S.error)throw S.error;var E=(0,t.useRef)(),C=(0,t.useRef)(u),M=(0,t.useRef)(),T=(0,t.useRef)(!1),P=c((function(){return M.current&&u===C.current?M.current:v(h.getState(),u)}),[h,S,u]);Wa(Ga,[C,E,T,u,P,M,b]),Wa(qa,[f,h,y,v,C,E,T,M,b,k],[h,y,v]);var A=(0,t.useMemo)((function(){return t.createElement(n,m({},P,{ref:s}))}),[s,n,P]);return(0,t.useMemo)((function(){return f?t.createElement(l.Provider,{value:x},A):A}),[l,A,x])}var h=u?t.memo(d):d;if(h.WrappedComponent=n,h.displayName=d.displayName=i,v){var g=t.forwardRef((function(e,n){return t.createElement(h,m({},e,{reactReduxForwardedRef:n}))}));return g.displayName=i,g.WrappedComponent=n,Fa()(g,n)}return Fa()(h,n)}}function Ya(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Qa(e,t){if(Ya(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Ya(e[n[i]],t[n[i]]))return!1;return!0}function $a(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Ja(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function eo(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Ja(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Ja(i),i=r(t,n)),i},r}}var to=[function(e){return"function"===typeof e?eo(e):void 0},function(e){return e?void 0:$a((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?$a((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var no=[function(e){return"function"===typeof e?eo(e):void 0},function(e){return e?void 0:$a((function(){return{}}))}];function ro(e,t,n){return m({},n,e,t)}var io=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var u=e(t,n,s);return o?i&&a(u,r)||(r=u):(o=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return ro}}],ao=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function oo(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function so(e,t,n,r,i){var a,o,s,u,l,c=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,p=!1;function h(i,p){var h=!f(p,o),v=!c(i,a,p,o);return a=i,o=p,h&&v?(s=e(a,o),t.dependsOnOwnProps&&(u=t(r,o)),l=n(s,u,o)):h?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(u=t(r,o)),l=n(s,u,o)):v?function(){var t=e(a,o),r=!d(t,s);return s=t,r&&(l=n(s,u,o)),l}():l}return function(i,c){return p?h(i,c):(s=e(a=i,o=c),u=t(r,o),l=n(s,u,o),p=!0,l)}}function uo(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=(0,Na.Z)(t,ao),o=n(e,a),s=r(e,a),u=i(e,a);return(a.pure?so:oo)(o,s,u,e,a)}var lo=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function co(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function fo(e,t){return e===t}function po(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Ka:n,i=t.mapStateToPropsFactories,a=void 0===i?no:i,o=t.mapDispatchToPropsFactories,s=void 0===o?to:o,u=t.mergePropsFactories,l=void 0===u?io:u,c=t.selectorFactory,f=void 0===c?uo:c;return function(e,t,n,i){void 0===i&&(i={});var o=i,u=o.pure,c=void 0===u||u,d=o.areStatesEqual,p=void 0===d?fo:d,h=o.areOwnPropsEqual,v=void 0===h?Qa:h,g=o.areStatePropsEqual,y=void 0===g?Qa:g,b=o.areMergedPropsEqual,w=void 0===b?Qa:b,x=(0,Na.Z)(o,lo),_=co(e,a,"mapStateToProps"),S=co(t,s,"mapDispatchToProps"),k=co(n,l,"mergeProps");return r(f,m({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:S,initMergeProps:k,pure:c,areStatesEqual:p,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:w},x))}}var ho=po();var vo,mo=n(9339);function go(e,n){var r=(0,t.useState)((function(){return{inputs:n,result:e()}}))[0],i=(0,t.useRef)(!0),a=(0,t.useRef)(r),o=i.current||Boolean(n&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,a.current.inputs)),s=o?a.current:{inputs:n,result:e()};return(0,t.useEffect)((function(){i.current=!1,a.current=s}),[s]),s.result}vo=mo.unstable_batchedUpdates,Aa=vo;var yo=go,bo=function(e,t){return go((function(){return e}),t)},wo="Invariant failed";var xo=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},_o=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},So=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},ko={top:0,right:0,bottom:0,left:0},Eo=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?ko:n,i=e.border,a=void 0===i?ko:i,o=e.padding,s=void 0===o?ko:o,u=xo(_o(t,r)),l=xo(So(t,a)),c=xo(So(l,s));return{marginBox:u,borderBox:xo(t),paddingBox:l,contentBox:c,margin:r,border:a,padding:s}},Co=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){if(!e)throw new Error(wo)}(!1),n},Mo=function(e,t){var n,r,i=e.borderBox,a=e.border,o=e.margin,s=e.padding,u=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Eo({borderBox:u,border:a,margin:o,padding:s})},To=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Mo(e,t)},Po=function(e,t){var n={top:Co(t.marginTop),right:Co(t.marginRight),bottom:Co(t.marginBottom),left:Co(t.marginLeft)},r={top:Co(t.paddingTop),right:Co(t.paddingRight),bottom:Co(t.paddingBottom),left:Co(t.paddingLeft)},i={top:Co(t.borderTopWidth),right:Co(t.borderRightWidth),bottom:Co(t.borderBottomWidth),left:Co(t.borderLeftWidth)};return Eo({borderBox:e,margin:n,padding:r,border:i})},Ao=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Po(t,n)},Do=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Io(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Do(r)&&Do(i)))return!1;var r,i;return!0}var Ro=function(e,t){var n;void 0===t&&(t=Io);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}},Oo=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Lo(e,t){}Lo.bind(null,"warn"),Lo.bind(null,"error");function No(){}function zo(e,t,n){var r=t.map((function(t){var r=function(e,t){return m({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var Fo="Invariant failed";function jo(e){this.message=e}function Bo(e,t){if(!e)throw new jo(Fo)}jo.prototype.toString=function(){return this.message};var Uo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=No,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof jo&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}ba(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=zo(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof jo))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(t.Component),Zo=function(e){return e+1},Vo=function(e,t){var n=e.droppableId===t.droppableId,r=Zo(e.index),i=Zo(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},Ho=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Wo=function(e){return"\n  The item has returned to its starting position\n  of "+Zo(e.index)+"\n"},Go="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",qo=function(e){return"\n  You have lifted an item in position "+Zo(e.source.index)+"\n"},Xo=function(e){var t=e.destination;if(t)return Vo(e.source,t);var n=e.combine;return n?Ho(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Ko=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Wo(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Vo(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Ho(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Wo(e.source)+"\n  "},Yo={x:0,y:0},Qo=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},$o=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Jo=function(e,t){return e.x===t.x&&e.y===t.y},es=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},ts=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},ns=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},rs=function(e,t){return Math.min.apply(Math,t.map((function(t){return ns(e,t)})))},is=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},as=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},os=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},ss=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=xo({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):xo(e)},us=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,a=function(e,t){return t?as(e,t.scroll.diff.displacement):e}(t.marginBox,i),o=function(e,t,n){var r;return n&&n.increasedBy?m({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(a,r,n);return{page:t,withPlaceholder:n,active:ss(o,i)}},ls=function(e,t){e.frame||Bo(!1);var n=e.frame,r=$o(t,n.scroll.initial),i=es(r),a=m({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return m({},e,{frame:a,subject:us({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a})})};function cs(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function fs(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function ds(e,t){if(e.find)return e.find(t);var n=fs(e,t);return-1!==n?e[n]:void 0}function ps(e){return Array.prototype.slice.call(e)}var hs=Ro((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),vs=Ro((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),ms=Ro((function(e){return cs(e)})),gs=Ro((function(e){return cs(e)})),ys=Ro((function(e,t){var n=gs(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function bs(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function ws(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var xs=Ro((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),_s=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Ss={point:Yo,value:0},ks={invisible:{},visible:{},all:[]},Es={displaced:ks,displacedBy:Ss,at:null},Cs=function(e,t){return function(n){return e<=n&&n<=t}},Ms=function(e){var t=Cs(e.top,e.bottom),n=Cs(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;var o=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!o||!s)||(o&&a||s&&i)}},Ts=function(e){var t=Cs(e.top,e.bottom),n=Cs(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},Ps={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},As={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Ds=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,a=e.isVisibleThroughFrameFn,o=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Yo;return as(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(o,n,a)&&function(e,t,n){return n(t)(e)}(o,r,a)},Is=function(e){return Ds(m({},e,{isVisibleThroughFrameFn:Ms}))},Rs=function(e){return Ds(m({},e,{isVisibleThroughFrameFn:Ts}))};function Os(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,a=e.forceShouldAnimate,o=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return xo(_o(n,r))}(t,r),u=t.descriptor.id;if(e.all.push(u),!Is({target:s,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var l=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var a=i[e];return!a||a.shouldAnimate}(u,o,a),c={draggableId:u,shouldAnimate:l};return e.visible[u]=c,e}),{all:[],visible:{},invisible:{}})}function Ls(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,a=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:ks,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Ns(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,a=e.displacedBy,o=e.last,s=e.index,u=e.forceShouldAnimate,l=_s(t,r);if(null==s)return Ls({insideDestination:n,inHomeList:l,displacedBy:a,destination:r});var c=ds(n,(function(e){return e.descriptor.index===s}));if(!c)return Ls({insideDestination:n,inHomeList:l,displacedBy:a,destination:r});var f=xs(t,n),d=n.indexOf(c);return{displaced:Os({afterDragging:f.slice(d),destination:r,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:u}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function zs(e,t){return Boolean(t.effected[e])}var Fs=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,a=e.destination,o=e.insideDestination,s=e.previousImpact,u=e.viewport,l=e.afterCritical,c=s.at;if(c||Bo(!1),"REORDER"===c.type){var f=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var a=i.index,o=t?a+1:a-1,s=r[0].descriptor.index,u=r[r.length-1].descriptor.index;return o<s||o>(n?u:u+1)?null:o}({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:o});return null==f?null:Ns({draggable:r,insideDestination:o,destination:a,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:f})}var d=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,a=e.afterCritical;if(!n.isCombineEnabled)return null;var o=i.draggableId,s=r[o].descriptor.index;return zs(o,a)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:a,displaced:s.displaced,draggables:i,combine:c.combine,afterCritical:l});return null==d?null:Ns({draggable:r,insideDestination:o,destination:a,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:d})},js=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=ws(n);i||Bo(!1);var a=i.draggableId,o=r[a].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,a=Boolean(t.visible[r]||t.invisible[r]);return zs(r,n)?a?Yo:es(i.point):a?i.point:Yo}({displaced:n.displaced,afterCritical:t,combineWith:a,displacedBy:n.displacedBy});return Qo(o,s)},Bs=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Us=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Zs=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return ts(t.line,n.marginBox[t.end]+Bs(t,r),Us(t,n.marginBox,r))},Vs=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return ts(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Us(t,n.marginBox,r))},Hs=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,a=e.afterCritical,o=ys(i.descriptor.id,r),s=n.page,u=i.axis;if(!o.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return ts(t.line,n.contentBox[t.start]+Bs(t,r),Us(t,n.contentBox,r))}({axis:u,moveInto:i.page,isMoving:s});var l=t.displaced,c=t.displacedBy,f=l.all[0];if(f){var d=r[f];if(zs(f,a))return Vs({axis:u,moveRelativeTo:d.page,isMoving:s});var p=Mo(d.page,c.point);return Vs({axis:u,moveRelativeTo:p,isMoving:s})}var h=o[o.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(zs(h.descriptor.id,a)){var v=Mo(h.page,es(a.displacedBy.point));return Zs({axis:u,moveRelativeTo:v,isMoving:s})}return Zs({axis:u,moveRelativeTo:h.page,isMoving:s})},Ws=function(e,t){var n=e.frame;return n?Qo(t,n.scroll.diff.displacement):t},Gs=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,a=e.afterCritical,o=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?Hs({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a}):js({impact:t,draggables:i,afterCritical:a}):o}(e),n=e.droppable;return n?Ws(n,t):t},qs=function(e,t){var n=$o(t,e.scroll.initial),r=es(n);return{frame:xo({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Xs(e,t){return e.map((function(e){return t[e]}))}var Ks=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return Qo(e.scroll.diff.displacement,t)}(e.viewport,t),i=$o(r,n.page.borderBox.center);return Qo(n.client.borderBox.center,i)},Ys=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,a=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=void 0!==o&&o,u=$o(r,t.page.borderBox.center),l={target:as(t.page.borderBox,u),destination:n,withDroppableDisplacement:a,viewport:i};return s?function(e){return Ds(m({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=Cs(e.top,e.bottom),r=Cs(e.left,e.right);return function(e){return t===Ps?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(l):Rs(l)},Qs=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,a=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,u=e.previousClientSelection,l=e.afterCritical;if(!r.isEnabled)return null;var c=ys(r.descriptor.id,i),f=_s(n,r),d=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,a=e.previousImpact;if(!r.isCombineEnabled)return null;if(!bs(a))return null;function o(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return m({},a,{at:t})}var s=a.displaced.all,u=s.length?s[0]:null;if(t)return u?o(u):null;var l=xs(n,i);if(!u)return l.length?o(l[l.length-1].descriptor.id):null;var c=fs(l,(function(e){return e.descriptor.id===u}));-1===c&&Bo(!1);var f=c-1;return f<0?null:o(l[f].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:a})||Fs({isMovingForward:t,isInHomeList:f,draggable:n,draggables:i,destination:r,insideDestination:c,previousImpact:a,viewport:o,afterCritical:l});if(!d)return null;var p=Gs({impact:d,draggable:n,droppable:r,draggables:i,afterCritical:l});if(Ys({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ks({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:d,scrollJumpRequest:null};var h=$o(p,s),v=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,a=e.maxScrollChange,o=qs(n,Qo(n.scroll.current,a)),s=r.frame?ls(r,Qo(r.frame.scroll.current,a)):r,u=t.displaced,l=Os({afterDragging:Xs(u.all,i),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:u,forceShouldAnimate:!1}),c=Os({afterDragging:Xs(u.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:u,forceShouldAnimate:!1}),f={},d={},p=[u,l,c];return u.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,p);t?d[e]=t:f[e]=!0})),m({},t,{displaced:{all:u.all,invisible:f,visible:d}})}({impact:d,viewport:o,destination:r,draggables:i,maxScrollChange:h});return{clientSelection:u,impact:v,scrollJumpRequest:h}},$s=function(e){var t=e.subject.active;return t||Bo(!1),t},Js=function(e,t){var n=e.page.borderBox.center;return zs(e.descriptor.id,t)?$o(n,t.displacedBy.point):n},eu=function(e,t){var n=e.page.borderBox;return zs(e.descriptor.id,t)?as(n,es(t.displacedBy.point)):n},tu=Ro((function(e,t){var n=t[e.line];return{value:n,point:ts(e.line,n)}})),nu=function(e,t){return m({},e,{scroll:m({},e.scroll,{max:t})})},ru=function(e,t,n){var r=e.frame;_s(t,e)&&Bo(!1),e.subject.withPlaceholder&&Bo(!1);var i=tu(e.axis,t.displaceBy).point,a=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return ts(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],a=ys(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return a<=0?null:ts(r.line,a)}(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return m({},e,{subject:us({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame})});var s=a?Qo(r.scroll.max,a):r.scroll.max,u=nu(r,s);return m({},e,{subject:us({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u}),frame:u})},iu=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,a=e.draggables,o=e.droppables,s=e.viewport,u=e.afterCritical,l=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,a=e.viewport,o=r.subject.active;if(!o)return null;var s=r.axis,u=Cs(o[s.start],o[s.end]),l=ms(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return Ms(a.frame)($s(e))})).filter((function(e){var n=$s(e);return t?o[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<o[s.crossAxisStart]})).filter((function(e){var t=$s(e),n=Cs(t[s.start],t[s.end]);return u(t[s.start])||u(t[s.end])||n(o[s.start])||n(o[s.end])})).sort((function(e,n){var r=$s(e)[s.crossAxisStart],i=$s(n)[s.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return $s(e)[s.crossAxisStart]===$s(n[0])[s.crossAxisStart]}));if(!l.length)return null;if(1===l.length)return l[0];var c=l.filter((function(e){return Cs($s(e)[s.start],$s(e)[s.end])(n[s.line])}));return 1===c.length?c[0]:c.length>1?c.sort((function(e,t){return $s(e)[s.start]-$s(t)[s.start]}))[0]:l.sort((function(e,t){var r=rs(n,os($s(e))),i=rs(n,os($s(t)));return r!==i?r-i:$s(e)[s.start]-$s(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:o,viewport:s});if(!l)return null;var c=ys(l.descriptor.id,a),f=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,a=e.afterCritical,o=i.filter((function(e){return Rs({target:eu(e,a),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=ns(t,Ws(r,Js(e,a))),o=ns(t,Ws(r,Js(n,a)));return i<o?-1:o<i?1:e.descriptor.index-n.descriptor.index}));return o[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:l,insideDestination:c,afterCritical:u}),d=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,a=e.draggables,o=e.destination,s=e.viewport,u=e.afterCritical;if(!n){if(r.length)return null;var l={displaced:ks,displacedBy:Ss,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},c=Gs({impact:l,draggable:i,droppable:o,draggables:a,afterCritical:u}),f=_s(i,o)?o:ru(o,i,a);return Ys({draggable:i,destination:f,newPageBorderBoxCenter:c,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?l:null}var d=Boolean(t[o.axis.line]<=n.page.borderBox.center[o.axis.line]),p=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||d?e:e+1}(),h=tu(o.axis,i.displaceBy);return Ns({draggable:i,insideDestination:r,destination:o,viewport:s,displacedBy:h,last:ks,index:p})}({previousPageBorderBoxCenter:n,destination:l,draggable:r,draggables:a,moveRelativeTo:f,insideDestination:c,viewport:s,afterCritical:u});if(!d)return null;var p=Gs({impact:d,draggable:r,droppable:l,draggables:a,afterCritical:u});return{clientSelection:Ks({pageBorderBoxCenter:p,draggable:r,viewport:s}),impact:d,scrollJumpRequest:null}},au=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},ou=function(e){var t=e.state,n=e.type,r=function(e,t){var n=au(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),a=t.dimensions.droppables[t.critical.droppable.id],o=r||a,s=o.axis.direction,u="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(u&&!i)return null;var l="MOVE_DOWN"===n||"MOVE_RIGHT"===n,c=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,d=t.dimensions,p=d.draggables,h=d.droppables;return u?Qs({isMovingForward:l,previousPageBorderBoxCenter:f,draggable:c,destination:o,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):iu({isMovingForward:l,previousPageBorderBoxCenter:f,draggable:c,isOver:o,draggables:p,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function su(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function uu(e){var t=Cs(e.top,e.bottom),n=Cs(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function lu(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=ms(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(uu(i)(t.center))return!0;var a=e.axis,o=i.center[a.crossAxisLine],s=t[a.crossAxisStart],u=t[a.crossAxisEnd],l=Cs(i[a.crossAxisStart],i[a.crossAxisEnd]),c=l(s),f=l(u);return!c&&!f||(c?s<o:u>o)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,a=r.map((function(e){var n=e.axis,r=ts(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:ns(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return a[0]?a[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var cu=function(e,t){return xo(as(e,t))};function fu(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var du=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,a=e.previousImpact,o=e.viewport,s=e.afterCritical,u=cu(n.page.borderBox,t),l=lu({pageBorderBox:u,draggable:n,droppables:i});if(!l)return Es;var c=i[l],f=ys(c.descriptor.id,r),d=function(e,t){var n=e.frame;return n?cu(t,n.scroll.diff.value):t}(c,u);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,a=e.insideDestination,o=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,u=tu(i.axis,t.displaceBy),l=u.value,c=n[s.start],f=n[s.end],d=ds(xs(t,a),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,a=zs(t,o),u=fu({displaced:r.displaced,id:t});return a?u?f>n[s.start]+i&&f<n[s.end]-i:c>n[s.start]-l+i&&c<n[s.end]-l-i:u?f>n[s.start]+l+i&&f<n[s.end]+l-i:c>n[s.start]+i&&c<n[s.end]-i}));return d?{displacedBy:u,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:d,draggable:n,previousImpact:a,destination:c,insideDestination:f,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,a=e.last,o=e.viewport,s=e.afterCritical,u=r.axis,l=tu(r.axis,n.displaceBy),c=l.value,f=t[u.start],d=t[u.end],p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:ds(xs(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[u.line],r=zs(t,s),i=fu({displaced:a,id:t});return r?i?d<=n:f<n-c:i?d<=n+c:f<n})),inHomeList:_s(n,r)});return Ns({draggable:n,insideDestination:i,destination:r,viewport:o,last:a,displacedBy:l,index:p})}({pageBorderBoxWithDroppableScroll:d,draggable:n,destination:c,insideDestination:f,last:a.displaced,viewport:o,afterCritical:s})},pu=function(e,t){var n;return m({},e,((n={})[t.descriptor.id]=t,n))},hu=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=au(t),a=au(n);if(!i)return r;if(i===a)return r;var o=r[i];if(!o.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||Bo(!1);var n=e.frame;if(!n)return m({},e,{subject:us({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Bo(!1);var i=nu(n,r);return m({},e,{subject:us({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(o);return pu(r,s)},vu=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,a=e.impact,o=e.scrollJumpRequest,s=i||t.viewport,u=r||t.dimensions,l=n||t.current.client.selection,c=$o(l,t.initial.client.selection),f={offset:c,selection:l,borderBoxCenter:Qo(t.initial.client.borderBoxCenter,c)},d={selection:Qo(f.selection,s.scroll.current),borderBoxCenter:Qo(f.borderBoxCenter,s.scroll.current),offset:Qo(f.offset,s.scroll.diff.value)},p={client:f,page:d};if("COLLECTING"===t.phase)return m({phase:"COLLECTING"},t,{dimensions:u,viewport:s,current:p});var h=u.draggables[t.critical.draggable.id],v=a||du({pageOffset:d.offset,draggable:h,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,a=e.impact,o=hu({previousImpact:i,impact:a,droppables:r}),s=au(a);if(!s)return o;var u=r[s];if(_s(t,u))return o;if(u.subject.withPlaceholder)return o;var l=ru(u,t,n);return pu(o,l)}({draggable:h,impact:v,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables});return m({},t,{current:p,dimensions:{draggables:u.draggables,droppables:g},impact:v,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null})};var mu=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,a=e.forceShouldAnimate,o=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(o.all,r);return m({},t,{displaced:Os({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:a,last:o})})},gu=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,a=e.viewport,o=e.afterCritical,s=Gs({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o});return Ks({pageBorderBoxCenter:s,draggable:n,viewport:a})},yu=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Bo(!1);var i=t.impact,a=r||t.viewport,o=n||t.dimensions,s=o.draggables,u=o.droppables,l=s[t.critical.draggable.id],c=au(i);c||Bo(!1);var f=u[c],d=mu({impact:i,viewport:a,destination:f,draggables:s}),p=gu({impact:d,draggable:l,droppable:f,draggables:s,viewport:a,afterCritical:t.afterCritical});return vu({impact:d,clientSelection:p,state:t,dimensions:o,viewport:a})},bu=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,a=tu(n.axis,t.displaceBy),o=ys(n.descriptor.id,r),s=o.indexOf(t);-1===s&&Bo(!1);var u,l=o.slice(s+1),c=l.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),f={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:a,effected:c};return{impact:{displaced:Os({afterDragging:l,destination:n,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:(u=t.descriptor,{index:u.index,droppableId:u.droppableId})}},afterCritical:f}},wu=function(e){0},xu=function(e){0},_u=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,a=function(e){var t=e.frame;return t||Bo(!1),t}(n[t]),o=a.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=Mo(t.client,n),a=To(i,r);return m({},t,{placeholder:m({},t.placeholder,{client:i}),client:i,page:a})}({draggable:e,offset:Qo(i,o),initialWindowScroll:r.scroll.initial});return s}))},Su=function(e){return"SNAP"===e.movementMode},ku=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:pu(e.droppables,t)}}(e.dimensions,t);return!Su(e)||n?vu({state:e,dimensions:r}):yu({state:e,dimensions:r})};function Eu(e){return e.isDragging&&"SNAP"===e.movementMode?m({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Cu={phase:"IDLE",completed:null,shouldFlush:!1},Mu=function(e,t){if(void 0===e&&(e=Cu),"FLUSH"===t.type)return m({},Cu,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Bo(!1);var n=t.payload,r=n.critical,i=n.clientSelection,a=n.viewport,o=n.dimensions,s=n.movementMode,u=o.draggables[r.draggable.id],l=o.droppables[r.droppable.id],c={selection:i,borderBoxCenter:u.client.borderBox.center,offset:Yo},f={client:c,page:{selection:Qo(c.selection,a.scroll.initial),borderBoxCenter:Qo(c.selection,a.scroll.initial),offset:Qo(c.selection,a.scroll.diff.value)}},d=ms(o.droppables).every((function(e){return!e.isFixedOnPage})),p=bu({draggable:u,home:l,draggables:o.draggables,viewport:a}),h=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:o,initial:f,current:f,isWindowScrollAllowed:d,impact:h,afterCritical:p.afterCritical,onLiftImpact:h,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Bo(!1),m({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Bo(!1),function(e){var t=e.state,n=e.published;wu();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return ls(n,e.scroll)})),i=m({},t.dimensions.droppables,{},hs(r)),a=vs(_u({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),o=m({},t.dimensions.draggables,{},a);n.removals.forEach((function(e){delete o[e]}));var s={droppables:i,draggables:o},u=au(t.impact),l=u?s.droppables[u]:null,c=s.draggables[t.critical.draggable.id],f=s.droppables[t.critical.droppable.id],d=bu({draggable:c,home:f,draggables:o,viewport:t.viewport}),p=d.impact,h=d.afterCritical,v=l&&l.isCombineEnabled?t.impact:p,g=du({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:v,viewport:t.viewport,afterCritical:h});xu();var y=m({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:p,dimensions:s,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?y:m({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;su(e)||Bo(!1);var v=t.payload.client;return Jo(v,e.current.client.selection)?e:vu({state:e,clientSelection:v,impact:Su(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Eu(e);if("COLLECTING"===e.phase)return Eu(e);su(e)||Bo(!1);var g=t.payload,y=g.id,b=g.newScroll,w=e.dimensions.droppables[y];if(!w)return e;var x=ls(w,b);return ku(e,x,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;su(e)||Bo(!1);var _=t.payload,S=_.id,k=_.isEnabled,E=e.dimensions.droppables[S];E||Bo(!1),E.isEnabled===k&&Bo(!1);var C=m({},E,{isEnabled:k});return ku(e,C,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;su(e)||Bo(!1);var M=t.payload,T=M.id,P=M.isCombineEnabled,A=e.dimensions.droppables[T];A||Bo(!1),A.isCombineEnabled===P&&Bo(!1);var D=m({},A,{isCombineEnabled:P});return ku(e,D,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;su(e)||Bo(!1),e.isWindowScrollAllowed||Bo(!1);var I=t.payload.newScroll;if(Jo(e.viewport.scroll.current,I))return Eu(e);var R=qs(e.viewport,I);return Su(e)?yu({state:e,viewport:R}):vu({state:e,viewport:R})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!su(e))return e;var O=t.payload.maxScroll;if(Jo(O,e.viewport.scroll.max))return e;var L=m({},e.viewport,{scroll:m({},e.viewport.scroll,{max:O})});return m({phase:"DRAGGING"},e,{viewport:L})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Bo(!1);var N=ou({state:e,type:t.type});return N?vu({state:e,impact:N.impact,clientSelection:N.clientSelection,scrollJumpRequest:N.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var z=t.payload.reason;return"COLLECTING"!==e.phase&&Bo(!1),m({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:z})}if("DROP_ANIMATE"===t.type){var F=t.payload,j=F.completed,B=F.dropDuration,U=F.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Bo(!1),{phase:"DROP_ANIMATING",completed:j,dropDuration:B,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Tu=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Pu=function(){return{type:"COLLECTION_STARTING",payload:null}},Au=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Du=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Iu=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Ru=function(e){return{type:"MOVE",payload:e}},Ou=function(){return{type:"MOVE_UP",payload:null}},Lu=function(){return{type:"MOVE_DOWN",payload:null}},Nu=function(){return{type:"MOVE_RIGHT",payload:null}},zu=function(){return{type:"MOVE_LEFT",payload:null}},Fu=function(e){return{type:"DROP_COMPLETE",payload:e}},ju=function(e){return{type:"DROP",payload:e}},Bu=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Uu="cubic-bezier(.2,1,.1,1)",Zu={drop:0,combining:.7},Vu={drop:.75},Hu=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Wu={fluid:"opacity "+Hu,snap:"transform "+Hu+", opacity "+Hu,drop:function(e){var t=e+"s "+Uu;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Hu,placeholder:"height "+Hu+", width "+Hu+", margin "+Hu},Gu=function(e){return Jo(e,Yo)?null:"translate("+e.x+"px, "+e.y+"px)"},qu=Gu,Xu=function(e,t){var n=Gu(e);return n?t?n+" scale("+Vu.drop+")":n:null},Ku=.33,Yu=.55,Qu=Yu-Ku,$u=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),a=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&Bo(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&Bo(!1);var o=i.critical,s=i.dimensions,u=s.draggables[i.critical.draggable.id],l=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,a=e.viewport,o=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:m({},r,{displaced:ks}),didDropInsideDroppable:!0}:{impact:mu({draggables:t,impact:o,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),c=l.impact,f=l.didDropInsideDroppable,d=f?bs(c):null,p=f?ws(c):null,h={index:o.draggable.index,droppableId:o.droppable.id},v={draggableId:u.descriptor.id,type:u.descriptor.type,source:h,reason:a,mode:i.movementMode,destination:d,combine:p},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,a=e.afterCritical,o=r.draggables,s=r.droppables,u=au(t),l=u?s[u]:null,c=s[n.descriptor.droppableId],f=gu({impact:t,draggable:n,draggables:o,afterCritical:a,droppable:l||c,viewport:i});return $o(f,n.client.borderBox.center)}({impact:c,draggable:u,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:c};if(!Jo(i.current.client.offset,g)||Boolean(v.combine)){var b=function(e){var t=e.current,n=e.destination,r=e.reason,i=ns(t,n);if(i<=0)return Ku;if(i>=1500)return Yu;var a=Ku+Qu*(i/1500);return Number(("CANCEL"===r?.6*a:a).toFixed(2))}({current:i.current.client.offset,destination:g,reason:a});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:b,completed:y}))}else n(Fu({completed:y}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:a}))}else e(r)}}},Ju=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function el(e){var t=e.onWindowScroll;var n=Oo((function(){t(Ju())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=No;function a(){return i!==No}return{start:function(){a()&&Bo(!1),i=zo(window,[r])},stop:function(){a()||Bo(!1),n.cancel(),i(),i=No},isActive:a}}var tl=function(e){var t=el({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},nl=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=fs(e,(function(e){return e.timerId===t}));-1===n&&Bo(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},rl=function(e,t){wu(),t(),xu()},il=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},al=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},ol=function(e,t){var n=function(e,t){var n=nl(),r=null,i=function(n){r||Bo(!1),r=null,rl(0,(function(){return al(e().onDragEnd,n,t,Ko)}))};return{beforeCapture:function(t,n){r&&Bo(!1),rl(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Bo(!1),rl(0,(function(){var r=e().onBeforeDragStart;r&&r(il(t,n))}))},start:function(i,a){r&&Bo(!1);var o=il(i,a);r={mode:a,lastCritical:i,lastLocation:o.source,lastCombine:null},n.add((function(){rl(0,(function(){return al(e().onDragStart,o,t,qo)}))}))},update:function(i,a){var o=bs(a),s=ws(a);r||Bo(!1);var u=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);u&&(r.lastCritical=i);var l,c,f=(c=o,!(null==(l=r.lastLocation)&&null==c||null!=l&&null!=c&&l.droppableId===c.droppableId&&l.index===c.index));f&&(r.lastLocation=o);var d=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,s);if(d&&(r.lastCombine=s),u||f||d){var p=m({},il(i,r.mode),{combine:s,destination:o});n.add((function(){rl(0,(function(){return al(e().onDragUpdate,p,t,Xo)}))}))}},flush:function(){r||Bo(!1),n.flush()},drop:i,abort:function(){if(r){var e=m({},il(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var a=r.payload.completed.result;return n.flush(),t(r),void n.drop(a)}if(t(r),"FLUSH"!==r.type){var o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},sl=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Bo(!1),e.dispatch(Fu({completed:r.completed}))}else t(n)}}},ul=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=zo(window,[a])}))}}}},ll=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(ju({reason:r.reason})))}}}},cl=Ta,fl=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,a=e.getResponders,o=e.announce,s=e.autoScroller;return Ea(Mu,cl(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(wa(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ta.apply(void 0,a)(n.dispatch),(0,c.Z)((0,c.Z)({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var a=i.payload,o=a.id,s=a.clientSelection,u=a.movementMode,l=n();"DROP_ANIMATING"===l.phase&&r(Fu({completed:l.completed})),"IDLE"!==n().phase&&Bo(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:u}});var c={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===u}},f=e.startPublishing(c),d=f.critical,p=f.dimensions,h=f.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:p,clientSelection:s,movementMode:u,viewport:h}})}else t(i)}}}}(n),$u,sl,ul,ll,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&Bo(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(s),tl,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),ol(a,o))))};var dl=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,a=$o({x:n,y:t},{x:i,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},pl=function(){var e=document.documentElement;return e||Bo(!1),e},hl=function(){var e=pl();return dl({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},vl=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;wu();var i=function(){var e=Ju(),t=hl(),n=e.y,r=e.x,i=pl(),a=i.clientWidth,o=i.clientHeight;return{frame:xo({top:n,left:r,right:r+a,bottom:n+o}),scroll:{initial:e,current:e,max:t,diff:{value:Yo,displacement:Yo}}}}(),a=i.scroll.current,o=t.droppable,s=r.droppable.getAllByType(o.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(a,n)})),u=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(a)})),l={draggables:vs(u),droppables:hs(s)};return xu(),{dimensions:l,critical:t,viewport:i}};function ml(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var gl=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,a=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,wu();var e=r,a=e.additions,o=e.removals,s=e.modified,u=Object.keys(a).map((function(e){return t.draggable.getById(e).getDimension(Yo)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),l=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),c={additions:u,removals:Object.keys(o),modified:l};r={additions:{},removals:{},modified:{}},xu(),n.publish(c)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],a()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],a()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||Bo(!1);var i=n.critical.draggable;"ADDITION"===t.type&&ml(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&ml(e,i,t.value)&&r.remove(t.value)},a={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||Bo(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||Bo(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||Bo(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&Bo(!1);var r=e.draggable.getById(t.draggableId),a=e.droppable.getById(r.descriptor.droppableId),o={draggable:r.descriptor,droppable:a.descriptor},s=e.subscribe(i);return n={critical:o,unsubscribe:s},vl({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return a},yl=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},bl=function(e){window.scrollBy(e.x,e.y)},wl=Ro((function(e){return ms(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),xl=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var a=function(e,t){var n=ds(wl(t),(function(t){return t.frame||Bo(!1),uu(t.frame.pageMarginBox)(e)}));return n}(t,r);return a},_l=.25,Sl=.05,kl=28,El=function(e){return Math.pow(e,2)},Cl={stopDampeningAt:1200,accelerateAt:360},Ml=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},Tl=Cl.accelerateAt,Pl=Cl.stopDampeningAt,Al=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,a=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return kl;if(e===t.startScrollingFrom)return 1;var n=Ml({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=kl*El(1-n);return Math.ceil(r)}(t,n);return 0===a?0:i?Math.max(function(e,t){var n=t,r=Pl,i=Date.now()-n;if(i>=Pl)return e;if(i<Tl)return 1;var a=Ml({startOfRange:Tl,endOfRange:r,current:i}),o=e*El(a);return Math.ceil(o)}(a,r),1):a},Dl=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,a=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:e[t.size]*_l,maxScrollValueAt:e[t.size]*Sl}}(t,i);return n[i.end]<n[i.start]?Al({distanceToEdge:n[i.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a}):-1*Al({distanceToEdge:n[i.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a})},Il=is((function(e){return 0===e?0:e})),Rl=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,a=e.shouldUseTimeDampening,o={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=Dl({container:n,distanceToEdges:o,dragStartTime:t,axis:Ps,shouldUseTimeDampening:a}),u=Dl({container:n,distanceToEdges:o,dragStartTime:t,axis:As,shouldUseTimeDampening:a}),l=Il({x:u,y:s});if(Jo(l,Yo))return null;var c=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,a=n.width>t.width;return a||i?a&&i?null:{x:a?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:l});return c?Jo(c,Yo)?null:c:null},Ol=is((function(e){return 0===e?0:e>0?1:-1})),Ll=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,a=Qo(n,i),o={x:e(a.x,r.x),y:e(a.y,r.y)};return Jo(o,Yo)?null:o}}(),Nl=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},a=Ol(r),o=Ll({max:i,current:n,change:a});return!o||(0!==a.x&&0===o.x||0!==a.y&&0===o.y)},zl=function(e,t){return Nl({current:e.scroll.current,max:e.scroll.max,change:t})},Fl=function(e,t){var n=e.frame;return!!n&&Nl({current:n.scroll.current,max:n.scroll.max,change:t})},jl=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,a=e.scrollDroppable,o=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var u=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=Rl({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:a});return o&&zl(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:o,shouldUseTimeDampening:r});if(u)return void i(u)}var l=xl({center:o,destination:au(t.impact),droppables:t.dimensions.droppables});if(l){var c=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var s=Rl({dragStartTime:i,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:a});return s&&Fl(t,s)?s:null}({dragStartTime:n,droppable:l,subject:s,center:o,shouldUseTimeDampening:r});c&&a(l.descriptor.id,c)}},Bl=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!Fl(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Fl(e,t)?Ll({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=$o(t,r);return n(e.descriptor.id,i),$o(t,i)},a=function(e,t,n){if(!e)return n;if(!zl(t,n))return n;var i=function(e,t){if(!zl(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Ll({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var a=$o(n,i);return r(a),$o(n,a)};return function(e){var n=e.scrollJumpRequest;if(n){var r=au(e.impact);r||Bo(!1);var o=i(e.dimensions.droppables[r],n);if(o){var s=e.viewport,u=a(e.isWindowScrollAllowed,s,o);u&&function(e,n){var r=Qo(e.current.client.selection,n);t({client:r})}(e,u)}}}},Ul=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Oo(t),i=Oo(n),a=null,o=function(e){a||Bo(!1);var t=a,n=t.shouldUseTimeDampening,o=t.dragStartTime;jl({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:o,shouldUseTimeDampening:n})};return{start:function(e){wu(),a&&Bo(!1);var t=Date.now(),n=!1,r=function(){n=!0};jl({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),a={dragStartTime:t,shouldUseTimeDampening:n},xu(),n&&o(e)},stop:function(){a&&(r.cancel(),i.cancel(),a=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),a=Bl({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):i.scroll(e))},start:i.start,stop:i.stop}},Zl=function(){var e="data-rbd-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Vl=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Hl=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Wl={contextId:"data-rbd-scroll-container-context-id"},Gl=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},ql="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect,Xl=function(){var e=document.querySelector("head");return e||Bo(!1),e},Kl=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Yl(e,n){var r=yo((function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(Zl.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),i=[function(){var e="\n      transition: "+Wu.outOfTheWay+";\n    ";return{selector:n(Vl.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(Hl.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Gl(i,"always"),resting:Gl(i,"resting"),dragging:Gl(i,"dragging"),dropAnimating:Gl(i,"dropAnimating"),userCancel:Gl(i,"userCancel")}}(e)}),[e]),i=(0,t.useRef)(null),a=(0,t.useRef)(null),o=bo(Ro((function(e){var t=a.current;t||Bo(!1),t.textContent=e})),[]),s=bo((function(e){var t=i.current;t||Bo(!1),t.textContent=e}),[]);ql((function(){(i.current||a.current)&&Bo(!1);var t=Kl(n),u=Kl(n);return i.current=t,a.current=u,t.setAttribute("data-rbd-always",e),u.setAttribute("data-rbd-dynamic",e),Xl().appendChild(t),Xl().appendChild(u),s(r.always),o(r.resting),function(){var e=function(e){var t=e.current;t||Bo(!1),Xl().removeChild(t),e.current=null};e(i),e(a)}}),[n,s,o,r.always,r.resting,e]);var u=bo((function(){return o(r.dragging)}),[o,r.dragging]),l=bo((function(e){o("DROP"!==e?r.userCancel:r.dropAnimating)}),[o,r.dropAnimating,r.userCancel]),c=bo((function(){a.current&&o(r.resting)}),[o,r.resting]);return yo((function(){return{dragging:u,dropping:l,resting:c}}),[u,l,c])}var Ql=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function $l(e){return e instanceof Ql(e).HTMLElement}function Jl(e,t){var n="["+Zl.contextId+'="'+e+'"]',r=ps(document.querySelectorAll(n));if(!r.length)return null;var i=ds(r,(function(e){return e.getAttribute(Zl.draggableId)===t}));return i&&$l(i)?i:null}function ec(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,a=r(i);a&&t.uniqueId===a.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Bo(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return cs(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||Bo(!1),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return cs(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var tc=t.createContext(null),nc=function(){var e=document.body;return e||Bo(!1),e},rc={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var ic=0,ac={separator:"::"};function oc(e,t){return void 0===t&&(t=ac),yo((function(){return""+e+t.separator+ic++}),[t.separator,e])}var sc=t.createContext(null);function uc(e){0}function lc(e,t){uc()}function cc(){lc()}function fc(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e})),n}var dc,pc=((dc={})[13]=!0,dc[9]=!0,dc),hc=function(e){pc[e.keyCode]&&e.preventDefault()},vc=function(){var e="visibilitychange";return"undefined"===typeof document?e:ds([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var mc,gc={type:"IDLE"};function yc(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,a=e.clientY;if(0===t){var o={x:n,y:a},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(o);"PENDING"!==s.type&&Bo(!1);var u=s.point;if(l=u,c=o,Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5){var l,c;e.preventDefault();var f=s.actions.fluidLift(o);i({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void hc(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Bo(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:vc,fn:t}]}function bc(){}var wc=((mc={})[34]=!0,mc[33]=!0,mc[36]=!0,mc[35]=!0,mc);function xc(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(wc[r.keyCode]?r.preventDefault():hc(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:vc,fn:n}]}var _c={type:"IDLE"};var Sc={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function kc(e,t){if(null==t)return!1;if(Boolean(Sc[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&kc(e,t.parentElement)}function Ec(e,t){var n=t.target;return!!$l(n)&&kc(e,n)}var Cc=function(e){return xo(e.getBoundingClientRect()).center};var Mc=function(){var e="matches";return"undefined"===typeof document?e:ds([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function Tc(e,t){return null==e?null:e[Mc](t)?e:Tc(e.parentElement,t)}function Pc(e,t){return e.closest?e.closest(t):Tc(e,t)}function Ac(e,t){var n,r=t.target;if(!((n=r)instanceof Ql(n).Element))return null;var i=function(e){return"["+Zl.contextId+'="'+e+'"]'}(e),a=Pc(r,i);return a&&$l(a)?a:null}function Dc(e){e.preventDefault()}function Ic(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function Rc(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var a=r.draggable.findById(i);return!!a&&(!!a.options.isEnabled&&!!yl(n.getState(),i))}function Oc(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,a=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent;if(!Rc({lockAPI:t,store:r,registry:i,draggableId:a}))return null;var u=i.draggable.getById(a),l=function(e,t){var n="["+Vl.contextId+'="'+e+'"]',r=ds(ps(document.querySelectorAll(n)),(function(e){return e.getAttribute(Vl.id)===t}));return r&&$l(r)?r:null}(n,u.descriptor.id);if(!l)return null;if(s&&!u.options.canDragInteractiveElements&&Ec(l,s))return null;var c=t.claim(o||No),f="PRE_DRAG";function d(){return u.options.shouldRespectForcePress}function p(){return t.isActive(c)}var h=function(e,t){Ic({expected:e,phase:f,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function v(e){function n(){t.release(),f="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var a=zo(window,[{eventName:"click",fn:Dc,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(a)}n(),r.dispatch(ju({reason:t}))}return"PRE_DRAG"!==f&&(n(),"PRE_DRAG"!==f&&Bo(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),f="DRAGGING",m({isActive:function(){return Ic({expected:"DRAGGING",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:d,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var g={isActive:function(){return Ic({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:d,fluidLift:function(e){var t=Oo((function(e){h((function(){return Ru({client:e})}))}));return m({},v({liftActionArgs:{id:a,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return h(Ou)},moveRight:function(){return h(Nu)},moveDown:function(){return h(Lu)},moveLeft:function(){return h(zu)}};return v({liftActionArgs:{id:a,clientSelection:Cc(l),movementMode:"SNAP"},cleanup:No,actions:e})},abort:function(){Ic({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!0})&&t.release()}};return g}var Lc=[function(e){var n=(0,t.useRef)(gc),r=(0,t.useRef)(No),i=yo((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var n=e.findClosestDraggableId(t);if(n){var i=e.tryGetLock(n,s,{sourceEvent:t});if(i){t.preventDefault();var a={x:t.clientX,y:t.clientY};r.current(),c(i,a)}}}}}}),[e]),a=yo((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),o=bo((function(){r.current=zo(window,[a,i],{passive:!1,capture:!0})}),[a,i]),s=bo((function(){"IDLE"!==n.current.type&&(n.current=gc,r.current(),o())}),[o]),u=bo((function(){var e=n.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),l=bo((function(){var e=yc({cancel:u,completed:s,getPhase:function(){return n.current},setPhase:function(e){n.current=e}});r.current=zo(window,e,{capture:!0,passive:!1})}),[u,s]),c=bo((function(e,t){"IDLE"!==n.current.type&&Bo(!1),n.current={type:"PENDING",point:t,actions:e},l()}),[l]);ql((function(){return o(),function(){r.current()}}),[o])},function(e){var n=(0,t.useRef)(bc),r=yo((function(){return{eventName:"keydown",fn:function(t){if(!t.defaultPrevented&&32===t.keyCode){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,u,{sourceEvent:t});if(a){t.preventDefault();var o=!0,s=a.snapLift();n.current(),n.current=zo(window,xc(s,u),{capture:!0,passive:!1})}}}function u(){o||Bo(!1),o=!1,n.current(),i()}}}}),[e]),i=bo((function(){n.current=zo(window,[r],{passive:!1,capture:!0})}),[r]);ql((function(){return i(),function(){n.current()}}),[i])},function(e){var n=(0,t.useRef)(_c),r=(0,t.useRef)(No),i=bo((function(){return n.current}),[]),a=bo((function(e){n.current=e}),[]),o=yo((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var i=e.tryGetLock(n,u,{sourceEvent:t});if(i){var a=t.touches[0],o={x:a.clientX,y:a.clientY};r.current(),d(i,o)}}}}}}),[e]),s=bo((function(){r.current=zo(window,[o],{capture:!0,passive:!1})}),[o]),u=bo((function(){var e=n.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(_c),r.current(),s())}),[s,a]),l=bo((function(){var e=n.current;u(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[u]),c=bo((function(){var e={capture:!0,passive:!1},t={cancel:l,completed:u,getPhase:i},n=zo(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],a={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(a)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Bo(!1);var i=e.touches[0];if(i&&i.force>=.15){var a=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return a?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();a&&t()}}},{eventName:vc,fn:t}]}(t),e),a=zo(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:vc,fn:t}]}(t),e);r.current=function(){n(),a()}}),[l,i,u]),f=bo((function(){var e=i();"PENDING"!==e.type&&Bo(!1);var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})}),[i,a]),d=bo((function(e,t){"IDLE"!==i().type&&Bo(!1);var n=setTimeout(f,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()}),[c,i,a,f]);ql((function(){return s(),function(){r.current();var e=i();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(_c))}}),[i,s,a]),ql((function(){return zo(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Nc(e){var n=e.contextId,r=e.store,i=e.registry,a=e.customSensors,o=e.enableDefaultSensors,s=[].concat(o?Lc:[],a||[]),u=(0,t.useState)((function(){return function(){var e=null;function t(){e||Bo(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Bo(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],l=bo((function(e,t){e.isDragging&&!t.isDragging&&u.tryAbandon()}),[u]);ql((function(){var e=r.getState();return r.subscribe((function(){var t=r.getState();l(e,t),e=t}))}),[u,r,l]),ql((function(){return u.tryAbandon}),[u.tryAbandon]);var c=bo((function(e){return Rc({lockAPI:u,registry:i,store:r,draggableId:e})}),[u,i,r]),f=bo((function(e,t,a){return Oc({lockAPI:u,registry:i,contextId:n,store:r,draggableId:e,forceSensorStop:t,sourceEvent:a&&a.sourceEvent?a.sourceEvent:null})}),[n,u,i,r]),d=bo((function(e){return function(e,t){var n=Ac(e,t);return n?n.getAttribute(Zl.draggableId):null}(n,e)}),[n]),p=bo((function(e){var t=i.draggable.findById(e);return t?t.options:null}),[i.draggable]),h=bo((function(){u.isClaimed()&&(u.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))}),[u,r]),v=bo(u.isClaimed,[u]),m=yo((function(){return{canGetLock:c,tryGetLock:f,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:v}}),[c,f,d,p,h,v]);uc();for(var g=0;g<s.length;g++)s[g](m)}function zc(e){return e.current||Bo(!1),e.current}function Fc(e){var n=e.contextId,r=e.setCallbacks,i=e.sensors,a=e.nonce,o=e.dragHandleUsageInstructions,s=(0,t.useRef)(null);cc();var u=fc(e),l=bo((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(u.current)}),[u]),c=function(e){var n=yo((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),r=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e=document.createElement("div");return r.current=e,e.id=n,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),m(e.style,rc),nc().appendChild(e),function(){setTimeout((function(){var t=nc();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[n]),bo((function(e){var t=r.current;t&&(t.textContent=e)}),[])}(n),f=function(e){var n=e.contextId,r=e.text,i=oc("hidden-text",{separator:"-"}),a=yo((function(){return"rbd-hidden-text-"+(e={contextId:n,uniqueId:i}).contextId+"-"+e.uniqueId;var e}),[i,n]);return(0,t.useEffect)((function(){var e=document.createElement("div");return e.id=a,e.textContent=r,e.style.display="none",nc().appendChild(e),function(){var t=nc();t.contains(e)&&t.removeChild(e)}}),[a,r]),a}({contextId:n,text:o}),d=Yl(n,a),p=bo((function(e){zc(s).dispatch(e)}),[]),h=yo((function(){return Ma({publishWhileDragging:Tu,updateDroppableScroll:Au,updateDroppableIsEnabled:Du,updateDroppableIsCombineEnabled:Iu,collectionStarting:Pu},p)}),[p]),v=function(){var e=yo(ec,[]);return(0,t.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=yo((function(){return gl(v,h)}),[v,h]),y=yo((function(){return Ul(m({scrollWindow:bl,scrollDroppable:g.scrollDroppable},Ma({move:Ru},p)))}),[g.scrollDroppable,p]),b=function(e){var n=(0,t.useRef)({}),r=(0,t.useRef)(null),i=(0,t.useRef)(null),a=(0,t.useRef)(!1),o=bo((function(e,t){var r={id:e,focus:t};return n.current[e]=r,function(){var t=n.current;t[e]!==r&&delete t[e]}}),[]),s=bo((function(t){var n=Jl(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),u=bo((function(e,t){r.current===e&&(r.current=t)}),[]),l=bo((function(){i.current||a.current&&(i.current=requestAnimationFrame((function(){i.current=null;var e=r.current;e&&s(e)})))}),[s]),c=bo((function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(Zl.draggableId)===e&&(r.current=e)}),[]);return ql((function(){return a.current=!0,function(){a.current=!1;var e=i.current;e&&cancelAnimationFrame(e)}}),[]),yo((function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:u}}),[o,c,l,u])}(n),w=yo((function(){return fl({announce:c,autoScroller:y,dimensionMarshal:g,focusMarshal:b,getResponders:l,styleMarshal:d})}),[c,y,g,b,l,d]);s.current=w;var x=bo((function(){var e=zc(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),_=bo((function(){var e=zc(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);r(yo((function(){return{isDragging:_,tryAbort:x}}),[_,x]));var S=bo((function(e){return yl(zc(s).getState(),e)}),[]),k=bo((function(){return su(zc(s).getState())}),[]),E=yo((function(){return{marshal:g,focus:b,contextId:n,canLift:S,isMovementAllowed:k,dragHandleUsageInstructionsId:f,registry:v}}),[n,g,f,b,S,k,v]);return Nc({contextId:n,store:w,registry:v,customSensors:i,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,t.useEffect)((function(){return x}),[x]),t.createElement(sc.Provider,{value:E},t.createElement(La,{context:tc,store:w},e.children))}var jc=0;function Bc(e){var n=yo((function(){return""+jc++}),[]),r=e.dragHandleUsageInstructions||Go;return t.createElement(Uo,null,(function(i){return t.createElement(Fc,{nonce:e.nonce,contextId:n,setCallbacks:i,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Uc=function(e){return function(t){return e===t}},Zc=Uc("scroll"),Vc=Uc("auto"),Hc=(Uc("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Wc=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Hc(n,Zc)||Hc(n,Vc)},Gc=function e(t){return null==t||t===document.body||t===document.documentElement?null:Wc(t)?t:e(t.parentElement)},qc=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Xc=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Kc=function(e){return{closestScrollable:Gc(e),isFixedOnPage:Xc(e)}},Yc=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,a=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,u=e.shouldClipSubject,l=r.closestScrollable,c=function(e,t){var n=Ao(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,s=_o({top:r,right:o,bottom:a,left:i},n.border);return Eo({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,l),f=To(c,i),d=function(){if(!l)return null;var e=Ao(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:To(e,i),scroll:qc(l),scrollSize:t,shouldClipSubject:u}}(),p=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,a=e.direction,o=e.client,s=e.page,u=e.closest,l=function(){if(!u)return null;var e=u.scrollSize,t=u.client,n=dl({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:n,diff:{value:Yo,displacement:Yo}}}}(),c="vertical"===a?Ps:As;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:c,isEnabled:n,client:o,page:s,frame:l,subject:us({page:s,withPlaceholder:null,axis:c,frame:l})}}({descriptor:n,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:a,client:c,page:f,closest:d});return p},Qc={passive:!1},$c={passive:!0},Jc=function(e){return e.shouldPublishImmediately?Qc:$c};function ef(e){var n=(0,t.useContext)(e);return n||Bo(!1),n}var tf=function(e){return e&&e.env.closestScrollable||null};function nf(){}var rf={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},af=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?rf:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Wu.placeholder:null}};var of=t.memo((function(e){var n=(0,t.useRef)(null),r=bo((function(){n.current&&(clearTimeout(n.current),n.current=null)}),[]),i=e.animate,a=e.onTransitionEnd,o=e.onClose,s=e.contextId,u=(0,t.useState)("open"===e.animate),l=u[0],c=u[1];(0,t.useEffect)((function(){return l?"open"!==i?(r(),c(!1),nf):n.current?nf:(n.current=setTimeout((function(){n.current=null,c(!1)})),r):nf}),[i,l,r]);var f=bo((function(e){"height"===e.propertyName&&(a(),"close"===i&&o())}),[i,o,a]),d=af({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return t.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":s,onTransitionEnd:f,ref:e.innerRef})})),sf=t.createContext(null);var uf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return ba(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(t.PureComponent),lf=5e3,cf=4500,ff=function(e,t){return t?Wu.drop(t.duration):e?Wu.snap:Wu.fluid},df=function(e,t){return e?t?Zu.drop:Zu.combining:null};function pf(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,a=Boolean(r),o=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(i),u=s?Xu(n,a):qu(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:ff(o,i),transform:u,opacity:df(a,s),zIndex:s?cf:lf,pointerEvents:"none"}}(e):{transform:qu((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function hf(e){var n=oc("draggable"),r=e.descriptor,i=e.registry,a=e.getDraggableRef,o=e.canDragInteractiveElements,s=e.shouldRespectForcePress,u=e.isEnabled,l=yo((function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:u}}),[o,u,s]),c=bo((function(e){var t=a();return t||Bo(!1),function(e,t,n){void 0===n&&(n=Yo);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=Po(i,r),o=To(a,n);return{descriptor:e,placeholder:{client:a,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:a.marginBox.width,y:a.marginBox.height},client:a,page:o}}(r,t,e)}),[r,a]),f=yo((function(){return{uniqueId:n,descriptor:r,options:l,getDimension:c}}),[r,c,l,n]),d=(0,t.useRef)(f),p=(0,t.useRef)(!0);ql((function(){return i.draggable.register(d.current),function(){return i.draggable.unregister(d.current)}}),[i.draggable]),ql((function(){if(p.current)p.current=!1;else{var e=d.current;d.current=f,i.draggable.update(f,e)}}),[f,i.draggable])}function vf(e,t,n){lc()}function mf(e){e.preventDefault()}var gf=function(e,t){return e===t},yf=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function bf(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var wf={mapped:{type:"SECONDARY",offset:Yo,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:bf(null)}};var xf=ho((function(){var e=function(){var e=Ro((function(e,t){return{x:e,y:t}})),t=Ro((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Ro((function(e,n,r,i,a,o,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:o,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,i,a,o,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var a=r.current.client.offset,o=r.dimensions.draggables[i.draggableId],s=au(r.impact),u=(c=r.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,l=r.forceShouldAnimate;return n(e(a.x,a.y),r.movementMode,o,i.isClone,s,u,l)}var c;if("DROP_ANIMATING"===r.phase){var f=r.completed;if(f.result.draggableId!==i.draggableId)return null;var d=i.isClone,p=r.dimensions.draggables[i.draggableId],h=f.result,v=h.mode,m=yf(h),g=function(e){return e.combine?e.combine.draggableId:null}(h),y={duration:r.dropDuration,curve:Uu,moveTo:r.newHomeClientOffset,opacity:g?Zu.drop:null,scale:g?Vu.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:p,dropping:y,draggingOver:m,combineWith:g,mode:v,forceShouldAnimate:null,snapshot:t(v,d,m,g,y)}}}return null}}(),t=function(){var e=Ro((function(e,t){return{x:e,y:t}})),t=Ro(bf),n=Ro((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Yo,e,!0):null},i=function(t,i,a,o){var s=a.displaced.visible[t],u=Boolean(o.inVirtualList&&o.effected[t]),l=ws(a),c=l&&l.draggableId===t?i:null;if(!s){if(!u)return r(c);if(a.displaced.invisible[t])return null;var f=es(o.displacedBy.point),d=e(f.x,f.y);return n(d,c,!0)}if(u)return r(c);var p=a.displacedBy.point,h=e(p.x,p.y);return n(h,c,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||wf}}),{dropAnimationFinished:Bu},null,{context:tc,pure:!0,areStatePropsEqual:gf})((function(e){var n=(0,t.useRef)(null),r=bo((function(e){n.current=e}),[]),i=bo((function(){return n.current}),[]),a=ef(sc),o=a.contextId,s=a.dragHandleUsageInstructionsId,u=a.registry,l=ef(sf),c=l.type,f=l.droppableId,d=yo((function(){return{id:e.draggableId,index:e.index,type:c,droppableId:f}}),[e.draggableId,e.index,c,f]),p=e.children,h=e.draggableId,v=e.isEnabled,m=e.shouldRespectForcePress,g=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,w=e.dropAnimationFinished;vf(),uc(),y||hf(yo((function(){return{descriptor:d,registry:u,getDraggableRef:i,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:v}}),[d,u,i,g,m,v]));var x=yo((function(){return v?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:mf}:null}),[o,s,h,v]),_=bo((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&w()}),[w,b]),S=yo((function(){var e=pf(b),t="DRAGGING"===b.type&&b.dropping?_:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:x}}),[o,x,h,b,_,r]),k=yo((function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}}),[d.droppableId,d.id,d.index,d.type]);return p(S,b.snapshot,k)}));function _f(e){return ef(sf).isUsingCloneFor!==e.draggableId||e.isClone?t.createElement(xf,e):null}function Sf(e){var n="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),i=Boolean(e.shouldRespectForcePress);return t.createElement(_f,m({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:i}))}var kf=function(e,t){return e===t.droppable.type},Ef=function(e,t){return t.draggables[e.draggable.id]};var Cf={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Bo(!1),document.body}},Mf=ho((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=m({},e,{shouldAnimatePlaceholder:!1}),n=Ro((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=Ro((function(r,i,a,o,s,u){var l=s.descriptor.id;if(s.descriptor.droppableId===r){var c=u?{render:u,dragging:n(s.descriptor)}:null,f={isDraggingOver:a,draggingOverWith:a?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:f,useClone:c}}if(!i)return t;if(!o)return e;var d={isDraggingOver:a,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return function(n,i){var a=i.droppableId,o=i.type,s=!i.isDropDisabled,u=i.renderClone;if(n.isDragging){var l=n.critical;if(!kf(o,l))return t;var c=Ef(l,n.dimensions),f=au(n.impact)===a;return r(a,s,f,f,c,u)}if("DROP_ANIMATING"===n.phase){var d=n.completed;if(!kf(o,d.critical))return t;var p=Ef(d.critical,n.dimensions);return r(a,s,yf(d.result)===a,au(d.impact)===a,p,u)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!kf(o,h.critical))return t;var v=au(h.impact)===a,m=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),g=h.critical.droppable.id===a;return v?m?e:t:g?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:tc,pure:!0,areStatePropsEqual:gf})((function(e){var n=(0,t.useContext)(sc);n||Bo(!1);var r=n.contextId,i=n.isMovementAllowed,a=(0,t.useRef)(null),o=(0,t.useRef)(null),s=e.children,u=e.droppableId,l=e.type,c=e.mode,f=e.direction,d=e.ignoreContainerClipping,p=e.isDropDisabled,h=e.isCombineEnabled,v=e.snapshot,m=e.useClone,g=e.updateViewportMaxScroll,y=e.getContainerForClone,b=bo((function(){return a.current}),[]),w=bo((function(e){a.current=e}),[]),x=(bo((function(){return o.current}),[]),bo((function(e){o.current=e}),[]));lc();var _=bo((function(){i()&&g({maxScroll:hl()})}),[i,g]);!function(e){var n=(0,t.useRef)(null),r=ef(sc),i=oc("droppable"),a=r.registry,o=r.marshal,s=fc(e),u=yo((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),l=(0,t.useRef)(u),c=yo((function(){return Ro((function(e,t){n.current||Bo(!1);var r={x:e,y:t};o.updateDroppableScroll(u.id,r)}))}),[u.id,o]),f=bo((function(){var e=n.current;return e&&e.env.closestScrollable?qc(e.env.closestScrollable):Yo}),[]),d=bo((function(){var e=f();c(e.x,e.y)}),[f,c]),p=yo((function(){return Oo(d)}),[d]),h=bo((function(){var e=n.current,t=tf(e);e&&t||Bo(!1),e.scrollOptions.shouldPublishImmediately?d():p()}),[p,d]),v=bo((function(e,t){n.current&&Bo(!1);var i=s.current,a=i.getDroppableRef();a||Bo(!1);var o=Kc(a),l={ref:a,descriptor:u,env:o,scrollOptions:t};n.current=l;var c=Yc({ref:a,descriptor:u,env:o,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),f=o.closestScrollable;return f&&(f.setAttribute(Wl.contextId,r.contextId),f.addEventListener("scroll",h,Jc(l.scrollOptions))),c}),[r.contextId,u,h,s]),m=bo((function(){var e=n.current,t=tf(e);return e&&t||Bo(!1),qc(t)}),[]),g=bo((function(){var e=n.current;e||Bo(!1);var t=tf(e);n.current=null,t&&(p.cancel(),t.removeAttribute(Wl.contextId),t.removeEventListener("scroll",h,Jc(e.scrollOptions)))}),[h,p]),y=bo((function(e){var t=n.current;t||Bo(!1);var r=tf(t);r||Bo(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=yo((function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:m,dragStopped:g,scroll:y}}),[g,v,m,y]),w=yo((function(){return{uniqueId:i,descriptor:u,callbacks:b}}),[b,u,i]);ql((function(){return l.current=w.descriptor,a.droppable.register(w),function(){n.current&&g(),a.droppable.unregister(w)}}),[b,u,g,w,o,a.droppable]),ql((function(){n.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),ql((function(){n.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}({droppableId:u,type:l,mode:c,direction:f,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:b});var S=t.createElement(uf,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var n=e.onClose,i=e.data,a=e.animate;return t.createElement(of,{placeholder:i,onClose:n,innerRef:x,animate:a,contextId:r,onTransitionEnd:_})})),k=yo((function(){return{innerRef:w,placeholder:S,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":r}}}),[r,u,S,w]),E=m?m.dragging.draggableId:null,C=yo((function(){return{droppableId:u,type:l,isUsingCloneFor:E}}),[u,E,l]);return t.createElement(sf.Provider,{value:C},s(k,v),function(){if(!m)return null;var e=m.dragging,n=m.render,r=t.createElement(_f,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(t,r){return n(t,r,e)}));return mo.createPortal(r,y())}())}));Mf.defaultProps=Cf;var Tf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pf=t.createContext&&t.createContext(Tf),Af=function(){return Af=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Af.apply(this,arguments)},Df=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function If(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Af({key:n},e.attr),If(e.child))}))}function Rf(e){return function(n){return t.createElement(Of,Af({attr:Af({},e.attr)},n),If(e.child))}}function Of(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=Df(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Af({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Af(Af({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==Pf?t.createElement(Pf.Consumer,null,(function(e){return n(e)})):n(Tf)}function Lf(e){return Rf({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M10.232 10.707L8.5 12.44V9h-1v3.44l-1.732-1.733-.707.707L7.646 14h.708l2.585-2.586-.707-.707zM5.061 3.586l.707.707L7.5 2.56V6h1V2.56l1.732 1.733.707-.707L8.354 1h-.708L5.061 3.586zm-.268 1.682L3.06 7H6.5v1H3.06l1.733 1.732-.707.707L1.5 7.854v-.708l2.586-2.585.707.707zM9.5 7h3.44l-1.733-1.732.707-.707L14.5 7.146v.708l-2.586 2.585-.707-.707L12.94 8H9.5V7z"}}]})(e)}function Nf(e){return Rf({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3h3v1h-1v9l-1 1H4l-1-1V4H2V3h3V2a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v1zM9 2H6v1h3V2zM4 13h7V4H4v9zm2-8H5v7h1V5zm1 0h1v7H7V5zm2 0h1v7H9V5z"}}]})(e)}var zf=n(2885);va().extend(ma.Z),va().initialize();var Ff,jf=["scale","rotate","translate"],Bf=function(){var e,n,r=(0,t.useState)((0,pa.getProject)("Demo Project").sheet("Demo Sheet")),p=(0,d.Z)(r,2),h=p[0],v=p[1],m=function(e){var t=w.map((function(t,n){return n===parseInt(e.target.getAttribute("key1"))?(0,c.Z)((0,c.Z)({},t),{},{pageName:e.target.value}):t}));x((0,f.Z)(t))},y=(0,t.useState)([]),b=(0,d.Z)(y,2),w=b[0],x=b[1],_=(0,t.useState)(null),S=(0,d.Z)(_,2),k=S[0],E=S[1],C=(0,t.useState)({}),M=(0,d.Z)(C,2),T=M[0],P=M[1],A=(0,t.useState)({}),D=(0,d.Z)(A,2),I=D[0],R=D[1],O=(0,t.useState)(),L=(0,d.Z)(O,2),N=L[0],z=L[1],F=(0,t.useState)(),j=(0,d.Z)(F,2),B=j[0],U=j[1],Z=(0,t.useState)(new g.Raycaster),V=(0,d.Z)(Z,2),H=V[0],W=V[1],G=(0,t.useRef)(),q=(0,t.useState)(!1),K=(0,d.Z)(q,2),Y=K[0],Q=K[1],$=(0,t.useState)([]),J=(0,d.Z)($,2),ee=J[0],ne=J[1],re=(0,t.useState)(),ie=(0,d.Z)(re,2),ae=ie[0],oe=ie[1],se=(0,t.useState)([]),ue=(0,d.Z)(se,2),le=ue[0],ce=ue[1],fe=function(){ee.forEach((function(e,t){var n=e.userData.__storeKey.split("Demo Sheet:default:")[1];va().createContentOfSaveFile("Demo Project").sheetsById["Demo Sheet"].sequence.tracksByObject[n]&&Object.values(va().createContentOfSaveFile("Demo Project").sheetsById["Demo Sheet"].sequence.tracksByObject[n].trackData).forEach((function(e){var n=[],r="."+e.__debugName.split(":")[1].split(",")[0].split('"')[1]+"["+e.__debugName.split(":")[1].split(",")[1].split('"')[1]+"]",i=e.keyframes,a=[];i.forEach((function(e){a.push(e.position)}));var o=[];i.forEach((function(e){o.push(e.value)})),n.push(new g.NumberKeyframeTrack(r,a,o)),Cr('call 1-97 "\n                    sampleAnimation('.concat(JSON.stringify(n[0]).replaceAll('"','\\"'),", ").concat(t,');\n                    "'))}))}))},de=function(e){if(e.__r3f){var t=e.userData.__storeKey.split("Demo Sheet:default:")[1],r={position:{x:pa.types.number(e.__r3f.memoizedProps.position[0]?e.__r3f.memoizedProps.position[0]:e.__r3f.memoizedProps.position.x,{nudgeMultiplier:.01}),y:pa.types.number(e.__r3f.memoizedProps.position[1]?e.__r3f.memoizedProps.position[1]:e.__r3f.memoizedProps.position.y,{nudgeMultiplier:.01}),z:pa.types.number(e.__r3f.memoizedProps.position[2]?e.__r3f.memoizedProps.position[2]:e.__r3f.memoizedProps.position.z,{nudgeMultiplier:.01})},rotation:{x:pa.types.number(e.__r3f.memoizedProps.rotation[0]?e.__r3f.memoizedProps.rotation[0]:e.__r3f.memoizedProps.rotation._x,{nudgeMultiplier:.01}),y:pa.types.number(e.__r3f.memoizedProps.rotation[1]?e.__r3f.memoizedProps.rotation[1]:e.__r3f.memoizedProps.rotation._y,{nudgeMultiplier:.01}),z:pa.types.number(e.__r3f.memoizedProps.rotation[2]?e.__r3f.memoizedProps.rotation[2]:e.__r3f.memoizedProps.rotation._z,{nudgeMultiplier:.01})},scale:{x:pa.types.number(e.__r3f.memoizedProps.scale[0]?e.__r3f.memoizedProps.scale[0]:e.__r3f.memoizedProps.scale.x,{nudgeMultiplier:.01}),y:pa.types.number(e.__r3f.memoizedProps.scale[1]?e.__r3f.memoizedProps.scale[1]:e.__r3f.memoizedProps.scale.y,{nudgeMultiplier:.01}),z:pa.types.number(e.__r3f.memoizedProps.scale[2]?e.__r3f.memoizedProps.scale[2]:e.__r3f.memoizedProps.scale.z,{nudgeMultiplier:.01})}},i=h.object(t,r,{reconfigure:!0});va().setSelection([i]),n=i}},pe=function(e){var n=(0,t.useRef)(),r={box:new g.BoxGeometry(6,1,.3),cylinder:new g.CylinderGeometry(1,1,1,32),donut:new g.TorusGeometry(.5,.2,3,20),sphere:new g.SphereGeometry(.5,16,16)};return(0,zf.jsxs)(ga.Ah.mesh,(0,c.Z)((0,c.Z)({},e),{},{ref:n,onPointerOver:function(e){e.object.material.emissive.r=1},onPointerOut:function(e){e.object.material.emissive.r=0},children:[(0,zf.jsx)("primitive",{object:r[e.shape],attach:"geometry"}),(0,zf.jsx)("meshStandardMaterial",{color:{box:"red",cylinder:"pink",donut:"blue",sphere:"green"}[e.shape],roughness:.3,metalness:.8})]}))},he=function(e){var n=(0,t.useRef)();return(0,zf.jsxs)(ga.Ah.mesh,(0,c.Z)((0,c.Z)({},e),{},{ref:n,onPointerOver:function(e){e.object.material.emissive.r=1},onPointerOut:function(e){e.object.material.emissive.r=0},children:[(0,zf.jsx)("primitive",{object:e.geometry,attach:"geometry"}),(0,zf.jsx)("meshStandardMaterial",{color:e.color})]}))},me=function(e){var n=(0,t.useRef)();return(0,zf.jsxs)(ga.Ah.mesh,(0,c.Z)((0,c.Z)({},e),{},{ref:n,onPointerOver:function(e){e.object.material.emissive&&(e.object.material.emissive.r=1)},onPointerOut:function(e){e.object.material.emissive&&(e.object.material.emissive.r=0)},children:[(0,zf.jsx)("primitive",{object:e.geometry,attach:"geometry"}),(0,zf.jsx)("primitive",{object:e.material,attach:"material"})]}))},ge=function(e){var n=(0,t.useRef)();return(0,zf.jsxs)(ga.Ah.mesh,(0,c.Z)((0,c.Z)({},e),{},{ref:n,onPointerOver:function(e){e.object.material.emissive&&(e.object.material.emissive.r=1)},onPointerOut:function(e){e.object.material.emissive&&(e.object.material.emissive.r=0)},children:[(0,zf.jsx)("primitive",{object:e.geometry,attach:"geometry"}),(0,zf.jsx)("primitive",{object:e.material,attach:"material"})]}))};(0,t.useEffect)((function(){var e,t=new XMLHttpRequest;return t.open("GET","http://localhost:9000/",!0),t.onreadystatechange=function(){4===t.readyState&&404===t.status&&(e=mr(":9000")).on("setCurrentCanvas",(function(e){var t=new g.BoxGeometry(7,4,5),n=new g.MeshBasicMaterial({roughness:.3,metalness:.8,transparent:!0,map:(new g.TextureLoader).load(e.data1,(function(e){var r=le.length,i="fabricjs";ce([].concat((0,f.Z)(le),[(0,zf.jsx)(ge,{shape:i,geometry:t,material:n,theatreKey:i+r},r)]))}))})}))},t.send(),function(){var t,n,r;null===(t=e)||void 0===t||t.removeListener("setCurrentCanvas"),null===(n=e)||void 0===n||n.off("setCurrentCanvas"),null===(r=e)||void 0===r||r.disconnect()}}),[le]);var ye=function(e){var t=le.length,n=e.target.getAttribute("data-shape");ce([].concat((0,f.Z)(le),[(0,zf.jsx)(pe,{shape:n,theatreKey:n+t,position:new g.Vector3(0,0,0),rotation:new g.Euler(0,0,0),scale:new g.Vector3(1,1,1)},t)]))},be=(0,t.useState)([]),we=(0,d.Z)(be,2),xe=we[0],_e=we[1],Se=function(e,t,n){var r=le.length;xe.push((0,zf.jsx)(ke,{shape:e,theatreKey:e+r+n,position:t.position,rotation:t.rotation,scale:t.scale,geometry:t.geometry,material:t.material.clone()},1e3*Math.random()))},ke=function(e){var n=(0,t.useRef)();return(0,zf.jsx)(zf.Fragment,{children:(0,zf.jsxs)(ga.Ah.mesh,(0,c.Z)((0,c.Z)({},e),{},{ref:n,onPointerOver:function(e){e.object.material.emissive&&(e.object.material.emissive.r=1)},onPointerOut:function(e){e.object.material.emissive&&(e.object.material.emissive.r=0)},children:[(0,zf.jsx)("primitive",{object:e.geometry,attach:"geometry"}),(0,zf.jsx)("primitive",{object:e.material,attach:"material"})]}))})},Ee=(0,t.useState)(),Ce=(0,d.Z)(Ee,2),Me=Ce[0],Te=Ce[1];(0,t.useEffect)((function(){var e;return ee.length>0&&((e=new kr(ee,N,null===Me||void 0===Me?void 0:Me.domElement)).addEventListener("dragstart",(function(e){de(e.object)})),e.addEventListener("drag",(function(e){n&&va().transaction((function(t){(0,t.set)(n.props.position,{x:e.object.position.x,y:e.object.position.y,z:e.object.position.z})}))}))),function(){ee.length>0&&(e.removeEventListener("dragstart",!1),e.removeEventListener("drag",!1))}}),[ee]),(0,t.useEffect)((function(){return setTimeout((function(){var e;if((null===T||void 0===T||null===(e=T.children)||void 0===e?void 0:e.length)>4){(null===T||void 0===T?void 0:T.children)&&(null===T||void 0===T||T.children[3].detach());var t=(0,f.Z)(T.children);t.splice(0,4),ne(t),setTimeout((function(){T.children[3].attach(T.children[T.children.length-1]),oe(T.children[T.children.length-1]),de(T.children[T.children.length-1])}),1e3)}}),100),function(){}}),[le]);var Pe=function e(t,n){console.log(t),console.log(t.type),t.type,t.material&&t.geometry?Se("imported",t,n):t.children.length>0&&t.children.forEach((function(t,n){e(t,n)}))};function Ae(e){var t=new FileReader;t.onload=function(e){(new pi).load(e.target.result,(function(e){e.scene.children.forEach((function(e,t){Pe(e,t)})),ce([].concat((0,f.Z)(le),(0,f.Z)(xe))),_e([])}))},t.readAsDataURL(e)}function De(){return(De=(0,l.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=T).children.splice(3,1),(new Ar).parse(t,(function(e){Ie(e)}),(function(e){console.log("An error happened")}),{});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){return Re.apply(this,arguments)}function Re(){return Re=(0,l.Z)((0,i.Z)().mark((function e(t){var n,r,a,o,s,u,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("a"),r=JSON.stringify(t),a=new Blob([r],{type:"text/plain"}),n.href=URL.createObjectURL(a),o=(new Date).toLocaleTimeString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"}),s={suggestedName:o,types:[{description:"gltf file",accept:{"application/json":[".gltf"]}}]},e.next=8,window.showSaveFilePicker(s);case 8:return u=e.sent,e.next=11,u.createWritable();case 11:return l=e.sent,e.next=14,l.write(a);case 14:return e.next=16,l.close();case 16:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}window.demoSheet=h,window.studio=va();var Oe=(0,t.useState)("Vimlesh Kumar"),Le=(0,d.Z)(Oe,2),Ne=Le[0],ze=Le[1],Fe=function(){var e=function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),i=100;r.font="normal 100px Arial";var a=r.measureText(e).width;n.width=a,n.height=i,r.font="normal 100px Arial",r.textAlign="center",r.textBaseline="middle",r.fillStyle="#ffffff",r.fillText(e,a/2,50);var o=new g.Texture(n);o.needsUpdate=!0;var s=new g.MeshBasicMaterial({color:16777215,side:g.DoubleSide,map:o,transparent:!0}),u=new g.PlaneGeometry(t*a/i,t);return new g.Mesh(u,s)}(Ne,1.5),t=le.length,n="2dText";ce([].concat((0,f.Z)(le),[(0,zf.jsx)(me,{shape:n,geometry:e.geometry,material:e.material,position:new g.Vector3(0,0,0),rotation:new g.Euler(0,0,0),scale:new g.Vector3(1,1,1),theatreKey:n+t,color:"white"},t)]))},je=function(){T.children[3].detach(),ne([]),oe(null),ce([])},Be=function(){T.children[3].detach(),oe(null)};function Ue(e){(Ff=H.intersectObjects(ee,!1)).length>0&&(oe(Ff[0].object),de(Ff[0].object),T.children[3].attach(Ff[0].object))}(0,t.useEffect)((function(){return document.addEventListener("click",Ue,!1),function(){document.removeEventListener("click",Ue)}}),[ee]);var Ze,Ve=function(e){je(),(new pi).parse(w[e].gltf,"",(function(t){t.scene.children.forEach((function(e,t){var n,r;"Mesh"===e.type&&(n=e.userData.__storeKey.split(":")[2],r=e,xe.push((0,zf.jsx)(ke,{shape:n,theatreKey:n,position:r.position,rotation:r.rotation,scale:r.scale,geometry:r.geometry,material:r.material.clone()},1e3*Math.random())))})),setTimeout((function(){ce((0,f.Z)(xe)),_e([])}),100);var n=JSON.parse(w[e].cameraPosition);N.position.set(n[0],n[1],n[2]),v((0,pa.getProject)("Demo Project"+Math.floor(1e3*Math.random()),{state:JSON.parse(w[e].animation)}).sheet("Demo Sheet"))}))};function He(){return(He=(0,l.Z)((0,i.Z)().mark((function e(){var t,n,r,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={suggestedName:"file1.txt",types:[{description:"Text file",accept:{"text/plain":[".txt"]}}]},e.next=3,window.showSaveFilePicker(t);case 3:return n=e.sent,e.next=6,n.createWritable();case 6:return r=e.sent,a="",w.forEach((function(e){a+=JSON.stringify({pageName:e.pageName,gltf:e.gltf,cameraPosition:e.cameraPosition,animation:e.animation})+"\r\n"})),o=new Blob([a],{type:"text/plain"}),e.next=12,r.write(o);case 12:return e.next=14,r.close();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(){return(We=(0,l.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&((Ze=new FileReader).onloadend=Ge,Ze.readAsText(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ge=function(e){var t=Ze.result.split("\r\n");t.splice(-1);var n=[];t.forEach((function(e){var t=JSON.parse(e);n.push(t)})),x(n)};return(0,zf.jsxs)("div",{children:[(0,zf.jsxs)("div",{style:{display:"flex",border:"1px solid red"},children:[(0,zf.jsx)("div",{style:{minWidth:200,backgroundColor:"darkgrey",border:"1px solid red"},children:" "}),(0,zf.jsxs)("div",{style:{border:"1px solid red"},children:[(0,zf.jsxs)("div",{style:{border:"1px solid red"},children:[(0,zf.jsxs)("div",{style:{border:"1px solid red"},children:["Caspar Control",(0,zf.jsx)("button",{onClick:function(){Cr('play 1-97 [html] "http://localhost:10000/ReactCasparClient/threejs2"')},children:"Initialise casparcg"}),(0,zf.jsx)("button",{onClick:function(){Be(),h.sequence.position=0,(new Ar).parse(T,(function(e){var t=JSON.stringify(e);(new pi).parse(t,"",(function(e){Cr('call 1-97 "\n                importScenefromData('.concat(JSON.stringify(e.scene.toJSON()).replaceAll('"','\\"'),");\n                camera1.position.set(").concat(N.position.x,", ").concat(N.position.y,", ").concat(N.position.z,');\n                "')),setTimeout((function(){fe()}),1e3)}))}),(function(e){console.log("An error happened")}),{})},children:"Update to Caspar"}),(0,zf.jsx)("button",{onClick:fe,children:"animation to Caspar"}),(0,zf.jsx)("button",{onClick:function(){Cr('call 1-97 "\n        camera1.position.set(0, 3.061616997868383e-16, 5)\n        "')},children:"caspar camera Reset"}),(0,zf.jsx)("button",{onClick:function(){va().initialize(),va().ui.isHidden?va().ui.restore():va().ui.hide()},children:"Toggle Animation Editor"})]}),(0,zf.jsxs)("button",{onClick:function(){var e=le.length;ce([].concat((0,f.Z)(le),[(0,zf.jsx)(he,{shape:"box",geometry:new g.BoxGeometry(11,1,.3),position:new g.Vector3(0,0,0),rotation:new g.Euler(0,0,0),scale:new g.Vector3(1,1,1),theatreKey:"box"+e,color:"maroon"},e)]))},"data-shape":"box",children:["Box"," "]}),(0,zf.jsxs)("button",{onClick:ye,"data-shape":"cylinder",children:["Cylinder"," "]}),(0,zf.jsxs)("button",{onClick:ye,"data-shape":"donut",children:["Donut"," "]}),(0,zf.jsxs)("button",{onClick:ye,"data-shape":"sphere",children:["sphere"," "]}),(0,zf.jsx)("button",{onClick:function(){var e=new g.Mesh(new g.CircleGeometry(1,24),new g.MeshStandardMaterial({side:g.DoubleSide,color:"green",roughness:.3,metalness:.8}));Se("circle",e,1),ce([].concat((0,f.Z)(le),(0,f.Z)(xe))),_e([])},children:"Circle"}),(0,zf.jsx)("button",{onClick:function(){var e=new g.Mesh(new g.ConeGeometry(1,2,16),new g.MeshStandardMaterial({side:g.DoubleSide,color:"red",roughness:.3,metalness:.8}));Se("cone",e,1),ce([].concat((0,f.Z)(le),(0,f.Z)(xe))),_e([])},children:"Cone"}),(0,zf.jsx)("button",{onClick:function(){var e=new g.Mesh(new g.DodecahedronGeometry(1),new g.MeshStandardMaterial({side:g.DoubleSide,color:"yellow",roughness:.3,metalness:.8}));Se("Dodecahedron",e,1),ce([].concat((0,f.Z)(le),(0,f.Z)(xe))),_e([])},children:"Docehedron"}),(0,zf.jsx)("button",{onClick:function(){var e=new g.Shape,t=-2.5,n=-5;e.moveTo(0,-2.5),e.bezierCurveTo(0,-2.5,t+2,n,t,n),e.bezierCurveTo(t-3,n,t-3,-1.5,t-3,-1.5),e.bezierCurveTo(t-3,.5,-4,2.7,0,4.5),e.bezierCurveTo(3.5,2.7,5.5,-.5,5.5,-1.5),e.bezierCurveTo(5.5,-1.5,5.5,n,2.5,n),e.bezierCurveTo(1,n,0,-2.5,0,-2.5);var r=new g.Mesh(new g.ExtrudeGeometry(e,{steps:2,depth:2,bevelEnabled:!0,bevelThickness:1,bevelSize:1,bevelSegments:2}),new g.MeshStandardMaterial({side:g.DoubleSide,color:"pink",roughness:.3,metalness:.8}));r.scale.set(.2,.2,.2),Se("extruded",r,1),ce([].concat((0,f.Z)(le),(0,f.Z)(xe))),_e([])},children:"Extrude"}),(0,zf.jsx)("button",{onClick:function(){for(var e=[],t=0;t<10;++t)e.push(new g.Vector2(3*Math.sin(.2*t)+3,.8*(t-5)));var n=new g.Mesh(new g.LatheGeometry(e),new g.MeshStandardMaterial({side:g.DoubleSide,color:"yellow",roughness:.3,metalness:.8}));n.scale.set(.2,.2,.2),Se("lathe",n,1),ce([].concat((0,f.Z)(le),(0,f.Z)(xe))),_e([])},children:"Lathe"}),(0,zf.jsx)("button",{onClick:function(){var e=new g.Mesh(new g.RingGeometry(2,7,18),new g.MeshStandardMaterial({side:g.DoubleSide,color:"yellow",roughness:.3,metalness:.8}));e.scale.set(.2,.2,.2),Se("ring",e,1),ce([].concat((0,f.Z)(le),(0,f.Z)(xe))),_e([])},children:"Ring"}),(0,zf.jsx)("button",{onClick:function(){var e=new g.Mesh(new g.TorusKnotGeometry(3.5,1.5,64,64,2,3),new g.MeshStandardMaterial({side:g.DoubleSide,color:"lightblue",roughness:.3,metalness:.8}));e.scale.set(.2,.2,.2),Se("torusknot",e,1),ce([].concat((0,f.Z)(le),(0,f.Z)(xe))),_e([])},children:"TorusKnot"}),(0,zf.jsx)("button",{onClick:function(){var e=new(function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).scale=e,r}return(0,o.Z)(n,[{key:"getPoint",value:function(e){var t=3*e-1.5,n=Math.sin(2*Math.PI*e);return new g.Vector3(t,n,0).multiplyScalar(this.scale)}}]),n}(g.Curve))(4),t=new g.Mesh(new g.TubeGeometry(e,20,1,8,!1),new g.MeshStandardMaterial({side:g.DoubleSide,color:"lightblue",roughness:.3,metalness:.8}));t.scale.set(.2,.2,.2),Se("tube",t,1),ce([].concat((0,f.Z)(le),(0,f.Z)(xe))),_e([])},children:"Tube"}),(0,zf.jsx)("button",{onClick:function(){"https://vimlesh1975.github.io"!==window.location.origin&&Qt.post("http://localhost:9000/getCurrentCanvas").then((function(e){})).catch((function(e){console.log("Error",e)}))},children:"Load fabricjs here"}),(0,zf.jsx)("input",{size:10,type:"text",value:Ne,onChange:function(e){return ze(e.target.value)}}),(0,zf.jsx)("button",{onClick:function(){(new la).load(window.location.origin+"/three/helvetiker_regular.typeface.json",(function(e){var t=new Pr(Ne,{font:e,size:1.2,height:.001,curveSegments:10,bevelThickness:.1,bevelSize:.01,bevelEnabled:!0}),n=le.length,r="text3d";ce([].concat((0,f.Z)(le),[(0,zf.jsx)(he,{shape:r,geometry:t,position:new g.Vector3(0,0,0),rotation:new g.Euler(0,0,0),scale:new g.Vector3(1,1,1),theatreKey:r+n,color:"yellow"},n)]))}))},"data-shape":"text3D",children:"3D Text"}),(0,zf.jsx)("button",{onClick:function(){return Fe()},children:"2D Text"}),(0,zf.jsx)("button",{onClick:function(){ae&&(new la).load("helvetiker_regular.typeface.json",(function(e){var t=new Pr(Ne,{font:e,size:1.2,height:.001,curveSegments:10,bevelThickness:.1,bevelSize:.01,bevelEnabled:!0});ae.geometry=t}))},children:"Change text"}),(0,zf.jsx)("button",{onClick:function(){if(Ff[0]){T.children[3].detach();var e=(0,f.Z)(le),t=e.filter((function(t,n){return Ff[0].object.userData.__storeKey!=="Demo Sheet:default:"+e[n].props.theatreKey}));ce(t);var n=(0,f.Z)(ee);n.filter((function(e){return e!==Ff[0].object})),ne(n),oe(null)}},children:"Delete"}),(0,zf.jsx)("button",{onClick:function(){return je()},children:"Delete All"}),(0,zf.jsx)("button",{onClick:function(){ae&&(Se("copied",ae,1),ce([].concat((0,f.Z)(le),(0,f.Z)(xe))),_e([]))},children:"copy"}),(0,zf.jsx)("button",{onClick:function(){return Be()},children:"DeSelect All"}),"Color: ",(0,zf.jsx)("input",{type:"color",onChange:function(e){return function(e){ae&&ae.material.color.set(new g.Color(e.target.value))}(e)}}),(0,zf.jsxs)("span",{style:{border:"2px solid red"},children:["Texture",(0,zf.jsx)("input",{id:"importjson",type:"file",className:"input-file",accept:".png,jpg,.bmp,.jpeg",onChange:function(e){return function(e){if(ae){var t=new FileReader;t.onload=function(e){var t=new g.TextureLoader;t.crossOrigin="",t.load(e.target.result,(function(e){var t=new g.MeshBasicMaterial({map:e,side:g.DoubleSide});ae.material=t,ae.material.map.needsUpdate=!0}),(function(){}),(function(e){console.log(e)}))},t.readAsDataURL(e)}}(e.target.files[0])}}),(0,zf.jsx)("button",{onClick:function(){return De.apply(this,arguments)},children:"Save As gltf"}),"Open gltf:"," ",(0,zf.jsx)("input",{id:"importjson",type:"file",className:"input-file",accept:".gltf",onChange:function(e){return Ae(e.target.files[0])}})]}),(0,zf.jsxs)("span",{style:{border:"2px solid red"},children:[jf.map((function(e,t){return(0,zf.jsxs)("span",{children:[" ",(0,zf.jsx)("input",{defaultChecked:"translate"===e,onClick:function(e){return G.current.setMode(e.target.value)},type:"radio",id:e,value:e,name:"transformMode"}),(0,zf.jsx)("label",{htmlFor:e,children:e})]},t)})),(0,zf.jsxs)("label",{htmlFor:"hhh",children:[(0,zf.jsx)("input",{id:"hhh",type:"checkbox",checked:Y,onChange:function(){return Q(!Y)}}),"Orbit Control"]}),(0,zf.jsx)("button",{onClick:function(){N.position.set(0,3061616997868383e-31,5)},children:"Reset Camera"})]}),(0,zf.jsx)("button",{onClick:function(){console.log(T.children)},children:"console log"}),(0,zf.jsx)("button",{onClick:function(){h.sequence.play({rate:1,range:[0,2],iterationCount:1/0})},children:"Play Animation 2s"}),(0,zf.jsx)("button",{onClick:function(){h.sequence.pause()},children:"Pause Animation"}),(0,zf.jsx)("button",{onClick:function(){ee.forEach((function(e){var t=e.userData.__storeKey.split("Demo Sheet:default:")[1];if(va().createContentOfSaveFile("Demo Project").sheetsById["Demo Sheet"].sequence.tracksByObject[t]){var n=Object.values(va().createContentOfSaveFile("Demo Project").sheetsById["Demo Sheet"].sequence.tracksByObject[t].trackData),r=[];n.forEach((function(e){var t="."+e.__debugName.split(":")[1].split(",")[0].split('"')[1]+"["+e.__debugName.split(":")[1].split(",")[1].split('"')[1]+"]",n=e.keyframes,i=[];n.forEach((function(e){i.push(e.position)}));var a=[];n.forEach((function(e){a.push(e.value)})),r.push(new g.NumberKeyframeTrack(t,i,a))}));var i=new g.AnimationClip("move-n-blink",-1,[].concat(r)),a=new g.AnimationMixer(e),o=a.clipAction(i);o.clampWhenFinished=!0,o.setLoop(g.LoopOnce),o.play();var s=new g.Clock;!function e(){a.update(s.getDelta()),requestAnimationFrame(e)}()}}))},children:"Play equivalent threejs Animation"}),(0,zf.jsx)("button",{onClick:function(){ee.forEach((function(e){de(e),va().transaction((function(e){(0,e.unset)(n.props)}))}))},children:"Reset all Props"})]}),(0,zf.jsx)("div",{style:{height:650,backgroundColor:"grey",border:"1px solid red"},children:(0,zf.jsx)(X,{gl:{preserveDrawingBuffer:!0},onCreated:function(e){var t=e.gl,n=e.raycaster,r=e.scene,i=e.camera;P(r),z(i),W(n),Te(t)},children:(0,zf.jsxs)(ga.yR,{sheet:h,children:[(0,zf.jsx)(te,{enabled:Y,theatreKey:"orb 1"}),(0,zf.jsx)(ve,{ref:G,theatreKey:"transformControls 1",onObjectChange:function(){ae&&(de(ae),n&&va().transaction((function(e){var t=e.set;t(n.props.position,{x:ae.position.x,y:ae.position.y,z:ae.position.z}),t(n.props.rotation,{x:ae.rotation.x,y:ae.rotation.y,z:ae.rotation.z}),t(n.props.scale,{x:ae.scale.x,y:ae.scale.y,z:ae.scale.z})})))}}),(0,zf.jsx)(ga.Ah.spotLight,{position:[10,15,10],angle:10.5,intensity:10,theatreKey:"spotLight 1"}),(0,zf.jsx)(ga.Ah.spotLight,{position:[-10,-15,-10],angle:10.5,intensity:10,theatreKey:"spotLight 2"}),(0,zf.jsx)(t.Suspense,{fallback:null,children:le})]})})})]}),(0,zf.jsxs)("div",{style:{border:"1px solid red"},children:[(0,zf.jsxs)("div",{style:{minWidth:300,backgroundColor:"darkgrey",border:"1px solid red"},children:[" ",(0,zf.jsx)("h3",{children:"Props Area"})," "]}),(0,zf.jsxs)("div",{style:{position:"absolute",top:475,border:"1px solid red"},children:["gltf file"," ",(0,zf.jsx)("input",{id:"importjson",type:"file",className:"input-file",accept:".gltf",onChange:function(e){return function(e){var t=new FileReader;t.onload=function(e){(new pi).load(e.target.result,(function(e){R(e.scene)}))},t.readAsDataURL(e)}(e.target.files[0])}}),(0,zf.jsxs)("button",{onClick:(0,l.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new Ar).parse(T,(function(e){var t=JSON.stringify(e);(new pi).parse(t,"",(function(e){R(e.scene)}))}),(function(e){console.log("An error happened")}),{});case 2:case"end":return e.stop()}}),e)}))),children:[" ","load above as gltf"]}),(0,zf.jsx)("button",{onClick:function(){Cr('call 1-97 "\n        importScenefromData('.concat(JSON.stringify(I.toJSON()).replaceAll('"','\\"'),");\n        camera1.position.set(").concat(B.position.x,", ").concat(B.position.y,", ").concat(B.position.z,');\n        "'))},children:"Update to Caspar"}),(0,zf.jsx)("button",{onClick:function(){B.position.set(0,3061616997868383e-31,5)},children:"Reset Camera"}),(0,zf.jsx)("button",{onClick:function(){var e=new g.AmbientLight("white",1);I.add(e)},children:"Add light"}),(0,zf.jsx)("button",{onClick:function(){return console.log(I)},children:"console log"}),(0,zf.jsx)("button",{onClick:function(){(e=(0,f.Z)(I.children)).splice(0,4),e.forEach((function(e){var t=e.userData.__storeKey.split("Demo Sheet:default:")[1];if(va().createContentOfSaveFile("Demo Project").sheetsById["Demo Sheet"].sequence.tracksByObject[t]){var n=Object.values(va().createContentOfSaveFile("Demo Project").sheetsById["Demo Sheet"].sequence.tracksByObject[t].trackData),r=[];n.forEach((function(e){var t="."+e.__debugName.split(":")[1].split(",")[0].split('"')[1]+"["+e.__debugName.split(":")[1].split(",")[1].split('"')[1]+"]",n=e.keyframes,i=[];n.forEach((function(e){i.push(e.position)}));var a=[];n.forEach((function(e){a.push(e.value)})),r.push(new g.NumberKeyframeTrack(t,i,a))}));var i=new g.AnimationClip("move-n-blink",-1,[].concat(r)),a=new g.AnimationMixer(e),o=a.clipAction(i);o.setLoop(g.LoopPingPong,2),o.play();var s=new g.Clock;!function e(){a.update(s.getDelta()),requestAnimationFrame(e)}()}}))},children:"Play Above animation"})]}),(0,zf.jsx)("div",{style:{position:"absolute",top:585,minWidth:200,height:150,backgroundColor:"grey",border:"1px solid red"},children:(0,zf.jsxs)(X,{onCreated:function(e){e.gl,e.raycaster,e.scene;var t=e.camera;U(t)},children:[(0,zf.jsx)(te,{}),I&&(0,zf.jsx)("primitive",{object:I})]})})]})]}),(0,zf.jsxs)("div",{style:{textAlign:"center",minHeight:220,border:"1px solid red",display:"flex"},children:[(0,zf.jsx)("div",{style:{width:"80%",border:"1px solid red"},children:(0,zf.jsx)("h1",{children:"Timeline Area"})}),(0,zf.jsxs)("div",{children:[k,(0,zf.jsx)("button",{onClick:function(){var e=(0,f.Z)(w);(new Ar).parse(T,(function(t){e.push({pageName:"page"+e.length,gltf:JSON.stringify(t),cameraPosition:JSON.stringify([N.position.x,N.position.y,N.position.z]),animation:JSON.stringify(va().createContentOfSaveFile("Demo Project"))}),x(e)}),(function(e){console.log("An error happened")}),{})},children:"Save scene"}),(0,zf.jsx)("button",{onClick:function(){return function(e){var t=(0,f.Z)(w);(new Ar).parse(T,(function(n){var r={pageName:"page"+t.length,gltf:JSON.stringify(n),cameraPosition:JSON.stringify([N.position.x,N.position.y,N.position.z]),animation:JSON.stringify(va().createContentOfSaveFile("Demo Project"))};t[e]=r,x(t)}),(function(e){console.log("An error happened")}),{})}(k)},children:"Update scene"}),(0,zf.jsx)("button",{onClick:function(){return He.apply(this,arguments)},children:"Save list"}),(0,zf.jsx)("input",{type:"file",id:"file",className:"input-file",accept:".txt",onChange:function(e){return function(e){return We.apply(this,arguments)}(e.target.files[0])}}),(0,zf.jsx)("div",{style:{height:690,width:380,overflow:"scroll",border:"1px solid black"},children:(0,zf.jsx)(Bc,{onDragEnd:function(e){var t,n,r=(0,f.Z)(w);null!=e.destination&&(r.splice(null===(t=e.destination)||void 0===t?void 0:t.index,0,w.splice(null===(n=e.source)||void 0===n?void 0:n.index,1)[0]),x(r))},children:(0,zf.jsx)(Mf,{droppableId:"droppable-1",type:"PERSON",children:function(e,t){return(0,zf.jsx)("div",(0,c.Z)((0,c.Z)({ref:e.innerRef,style:{backgroundColor:t.isDraggingOver?"yellow":"yellowgreen"}},e.droppableProps),{},{children:(0,zf.jsx)("table",{border:"1",children:(0,zf.jsxs)("tbody",{children:[w.map((function(e,t){return(0,zf.jsx)(Sf,{draggableId:"draggable"+t,index:t,children:function(n,r){return(0,zf.jsxs)("tr",(0,c.Z)((0,c.Z)({ref:n.innerRef},n.draggableProps),{},{style:(0,c.Z)((0,c.Z)({},n.draggableProps.style),{},{backgroundColor:r.isDragging?"red":"white",boxShadow:r.isDragging?"0 0 .4rem #666":"none"}),children:[(0,zf.jsxs)("td",{children:[(0,zf.jsx)("span",{children:t+1}),(0,zf.jsx)("span",(0,c.Z)((0,c.Z)({style:{marginLeft:10}},n.dragHandleProps),{},{children:(0,zf.jsx)(Lf,{})})),(0,zf.jsxs)("button",{style:{marginLeft:10},key1:t,onClick:function(e){return function(e){var t=w.filter((function(t,n){return parseInt(e.target.getAttribute("key1"))!==n}));x((0,f.Z)(t))}(e)},children:[" ",(0,zf.jsx)(Nf,{style:{pointerEvents:"none"}})]})]}),(0,zf.jsx)("td",{children:(0,zf.jsx)("input",{type:"text",style:{border:"none",borderWidth:0,minWidth:245},onClick:function(e){Ve(t),E(t)},key1:t,key2:"vimlesh",onDoubleClick:function(e){return e.target.setSelectionRange(0,e.target.value.length)},value:e.pageName,onChange:m})})]}))}},t)})),e.placeholder]})})}))}})})})]})]})]})},Uf=function(e){e&&e instanceof Function&&n.e(725).then(n.bind(n,2725)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,zf.jsx)(t.StrictMode,{children:(0,zf.jsx)(Bf,{})})),Uf()}()}();
//# sourceMappingURL=main.cdab56b9.js.map