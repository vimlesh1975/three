/*! For license information please see main.5664bd5b.js.LICENSE.txt */
!function(){var e={5345:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,f=null,p=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,x(e),!v)if(null!==r(l))v=!0,O(_);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(M),M=-1),h=!0;var a=p;try{for(x(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!C());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),x(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var d=r(c);null!==d&&D(w,d.startTime-n),u=!1}return u}finally{f=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,M=-1,P=5,T=-1;function C(){return!(t.unstable_now()-T<P)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=A,S=function(){R.postMessage(null)}}else S=function(){g(A,0)};function O(e){E=e,k||(k=!0,S())}function D(e,n){M=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(M),M=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(l,e),v||h||(v=!0,O(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},4545:function(e,t,n){"use strict";e.exports=n(5345)},2114:function(e,t,n){var r=n(7061).default,i=n(7424).default,a=n(8416).default,o=n(1589).default,s=n(861).default,u=n(4993).default,l=n(6115).default,c=n(1655).default,d=n(6389).default,f=n(6690).default,p=n(9728).default,h=n(4704).default,v=r().mark(Yt),m=r().mark(Qt),g=Object.defineProperty,y=Object.defineProperties,b=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,S=function(e,t,n){return t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n};!function(e,t){for(var n in function(e){g(e,"__esModule",{value:!0})}(e),t)g(e,n,{get:t[n],enumerable:!0})}(t,{AbstractDerivation:function(){return St},Atom:function(){return Vt},Box:function(){return Kt},ConstantDerivation:function(){return Xt},DerivationFromSource:function(){return Et},PointerProxy:function(){return pn},Ticker:function(){return Zt},getPointerParts:function(){return It},isDerivation:function(){return lt},isPointer:function(){return Dt},iterateAndCountTicks:function(){return Yt},iterateOver:function(){return Qt},pointer:function(){return Ot},prism:function(){return fn},val:function(){return qt},valueDerivation:function(){return Wt}});var k=Array.isArray,E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,M="object"==typeof self&&self&&self.Object===Object&&self,P=E||M||Function("return this")(),T=P.Symbol,C=Object.prototype,A=C.hasOwnProperty,I=C.toString,R=T?T.toStringTag:void 0;var O=function(e){var t=A.call(e,R),n=e[R];try{e[R]=void 0;var r=!0}catch(a){}var i=I.call(e);return r&&(t?e[R]=n:delete e[R]),i},D=Object.prototype.toString;var L=function(e){return D.call(e)},j=T?T.toStringTag:void 0;var N=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":j&&j in Object(e)?O(e):L(e)};var z=function(e){return null!=e&&"object"==typeof e};var F=function(e){return"symbol"==typeof e||z(e)&&"[object Symbol]"==N(e)},B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/;var V=function(e,t){if(k(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!F(e))||(U.test(e)||!B.test(e)||null!=t&&e in Object(t))};var H=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var W=function(e){if(!H(e))return!1;var t=N(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},G=P["__core-js_shared__"],q=function(){var e=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var K=function(e){return!!q&&q in e},X=Function.prototype.toString;var Y=function(e){if(null!=e){try{return X.call(e)}catch(t){}try{return e+""}catch(t){}}return""},$=/^\[object .+?Constructor\]$/,Z=Function.prototype,Q=Object.prototype,J=Z.toString,ee=Q.hasOwnProperty,te=RegExp("^"+J.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ne=function(e){return!(!H(e)||K(e))&&(W(e)?te:$).test(Y(e))};var re=function(e,t){return null==e?void 0:e[t]};var ie=function(e,t){var n=re(e,t);return ne(n)?n:void 0},ae=ie(Object,"create");var oe=function(){this.__data__=ae?ae(null):{},this.size=0};var se=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ue=Object.prototype.hasOwnProperty;var le=function(e){var t=this.__data__;if(ae){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ue.call(t,e)?t[e]:void 0},ce=Object.prototype.hasOwnProperty;var de=function(e){var t=this.__data__;return ae?void 0!==t[e]:ce.call(t,e)};var fe=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ae&&void 0===t?"__lodash_hash_undefined__":t,this};function pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pe.prototype.clear=oe,pe.prototype.delete=se,pe.prototype.get=le,pe.prototype.has=de,pe.prototype.set=fe;var he=pe;var ve=function(){this.__data__=[],this.size=0};var me=function(e,t){return e===t||e!==e&&t!==t};var ge=function(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1},ye=Array.prototype.splice;var be=function(e){var t=this.__data__,n=ge(t,e);return!(n<0)&&(n==t.length-1?t.pop():ye.call(t,n,1),--this.size,!0)};var xe=function(e){var t=this.__data__,n=ge(t,e);return n<0?void 0:t[n][1]};var we=function(e){return ge(this.__data__,e)>-1};var _e=function(e,t){var n=this.__data__,r=ge(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Se.prototype.clear=ve,Se.prototype.delete=be,Se.prototype.get=xe,Se.prototype.has=we,Se.prototype.set=_e;var ke=Se,Ee=ie(P,"Map");var Me=function(){this.size=0,this.__data__={hash:new he,map:new(Ee||ke),string:new he}};var Pe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Te=function(e,t){var n=e.__data__;return Pe(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ce=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t};var Ae=function(e){return Te(this,e).get(e)};var Ie=function(e){return Te(this,e).has(e)};var Re=function(e,t){var n=Te(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Oe.prototype.clear=Me,Oe.prototype.delete=Ce,Oe.prototype.get=Ae,Oe.prototype.has=Ie,Oe.prototype.set=Re;var De=Oe;function Le(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Le.Cache||De),n}Le.Cache=De;var je=Le;var Ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ze=/\\(\\)?/g,Fe=function(e){var t=je(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ne,(function(e,n,r,i){t.push(r?i.replace(ze,"$1"):n||e)})),t}));var Be=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Ue=T?T.prototype:void 0,Ve=Ue?Ue.toString:void 0;var He=function e(t){if("string"==typeof t)return t;if(k(t))return Be(t,e)+"";if(F(t))return Ve?Ve.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var We=function(e){return null==e?"":He(e)};var Ge=function(e,t){return k(e)?e:V(e,t)?[e]:Fe(We(e))};var qe=function(e){if("string"==typeof e||F(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Ke=function(e,t){for(var n=0,r=(t=Ge(t,e)).length;null!=e&&n<r;)e=e[qe(t[n++])];return n&&n==r?e:void 0};var Xe=function(e,t,n){var r=null==e?void 0:Ke(e,t);return void 0===r?n:r};var Ye=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),$e=Function.prototype,Ze=Object.prototype,Qe=$e.toString,Je=Ze.hasOwnProperty,et=Qe.call(Object);var tt=function(e){if(!z(e)||"[object Object]"!=N(e))return!1;var t=Ye(e);if(null===t)return!0;var n=Je.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Qe.call(n)==et};var nt,rt,it=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},at=function(){"use strict";function e(t){var n=this;f(this,e),this._untapFromSourceTimeout=null,this._cb=function(e){var t,r=h(n._tappers.values());try{for(r.s();!(t=r.n()).done;){(0,t.value)(e)}}catch(i){r.e(i)}finally{r.f()}},this._lastTapperId=0,this._untapFromSource=null,this._props=t,this._tappers=new Map}return p(e,[{key:"_check",value:function(){this._untapFromSource?0===this._tappers.size&&this._scheduleToUntapFromSource():0!==this._tappers.size&&(this._untapFromSource=this._props.tapToSource(this._cb))}},{key:"_scheduleToUntapFromSource",value:function(){var e=this;null===this._untapFromSourceTimeout&&(this._untapFromSourceTimeout=setTimeout((function(){e._untapFromSourceTimeout=null,0===e._tappers.size&&(e._untapFromSource(),e._untapFromSource=null)}),0))}},{key:"tap",value:function(e){var t=this,n=this._lastTapperId++;return this._tappers.set(n,e),this._check(),function(){t._removeTapperById(n)}}},{key:"_removeTapperById",value:function(e){this._tappers.delete(e),this._check()}}]),e}(),ot=function(){"use strict";function e(){var t=this;f(this,e),this._lastTapperId=0,this._tappers=new Map,this.tappable=new at({tapToSource:function(e){return t._tap(e)}})}return p(e,[{key:"_tap",value:function(e){var t,n=this,r=this._lastTapperId++;return this._tappers.set(r,e),null==(t=this._onNumberOfTappersChangeListener)||t.call(this,this._tappers.size),function(){n._removeTapperById(r)}}},{key:"_removeTapperById",value:function(e){var t,n=this._tappers.size;this._tappers.delete(e);var r=this._tappers.size;n!==r&&(null==(t=this._onNumberOfTappersChangeListener)||t.call(this,r))}},{key:"emit",value:function(e){var t,n=h(this._tappers.values());try{for(n.s();!(t=n.n()).done;){(0,t.value)(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"hasTappers",value:function(){return 0!==this._tappers.size}},{key:"onNumberOfTappersChange",value:function(e){this._onNumberOfTappersChangeListener=e}}]),e}(),st=function(){"use strict";function e(t,n){var r=this;return f(this,e),this._possiblyMarkAsStale=function(){r._ticker.onThisOrNextTick(r._refresh)},this._refresh=function(){var e=r._derivation.getValue();e===r._lastValue&&!0===r._lastValueRecorded||(r._lastValue=e,r._lastValueRecorded=!0,r._emitter.emit(e))},this._derivation=t,this._ticker=n,this._emitter=new ot,this._emitter.onNumberOfTappersChange((function(){r._reactToNumberOfTappersChange()})),this._hadTappers=!1,this._lastValueRecorded=!1,this._lastValue=void 0,this}return p(e,[{key:"_reactToNumberOfTappersChange",value:function(){var e=this._emitter.hasTappers();e!==this._hadTappers&&(this._hadTappers=e,e?this._derivation.addDependent(this._possiblyMarkAsStale):this._derivation.removeDependent(this._possiblyMarkAsStale))}},{key:"tappable",value:function(){return this._emitter.tappable}}]),e}(),ut=function(){"use strict";function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f(this,e),this.dontEmitValues=r,this._possiblyMarkAsStale=function(){n._emitter.emit(void 0)},this._derivation=t,this._emitter=new ot,this._emitter.onNumberOfTappersChange((function(){n._reactToNumberOfTappersChange()})),this._hadTappers=!1,this}return p(e,[{key:"_reactToNumberOfTappersChange",value:function(){var e=this._emitter.hasTappers();e!==this._hadTappers&&(this._hadTappers=e,e?this._derivation.addDependent(this._possiblyMarkAsStale):this._derivation.removeDependent(this._possiblyMarkAsStale))}},{key:"tappable",value:function(){return this._emitter.tappable}}]),e}();function lt(e){return e&&e.isDerivation&&!0===e.isDerivation}(rt=nt||(nt={}))[rt.none=0]="none",rt[rt.dep=1]="dep",rt[rt.inner=2]="inner";var ct=void 0;function dt(e,t){return ct||(ct=function(){var e=function(e){"use strict";c(n,e);var t=d(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._depDerivation=e,i._fn=r,i._innerDerivation=void 0,i._staleDependency=1,i._addDependency(e),u(i,l(i))}return p(n,[{key:"_recalculateHot",value:function(){var e=this._staleDependency;if(this._staleDependency=0,2===e)return this._innerDerivation.getValue();var t=this._fn(this._depDerivation.getValue());return lt(t)?(this._innerDerivation=t,this._addDependency(t),t.getValue()):t}},{key:"_recalculateCold",value:function(){var e=this._fn(this._depDerivation.getValue());return lt(e)?e.getValue():e}},{key:"_recalculate",value:function(){return this.isHot?this._recalculateHot():this._recalculateCold()}},{key:"_reactToDependencyBecomingStale",value:function(e){var t=e===this._depDerivation?1:2;if(2===t&&e!==this._innerDerivation)throw Error("got a _reactToDependencyBecomingStale() from neither the dep nor the inner derivation");0===this._staleDependency?(this._staleDependency=t,1===t&&this._removeInnerDerivation()):1===this._staleDependency||1===t&&(this._staleDependency=1,this._removeInnerDerivation())}},{key:"_removeInnerDerivation",value:function(){this._innerDerivation&&(this._removeDependency(this._innerDerivation),this._innerDerivation=void 0)}},{key:"_keepHot",value:function(){this._staleDependency=1,this.getValue()}},{key:"_becomeCold",value:function(){this._staleDependency=1,this._removeInnerDerivation()}}]),n}(St);return e.displayName="flatMap",e}()),new ct(e,t)}var ft=void 0;function pt(e,t){return ft||(ft=function(e){"use strict";c(n,e);var t=d(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._dep=e,i._fn=r,i._addDependency(e),i}return p(n,[{key:"_recalculate",value:function(){return this._fn(this._dep.getValue())}},{key:"_reactToDependencyBecomingStale",value:function(){}}]),n}(St)),new ft(e,t)}var ht=function(){"use strict";function e(){f(this,e),this._head=void 0}return p(e,[{key:"peek",value:function(){return this._head&&this._head.data}},{key:"pop",value:function(){var e=this._head;if(e)return this._head=e.next,e.data}},{key:"push",value:function(e){var t={next:this._head,data:e};this._head=t}}]),e}();function vt(){var e=new ht,t=function(){};return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:function(){e.push(t)},stopIgnoringDependencies:function(){e.peek()!==t||e.pop()},reportResolutionStart:function(n){var r=e.peek();r&&r(n),e.push(t)},reportResolutionEnd:function(t){e.pop()},pushCollector:function(t){e.push(t)},popCollector:function(t){if(e.peek()!==t)throw new Error("Popped collector is not on top of the stack");e.pop()}}}var mt=function(){var e="__dataverse_discoveryMechanism_sharedStack",t="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};if(t){var r=t[e];if(r&&"object"===typeof r&&"Dataverse_discoveryMechanism"===r.type)return r;var i=vt();return t[e]=i,i}return vt()}(),gt=mt.startIgnoringDependencies,yt=mt.stopIgnoringDependencies,bt=mt.reportResolutionEnd,xt=mt.reportResolutionStart,wt=mt.pushCollector,_t=mt.popCollector,St=function(){"use strict";function e(){var t=this;f(this,e),this.isDerivation=!0,this._didMarkDependentsAsStale=!1,this._isHot=!1,this._isFresh=!1,this._lastValue=void 0,this._dependents=new Set,this._dependencies=new Set,this._internal_markAsStale=function(e){if(t._reactToDependencyBecomingStale(e),!t._didMarkDependentsAsStale){t._didMarkDependentsAsStale=!0,t._isFresh=!1;var n,r=h(t._dependents);try{for(r.s();!(n=r.n()).done;){(0,n.value)(t)}}catch(i){r.e(i)}finally{r.f()}}}}return p(e,[{key:"isHot",get:function(){return this._isHot}},{key:"_addDependency",value:function(e){this._dependencies.has(e)||(this._dependencies.add(e),this._isHot&&e.addDependent(this._internal_markAsStale))}},{key:"_removeDependency",value:function(e){this._dependencies.has(e)&&(this._dependencies.delete(e),this._isHot&&e.removeDependent(this._internal_markAsStale))}},{key:"changes",value:function(e){return new st(this,e).tappable()}},{key:"changesWithoutValues",value:function(){return new ut(this).tappable()}},{key:"keepHot",value:function(){return this.changesWithoutValues().tap((function(){}))}},{key:"tapImmediate",value:function(e,t){var n=this.changes(e).tap(t);return t(this.getValue()),n}},{key:"addDependent",value:function(e){var t=this._dependents.size>0;this._dependents.add(e),t!==this._dependents.size>0&&this._reactToNumberOfDependentsChange()}},{key:"removeDependent",value:function(e){var t=this._dependents.size>0;this._dependents.delete(e),t!==this._dependents.size>0&&this._reactToNumberOfDependentsChange()}},{key:"_markAsStale",value:function(e){this._internal_markAsStale(e)}},{key:"getValue",value:function(){if(xt(this),!this._isFresh){var e=this._recalculate();this._lastValue=e,this._isHot&&(this._isFresh=!0,this._didMarkDependentsAsStale=!1)}return bt(this),this._lastValue}},{key:"_reactToNumberOfDependentsChange",value:function(){var e=this._dependents.size>0;if(e!==this._isHot)if(this._isHot=e,this._didMarkDependentsAsStale=!1,this._isFresh=!1,e){var t,n=h(this._dependencies);try{for(n.s();!(t=n.n()).done;){t.value.addDependent(this._internal_markAsStale)}}catch(a){n.e(a)}finally{n.f()}this._keepHot()}else{var r,i=h(this._dependencies);try{for(i.s();!(r=i.n()).done;){r.value.removeDependent(this._internal_markAsStale)}}catch(a){i.e(a)}finally{i.f()}this._becomeCold()}}},{key:"_keepHot",value:function(){}},{key:"_becomeCold",value:function(){}},{key:"map",value:function(e){return pt(this,e)}},{key:"flatMap",value:function(e){return dt(this,e)}}]),e}(),kt=function(){},Et=function(e){"use strict";c(n,e);var t=d(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._tapToSource=e,i._getValueFromSource=r,i._untapFromChanges=kt,i._cachedValue=void 0,i._hasCachedValue=!1,i}return p(n,[{key:"_recalculate",value:function(){return this.isHot?(this._hasCachedValue||(this._cachedValue=this._getValueFromSource(),this._hasCachedValue=!0),this._cachedValue):this._getValueFromSource()}},{key:"_keepHot",value:function(){var e=this;this._hasCachedValue=!1,this._cachedValue=void 0,this._untapFromChanges=this._tapToSource((function(t){e._hasCachedValue=!0,e._cachedValue=t,e._markAsStale(e)}))}},{key:"_becomeCold",value:function(){this._untapFromChanges(),this._untapFromChanges=kt,this._hasCachedValue=!1,this._cachedValue=void 0}},{key:"_reactToDependencyBecomingStale",value:function(){}}]),n}(St),Mt=new WeakMap,Pt=new WeakMap,Tt=Symbol("pointerMeta"),Ct={get:function(e,t){if(t===Tt)return Mt.get(e);var n=Pt.get(e);n||(n=new Map,Pt.set(e,n));var r=n.get(t);if(void 0!==r)return r;var i=Mt.get(e),a=Rt({root:i.root,path:[].concat(s(i.path),[t])});return n.set(t,a),a}},At=function(e){return e[Tt]},It=function(e){var t=At(e);return{root:t.root,path:t.path}};function Rt(e){var t,n={root:e.root,path:null!=(t=e.path)?t:[]},r={};return Mt.set(r,n),new Proxy(r,Ct)}var Ot=Rt,Dt=function(e){return e&&!!At(e)};var Lt,jt,Nt=function e(t,n,r){if(0===n.length)return r(t);if(Array.isArray(t)){var i=o(n),u=i[0],l=i.slice(1);u=parseInt(String(u),10),isNaN(u)&&(u=0);var c=t[u],d=e(c,l,r);if(c===d)return t;var f=s(t);return f.splice(u,1,d),f}if("object"===typeof t&&null!==t){var p=o(n),v=p[0],m=p.slice(1),g=t[v],k=e(g,m,r);if(g===k)return t;var E=(M=function(e,t){for(var n in t||(t={}))w.call(t,n)&&S(e,n,t[n]);if(x){var r,i=h(x(t));try{for(i.s();!(r=i.n()).done;)n=r.value,_.call(t,n)&&S(e,n,t[n])}catch(a){i.e(a)}finally{i.f()}}return e}({},t),P=a({},v,k),y(M,b(P)));return E}var M,P,T=o(n),C=T[0],A=T.slice(1);return a({},C,e(void 0,A,r))};(jt=Lt||(Lt={}))[jt.Dict=0]="Dict",jt[jt.Array=1]="Array",jt[jt.Other=2]="Other";var zt=function(e){return Array.isArray(e)?1:tt(e)?0:2},Ft=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zt(e);return 0===n&&"string"===typeof t||1===n&&Bt(t)?e[t]:void 0},Bt=function(e){var t="number"===typeof e?e:parseInt(e,10);return!isNaN(t)&&t>=0&&t<1/0&&(0|t)===t},Ut=function(){"use strict";function e(t,n){f(this,e),this._parent=t,this._path=n,this.children=new Map,this.identityChangeListeners=new Set}return p(e,[{key:"addIdentityChangeListener",value:function(e){this.identityChangeListeners.add(e)}},{key:"removeIdentityChangeListener",value:function(e){this.identityChangeListeners.delete(e),this._checkForGC()}},{key:"removeChild",value:function(e){this.children.delete(e),this._checkForGC()}},{key:"getChild",value:function(e){return this.children.get(e)}},{key:"getOrCreateChild",value:function(t){var n=this.children.get(t);return n||(n=n=new e(this,this._path.concat([t])),this.children.set(t,n)),n}},{key:"_checkForGC",value:function(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(it(this._path))}}]),e}(),Vt=function(){"use strict";function e(t){var n=this;f(this,e),this.$$isIdentityDerivationProvider=!0,this.reduceState=function(e,t){var r=function(e,t,n){return 0===t.length?n(e):Nt(e,t,n)}(n.getState(),e,t);return n.setState(r),r},this._onPathValueChange=function(e,t){var r=n._getOrCreateScopeForPath(e);r.identityChangeListeners.add(t);return function(){r.identityChangeListeners.delete(t)}},this._currentState=t,this._rootScope=new Ut(void 0,[]),this.pointer=Ot({root:this,path:[]})}return p(e,[{key:"setState",value:function(e){var t=this._currentState;this._currentState=e,this._checkUpdates(this._rootScope,t,e)}},{key:"getState",value:function(){return this._currentState}},{key:"getIn",value:function(e){return 0===e.length?this.getState():Xe(this.getState(),e)}},{key:"setIn",value:function(e,t){return this.reduceState(e,(function(){return t}))}},{key:"_checkUpdates",value:function(e,t,n){if(t!==n){var r,a=h(e.identityChangeListeners);try{for(a.s();!(r=a.n()).done;){(0,r.value)(n)}}catch(m){a.e(m)}finally{a.f()}if(0!==e.children.size){var o=zt(t),s=zt(n);if(2!==o||o!==s){var u,l=h(e.children);try{for(l.s();!(u=l.n()).done;){var c=i(u.value,2),d=c[0],f=c[1],p=Ft(t,d,o),v=Ft(n,d,s);this._checkUpdates(f,p,v)}}catch(m){l.e(m)}finally{l.f()}}}}}},{key:"_getOrCreateScopeForPath",value:function(e){var t,n=this._rootScope,r=h(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.getOrCreateChild(i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"getIdentityDerivation",value:function(e){var t=this;return new Et((function(n){return t._onPathValueChange(e,n)}),(function(){return t.getIn(e)}))}}]),e}(),Ht=new WeakMap,Wt=function(e){var t,n=At(e),r=Ht.get(n);if(!r){var i=n.root;if("object"!==typeof(t=i)||null===t||!0!==t.$$isIdentityDerivationProvider)throw new Error("Cannot run valueDerivation() on a pointer whose root is not an IdentityChangeProvider");var a=n.path;r=i.getIdentityDerivation(a),Ht.set(n,r)}return r};var Gt,qt=function(e){return Dt(e)?Wt(e).getValue():lt(e)?e.getValue():e},Kt=function(){"use strict";function e(t){var n=this;f(this,e),this._value=t,this._emitter=new ot,this._publicDerivation=new Et((function(e){return n._emitter.tappable.tap(e)}),this.get.bind(this))}return p(e,[{key:"set",value:function(e){e!==this._value&&(this._value=e,this._emitter.emit(e))}},{key:"get",value:function(){return this._value}},{key:"derivation",get:function(){return this._publicDerivation}}]),e}(),Xt=function(e){"use strict";c(n,e);var t=d(n);function n(e){var r;return f(this,n),(r=t.call(this))._v=e,u(r,l(r))}return p(n,[{key:"_recalculate",value:function(){return this._v}},{key:"_reactToDependencyBecomingStale",value:function(){}}]),n}(St);function Yt(e){var t,n,i,a;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Dt(e)){r.next=4;break}t=Wt(e),r.next=9;break;case 4:if(!lt(e)){r.next=8;break}t=e,r.next=9;break;case 8:throw new Error("Only pointers and derivations are supported");case 9:n=0,i=t.changesWithoutValues().tap((function(){n++})),r.prev=11;case 12:return a=n,n=0,r.next=17,{value:t.getValue(),ticks:a};case 17:r.next=12;break;case 19:return r.prev=19,i(),r.finish(19);case 22:case"end":return r.stop()}}),v,null,[[11,,19,22]])}function $t(){var e=new Zt;if("undefined"!==typeof window){window.requestAnimationFrame((function t(n){e.tick(n),window.requestAnimationFrame(t)}))}else e.tick(0),setTimeout((function(){return e.tick(1)}),0);return e}var Zt=function(){"use strict";function e(){f(this,e),this._ticking=!1,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}return p(e,[{key:"onThisOrNextTick",value:function(e){this._scheduledForThisOrNextTick.add(e)}},{key:"onNextTick",value:function(e){this._scheduledForNextTick.add(e)}},{key:"offThisOrNextTick",value:function(e){this._scheduledForThisOrNextTick.delete(e)}},{key:"offNextTick",value:function(e){this._scheduledForNextTick.delete(e)}},{key:"time",get:function(){return this._ticking?this._timeAtCurrentTick:performance.now()}},{key:"tick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();this.__ticks++,this._ticking=!0,this._timeAtCurrentTick=e;var t,n=h(this._scheduledForNextTick);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._scheduledForThisOrNextTick.add(r)}}catch(i){n.e(i)}finally{n.f()}this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}},{key:"_tick",value:function(e){var t=this.time;if(e>10&&console.warn("_tick() recursing for 10 times"),e>100)throw new Error("Maximum recursion limit for _tick()");var n=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;var r,i=h(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}if(this._scheduledForThisOrNextTick.size>0)return this._tick(e+1)}}],[{key:"raf",get:function(){return Gt||(Gt=$t()),Gt}}]),e}();function Qt(e){var t,n,i;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Dt(e)){r.next=4;break}t=Wt(e),r.next=9;break;case 4:if(!lt(e)){r.next=8;break}t=e,r.next=9;break;case 8:throw new Error("Only pointers and derivations are supported");case 9:n=new Zt,i=t.changes(n).tap((function(e){})),r.prev=11;case 12:return n.tick(),r.next=16,t.getValue();case 16:r.next=12;break;case 18:return r.prev=18,i(),r.finish(18);case 21:case"end":return r.stop()}}),m,null,[[11,,18,21]])}var Jt=function(){},en=function(e){"use strict";c(n,e);var t=d(n);function n(e){var r;return f(this,n),(r=t.call(this))._fn=e,r._cacheOfDendencyValues=new Map,r._possiblyStaleDeps=new Set,r._prismScope=new tn,r}return p(n,[{key:"_recalculate",value:function(){var e,t=this;if(this._possiblyStaleDeps.size>0){var n=!1;gt();var r,i=h(this._possiblyStaleDeps);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(this._cacheOfDendencyValues.get(a)!==a.getValue()){n=!0;break}}}catch(v){i.e(v)}finally{i.f()}if(yt(),this._possiblyStaleDeps.clear(),!n)return this._lastValue}var o=new Set;this._cacheOfDendencyValues.clear();var s=function(e){o.add(e),t._addDependency(e)};wt(s),an.push(this._prismScope);try{e=this._fn()}catch(m){console.error(m)}finally{an.pop()!==this._prismScope&&console.warn("The Prism hook stack has slipped. This is a bug.")}_t(s);var u,l=h(this._dependencies);try{for(l.s();!(u=l.n()).done;){var c=u.value;o.has(c)||this._removeDependency(c)}}catch(v){l.e(v)}finally{l.f()}this._dependencies=o,gt();var d,f=h(o);try{for(f.s();!(d=f.n()).done;){var p=d.value;this._cacheOfDendencyValues.set(p,p.getValue())}}catch(v){f.e(v)}finally{f.f()}return yt(),e}},{key:"_reactToDependencyBecomingStale",value:function(e){this._possiblyStaleDeps.add(e)}},{key:"_keepHot",value:function(){this._prismScope=new tn,gt(),this.getValue(),yt()}},{key:"_becomeCold",value:function(){nn(this._prismScope),this._prismScope=new tn}}]),n}(St),tn=function(){"use strict";function e(){f(this,e),this.isPrismScope=!0,this._subs={}}return p(e,[{key:"sub",value:function(t){return this._subs[t]||(this._subs[t]=new e),this._subs[t]}},{key:"subs",get:function(){return this._subs}}]),e}();function nn(e){for(var t=0,n=Object.values(e.subs);t<n.length;t++){nn(n[t])}!function(e){var t=sn.get(e);if(t){var n,r=h(t.values());try{for(r.s();!(n=r.n()).done;){rn(n.value.cleanup,void 0)}}catch(i){r.e(i)}finally{r.f()}}sn.delete(e)}(e)}function rn(e,t){try{return{value:e(),ok:!0}}catch(n){return setTimeout((function(){throw n})),{value:t,ok:!1}}}var an=new ht,on=new WeakMap,sn=new WeakMap,un=new WeakMap;function ln(e,t){if(void 0===e||void 0===t)return!0;var n=e.length;if(n!==t.length)return!0;for(var r=0;r<n;r++)if(e[r]!==t[r])return!0;return!1}function cn(e,t,n){var r=an.peek();if(!r)throw new Error("prism.memo() is called outside of a prism() call.");var i=un.get(r);i||(i=new Map,un.set(r,i));var a=i.get(e);return void 0===a&&(a={cachedValue:null,deps:void 0},i.set(e,a)),ln(a.deps,n)&&(gt(),a.cachedValue=rn(t,void 0).value,yt(),a.deps=n),a.cachedValue}var dn=function(e){return new en(e)};dn.ref=function(e,t){var n=an.peek();if(!n)throw new Error("prism.ref() is called outside of a prism() call.");var r=on.get(n);void 0===r&&(r=new Map,on.set(n,r));var i=r.get(e);if(void 0!==i)return i;var a={current:t};return r.set(e,a),a},dn.effect=function(e,t,n){var r=an.peek();if(!r)throw new Error("prism.effect() is called outside of a prism() call.");var i=sn.get(r);void 0===i&&(i=new Map,sn.set(r,i));var a=i.get(e);void 0===a&&(a={cleanup:Jt,deps:void 0},i.set(e,a)),ln(a.deps,n)&&(a.cleanup(),gt(),a.cleanup=rn(t,Jt).value,yt(),a.deps=n)},dn.memo=cn,dn.ensurePrism=function(){if(!an.peek())throw new Error("The parent function is called outside of a prism() call.")},dn.state=function(e,t){var n=dn.memo("state/"+e,(function(){var e=new Kt(t);return{b:e,setValue:function(t){return e.set(t)}}}),[]),r=n.b,i=n.setValue;return[r.derivation.getValue(),i]},dn.scope=function(e,t){var n=an.peek();if(!n)throw new Error("prism.scope() is called outside of a prism() call.");var r=n.sub(e);an.push(r);var i=rn(t,void 0).value;return an.pop(),i},dn.sub=function(e,t,n){return cn(e,(function(){return dn(t)}),n).getValue()},dn.inPrism=function(){return!!an.peek()};var fn=dn,pn=function(){"use strict";function e(t){f(this,e),this.$$isIdentityDerivationProvider=!0,this._currentPointerBox=new Kt(t),this.pointer=Ot({root:this,path:[]})}return p(e,[{key:"setPointer",value:function(e){this._currentPointerBox.set(e)}},{key:"getIdentityDerivation",value:function(e){return this._currentPointerBox.derivation.flatMap((function(t){var n=e.reduce((function(e,t){return e[t]}),t);return Wt(n)}))}}]),e}()},3604:function(e,t,n){var r,i,a;e=n.nmd(e);var o,s,u,l,c,d,f,p,h,v,m,g,y,b,x,w,_,S,k,E,M,P,T,C,A,I,R,O,D,L,j,N,z,F,B,U,V,H,W,G,q,K,X,Y,$,Z,Q,J,ee,te,ne,re,ie,ae,oe,se,ue,le,ce,de,fe,pe,he,ve,me,ge,ye,be,xe,we,_e,Se,ke,Ee,Me,Pe,Te,Ce,Ae,Ie,Re,Oe,De,Le,je,Ne,ze,Fe,Be,Ue,Ve,He,We,Ge,qe,Ke,Xe,Ye,$e,Ze,Qe,Je,et,tt,nt,rt,it,at,ot,st,ut,lt,ct,dt,ft,pt,ht,vt,mt,gt,yt,bt,xt,wt,_t,St,kt,Et,Mt,Pt,Tt,Ct,At,It,Rt,Ot,Dt,Lt,jt,Nt,zt,Ft,Bt,Ut,Vt,Ht,Wt,Gt,qt,Kt,Xt,Yt,$t,Zt,Qt,Jt,en,tn,nn,rn,an,on,sn,un,ln,cn,dn,fn,pn,hn,vn,mn,gn,yn,bn,xn,wn,_n,Sn,kn,En,Mn,Pn,Tn,Cn,An,In,Rn,On,Dn,Ln,jn,Nn,zn,Fn,Bn,Un,Vn,Hn,Wn,Gn,qn,Kn,Xn,Yn,$n,Zn,Qn,Jn,er,tr,nr,rr,ir,ar,or,sr,ur,lr,cr,dr,fr,pr,hr,vr,mr,gr,yr,br,xr,wr,_r,Sr,kr,Er,Mr,Pr,Tr,Cr,Ar,Ir,Rr,Or,Dr,Lr,jr,Nr,zr,Fr,Br,Ur,Vr,Hr,Wr,Gr,qr,Kr,Xr,Yr,$r=n(9728).default,Zr=n(6690).default,Qr=n(6115).default,Jr=n(1655).default,ei=n(6389).default,ti=n(3496).default,ni=n(7061).default,ri=n(1589).default,ii=n(8416).default,ai=n(9400).default,oi=n(7424).default,si=n(861).default,ui=n(4704).default,li=ni().mark(dP),ci=Object.create,di=Object.defineProperty,fi=Object.defineProperties,pi=Object.getOwnPropertyDescriptor,hi=Object.getOwnPropertyDescriptors,vi=Object.getOwnPropertyNames,mi=Object.getOwnPropertySymbols,gi=Object.getPrototypeOf,yi=Object.prototype.hasOwnProperty,bi=Object.prototype.propertyIsEnumerable,xi=function(e,t,n){return t in e?di(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},wi=function(e,t){for(var n in t||(t={}))yi.call(t,n)&&xi(e,n,t[n]);if(mi){var r,i=ui(mi(t));try{for(i.s();!(r=i.n()).done;){n=r.value;bi.call(t,n)&&xi(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},_i=function(e,t){return fi(e,hi(t))},Si=function(e){return di(e,"__esModule",{value:!0})},ki=function(e,t){var n={};for(var r in e)yi.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&mi){var i,a=ui(mi(e));try{for(a.s();!(i=a.n()).done;){r=i.value;t.indexOf(r)<0&&bi.call(e,r)&&(n[r]=e[r])}}catch(o){a.e(o)}finally{a.f()}}return n},Ei=function(e,t){return function(){return e&&(t=(0,e[Object.keys(e)[0]])(e=0)),t}},Mi=function(e,t){return function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports}},Pi=function(e,t){for(var n in Si(e),t)di(e,n,{get:t[n],enumerable:!0})},Ti=function(e){return function(e,t,n){if(t&&"object"===typeof t||"function"===typeof t){var r,i=ui(vi(t));try{var a=function(){var i=r.value;yi.call(e,i)||"default"===i||di(e,i,{get:function(){return t[i]},enumerable:!(n=pi(t,i))||n.enumerable})};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}return e}(Si(di(null!=e?ci(gi(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},Ci=function(e,t,n){return xi(e,"symbol"!==typeof t?t+"":t,n),n},Ai=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))};function Ii(){return Yr}var Ri,Oi,Di,Li,ji,Ni,zi,Fi=Ei({"studio/src/getStudio.ts":function(){}});function Bi(e){return function(t){return"object"===typeof t&&!!t&&t.type===e}}var Ui,Vi=Ei({"shared/src/instanceTypes.ts":function(){Ri=Bi("Theatre_Project"),Oi=Bi("Theatre_Sheet"),Di=Bi("Theatre_SheetTemplate"),Li=Bi("Theatre_SheetObject"),ji=Bi("Theatre_SheetObjectTemplate"),Bi("Theatre_Project_PublicAPI"),Ni=Bi("Theatre_Sheet_PublicAPI"),zi=Bi("Theatre_SheetObject_PublicAPI")}}),Hi=Mi({"../node_modules/jiff/lib/lcs.js":function(e){function t(e,t,n,r,i,a){return t[i+r]===n[a+r]?{value:e[a+1][i+1].value,type:0}:e[a][i+1].value<e[a+1][i].value?{value:e[a][i+1].value+1,type:-1}:{value:e[a+1][i].value+1,type:1}}e.compare=function(e,n){for(var r=e.length,i=n.length,a=function(e,t){var n=0,r=Math.min(e.length,t.length);for(;n<r&&e[n]===t[n];)++n;return n}(e,n),o=a<r&&a<i?function(e,t){var n=e.length-1,r=t.length-1,i=Math.min(n,r),a=0;for(;a<i&&e[n-a]===t[r-a];)++a;return a}(e,n):0,s=o+a-1,u=function(e,t){var n,r,i,a=[];for(i=a[t]=[],r=0;r<e;++r)i[r]={value:e-r,type:-1};for(n=0;n<t;++n)a[n]=[],a[n][e]={value:t-n,type:1};return a[t][e]={value:0,type:0},a}(r-=s,i-=s),l=r-1;l>=0;--l)for(var c=i-1;c>=0;--c)u[c][l]=t(u,e,n,a,l,c);return{prefix:a,matrix:u,suffix:o}},e.reduce=function(e,t,n){var r,i,a,o,s=n.matrix,u=n.prefix;for(r=0;r<u;++r)t=e(t,0,r,r);a=r,u=s.length,r=0,i=0;for(;r<u;)switch(o=s[r][i].type,t=e(t,o,r+a,i+a),o){case 0:++r,++i;break;case-1:++i;break;case 1:++r}for(r+=a,i+=a,u=n.suffix,a=0;a<u;++a)t=e(t,0,r+a,i+a);return t},e.REMOVE=-1,e.ADD=1,e.EQUAL=0}}),Wi=Mi({"../node_modules/jiff/lib/array.js":function(e){e.cons=function(e,t){var n=t.length,r=new Array(n+1);r[0]=e;for(var i=0;i<n;++i)r[i+1]=t[i];return r},e.tail=function(e){for(var t=e.length-1,n=new Array(t),r=0;r<t;++r)n[r]=e[r+1];return n},e.map=function(e,t){for(var n=new Array(t.length),r=0;r<t.length;++r)n[r]=e(t[r]);return n}}}),Gi=Mi({"../node_modules/jiff/lib/jsonPointerParse.js":function(e,t){t.exports=function(e,t){var r,i,a,o;r="/"===e.charAt(0)?1:0,i="",n.lastIndex=r;for(;a=n.exec(e);)if(o=a[0],i+=e.slice(r,n.lastIndex-o.length),r=n.lastIndex,"/"===o){if(!1===t(i))return e;i=""}else i+="~1"===o?"/":"~";return i+=e.slice(r),t(i),e};var n=/\/|~1|~0/g}}),qi=Mi({"../node_modules/jiff/lib/jsonPointer.js":function(e){var t=Gi();e.find=function(e,r,i,a){if("string"!==typeof r)return;if(""===r)return{target:e,key:void 0};if(r===n)return{target:e,key:""};var o,s=e,u=void 0!==a;return t(r,(function(t){if(null==e)return s=null,!1;o=Array.isArray(e)?u?function(e,t,n,r){var i=t;if(i<0)throw new Error("array index out of bounds "+i);if(void 0!==r&&"function"===typeof e&&(i=e(t,n,r))<0)throw new Error("could not find patch context "+r);return i}(i,l(t),e,a):"-"===t?t:l(t):t,s=e,e=e[o]})),null===s?void 0:{target:s,key:o}},e.join=function(e){return e.join(n)},e.absolute=function(e){return e[0]===n?e:n+e},e.parse=function(e){var n=[];return t(e,n.push.bind(n)),n},e.contains=function(e,t){return 0===t.indexOf(e)&&t[e.length]===n},e.encodeSegment=function(e){return e.replace(a,"~0").replace(r,"~1")},e.decodeSegment=function(e){return e.replace(i,n).replace(o,"~")},e.parseArrayIndex=l,e.isValidArrayIndex=u;var n="/",r=/\//g,i=/~1/g,a=/~/g,o=/~0/g;var s=/^(0|[1-9]\d*)$/;function u(e){return s.test(e)}function l(e){if(u(e))return+e;throw new SyntaxError("invalid array index "+e)}}}),Ki=Mi({"../node_modules/jiff/lib/clone.js":function(e,t){function n(e){return null==e||"object"!==typeof e?e:Array.isArray(e)?function(e){for(var t=e.length,r=new Array(t),i=0;i<t;++i)r[i]=n(e[i]);return r}(e):function(e){for(var t,r=Object.keys(e),i={},a=0,o=r.length;a<o;++a)i[t=r[a]]=n(e[t]);return i}(e)}t.exports=n}}),Xi=Mi({"../node_modules/jiff/lib/deepEquals.js":function(e,t){function n(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(e,t):"object"===typeof e&&"object"===typeof t&&function(e,t){if(null===e&&null!==t||null!==e&&null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a,o=0;o<r.length;++o)if(!((a=r[o])in t)||!n(e[a],t[a]))return!1;return!0}(e,t))}t.exports=n}}),Yi=Mi({"../node_modules/jiff/lib/commutePaths.js":function(e,t){var n=qi();function r(e,t,n,r,i){var a=t.length-1,o=+t[a],s=+r[a],u=r.slice();return o>s||("add"===e.op||"copy"===e.op?u[a]=Math.max(0,s-i):"remove"===e.op&&(u[a]=Math.max(0,s+i))),u}function i(e){return"remove"===e.op?{op:e.op,path:e.path}:"copy"===e.op||"move"===e.op?{op:e.op,path:e.path,from:e.from}:{op:e.op,path:e.path,value:e.value}}t.exports=function(e,t){var a=n.parse(e.path),o=n.parse(t.path),s=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||n<2&&r<2)return[];var i=n===r?n-1:Math.min(n,r),a=0;for(;a<i&&e[a]===t[a];)++a;return e.slice(0,a)}(a,o),u=function(e,t,r){return n.isValidArrayIndex(e[r])&&n.isValidArrayIndex(t[r])}(a,o,s.length),l=i(e),c=i(t);return 0!==s.length||u?u?function(e,t,i,a){if(t.length===a.length)return function(e,t,r,i){var a,o=t.length-1,s=+t[o],u=+i[o];s<u?"add"===e.op||"copy"===e.op?((a=i.slice())[o]=Math.max(0,u-1),r.path=n.absolute(n.join(a))):"remove"===e.op&&((a=i.slice())[o]=u+1,r.path=n.absolute(n.join(a))):"add"===r.op||"copy"===r.op?((a=t.slice())[o]=s+1,e.path=n.absolute(n.join(a))):s>u&&"remove"===r.op&&((a=t.slice())[o]=Math.max(0,s-1),e.path=n.absolute(n.join(a)));return[r,e]}(e,t,i,a);t.length>a.length?(t=r(i,a,e,t,-1),e.path=n.absolute(n.join(t))):(a=r(e,t,i,a,1),i.path=n.absolute(n.join(a)));return[i,e]}(l,a,c,o):function(e,t,n,r){if(e.path===n.path)throw new TypeError("cannot commute "+e.op+","+n.op+" with identical object paths");return[n,e]}(l,0,c):[c,l]}}}),$i=Mi({"../node_modules/jiff/lib/TestFailedError.js":function(e,t){function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}}),Zi=Mi({"../node_modules/jiff/lib/InvalidPatchOperationError.js":function(e,t){function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}}),Qi=Mi({"../node_modules/jiff/lib/PatchNotInvertibleError.js":function(e,t){function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}}),Ji=Mi({"../node_modules/jiff/lib/patches.js":function(e){var t=qi(),n=Ki(),r=Xi(),i=Yi(),a=Wi(),o=$i(),s=Zi(),u=Qi(),l=t.find,c=t.parseArrayIndex;function d(e,t){var n=e.target;if(Array.isArray(n))if("-"===e.key)n.push(t);else{if(e.key>n.length)throw new s("target of add outside of array bounds");n.splice(e.key,0,t)}else{if(!m(n))throw new s("target of add must be an object or array "+e.key);n[e.key]=t}}function f(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute add,remove -> remove,add for same path");return i(e,t)}function p(e){var t,n=e.target;if(Array.isArray(n))return(t=n.splice(c(e.key),1))[0];if(m(n))return t=n[e.key],delete n[e.key],t;throw new s("target of remove must be an object or array")}function h(e){return void 0===e||null==e.target&&void 0!==e.key}function v(e){return void 0!==e.key&&void 0===e.target[e.key]}function m(e){return null!==e&&"object"===typeof e}e.test={apply:function(e,t,n){var i,a,s=l(e,t.path,n.findContext,t.context),u=s.target;Array.isArray(u)?(i=c(s.key),a=u[i]):a=void 0===s.key?s.target:s.target[s.key];if(!r(a,t.value))throw new o("test failed "+JSON.stringify(t));return e},inverse:function(e,t){return e.push(t),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute test,remove -> remove,test for same path");if("test"===t.op||"replace"===t.op)return[t,e];return i(e,t)}},e.add={apply:function(e,t,r){var i=l(e,t.path,r.findContext,t.context);if(h(i))throw new s("path does not exist "+t.path);if(void 0===t.value)throw new s("missing value");var a=n(t.value);if(void 0===i.key)return a;return d(i,a),e},inverse:function(e,t){var n=t.context;void 0!==n&&(n={before:n.before,after:a.cons(t.value,n.after)});return e.push({op:"test",path:t.path,value:t.value,context:n}),e.push({op:"remove",path:t.path,context:n}),1},commute:f},e.remove={apply:function(e,t,n){var r=l(e,t.path,n.findContext,t.context);if(h(r)||void 0===r.target[r.key])throw new s("path does not exist "+t.path);return p(r),e},inverse:function(e,t,n,r){var i=r[n-1];if(void 0===i||"test"!==i.op||i.path!==t.path)throw new u("cannot invert remove w/o test");var o=i.context;void 0!==o&&(o={before:o.before,after:a.tail(o.after)});return e.push({op:"add",path:i.path,value:i.value,context:o}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)return[t,e];return i(e,t)}},e.replace={apply:function(e,t,r){var i=l(e,t.path,r.findContext,t.context);if(h(i)||v(i))throw new s("path does not exist "+t.path);if(void 0===t.value)throw new s("missing value");var a=n(t.value);if(void 0===i.key)return a;var o=i.target;Array.isArray(o)?o[c(i.key)]=a:o[i.key]=a;return e},inverse:function(e,t,n,r){var i=r[n-1];if(void 0===i||"test"!==i.op||i.path!==t.path)throw new u("cannot invert replace w/o test");var o=i.context;void 0!==o&&(o={before:o.before,after:a.cons(i.value,a.tail(o.after))});return e.push({op:"test",path:i.path,value:t.value}),e.push({op:"replace",path:i.path,value:i.value}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute replace,remove -> remove,replace for same path");if("test"===t.op||"replace"===t.op)return[t,e];return i(e,t)}},e.move={apply:function(e,n,r){if(t.contains(n.path,n.from))throw new s("move.from cannot be ancestor of move.path");var i=l(e,n.path,r.findContext,n.context),a=l(e,n.from,r.findContext,n.fromContext);return d(i,p(a)),e},inverse:function(e,t){return e.push({op:"move",path:t.from,context:t.fromContext,from:t.path,fromContext:t.context}),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute move,remove -> move,replace for same path");return i(e,t)}},e.copy={apply:function(e,t,r){var i=l(e,t.path,r.findContext,t.context),a=l(e,t.from,r.findContext,t.fromContext);if(h(a)||v(a))throw new s("copy.from must exist");var o,u=a.target;o=Array.isArray(u)?u[c(a.key)]:u[a.key];return d(i,n(o)),e},inverse:function(e,t){throw new u("cannot invert "+t.op)},commute:f}}}),ea=Mi({"../node_modules/jiff/lib/jsonPatch.js":function(e){var t=Ji(),n=Ki(),r=Zi();e.apply=function(e,t,r){return a(e,n(t),r)},e.applyInPlace=a,e.clone=n,e.isValidObject=o,e.defaultHash=function(e){return o(e)||function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)?JSON.stringify(e):e};var i={};function a(e,n,a){if(a||(a=i),!Array.isArray(e))return n;for(var o,s,u=0;u<e.length;++u){if(s=e[u],void 0===(o=t[s.op]))throw new r("invalid op "+JSON.stringify(s));n=o.apply(n,s,a)}return n}function o(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}}}),ta=Mi({"../node_modules/jiff/lib/inverse.js":function(e,t){var n=Ji();function r(e,t,r,i){var a=n[t.op];return void 0!==a&&"function"===typeof a.inverse?a.inverse(e,t,r,i):1}t.exports=function(e){var t,n,i=[];for(t=e.length-1;t>=0;t-=n)n=r(i,e[t],t,e);return i}}}),na=Mi({"../node_modules/jiff/jiff.js":function(e){var t=Hi(),n=Wi(),r=ea(),i=ta(),a=qi().encodeSegment;e.diff=function(e,t,n){return u(e,t,"",function(e,t){return"object"===typeof e?{patch:t,hash:l(d,e.hash,s),makeContext:l(d,e.makeContext,c),invertible:!(!1===e.invertible)}:{patch:t,hash:l(d,e,s),makeContext:c,invertible:!0}}(n,[])).patch},e.patch=r.apply,e.patchInPlace=r.applyInPlace,e.inverse=i,e.clone=r.clone,e.InvalidPatchOperationError=Zi(),e.TestFailedError=$i(),e.PatchNotInvertibleError=Qi();var o=r.isValidObject,s=r.defaultHash;function u(e,r,i,s){return Array.isArray(e)&&Array.isArray(r)?function(e,r,i,a){var o=n.map(a.hash,e),s=n.map(a.hash,r),l=t.compare(o,s);return function(e,n,r,i,a){var o=0;return t.reduce((function(i,a,s,l){var c,d,f=i.patch,p=r+"/"+(l+o);return a===t.REMOVE?(c=f[f.length-1],d=i.makeContext(l,e),i.invertible&&f.push({op:"test",path:p,value:e[l],context:d}),void 0!==c&&"add"===c.op&&c.path===p?(c.op="replace",c.context=d):f.push({op:"remove",path:p,context:d}),o-=1):a===t.ADD?(f.push({op:"add",path:p,value:n[s],context:i.makeContext(l,e)}),o+=1):u(e[l],n[s],p,i),i}),i,a)}(e,r,i,a,l)}(e,r,i,s):o(e)&&o(r)?function(e,t,n,r){var i,o,s=Object.keys(t),l=r.patch;for(i=s.length-1;i>=0;--i){o=s[i];var c=n+"/"+a(o);void 0!==e[o]?u(e[o],t[o],c,r):l.push({op:"add",path:c,value:t[o]})}for(s=Object.keys(e),i=s.length-1;i>=0;--i)if(void 0===t[o=s[i]]){var d=n+"/"+a(o);r.invertible&&l.push({op:"test",path:d,value:e[o]}),l.push({op:"remove",path:d})}return r}(e,r,i,s):function(e,t,n,r){e!==t&&(r.invertible&&r.patch.push({op:"test",path:n,value:e}),r.patch.push({op:"replace",path:n,value:t}));return r}(e,r,i,s)}function l(e,t,n){return e(t)?t:n}function c(){}function d(e){return"function"===typeof e}}}),ra=Mi({"../node_modules/json-touch-patch/lib/utils/pluck.js":function(e,t){"use strict";t.exports=function(e,t){for(var n=0,r=t.length-1;n<r;n++){if(!e[t[n]])return null;e=e[t[n]]}return e}}}),ia=Mi({"../node_modules/json-touch-patch/lib/utils/toKeys.js":function(e,t){"use strict";function n(e){return"~0"===e?"~":"/"}t.exports=function(e){var t=e.split("/");if(-1===e.indexOf("~"))return t;for(var r=0,i=t.length;r<i;r++)-1!==t[r].indexOf("~")&&(t[r]=t[r].replace(/~[01]/g,n));return t}}}),aa=Mi({"../node_modules/json-touch-patch/lib/get.js":function(e,t){"use strict";var n=ra(),r=ia();t.exports=function(e,t){var i=r(t),a=i[i.length-1],o=n(e,i);return o?o[a]:void 0}}}),oa=Mi({"../node_modules/json-touch-patch/lib/utils/deepEqual.js":function(e,t){"use strict";t.exports=function e(t,n){if(t===n)return!0;if(!t||!n||"object"!==typeof t||"object"!==typeof n)return!1;if(t.length!==n.length)return!1;if(Array.isArray(t)){if(!Array.isArray(n))return!1;for(var r=0,i=t.length;r<i;r++)if(!e(t[r],n[r]))return!1;return!0}var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;for(var o=0,s=a.length;o<s;o++){var u=a[o];if(!e(t[u],n[u]))return!1}return!0}}}),sa=Mi({"../node_modules/json-touch-patch/lib/utils/toArrayIndex.js":function(e,t){"use strict";t.exports=function(e,t){if("-"===t)return e.length;for(var n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);if(57<i||i<48)return 1/0}return+t}}}),ua=Mi({"../node_modules/json-touch-patch/lib/add.js":function(e,t){"use strict";var n=oa(),r=ra(),i=sa(),a=ia();t.exports=function(e,t,o,s){if("undefined"===typeof o)return"[op:add] require value, but got undefined";var u=a(t),l=u[u.length-1],c=r(e,u);if(null===c)return"[op:add] path not found: "+t;if(Array.isArray(c)){var d=i(c,l);if(c.length<d)return"[op:add] invalid array index: "+t;s(e,u).splice(d,0,o)}else n(c[l],o)||(s(e,u)[l]=o)}}}),la=Mi({"../node_modules/json-touch-patch/lib/remove.js":function(e,t){"use strict";var n=ra(),r=sa(),i=ia();t.exports=function(e,t,a){var o=i(t),s=o[o.length-1],u=n(e,o);if(null===u)return"[op:remove] path not found: "+t;if(Array.isArray(u)){var l=r(u,s);if(u.length<=l)return"[op:remove] invalid array index: "+t;a(e,o).splice(l,1)}else delete a(e,o)[s]}}}),ca=Mi({"../node_modules/json-touch-patch/lib/replace.js":function(e,t){"use strict";var n=oa(),r=ra(),i=sa(),a=ia();t.exports=function(e,t,o,s){if("undefined"===typeof o)return"[op:replace] require value, but got undefined";var u=a(t),l=u[u.length-1],c=r(e,u);if(null===c)return"[op:replace] path not found: "+t;if(Array.isArray(c)){var d=i(c,l);if(c.length<=d)return"[op:replace] invalid array index: "+t;n(c[d],o)||s(e,u).splice(d,1,o)}else n(c[l],o)||(s(e,u)[l]=o)}}}),da=Mi({"../node_modules/json-touch-patch/lib/move.js":function(e,t){"use strict";var n=ua(),r=ra(),i=sa(),a=ia();t.exports=function(e,t,o,s){if(o!==t){var u=a(t),l=u[u.length-1],c=r(e,u);if(null===c)return"[op:move] path not found: "+t;var d=void 0;if(Array.isArray(c)){var f=i(c,l);if(c.length<=f)return"[op:move] invalid array index: "+o;d=c[f],s(e,u).splice(f,1)}else d=c[l],delete s(e,u)[l];return n(e,o,d,s)}}}}),fa=Mi({"../node_modules/json-touch-patch/lib/copy.js":function(e,t){"use strict";var n=ra(),r=ia(),i=ua();t.exports=function(e,t,a,o){var s=r(t),u=s[s.length-1],l=n(e,s);return null===l?"[op:copy] path not found: "+t:i(e,a,l[u],o)}}}),pa=Mi({"../node_modules/json-touch-patch/lib/test.js":function(e,t){"use strict";var n=oa(),r=ra(),i=ia();t.exports=function(e,t,a){var o=i(t),s=o[o.length-1],u=r(e,o);return null===u?"[op:test] path not found: "+t:n(u[s],a)?void 0:"[op:test] not matched: "+JSON.stringify(u[s])+" "+JSON.stringify(a)}}}),ha=Mi({"../node_modules/json-touch-patch/lib/utils/shallowCopy.js":function(e,t){"use strict";t.exports=function(e){if(!e||"object"!==typeof e)return e;if(Array.isArray(e)){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e[r];return n}for(var i=Object.keys(e),a={},o=0,s=i.length;o<s;o++){var u=i[o];a[u]=e[u]}return a}}}),va=Mi({"../node_modules/json-touch-patch/lib/utils/createAPI.js":function(e,t){"use strict";var n=aa(),r=ua(),i=la(),a=ca(),o=da(),s=fa(),u=pa(),l=oa(),c=ha(),d=ia();t.exports=function(e,t){return{get:function(t){return n(e,t)},add:function(n,i){return r(e,n,i,t)},remove:function(n){return i(e,n,t)},replace:function(n,r){return a(e,n,r,t)},move:function(n,r){return o(e,n,r,t)},copy:function(n,r){return s(e,n,r,t)},test:function(t,n){return u(e,t,n)},deepEqual:l,shallowCopy:c,toKeys:d}}}}),ma=Mi({"../node_modules/json-touch-patch/lib/utils/exit.js":function(e,t){"use strict";t.exports=function(e,t,n,r){return r.error=n,r.partial?t[""]:e}}}),ga=Mi({"../node_modules/json-touch-patch/lib/utils/toBoolean.js":function(e,t){"use strict";t.exports=function(e){return!!e}}}),ya=Mi({"../node_modules/json-touch-patch/lib/utils/throwException.js":function(e,t){"use strict";t.exports=function(e){if(e)throw new TypeError(e)}}}),ba=Mi({"../node_modules/json-touch-patch/lib/utils/pluckWithShallowCopy.js":function(e,t){"use strict";var n=ha();t.exports=function(e,t){for(var r=0,i=t.length-1;r<i;r++)e=e[t[r]]=n(e[t[r]]);return e}}}),xa=Mi({"../node_modules/json-touch-patch/lib/utils/pluckWithCachedShallowCopy.js":function(e,t){"use strict";var n=ha();function r(e,t,r){var i=e[t];return r.has(i)||(i=n(i),r.add(i)),i}t.exports=function(e,t,n){for(var i=0,a=t.length-1;i<a;i++)e=e[t[i]]=r(e,t[i],n);return e}}}),wa=Mi({"../node_modules/json-touch-patch/lib/patch.js":function(e,t){"use strict";var n=va(),r=ma(),i=ga(),a=ya(),o=ba(),s=xa(),u=ua(),l=la(),c=ca(),d=da(),f=fa(),p=pa(),h=Set||function(){var e=[];return e.has=function(e){return-1!==this.indexOf(e)},e.add=function(e){this.push(e)},e};t.exports=function(e,t,v){if(0===t.length)return e;for(var m,g,y=(v=v||{}).strict?a:i,b=1===t.length?o:(m=new h,function(e,t){return s(e,t,m)}),x={"":e},w=0,_=t.length;w<_;w++){var S=t[w];switch(S.op){case"add":if(y(u(x,""+S.path,S.value,b)))return r(e,x,S,v);break;case"remove":if(y(l(x,""+S.path,b)))return r(e,x,S,v);break;case"replace":if(y(c(x,""+S.path,S.value,b)))return r(e,x,S,v);break;case"move":if(y(d(x,""+S.from,""+S.path,b)))return r(e,x,S,v);break;case"copy":if(y(f(x,""+S.from,""+S.path,b)))return r(e,x,S,v);break;case"test":if(y(p(x,""+S.path,S.value)))return r(e,x,S,v);break;default:if(!v.custom||!v.custom[S.op])return y("[op:"+S.op+"] unknown"),r(e,x,S,v);if(g=g||n(x,b),y(v.custom[S.op](g,S,w,t)))return r(e,x,S,v)}}return x[""]}}}),_a=Mi({"../node_modules/json-touch-patch/lib/index.js":function(e,t){t.exports=wa()}});function Sa(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var ka,Ea,Ma,Pa,Ta,Ca,Aa=Ei({"../node_modules/lodash-es/last.js":function(){Ui=Sa}});function Ia(e){return function(t,n){return e(t,n())}}function Ra(e){return Object.freeze({audience:Oa(e,8)?"internal":Oa(e,16)?"dev":"public",category:Oa(e,4)?"troubleshooting":Oa(e,2)?"todo":"general",level:Oa(e,512)?512:Oa(e,256)?256:Oa(e,128)?128:64})}function Oa(e,t){return(e&t)===t}function Da(e,t){return(32===(32&t)||(16===(16&t)?e.dev:8===(8&t)&&e.internal))&&e.min<=t}function La(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console,t=_i(wi({},Ca),{includes:wi({},Ca.includes)}),n={styled:za.bind(t,e),noStyle:Fa.bind(t,e)},r=Na.bind(t);function i(){return t.loggingConsoleStyle&&t.loggerConsoleStyle?n.styled:n.noStyle}return t.create=i(),{configureLogger:function(e){var n;"console"===e?(t.loggerConsoleStyle=Ca.loggerConsoleStyle,t.create=i()):"console"===e.type?(t.loggerConsoleStyle=null!=(n=e.style)?n:Ca.loggerConsoleStyle,t.create=i()):"keyed"===e.type?(t.creatExt=function(t){return e.keyed(t.names)},t.create=r):"named"===e.type&&(t.creatExt=ja.bind(null,e.named),t.create=r)},configureLogging:function(e){var n,r,a,o,s;t.includes.dev=null!=(n=e.dev)?n:Ca.includes.dev,t.includes.internal=null!=(r=e.internal)?r:Ca.includes.internal,t.includes.min=null!=(a=e.min)?a:Ca.includes.min,t.include=null!=(o=e.include)?o:Ca.include,t.loggingConsoleStyle=null!=(s=e.consoleStyle)?s:Ca.loggingConsoleStyle,t.create=i()},getLogger:function(){return t.create({names:[]})}}}function ja(e,t){var n,r=[],i=ui(t.names);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.name,s=a.key;r.push(null==s?o:"".concat(o," (").concat(s,")"))}}catch(u){i.e(u)}finally{i.f()}return e(r)}function Na(e){var t=wi(wi({},this.includes),this.include(e)),n=this.filtered,r=this.named.bind(this,e),i=this.creatExt(e),a=Da(t,524),o=Da(t,522),s=Da(t,521),u=Da(t,529),l=Da(t,545),c=Da(t,265),d=Da(t,268),f=Da(t,273),p=Da(t,289),h=Da(t,137),v=Da(t,145),m=Da(t,73),g=Da(t,81),y=a?i.error.bind(i,Ta._hmm):n.bind(e,524),b=o?i.error.bind(i,Ta._todo):n.bind(e,522),x=s?i.error.bind(i,Ta._error):n.bind(e,521),w=u?i.error.bind(i,Ta.errorDev):n.bind(e,529),_=l?i.error.bind(i,Ta.errorPublic):n.bind(e,545),S=d?i.warn.bind(i,Ta._kapow):n.bind(e,268),k=c?i.warn.bind(i,Ta._warn):n.bind(e,265),E=f?i.warn.bind(i,Ta.warnDev):n.bind(e,273),M=p?i.warn.bind(i,Ta.warnPublic):n.bind(e,273),P=h?i.debug.bind(i,Ta._debug):n.bind(e,137),T=v?i.debug.bind(i,Ta.debugDev):n.bind(e,145),C=m?i.trace.bind(i,Ta._trace):n.bind(e,73),A=g?i.trace.bind(i,Ta.traceDev):n.bind(e,81),I={_hmm:y,_todo:b,_error:x,errorDev:w,errorPublic:_,_kapow:S,_warn:k,warnDev:E,warnPublic:M,_debug:P,debugDev:T,_trace:C,traceDev:A,lazy:{_hmm:a?Ia(y):y,_todo:o?Ia(b):b,_error:s?Ia(x):x,errorDev:u?Ia(w):w,errorPublic:l?Ia(_):_,_kapow:d?Ia(S):S,_warn:c?Ia(k):k,warnDev:f?Ia(E):E,warnPublic:p?Ia(M):M,_debug:h?Ia(P):P,debugDev:v?Ia(T):T,_trace:m?Ia(C):C,traceDev:g?Ia(A):A},named:r,utilFor:{internal:function(){return{debug:I._debug,error:I._error,warn:I._warn,trace:I._trace,named:function(e,t){return I.named(e,t).utilFor.internal()}}},dev:function(){return{debug:I.debugDev,error:I.errorDev,warn:I.warnDev,trace:I.traceDev,named:function(e,t){return I.named(e,t).utilFor.dev()}}},public:function(){return{error:I.errorPublic,warn:I.warnPublic,debug:function(e,t){I._warn('(public "debug" filtered out) '.concat(e),t)},trace:function(e,t){I._warn('(public "trace" filtered out) '.concat(e),t)},named:function(e,t){return I.named(e,t).utilFor.public()}}}}};return I}function za(e,t){for(var n=wi(wi({},this.includes),this.include(t)),r=[],i="",a=0;a<t.names.length;a++){var o=t.names[a],s=o.name,u=o.key;if(i+=" %c".concat(s),r.push(this.style.css(s)),null!=u){var l="%c#".concat(u);i+=l,r.push(this.style.css(l))}}var c=this.filtered,d=this.named.bind(this,t),f=[i].concat(r);return Ba(c,t,n,e,f,function(e){for(var t=e.slice(0),n=1;n<t.length;n++)t[n]+=";background-color:#e0005a;padding:2px;color:white";return t}(f),d)}function Fa(e,t){for(var n=wi(wi({},this.includes),this.include(t)),r="",i=0;i<t.names.length;i++){var a=t.names[i],o=a.name,s=a.key;r+=" ".concat(o),null!=s&&(r+="#".concat(s))}var u=[r];return Ba(this.filtered,t,n,e,u,u,this.named.bind(this,t))}function Ba(e,t,n,r,i,a,o){var s,u,l,c,d,f,p,h,v,m,g,y,b,x=Da(n,524),w=Da(n,522),_=Da(n,521),S=Da(n,529),k=Da(n,545),E=Da(n,265),M=Da(n,268),P=Da(n,273),T=Da(n,289),C=Da(n,137),A=Da(n,145),I=Da(n,73),R=Da(n,81),O=x?(s=r.error).bind.apply(s,[r].concat(si(i))):e.bind(t,524),D=w?(u=r.error).bind.apply(u,[r].concat(si(i))):e.bind(t,522),L=_?(l=r.error).bind.apply(l,[r].concat(si(i))):e.bind(t,521),j=S?(c=r.error).bind.apply(c,[r].concat(si(i))):e.bind(t,529),N=k?(d=r.error).bind.apply(d,[r].concat(si(i))):e.bind(t,545),z=M?(f=r.warn).bind.apply(f,[r].concat(si(a))):e.bind(t,268),F=E?(p=r.warn).bind.apply(p,[r].concat(si(i))):e.bind(t,265),B=P?(h=r.warn).bind.apply(h,[r].concat(si(i))):e.bind(t,273),U=T?(v=r.warn).bind.apply(v,[r].concat(si(i))):e.bind(t,273),V=C?(m=r.info).bind.apply(m,[r].concat(si(i))):e.bind(t,137),H=A?(g=r.info).bind.apply(g,[r].concat(si(i))):e.bind(t,145),W=I?(y=r.debug).bind.apply(y,[r].concat(si(i))):e.bind(t,73),G=R?(b=r.debug).bind.apply(b,[r].concat(si(i))):e.bind(t,81),q={_hmm:O,_todo:D,_error:L,errorDev:j,errorPublic:N,_kapow:z,_warn:F,warnDev:B,warnPublic:U,_debug:V,debugDev:H,_trace:W,traceDev:G,lazy:{_hmm:x?Ia(O):O,_todo:w?Ia(D):D,_error:_?Ia(L):L,errorDev:S?Ia(j):j,errorPublic:k?Ia(N):N,_kapow:M?Ia(z):z,_warn:E?Ia(F):F,warnDev:P?Ia(B):B,warnPublic:T?Ia(U):U,_debug:C?Ia(V):V,debugDev:A?Ia(H):H,_trace:I?Ia(W):W,traceDev:R?Ia(G):G},named:o,utilFor:{internal:function(){return{debug:q._debug,error:q._error,warn:q._warn,trace:q._trace,named:function(e,t){return q.named(e,t).utilFor.internal()}}},dev:function(){return{debug:q.debugDev,error:q.errorDev,warn:q.warnDev,trace:q.traceDev,named:function(e,t){return q.named(e,t).utilFor.dev()}}},public:function(){return{error:q.errorPublic,warn:q.warnPublic,debug:function(e,t){q._warn('(public "debug" filtered out) '.concat(e),t)},trace:function(e,t){q._warn('(public "trace" filtered out) '.concat(e),t)},named:function(e,t){return q.named(e,t).utilFor.public()}}}}};return q}var Ua,Va,Ha=Ei({"shared/src/_logger/logger.ts":function(){var e,t,n,r;(e=ka||(ka={}))[e.GENERAL=1]="GENERAL",e[e.TODO=2]="TODO",e[e.TROUBLESHOOTING=4]="TROUBLESHOOTING",(t=Ea||(Ea={}))[t.INTERNAL=8]="INTERNAL",t[t.DEV=16]="DEV",t[t.PUBLIC=32]="PUBLIC",(n=Ma||(Ma={}))[n.TRACE=64]="TRACE",n[n.DEBUG=128]="DEBUG",n[n.WARN=256]="WARN",n[n.ERROR=512]="ERROR",(r=Pa||(Pa={}))[r.ERROR_PUBLIC=545]="ERROR_PUBLIC",r[r.ERROR_DEV=529]="ERROR_DEV",r[r._HMM=524]="_HMM",r[r._TODO=522]="_TODO",r[r._ERROR=521]="_ERROR",r[r.WARN_PUBLIC=289]="WARN_PUBLIC",r[r.WARN_DEV=273]="WARN_DEV",r[r._KAPOW=268]="_KAPOW",r[r._WARN=265]="_WARN",r[r.DEBUG_DEV=145]="DEBUG_DEV",r[r._DEBUG=137]="_DEBUG",r[r.TRACE_DEV=81]="TRACE_DEV",r[r._TRACE=73]="_TRACE",Ta={_hmm:Ra(524),_todo:Ra(522),_error:Ra(521),errorDev:Ra(529),errorPublic:Ra(545),_kapow:Ra(268),_warn:Ra(265),warnDev:Ra(273),warnPublic:Ra(289),_debug:Ra(137),debugDev:Ra(145),_trace:Ra(73),traceDev:Ra(81)},Ca={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named:function(e,t,n){return this.create({names:[].concat(si(e.names),[{name:t,key:n}])})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed:function(e){if(e.length<5)return e;var t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css:function(e){var t,n,r,i,a=this.cssMemo.get(e);if(a)return a;var o="color:".concat(null!=(n=null==(t=this.color)?void 0:t.call(this,e))?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(null==(r=this.bold)?void 0:r.test(e))&&(o+=";font-weight:600"),(null==(i=this.italic)?void 0:i.test(e))&&(o+=";font-style:italic"),this.cssMemo.set(e,o),o}}}}}),Wa=Ei({"shared/src/logger.ts":function(){Ha(),Ha(),(Ua=La(console,{_debug:function(){},_error:function(){}})).configureLogging({dev:!0,min:Ma.TRACE}),Va=Ua.getLogger().named("Theatre.js (default logger)").utilFor.dev()}});function Ga(e){var t=new WeakMap;return function(n){return t.has(n)||t.set(n,e(n)),t.get(n)}}var qa,Ka,Xa=Ei({"shared/src/utils/memoizeFn.ts":function(){}});function Ya(e){for(var t,n=[];;){var r=n.length,i=null==(t=e[0])?void 0:t[r];if(void 0===i)return n;var a,o=ui(e);try{for(o.s();!(a=o.n()).done;){if(i!==a.value[r])return n}}catch(s){o.e(s)}finally{o.f()}n.push(i)}}var $a,Za,Qa,Ja,eo,to,no,ro,io,ao,oo,so,uo=Ei({"shared/src/utils/addresses.ts":function(){Xa(),qa=Ga((function(e){return JSON.stringify(e)})),Ka=function(e){return JSON.parse(e)}}}),lo=Ei({"../node_modules/lodash-es/_freeGlobal.js":function(){$a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Za=$a}}),co=Ei({"../node_modules/lodash-es/_root.js":function(){lo(),Qa="object"==typeof self&&self&&self.Object===Object&&self,Ja=Za||Qa||Function("return this")(),eo=Ja}}),fo=Ei({"../node_modules/lodash-es/_Symbol.js":function(){co(),to=eo.Symbol,no=to}});function po(e){var t=io.call(e,oo),n=e[oo];try{e[oo]=void 0;var r=!0}catch(a){}var i=ao.call(e);return r&&(t?e[oo]=n:delete e[oo]),i}var ho,vo,mo,go=Ei({"../node_modules/lodash-es/_getRawTag.js":function(){fo(),ro=Object.prototype,io=ro.hasOwnProperty,ao=ro.toString,oo=no?no.toStringTag:void 0,so=po}});function yo(e){return vo.call(e)}var bo,xo,wo,_o,So=Ei({"../node_modules/lodash-es/_objectToString.js":function(){ho=Object.prototype,vo=ho.toString,mo=yo}});function ko(e){return null==e?void 0===e?xo:bo:wo&&wo in Object(e)?so(e):mo(e)}var Eo,Mo=Ei({"../node_modules/lodash-es/_baseGetTag.js":function(){fo(),go(),So(),bo="[object Null]",xo="[object Undefined]",wo=no?no.toStringTag:void 0,_o=ko}});function Po(e){return null!=e&&"object"==typeof e}var To,Co,Ao=Ei({"../node_modules/lodash-es/isObjectLike.js":function(){Eo=Po}});function Io(e){return"symbol"==typeof e||Eo(e)&&_o(e)==To}var Ro,Oo=Ei({"../node_modules/lodash-es/isSymbol.js":function(){Mo(),Ao(),To="[object Symbol]",Co=Io}});function Do(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Lo,jo,No,zo,Fo,Bo,Uo=Ei({"../node_modules/lodash-es/_arrayMap.js":function(){Ro=Do}}),Vo=Ei({"../node_modules/lodash-es/isArray.js":function(){Lo=Array.isArray,jo=Lo}});function Ho(e){if("string"==typeof e)return e;if(jo(e))return Ro(e,Ho)+"";if(Co(e))return Fo?Fo.call(e):"";var t=e+"";return"0"==t&&1/e==-No?"-0":t}var Wo,Go,qo=Ei({"../node_modules/lodash-es/_baseToString.js":function(){fo(),Uo(),Vo(),Oo(),No=1/0,zo=no?no.prototype:void 0,Fo=zo?zo.toString:void 0,Bo=Ho}});function Ko(e){for(var t=e.length;t--&&Wo.test(e.charAt(t)););return t}var Xo,Yo,$o=Ei({"../node_modules/lodash-es/_trimmedEndIndex.js":function(){Wo=/\s/,Go=Ko}});function Zo(e){return e?e.slice(0,Go(e)+1).replace(Xo,""):e}var Qo,Jo=Ei({"../node_modules/lodash-es/_baseTrim.js":function(){$o(),Xo=/^\s+/,Yo=Zo}});function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var ts,ns,rs,is,as,os,ss=Ei({"../node_modules/lodash-es/isObject.js":function(){Qo=es}});function us(e){if("number"==typeof e)return e;if(Co(e))return ts;if(Qo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yo(e);var n=rs.test(e);return n||is.test(e)?as(e.slice(2),n?2:8):ns.test(e)?ts:+e}var ls,cs,ds,fs=Ei({"../node_modules/lodash-es/toNumber.js":function(){Jo(),ss(),Oo(),ts=NaN,ns=/^[-+]0x[0-9a-f]+$/i,rs=/^0b[01]+$/i,is=/^0o[0-7]+$/i,as=parseInt,os=us}});function ps(e){return e?(e=os(e))===ls||e===-ls?(e<0?-1:1)*cs:e===e?e:0:0===e?e:0}var hs,vs=Ei({"../node_modules/lodash-es/toFinite.js":function(){fs(),ls=1/0,cs=17976931348623157e292,ds=ps}});function ms(e){var t=ds(e),n=t%1;return t===t?n?t-n:t:0}var gs,ys=Ei({"../node_modules/lodash-es/toInteger.js":function(){vs(),hs=ms}});function bs(e){return e}var xs,ws,_s,Ss,ks,Es=Ei({"../node_modules/lodash-es/identity.js":function(){gs=bs}});function Ms(e){if(!Qo(e))return!1;var t=_o(e);return t==ws||t==_s||t==xs||t==Ss}var Ps,Ts,Cs,As,Is=Ei({"../node_modules/lodash-es/isFunction.js":function(){Mo(),ss(),xs="[object AsyncFunction]",ws="[object Function]",_s="[object GeneratorFunction]",Ss="[object Proxy]",ks=Ms}}),Rs=Ei({"../node_modules/lodash-es/_coreJsData.js":function(){co(),Ps=eo["__core-js_shared__"],Ts=Ps}});function Os(e){return!!Cs&&Cs in e}var Ds,Ls,js,Ns=Ei({"../node_modules/lodash-es/_isMasked.js":function(){Rs(),Cs=function(){var e=/[^.]+$/.exec(Ts&&Ts.keys&&Ts.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),As=Os}});function zs(e){if(null!=e){try{return Ls.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Fs,Bs,Us,Vs,Hs,Ws,Gs,qs,Ks=Ei({"../node_modules/lodash-es/_toSource.js":function(){Ds=Function.prototype,Ls=Ds.toString,js=zs}});function Xs(e){return!(!Qo(e)||As(e))&&(ks(e)?Gs:Bs).test(js(e))}var Ys,$s=Ei({"../node_modules/lodash-es/_baseIsNative.js":function(){Is(),Ns(),ss(),Ks(),Fs=/[\\^$.*+?()[\]{}|]/g,Bs=/^\[object .+?Constructor\]$/,Us=Function.prototype,Vs=Object.prototype,Hs=Us.toString,Ws=Vs.hasOwnProperty,Gs=RegExp("^"+Hs.call(Ws).replace(Fs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qs=Xs}});function Zs(e,t){return null==e?void 0:e[t]}var Qs,Js=Ei({"../node_modules/lodash-es/_getValue.js":function(){Ys=Zs}});function eu(e,t){var n=Ys(e,t);return qs(n)?n:void 0}var tu,nu,ru,iu=Ei({"../node_modules/lodash-es/_getNative.js":function(){$s(),Js(),Qs=eu}}),au=Ei({"../node_modules/lodash-es/_WeakMap.js":function(){iu(),co(),tu=Qs(eo,"WeakMap"),nu=tu}});function ou(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var su,uu=Ei({"../node_modules/lodash-es/_apply.js":function(){ru=ou}});function lu(){}var cu,du=Ei({"../node_modules/lodash-es/noop.js":function(){su=lu}});function fu(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var pu,hu,vu,mu,gu=Ei({"../node_modules/lodash-es/_copyArray.js":function(){cu=fu}});function yu(e){var t=0,n=0;return function(){var r=vu(),i=hu-(r-n);if(n=r,i>0){if(++t>=pu)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var bu,xu=Ei({"../node_modules/lodash-es/_shortOut.js":function(){pu=800,hu=16,vu=Date.now,mu=yu}});function wu(e){return function(){return e}}var _u,Su,ku,Eu,Mu,Pu,Tu=Ei({"../node_modules/lodash-es/constant.js":function(){bu=wu}}),Cu=Ei({"../node_modules/lodash-es/_defineProperty.js":function(){iu(),_u=function(){try{var e=Qs(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Su=_u}}),Au=Ei({"../node_modules/lodash-es/_baseSetToString.js":function(){Tu(),Cu(),Es(),ku=Su?function(e,t){return Su(e,"toString",{configurable:!0,enumerable:!1,value:bu(t),writable:!0})}:gs}}),Iu=Ei({"../node_modules/lodash-es/_setToString.js":function(){Au(),xu(),Eu=mu(ku),Mu=Eu}});function Ru(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Ou,Du=Ei({"../node_modules/lodash-es/_baseFindIndex.js":function(){Pu=Ru}});function Lu(e){return e!==e}var ju,Nu=Ei({"../node_modules/lodash-es/_baseIsNaN.js":function(){Ou=Lu}});function zu(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var Fu,Bu=Ei({"../node_modules/lodash-es/_strictIndexOf.js":function(){ju=zu}});function Uu(e,t,n){return t===t?ju(e,t,n):Pu(e,Ou,n)}var Vu,Hu=Ei({"../node_modules/lodash-es/_baseIndexOf.js":function(){Du(),Nu(),Bu(),Fu=Uu}});function Wu(e,t){return!!(null==e?0:e.length)&&Fu(e,t,0)>-1}var Gu,qu,Ku,Xu=Ei({"../node_modules/lodash-es/_arrayIncludes.js":function(){Hu(),Vu=Wu}});function Yu(e,t){var n=typeof e;return!!(t=null==t?Gu:t)&&("number"==n||"symbol"!=n&&qu.test(e))&&e>-1&&e%1==0&&e<t}var $u,Zu=Ei({"../node_modules/lodash-es/_isIndex.js":function(){Gu=9007199254740991,qu=/^(?:0|[1-9]\d*)$/,Ku=Yu}});function Qu(e,t,n){"__proto__"==t&&Su?Su(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Ju,el=Ei({"../node_modules/lodash-es/_baseAssignValue.js":function(){Cu(),$u=Qu}});function tl(e,t){return e===t||e!==e&&t!==t}var nl,rl,il,al=Ei({"../node_modules/lodash-es/eq.js":function(){Ju=tl}});function ol(e,t,n){var r=e[t];rl.call(e,t)&&Ju(r,n)&&(void 0!==n||t in e)||$u(e,t,n)}var sl,ul,ll=Ei({"../node_modules/lodash-es/_assignValue.js":function(){el(),al(),nl=Object.prototype,rl=nl.hasOwnProperty,il=ol}});function cl(e,t,n){return t=sl(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=sl(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),ru(e,this,s)}}var dl,fl=Ei({"../node_modules/lodash-es/_overRest.js":function(){uu(),sl=Math.max,ul=cl}});function pl(e,t){return Mu(ul(e,t,gs),e+"")}var hl,vl,ml=Ei({"../node_modules/lodash-es/_baseRest.js":function(){Es(),fl(),Iu(),dl=pl}});function gl(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=hl}var yl,bl=Ei({"../node_modules/lodash-es/isLength.js":function(){hl=9007199254740991,vl=gl}});function xl(e){return null!=e&&vl(e.length)&&!ks(e)}var wl,_l=Ei({"../node_modules/lodash-es/isArrayLike.js":function(){Is(),bl(),yl=xl}});function Sl(e,t,n){if(!Qo(n))return!1;var r=typeof t;return!!("number"==r?yl(n)&&Ku(t,n.length):"string"==r&&t in n)&&Ju(n[t],e)}var kl,El,Ml=Ei({"../node_modules/lodash-es/_isIterateeCall.js":function(){al(),_l(),Zu(),ss(),wl=Sl}});function Pl(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||kl)}var Tl,Cl=Ei({"../node_modules/lodash-es/_isPrototype.js":function(){kl=Object.prototype,El=Pl}});function Al(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Il,Rl,Ol=Ei({"../node_modules/lodash-es/_baseTimes.js":function(){Tl=Al}});function Dl(e){return Eo(e)&&_o(e)==Il}var Ll,jl,Nl,zl,Fl,Bl,Ul=Ei({"../node_modules/lodash-es/_baseIsArguments.js":function(){Mo(),Ao(),Il="[object Arguments]",Rl=Dl}}),Vl=Ei({"../node_modules/lodash-es/isArguments.js":function(){Ul(),Ao(),Ll=Object.prototype,jl=Ll.hasOwnProperty,Nl=Ll.propertyIsEnumerable,zl=Rl(function(){return arguments}())?Rl:function(e){return Eo(e)&&jl.call(e,"callee")&&!Nl.call(e,"callee")},Fl=zl}});function Hl(){return!1}var Wl,Gl,ql,Kl,Xl,Yl,$l,Zl,Ql=Ei({"../node_modules/lodash-es/stubFalse.js":function(){Bl=Hl}}),Jl=Ei({"../node_modules/lodash-es/isBuffer.js":function(){co(),Ql(),Wl=t&&!t.nodeType&&t,Gl=Wl&&e&&!e.nodeType&&e,ql=Gl&&Gl.exports===Wl,Kl=ql?eo.Buffer:void 0,Xl=Kl?Kl.isBuffer:void 0,Yl=Xl||Bl}});function ec(e){return Eo(e)&&vl(e.length)&&!!$l[_o(e)]}var tc,nc=Ei({"../node_modules/lodash-es/_baseIsTypedArray.js":function(){Mo(),bl(),Ao(),"[object Arguments]","[object Array]","[object Boolean]","[object Date]","[object Error]","[object Function]","[object Map]","[object Number]","[object Object]","[object RegExp]","[object Set]","[object String]","[object WeakMap]","[object ArrayBuffer]","[object DataView]","[object Float32Array]","[object Float64Array]","[object Int8Array]","[object Int16Array]","[object Int32Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Uint16Array]","[object Uint32Array]",($l={})["[object Float32Array]"]=$l["[object Float64Array]"]=$l["[object Int8Array]"]=$l["[object Int16Array]"]=$l["[object Int32Array]"]=$l["[object Uint8Array]"]=$l["[object Uint8ClampedArray]"]=$l["[object Uint16Array]"]=$l["[object Uint32Array]"]=!0,$l["[object Arguments]"]=$l["[object Array]"]=$l["[object ArrayBuffer]"]=$l["[object Boolean]"]=$l["[object DataView]"]=$l["[object Date]"]=$l["[object Error]"]=$l["[object Function]"]=$l["[object Map]"]=$l["[object Number]"]=$l["[object Object]"]=$l["[object RegExp]"]=$l["[object Set]"]=$l["[object String]"]=$l["[object WeakMap]"]=!1,Zl=ec}});function rc(e){return function(t){return e(t)}}var ic,ac,oc,sc,uc,lc,cc,dc,fc,pc,hc,vc,mc=Ei({"../node_modules/lodash-es/_baseUnary.js":function(){tc=rc}}),gc=Ei({"../node_modules/lodash-es/_nodeUtil.js":function(){lo(),ic=t&&!t.nodeType&&t,ac=ic&&e&&!e.nodeType&&e,oc=ac&&ac.exports===ic,sc=oc&&Za.process,uc=function(){try{var e=ac&&ac.require&&ac.require("util").types;return e||sc&&sc.binding&&sc.binding("util")}catch(t){}}(),lc=uc}}),yc=Ei({"../node_modules/lodash-es/isTypedArray.js":function(){nc(),mc(),gc(),cc=lc&&lc.isTypedArray,dc=cc?tc(cc):Zl,fc=dc}});function bc(e,t){var n=jo(e),r=!n&&Fl(e),i=!n&&!r&&Yl(e),a=!n&&!r&&!i&&fc(e),o=n||r||i||a,s=o?Tl(e.length,String):[],u=s.length;for(var l in e)!t&&!hc.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ku(l,u))||s.push(l);return s}var xc,wc=Ei({"../node_modules/lodash-es/_arrayLikeKeys.js":function(){Ol(),Vl(),Vo(),Jl(),Zu(),yc(),pc=Object.prototype,hc=pc.hasOwnProperty,vc=bc}});function _c(e,t){return function(n){return e(t(n))}}var Sc,kc,Ec,Mc,Pc,Tc=Ei({"../node_modules/lodash-es/_overArg.js":function(){xc=_c}}),Cc=Ei({"../node_modules/lodash-es/_nativeKeys.js":function(){Tc(),Sc=xc(Object.keys,Object),kc=Sc}});function Ac(e){if(!El(e))return kc(e);var t=[];for(var n in Object(e))Mc.call(e,n)&&"constructor"!=n&&t.push(n);return t}var Ic,Rc=Ei({"../node_modules/lodash-es/_baseKeys.js":function(){Cl(),Cc(),Ec=Object.prototype,Mc=Ec.hasOwnProperty,Pc=Ac}});function Oc(e){return yl(e)?vc(e):Pc(e)}var Dc,Lc,jc,Nc=Ei({"../node_modules/lodash-es/keys.js":function(){wc(),Rc(),_l(),Ic=Oc}});function zc(e,t){if(jo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Co(e))||(Lc.test(e)||!Dc.test(e)||null!=t&&e in Object(t))}var Fc,Bc,Uc,Vc=Ei({"../node_modules/lodash-es/_isKey.js":function(){Vo(),Oo(),Dc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lc=/^\w*$/,jc=zc}}),Hc=Ei({"../node_modules/lodash-es/_nativeCreate.js":function(){iu(),Fc=Qs(Object,"create"),Bc=Fc}});function Wc(){this.__data__=Bc?Bc(null):{},this.size=0}var Gc,qc=Ei({"../node_modules/lodash-es/_hashClear.js":function(){Hc(),Uc=Wc}});function Kc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xc,Yc,$c,Zc,Qc=Ei({"../node_modules/lodash-es/_hashDelete.js":function(){Gc=Kc}});function Jc(e){var t=this.__data__;if(Bc){var n=t[e];return n===Xc?void 0:n}return $c.call(t,e)?t[e]:void 0}var ed,td,nd,rd=Ei({"../node_modules/lodash-es/_hashGet.js":function(){Hc(),Xc="__lodash_hash_undefined__",Yc=Object.prototype,$c=Yc.hasOwnProperty,Zc=Jc}});function id(e){var t=this.__data__;return Bc?void 0!==t[e]:td.call(t,e)}var ad,od,sd=Ei({"../node_modules/lodash-es/_hashHas.js":function(){Hc(),ed=Object.prototype,td=ed.hasOwnProperty,nd=id}});function ud(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Bc&&void 0===t?ad:t,this}var ld,cd=Ei({"../node_modules/lodash-es/_hashSet.js":function(){Hc(),ad="__lodash_hash_undefined__",od=ud}});function dd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var fd,pd=Ei({"../node_modules/lodash-es/_Hash.js":function(){qc(),Qc(),rd(),sd(),cd(),dd.prototype.clear=Uc,dd.prototype.delete=Gc,dd.prototype.get=Zc,dd.prototype.has=nd,dd.prototype.set=od,ld=dd}});function hd(){this.__data__=[],this.size=0}var vd,md=Ei({"../node_modules/lodash-es/_listCacheClear.js":function(){fd=hd}});function gd(e,t){for(var n=e.length;n--;)if(Ju(e[n][0],t))return n;return-1}var yd,bd,xd,wd=Ei({"../node_modules/lodash-es/_assocIndexOf.js":function(){al(),vd=gd}});function _d(e){var t=this.__data__,n=vd(t,e);return!(n<0)&&(n==t.length-1?t.pop():bd.call(t,n,1),--this.size,!0)}var Sd,kd=Ei({"../node_modules/lodash-es/_listCacheDelete.js":function(){wd(),yd=Array.prototype,bd=yd.splice,xd=_d}});function Ed(e){var t=this.__data__,n=vd(t,e);return n<0?void 0:t[n][1]}var Md,Pd=Ei({"../node_modules/lodash-es/_listCacheGet.js":function(){wd(),Sd=Ed}});function Td(e){return vd(this.__data__,e)>-1}var Cd,Ad=Ei({"../node_modules/lodash-es/_listCacheHas.js":function(){wd(),Md=Td}});function Id(e,t){var n=this.__data__,r=vd(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Rd,Od=Ei({"../node_modules/lodash-es/_listCacheSet.js":function(){wd(),Cd=Id}});function Dd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var Ld,jd,Nd,zd=Ei({"../node_modules/lodash-es/_ListCache.js":function(){md(),kd(),Pd(),Ad(),Od(),Dd.prototype.clear=fd,Dd.prototype.delete=xd,Dd.prototype.get=Sd,Dd.prototype.has=Md,Dd.prototype.set=Cd,Rd=Dd}}),Fd=Ei({"../node_modules/lodash-es/_Map.js":function(){iu(),co(),Ld=Qs(eo,"Map"),jd=Ld}});function Bd(){this.size=0,this.__data__={hash:new ld,map:new(jd||Rd),string:new ld}}var Ud,Vd=Ei({"../node_modules/lodash-es/_mapCacheClear.js":function(){pd(),zd(),Fd(),Nd=Bd}});function Hd(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var Wd,Gd=Ei({"../node_modules/lodash-es/_isKeyable.js":function(){Ud=Hd}});function qd(e,t){var n=e.__data__;return Ud(t)?n["string"==typeof t?"string":"hash"]:n.map}var Kd,Xd=Ei({"../node_modules/lodash-es/_getMapData.js":function(){Gd(),Wd=qd}});function Yd(e){var t=Wd(this,e).delete(e);return this.size-=t?1:0,t}var $d,Zd=Ei({"../node_modules/lodash-es/_mapCacheDelete.js":function(){Xd(),Kd=Yd}});function Qd(e){return Wd(this,e).get(e)}var Jd,ef=Ei({"../node_modules/lodash-es/_mapCacheGet.js":function(){Xd(),$d=Qd}});function tf(e){return Wd(this,e).has(e)}var nf,rf=Ei({"../node_modules/lodash-es/_mapCacheHas.js":function(){Xd(),Jd=tf}});function af(e,t){var n=Wd(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var of,sf=Ei({"../node_modules/lodash-es/_mapCacheSet.js":function(){Xd(),nf=af}});function uf(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var lf,cf,df=Ei({"../node_modules/lodash-es/_MapCache.js":function(){Vd(),Zd(),ef(),rf(),sf(),uf.prototype.clear=Nd,uf.prototype.delete=Kd,uf.prototype.get=$d,uf.prototype.has=Jd,uf.prototype.set=nf,of=uf}});function ff(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(lf);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(ff.Cache||of),n}var pf,hf,vf=Ei({"../node_modules/lodash-es/memoize.js":function(){df(),lf="Expected a function",ff.Cache=of,cf=ff}});function mf(e){var t=cf(e,(function(e){return n.size===pf&&n.clear(),e})),n=t.cache;return t}var gf,yf,bf,xf,wf,_f=Ei({"../node_modules/lodash-es/_memoizeCapped.js":function(){vf(),pf=500,hf=mf}}),Sf=Ei({"../node_modules/lodash-es/_stringToPath.js":function(){_f(),gf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yf=/\\(\\)?/g,bf=hf((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(gf,(function(e,n,r,i){t.push(r?i.replace(yf,"$1"):n||e)})),t})),xf=bf}});function kf(e){return null==e?"":Bo(e)}var Ef,Mf=Ei({"../node_modules/lodash-es/toString.js":function(){qo(),wf=kf}});function Pf(e,t){return jo(e)?e:jc(e,t)?[e]:xf(wf(e))}var Tf,Cf,Af=Ei({"../node_modules/lodash-es/_castPath.js":function(){Vo(),Vc(),Sf(),Mf(),Ef=Pf}});function If(e){if("string"==typeof e||Co(e))return e;var t=e+"";return"0"==t&&1/e==-Tf?"-0":t}var Rf,Of=Ei({"../node_modules/lodash-es/_toKey.js":function(){Oo(),Tf=1/0,Cf=If}});function Df(e,t){for(var n=0,r=(t=Ef(t,e)).length;null!=e&&n<r;)e=e[Cf(t[n++])];return n&&n==r?e:void 0}var Lf,jf=Ei({"../node_modules/lodash-es/_baseGet.js":function(){Af(),Of(),Rf=Df}});function Nf(e,t,n){var r=null==e?void 0:Rf(e,t);return void 0===r?n:r}var zf,Ff=Ei({"../node_modules/lodash-es/get.js":function(){jf(),Lf=Nf}});function Bf(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Uf,Vf,Hf=Ei({"../node_modules/lodash-es/_arrayPush.js":function(){zf=Bf}});function Wf(e){return jo(e)||Fl(e)||!!(Uf&&e&&e[Uf])}var Gf,qf=Ei({"../node_modules/lodash-es/_isFlattenable.js":function(){fo(),Vl(),Vo(),Uf=no?no.isConcatSpreadable:void 0,Vf=Wf}});function Kf(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Vf),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?Kf(s,t-1,n,r,i):zf(i,s):r||(i[i.length]=s)}return i}var Xf,Yf,$f,Zf,Qf,Jf,ep,tp,np,rp=Ei({"../node_modules/lodash-es/_baseFlatten.js":function(){Hf(),qf(),Gf=Kf}}),ip=Ei({"../node_modules/lodash-es/_getPrototype.js":function(){Tc(),Xf=xc(Object.getPrototypeOf,Object),Yf=Xf}});function ap(e){if(!Eo(e)||_o(e)!=$f)return!1;var t=Yf(e);if(null===t)return!0;var n=ep.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Jf.call(n)==tp}var op,sp,up,lp=Ei({"../node_modules/lodash-es/isPlainObject.js":function(){Mo(),ip(),Ao(),$f="[object Object]",Zf=Function.prototype,Qf=Object.prototype,Jf=Zf.toString,ep=Qf.hasOwnProperty,tp=Jf.call(Object),np=ap}});function cp(e){var t=Math[e];return function(e,n){if(e=os(e),(n=null==n?0:sp(hs(n),292))&&op(e)){var r=(wf(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return+((r=(wf(i)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var dp,fp=Ei({"../node_modules/lodash-es/_createRound.js":function(){co(),ys(),fs(),Mf(),op=eo.isFinite,sp=Math.min,up=cp}});function pp(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}var hp,vp=Ei({"../node_modules/lodash-es/_baseClamp.js":function(){dp=pp}});function mp(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=os(n))===n?n:0),void 0!==t&&(t=(t=os(t))===t?t:0),dp(os(e),t,n)}var gp,yp=Ei({"../node_modules/lodash-es/clamp.js":function(){vp(),fs(),hp=mp}});function bp(){this.__data__=new Rd,this.size=0}var xp,wp=Ei({"../node_modules/lodash-es/_stackClear.js":function(){zd(),gp=bp}});function _p(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Sp,kp=Ei({"../node_modules/lodash-es/_stackDelete.js":function(){xp=_p}});function Ep(e){return this.__data__.get(e)}var Mp,Pp=Ei({"../node_modules/lodash-es/_stackGet.js":function(){Sp=Ep}});function Tp(e){return this.__data__.has(e)}var Cp,Ap,Ip=Ei({"../node_modules/lodash-es/_stackHas.js":function(){Mp=Tp}});function Rp(e,t){var n=this.__data__;if(n instanceof Rd){var r=n.__data__;if(!jd||r.length<Cp-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new of(r)}return n.set(e,t),this.size=n.size,this}var Op,Dp=Ei({"../node_modules/lodash-es/_stackSet.js":function(){zd(),Fd(),df(),Cp=200,Ap=Rp}});function Lp(e){var t=this.__data__=new Rd(e);this.size=t.size}var jp,Np=Ei({"../node_modules/lodash-es/_Stack.js":function(){zd(),wp(),kp(),Pp(),Ip(),Dp(),Lp.prototype.clear=gp,Lp.prototype.delete=xp,Lp.prototype.get=Sp,Lp.prototype.has=Mp,Lp.prototype.set=Ap,Op=Lp}});function zp(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Fp,Bp=Ei({"../node_modules/lodash-es/_arrayFilter.js":function(){jp=zp}});function Up(){return[]}var Vp,Hp,Wp,Gp,qp,Kp=Ei({"../node_modules/lodash-es/stubArray.js":function(){Fp=Up}}),Xp=Ei({"../node_modules/lodash-es/_getSymbols.js":function(){Bp(),Kp(),Vp=Object.prototype,Hp=Vp.propertyIsEnumerable,Wp=Object.getOwnPropertySymbols,Gp=Wp?function(e){return null==e?[]:(e=Object(e),jp(Wp(e),(function(t){return Hp.call(e,t)})))}:Fp}});function Yp(e,t,n){var r=t(e);return jo(e)?r:zf(r,n(e))}var $p,Zp=Ei({"../node_modules/lodash-es/_baseGetAllKeys.js":function(){Hf(),Vo(),qp=Yp}});function Qp(e){return qp(e,Ic,Gp)}var Jp,eh,th,nh,rh,ih,ah,oh,sh,uh,lh,ch,dh,fh,ph,hh,vh,mh,gh,yh,bh,xh,wh=Ei({"../node_modules/lodash-es/_getAllKeys.js":function(){Zp(),Xp(),Nc(),$p=Qp}}),_h=Ei({"../node_modules/lodash-es/_DataView.js":function(){iu(),co(),Jp=Qs(eo,"DataView"),eh=Jp}}),Sh=Ei({"../node_modules/lodash-es/_Promise.js":function(){iu(),co(),th=Qs(eo,"Promise"),nh=th}}),kh=Ei({"../node_modules/lodash-es/_Set.js":function(){iu(),co(),rh=Qs(eo,"Set"),ih=rh}}),Eh=Ei({"../node_modules/lodash-es/_getTag.js":function(){_h(),Fd(),Sh(),kh(),au(),Mo(),Ks(),ah="[object Map]","[object Object]",oh="[object Promise]",sh="[object Set]",uh="[object WeakMap]",lh="[object DataView]",ch=js(eh),dh=js(jd),fh=js(nh),ph=js(ih),hh=js(nu),vh=_o,(eh&&vh(new eh(new ArrayBuffer(1)))!=lh||jd&&vh(new jd)!=ah||nh&&vh(nh.resolve())!=oh||ih&&vh(new ih)!=sh||nu&&vh(new nu)!=uh)&&(vh=function(e){var t=_o(e),n="[object Object]"==t?e.constructor:void 0,r=n?js(n):"";if(r)switch(r){case ch:return lh;case dh:return ah;case fh:return oh;case ph:return sh;case hh:return uh}return t}),mh=vh}}),Mh=Ei({"../node_modules/lodash-es/_Uint8Array.js":function(){co(),gh=eo.Uint8Array,yh=gh}});function Ph(e){return this.__data__.set(e,bh),this}var Th,Ch=Ei({"../node_modules/lodash-es/_setCacheAdd.js":function(){bh="__lodash_hash_undefined__",xh=Ph}});function Ah(e){return this.__data__.has(e)}var Ih,Rh=Ei({"../node_modules/lodash-es/_setCacheHas.js":function(){Th=Ah}});function Oh(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new of;++t<n;)this.add(e[t])}var Dh,Lh=Ei({"../node_modules/lodash-es/_SetCache.js":function(){df(),Ch(),Rh(),Oh.prototype.add=Oh.prototype.push=xh,Oh.prototype.has=Th,Ih=Oh}});function jh(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Nh,zh=Ei({"../node_modules/lodash-es/_arraySome.js":function(){Dh=jh}});function Fh(e,t){return e.has(t)}var Bh,Uh,Vh,Hh=Ei({"../node_modules/lodash-es/_cacheHas.js":function(){Nh=Fh}});function Wh(e,t,n,r,i,a){var o=n&Bh,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),c=a.get(t);if(l&&c)return l==t&&c==e;var d=-1,f=!0,p=n&Uh?new Ih:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var h=e[d],v=t[d];if(r)var m=o?r(v,h,d,t,e,a):r(h,v,d,e,t,a);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!Dh(t,(function(e,t){if(!Nh(p,t)&&(h===e||i(h,e,n,r,a)))return p.push(t)}))){f=!1;break}}else if(h!==v&&!i(h,v,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}var Gh,qh=Ei({"../node_modules/lodash-es/_equalArrays.js":function(){Lh(),zh(),Hh(),Bh=1,Uh=2,Vh=Wh}});function Kh(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var Xh,Yh=Ei({"../node_modules/lodash-es/_mapToArray.js":function(){Gh=Kh}});function $h(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Zh,Qh,Jh,ev,tv,nv,rv,iv,av,ov,sv,uv,lv,cv,dv,fv,pv=Ei({"../node_modules/lodash-es/_setToArray.js":function(){Xh=$h}});function hv(e,t,n,r,i,a,o){switch(n){case lv:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case uv:return!(e.byteLength!=t.byteLength||!a(new yh(e),new yh(t)));case Jh:case ev:case rv:return Ju(+e,+t);case tv:return e.name==t.name&&e.message==t.message;case iv:case ov:return e==t+"";case nv:var s=Gh;case av:var u=r&Zh;if(s||(s=Xh),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=Qh,o.set(e,t);var c=Vh(s(e),s(t),r,i,a,o);return o.delete(e),c;case sv:if(dv)return dv.call(e)==dv.call(t)}return!1}var vv,mv,gv,yv,bv=Ei({"../node_modules/lodash-es/_equalByTag.js":function(){fo(),Mh(),al(),qh(),Yh(),pv(),Zh=1,Qh=2,Jh="[object Boolean]",ev="[object Date]",tv="[object Error]",nv="[object Map]",rv="[object Number]",iv="[object RegExp]",av="[object Set]",ov="[object String]",sv="[object Symbol]",uv="[object ArrayBuffer]",lv="[object DataView]",cv=no?no.prototype:void 0,dv=cv?cv.valueOf:void 0,fv=hv}});function xv(e,t,n,r,i,a){var o=n&vv,s=$p(e),u=s.length;if(u!=$p(t).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in t:gv.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var p=!0;a.set(e,t),a.set(t,e);for(var h=o;++l<u;){var v=e[c=s[l]],m=t[c];if(r)var g=o?r(m,v,c,t,e,a):r(v,m,c,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p}var wv,_v,Sv,kv,Ev,Mv,Pv,Tv=Ei({"../node_modules/lodash-es/_equalObjects.js":function(){wh(),vv=1,mv=Object.prototype,gv=mv.hasOwnProperty,yv=xv}});function Cv(e,t,n,r,i,a){var o=jo(e),s=jo(t),u=o?Sv:mh(e),l=s?Sv:mh(t),c=(u=u==_v?kv:u)==kv,d=(l=l==_v?kv:l)==kv,f=u==l;if(f&&Yl(e)){if(!Yl(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new Op),o||fc(e)?Vh(e,t,n,r,i,a):fv(e,t,u,n,r,i,a);if(!(n&wv)){var p=c&&Mv.call(e,"__wrapped__"),h=d&&Mv.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,m=h?t.value():t;return a||(a=new Op),i(v,m,n,r,a)}}return!!f&&(a||(a=new Op),yv(e,t,n,r,i,a))}var Av,Iv=Ei({"../node_modules/lodash-es/_baseIsEqualDeep.js":function(){Np(),qh(),bv(),Tv(),Eh(),Vo(),Jl(),yc(),wv=1,_v="[object Arguments]",Sv="[object Array]",kv="[object Object]",Ev=Object.prototype,Mv=Ev.hasOwnProperty,Pv=Cv}});function Rv(e,t,n,r,i){return e===t||(null==e||null==t||!Eo(e)&&!Eo(t)?e!==e&&t!==t:Pv(e,t,n,r,Rv,i))}var Ov,Dv,Lv,jv=Ei({"../node_modules/lodash-es/_baseIsEqual.js":function(){Iv(),Ao(),Av=Rv}});function Nv(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],l=e[u],c=s[1];if(o&&s[2]){if(void 0===l&&!(u in e))return!1}else{var d=new Op;if(r)var f=r(l,c,u,e,t,d);if(!(void 0===f?Av(c,l,Ov|Dv,r,d):f))return!1}}return!0}var zv,Fv=Ei({"../node_modules/lodash-es/_baseIsMatch.js":function(){Np(),jv(),Ov=1,Dv=2,Lv=Nv}});function Bv(e){return e===e&&!Qo(e)}var Uv,Vv=Ei({"../node_modules/lodash-es/_isStrictComparable.js":function(){ss(),zv=Bv}});function Hv(e){for(var t=Ic(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,zv(i)]}return t}var Wv,Gv=Ei({"../node_modules/lodash-es/_getMatchData.js":function(){Vv(),Nc(),Uv=Hv}});function qv(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var Kv,Xv=Ei({"../node_modules/lodash-es/_matchesStrictComparable.js":function(){Wv=qv}});function Yv(e){var t=Uv(e);return 1==t.length&&t[0][2]?Wv(t[0][0],t[0][1]):function(n){return n===e||Lv(n,e,t)}}var $v,Zv=Ei({"../node_modules/lodash-es/_baseMatches.js":function(){Fv(),Gv(),Xv(),Kv=Yv}});function Qv(e,t){return null!=e&&t in Object(e)}var Jv,em=Ei({"../node_modules/lodash-es/_baseHasIn.js":function(){$v=Qv}});function tm(e,t,n){for(var r=-1,i=(t=Ef(t,e)).length,a=!1;++r<i;){var o=Cf(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&vl(i)&&Ku(o,i)&&(jo(e)||Fl(e))}var nm,rm=Ei({"../node_modules/lodash-es/_hasPath.js":function(){Af(),Vl(),Vo(),Zu(),bl(),Of(),Jv=tm}});function im(e,t){return null!=e&&Jv(e,t,$v)}var am,om,sm,um=Ei({"../node_modules/lodash-es/hasIn.js":function(){em(),rm(),nm=im}});function lm(e,t){return jc(e)&&zv(t)?Wv(Cf(e),t):function(n){var r=Lf(n,e);return void 0===r&&r===t?nm(n,e):Av(t,r,am|om)}}var cm,dm=Ei({"../node_modules/lodash-es/_baseMatchesProperty.js":function(){jv(),Ff(),um(),Vc(),Vv(),Xv(),Of(),am=1,om=2,sm=lm}});function fm(e){return function(t){return null==t?void 0:t[e]}}var pm,hm=Ei({"../node_modules/lodash-es/_baseProperty.js":function(){cm=fm}});function vm(e){return function(t){return Rf(t,e)}}var mm,gm=Ei({"../node_modules/lodash-es/_basePropertyDeep.js":function(){jf(),pm=vm}});function ym(e){return jc(e)?cm(Cf(e)):pm(e)}var bm,xm=Ei({"../node_modules/lodash-es/property.js":function(){hm(),gm(),Vc(),Of(),mm=ym}});function wm(e){return"function"==typeof e?e:null==e?gs:"object"==typeof e?jo(e)?sm(e[0],e[1]):Kv(e):mm(e)}var _m,Sm=Ei({"../node_modules/lodash-es/_baseIteratee.js":function(){Zv(),dm(),Es(),Vo(),xm(),bm=wm}});function km(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}var Em,Mm=Ei({"../node_modules/lodash-es/_arrayAggregator.js":function(){_m=km}});function Pm(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}var Tm,Cm,Am,Im=Ei({"../node_modules/lodash-es/_createBaseFor.js":function(){Em=Pm}}),Rm=Ei({"../node_modules/lodash-es/_baseFor.js":function(){Im(),Tm=Em(),Cm=Tm}});function Om(e,t){return e&&Cm(e,t,Ic)}var Dm,Lm=Ei({"../node_modules/lodash-es/_baseForOwn.js":function(){Rm(),Nc(),Am=Om}});function jm(e,t){return function(n,r){if(null==n)return n;if(!yl(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}var Nm,zm,Fm,Bm=Ei({"../node_modules/lodash-es/_createBaseEach.js":function(){_l(),Dm=jm}}),Um=Ei({"../node_modules/lodash-es/_baseEach.js":function(){Lm(),Bm(),Nm=Dm(Am),zm=Nm}});function Vm(e,t,n,r){return zm(e,(function(e,i,a){t(r,e,n(e),a)})),r}var Hm,Wm=Ei({"../node_modules/lodash-es/_baseAggregator.js":function(){Um(),Fm=Vm}});function Gm(e,t){return function(n,r){var i=jo(n)?_m:Fm,a=t?t():{};return i(n,e,bm(r,2),a)}}var qm,Km,Xm,Ym,$m,Zm=Ei({"../node_modules/lodash-es/_createAggregator.js":function(){Mm(),Wm(),Sm(),Vo(),Hm=Gm}}),Qm=Ei({"../node_modules/lodash-es/now.js":function(){co(),qm=function(){return eo.Date.now()}}});function Jm(e,t,n){var r,i,a,o,s,u,l=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(Km);function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function h(e){return l=e,s=setTimeout(m,t),c?p(e):o}function v(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-l>=a}function m(){var e=qm();if(v(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-u);return d?Ym(n,a-(e-l)):n}(e))}function g(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function y(){var e=qm(),n=v(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return h(u);if(d)return clearTimeout(s),s=setTimeout(m,t),p(u)}return void 0===s&&(s=setTimeout(m,t)),o}return t=os(t)||0,Qo(n)&&(c=!!n.leading,a=(d="maxWait"in n)?Xm(os(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},y.flush=function(){return void 0===s?o:g(qm())},y}var eg,tg=Ei({"../node_modules/lodash-es/debounce.js":function(){ss(),Qm(),fs(),Km="Expected a function",Xm=Math.max,Ym=Math.min,$m=Jm}});function ng(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var rg,ig,ag=Ei({"../node_modules/lodash-es/_arrayIncludesWith.js":function(){eg=ng}});function og(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:hs(n);return i<0&&(i=rg(r+i,0)),Pu(e,bm(t,3),i)}var sg,ug,lg,cg=Ei({"../node_modules/lodash-es/findIndex.js":function(){Du(),Sm(),ys(),rg=Math.max,ig=og}});function dg(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=hs(n),i=n<0?sg(r+i,0):ug(i,r-1)),Pu(e,bm(t,3),i,!0)}var fg,pg=Ei({"../node_modules/lodash-es/findLastIndex.js":function(){Du(),Sm(),ys(),sg=Math.max,ug=Math.min,lg=dg}});function hg(e,t){var n=-1,r=yl(e)?Array(e.length):[];return zm(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}var vg,mg,gg,yg=Ei({"../node_modules/lodash-es/_baseMap.js":function(){Um(),_l(),fg=hg}});function bg(e,t,n){return e>=mg(t,n)&&e<vg(t,n)}var xg,wg=Ei({"../node_modules/lodash-es/_baseInRange.js":function(){vg=Math.max,mg=Math.min,gg=bg}});function _g(e,t,n){return t=ds(t),void 0===n?(n=t,t=0):n=ds(n),e=os(e),gg(e,t,n)}var Sg,kg=Ei({"../node_modules/lodash-es/inRange.js":function(){wg(),vs(),fs(),xg=_g}});function Eg(e){return"number"==typeof e&&e==hs(e)}var Mg,Pg,Tg,Cg=Ei({"../node_modules/lodash-es/isInteger.js":function(){ys(),Sg=Eg}}),Ag=Ei({"../node_modules/lodash-es/keyBy.js":function(){el(),Zm(),Mg=Hm((function(e,t,n){$u(e,n,t)})),Pg=Mg}});function Ig(e,t){var n={};return t=bm(t,3),Am(e,(function(e,r,i){$u(n,r,t(e,r,i))})),n}var Rg,Og=Ei({"../node_modules/lodash-es/mapValues.js":function(){el(),Lm(),Sm(),Tg=Ig}});function Dg(e,t,n,r){if(!Qo(e))return e;for(var i=-1,a=(t=Ef(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=Cf(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=Qo(c)?c:Ku(t[i+1])?[]:{})}il(s,u,l),s=s[u]}return e}var Lg,jg=Ei({"../node_modules/lodash-es/_baseSet.js":function(){ll(),Af(),Zu(),ss(),Of(),Rg=Dg}});function Ng(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var zg,Fg=Ei({"../node_modules/lodash-es/_baseSortBy.js":function(){Lg=Ng}});function Bg(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,a=Co(e),o=void 0!==t,s=null===t,u=t===t,l=Co(t);if(!s&&!l&&!a&&e>t||a&&o&&u&&!s&&!l||r&&o&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!u)return-1}return 0}var Ug,Vg=Ei({"../node_modules/lodash-es/_compareAscending.js":function(){Oo(),zg=Bg}});function Hg(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var u=zg(i[r],a[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}var Wg,Gg=Ei({"../node_modules/lodash-es/_compareMultiple.js":function(){Vg(),Ug=Hg}});function qg(e,t,n){t=t.length?Ro(t,(function(e){return jo(e)?function(t){return Rf(t,1===e.length?e[0]:e)}:e})):[gs];var r=-1;t=Ro(t,tc(bm));var i=fg(e,(function(e,n,i){return{criteria:Ro(t,(function(t){return t(e)})),index:++r,value:e}}));return Lg(i,(function(e,t){return Ug(e,t,n)}))}var Kg,Xg=Ei({"../node_modules/lodash-es/_baseOrderBy.js":function(){Uo(),jf(),Sm(),yg(),Fg(),mc(),Gg(),Es(),Vo(),Wg=qg}});function Yg(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}var $g,Zg,Qg,Jg=Ei({"../node_modules/lodash-es/_baseIndexOfWith.js":function(){Kg=Yg}});function ey(e,t,n,r){var i=r?Kg:Fu,a=-1,o=t.length,s=e;for(e===t&&(t=cu(t)),n&&(s=Ro(e,tc(n)));++a<o;)for(var u=0,l=t[a],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Zg.call(s,u,1),Zg.call(e,u,1);return e}var ty,ny=Ei({"../node_modules/lodash-es/_basePullAll.js":function(){Uo(),Hu(),Jg(),mc(),gu(),$g=Array.prototype,Zg=$g.splice,Qg=ey}});function ry(e,t){return e&&e.length&&t&&t.length?Qg(e,t):e}var iy,ay,oy,sy,uy,ly=Ei({"../node_modules/lodash-es/pullAll.js":function(){ny(),ty=ry}}),cy=Ei({"../node_modules/lodash-es/pull.js":function(){ml(),ly(),iy=dl(ty),ay=iy}}),dy=Ei({"../node_modules/lodash-es/round.js":function(){fp(),oy=up("round"),sy=oy}});function fy(e,t,n){return null==e?e:Rg(e,t,n)}var py,hy,vy,my,gy,yy,by=Ei({"../node_modules/lodash-es/set.js":function(){jg(),uy=fy}}),xy=Ei({"../node_modules/lodash-es/sortBy.js":function(){rp(),Xg(),ml(),Ml(),py=dl((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wl(e,t[0],t[1])?t=[]:n>2&&wl(t[0],t[1],t[2])&&(t=[t[0]]),Wg(e,Gf(t,1),[])})),hy=py}}),wy=Ei({"../node_modules/lodash-es/_createSet.js":function(){kh(),du(),pv(),1/0,vy=ih&&1/Xh(new ih([,-0]))[1]==Infinity?function(e){return new ih(e)}:su,my=vy}});function _y(e,t,n){var r=-1,i=Vu,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=eg;else if(a>=gy){var l=t?null:my(e);if(l)return Xh(l);o=!1,i=Nh,u=new Ih}else u=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d===d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),s.push(c)}else i(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}var Sy,ky=Ei({"../node_modules/lodash-es/_baseUniq.js":function(){Lh(),Xu(),ag(),Hh(),wy(),pv(),gy=200,yy=_y}});function Ey(e){return e&&e.length?yy(e):[]}var My=Ei({"../node_modules/lodash-es/uniq.js":function(){ky(),Sy=Ey}}),Py=Ei({"../node_modules/lodash-es/lodash.js":function(){yp(),tg(),cg(),kg(),Cg(),lp(),Aa(),Og(),vf(),dy(),My()}});function Ty(e){return JSON.stringify(Cy(e))}function Cy(e){return np(e)?Object.keys(e).sort().reduce((function(t,n){return t[n]=Cy(e[n]),t}),{}):Array.isArray(e)?e.map(Cy):e}var Ay,Iy,Ry,Oy=Ei({"shared/src/utils/stableJsonStringify.ts":function(){Py()}}),Dy=Ei({"../node_modules/nanoid/non-secure/index.js":function(){Ay="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Iy=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=e;n--;)t+=Ay[64*Math.random()|0];return t}}});function Ly(){return Iy(10)}var jy=Ei({"shared/src/utils/ids.ts":function(){Oy(),Dy(),Ry={forSheet:function(){return"sheet"},forSheetObject:function(e){return Ty({o:e.address.objectKey})},forSheetObjectProp:function(e,t){return Ty({o:e.address.objectKey,p:t})},forTrackKeyframe:function(e,t,n){return Ty({o:e.address.objectKey,t:t,k:n})},forSheetObjectAggregateKeyframe:function(e,t){return Ry.forCompoundPropAggregateKeyframe(e,[],t)},forSheetAggregateKeyframe:function(e,t){return Ty({o:e.address.sheetId,pos:t})},forCompoundPropAggregateKeyframe:function(e,t,n){return Ty({o:e.address.objectKey,p:t,pos:n})}}}});function Ny(e,t){return 0===t.length?e:Lf(e,t)}var zy,Fy,By,Uy,Vy,Hy,Wy,Gy,qy,Ky,Xy,Yy,$y,Zy,Qy=Ei({"shared/src/utils/getDeep.ts":function(){Ff()}}),Jy=Mi({"../node_modules/queue-microtask/index.js":function(e,t){var r;t.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:n.g):function(e){return(r||(r=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))}}}),eb=Mi({"../node_modules/object-assign/index.js":function(e,t){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var o,s,u=a(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))r.call(o,c)&&(u[c]=o[c]);if(n){s=n(o);for(var d=0;d<s.length;d++)i.call(o,s[d])&&(u[s[d]]=o[s[d]])}}return u}}}),tb=Mi({"../node_modules/react/cjs/react.development.js":function(e){"use strict";(function(){var t=eb(),n=60103,r=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var i=60109,a=60110,o=60112;e.Suspense=60113;var s=60120,u=60115,l=60116,c=60121,d=60122,f=60117,p=60129,h=60131;if("function"===typeof Symbol&&Symbol.for){var v=Symbol.for;n=v("react.element"),r=v("react.portal"),e.Fragment=v("react.fragment"),e.StrictMode=v("react.strict_mode"),e.Profiler=v("react.profiler"),i=v("react.provider"),a=v("react.context"),o=v("react.forward_ref"),e.Suspense=v("react.suspense"),s=v("react.suspense_list"),u=v("react.memo"),l=v("react.lazy"),c=v("react.block"),d=v("react.server.block"),f=v("react.fundamental"),v("react.scope"),v("react.opaque.id"),p=v("react.debug_trace_mode"),v("react.offscreen"),h=v("react.legacy_hidden")}var m="function"===typeof Symbol&&Symbol.iterator;function g(e){if(null===e||"object"!==typeof e)return null;var t=m&&e[m]||e["@@iterator"];return"function"===typeof t?t:null}var y={current:null},b={current:null},x={},w=null;function _(e){w=e}x.setExtraStackFrame=function(e){w=e},x.getCurrentStack=null,x.getStackAddendum=function(){var e="";w&&(e+=w);var t=x.getCurrentStack;return t&&(e+=t()||""),e};var S={ReactCurrentDispatcher:y,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:t};function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];M("warn",e,n)}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];M("error",e,n)}function M(e,t,n){var r=S.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map((function(e){return""+e}));i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}S.ReactDebugCurrentFrame=x;var P={};function T(e,t){var n=e.constructor,r=n&&(n.displayName||n.name)||"ReactClass",i=r+"."+t;P[i]||(E("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,r),P[i]=!0)}var C={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){T(e,"forceUpdate")},enqueueReplaceState:function(e,t,n,r){T(e,"replaceState")},enqueueSetState:function(e,t,n,r){T(e,"setState")}},A={};function I(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||C}Object.freeze(A),I.prototype.isReactComponent={},I.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},I.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var R={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},O=function(e,t){Object.defineProperty(I.prototype,e,{get:function(){k("%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var D in R)R.hasOwnProperty(D)&&O(D,R[D]);function L(){}function j(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||C}L.prototype=I.prototype;var N=j.prototype=new L;function z(e){return e.displayName||"Context"}function F(t){if(null==t)return null;if("number"===typeof t.tag&&E("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case e.Fragment:return"Fragment";case r:return"Portal";case e.Profiler:return"Profiler";case e.StrictMode:return"StrictMode";case e.Suspense:return"Suspense";case s:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case a:return z(t)+".Consumer";case i:return z(t._context)+".Provider";case o:return function(e,t,n){var r=t.displayName||t.name||"";return e.displayName||(""!==r?n+"("+r+")":n)}(t,t.render,"ForwardRef");case u:return F(t.type);case c:return F(t._render);case l:var n=t,d=n._payload,f=n._init;try{return F(f(d))}catch(p){return null}}return null}N.constructor=j,t(N,I.prototype),N.isPureReactComponent=!0;var B,U,V,H=Object.prototype.hasOwnProperty,W={key:!0,ref:!0,__self:!0,__source:!0};function G(e){if(H.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function q(e){if(H.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}function K(e,t){var n=function(){B||(B=!0,E("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}function X(e,t){var n=function(){U||(U=!0,E("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}function Y(e){if("string"===typeof e.ref&&b.current&&e.__self&&b.current.stateNode!==e.__self){var t=F(b.current.type);V[t]||(E('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',t,e.ref),V[t]=!0)}}V={};var $=function(e,t,r,i,a,o,s){var u={$$typeof:n,type:e,key:t,ref:r,props:s,_owner:o,_store:{}};return Object.defineProperty(u._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(u,"_self",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(u,"_source",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.freeze&&(Object.freeze(u.props),Object.freeze(u)),u};function Z(e,t,n){var r,i={},a=null,o=null,s=null,u=null;if(null!=t)for(r in G(t)&&(o=t.ref,Y(t)),q(t)&&(a=""+t.key),s=void 0===t.__self?null:t.__self,u=void 0===t.__source?null:t.__source,t)H.call(t,r)&&!W.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(l>1){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];Object.freeze&&Object.freeze(c),i.children=c}if(e&&e.defaultProps){var f=e.defaultProps;for(r in f)void 0===i[r]&&(i[r]=f[r])}if(a||o){var p="function"===typeof e?e.displayName||e.name||"Unknown":e;a&&K(i,p),o&&X(i,p)}return $(e,a,o,s,u,b.current,i)}function Q(e,n,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i,a,o=t({},e.props),s=e.key,u=e.ref,l=e._self,c=e._source,d=e._owner;if(null!=n)for(i in G(n)&&(u=n.ref,d=b.current),q(n)&&(s=""+n.key),e.type&&e.type.defaultProps&&(a=e.type.defaultProps),n)H.call(n,i)&&!W.hasOwnProperty(i)&&(void 0===n[i]&&void 0!==a?o[i]=a[i]:o[i]=n[i]);var f=arguments.length-2;if(1===f)o.children=r;else if(f>1){for(var p=Array(f),h=0;h<f;h++)p[h]=arguments[h+2];o.children=p}return $(e.type,s,u,l,c,d,o)}function J(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var ee=!1,te=/\/+/g;function ne(e){return e.replace(te,"$&/")}function re(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function ie(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u,l,c,d=!1;if(null===e)d=!0;else switch(s){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0}}if(d){var f=e,p=o(f),h=""===a?"."+re(f,0):a;if(Array.isArray(p)){var v="";null!=h&&(v=ne(h)+"/"),ie(p,t,v,"",(function(e){return e}))}else null!=p&&(J(p)&&(u=p,l=i+(!p.key||f&&f.key===p.key?"":ne(""+p.key)+"/")+h,p=$(u.type,l,u.ref,u._self,u._source,u._owner,u.props)),t.push(p));return 1}var m=0,y=""===a?".":a+":";if(Array.isArray(e))for(var b=0;b<e.length;b++)m+=ie(c=e[b],t,i,y+re(c,b),o);else{var x=g(e);if("function"===typeof x){var w=e;x===w.entries&&(ee||k("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),ee=!0);for(var _,S=x.call(w),E=0;!(_=S.next()).done;)m+=ie(c=_.value,t,i,y+re(c,E++),o)}else if("object"===s){var M=""+e;throw Error("Objects are not valid as a React child (found: "+("[object Object]"===M?"object with keys {"+Object.keys(e).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}}return m}function ae(e,t,n){if(null==e)return e;var r=[],i=0;return ie(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function oe(e){if(-1===e._status){var t=(0,e._result)(),n=e;n._status=0,n._result=t,t.then((function(t){if(0===e._status){var n=t.default;void 0===n&&E("lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",t);var r=e;r._status=1,r._result=n}}),(function(t){if(0===e._status){var n=e;n._status=2,n._result=t}}))}if(1===e._status)return e._result;throw e._result}function se(t){return"string"===typeof t||"function"===typeof t||(t===e.Fragment||t===e.Profiler||t===p||t===e.StrictMode||t===e.Suspense||t===s||t===h||"object"===typeof t&&null!==t&&(t.$$typeof===l||t.$$typeof===u||t.$$typeof===i||t.$$typeof===a||t.$$typeof===o||t.$$typeof===f||t.$$typeof===c||t[0]===d))}function ue(){var e=y.current;if(null===e)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");return e}var le,ce,de,fe,pe,he,ve,me=0;function ge(){}ge.__reactDisabledLog=!0;var ye,be=S.ReactCurrentDispatcher;function xe(e,t,n){if(void 0===ye)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);ye=r&&r[1]||""}return"\n"+ye+e}var we,_e=!1,Se="function"===typeof WeakMap?WeakMap:Map;function ke(e,n){if(!e||_e)return"";var r,i=we.get(e);if(void 0!==i)return i;_e=!0;var a,o=Error.prepareStackTrace;Error.prepareStackTrace=void 0,a=be.current,be.current=null,function(){if(0===me){le=console.log,ce=console.info,de=console.warn,fe=console.error,pe=console.group,he=console.groupCollapsed,ve=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ge,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}me++}();try{if(n){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(v){r=v}Reflect.construct(e,[],s)}else{try{s.call()}catch(v){r=v}e.call(s.prototype)}}else{try{throw Error()}catch(v){r=v}e()}}catch(m){if(m&&r&&"string"===typeof m.stack){for(var u=m.stack.split("\n"),l=r.stack.split("\n"),c=u.length-1,d=l.length-1;c>=1&&d>=0&&u[c]!==l[d];)d--;for(;c>=1&&d>=0;c--,d--)if(u[c]!==l[d]){if(1!==c||1!==d)do{if(c--,--d<0||u[c]!==l[d]){var f="\n"+u[c].replace(" at new "," at ");return"function"===typeof e&&we.set(e,f),f}}while(c>=1&&d>=0);break}}}finally{_e=!1,be.current=a,function(){if(0===--me){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:t({},e,{value:le}),info:t({},e,{value:ce}),warn:t({},e,{value:de}),error:t({},e,{value:fe}),group:t({},e,{value:pe}),groupCollapsed:t({},e,{value:he}),groupEnd:t({},e,{value:ve})})}me<0&&E("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=o}var p=e?e.displayName||e.name:"",h=p?xe(p):"";return"function"===typeof e&&we.set(e,h),h}function Ee(e,t,n){return ke(e,!1)}function Me(t,n,r){if(null==t)return"";if("function"===typeof t)return ke(t,function(e){var t=e.prototype;return!(!t||!t.isReactComponent)}(t));if("string"===typeof t)return xe(t);switch(t){case e.Suspense:return xe("Suspense");case s:return xe("SuspenseList")}if("object"===typeof t)switch(t.$$typeof){case o:return Ee(t.render);case u:return Me(t.type,n,r);case c:return Ee(t._render);case l:var i=t,a=i._payload,d=i._init;try{return Me(d(a),n,r)}catch(f){}}return""}we=new Se;var Pe,Te={},Ce=S.ReactDebugCurrentFrame;function Ae(e){if(e){var t=e._owner,n=Me(e.type,e._source,t?t.type:null);Ce.setExtraStackFrame(n)}else Ce.setExtraStackFrame(null)}function Ie(e){if(e){var t=e._owner;_(Me(e.type,e._source,t?t.type:null))}else _(null)}function Re(){if(b.current){var e=F(b.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}function Oe(e){return null!==e&&void 0!==e&&void 0!==(t=e.__source)?"\n\nCheck your code at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+".":"";var t}Pe=!1;var De={};function Le(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=Re();if(!t){var n="string"===typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!De[n]){De[n]=!0;var r="";e&&e._owner&&e._owner!==b.current&&(r=" It was passed a child from "+F(e._owner.type)+"."),Ie(e),E('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,r),Ie(null)}}}function je(e,t){if("object"===typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];J(r)&&Le(r,t)}else if(J(e))e._store&&(e._store.validated=!0);else if(e){var i=g(e);if("function"===typeof i&&i!==e.entries)for(var a,o=i.call(e);!(a=o.next()).done;)J(a.value)&&Le(a.value,t)}}function Ne(e){var t,n=e.type;if(null!==n&&void 0!==n&&"string"!==typeof n){if("function"===typeof n)t=n.propTypes;else{if("object"!==typeof n||n.$$typeof!==o&&n.$$typeof!==u)return;t=n.propTypes}if(t){var r=F(n);!function(e,t,n,r,i){var a=Function.call.bind(Object.prototype.hasOwnProperty);for(var o in e)if(a(e,o)){var s=void 0;try{if("function"!==typeof e[o]){var u=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw u.name="Invariant Violation",u}s=e[o](t,o,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(l){s=l}!s||s instanceof Error||(Ae(i),E("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof s),Ae(null)),s instanceof Error&&!(s.message in Te)&&(Te[s.message]=!0,Ae(i),E("Failed %s type: %s",n,s.message),Ae(null))}}(t,e.props,"prop",r,e)}else if(void 0!==n.PropTypes&&!Pe){Pe=!0,E("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",F(n)||"Unknown")}"function"!==typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||E("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function ze(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){Ie(e),E("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r),Ie(null);break}}null!==e.ref&&(Ie(e),E("Invalid attribute `ref` supplied to `React.Fragment`."),Ie(null))}function Fe(t,r,i){var a=se(t);if(!a){var o="";(void 0===t||"object"===typeof t&&null!==t&&0===Object.keys(t).length)&&(o+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var s,u=Oe(r);o+=u||Re(),null===t?s="null":Array.isArray(t)?s="array":void 0!==t&&t.$$typeof===n?(s="<"+(F(t.type)||"Unknown")+" />",o=" Did you accidentally export a JSX literal instead of a component?"):s=typeof t,E("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",s,o)}var l=Z.apply(this,arguments);if(null==l)return l;if(a)for(var c=2;c<arguments.length;c++)je(arguments[c],t);return t===e.Fragment?ze(l):Ne(l),l}var Be=!1;try{var Ue=Object.freeze({});new Map([[Ue,null]]),new Set([Ue])}catch(qe){}var Ve=Fe,He=function(e,t,n){for(var r=Q.apply(this,arguments),i=2;i<arguments.length;i++)je(arguments[i],r.type);return Ne(r),r},We=function(e){var t=Fe.bind(null,e);return t.type=e,Be||(Be=!0,k("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(t,"type",{enumerable:!1,get:function(){return k("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},Ge={map:ae,forEach:function(e,t,n){ae(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return ae(e,(function(){t++})),t},toArray:function(e){return ae(e,(function(e){return e}))||[]},only:function(e){if(!J(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};e.Children=Ge,e.Component=I,e.PureComponent=j,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S,e.cloneElement=He,e.createContext=function(e,t){void 0===t?t=null:null!==t&&"function"!==typeof t&&E("createContext: Expected the optional second argument to be a function. Instead received: %s",t);var n={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null};n.Provider={$$typeof:i,_context:n};var r=!1,o=!1,s=!1,u={$$typeof:a,_context:n,_calculateChangedBits:n._calculateChangedBits};return Object.defineProperties(u,{Provider:{get:function(){return o||(o=!0,E("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),n.Provider},set:function(e){n.Provider=e}},_currentValue:{get:function(){return n._currentValue},set:function(e){n._currentValue=e}},_currentValue2:{get:function(){return n._currentValue2},set:function(e){n._currentValue2=e}},_threadCount:{get:function(){return n._threadCount},set:function(e){n._threadCount=e}},Consumer:{get:function(){return r||(r=!0,E("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),n.Consumer}},displayName:{get:function(){return n.displayName},set:function(e){s||(k("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",e),s=!0)}}}),n.Consumer=u,n._currentRenderer=null,n._currentRenderer2=null,n},e.createElement=Ve,e.createFactory=We,e.createRef=function(){var e={current:null};return Object.seal(e),e},e.forwardRef=function(e){null!=e&&e.$$typeof===u?E("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):"function"!==typeof e?E("forwardRef requires a render function but was given %s.",null===e?"null":typeof e):0!==e.length&&2!==e.length&&E("forwardRef render functions accept exactly two parameters: props and ref. %s",1===e.length?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),null!=e&&(null==e.defaultProps&&null==e.propTypes||E("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?"));var t,n={$$typeof:o,render:e};return Object.defineProperty(n,"displayName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n,null==e.displayName&&(e.displayName=n)}}),n},e.isValidElement=J,e.lazy=function(e){var t,n,r={$$typeof:l,_payload:{_status:-1,_result:e},_init:oe};return Object.defineProperties(r,{defaultProps:{configurable:!0,get:function(){return t},set:function(e){E("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),t=e,Object.defineProperty(r,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return n},set:function(e){E("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),n=e,Object.defineProperty(r,"propTypes",{enumerable:!0})}}}),r},e.memo=function(e,t){se(e)||E("memo: The first argument must be a component. Instead received: %s",null===e?"null":typeof e);var n,r={$$typeof:u,type:e,compare:void 0===t?null:t};return Object.defineProperty(r,"displayName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(t){n=t,null==e.displayName&&(e.displayName=t)}}),r},e.useCallback=function(e,t){return ue().useCallback(e,t)},e.useContext=function(e,t){var n=ue();if(void 0!==t&&E("useContext() second argument is reserved for future use in React. Passing it is not supported. You passed: %s.%s",t,"number"===typeof t&&Array.isArray(arguments[2])?"\n\nDid you call array.map(useContext)? Calling Hooks inside a loop is not supported. Learn more at https://reactjs.org/link/rules-of-hooks":""),void 0!==e._context){var r=e._context;r.Consumer===e?E("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):r.Provider===e&&E("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return n.useContext(e,t)},e.useDebugValue=function(e,t){return ue().useDebugValue(e,t)},e.useEffect=function(e,t){return ue().useEffect(e,t)},e.useImperativeHandle=function(e,t,n){return ue().useImperativeHandle(e,t,n)},e.useLayoutEffect=function(e,t){return ue().useLayoutEffect(e,t)},e.useMemo=function(e,t){return ue().useMemo(e,t)},e.useReducer=function(e,t,n){return ue().useReducer(e,t,n)},e.useRef=function(e){return ue().useRef(e)},e.useState=function(e){return ue().useState(e)},e.version="17.0.2"})()}}),nb=Mi({"../node_modules/react/index.js":function(e,t){"use strict";t.exports=tb()}}),rb=Mi({"../node_modules/scheduler/cjs/scheduler.development.js":function(e){"use strict";(function(){var t,n,r,i;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}};t=function(e){null!==u?setTimeout(t,0,e):(u=e,setTimeout(c,0))},n=function(e,t){l=setTimeout(e,t)},r=function(){clearTimeout(l)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.requestAnimationFrame,h=window.cancelAnimationFrame;"function"!==typeof p&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},i=function(){},e.unstable_forceFrameRate=function(e){e<0||e>125?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=e>0?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();b=t+y;try{m(!0,t)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},t=function(e){m=e,v||(v=!0,w.postMessage(null))},n=function(t,n){g=d((function(){t(e.unstable_now())}),n)},r=function(){f(g),g=-1}}function _(e,t){var n=e.length;e.push(t),function(e,t,n){var r=n;for(;;){var i=r-1>>>1,a=e[i];if(!(void 0!==a&&E(a,t)>0))return;e[i]=t,e[r]=a,r=i}}(e,t,n)}function S(e){var t=e[0];return void 0===t?null:t}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();return n!==t&&(e[0]=n,function(e,t,n){var r=n,i=e.length;for(;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&E(o,t)<0)void 0!==u&&E(u,o)<0?(e[r]=u,e[s]=t,r=s):(e[r]=o,e[a]=t,r=a);else{if(!(void 0!==u&&E(u,t)<0))return;e[r]=u,e[s]=t,r=s}}}(e,n,0)),t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],P=[],T=1,C=null,A=3,I=!1,R=!1,O=!1;function D(e){for(var t=S(P);null!==t;){if(null===t.callback)k(P);else{if(!(t.startTime<=e))return;k(P),t.sortIndex=t.expirationTime,_(M,t)}t=S(P)}}function L(e){if(O=!1,D(e),!R)if(null!==S(M))R=!0,t(j);else{var r=S(P);null!==r&&n(L,r.startTime-e)}}function j(e,t){R=!1,O&&(O=!1,r()),I=!0;var n=A;try{return N(e,t)}finally{C=null,A=n,I=!1}}function N(t,r){var i=r;for(D(i),C=S(M);null!==C&&(!(C.expirationTime>i)||t&&!e.unstable_shouldYield());){var a=C.callback;if("function"===typeof a){C.callback=null,A=C.priorityLevel;var o=a(C.expirationTime<=i);i=e.unstable_now(),"function"===typeof o?C.callback=o:C===S(M)&&k(M),D(i)}else k(M);C=S(M)}if(null!==C)return!0;var s=S(P);return null!==s&&n(L,s.startTime-i),!1}var z=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){R||I||(R=!0,t(j))},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return S(M)},e.unstable_next=function(e){var t;switch(A){case 1:case 2:case 3:t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=z,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},e.unstable_scheduleCallback=function(i,a,o){var s,u,l=e.unstable_now();if("object"===typeof o&&null!==o){var c=o.delay;s="number"===typeof c&&c>0?l+c:l}else s=l;switch(i){case 1:u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}var d=s+u,f={id:T++,callback:a,priorityLevel:i,startTime:s,expirationTime:d,sortIndex:-1};return s>l?(f.sortIndex=s,_(P,f),null===S(M)&&f===S(P)&&(O?r():O=!0,n(L,s-l))):(f.sortIndex=d,_(M,f),R||I||(R=!0,t(j))),f},e.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}})()}}),ib=Mi({"../node_modules/scheduler/index.js":function(e,t){"use strict";t.exports=rb()}}),ab=Mi({"../node_modules/scheduler/cjs/scheduler-tracing.development.js":function(e){"use strict";(function(){var t=0,n=0;e.__interactionsRef=null,e.__subscriberRef=null,e.__interactionsRef={current:new Set},e.__subscriberRef={current:null};var r=null;function i(e){var t=!1,n=null;if(r.forEach((function(r){try{r.onInteractionTraced(e)}catch(i){t||(t=!0,n=i)}})),t)throw n}function a(e){var t=!1,n=null;if(r.forEach((function(r){try{r.onInteractionScheduledWorkCompleted(e)}catch(i){t||(t=!0,n=i)}})),t)throw n}function o(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkScheduled(e,t)}catch(a){n||(n=!0,i=a)}})),n)throw i}function s(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkStarted(e,t)}catch(a){n||(n=!0,i=a)}})),n)throw i}function u(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkStopped(e,t)}catch(a){n||(n=!0,i=a)}})),n)throw i}function l(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkCanceled(e,t)}catch(a){n||(n=!0,i=a)}})),n)throw i}r=new Set,e.unstable_clear=function(t){var n=e.__interactionsRef.current;e.__interactionsRef.current=new Set;try{return t()}finally{e.__interactionsRef.current=n}},e.unstable_getCurrent=function(){return e.__interactionsRef.current},e.unstable_getThreadID=function(){return++n},e.unstable_subscribe=function(t){r.add(t),1===r.size&&(e.__subscriberRef.current={onInteractionScheduledWorkCompleted:a,onInteractionTraced:i,onWorkCanceled:l,onWorkScheduled:o,onWorkStarted:s,onWorkStopped:u})},e.unstable_trace=function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o={__count:1,id:t++,name:n,timestamp:r},s=e.__interactionsRef.current,u=new Set(s);u.add(o),e.__interactionsRef.current=u;var l,c=e.__subscriberRef.current;try{null!==c&&c.onInteractionTraced(o)}finally{try{null!==c&&c.onWorkStarted(u,a)}finally{try{l=i()}finally{e.__interactionsRef.current=s;try{null!==c&&c.onWorkStopped(u,a)}finally{o.__count--,null!==c&&0===o.__count&&c.onInteractionScheduledWorkCompleted(o)}}}}return l},e.unstable_unsubscribe=function(t){r.delete(t),0===r.size&&(e.__subscriberRef.current=null)},e.unstable_wrap=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.__interactionsRef.current,i=e.__subscriberRef.current;null!==i&&i.onWorkScheduled(r,n),r.forEach((function(e){e.__count++}));var a=!1;function o(){var o=e.__interactionsRef.current;e.__interactionsRef.current=r,i=e.__subscriberRef.current;try{var s;try{null!==i&&i.onWorkStarted(r,n)}finally{try{s=t.apply(void 0,arguments)}finally{e.__interactionsRef.current=o,null!==i&&i.onWorkStopped(r,n)}}return s}finally{a||(a=!0,r.forEach((function(e){e.__count--,null!==i&&0===e.__count&&i.onInteractionScheduledWorkCompleted(e)})))}}return o.cancel=function(){i=e.__subscriberRef.current;try{null!==i&&i.onWorkCanceled(r,n)}finally{r.forEach((function(e){e.__count--,i&&0===e.__count&&i.onInteractionScheduledWorkCompleted(e)}))}},o}})()}}),ob=Mi({"../node_modules/scheduler/tracing.js":function(e,t){"use strict";t.exports=ab()}}),sb=Mi({"../node_modules/react-dom/cjs/react-dom.development.js":function(e){"use strict";(function(){var t=nb(),n=eb(),r=ib(),i=ob(),a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u("warn",e,n)}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u("error",e,n)}function u(e,t,n){var r=a.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map((function(e){return""+e}));i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}if(!t)throw Error("ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.");var l=10,c=11,d=12,f=13,p=14,h=15,v=17,m=19,g=20,y=22,b=23,x=24,w=!1,_=new Set,S={},k={};function E(e,t){M(e,t),M(e+"Capture",t)}function M(e,t){S[e]&&s("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",e),S[e]=t;var n=e.toLowerCase();k[n]=e,"onDoubleClick"===e&&(k.ondblclick=e);for(var r=0;r<t.length;r++)_.add(t[r])}var P=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),T=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",C=T+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",A="data-reactroot",I=new RegExp("^["+T+"]["+C+"]*$"),R=Object.prototype.hasOwnProperty,O={},D={};function L(e){return!!R.call(D,e)||!R.call(O,e)&&(I.test(e)?(D[e]=!0,!0):(O[e]=!0,s("Invalid attribute name: `%s`",e),!1))}function j(e,t,n){return null!==t?0===t.type:!n&&(e.length>2&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))}function N(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;var i=e.toLowerCase().slice(0,5);return"data-"!==i&&"aria-"!==i;default:return!1}}function z(e,t,n,r){if(null===t||"undefined"===typeof t)return!0;if(N(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}function F(e){return U.hasOwnProperty(e)?U[e]:null}function B(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var U={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){U[e]=new B(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0],n=e[1];U[t]=new B(t,1,!1,n,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){U[e]=new B(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){U[e]=new B(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){U[e]=new B(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){U[e]=new B(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){U[e]=new B(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){U[e]=new B(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){U[e]=new B(e,5,!1,e.toLowerCase(),null,!1,!1)}));var V=/[\-\:]([a-z])/g,H=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(V,H);U[t]=new B(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(V,H);U[t]=new B(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(V,H);U[t]=new B(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){U[e]=new B(e,1,!1,e.toLowerCase(),null,!1,!1)}));U.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){U[e]=new B(e,1,!1,e.toLowerCase(),null,!0,!0)}));var W=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,G=!1;function q(e){!G&&W.test(e)&&(G=!0,s("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(e)))}function K(e,t,n,r){if(r.mustUseProperty)return e[r.propertyName];r.sanitizeURL&&q(""+n);var i=r.attributeName,a=null;if(4===r.type){if(e.hasAttribute(i)){var o=e.getAttribute(i);return""===o||(z(t,n,r,!1)?o:o===""+n?n:o)}}else if(e.hasAttribute(i)){if(z(t,n,r,!1))return e.getAttribute(i);if(3===r.type)return n;a=e.getAttribute(i)}return z(t,n,r,!1)?null===a?n:a:a===""+n?n:a}function X(e,t,n){if(L(t)){if(function(e){return null!==e&&"object"===typeof e&&e.$$typeof===le}(n))return n;if(!e.hasAttribute(t))return void 0===n?void 0:null;var r=e.getAttribute(t);return r===""+n?n:r}}function Y(e,t,n,r){var i=F(t);if(!j(t,i,r))if(z(t,n,i,r)&&(n=null),r||null===i){if(L(t)){var a=t;null===n?e.removeAttribute(a):e.setAttribute(a,""+n)}}else if(i.mustUseProperty){var o=i.propertyName;if(null===n){var s=i.type;e[o]=3!==s&&""}else e[o]=n}else{var u=i.attributeName,l=i.attributeNamespace;if(null===n)e.removeAttribute(u);else{var c,d=i.type;3===d||4===d&&!0===n?c="":(c=""+n,i.sanitizeURL&&q(c.toString())),l?e.setAttributeNS(l,u,c):e.setAttribute(u,c)}}}var $=60103,Z=60106,Q=60107,J=60108,ee=60114,te=60109,ne=60110,re=60112,ie=60113,ae=60120,oe=60115,se=60116,ue=60121,le=60128,ce=60129,de=60130,fe=60131;if("function"===typeof Symbol&&Symbol.for){var pe=Symbol.for;$=pe("react.element"),Z=pe("react.portal"),Q=pe("react.fragment"),J=pe("react.strict_mode"),ee=pe("react.profiler"),te=pe("react.provider"),ne=pe("react.context"),re=pe("react.forward_ref"),ie=pe("react.suspense"),ae=pe("react.suspense_list"),oe=pe("react.memo"),se=pe("react.lazy"),ue=pe("react.block"),pe("react.server.block"),pe("react.fundamental"),pe("react.scope"),le=pe("react.opaque.id"),ce=pe("react.debug_trace_mode"),de=pe("react.offscreen"),fe=pe("react.legacy_hidden")}var he="function"===typeof Symbol&&Symbol.iterator;function ve(e){if(null===e||"object"!==typeof e)return null;var t=he&&e[he]||e["@@iterator"];return"function"===typeof t?t:null}var me,ge,ye,be,xe,we,_e,Se=0;function ke(){}function Ee(){if(0===Se){me=console.log,ge=console.info,ye=console.warn,be=console.error,xe=console.group,we=console.groupCollapsed,_e=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ke,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}Se++}function Me(){if(0===--Se){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:n({},e,{value:me}),info:n({},e,{value:ge}),warn:n({},e,{value:ye}),error:n({},e,{value:be}),group:n({},e,{value:xe}),groupCollapsed:n({},e,{value:we}),groupEnd:n({},e,{value:_e})})}Se<0&&s("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}ke.__reactDisabledLog=!0;var Pe,Te=a.ReactCurrentDispatcher;function Ce(e,t,n){if(void 0===Pe)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);Pe=r&&r[1]||""}return"\n"+Pe+e}var Ae,Ie=!1,Re="function"===typeof WeakMap?WeakMap:Map;function Oe(e,t){if(!e||Ie)return"";var n,r=Ae.get(e);if(void 0!==r)return r;Ie=!0;var i,a=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=Te.current,Te.current=null,Ee();try{if(t){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(o,[])}catch(h){n=h}Reflect.construct(e,[],o)}else{try{o.call()}catch(h){n=h}e.call(o.prototype)}}else{try{throw Error()}catch(h){n=h}e()}}catch(v){if(v&&n&&"string"===typeof v.stack){for(var s=v.stack.split("\n"),u=n.stack.split("\n"),l=s.length-1,c=u.length-1;l>=1&&c>=0&&s[l]!==u[c];)c--;for(;l>=1&&c>=0;l--,c--)if(s[l]!==u[c]){if(1!==l||1!==c)do{if(l--,--c<0||s[l]!==u[c]){var d="\n"+s[l].replace(" at new "," at ");return"function"===typeof e&&Ae.set(e,d),d}}while(l>=1&&c>=0);break}}}finally{Ie=!1,Te.current=i,Me(),Error.prepareStackTrace=a}var f=e?e.displayName||e.name:"",p=f?Ce(f):"";return"function"===typeof e&&Ae.set(e,p),p}function De(e,t,n){return Oe(e,!1)}function Le(e,t,n){if(null==e)return"";if("function"===typeof e)return Oe(e,function(e){var t=e.prototype;return!(!t||!t.isReactComponent)}(e));if("string"===typeof e)return Ce(e);switch(e){case ie:return Ce("Suspense");case ae:return Ce("SuspenseList")}if("object"===typeof e)switch(e.$$typeof){case re:return De(e.render);case oe:return Le(e.type,t,n);case ue:return De(e._render);case se:var r=e,i=r._payload,a=r._init;try{return Le(a(i),t,n)}catch(o){}}return""}function je(e){e._debugOwner&&e._debugOwner.type,e._debugSource;switch(e.tag){case 5:return Ce(e.type);case 16:return Ce("Lazy");case f:return Ce("Suspense");case m:return Ce("SuspenseList");case 0:case 2:case h:return De(e.type);case c:return De(e.type.render);case y:return De(e.type._render);case 1:return Oe(e.type,!0);default:return""}}function Ne(e){try{var t="",n=e;do{t+=je(n),n=n.return}while(n);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function ze(e){return e.displayName||"Context"}function Fe(e){if(null==e)return null;if("number"===typeof e.tag&&s("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Q:return"Fragment";case Z:return"Portal";case ee:return"Profiler";case J:return"StrictMode";case ie:return"Suspense";case ae:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ne:return ze(e)+".Consumer";case te:return ze(e._context)+".Provider";case re:return function(e,t,n){var r=t.displayName||t.name||"";return e.displayName||(""!==r?n+"("+r+")":n)}(e,e.render,"ForwardRef");case oe:return Fe(e.type);case ue:return Fe(e._render);case se:var t=e,n=t._payload,r=t._init;try{return Fe(r(n))}catch(i){return null}}return null}Ae=new Re;var Be=a.ReactDebugCurrentFrame,Ue=null,Ve=!1;function He(){if(null===Ue)return null;var e=Ue._debugOwner;return null!==e&&"undefined"!==typeof e?Fe(e.type):null}function We(){return null===Ue?"":Ne(Ue)}function Ge(){Be.getCurrentStack=null,Ue=null,Ve=!1}function qe(e){Be.getCurrentStack=We,Ue=e,Ve=!1}function Ke(e){Ve=e}function Xe(e){return""+e}function Ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}var $e={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Ze(e,t){$e[t.type]||t.onChange||t.onInput||t.readOnly||t.disabled||null==t.value||s("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),t.onChange||t.readOnly||t.disabled||null==t.checked||s("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Qe(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function Je(e){return e._valueTracker}function et(e){Je(e)||(e._valueTracker=function(e){var t=Qe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable});var o={getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){!function(e){e._valueTracker=null}(e),delete e[t]}};return o}}(e))}function tt(e){if(!e)return!1;var t=Je(e);if(!t)return!0;var n=t.getValue(),r=function(e){var t="";return e?t=Qe(e)?e.checked?"true":"false":e.value:t}(e);return r!==n&&(t.setValue(r),!0)}function nt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var rt=!1,it=!1,at=!1,ot=!1;function st(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function ut(e,t){var r=e,i=t.checked;return n({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:r._wrapperState.initialChecked})}function lt(e,t){Ze(0,t),void 0===t.checked||void 0===t.defaultChecked||it||(s("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",He()||"A component",t.type),it=!0),void 0===t.value||void 0===t.defaultValue||rt||(s("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",He()||"A component",t.type),rt=!0);var n=e,r=null==t.defaultValue?"":t.defaultValue;n._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:Ye(null!=t.value?t.value:r),controlled:st(t)}}function ct(e,t){var n=e,r=t.checked;null!=r&&Y(n,"checked",r,!1)}function dt(e,t){var n=e,r=st(t);n._wrapperState.controlled||!r||ot||(s("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),ot=!0),!n._wrapperState.controlled||r||at||(s("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),at=!0),ct(e,t);var i=Ye(t.value),a=t.type;if(null!=i)"number"===a?(0===i&&""===n.value||n.value!=i)&&(n.value=Xe(i)):n.value!==Xe(i)&&(n.value=Xe(i));else if("submit"===a||"reset"===a)return void n.removeAttribute("value");t.hasOwnProperty("value")?ht(n,t.type,i):t.hasOwnProperty("defaultValue")&&ht(n,t.type,Ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)}function ft(e,t,n){var r=e;if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(("submit"===i||"reset"===i)&&(void 0===t.value||null===t.value))return;var a=Xe(r._wrapperState.initialValue);n||a!==r.value&&(r.value=a),r.defaultValue=a}var o=r.name;""!==o&&(r.name=""),r.defaultChecked=!r.defaultChecked,r.defaultChecked=!!r._wrapperState.initialChecked,""!==o&&(r.name=o)}function pt(e,t){var n=e;dt(n,t),function(e,t){var n=t.name;if("radio"===t.type&&null!=n){for(var r=e;r.parentNode;)r=r.parentNode;for(var i=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),a=0;a<i.length;a++){var o=i[a];if(o!==e&&o.form===e.form){var s=mu(o);if(!s)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");tt(o),dt(o,s)}}}}(n,t)}function ht(e,t,n){"number"===t&&nt(e.ownerDocument)===e||(null==n?e.defaultValue=Xe(e._wrapperState.initialValue):e.defaultValue!==Xe(n)&&(e.defaultValue=Xe(n)))}var vt,mt=!1,gt=!1;function yt(e,n){"object"===typeof n.children&&null!==n.children&&t.Children.forEach(n.children,(function(e){null!=e&&"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&(gt||(gt=!0,s("Only strings and numbers are supported as <option> children.")))})),null==n.selected||mt||(s("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),mt=!0)}function bt(e,r){var i=n({children:void 0},r),a=function(e){var n="";return t.Children.forEach(e,(function(e){null!=e&&(n+=e)})),n}(r.children);return a&&(i.children=a),i}function xt(){var e=He();return e?"\n\nCheck the render method of `"+e+"`.":""}vt=!1;var wt=["value","defaultValue"];function _t(e,t,n,r){var i=e.options;if(t){for(var a=n,o={},s=0;s<a.length;s++)o["$"+a[s]]=!0;for(var u=0;u<i.length;u++){var l=o.hasOwnProperty("$"+i[u].value);i[u].selected!==l&&(i[u].selected=l),l&&r&&(i[u].defaultSelected=!0)}}else{for(var c=Xe(Ye(n)),d=null,f=0;f<i.length;f++){if(i[f].value===c)return i[f].selected=!0,void(r&&(i[f].defaultSelected=!0));null!==d||i[f].disabled||(d=i[f])}null!==d&&(d.selected=!0)}}function St(e,t){return n({},t,{value:void 0})}function kt(e,t){var n=e;!function(e){Ze(0,e);for(var t=0;t<wt.length;t++){var n=wt[t];if(null!=e[n]){var r=Array.isArray(e[n]);e.multiple&&!r?s("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",n,xt()):!e.multiple&&r&&s("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",n,xt())}}}(t),n._wrapperState={wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||vt||(s("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),vt=!0)}var Et=!1;function Mt(e,t){var r=e;if(null!=t.dangerouslySetInnerHTML)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");return n({},t,{value:void 0,defaultValue:void 0,children:Xe(r._wrapperState.initialValue)})}function Pt(e,t){var n=e;Ze(0,t),void 0===t.value||void 0===t.defaultValue||Et||(s("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",He()||"A component"),Et=!0);var r=t.value;if(null==r){var i=t.children,a=t.defaultValue;if(null!=i){if(s("Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=a)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Array.isArray(i)){if(!(i.length<=1))throw Error("<textarea> can only have at most one child.");i=i[0]}a=i}null==a&&(a=""),r=a}n._wrapperState={initialValue:Ye(r)}}function Tt(e,t){var n=e,r=Ye(t.value),i=Ye(t.defaultValue);if(null!=r){var a=Xe(r);a!==n.value&&(n.value=a),null==t.defaultValue&&n.defaultValue!==a&&(n.defaultValue=a)}null!=i&&(n.defaultValue=Xe(i))}function Ct(e,t){var n=e,r=n.textContent;r===n._wrapperState.initialValue&&""!==r&&null!==r&&(n.value=r)}var At="http://www.w3.org/1999/xhtml",It="http://www.w3.org/1998/Math/MathML",Rt="http://www.w3.org/2000/svg",Ot=At,Dt=Rt;function Lt(e){switch(e){case"svg":return Rt;case"math":return It;default:return At}}function jt(e,t){return null==e||e===At?Lt(t):e===Rt&&"foreignObject"===t?At:e}var Nt,zt,Ft=(zt=function(e,t){if(e.namespaceURI!==Dt||"innerHTML"in e)e.innerHTML=t;else{(Nt=Nt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(var n=Nt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return zt(e,t,n,r)}))}:zt),Bt=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t},Ut={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},Vt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var Ht=["Webkit","ms","Moz","O"];function Wt(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Vt.hasOwnProperty(e)&&Vt[e]?(""+t).trim():t+"px"}Object.keys(Vt).forEach((function(e){Ht.forEach((function(t){Vt[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=Vt[e]}))}));var Gt=/([A-Z])/g,qt=/^ms-/;var Kt=/^(?:webkit|moz|o)[A-Z]/,Xt=/^-ms-/,Yt=/-(.)/g,$t=/;\s*$/,Zt={},Qt={},Jt=!1,en=!1,tn=function(e){Zt.hasOwnProperty(e)&&Zt[e]||(Zt[e]=!0,s("Unsupported style property %s. Did you mean %s?",e,e.replace(Xt,"ms-").replace(Yt,(function(e,t){return t.toUpperCase()}))))},nn=function(e,t){e.indexOf("-")>-1?tn(e):Kt.test(e)?function(e){Zt.hasOwnProperty(e)&&Zt[e]||(Zt[e]=!0,s("Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))}(e):$t.test(t)&&function(e,t){Qt.hasOwnProperty(t)&&Qt[t]||(Qt[t]=!0,s('Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace($t,"")))}(e,t),"number"===typeof t&&(isNaN(t)?function(e,t){Jt||(Jt=!0,s("`NaN` is an invalid value for the `%s` css style property.",e))}(e):isFinite(t)||function(e,t){en||(en=!0,s("`Infinity` is an invalid value for the `%s` css style property.",e))}(e))};function rn(e){var t="",n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(null!=i){var a=0===r.indexOf("--");t+=n+(a?r:r.replace(Gt,"-$1").toLowerCase().replace(qt,"-ms-"))+":",t+=Wt(r,i,a),n=";"}}return t||null}function an(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--");i||nn(r,t[r]);var a=Wt(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,a):n[r]=a}}function on(e){var t={};for(var n in e)for(var r=Ut[n]||[n],i=0;i<r.length;i++)t[r[i]]=n;return t}var sn=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function un(e,t){if(t){if(sn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(e+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!t.suppressContentEditableWarning&&t.contentEditable&&null!=t.children&&s("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!==typeof t.style)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function ln(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},dn={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},fn={},pn=new RegExp("^(aria)-["+C+"]*$"),hn=new RegExp("^(aria)[A-Z]["+C+"]*$"),vn=Object.prototype.hasOwnProperty;function mn(e,t){if(vn.call(fn,t)&&fn[t])return!0;if(hn.test(t)){var n="aria-"+t.slice(4).toLowerCase(),r=dn.hasOwnProperty(n)?n:null;if(null==r)return s("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",t),fn[t]=!0,!0;if(t!==r)return s("Invalid ARIA attribute `%s`. Did you mean `%s`?",t,r),fn[t]=!0,!0}if(pn.test(t)){var i=t.toLowerCase(),a=dn.hasOwnProperty(i)?i:null;if(null==a)return fn[t]=!0,!1;if(t!==a)return s("Unknown ARIA attribute `%s`. Did you mean `%s`?",t,a),fn[t]=!0,!0}return!0}function gn(e,t){ln(e,t)||function(e,t){var n=[];for(var r in t)mn(0,r)||n.push(r);var i=n.map((function(e){return"`"+e+"`"})).join(", ");1===n.length?s("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",i,e):n.length>1&&s("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",i,e)}(e,t)}var yn=!1;var bn,xn={},wn=Object.prototype.hasOwnProperty,_n=/^on./,Sn=/^on[^A-Z]/,kn=new RegExp("^(aria)-["+C+"]*$"),En=new RegExp("^(aria)[A-Z]["+C+"]*$");bn=function(e,t,n,r){if(wn.call(xn,t)&&xn[t])return!0;var i=t.toLowerCase();if("onfocusin"===i||"onfocusout"===i)return s("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),xn[t]=!0,!0;if(null!=r){var a=r.registrationNameDependencies,o=r.possibleRegistrationNames;if(a.hasOwnProperty(t))return!0;var u=o.hasOwnProperty(i)?o[i]:null;if(null!=u)return s("Invalid event handler property `%s`. Did you mean `%s`?",t,u),xn[t]=!0,!0;if(_n.test(t))return s("Unknown event handler property `%s`. It will be ignored.",t),xn[t]=!0,!0}else if(_n.test(t))return Sn.test(t)&&s("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",t),xn[t]=!0,!0;if(kn.test(t)||En.test(t))return!0;if("innerhtml"===i)return s("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),xn[t]=!0,!0;if("aria"===i)return s("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),xn[t]=!0,!0;if("is"===i&&null!==n&&void 0!==n&&"string"!==typeof n)return s("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof n),xn[t]=!0,!0;if("number"===typeof n&&isNaN(n))return s("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",t),xn[t]=!0,!0;var l=F(t),c=null!==l&&0===l.type;if(cn.hasOwnProperty(i)){var d=cn[i];if(d!==t)return s("Invalid DOM property `%s`. Did you mean `%s`?",t,d),xn[t]=!0,!0}else if(!c&&t!==i)return s("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",t,i),xn[t]=!0,!0;return"boolean"===typeof n&&N(t,n,l,!1)?(n?s('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',n,t,t,n,t):s('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',n,t,t,n,t,t,t),xn[t]=!0,!0):!!c||(N(t,n,l,!1)?(xn[t]=!0,!1):("false"!==n&&"true"!==n||null===l||3!==l.type||(s("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",n,t,"false"===n?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',t,n),xn[t]=!0),!0))};function Mn(e,t,n){ln(e,t)||function(e,t,n){var r=[];for(var i in t)bn(0,i,t[i],n)||r.push(i);var a=r.map((function(e){return"`"+e+"`"})).join(", ");1===r.length?s("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",a,e):r.length>1&&s("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",a,e)}(e,t,n)}function Pn(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Tn=null,Cn=null,An=null;function In(e){var t=hu(e);if(t){if("function"!==typeof Tn)throw Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var n=t.stateNode;if(n){var r=mu(n);Tn(t.stateNode,t.type,r)}}}function Rn(e){Cn?An?An.push(e):An=[e]:Cn=e}function On(){if(Cn){var e=Cn,t=An;if(Cn=null,An=null,In(e),t)for(var n=0;n<t.length;n++)In(t[n])}}var Dn=function(e,t){return e(t)},Ln=function(e,t,n,r,i){return e(t,n,r,i)},jn=function(){},Nn=Dn,zn=!1,Fn=!1;function Bn(){(null!==Cn||null!==An)&&(jn(),On())}function Un(e,t){var n=e.stateNode;if(null===n)return null;var r=mu(n);if(null===r)return null;var i=r[t];if(function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!(!n.disabled||(r=t,"button"!==r&&"input"!==r&&"select"!==r&&"textarea"!==r));default:return!1}var r}(t,e.type,r))return null;if(i&&"function"!==typeof i)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof i+"` type.");return i}var Vn=!1;if(P)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch(ay){Vn=!1}function Wn(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Gn=Wn;if("undefined"!==typeof window&&"function"===typeof window.dispatchEvent&&"undefined"!==typeof document&&"function"===typeof document.createEvent){var qn=document.createElement("react");Gn=function(e,t,n,r,i,a,o,s,u){if("undefined"===typeof document)throw Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var l=document.createEvent("Event"),c=!1,d=!0,f=window.event,p=Object.getOwnPropertyDescriptor(window,"event");function h(){qn.removeEventListener(w,g,!1),"undefined"!==typeof window.event&&window.hasOwnProperty("event")&&(window.event=f)}var v,m=Array.prototype.slice.call(arguments,3);function g(){c=!0,h(),t.apply(n,m),d=!1}var y=!1,b=!1;function x(e){if(v=e.error,y=!0,null===v&&0===e.colno&&0===e.lineno&&(b=!0),e.defaultPrevented&&null!=v&&"object"===typeof v)try{v._suppressLogging=!0}catch(t){}}var w="react-"+(e||"invokeguardedcallback");if(window.addEventListener("error",x),qn.addEventListener(w,g,!1),l.initEvent(w,!1,!1),qn.dispatchEvent(l),p&&Object.defineProperty(window,"event",p),c&&d&&(y?b&&(v=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):v=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this.onError(v)),window.removeEventListener("error",x),!c)return h(),Wn.apply(this,arguments)}}var Kn=Gn,Xn=!1,Yn=null,$n=!1,Zn=null,Qn={onError:function(e){Xn=!0,Yn=e}};function Jn(e,t,n,r,i,a,o,s,u){Xn=!1,Yn=null,Kn.apply(Qn,arguments)}function er(){return Xn}function tr(){if(Xn){var e=Yn;return Xn=!1,Yn=null,e}throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function nr(e){return e._reactInternals}var rr,ir,ar,or,sr=64,ur=128,lr=256,cr=512,dr=8192,fr=1024,pr=2048,hr=4096,vr=16384,mr=a.ReactCurrentOwner;function gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{var r=t;do{0!==(1026&(t=r).flags)&&(n=t.return),r=t.return}while(r)}return 3===t.tag?n:null}function yr(e){if(e.tag===f){var t=e.memoizedState;if(null===t){var n=e.alternate;null!==n&&(t=n.memoizedState)}if(null!==t)return t.dehydrated}return null}function br(e){return 3===e.tag?e.stateNode.containerInfo:null}function xr(e){if(gr(e)!==e)throw Error("Unable to find node on an unmounted component.")}function wr(e){var t=e.alternate;if(!t){var n=gr(e);if(null===n)throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var r=e,i=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){var s=a.return;if(null!==s){r=i=s;continue}break}if(a.child===o.child){for(var u=a.child;u;){if(u===r)return xr(a),e;if(u===i)return xr(a),t;u=u.sibling}throw Error("Unable to find node on an unmounted component.")}if(r.return!==i.return)r=a,i=o;else{for(var l=!1,c=a.child;c;){if(c===r){l=!0,r=a,i=o;break}if(c===i){l=!0,i=a,r=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===r){l=!0,r=o,i=a;break}if(c===i){l=!0,i=o,r=a;break}c=c.sibling}if(!l)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==i)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==r.tag)throw Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}function _r(e){var t=wr(e);if(!t)return null;for(var n=t;;){if(5===n.tag||6===n.tag)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function Sr(e,t){for(var n=t,r=e.alternate;null!==n;){if(n===e||n===r)return!0;n=n.return}return!1}var kr=!1,Er=[],Mr=null,Pr=null,Tr=null,Cr=new Map,Ar=new Map,Ir=[];var Rr=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function Or(e){return Rr.indexOf(e)>-1}function Dr(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function Lr(e,t,n,r,i){var a=Dr(e,t,n,r,i);Er.push(a)}function jr(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":var n=t.pointerId;Cr.delete(n);break;case"gotpointercapture":case"lostpointercapture":var r=t.pointerId;Ar.delete(r)}}function Nr(e,t,n,r,i,a){if(null===e||e.nativeEvent!==a){var o=Dr(t,n,r,i,a);if(null!==t){var s=hu(t);null!==s&&ir(s)}return o}e.eventSystemFlags|=r;var u=e.targetContainers;return null!==i&&-1===u.indexOf(i)&&u.push(i),e}function zr(e){var t=pu(e.target);if(null!==t){var n=gr(t);if(null!==n){var i=n.tag;if(i===f){var a=yr(n);if(null!==a)return e.blockedOn=a,void or(e.lanePriority,(function(){r.unstable_runWithPriority(e.priority,(function(){ar(n)}))}))}else if(3===i){if(n.stateNode.hydrate)return void(e.blockedOn=br(n))}}}e.blockedOn=null}function Fr(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;t.length>0;){var n=t[0],r=Xi(e.domEventName,e.eventSystemFlags,n,e.nativeEvent);if(null!==r){var i=hu(r);return null!==i&&ir(i),e.blockedOn=r,!1}t.shift()}return!0}function Br(e,t,n){Fr(e)&&n.delete(t)}function Ur(){for(kr=!1;Er.length>0;){var e=Er[0];if(null!==e.blockedOn){var t=hu(e.blockedOn);null!==t&&rr(t);break}for(var n=e.targetContainers;n.length>0;){var r=n[0],i=Xi(e.domEventName,e.eventSystemFlags,r,e.nativeEvent);if(null!==i){e.blockedOn=i;break}n.shift()}null===e.blockedOn&&Er.shift()}null!==Mr&&Fr(Mr)&&(Mr=null),null!==Pr&&Fr(Pr)&&(Pr=null),null!==Tr&&Fr(Tr)&&(Tr=null),Cr.forEach(Br),Ar.forEach(Br)}function Vr(e,t){e.blockedOn===t&&(e.blockedOn=null,kr||(kr=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ur)))}function Hr(e){if(Er.length>0){Vr(Er[0],e);for(var t=1;t<Er.length;t++){var n=Er[t];n.blockedOn===e&&(n.blockedOn=null)}}null!==Mr&&Vr(Mr,e),null!==Pr&&Vr(Pr,e),null!==Tr&&Vr(Tr,e);var r=function(t){return Vr(t,e)};Cr.forEach(r),Ar.forEach(r);for(var i=0;i<Ir.length;i++){var a=Ir[i];a.blockedOn===e&&(a.blockedOn=null)}for(;Ir.length>0;){var o=Ir[0];if(null!==o.blockedOn)break;zr(o),null===o.blockedOn&&Ir.shift()}}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gr={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionend:Wr("Transition","TransitionEnd")},qr={},Kr={};function Xr(e){if(qr[e])return qr[e];if(!Gr[e])return e;var t=Gr[e];for(var n in t)if(t.hasOwnProperty(n)&&n in Kr)return qr[e]=t[n];return e}P&&(Kr=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);var Yr=Xr("animationend"),$r=Xr("animationiteration"),Zr=Xr("animationstart"),Qr=Xr("transitionend"),Jr=new Map,ei=new Map,ti=["cancel","cancel","click","click","close","close","contextmenu","contextMenu","copy","copy","cut","cut","auxclick","auxClick","dblclick","doubleClick","dragend","dragEnd","dragstart","dragStart","drop","drop","focusin","focus","focusout","blur","input","input","invalid","invalid","keydown","keyDown","keypress","keyPress","keyup","keyUp","mousedown","mouseDown","mouseup","mouseUp","paste","paste","pause","pause","play","play","pointercancel","pointerCancel","pointerdown","pointerDown","pointerup","pointerUp","ratechange","rateChange","reset","reset","seeked","seeked","submit","submit","touchcancel","touchCancel","touchend","touchEnd","touchstart","touchStart","volumechange","volumeChange"],ni=["change","selectionchange","textInput","compositionstart","compositionend","compositionupdate"],ri=["drag","drag","dragenter","dragEnter","dragexit","dragExit","dragleave","dragLeave","dragover","dragOver","mousemove","mouseMove","mouseout","mouseOut","mouseover","mouseOver","pointermove","pointerMove","pointerout","pointerOut","pointerover","pointerOver","scroll","scroll","toggle","toggle","touchmove","touchMove","wheel","wheel"],ii=["abort","abort",Yr,"animationEnd",$r,"animationIteration",Zr,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qr,"transitionEnd","waiting","waiting"];function ai(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));ei.set(r,t),Jr.set(r,a),E(a,[r])}}var oi=r.unstable_now;if(null==i.__interactionsRef||null==i.__interactionsRef.current)throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");oi();var si=15,ui=10,li=3584,ci=4186112,di=62914560,fi=33554432,pi=67108864,hi=134217727,vi=134217728,mi=805306368,gi=1073741824,yi=-1;var bi=8;function xi(e){if(0!==(1&e))return bi=si,1;if(0!==(2&e))return bi=14,2;if(0!==(4&e))return bi=13,4;var t=24&e;if(0!==t)return bi=12,t;if(0!==(32&e))return bi=11,32;var n=192&e;if(0!==n)return bi=ui,n;if(0!==(256&e))return bi=9,256;var r=li&e;if(0!==r)return bi=8,r;if(0!==(4096&e))return bi=7,4096;var i=ci&e;if(0!==i)return bi=6,i;var a=di&e;if(0!==a)return bi=5,a;if(e&pi)return bi=4,pi;if(0!==(e&vi))return bi=3,vi;var o=mi&e;return 0!==o?(bi=2,o):0!==(gi&e)?(bi=1,gi):(s("Should have found matching lanes. This is a bug in React."),bi=8,e)}function wi(e,t){var n=e.pendingLanes;if(0===n)return bi=0,0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=bi=si;else{var u=n&hi;if(0!==u){var l=u&~o;if(0!==l)r=xi(l),i=bi;else{var c=u&s;0!==c&&(r=xi(c),i=bi)}}else{var d=n&~o;0!==d?(r=xi(d),i=bi):0!==s&&(r=xi(s),i=bi)}}if(0===r)return 0;if(r=n&function(e){return(function(e){var t=31-Ni(e);return t<0?0:1<<t}(e)<<1)-1}(r),0!==t&&t!==r&&0===(t&o)){if(xi(t),i<=bi)return t;bi=i}var f=e.entangledLanes;if(0!==f)for(var p=e.entanglements,h=r&f;h>0;){var v=Ti(h),m=1<<v;r|=p[v],h&=~m}return r}function _i(e,t){xi(e);return bi>=ui?t+250:bi>=6?t+5e3:yi}function Si(e){var t=-1073741825&e.pendingLanes;return 0!==t?t:t&gi?gi:0}function ki(e){return 0!==(e&hi)}function Ei(e){return(e&di)===e}function Mi(e,t){switch(e){case 0:break;case si:return 1;case 14:return 2;case 12:var n=Pi(24&~t);return 0===n?Mi(ui,t):n;case ui:var r=Pi(192&~t);return 0===r?Mi(8,t):r;case 8:var i=Pi(li&~t);return 0===i&&0===(i=Pi(ci&~t))&&(i=Pi(li)),i;case 6:case 5:break;case 2:var a=Pi(mi&~t);return 0===a&&(a=Pi(mi)),a}throw Error("Invalid update priority: "+e+". This is a bug in React.")}function Pi(e){return function(e){return e&-e}(e)}function Ti(e){return 31-Ni(e)}function Ci(e,t){return 0!==(e&t)}function Ai(e,t){return(e&t)===t}function Ii(e,t){return e|t}function Ri(e,t){return e&~t}function Oi(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function Di(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e.eventTimes[Ti(t)]=n}function Li(e,t,n){e.pingedLanes|=e.suspendedLanes&t}function ji(e,t){e.mutableReadLanes|=t&e.pendingLanes}var Ni=Math.clz32?Math.clz32:function(e){if(0===e)return 32;return 31-(zi(e)/Fi|0)|0},zi=Math.log,Fi=Math.LN2;var Bi=r.unstable_UserBlockingPriority,Ui=r.unstable_runWithPriority,Vi=!0;function Hi(e){Vi=!!e}function Wi(e,t,n){var r,i=function(e){var t=ei.get(e);return void 0===t?2:t}(t);switch(i){case 0:r=Gi;break;case 1:r=qi;break;default:r=Ki}return r.bind(null,t,n,e)}function Gi(e,t,n,r){r.timeStamp,zn||jn(),function(e,t,n,r,i){var a=zn;zn=!0;try{Ln(e,t,n,r,i)}finally{(zn=a)||Bn()}}(Ki,e,t,n,r)}function qi(e,t,n,r){Ui(Bi,Ki.bind(null,e,t,n,r))}function Ki(e,t,n,r){if(Vi){var i;if((i=0===(4&t))&&Er.length>0&&Or(e))Lr(null,e,t,n,r);else{var a=Xi(e,t,n,r);if(null!==a){if(i){if(Or(e))return void Lr(a,e,t,n,r);if(function(e,t,n,r,i){switch(t){case"focusin":return Mr=Nr(Mr,e,t,n,r,i),!0;case"dragenter":return Pr=Nr(Pr,e,t,n,r,i),!0;case"mouseover":return Tr=Nr(Tr,e,t,n,r,i),!0;case"pointerover":var a=i,o=a.pointerId;return Cr.set(o,Nr(Cr.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":var s=i,u=s.pointerId;return Ar.set(u,Nr(Ar.get(u)||null,e,t,n,r,s)),!0}return!1}(a,e,t,n,r))return;jr(e,r)}Vo(e,t,r,null,n)}else i&&jr(e,r)}}}function Xi(e,t,n,r){var i=pu(Pn(r));if(null!==i){var a=gr(i);if(null===a)i=null;else{var o=a.tag;if(o===f){var s=yr(a);if(null!==s)return s;i=null}else if(3===o){if(a.stateNode.hydrate)return br(a);i=null}else a!==i&&(i=null)}}return Vo(e,t,r,i,n),null}var Yi=null,$i=null,Zi=null;function Qi(){if(Zi)return Zi;var e,t,n=$i,r=n.length,i=Ji(),a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);var s=t>1?1-t:void 0;return Zi=i.slice(e,s)}function Ji(){return"value"in Yi?Yi.value:Yi.textContent}function ea(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),t>=32||13===t?t:0}function ta(){return!0}function na(){return!1}function ra(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)if(e.hasOwnProperty(o)){var s=e[o];this[o]=s?s(i):i[o]}var u=null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue;return this.isDefaultPrevented=u?ta:na,this.isPropagationStopped=na,this}return n(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),t}var ia,aa,oa,sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=ra(sa),la=n({},sa,{view:0,detail:0}),ca=ra(la);var da=n({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(function(e){e!==oa&&(oa&&"mousemove"===e.type?(ia=e.screenX-oa.screenX,aa=e.screenY-oa.screenY):(ia=0,aa=0),oa=e)}(e),ia)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),fa=ra(da),pa=ra(n({},da,{dataTransfer:0})),ha=ra(n({},la,{relatedTarget:0})),va=ra(n({},sa,{animationName:0,elapsedTime:0,pseudoElement:0})),ma=ra(n({},sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ga=ra(n({},sa,{data:0})),ya=ga,ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};var wa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _a(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=wa[e];return!!n&&!!t[n]}function Sa(e){return _a}var ka=ra(n({},la,{key:function(e){if(e.key){var t=ba[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=ea(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?xa[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(e){return"keypress"===e.type?ea(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ea(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Ea=ra(n({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ma=ra(n({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa})),Pa=ra(n({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ta=ra(n({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ca=[9,13,27,32],Aa=P&&"CompositionEvent"in window,Ia=null;P&&"documentMode"in document&&(Ia=document.documentMode);var Ra=P&&"TextEvent"in window&&!Ia,Oa=P&&(!Aa||Ia&&Ia>8&&Ia<=11),Da=String.fromCharCode(32);var La=!1;function ja(e,t){switch(e){case"keyup":return-1!==Ca.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(e){var t=e.detail;return"object"===typeof t&&"data"in t?t.data:null}function za(e){return"ko"===e.locale}var Fa=!1;function Ba(e,t,n,r,i){var a,o;if(Aa?a=function(e){switch(e){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}(t):Fa?ja(t,r)&&(a="onCompositionEnd"):function(e,t){return"keydown"===e&&229===t.keyCode}(t,r)&&(a="onCompositionStart"),!a)return null;Oa&&!za(r)&&(Fa||"onCompositionStart"!==a?"onCompositionEnd"===a&&Fa&&(o=Qi()):Fa=function(e){return Yi=e,$i=Ji(),!0}(i));var s=Wo(n,a);if(s.length>0){var u=new ga(a,t,null,r,i);if(e.push({event:u,listeners:s}),o)u.data=o;else{var l=Na(r);null!==l&&(u.data=l)}}}function Ua(e,t){if(Fa){if("compositionend"===e||!Aa&&ja(e,t)){var n=Qi();return Yi=null,$i=null,Zi=null,Fa=!1,n}return null}switch(e){case"paste":default:return null;case"keypress":if(!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oa&&!za(t)?null:t.data}}function Va(e,t,n,r,i){var a;if(!(a=Ra?function(e,t){switch(e){case"compositionend":return Na(t);case"keypress":return 32!==t.which?null:(La=!0,Da);case"textInput":var n=t.data;return n===Da&&La?null:n;default:return null}}(t,r):Ua(t,r)))return null;var o=Wo(n,"onBeforeInput");if(o.length>0){var s=new ya("onBeforeInput","beforeinput",null,r,i);e.push({event:s,listeners:o}),s.data=a}}var Ha={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ha[e.type]:"textarea"===t}function Ga(e,t,n,r){Rn(r);var i=Wo(t,"onChange");if(i.length>0){var a=new ua("onChange","change",null,n,r);e.push({event:a,listeners:i})}}var qa=null,Ka=null;function Xa(e){var t=[];Ga(t,Ka,e,Pn(e)),function(e,t){if(zn)return e(t);zn=!0;try{Dn(e,t)}finally{zn=!1,Bn()}}(Ya,t)}function Ya(e){Lo(e,0)}function $a(e){if(tt(vu(e)))return e}function Za(e,t){if("change"===e)return t}var Qa=!1;function Ja(){qa&&(qa.detachEvent("onpropertychange",eo),qa=null,Ka=null)}function eo(e){"value"===e.propertyName&&$a(Ka)&&Xa(e)}function to(e,t,n){"focusin"===e?(Ja(),function(e,t){Ka=t,(qa=e).attachEvent("onpropertychange",eo)}(t,n)):"focusout"===e&&Ja()}function no(e,t){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $a(Ka)}function ro(e,t){if("click"===e)return $a(t)}function io(e,t){if("input"===e||"change"===e)return $a(t)}function ao(e,t,n,r,i,a,o){var s,u,l=n?vu(n):window;if(!function(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}(l)?Wa(l)?Qa?s=io:(s=no,u=to):function(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(l)&&(s=ro):s=Za,s){var c=s(t,n);if(c)return void Ga(e,c,r,i)}u&&u(t,l,n),"focusout"===t&&function(e){var t=e._wrapperState;t&&t.controlled&&"number"===e.type&&ht(e,"number",e.value)}(l)}function oo(e,t,n,r,i,a,o){var s="mouseover"===t||"pointerover"===t,u="mouseout"===t||"pointerout"===t;if(s&&0===(16&a)){var l=r.relatedTarget||r.fromElement;if(l&&(pu(l)||fu(l)))return}if(u||s){var c,d,f;if(i.window===i)c=i;else{var p=i.ownerDocument;c=p?p.defaultView||p.parentWindow:window}if(u){var h=r.relatedTarget||r.toElement;if(d=n,null!==(f=h?pu(h):null))(f!==gr(f)||5!==f.tag&&6!==f.tag)&&(f=null)}else d=null,f=n;if(d!==f){var v=fa,m="onMouseLeave",g="onMouseEnter",y="mouse";"pointerout"!==t&&"pointerover"!==t||(v=Ea,m="onPointerLeave",g="onPointerEnter",y="pointer");var b=null==d?c:vu(d),x=null==f?c:vu(f),w=new v(m,y+"leave",d,r,i);w.target=b,w.relatedTarget=x;var _=null;if(pu(i)===n){var S=new v(g,y+"enter",f,r,i);S.target=x,S.relatedTarget=b,_=S}!function(e,t,n,r,i){var a=r&&i?function(e,t){for(var n=e,r=t,i=0,a=n;a;a=Go(a))i++;for(var o=0,s=r;s;s=Go(s))o++;for(;i-o>0;)n=Go(n),i--;for(;o-i>0;)r=Go(r),o--;var u=i;for(;u--;){if(n===r||null!==r&&n===r.alternate)return n;n=Go(n),r=Go(r)}return null}(r,i):null;null!==r&&qo(e,t,r,a,!1);null!==i&&null!==n&&qo(e,n,i,a,!0)}(e,w,_,d,f)}}}P&&(Qa=function(e){if(!P)return!1;var t="on"+e,n=t in document;if(!n){var r=document.createElement("div");r.setAttribute(t,"return;"),n="function"===typeof r[t]}return n}("input")&&(!document.documentMode||document.documentMode>9));var so="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},uo=Object.prototype.hasOwnProperty;function lo(e,t){if(so(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!uo.call(t,n[i])||!so(e[n[i]],t[n[i]]))return!1;return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fo(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function po(e,t){for(var n=co(e),r=0,i=0;n;){if(3===n.nodeType){if(i=r+n.textContent.length,r<=t&&i>=t)return{node:n,offset:t-r};r=i}n=co(fo(n))}}function ho(e){var t=e.ownerDocument,n=t&&t.defaultView||window,r=n.getSelection&&n.getSelection();if(!r||0===r.rangeCount)return null;var i=r.anchorNode,a=r.anchorOffset,o=r.focusNode,s=r.focusOffset;try{i.nodeType,o.nodeType}catch(ay){return null}return function(e,t,n,r,i){var a=0,o=-1,s=-1,u=0,l=0,c=e,d=null;e:for(;;){for(var f=null;c!==t||0!==n&&3!==c.nodeType||(o=a+n),c!==r||0!==i&&3!==c.nodeType||(s=a+i),3===c.nodeType&&(a+=c.nodeValue.length),null!==(f=c.firstChild);)d=c,c=f;for(;;){if(c===e)break e;if(d===t&&++u===n&&(o=a),d===r&&++l===i&&(s=a),null!==(f=c.nextSibling))break;d=(c=d).parentNode}c=f}if(-1===o||-1===s)return null;return{start:o,end:s}}(e,i,a,o,s)}function vo(e){return e&&3===e.nodeType}function mo(e,t){return!(!e||!t)&&(e===t||!vo(e)&&(vo(t)?mo(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function go(e){return e&&e.ownerDocument&&mo(e.ownerDocument.documentElement,e)}function yo(e){try{return"string"===typeof e.contentWindow.location.href}catch(t){return!1}}function bo(){for(var e=window,t=nt();t instanceof e.HTMLIFrameElement;){if(!yo(t))return t;t=nt((e=t.contentWindow).document)}return t}function xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function wo(e){var t=bo(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&go(n)){null!==r&&xo(n)&&function(e,t){var n=t.start,r=t.end;void 0===r&&(r=n);"selectionStart"in e?(e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length)):function(e,t){var n=e.ownerDocument||document,r=n&&n.defaultView||window;if(r.getSelection){var i=r.getSelection(),a=e.textContent.length,o=Math.min(t.start,a),s=void 0===t.end?o:Math.min(t.end,a);if(!i.extend&&o>s){var u=s;s=o,o=u}var l=po(e,o),c=po(e,s);if(l&&c){if(1===i.rangeCount&&i.anchorNode===l.node&&i.anchorOffset===l.offset&&i.focusNode===c.node&&i.focusOffset===c.offset)return;var d=n.createRange();d.setStart(l.node,l.offset),i.removeAllRanges(),o>s?(i.addRange(d),i.extend(c.node,c.offset)):(d.setEnd(c.node,c.offset),i.addRange(d))}}}(e,t)}(n,r);for(var i=[],a=n;a=a.parentNode;)1===a.nodeType&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});"function"===typeof n.focus&&n.focus();for(var o=0;o<i.length;o++){var s=i[o];s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}}function _o(e){return("selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:ho(e))||{start:0,end:0}}var So=P&&"documentMode"in document&&document.documentMode<=11;var ko=null,Eo=null,Mo=null,Po=!1;function To(e,t,n){var r,i=(r=n).window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!Po&&null!=ko&&ko===nt(i)){var a=function(e){if("selectionStart"in e&&xo(e))return{start:e.selectionStart,end:e.selectionEnd};var t=(e.ownerDocument&&e.ownerDocument.defaultView||window).getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}(ko);if(!Mo||!lo(Mo,a)){Mo=a;var o=Wo(Eo,"onSelect");if(o.length>0){var s=new ua("onSelect","select",null,t,n);e.push({event:s,listeners:o}),s.target=ko}}}}function Co(e,t,n,r,i,a,o){var s=Jr.get(t);if(void 0!==s){var u=ua,l=t;switch(t){case"keypress":if(0===ea(r))return;case"keydown":case"keyup":u=ka;break;case"focusin":l="focus",u=ha;break;case"focusout":l="blur",u=ha;break;case"beforeblur":case"afterblur":u=ha;break;case"click":if(2===r.button)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Ma;break;case Yr:case $r:case Zr:u=va;break;case Qr:u=Pa;break;case"scroll":u=ca;break;case"wheel":u=Ta;break;case"copy":case"cut":case"paste":u=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Ea}var c=0!==(4&a),d=!c&&"scroll"===t,f=function(e,t,n,r,i){var a=null!==t?t+"Capture":null,o=r?a:t,s=[],u=e,l=null;for(;null!==u;){var c=u,d=c.stateNode;if(5===c.tag&&null!==d&&(l=d,null!==o)){var f=Un(u,o);null!=f&&s.push(Ho(u,f,l))}if(i)break;u=u.return}return s}(n,s,r.type,c,d);if(f.length>0){var p=new u(s,l,null,r,i);e.push({event:p,listeners:f})}}}function Ao(e,t,n,r,i,a,o){Co(e,t,n,r,i,a),0===(7&a)&&(oo(e,t,n,r,i,a),ao(e,t,n,r,i),function(e,t,n,r,i,a,o){var s=n?vu(n):window;switch(t){case"focusin":(Wa(s)||"true"===s.contentEditable)&&(ko=s,Eo=n,Mo=null);break;case"focusout":ko=null,Eo=null,Mo=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,To(e,r,i);break;case"selectionchange":if(So)break;case"keydown":case"keyup":To(e,r,i)}}(e,t,n,r,i),function(e,t,n,r,i,a,o){Ba(e,t,n,r,i),Va(e,t,n,r,i)}(e,t,n,r,i))}ai(ti,0),ai(ri,1),ai(ii,2),function(e,t){for(var n=0;n<e.length;n++)ei.set(e[n],t)}(ni,0),M("onMouseEnter",["mouseout","mouseover"]),M("onMouseLeave",["mouseout","mouseover"]),M("onPointerEnter",["pointerout","pointerover"]),M("onPointerLeave",["pointerout","pointerover"]),E("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"]),E("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"]),E("onBeforeInput",["compositionend","keypress","textInput","paste"]),E("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),E("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),E("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"]);var Io=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],Ro=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Io));function Oo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,s,u){if(Jn.apply(this,arguments),Xn){var l=tr();$n||($n=!0,Zn=l)}}(r,t,void 0,e),e.currentTarget=null}function Do(e,t,n){var r;if(n)for(var i=t.length-1;i>=0;i--){var a=t[i],o=a.instance,s=a.currentTarget,u=a.listener;if(o!==r&&e.isPropagationStopped())return;Oo(e,u,s),r=o}else for(var l=0;l<t.length;l++){var c=t[l],d=c.instance,f=c.currentTarget,p=c.listener;if(d!==r&&e.isPropagationStopped())return;Oo(e,p,f),r=d}}function Lo(e,t){for(var n=0!==(4&t),r=0;r<e.length;r++){var i=e[r];Do(i.event,i.listeners,n)}!function(){if($n){var e=Zn;throw $n=!1,Zn=null,e}}()}function jo(e,t){var n=yu(t),r=Ko(e,false);n.has(r)||(Bo(t,e,2,false),n.add(r))}var No="_reactListening"+Math.random().toString(36).slice(2);function zo(e){e[No]||(e[No]=!0,_.forEach((function(t){Ro.has(t)||Fo(t,!1,e,null),Fo(t,!0,e,null)})))}function Fo(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ro.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=yu(a),s=Ko(e,t);o.has(s)||(t&&(i|=4),Bo(a,e,i,t),o.add(s))}function Bo(e,t,n,r,i){var a=Wi(e,t,n),o=void 0;Vn&&("touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0)),r?void 0!==o?function(e,t,n,r){e.addEventListener(t,n,{capture:!0,passive:r})}(e,t,a,o):function(e,t,n){e.addEventListener(t,n,!0)}(e,t,a):void 0!==o?function(e,t,n,r){e.addEventListener(t,n,{passive:r})}(e,t,a,o):function(e,t,n){e.addEventListener(t,n,!1)}(e,t,a)}function Uo(e,t){return e===t||8===e.nodeType&&e.parentNode===t}function Vo(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)){var o=i;if(null!==r){var s=r;e:for(;;){if(null===s)return;var u=s.tag;if(3===u||4===u){var l=s.stateNode.containerInfo;if(Uo(l,o))break;if(4===u)for(var c=s.return;null!==c;){var d=c.tag;if(3===d||4===d)if(Uo(c.stateNode.containerInfo,o))return;c=c.return}for(;null!==l;){var f=pu(l);if(null===f)return;var p=f.tag;if(5===p||6===p){s=a=f;continue e}l=l.parentNode}}s=s.return}}}!function(e,t,n){if(Fn)return e(t,n);Fn=!0;try{Nn(e,t,n)}finally{Fn=!1,Bn()}}((function(){return function(e,t,n,r,i){var a=[];Ao(a,e,r,n,Pn(n),t),Lo(a,t)}(e,t,n,a)}))}function Ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wo(e,t){for(var n=t+"Capture",r=[],i=e;null!==i;){var a=i,o=a.stateNode;if(5===a.tag&&null!==o){var s=o,u=Un(i,n);null!=u&&r.unshift(Ho(i,u,s));var l=Un(i,t);null!=l&&r.push(Ho(i,l,s))}i=i.return}return r}function Go(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qo(e,t,n,r,i){for(var a=t._reactName,o=[],s=n;null!==s&&s!==r;){var u=s,l=u.alternate,c=u.stateNode,d=u.tag;if(null!==l&&l===r)break;if(5===d&&null!==c){var f=c;if(i){var p=Un(s,a);null!=p&&o.unshift(Ho(s,p,f))}else if(!i){var h=Un(s,a);null!=h&&o.push(Ho(s,h,f))}}s=s.return}0!==o.length&&e.push({event:t,listeners:o})}function Ko(e,t){return e+"__"+(t?"capture":"bubble")}var Xo,Yo,$o,Zo,Qo,Jo,es,ts,ns,rs,is=!1,as="dangerouslySetInnerHTML",os="suppressContentEditableWarning",ss="suppressHydrationWarning",us="autoFocus",ls="children",cs="style",ds=Ot;Xo={dialog:!0,webview:!0},$o=function(e,t){gn(e,t),function(e,t){"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||yn||(yn=!0,"select"===e&&t.multiple?s("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",e):s("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",e))}(e,t),Mn(e,t,{registrationNameDependencies:S,possibleRegistrationNames:k})},ts=P&&!document.documentMode;var fs=/\r\n?/g,ps=/\u0000|\uFFFD/g;function hs(e){return 9===e.nodeType?e:e.ownerDocument}function vs(){}function ms(e){e.onclick=vs}function gs(e,t,n,r){var i,a=ln(t,n);switch($o(t,n),t){case"dialog":jo("cancel",e),jo("close",e),i=n;break;case"iframe":case"object":case"embed":jo("load",e),i=n;break;case"video":case"audio":for(var o=0;o<Io.length;o++)jo(Io[o],e);i=n;break;case"source":jo("error",e),i=n;break;case"img":case"image":case"link":jo("error",e),jo("load",e),i=n;break;case"details":jo("toggle",e),i=n;break;case"input":lt(e,n),i=ut(e,n),jo("invalid",e);break;case"option":yt(0,n),i=bt(0,n);break;case"select":kt(e,n),i=St(0,n),jo("invalid",e);break;case"textarea":Pt(e,n),i=Mt(e,n),jo("invalid",e);break;default:i=n}switch(un(t,i),function(e,t,n,r,i){for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];if(a===cs)o&&Object.freeze(o),an(t,o);else if(a===as){var s=o?o.__html:void 0;null!=s&&Ft(t,s)}else a===ls?"string"===typeof o?("textarea"!==e||""!==o)&&Bt(t,o):"number"===typeof o&&Bt(t,""+o):a===os||a===ss||a===us||(S.hasOwnProperty(a)?null!=o&&("function"!==typeof o&&es(a,o),"onScroll"===a&&jo("scroll",t)):null!=o&&Y(t,a,o,i))}}(t,e,0,i,a),t){case"input":et(e),ft(e,n,!1);break;case"textarea":et(e),Ct(e);break;case"option":!function(e,t){null!=t.value&&e.setAttribute("value",Xe(Ye(t.value)))}(e,n);break;case"select":!function(e,t){var n=e;n.multiple=!!t.multiple;var r=t.value;null!=r?_t(n,!!t.multiple,r,!1):null!=t.defaultValue&&_t(n,!!t.multiple,t.defaultValue,!0)}(e,n);break;default:"function"===typeof i.onClick&&ms(e)}}function ys(e,t,n,r,i){$o(t,r);var a,o,u,l,c=null;switch(t){case"input":a=ut(e,n),o=ut(e,r),c=[];break;case"option":a=bt(0,n),o=bt(0,r),c=[];break;case"select":a=St(0,n),o=St(0,r),c=[];break;case"textarea":a=Mt(e,n),o=Mt(e,r),c=[];break;default:o=r,"function"!==typeof(a=n).onClick&&"function"===typeof o.onClick&&ms(e)}un(t,o);var d=null;for(u in a)if(!o.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if(u===cs){var f=a[u];for(l in f)f.hasOwnProperty(l)&&(d||(d={}),d[l]="")}else u===as||u===ls||u===os||u===ss||u===us||(S.hasOwnProperty(u)?c||(c=[]):(c=c||[]).push(u,null));for(u in o){var p=o[u],h=null!=a?a[u]:void 0;if(o.hasOwnProperty(u)&&p!==h&&(null!=p||null!=h))if(u===cs)if(p&&Object.freeze(p),h){for(l in h)!h.hasOwnProperty(l)||p&&p.hasOwnProperty(l)||(d||(d={}),d[l]="");for(l in p)p.hasOwnProperty(l)&&h[l]!==p[l]&&(d||(d={}),d[l]=p[l])}else d||(c||(c=[]),c.push(u,d)),d=p;else if(u===as){var v=p?p.__html:void 0,m=h?h.__html:void 0;null!=v&&m!==v&&(c=c||[]).push(u,v)}else u===ls?"string"!==typeof p&&"number"!==typeof p||(c=c||[]).push(u,""+p):u===os||u===ss||(S.hasOwnProperty(u)?(null!=p&&("function"!==typeof p&&es(u,p),"onScroll"===u&&jo("scroll",e)),c||h===p||(c=[])):"object"===typeof p&&null!==p&&p.$$typeof===le?p.toString():(c=c||[]).push(u,p))}return d&&(!function(e,t){if(t){var n,r=on(e),i=on(t),a={};for(var o in r){var u=r[o],l=i[o];if(l&&u!==l){var c=u+","+l;if(a[c])continue;a[c]=!0,s("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",null==(n=e[u])||"boolean"===typeof n||""===n?"Removing":"Updating",u,l)}}}}(d,o.style),(c=c||[]).push(cs,d)),c}function bs(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&ct(e,i);ln(n,r);switch(function(e,t,n,r){for(var i=0;i<t.length;i+=2){var a=t[i],o=t[i+1];a===cs?an(e,o):a===as?Ft(e,o):a===ls?Bt(e,o):Y(e,a,o,r)}}(e,t,0,ln(n,i)),n){case"input":dt(e,i);break;case"textarea":Tt(e,i);break;case"select":!function(e,t){var n=e,r=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!t.multiple;var i=t.value;null!=i?_t(n,!!t.multiple,i,!1):r!==!!t.multiple&&(null!=t.defaultValue?_t(n,!!t.multiple,t.defaultValue,!0):_t(n,!!t.multiple,t.multiple?[]:"",!1))}(e,i)}}function xs(e){var t=e.toLowerCase();return cn.hasOwnProperty(t)&&cn[t]||null}function ws(e,t){Zo(e.nodeValue,t)}function _s(e,t){is||(is=!0,s("Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),e.nodeName.toLowerCase()))}function Ss(e,t){is||(is=!0,s('Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase()))}function ks(e,t,n){is||(is=!0,s("Expected server HTML to contain a matching <%s> in <%s>.",t,e.nodeName.toLowerCase()))}function Es(e,t){""!==t&&(is||(is=!0,s('Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase())))}ns=function(e){return("string"===typeof e?e:""+e).replace(fs,"\n").replace(ps,"")},Zo=function(e,t){if(!is){var n=ns(t),r=ns(e);r!==n&&(is=!0,s('Text content did not match. Server: "%s" Client: "%s"',r,n))}},Qo=function(e,t,n){if(!is){var r=ns(n),i=ns(t);i!==r&&(is=!0,s("Prop `%s` did not match. Server: %s Client: %s",e,JSON.stringify(i),JSON.stringify(r)))}},Jo=function(e){if(!is){is=!0;var t=[];e.forEach((function(e){t.push(e)})),s("Extra attributes from the server: %s",t)}},es=function(e,t){!1===t?s("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",e,e,e):s("Expected `%s` listener to be a function, instead got a value of `%s` type.",e,typeof t)},rs=function(e,t){var n=e.namespaceURI===ds?e.ownerDocument.createElement(e.tagName):e.ownerDocument.createElementNS(e.namespaceURI,e.tagName);return n.innerHTML=t,n.innerHTML};var Ms,Ps,Ts=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],Cs=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],As=Cs.concat(["button"]),Is=["dd","dt","li","option","optgroup","p","rp","rt"],Rs={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Ps=function(e,t){var r=n({},e||Rs),i={tag:t};return-1!==Cs.indexOf(t)&&(r.aTagInScope=null,r.buttonTagInScope=null,r.nobrTagInScope=null),-1!==As.indexOf(t)&&(r.pTagInButtonScope=null),-1!==Ts.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(r.listItemTagAutoclosing=null,r.dlItemTagAutoclosing=null),r.current=i,"form"===t&&(r.formTag=i),"a"===t&&(r.aTagInScope=i),"button"===t&&(r.buttonTagInScope=i),"nobr"===t&&(r.nobrTagInScope=i),"p"===t&&(r.pTagInButtonScope=i),"li"===t&&(r.listItemTagAutoclosing=i),"dd"!==t&&"dt"!==t||(r.dlItemTagAutoclosing=i),r};var Os={};Ms=function(e,t,n){var r=(n=n||Rs).current,i=r&&r.tag;null!=t&&(null!=e&&s("validateDOMNesting: when childText is passed, childTag should be null"),e="#text");var a=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e||"frameset"===e;case"frameset":return"frame"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===Is.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0}(e,i)?null:r,o=a?null:function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null}(e,n),u=a||o;if(u){var l=u.tag,c=!!a+"|"+e+"|"+l;if(!Os[c]){Os[c]=!0;var d=e,f="";if("#text"===e?/\S/.test(t)?d="Text nodes":(d="Whitespace text nodes",f=" Make sure you don't have any extra whitespace between tags on each line of your source code."):d="<"+e+">",a){var p="";"table"===l&&"tr"===e&&(p+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),s("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",d,l,f,p)}else s("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",d,l)}}};var Ds="$?",Ls="$!",js=null,Ns=null;function zs(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Fs(e){js=Vi,Ns=function(){var e=bo();return{focusedElem:e,selectionRange:xo(e)?_o(e):null}}();return Hi(!1),null}function Bs(e,t,n,r,i){var a=r;if(Ms(e,null,a.ancestorInfo),"string"===typeof t.children||"number"===typeof t.children){var o=""+t.children,u=Ps(a.ancestorInfo,e);Ms(null,o,u)}var l=function(e,t,n,r){var i,a,o=hs(n),u=r;if(u===ds&&(u=Lt(e)),u===ds){if((i=ln(e,t))||e===e.toLowerCase()||s("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",e),"script"===e){var l=o.createElement("div");l.innerHTML="<script><\/script>";var c=l.firstChild;a=l.removeChild(c)}else if("string"===typeof t.is)a=o.createElement(e,{is:t.is});else if(a=o.createElement(e),"select"===e){var d=a;t.multiple?d.multiple=!0:t.size&&(d.size=t.size)}}else a=o.createElementNS(u,e);return u===ds&&(i||"[object HTMLUnknownElement]"!==Object.prototype.toString.call(a)||Object.prototype.hasOwnProperty.call(Xo,e)||(Xo[e]=!0,s("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",e))),a}(e,t,n,a.namespace);return cu(i,l),gu(l,t),l}function Us(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function Vs(e,t,n,r){Ms(null,e,n.ancestorInfo);var i=function(e,t){return hs(t).createTextNode(e)}(e,t);return cu(r,i),i}var Hs="function"===typeof setTimeout?setTimeout:void 0,Ws="function"===typeof clearTimeout?clearTimeout:void 0;function Gs(e){Bt(e,"")}function qs(e,t){e.removeChild(t)}function Ks(e){var t=e.style;"function"===typeof t.setProperty?t.setProperty("display","none","important"):t.display="none"}function Xs(e,t){var n=t.style,r=void 0!==n&&null!==n&&n.hasOwnProperty("display")?n.display:null;e.style.display=Wt("display",r)}function Ys(e,t){e.nodeValue=t}function $s(e){if(1===e.nodeType)e.textContent="";else if(9===e.nodeType){var t=e.body;null!=t&&(t.textContent="")}}function Zs(e){return e.data===Ls}function Qs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Js(e){return Qs(e.nextSibling)}function eu(e){return Qs(e.firstChild)}function tu(e,t,n,r,i,a){return cu(a,e),gu(e,n),function(e,t,n,r,i){var a,o;switch(Yo=!0===n.suppressHydrationWarning,a=ln(t,n),$o(t,n),t){case"dialog":jo("cancel",e),jo("close",e);break;case"iframe":case"object":case"embed":jo("load",e);break;case"video":case"audio":for(var s=0;s<Io.length;s++)jo(Io[s],e);break;case"source":jo("error",e);break;case"img":case"image":case"link":jo("error",e),jo("load",e);break;case"details":jo("toggle",e);break;case"input":lt(e,n),jo("invalid",e);break;case"option":yt(0,n);break;case"select":kt(e,n),jo("invalid",e);break;case"textarea":Pt(e,n),jo("invalid",e)}un(t,n),o=new Set;for(var u=e.attributes,l=0;l<u.length;l++)switch(u[l].name.toLowerCase()){case"data-reactroot":case"value":case"checked":case"selected":break;default:o.add(u[l].name)}var c=null;for(var d in n)if(n.hasOwnProperty(d)){var f=n[d];if(d===ls)"string"===typeof f?e.textContent!==f&&(Yo||Zo(e.textContent,f),c=[ls,f]):"number"===typeof f&&e.textContent!==""+f&&(Yo||Zo(e.textContent,f),c=[ls,""+f]);else if(S.hasOwnProperty(d))null!=f&&("function"!==typeof f&&es(d,f),"onScroll"===d&&jo("scroll",e));else if("boolean"===typeof a){var p=void 0,h=F(d);if(Yo);else if(d===os||d===ss||"value"===d||"checked"===d||"selected"===d);else if(d===as){var v=e.innerHTML,m=f?f.__html:void 0;if(null!=m){var g=rs(e,m);g!==v&&Qo(d,v,g)}}else if(d===cs){if(o.delete(d),ts){var y=rn(f);y!==(p=e.getAttribute("style"))&&Qo(d,p,y)}}else if(a)o.delete(d.toLowerCase()),f!==(p=X(e,d,f))&&Qo(d,p,f);else if(!j(d,h,a)&&!z(d,f,h,a)){var b=!1;if(null!==h)o.delete(h.attributeName),p=K(e,d,f,h);else{var x=r;if(x===ds&&(x=Lt(t)),x===ds)o.delete(d.toLowerCase());else{var w=xs(d);null!==w&&w!==d&&(b=!0,o.delete(w)),o.delete(d)}p=X(e,d,f)}f===p||b||Qo(d,p,f)}}}switch(o.size>0&&!Yo&&Jo(o),t){case"input":et(e),ft(e,n,!0);break;case"textarea":et(e),Ct(e);break;case"select":case"option":break;default:"function"===typeof n.onClick&&ms(e)}return c}(e,t,n,i.namespace)}function nu(e){for(var t=e.previousSibling,n=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||r===Ls||r===Ds){if(0===n)return t;n--}else"/$"===r&&n++}t=t.previousSibling}return null}var ru=0;function iu(e){var t="r:"+(ru++).toString(36);return{toString:function(){return e(),t},valueOf:function(){return e(),t}}}var au=Math.random().toString(36).slice(2),ou="__reactFiber$"+au,su="__reactProps$"+au,uu="__reactContainer$"+au,lu="__reactEvents$"+au;function cu(e,t){t[ou]=e}function du(e){e[uu]=null}function fu(e){return!!e[uu]}function pu(e){var t=e[ou];if(t)return t;for(var n=e.parentNode;n;){if(t=n[uu]||n[ou]){var r=t.alternate;if(null!==t.child||null!==r&&null!==r.child)for(var i=nu(e);null!==i;){var a=i[ou];if(a)return a;i=nu(i)}return t}n=(e=n).parentNode}return null}function hu(e){var t=e[ou]||e[uu];return t&&(5===t.tag||6===t.tag||t.tag===f||3===t.tag)?t:null}function vu(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function mu(e){return e[su]||null}function gu(e,t){e[su]=t}function yu(e){var t=e[lu];return void 0===t&&(t=e[lu]=new Set),t}var bu={},xu=a.ReactDebugCurrentFrame;function wu(e){if(e){var t=e._owner,n=Le(e.type,e._source,t?t.type:null);xu.setExtraStackFrame(n)}else xu.setExtraStackFrame(null)}function _u(e,t,n,r,i){var a=Function.call.bind(Object.prototype.hasOwnProperty);for(var o in e)if(a(e,o)){var u=void 0;try{if("function"!==typeof e[o]){var l=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}u=e[o](t,o,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(c){u=c}!u||u instanceof Error||(wu(i),s("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof u),wu(null)),u instanceof Error&&!(u.message in bu)&&(bu[u.message]=!0,wu(i),s("Failed %s type: %s",n,u.message),wu(null))}}var Su,ku=[];Su=[];var Eu,Mu=-1;function Pu(e){return{current:e}}function Tu(e,t){Mu<0?s("Unexpected pop."):(t!==Su[Mu]&&s("Unexpected Fiber popped."),e.current=ku[Mu],ku[Mu]=null,Su[Mu]=null,Mu--)}function Cu(e,t,n){Mu++,ku[Mu]=e.current,Su[Mu]=n,e.current=t}Eu={};var Au={};Object.freeze(Au);var Iu=Pu(Au),Ru=Pu(!1),Ou=Au;function Du(e,t,n){return n&&zu(t)?Ou:Iu.current}function Lu(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function ju(e,t){var n=e.type,r=n.contextTypes;if(!r)return Au;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={};for(var o in r)a[o]=t[o];return _u(r,a,"context",Fe(n)||"Unknown"),i&&Lu(e,t,a),a}function Nu(){return Ru.current}function zu(e){var t=e.childContextTypes;return null!==t&&void 0!==t}function Fu(e){Tu(Ru,e),Tu(Iu,e)}function Bu(e){Tu(Ru,e),Tu(Iu,e)}function Uu(e,t,n){if(Iu.current!==Au)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Cu(Iu,t,e),Cu(Ru,n,e)}function Vu(e,t,r){var i=e.stateNode,a=t.childContextTypes;if("function"!==typeof i.getChildContext){var o=Fe(t)||"Unknown";return Eu[o]||(Eu[o]=!0,s("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",o,o)),r}var u=i.getChildContext();for(var l in u)if(!(l in a))throw Error((Fe(t)||"Unknown")+'.getChildContext(): key "'+l+'" is not defined in childContextTypes.');return _u(a,u,"child context",Fe(t)||"Unknown"),n({},r,u)}function Hu(e){var t=e.stateNode,n=t&&t.__reactInternalMemoizedMergedChildContext||Au;return Ou=Iu.current,Cu(Iu,n,e),Cu(Ru,Ru.current,e),!0}function Wu(e,t,n){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(n){var i=Vu(e,t,Ou);r.__reactInternalMemoizedMergedChildContext=i,Tu(Ru,e),Tu(Iu,e),Cu(Iu,i,e),Cu(Ru,n,e)}else Tu(Ru,e),Cu(Ru,n,e)}function Gu(e){if(!function(e){return gr(e)===e}(e)||1!==e.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t=e;do{switch(t.tag){case 3:return t.stateNode.context;case 1:if(zu(t.type))return t.stateNode.__reactInternalMemoizedMergedChildContext}t=t.return}while(null!==t);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}var qu=null,Ku=null,Xu=!1,Yu="undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;var $u=r.unstable_runWithPriority,Zu=r.unstable_scheduleCallback,Qu=r.unstable_cancelCallback,Ju=r.unstable_shouldYield,el=r.unstable_requestPaint,tl=r.unstable_now,nl=r.unstable_getCurrentPriorityLevel,rl=r.unstable_ImmediatePriority,il=r.unstable_UserBlockingPriority,al=r.unstable_NormalPriority,ol=r.unstable_LowPriority,sl=r.unstable_IdlePriority;if(null==i.__interactionsRef||null==i.__interactionsRef.current)throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");var ul={},ll=99,cl=98,dl=97,fl=Ju,pl=void 0!==el?el:function(){},hl=null,vl=null,ml=!1,gl=tl(),yl=gl<1e4?tl:function(){return tl()-gl};function bl(){switch(nl()){case rl:return ll;case il:return cl;case al:return dl;case ol:return 96;case sl:return 95;default:throw Error("Unknown priority level.")}}function xl(e){switch(e){case ll:return rl;case cl:return il;case dl:return al;case 96:return ol;case 95:return sl;default:throw Error("Unknown priority level.")}}function wl(e,t){var n=xl(e);return $u(n,t)}function _l(e,t,n){var r=xl(e);return Zu(r,t,n)}function Sl(e){e!==ul&&Qu(e)}function kl(){if(null!==vl){var e=vl;vl=null,Qu(e)}El()}function El(){if(!ml&&null!==hl){ml=!0;var e=0;try{var t=hl;wl(ll,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(true)}while(null!==n)}})),hl=null}catch(n){throw null!==hl&&(hl=hl.slice(e+1)),Zu(rl,kl),n}finally{ml=!1}}}var Ml="17.0.2",Pl=a.ReactCurrentBatchConfig;var Tl={recordUnsafeLifecycleWarnings:function(e,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(e,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},Cl=function(e){var t=[];return e.forEach((function(e){t.push(e)})),t.sort().join(", ")},Al=[],Il=[],Rl=[],Ol=[],Dl=[],Ll=[],jl=new Set;Tl.recordUnsafeLifecycleWarnings=function(e,t){jl.has(e.type)||("function"===typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&Al.push(e),1&e.mode&&"function"===typeof t.UNSAFE_componentWillMount&&Il.push(e),"function"===typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&Rl.push(e),1&e.mode&&"function"===typeof t.UNSAFE_componentWillReceiveProps&&Ol.push(e),"function"===typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&Dl.push(e),1&e.mode&&"function"===typeof t.UNSAFE_componentWillUpdate&&Ll.push(e))},Tl.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;Al.length>0&&(Al.forEach((function(t){e.add(Fe(t.type)||"Component"),jl.add(t.type)})),Al=[]);var t=new Set;Il.length>0&&(Il.forEach((function(e){t.add(Fe(e.type)||"Component"),jl.add(e.type)})),Il=[]);var n=new Set;Rl.length>0&&(Rl.forEach((function(e){n.add(Fe(e.type)||"Component"),jl.add(e.type)})),Rl=[]);var r=new Set;Ol.length>0&&(Ol.forEach((function(e){r.add(Fe(e.type)||"Component"),jl.add(e.type)})),Ol=[]);var i=new Set;Dl.length>0&&(Dl.forEach((function(e){i.add(Fe(e.type)||"Component"),jl.add(e.type)})),Dl=[]);var a=new Set;(Ll.length>0&&(Ll.forEach((function(e){a.add(Fe(e.type)||"Component"),jl.add(e.type)})),Ll=[]),t.size>0)&&s("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",Cl(t));r.size>0&&s("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s",Cl(r));a.size>0&&s("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",Cl(a));e.size>0&&o("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Cl(e));n.size>0&&o("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Cl(n));i.size>0&&o("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Cl(i))};var Nl=new Map,zl=new Set;function Fl(e,t){if(e&&e.defaultProps){var r=n({},t),i=e.defaultProps;for(var a in i)void 0===r[a]&&(r[a]=i[a]);return r}return t}Tl.recordLegacyContextWarning=function(e,t){var n=function(e){for(var t=null,n=e;null!==n;)1&n.mode&&(t=n),n=n.return;return t}(e);if(null!==n){if(!zl.has(e.type)){var r=Nl.get(n);(null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"===typeof t.getChildContext)&&(void 0===r&&(r=[],Nl.set(n,r)),r.push(e))}}else s("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.")},Tl.flushLegacyContextWarning=function(){Nl.forEach((function(e,t){if(0!==e.length){var n=e[0],r=new Set;e.forEach((function(e){r.add(Fe(e.type)||"Component"),zl.add(e.type)}));var i=Cl(r);try{qe(n),s("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",i)}finally{Ge()}}}))},Tl.discardPendingWarnings=function(){Al=[],Il=[],Rl=[],Ol=[],Dl=[],Ll=[],Nl=new Map};var Bl,Ul=1073741823,Vl=Pu(null);Bl={};var Hl=null,Wl=null,Gl=null,ql=!1;function Kl(){Hl=null,Wl=null,Gl=null,ql=!1}function Xl(){ql=!0}function Yl(){ql=!1}function $l(e,t){var n=e.type._context;Cu(Vl,n._currentValue,e),n._currentValue=t,void 0!==n._currentRenderer&&null!==n._currentRenderer&&n._currentRenderer!==Bl&&s("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),n._currentRenderer=Bl}function Zl(e){var t=Vl.current;Tu(Vl,e),e.type._context._currentValue=t}function Ql(e,t){for(var n=e;null!==n;){var r=n.alternate;if(Ai(n.childLanes,t)){if(null===r||Ai(r.childLanes,t))break;r.childLanes=Ii(r.childLanes,t)}else n.childLanes=Ii(n.childLanes,t),null!==r&&(r.childLanes=Ii(r.childLanes,t));n=n.return}}function Jl(e,t){Hl=e,Wl=null,Gl=null;var n=e.dependencies;null!==n&&(null!==n.firstContext&&(Ci(n.lanes,t)&&Jp(),n.firstContext=null))}function ec(e,t){if(ql&&s("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),Gl===e);else if(!1===t||0===t);else{var n;"number"!==typeof t||t===Ul?(Gl=e,n=Ul):n=t;var r={context:e,observedBits:n,next:null};if(null===Wl){if(null===Hl)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Wl=r,Hl.dependencies={lanes:0,firstContext:r,responders:null}}else Wl=Wl.next=r}return e._currentValue}var tc,nc,rc=2,ic=!1;function ac(e){var t={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null};e.updateQueue=t}function oc(e,t){var n=t.updateQueue,r=e.updateQueue;if(n===r){var i={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects};t.updateQueue=i}}function sc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uc(e,t){var n=e.updateQueue;if(null!==n){var r=n.shared,i=r.pending;null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,nc!==r||tc||(s("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),tc=!0)}}function lc(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r){var i=r.updateQueue;if(n===i){var a=null,o=null,s=n.firstBaseUpdate;if(null!==s){var u=s;do{var l={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};null===o?a=o=l:(o.next=l,o=l),u=u.next}while(null!==u);null===o?a=o=t:(o.next=t,o=t)}else a=o=t;return n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}}var c=n.lastBaseUpdate;null===c?n.firstBaseUpdate=t:c.next=t,n.lastBaseUpdate=t}function cc(e,t,r,i,a,o){switch(r.tag){case 1:var s=r.payload;if("function"===typeof s){Xl();var u=s.call(o,i,a);if(1&e.mode){Ee();try{s.call(o,i,a)}finally{Me()}}return Yl(),u}return s;case 3:e.flags=-4097&e.flags|sr;case 0:var l,c=r.payload;if("function"===typeof c){if(Xl(),l=c.call(o,i,a),1&e.mode){Ee();try{c.call(o,i,a)}finally{Me()}}Yl()}else l=c;return null===l||void 0===l?i:n({},i,l);case rc:return ic=!0,i}return i}function dc(e,t,n,r){var i=e.updateQueue;ic=!1,nc=i.shared;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;if(null!==c){var d=c.updateQueue,f=d.lastBaseUpdate;f!==o&&(null===f?d.firstBaseUpdate=l:f.next=l,d.lastBaseUpdate=u)}}if(null!==a){for(var p=i.baseState,h=0,v=null,m=null,g=null,y=a;;){var b=y.lane,x=y.eventTime;if(Ai(r,b)){if(null!==g){var w={eventTime:x,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null};g=g.next=w}if(p=cc(e,0,y,p,t,n),null!==y.callback){e.flags|=32;var _=i.effects;null===_?i.effects=[y]:_.push(y)}}else{var S={eventTime:x,lane:b,tag:y.tag,payload:y.payload,callback:y.callback,next:null};null===g?(m=g=S,v=p):g=g.next=S,h=Ii(h,b)}if(null===(y=y.next)){if(null===(s=i.shared.pending))break;var k=s,E=k.next;k.next=null,y=E,i.lastBaseUpdate=k,i.shared.pending=null}}null===g&&(v=p),i.baseState=v,i.firstBaseUpdate=m,i.lastBaseUpdate=g,$v(h),e.lanes=h,e.memoizedState=p}nc=null}function fc(e,t){if("function"!==typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}function pc(){ic=!1}function hc(){return ic}function vc(e,t,n){var r=t.effects;if(t.effects=null,null!==r)for(var i=0;i<r.length;i++){var a=r[i],o=a.callback;null!==o&&(a.callback=null,fc(o,n))}}tc=!1,nc=null;var mc,gc,yc,bc,xc,wc,_c,Sc,kc,Ec,Mc={},Pc=Array.isArray,Tc=(new t.Component).refs;mc=new Set,gc=new Set,yc=new Set,bc=new Set,Sc=new Set,xc=new Set,kc=new Set,Ec=new Set;var Cc=new Set;function Ac(e,t,r,i){var a=e.memoizedState;if(1&e.mode){Ee();try{r(i,a)}finally{Me()}}var o=r(i,a);wc(t,o);var s=null===o||void 0===o?a:n({},a,o);(e.memoizedState=s,0===e.lanes)&&(e.updateQueue.baseState=s)}_c=function(e,t){if(null!==e&&"function"!==typeof e){var n=t+"_"+e;Cc.has(n)||(Cc.add(n),s("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},wc=function(e,t){if(void 0===t){var n=Fe(e)||"Component";xc.has(n)||(xc.add(n),s("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",n))}},Object.defineProperty(Mc,"_processChildContext",{enumerable:!1,value:function(){throw Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Mc);var Ic,Rc,Oc,Dc,Lc,jc={isMounted:function(e){var t=mr.current;if(null!==t&&1===t.tag){var n=t,r=n.stateNode;r._warnedAboutRefsInRender||s("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Fe(n.type)||"A component"),r._warnedAboutRefsInRender=!0}var i=nr(e);return!!i&&gr(i)===i},enqueueSetState:function(e,t,n){var r=nr(e),i=Av(),a=Iv(r),o=sc(i,a);o.payload=t,void 0!==n&&null!==n&&(_c(n,"setState"),o.callback=n),uc(r,o),Ov(r,a,i)},enqueueReplaceState:function(e,t,n){var r=nr(e),i=Av(),a=Iv(r),o=sc(i,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(_c(n,"replaceState"),o.callback=n),uc(r,o),Ov(r,a,i)},enqueueForceUpdate:function(e,t){var n=nr(e),r=Av(),i=Iv(n),a=sc(r,i);a.tag=rc,void 0!==t&&null!==t&&(_c(t,"forceUpdate"),a.callback=t),uc(n,a),Ov(n,i,r)}};function Nc(e,t,n,r,i,a,o){var u=e.stateNode;if("function"===typeof u.shouldComponentUpdate){if(1&e.mode){Ee();try{u.shouldComponentUpdate(r,a,o)}finally{Me()}}var l=u.shouldComponentUpdate(r,a,o);return void 0===l&&s("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Fe(t)||"Component"),l}return!t.prototype||!t.prototype.isPureReactComponent||(!lo(n,r)||!lo(i,a))}function zc(e,t){var n;t.updater=jc,e.stateNode=t,n=e,t._reactInternals=n,t._reactInternalInstance=Mc}function Fc(e,t,n){var r=!1,i=Au,a=Au,o=t.contextType;if("contextType"in t&&(!(null===o||void 0!==o&&o.$$typeof===ne&&void 0===o._context)&&!Ec.has(t))){Ec.add(t);var u="";u=void 0===o?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!==typeof o?" However, it is set to a "+typeof o+".":o.$$typeof===te?" Did you accidentally pass the Context.Provider instead?":void 0!==o._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(o).join(", ")+"}.",s("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Fe(t)||"Component",u)}if("object"===typeof o&&null!==o)a=ec(o);else{i=Du(0,t,!0);var l=t.contextTypes;a=(r=null!==l&&void 0!==l)?ju(e,i):Au}if(1&e.mode){Ee();try{new t(n,a)}finally{Me()}}var c=new t(n,a),d=e.memoizedState=null!==c.state&&void 0!==c.state?c.state:null;if(zc(e,c),"function"===typeof t.getDerivedStateFromProps&&null===d){var f=Fe(t)||"Component";gc.has(f)||(gc.add(f),s("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",f,null===c.state?"null":"undefined",f))}if("function"===typeof t.getDerivedStateFromProps||"function"===typeof c.getSnapshotBeforeUpdate){var p=null,h=null,v=null;if("function"===typeof c.componentWillMount&&!0!==c.componentWillMount.__suppressDeprecationWarning?p="componentWillMount":"function"===typeof c.UNSAFE_componentWillMount&&(p="UNSAFE_componentWillMount"),"function"===typeof c.componentWillReceiveProps&&!0!==c.componentWillReceiveProps.__suppressDeprecationWarning?h="componentWillReceiveProps":"function"===typeof c.UNSAFE_componentWillReceiveProps&&(h="UNSAFE_componentWillReceiveProps"),"function"===typeof c.componentWillUpdate&&!0!==c.componentWillUpdate.__suppressDeprecationWarning?v="componentWillUpdate":"function"===typeof c.UNSAFE_componentWillUpdate&&(v="UNSAFE_componentWillUpdate"),null!==p||null!==h||null!==v){var m=Fe(t)||"Component",g="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";bc.has(m)||(bc.add(m),s("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles",m,g,null!==p?"\n  "+p:"",null!==h?"\n  "+h:"",null!==v?"\n  "+v:""))}}return r&&Lu(e,i,a),c}function Bc(e,t,n,r){var i=t.state;if("function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==i){var a=Fe(e.type)||"Component";mc.has(a)||(mc.add(a),s("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",a)),jc.enqueueReplaceState(t,t.state,null)}}function Uc(e,t,n,r){!function(e,t,n){var r=e.stateNode,i=Fe(t)||"Component";r.render||(t.prototype&&"function"===typeof t.prototype.render?s("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",i):s("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",i)),!r.getInitialState||r.getInitialState.isReactClassApproved||r.state||s("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",i),r.getDefaultProps&&!r.getDefaultProps.isReactClassApproved&&s("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",i),r.propTypes&&s("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",i),r.contextType&&s("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",i),r.contextTypes&&s("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",i),t.contextType&&t.contextTypes&&!kc.has(t)&&(kc.add(t),s("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",i)),"function"===typeof r.componentShouldUpdate&&s("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",i),t.prototype&&t.prototype.isPureReactComponent&&"undefined"!==typeof r.shouldComponentUpdate&&s("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Fe(t)||"A pure component"),"function"===typeof r.componentDidUnmount&&s("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",i),"function"===typeof r.componentDidReceiveProps&&s("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",i),"function"===typeof r.componentWillRecieveProps&&s("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",i),"function"===typeof r.UNSAFE_componentWillRecieveProps&&s("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",i);var a=r.props!==n;void 0!==r.props&&a&&s("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",i,i),r.defaultProps&&s("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",i,i),"function"!==typeof r.getSnapshotBeforeUpdate||"function"===typeof r.componentDidUpdate||yc.has(t)||(yc.add(t),s("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Fe(t))),"function"===typeof r.getDerivedStateFromProps&&s("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"===typeof r.getDerivedStateFromError&&s("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"===typeof t.getSnapshotBeforeUpdate&&s("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",i);var o=r.state;o&&("object"!==typeof o||Pc(o))&&s("%s.state: must be set to an object or null",i),"function"===typeof r.getChildContext&&"object"!==typeof t.childContextTypes&&s("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",i)}(e,t,n);var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Tc,ac(e);var a=t.contextType;if("object"===typeof a&&null!==a)i.context=ec(a);else{var o=Du(0,t,!0);i.context=ju(e,o)}if(i.state===n){var u=Fe(t)||"Component";Sc.has(u)||(Sc.add(u),s("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",u))}1&e.mode&&Tl.recordLegacyContextWarning(e,i),Tl.recordUnsafeLifecycleWarnings(e,i),dc(e,n,i,r),i.state=e.memoizedState;var l=t.getDerivedStateFromProps;"function"===typeof l&&(Ac(e,t,l,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(!function(e,t){var n=t.state;"function"===typeof t.componentWillMount&&t.componentWillMount(),"function"===typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),n!==t.state&&(s("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Fe(e.type)||"Component"),jc.enqueueReplaceState(t,t.state,null))}(e,i),dc(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Vc;Ic=!1,Rc=!1,Oc={},Dc={},Lc={},Vc=function(e,t){if(null!==e&&"object"===typeof e&&e._store&&!e._store.validated&&null==e.key){if("object"!==typeof e._store)throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");e._store.validated=!0;var n=Fe(t.type)||"Component";Dc[n]||(Dc[n]=!0,s('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};var Hc=Array.isArray;function Wc(e,t,n){var r=n.ref;if(null!==r&&"function"!==typeof r&&"object"!==typeof r){if(1&e.mode&&(!n._owner||!n._self||n._owner.stateNode===n._self)){var i=Fe(e.type)||"Component";Oc[i]||(s('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',r),Oc[i]=!0)}if(n._owner){var a,o=n._owner;if(o){var u=o;if(1!==u.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");a=u.stateNode}if(!a)throw Error("Missing owner for string ref "+r+". This error is likely caused by a bug in React. Please file an issue.");var l=""+r;if(null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l)return t.ref;var c=function(e){var t=a.refs;t===Tc&&(t=a.refs={}),null===e?delete t[l]:t[l]=e};return c._stringRef=l,c}if("string"!==typeof r)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!n._owner)throw Error("Element ref was specified as a string ("+r+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return r}function Gc(e,t){if("textarea"!==e.type)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}function qc(e){var t=Fe(e.type)||"Component";Lc[t]||(Lc[t]=!0,s("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."))}function Kc(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(var i=r;null!==i;)t(n,i),i=i.sibling;return null}function r(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function i(e,t){var n=og(e,t);return n.index=0,n.sibling=null,n}function a(t,n,r){if(t.index=r,!e)return n;var i=t.alternate;if(null!==i){var a=i.index;return a<n?(t.flags=2,n):a}return t.flags=2,n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){if(null===t||6!==t.tag){var a=fg(n,e.mode,r);return a.return=e,a}var o=i(t,n);return o.return=e,o}function l(e,t,n,r){if(null!==t&&(t.elementType===n.type||Gm(t,n))){var a=i(t,n.props);return a.ref=Wc(e,t,n),a.return=e,a._debugSource=n._source,a._debugOwner=n._owner,a}var o=lg(n,e.mode,r);return o.ref=Wc(e,t,n),o.return=e,o}function d(e,t,n,r){if(null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var a=pg(n,e.mode,r);return a.return=e,a}var o=i(t,n.children||[]);return o.return=e,o}function f(e,t,n,r,a){if(null===t||7!==t.tag){var o=cg(n,e.mode,r,a);return o.return=e,o}var s=i(t,n);return s.return=e,s}function p(e,t,n){if("string"===typeof t||"number"===typeof t){var r=fg(""+t,e.mode,n);return r.return=e,r}if("object"===typeof t&&null!==t){switch(t.$$typeof){case $:var i=lg(t,e.mode,n);return i.ref=Wc(e,null,t),i.return=e,i;case Z:var a=pg(t,e.mode,n);return a.return=e,a}if(Hc(t)||ve(t)){var o=cg(t,e.mode,n,null);return o.return=e,o}Gc(e,t)}return"function"===typeof t&&qc(e),null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case $:return n.key===i?n.type===Q?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case Z:return n.key===i?d(e,t,n,r):null}if(Hc(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Gc(e,n)}return"function"===typeof n&&qc(e),null}function m(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case $:var a=e.get(null===r.key?n:r.key)||null;return r.type===Q?f(t,a,r.props.children,i,r.key):l(t,a,r,i);case Z:return d(t,e.get(null===r.key?n:r.key)||null,r,i)}if(Hc(r)||ve(r))return f(t,e.get(n)||null,r,i,null);Gc(t,r)}return"function"===typeof r&&qc(t),null}function g(e,t,n){if("object"!==typeof e||null===e)return t;switch(e.$$typeof){case $:case Z:Vc(e,n);var r=e.key;if("string"!==typeof r)break;if(null===t){(t=new Set).add(r);break}if(!t.has(r)){t.add(r);break}s("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted \u2014 the behavior is unsupported and could change in a future version.",r)}return t}return function(u,l,d,f){var b="object"===typeof d&&null!==d&&d.type===Q&&null===d.key;b&&(d=d.props.children);var x="object"===typeof d&&null!==d;if(x)switch(d.$$typeof){case $:return o(function(e,r,a,o){for(var s=a.key,u=r;null!==u;){if(u.key===s){if(7===u.tag){if(a.type===Q){n(e,u.sibling);var l=i(u,a.props.children);return l.return=e,l._debugSource=a._source,l._debugOwner=a._owner,l}}else if(u.elementType===a.type||Gm(u,a)){n(e,u.sibling);var c=i(u,a.props);return c.ref=Wc(e,u,a),c.return=e,c._debugSource=a._source,c._debugOwner=a._owner,c}n(e,u);break}t(e,u),u=u.sibling}if(a.type===Q){var d=cg(a.props.children,e.mode,o,a.key);return d.return=e,d}var f=lg(a,e.mode,o);return f.ref=Wc(e,r,a),f.return=e,f}(u,l,d,f));case Z:return o(function(e,r,a,o){for(var s=a.key,u=r;null!==u;){if(u.key===s){if(4===u.tag&&u.stateNode.containerInfo===a.containerInfo&&u.stateNode.implementation===a.implementation){n(e,u.sibling);var l=i(u,a.children||[]);return l.return=e,l}n(e,u);break}t(e,u),u=u.sibling}var c=pg(a,e.mode,o);return c.return=e,c}(u,l,d,f))}if("string"===typeof d||"number"===typeof d)return o(function(e,t,r,a){if(null!==t&&6===t.tag){n(e,t.sibling);var o=i(t,r);return o.return=e,o}n(e,t);var s=fg(r,e.mode,a);return s.return=e,s}(u,l,""+d,f));if(Hc(d))return function(i,o,s,u){for(var l=null,c=0;c<s.length;c++)l=g(s[c],l,i);for(var d=null,f=null,h=o,y=0,b=0,x=null;null!==h&&b<s.length;b++){h.index>b?(x=h,h=null):x=h.sibling;var w=v(i,h,s[b],u);if(null===w){null===h&&(h=x);break}e&&h&&null===w.alternate&&t(i,h),y=a(w,y,b),null===f?d=w:f.sibling=w,f=w,h=x}if(b===s.length)return n(i,h),d;if(null===h){for(;b<s.length;b++){var _=p(i,s[b],u);null!==_&&(y=a(_,y,b),null===f?d=_:f.sibling=_,f=_)}return d}for(var S=r(0,h);b<s.length;b++){var k=m(S,i,b,s[b],u);null!==k&&(e&&null!==k.alternate&&S.delete(null===k.key?b:k.key),y=a(k,y,b),null===f?d=k:f.sibling=k,f=k)}return e&&S.forEach((function(e){return t(i,e)})),d}(u,l,d,f);if(ve(d))return function(i,o,u,l){var c=ve(u);if("function"!==typeof c)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");"function"===typeof Symbol&&"Generator"===u[Symbol.toStringTag]&&(Rc||s("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Rc=!0),u.entries===c&&(Ic||s("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Ic=!0);var d=c.call(u);if(d)for(var f=null,h=d.next();!h.done;h=d.next())f=g(h.value,f,i);var y=c.call(u);if(null==y)throw Error("An iterable object provided no iterator.");for(var b=null,x=null,w=o,_=0,S=0,k=null,E=y.next();null!==w&&!E.done;S++,E=y.next()){w.index>S?(k=w,w=null):k=w.sibling;var M=v(i,w,E.value,l);if(null===M){null===w&&(w=k);break}e&&w&&null===M.alternate&&t(i,w),_=a(M,_,S),null===x?b=M:x.sibling=M,x=M,w=k}if(E.done)return n(i,w),b;if(null===w){for(;!E.done;S++,E=y.next()){var P=p(i,E.value,l);null!==P&&(_=a(P,_,S),null===x?b=P:x.sibling=P,x=P)}return b}for(var T=r(0,w);!E.done;S++,E=y.next()){var C=m(T,i,S,E.value,l);null!==C&&(e&&null!==C.alternate&&T.delete(null===C.key?S:C.key),_=a(C,_,S),null===x?b=C:x.sibling=C,x=C)}return e&&T.forEach((function(e){return t(i,e)})),b}(u,l,d,f);if(x&&Gc(u,d),"function"===typeof d&&qc(u),"undefined"===typeof d&&!b)switch(u.tag){case 1:if(u.stateNode.render._isMockFunction)break;case y:case 0:case c:case h:throw Error((Fe(u.type)||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return n(u,l)}}var Xc=Kc(!0),Yc=Kc(!1);function $c(e,t){for(var n=e.child;null!==n;)sg(n,t),n=n.sibling}var Zc={},Qc=Pu(Zc),Jc=Pu(Zc),ed=Pu(Zc);function td(e){if(e===Zc)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function nd(){return td(ed.current)}function rd(e,t){Cu(ed,t,e),Cu(Jc,e,e),Cu(Qc,Zc,e);var n=function(e){var t,n,r=e.nodeType;switch(r){case 9:case 11:t=9===r?"#document":"#fragment";var i=e.documentElement;n=i?i.namespaceURI:jt(null,"");break;default:var a=8===r?e.parentNode:e;n=jt(a.namespaceURI||null,t=a.tagName)}var o=t.toLowerCase();return{namespace:n,ancestorInfo:Ps(null,o)}}(t);Tu(Qc,e),Cu(Qc,n,e)}function id(e){Tu(Qc,e),Tu(Jc,e),Tu(ed,e)}function ad(){return td(Qc.current)}function od(e){td(ed.current);var t=td(Qc.current),n=function(e,t,n){var r=e;return{namespace:jt(r.namespace,t),ancestorInfo:Ps(r.ancestorInfo,t)}}(t,e.type);t!==n&&(Cu(Jc,e,e),Cu(Qc,n,e))}function sd(e){Jc.current===e&&(Tu(Qc,e),Tu(Jc,e))}var ud=Pu(0);function ld(e,t){return 0!==(e&t)}function cd(e){return 1&e}function dd(e,t){return 1&e|t}function fd(e,t){Cu(ud,t,e)}function pd(e){Tu(ud,e)}function hd(e,t){var n=e.memoizedState;if(null!==n)return null!==n.dehydrated;var r=e.memoizedProps;return void 0!==r.fallback&&(!0!==r.unstable_avoidThisFallback||!t)}function vd(e){for(var t=e;null!==t;){if(t.tag===f){var n=t.memoizedState;if(null!==n){var r=n.dehydrated;if(null===r||r.data===Ds||Zs(r))return t}}else if(t.tag===m&&void 0!==t.memoizedProps.revealOrder){if(0!==(t.flags&sr))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return null;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var md=null,gd=null,yd=!1;function bd(e,t){switch(e.tag){case 3:!function(e,t){1===t.nodeType?_s(e,t):8===t.nodeType||Ss(e,t)}(e.stateNode.containerInfo,t);break;case 5:!function(e,t,n,r){!0!==t.suppressHydrationWarning&&(1===r.nodeType?_s(n,r):8===r.nodeType||Ss(n,r))}(e.type,e.memoizedProps,e.stateNode,t)}var n=function(){var e=ig(5,null,null,0);return e.elementType="DELETED",e.type="DELETED",e}();n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function xd(e,t){switch(t.flags=-1025&t.flags|2,e.tag){case 3:var n=e.stateNode.containerInfo;switch(t.tag){case 5:var r=t.type;t.pendingProps;!function(e,t,n){ks(e,t)}(n,r);break;case 6:!function(e,t){Es(e,t)}(n,t.pendingProps)}break;case 5:e.type;var i=e.memoizedProps,a=e.stateNode;switch(t.tag){case 5:var o=t.type;t.pendingProps;!function(e,t,n,r,i){!0!==t.suppressHydrationWarning&&ks(n,r)}(0,i,a,o);break;case 6:!function(e,t,n,r){!0!==t.suppressHydrationWarning&&Es(n,r)}(0,i,a,t.pendingProps);break;case f:!function(e,t,n){t.suppressHydrationWarning}(0,i)}break;default:return}}function wd(e,t){switch(e.tag){case 5:var n=e.type,r=(e.pendingProps,function(e,t,n){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e}(t,n));return null!==r&&(e.stateNode=r,!0);case 6:var i=function(e,t){return""===t||3!==e.nodeType?null:e}(t,e.pendingProps);return null!==i&&(e.stateNode=i,!0);default:return!1}}function _d(e){if(yd){var t=gd;if(!t)return xd(md,e),yd=!1,void(md=e);var n=t;if(!wd(e,t)){if(!(t=Js(n))||!wd(e,t))return xd(md,e),yd=!1,void(md=e);bd(md,n)}md=e,gd=eu(t)}}function Sd(e){var t=e.stateNode,n=e.memoizedProps,r=function(e,t,n){return cu(n,e),function(e,t){return e.nodeValue!==t}(e,t)}(t,n,e);if(r){var i=md;if(null!==i)switch(i.tag){case 3:i.stateNode.containerInfo;!function(e,t,n){ws(t,n)}(0,t,n);break;case 5:i.type;var a=i.memoizedProps;i.stateNode;!function(e,t,n,r,i){!0!==t.suppressHydrationWarning&&ws(r,i)}(0,a,0,t,n)}}return r}function kd(e){var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return function(e){for(var t=e.nextSibling,n=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===n)return Js(t);n--}else"$"!==r&&r!==Ls&&r!==Ds||n++}t=t.nextSibling}return null}(n)}function Ed(e){for(var t=e.return;null!==t&&5!==t.tag&&3!==t.tag&&t.tag!==f;)t=t.return;md=t}function Md(e){if(e!==md)return!1;if(!yd)return Ed(e),yd=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Us(t,e.memoizedProps))for(var n=gd;n;)bd(e,n),n=Js(n);return Ed(e),gd=e.tag===f?kd(e):md?Js(e.stateNode):null,!0}function Pd(){md=null,gd=null,yd=!1}function Td(){return yd}var Cd,Ad=[];function Id(){for(var e=0;e<Ad.length;e++){Ad[e]._workInProgressVersionPrimary=null}Ad.length=0}function Rd(e,t){e._workInProgressVersionPrimary=t,Ad.push(e)}Cd={};var Od,Dd,Ld=a.ReactCurrentDispatcher,jd=a.ReactCurrentBatchConfig;Dd={},Od=new Set;var Nd=0,zd=null,Fd=null,Bd=null,Ud=!1,Vd=!1,Hd=null,Wd=null,Gd=-1,qd=!1;function Kd(){var e=Hd;null===Wd?Wd=[e]:Wd.push(e)}function Xd(){var e=Hd;null!==Wd&&(Gd++,Wd[Gd]!==e&&function(e){var t=Fe(zd.type);if(!Od.has(t)&&(Od.add(t),null!==Wd)){for(var n="",r=30,i=0;i<=Gd;i++){for(var a=Wd[i],o=i===Gd?e:a,u=i+1+". "+a;u.length<r;)u+=" ";n+=u+=o+"\n"}s("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",t,n)}}(e))}function Yd(e){void 0===e||null===e||Array.isArray(e)||s("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Hd,typeof e)}function $d(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Zd(e,t){if(qd)return!1;if(null===t)return s("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Hd),!1;e.length!==t.length&&s("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",Hd,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!so(e[n],t[n]))return!1;return!0}function Qd(e,t,n,r,i,a){Nd=a,zd=t,Wd=null!==e?e._debugHookTypes:null,Gd=-1,qd=null!==e&&e.type!==t.type,t.memoizedState=null,t.updateQueue=null,t.lanes=0,null!==e&&null!==e.memoizedState?Ld.current=Yf:Ld.current=null!==Wd?Xf:Kf;var o=n(r,i);if(Vd){var s=0;do{if(Vd=!1,!(s<25))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");s+=1,qd=!1,Fd=null,Bd=null,t.updateQueue=null,Gd=-1,Ld.current=$f,o=n(r,i)}while(Vd)}Ld.current=qf,t._debugHookTypes=Wd;var u=null!==Fd&&null!==Fd.next;if(Nd=0,zd=null,Fd=null,Bd=null,Hd=null,Wd=null,Gd=-1,Ud=!1,u)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return o}function Jd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes=Ri(e.lanes,n)}function ef(){if(Ld.current=qf,Ud){for(var e=zd.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ud=!1}Nd=0,zd=null,Fd=null,Bd=null,Wd=null,Gd=-1,Hd=null,Bf=!1,Vd=!1}function tf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Bd?zd.memoizedState=Bd=e:Bd=Bd.next=e,Bd}function nf(){var e,t;if(null===Fd){var n=zd.alternate;e=null!==n?n.memoizedState:null}else e=Fd.next;if(null!==(t=null===Bd?zd.memoizedState:Bd.next))t=(Bd=t).next,Fd=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");var r={memoizedState:(Fd=e).memoizedState,baseState:Fd.baseState,baseQueue:Fd.baseQueue,queue:Fd.queue,next:null};null===Bd?zd.memoizedState=Bd=r:Bd=Bd.next=r}return Bd}function rf(e,t){return"function"===typeof t?t(e):t}function af(e,t,n){var r,i=tf();r=void 0!==n?n(t):t,i.memoizedState=i.baseState=r;var a=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},o=a.dispatch=Gf.bind(null,zd,a);return[i.memoizedState,o]}function of(e,t,n){var r=nf(),i=r.queue;if(null===i)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var a=Fd,o=a.baseQueue,u=i.pending;if(null!==u){if(null!==o){var l=o.next,c=u.next;o.next=c,u.next=l}a.baseQueue!==o&&s("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),a.baseQueue=o=u,i.pending=null}if(null!==o){var d=o.next,f=a.baseState,p=null,h=null,v=null,m=d;do{var g=m.lane;if(Ai(Nd,g)){if(null!==v){var y={lane:0,action:m.action,eagerReducer:m.eagerReducer,eagerState:m.eagerState,next:null};v=v.next=y}if(m.eagerReducer===e)f=m.eagerState;else f=e(f,m.action)}else{var b={lane:g,action:m.action,eagerReducer:m.eagerReducer,eagerState:m.eagerState,next:null};null===v?(h=v=b,p=f):v=v.next=b,zd.lanes=Ii(zd.lanes,g),$v(g)}m=m.next}while(null!==m&&m!==d);null===v?p=f:v.next=h,so(f,r.memoizedState)||Jp(),r.memoizedState=f,r.baseState=p,r.baseQueue=v,i.lastRenderedState=f}var x=i.dispatch;return[r.memoizedState,x]}function sf(e,t,n){var r=nf(),i=r.queue;if(null===i)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,s=r.memoizedState;if(null!==o){i.pending=null;var u=o.next,l=u;do{s=e(s,l.action),l=l.next}while(l!==u);so(s,r.memoizedState)||Jp(),r.memoizedState=s,null===r.baseQueue&&(r.baseState=s),i.lastRenderedState=s}return[s,a]}function uf(e,t,n){var r;null==(r=t)._currentPrimaryRenderer?r._currentPrimaryRenderer=Cd:r._currentPrimaryRenderer!==Cd&&s("Detected multiple renderers concurrently rendering the same mutable source. This is currently unsupported.");var i=(0,t._getVersion)(t._source),a=!1,o=function(e){return e._workInProgressVersionPrimary}(t);if(null!==o?a=o===i:(a=Ai(Nd,e.mutableReadLanes))&&Rd(t,i),a){var u=n(t._source);return"function"===typeof u&&s("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing."),u}throw function(e){Ad.push(e)}(t),Error("Cannot read from mutable source during the current render without tearing. This is a bug in React. Please file an issue.")}function lf(e,t,n,r){var i=Kh;if(null===i)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");var a=t._getVersion,o=a(t._source),u=Ld.current,l=u.useState((function(){return uf(i,t,n)})),c=l[0],d=l[1],f=c,p=Bd,h=e.memoizedState,v=h.refs,m=v.getSnapshot,g=h.source,y=h.subscribe,b=zd;if(e.memoizedState={refs:v,source:t,subscribe:r},u.useEffect((function(){v.getSnapshot=n,v.setSnapshot=d;var e=a(t._source);if(!so(o,e)){var r=n(t._source);if("function"===typeof r&&s("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing."),!so(f,r)){d(r);var u=Iv(b);ji(i,u)}!function(e,t){e.entangledLanes|=t;for(var n=e.entanglements,r=t;r>0;){var i=Ti(r),a=1<<i;n[i]|=t,r&=~a}}(i,i.mutableReadLanes)}}),[n,t,r]),u.useEffect((function(){var e=r(t._source,(function(){var e=v.getSnapshot,n=v.setSnapshot;try{n(e(t._source));var r=Iv(b);ji(i,r)}catch(a){n((function(){throw a}))}}));return"function"!==typeof e&&s("Mutable source subscribe function must return an unsubscribe function."),e}),[t,r]),!so(m,n)||!so(g,t)||!so(y,r)){var x={pending:null,dispatch:null,lastRenderedReducer:rf,lastRenderedState:f};x.dispatch=d=Gf.bind(null,zd,x),p.queue=x,p.baseQueue=null,f=uf(i,t,n),p.memoizedState=p.baseState=f}return f}function cf(e,t,n){var r=tf();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},lf(r,e,t,n)}function df(e,t,n){return lf(nf(),e,t,n)}function ff(e){var t=tf();"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e;var n=t.queue={pending:null,dispatch:null,lastRenderedReducer:rf,lastRenderedState:e},r=n.dispatch=Gf.bind(null,zd,n);return[t.memoizedState,r]}function pf(e){return of(rf)}function hf(e){return sf(rf)}function vf(e,t,n,r){var i={tag:e,create:t,destroy:n,deps:r,next:null},a=zd.updateQueue;if(null===a)a={lastEffect:null},zd.updateQueue=a,a.lastEffect=i.next=i;else{var o=a.lastEffect;if(null===o)a.lastEffect=i.next=i;else{var s=o.next;o.next=i,i.next=s,a.lastEffect=i}}return i}function mf(e){var t=tf(),n={current:e};return Object.seal(n),t.memoizedState=n,n}function gf(e){return nf().memoizedState}function yf(e,t,n,r){var i=tf(),a=void 0===r?null:r;zd.flags|=e,i.memoizedState=vf(1|t,n,void 0,a)}function bf(e,t,n,r){var i=nf(),a=void 0===r?null:r,o=void 0;if(null!==Fd){var s=Fd.memoizedState;if(o=s.destroy,null!==a)if(Zd(a,s.deps))return void vf(t,n,o,a)}zd.flags|=e,i.memoizedState=vf(1|t,n,o,a)}function xf(e,t){return"undefined"!==typeof jest&&Pm(zd),yf(516,4,e,t)}function wf(e,t){return"undefined"!==typeof jest&&Pm(zd),bf(516,4,e,t)}function _f(e,t){return yf(4,2,e,t)}function Sf(e,t){return bf(4,2,e,t)}function kf(e,t){if("function"===typeof t){var n=t,r=e();return n(r),function(){n(null)}}if(null!==t&&void 0!==t){var i=t;i.hasOwnProperty("current")||s("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(i).join(", ")+"}");var a=e();return i.current=a,function(){i.current=null}}}function Ef(e,t,n){"function"!==typeof t&&s("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!==n&&void 0!==n?n.concat([e]):null;return yf(4,2,kf.bind(null,t,e),r)}function Mf(e,t,n){"function"!==typeof t&&s("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!==n&&void 0!==n?n.concat([e]):null;return bf(4,2,kf.bind(null,t,e),r)}function Pf(e,t){}var Tf=Pf;function Cf(e,t){var n=void 0===t?null:t;return tf().memoizedState=[e,n],e}function Af(e,t){var n=nf(),r=void 0===t?null:t,i=n.memoizedState;if(null!==i&&(null!==r&&Zd(r,i[1])))return i[0];return n.memoizedState=[e,r],e}function If(e,t){var n=tf(),r=void 0===t?null:t,i=e();return n.memoizedState=[i,r],i}function Rf(e,t){var n=nf(),r=void 0===t?null:t,i=n.memoizedState;if(null!==i&&(null!==r&&Zd(r,i[1])))return i[0];var a=e();return n.memoizedState=[a,r],a}function Of(e){var t=ff(e),n=t[0],r=t[1];return xf((function(){var t=jd.transition;jd.transition=1;try{r(e)}finally{jd.transition=t}}),[e]),n}function Df(e){var t=pf(),n=t[0],r=t[1];return wf((function(){var t=jd.transition;jd.transition=1;try{r(e)}finally{jd.transition=t}}),[e]),n}function Lf(e){var t=hf(),n=t[0],r=t[1];return wf((function(){var t=jd.transition;jd.transition=1;try{r(e)}finally{jd.transition=t}}),[e]),n}function jf(e,t){var n=bl();wl(n<cl?cl:n,(function(){e(!0)})),wl(n>dl?dl:n,(function(){var n=jd.transition;jd.transition=1;try{e(!1),t()}finally{jd.transition=n}}))}function Nf(){var e=ff(!1),t=e[0],n=e[1],r=jf.bind(null,n);return mf(r),[r,t]}function zf(){var e=pf()[0];return[gf().current,e]}function Ff(){var e=hf()[0];return[gf().current,e]}var Bf=!1;function Uf(e){var t=Fe(e.type)||"Unknown";Ve&&!Dd[t]&&(s("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly."),Dd[t]=!0)}function Vf(){var e=iu.bind(null,Uf.bind(null,zd));if(Td()){var t=!1,n=zd,r={$$typeof:le,toString:a=function(){throw t||(t=!0,Bf=!0,i(e()),Bf=!1,Uf(n)),Error("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly.")},valueOf:a},i=ff(r)[1];return 0===(2&zd.mode)&&(zd.flags|=516,vf(5,(function(){i(e())}),void 0,null)),r}var a,o=e();return ff(o),o}function Hf(){return pf()[0]}function Wf(){return hf()[0]}function Gf(e,t,n){"function"===typeof arguments[3]&&s("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Av(),i=Iv(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a;var u=e.alternate;if(e===zd||null!==u&&u===zd)Vd=Ud=!0;else{if(0===e.lanes&&(null===u||0===u.lanes)){var l=t.lastRenderedReducer;if(null!==l){var c;c=Ld.current,Ld.current=Qf;try{var d=t.lastRenderedState,f=l(d,n);if(a.eagerReducer=l,a.eagerState=f,so(f,d))return}catch(p){}finally{Ld.current=c}}}"undefined"!==typeof jest&&(Mm(e),Tm(e)),Ov(e,i,r)}}var qf={readContext:ec,useCallback:$d,useContext:$d,useEffect:$d,useImperativeHandle:$d,useLayoutEffect:$d,useMemo:$d,useReducer:$d,useRef:$d,useState:$d,useDebugValue:$d,useDeferredValue:$d,useTransition:$d,useMutableSource:$d,useOpaqueIdentifier:$d,unstable_isNewReconciler:w},Kf=null,Xf=null,Yf=null,$f=null,Zf=null,Qf=null,Jf=null,ep=function(){s("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},tp=function(){s("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};Kf={readContext:function(e,t){return ec(e,t)},useCallback:function(e,t){return Hd="useCallback",Kd(),Yd(t),Cf(e,t)},useContext:function(e,t){return Hd="useContext",Kd(),ec(e,t)},useEffect:function(e,t){return Hd="useEffect",Kd(),Yd(t),xf(e,t)},useImperativeHandle:function(e,t,n){return Hd="useImperativeHandle",Kd(),Yd(n),Ef(e,t,n)},useLayoutEffect:function(e,t){return Hd="useLayoutEffect",Kd(),Yd(t),_f(e,t)},useMemo:function(e,t){Hd="useMemo",Kd(),Yd(t);var n=Ld.current;Ld.current=Zf;try{return If(e,t)}finally{Ld.current=n}},useReducer:function(e,t,n){Hd="useReducer",Kd();var r=Ld.current;Ld.current=Zf;try{return af(e,t,n)}finally{Ld.current=r}},useRef:function(e){return Hd="useRef",Kd(),mf(e)},useState:function(e){Hd="useState",Kd();var t=Ld.current;Ld.current=Zf;try{return ff(e)}finally{Ld.current=t}},useDebugValue:function(e,t){Hd="useDebugValue",Kd()},useDeferredValue:function(e){return Hd="useDeferredValue",Kd(),Of(e)},useTransition:function(){return Hd="useTransition",Kd(),Nf()},useMutableSource:function(e,t,n){return Hd="useMutableSource",Kd(),cf(e,t,n)},useOpaqueIdentifier:function(){return Hd="useOpaqueIdentifier",Kd(),Vf()},unstable_isNewReconciler:w},Xf={readContext:function(e,t){return ec(e,t)},useCallback:function(e,t){return Hd="useCallback",Xd(),Cf(e,t)},useContext:function(e,t){return Hd="useContext",Xd(),ec(e,t)},useEffect:function(e,t){return Hd="useEffect",Xd(),xf(e,t)},useImperativeHandle:function(e,t,n){return Hd="useImperativeHandle",Xd(),Ef(e,t,n)},useLayoutEffect:function(e,t){return Hd="useLayoutEffect",Xd(),_f(e,t)},useMemo:function(e,t){Hd="useMemo",Xd();var n=Ld.current;Ld.current=Zf;try{return If(e,t)}finally{Ld.current=n}},useReducer:function(e,t,n){Hd="useReducer",Xd();var r=Ld.current;Ld.current=Zf;try{return af(e,t,n)}finally{Ld.current=r}},useRef:function(e){return Hd="useRef",Xd(),mf(e)},useState:function(e){Hd="useState",Xd();var t=Ld.current;Ld.current=Zf;try{return ff(e)}finally{Ld.current=t}},useDebugValue:function(e,t){Hd="useDebugValue",Xd()},useDeferredValue:function(e){return Hd="useDeferredValue",Xd(),Of(e)},useTransition:function(){return Hd="useTransition",Xd(),Nf()},useMutableSource:function(e,t,n){return Hd="useMutableSource",Xd(),cf(e,t,n)},useOpaqueIdentifier:function(){return Hd="useOpaqueIdentifier",Xd(),Vf()},unstable_isNewReconciler:w},Yf={readContext:function(e,t){return ec(e,t)},useCallback:function(e,t){return Hd="useCallback",Xd(),Af(e,t)},useContext:function(e,t){return Hd="useContext",Xd(),ec(e,t)},useEffect:function(e,t){return Hd="useEffect",Xd(),wf(e,t)},useImperativeHandle:function(e,t,n){return Hd="useImperativeHandle",Xd(),Mf(e,t,n)},useLayoutEffect:function(e,t){return Hd="useLayoutEffect",Xd(),Sf(e,t)},useMemo:function(e,t){Hd="useMemo",Xd();var n=Ld.current;Ld.current=Qf;try{return Rf(e,t)}finally{Ld.current=n}},useReducer:function(e,t,n){Hd="useReducer",Xd();var r=Ld.current;Ld.current=Qf;try{return of(e)}finally{Ld.current=r}},useRef:function(e){return Hd="useRef",Xd(),gf()},useState:function(e){Hd="useState",Xd();var t=Ld.current;Ld.current=Qf;try{return pf()}finally{Ld.current=t}},useDebugValue:function(e,t){return Hd="useDebugValue",Xd(),Tf()},useDeferredValue:function(e){return Hd="useDeferredValue",Xd(),Df(e)},useTransition:function(){return Hd="useTransition",Xd(),zf()},useMutableSource:function(e,t,n){return Hd="useMutableSource",Xd(),df(e,t,n)},useOpaqueIdentifier:function(){return Hd="useOpaqueIdentifier",Xd(),Hf()},unstable_isNewReconciler:w},$f={readContext:function(e,t){return ec(e,t)},useCallback:function(e,t){return Hd="useCallback",Xd(),Af(e,t)},useContext:function(e,t){return Hd="useContext",Xd(),ec(e,t)},useEffect:function(e,t){return Hd="useEffect",Xd(),wf(e,t)},useImperativeHandle:function(e,t,n){return Hd="useImperativeHandle",Xd(),Mf(e,t,n)},useLayoutEffect:function(e,t){return Hd="useLayoutEffect",Xd(),Sf(e,t)},useMemo:function(e,t){Hd="useMemo",Xd();var n=Ld.current;Ld.current=Jf;try{return Rf(e,t)}finally{Ld.current=n}},useReducer:function(e,t,n){Hd="useReducer",Xd();var r=Ld.current;Ld.current=Jf;try{return sf(e)}finally{Ld.current=r}},useRef:function(e){return Hd="useRef",Xd(),gf()},useState:function(e){Hd="useState",Xd();var t=Ld.current;Ld.current=Jf;try{return hf()}finally{Ld.current=t}},useDebugValue:function(e,t){return Hd="useDebugValue",Xd(),Tf()},useDeferredValue:function(e){return Hd="useDeferredValue",Xd(),Lf(e)},useTransition:function(){return Hd="useTransition",Xd(),Ff()},useMutableSource:function(e,t,n){return Hd="useMutableSource",Xd(),df(e,t,n)},useOpaqueIdentifier:function(){return Hd="useOpaqueIdentifier",Xd(),Wf()},unstable_isNewReconciler:w},Zf={readContext:function(e,t){return ep(),ec(e,t)},useCallback:function(e,t){return Hd="useCallback",tp(),Kd(),Cf(e,t)},useContext:function(e,t){return Hd="useContext",tp(),Kd(),ec(e,t)},useEffect:function(e,t){return Hd="useEffect",tp(),Kd(),xf(e,t)},useImperativeHandle:function(e,t,n){return Hd="useImperativeHandle",tp(),Kd(),Ef(e,t,n)},useLayoutEffect:function(e,t){return Hd="useLayoutEffect",tp(),Kd(),_f(e,t)},useMemo:function(e,t){Hd="useMemo",tp(),Kd();var n=Ld.current;Ld.current=Zf;try{return If(e,t)}finally{Ld.current=n}},useReducer:function(e,t,n){Hd="useReducer",tp(),Kd();var r=Ld.current;Ld.current=Zf;try{return af(e,t,n)}finally{Ld.current=r}},useRef:function(e){return Hd="useRef",tp(),Kd(),mf(e)},useState:function(e){Hd="useState",tp(),Kd();var t=Ld.current;Ld.current=Zf;try{return ff(e)}finally{Ld.current=t}},useDebugValue:function(e,t){Hd="useDebugValue",tp(),Kd()},useDeferredValue:function(e){return Hd="useDeferredValue",tp(),Kd(),Of(e)},useTransition:function(){return Hd="useTransition",tp(),Kd(),Nf()},useMutableSource:function(e,t,n){return Hd="useMutableSource",tp(),Kd(),cf(e,t,n)},useOpaqueIdentifier:function(){return Hd="useOpaqueIdentifier",tp(),Kd(),Vf()},unstable_isNewReconciler:w},Qf={readContext:function(e,t){return ep(),ec(e,t)},useCallback:function(e,t){return Hd="useCallback",tp(),Xd(),Af(e,t)},useContext:function(e,t){return Hd="useContext",tp(),Xd(),ec(e,t)},useEffect:function(e,t){return Hd="useEffect",tp(),Xd(),wf(e,t)},useImperativeHandle:function(e,t,n){return Hd="useImperativeHandle",tp(),Xd(),Mf(e,t,n)},useLayoutEffect:function(e,t){return Hd="useLayoutEffect",tp(),Xd(),Sf(e,t)},useMemo:function(e,t){Hd="useMemo",tp(),Xd();var n=Ld.current;Ld.current=Qf;try{return Rf(e,t)}finally{Ld.current=n}},useReducer:function(e,t,n){Hd="useReducer",tp(),Xd();var r=Ld.current;Ld.current=Qf;try{return of(e)}finally{Ld.current=r}},useRef:function(e){return Hd="useRef",tp(),Xd(),gf()},useState:function(e){Hd="useState",tp(),Xd();var t=Ld.current;Ld.current=Qf;try{return pf()}finally{Ld.current=t}},useDebugValue:function(e,t){return Hd="useDebugValue",tp(),Xd(),Tf()},useDeferredValue:function(e){return Hd="useDeferredValue",tp(),Xd(),Df(e)},useTransition:function(){return Hd="useTransition",tp(),Xd(),zf()},useMutableSource:function(e,t,n){return Hd="useMutableSource",tp(),Xd(),df(e,t,n)},useOpaqueIdentifier:function(){return Hd="useOpaqueIdentifier",tp(),Xd(),Hf()},unstable_isNewReconciler:w},Jf={readContext:function(e,t){return ep(),ec(e,t)},useCallback:function(e,t){return Hd="useCallback",tp(),Xd(),Af(e,t)},useContext:function(e,t){return Hd="useContext",tp(),Xd(),ec(e,t)},useEffect:function(e,t){return Hd="useEffect",tp(),Xd(),wf(e,t)},useImperativeHandle:function(e,t,n){return Hd="useImperativeHandle",tp(),Xd(),Mf(e,t,n)},useLayoutEffect:function(e,t){return Hd="useLayoutEffect",tp(),Xd(),Sf(e,t)},useMemo:function(e,t){Hd="useMemo",tp(),Xd();var n=Ld.current;Ld.current=Qf;try{return Rf(e,t)}finally{Ld.current=n}},useReducer:function(e,t,n){Hd="useReducer",tp(),Xd();var r=Ld.current;Ld.current=Qf;try{return sf(e)}finally{Ld.current=r}},useRef:function(e){return Hd="useRef",tp(),Xd(),gf()},useState:function(e){Hd="useState",tp(),Xd();var t=Ld.current;Ld.current=Qf;try{return hf()}finally{Ld.current=t}},useDebugValue:function(e,t){return Hd="useDebugValue",tp(),Xd(),Tf()},useDeferredValue:function(e){return Hd="useDeferredValue",tp(),Xd(),Lf(e)},useTransition:function(){return Hd="useTransition",tp(),Xd(),Ff()},useMutableSource:function(e,t,n){return Hd="useMutableSource",tp(),Xd(),df(e,t,n)},useOpaqueIdentifier:function(){return Hd="useOpaqueIdentifier",tp(),Xd(),Wf()},unstable_isNewReconciler:w};var np=r.unstable_now,rp=0,ip=-1;function ap(){rp=np()}function op(e){ip=np(),e.actualStartTime<0&&(e.actualStartTime=np())}function sp(e){ip=-1}function up(e,t){if(ip>=0){var n=np()-ip;e.actualDuration+=n,t&&(e.selfBaseDuration=n),ip=-1}}function lp(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}var cp,dp,fp,pp,hp,vp,mp,gp,yp=a.ReactCurrentOwner,bp=!1;function xp(e,t,n,r){t.child=null===e?Yc(t,null,n,r):Xc(t,e.child,n,r)}function wp(e,t,n,r,i){if(t.type!==t.elementType){var a=n.propTypes;a&&_u(a,r,"prop",Fe(n))}var o,s=n.render,u=t.ref;if(Jl(t,i),yp.current=t,Ke(!0),o=Qd(e,t,s,r,u,i),1&t.mode){Ee();try{o=Qd(e,t,s,r,u,i)}finally{Me()}}return Ke(!1),null===e||bp?(t.flags|=1,xp(e,t,o,i),t.child):(Jd(e,t,i),eh(e,t,i))}function _p(e,t,n,r,i,a){if(null===e){var o=n.type;if(function(e){return"function"===typeof e&&!ag(e)&&void 0===e.defaultProps}(o)&&null===n.compare&&void 0===n.defaultProps){var s;return s=Vm(o),t.tag=h,t.type=s,Op(t,o),Sp(e,t,s,r,i,a)}var u=o.propTypes;u&&_u(u,r,"prop",Fe(o));var l=ug(n.type,null,r,t,t.mode,a);return l.ref=t.ref,l.return=t,t.child=l,l}var c=n.type,d=c.propTypes;d&&_u(d,r,"prop",Fe(c));var f=e.child;if(!Ci(i,a)){var p=f.memoizedProps,v=n.compare;if((v=null!==v?v:lo)(p,r)&&e.ref===t.ref)return eh(e,t,a)}t.flags|=1;var m=og(f,r);return m.ref=t.ref,m.return=t,t.child=m,m}function Sp(e,t,n,r,i,a){if(t.type!==t.elementType){var o=t.elementType;if(o.$$typeof===se){var s=o,u=s._payload,l=s._init;try{o=l(u)}catch(d){o=null}var c=o&&o.propTypes;c&&_u(c,r,"prop",Fe(o))}}if(null!==e&&(lo(e.memoizedProps,r)&&e.ref===t.ref&&t.type===e.type)){if(bp=!1,!Ci(a,i))return t.lanes=e.lanes,eh(e,t,a);0!==(e.flags&vr)&&(bp=!0)}return Pp(e,t,n,r,a)}function kp(e,t,n){var r,i=t.pendingProps,a=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0===(4&t.mode)){var s={baseLanes:0};t.memoizedState=s,Vv(t,n)}else{if(!Ci(n,gi)){var u;if(null!==o)u=Ii(o.baseLanes,n);else u=n;Im(gi),t.lanes=t.childLanes=gi;var l={baseLanes:u};return t.memoizedState=l,Vv(t,u),null}var c={baseLanes:0};t.memoizedState=c,Vv(t,null!==o?o.baseLanes:n)}else null!==o?(r=Ii(o.baseLanes,n),t.memoizedState=null):r=n,Vv(t,r);return xp(e,t,a,n),t.child}cp={},dp={},fp={},pp={},hp={},vp=!1,mp={},gp={};var Ep=kp;function Mp(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=ur)}function Pp(e,t,n,r,i){if(t.type!==t.elementType){var a=n.propTypes;a&&_u(a,r,"prop",Fe(n))}var o,s;if(o=ju(t,Du(0,n,!0)),Jl(t,i),yp.current=t,Ke(!0),s=Qd(e,t,n,r,o,i),1&t.mode){Ee();try{s=Qd(e,t,n,r,o,i)}finally{Me()}}return Ke(!1),null===e||bp?(t.flags|=1,xp(e,t,s,i),t.child):(Jd(e,t,i),eh(e,t,i))}function Tp(e,t,n,r,i){if(t.type!==t.elementType){var a=n.propTypes;a&&_u(a,r,"prop",Fe(n))}var o,u;zu(n)?(o=!0,Hu(t)):o=!1,Jl(t,i),null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Fc(t,n,r),Uc(t,n,r,i),u=!0):u=null===e?function(e,t,n,r){var i=e.stateNode,a=e.memoizedProps;i.props=a;var o=i.context,s=t.contextType,u=Au;u="object"===typeof s&&null!==s?ec(s):ju(e,Du(0,t,!0));var l=t.getDerivedStateFromProps,c="function"===typeof l||"function"===typeof i.getSnapshotBeforeUpdate;c||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||a===n&&o===u||Bc(e,i,n,u),pc();var d=e.memoizedState,f=i.state=d;if(dc(e,n,i,r),f=e.memoizedState,a===n&&d===f&&!Nu()&&!hc())return"function"===typeof i.componentDidMount&&(e.flags|=4),!1;"function"===typeof l&&(Ac(e,t,l,n),f=e.memoizedState);var p=hc()||Nc(e,t,a,n,d,f,u);return p?(c||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(e.flags|=4)):("function"===typeof i.componentDidMount&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=f),i.props=n,i.state=f,i.context=u,p}(t,n,r,i):function(e,t,n,r,i){var a=t.stateNode;oc(e,t);var o=t.memoizedProps,s=t.type===t.elementType?o:Fl(t.type,o);a.props=s;var u=t.pendingProps,l=a.context,c=n.contextType,d=Au;d="object"===typeof c&&null!==c?ec(c):ju(t,Du(0,n,!0));var f=n.getDerivedStateFromProps,p="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate;p||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||o===u&&l===d||Bc(t,a,r,d),pc();var h=t.memoizedState,v=a.state=h;if(dc(t,r,a,i),v=t.memoizedState,o===u&&h===v&&!Nu()&&!hc())return"function"===typeof a.componentDidUpdate&&(o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4)),"function"===typeof a.getSnapshotBeforeUpdate&&(o===e.memoizedProps&&h===e.memoizedState||(t.flags|=lr)),!1;"function"===typeof f&&(Ac(t,n,f,r),v=t.memoizedState);var m=hc()||Nc(t,n,s,r,h,v,d);return m?(p||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,v,d),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,v,d)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=lr)):("function"===typeof a.componentDidUpdate&&(o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4)),"function"===typeof a.getSnapshotBeforeUpdate&&(o===e.memoizedProps&&h===e.memoizedState||(t.flags|=lr)),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=d,m}(e,t,n,r,i);var l=Cp(e,t,n,u,o,i),c=t.stateNode;return u&&c.props!==r&&(vp||s("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Fe(t.type)||"a component"),vp=!0),l}function Cp(e,t,n,r,i,a){Mp(e,t);var o=0!==(t.flags&sr);if(!r&&!o)return i&&Wu(t,n,!1),eh(e,t,a);var s,u=t.stateNode;if(yp.current=t,o&&"function"!==typeof n.getDerivedStateFromError)s=null,sp();else{if(Ke(!0),s=u.render(),1&t.mode){Ee();try{u.render()}finally{Me()}}Ke(!1)}return t.flags|=1,null!==e&&o?function(e,t,n,r){t.child=Xc(t,e.child,null,r),t.child=Xc(t,null,n,r)}(e,t,s,a):xp(e,t,s,a),t.memoizedState=u.state,i&&Wu(t,n,!0),t.child}function Ap(e){var t=e.stateNode;t.pendingContext?Uu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uu(e,t.context,!1),rd(e,t.containerInfo)}function Ip(e,t,n){Ap(t);var r=t.updateQueue;if(null===e||null===r)throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");var i=t.pendingProps,a=t.memoizedState,o=null!==a?a.element:null;oc(e,t),dc(t,i,null,n);var s=t.memoizedState.element;if(s===o)return Pd(),eh(e,t,n);var u=t.stateNode;if(u.hydrate&&function(e){var t=e.stateNode.containerInfo;return gd=eu(t),md=e,yd=!0,!0}(t)){var l=u.mutableSourceEagerHydrationData;if(null!=l)for(var c=0;c<l.length;c+=2){Rd(l[c],l[c+1])}var d=Yc(t,null,s,n);t.child=d;for(var f=d;f;)f.flags=-3&f.flags|fr,f=f.sibling}else xp(e,t,s,n),Pd();return t.child}function Rp(e,t,n,r,i){null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);var a=t.pendingProps,o=n,s=o._payload,u=(0,o._init)(s);t.type=u;var l=t.tag=function(e){if("function"===typeof e)return ag(e)?1:0;if(void 0!==e&&null!==e){var t=e.$$typeof;if(t===re)return c;if(t===oe)return p}return 2}(u),d=Fl(u,a);switch(l){case 0:return Op(t,u),t.type=u=Vm(u),Pp(null,t,u,d,i);case 1:return t.type=u=Hm(u),Tp(null,t,u,d,i);case c:return t.type=u=Wm(u),wp(null,t,u,d,i);case p:if(t.type!==t.elementType){var f=u.propTypes;f&&_u(f,d,"prop",Fe(u))}return _p(null,t,u,Fl(u.type,d),r,i)}var h="";throw null!==u&&"object"===typeof u&&u.$$typeof===se&&(h=" Did you wrap a component in React.lazy() more than once?"),Error("Element type is invalid. Received a promise that resolves to: "+u+". Lazy element type must resolve to a class or function."+h)}function Op(e,t){if(t&&t.childContextTypes&&s("%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),null!==e.ref){var n="",r=He();r&&(n+="\n\nCheck the render method of `"+r+"`.");var i=r||e._debugID||"",a=e._debugSource;a&&(i=a.fileName+":"+a.lineNumber),hp[i]||(hp[i]=!0,s("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",n))}if("function"===typeof t.getDerivedStateFromProps){var o=Fe(t)||"Unknown";pp[o]||(s("%s: Function components do not support getDerivedStateFromProps.",o),pp[o]=!0)}if("object"===typeof t.contextType&&null!==t.contextType){var u=Fe(t)||"Unknown";fp[u]||(s("%s: Function components do not support contextType.",u),fp[u]=!0)}}var Dp={dehydrated:null,retryLane:0};function Lp(e){return{baseLanes:e}}function jp(e,t){return{baseLanes:Ii(e.baseLanes,t)}}function Np(e,t){return Ri(e.childLanes,t)}function zp(e,t,n){var r=t.pendingProps;kg(t)&&(t.flags|=sr);var i=ud.current,a=!1;if(0!==(t.flags&sr)||function(e,t,n,r){return(null===t||null!==t.memoizedState)&&ld(e,2)}(i,e)?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0!==r.fallback&&!0!==r.unstable_avoidThisFallback&&(i=i|1),fd(t,i=cd(i)),null===e){void 0!==r.fallback&&_d(t);var o=r.children,s=r.fallback;if(a){var u=Fp(t,o,s,n);return t.child.memoizedState=Lp(n),t.memoizedState=Dp,u}if("number"===typeof r.unstable_expectedLoadTime){var l=Fp(t,o,s,n);return t.child.memoizedState=Lp(n),t.memoizedState=Dp,t.lanes=fi,Im(fi),l}return function(e,t,n){var r=e.mode,i=dg({mode:"visible",children:t},r,n,null);return i.return=e,e.child=i,i}(t,o,n)}if(null!==e.memoizedState){if(a){var c=r.fallback,d=Vp(e,t,r.children,c,n),f=t.child,p=e.child.memoizedState;return f.memoizedState=null===p?Lp(n):jp(p,n),f.childLanes=Np(e,n),t.memoizedState=Dp,d}var h=Up(e,t,r.children,n);return t.memoizedState=null,h}if(a){var v=r.fallback,m=Vp(e,t,r.children,v,n),g=t.child,y=e.child.memoizedState;return g.memoizedState=null===y?Lp(n):jp(y,n),g.childLanes=Np(e,n),t.memoizedState=Dp,m}var b=Up(e,t,r.children,n);return t.memoizedState=null,b}function Fp(e,t,n,r){var i,a,o=e.mode,s=e.child,u={mode:"hidden",children:t};return 0===(2&o)&&null!==s?((i=s).childLanes=0,i.pendingProps=u,8&e.mode&&(i.actualDuration=0,i.actualStartTime=-1,i.selfBaseDuration=0,i.treeBaseDuration=0),a=cg(n,o,r,null)):(i=dg(u,o,0,null),a=cg(n,o,r,null)),i.return=e,a.return=e,i.sibling=a,e.child=i,a}function Bp(e,t){return og(e,t)}function Up(e,t,n,r){var i=e.child,a=i.sibling,o=Bp(i,{mode:"visible",children:n});return 0===(2&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==a&&(a.nextEffect=null,a.flags=8,t.firstEffect=t.lastEffect=a),t.child=o,o}function Vp(e,t,n,r,i){var a,o,s=t.mode,u=e.child,l=u.sibling,c={mode:"hidden",children:n};if(0===(2&s)&&t.child!==u){(a=t.child).childLanes=0,a.pendingProps=c,8&t.mode&&(a.actualDuration=0,a.actualStartTime=-1,a.selfBaseDuration=u.selfBaseDuration,a.treeBaseDuration=u.treeBaseDuration);var d=a.lastEffect;null!==d?(t.firstEffect=a.firstEffect,t.lastEffect=d,d.nextEffect=null):t.firstEffect=t.lastEffect=null}else a=Bp(u,c);return null!==l?o=og(l,r):(o=cg(r,s,i,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,o}function Hp(e,t){e.lanes=Ii(e.lanes,t);var n=e.alternate;null!==n&&(n.lanes=Ii(n.lanes,t)),Ql(e.return,t)}function Wp(e,t){var n=Array.isArray(e),r=!n&&"function"===typeof ve(e);if(n||r){var i=n?"array":"iterable";return s("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",i,t,i),!1}return!0}function Gp(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function qp(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail,o=r.children;!function(e){if(void 0!==e&&"forwards"!==e&&"backwards"!==e&&"together"!==e&&!mp[e])if(mp[e]=!0,"string"===typeof e)switch(e.toLowerCase()){case"together":case"forwards":case"backwards":s('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',e,e.toLowerCase());break;case"forward":case"backward":s('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',e,e.toLowerCase());break;default:s('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}else s('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}(i),function(e,t){void 0===e||gp[e]||("collapsed"!==e&&"hidden"!==e?(gp[e]=!0,s('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',e)):"forwards"!==t&&"backwards"!==t&&(gp[e]=!0,s('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',e)))}(a,i),function(e,t){if(("forwards"===t||"backwards"===t)&&void 0!==e&&null!==e&&!1!==e)if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(!Wp(e[n],n))return}else{var r=ve(e);if("function"===typeof r){var i=r.call(e);if(i)for(var a=i.next(),o=0;!a.done;a=i.next()){if(!Wp(a.value,o))return;o++}}else s('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}(o,i),xp(e,t,o,n);var u=ud.current;ld(u,2)?(u=dd(u,2),t.flags|=sr):(null!==e&&0!==(e.flags&sr)&&function(e,t,n){for(var r=t;null!==r;){if(r.tag===f)null!==r.memoizedState&&Hp(r,n);else if(r.tag===m)Hp(r,n);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(t,t.child,n),u=cd(u));if(fd(t,u),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":var l,c=function(e){for(var t=e,n=null;null!==t;){var r=t.alternate;null!==r&&null===vd(r)&&(n=t),t=t.sibling}return n}(t.child);null===c?(l=t.child,t.child=null):(l=c.sibling,c.sibling=null),Gp(t,!1,l,c,a,t.lastEffect);break;case"backwards":var d=null,p=t.child;for(t.child=null;null!==p;){var h=p.alternate;if(null!==h&&null===vd(h)){t.child=p;break}var v=p.sibling;p.sibling=d,d=p,p=v}Gp(t,!0,d,null,a,t.lastEffect);break;case"together":Gp(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}var Kp=!1;function Xp(e,t,n){var r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;"value"in i||Kp||(Kp=!0,s("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var u=t.type.propTypes;if(u&&_u(u,i,"prop","Context.Provider"),$l(t,o),null!==a){var c=function(e,t,n){if(so(n,t))return 0;var r="function"===typeof e._calculateChangedBits?e._calculateChangedBits(n,t):Ul;return(r&Ul)!==r&&s("calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s",r),0|r}(r,o,a.value);if(0===c){if(a.children===i.children&&!Nu())return eh(e,t,n)}else!function(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=void 0,o=i.dependencies;if(null!==o){a=i.child;for(var s=o.firstContext;null!==s;){if(s.context===t&&0!==(s.observedBits&n)){if(1===i.tag){var u=sc(yi,Pi(r));u.tag=rc,uc(i,u)}i.lanes=Ii(i.lanes,r);var c=i.alternate;null!==c&&(c.lanes=Ii(c.lanes,r)),Ql(i.return,r),o.lanes=Ii(o.lanes,r);break}s=s.next}}else a=i.tag===l&&i.type===e.type?null:i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}var d=a.sibling;if(null!==d){d.return=a.return,a=d;break}a=a.return}i=a}}(t,r,c,n)}return xp(e,t,i.children,n),t.child}var Yp,$p,Zp,Qp=!1;function Jp(){bp=!0}function eh(e,t,n){return null!==e&&(t.dependencies=e.dependencies),sp(),$v(t.lanes),Ci(n,t.childLanes)?(function(e,t){if(null!==e&&t.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==t.child){var n=t.child,r=og(n,n.pendingProps);for(t.child=r,r.return=t;null!==n.sibling;)n=n.sibling,(r=r.sibling=og(n,n.pendingProps)).return=t;r.sibling=null}}(e,t),t.child):null}function th(e,t,n){var r=t.lanes;if(t._debugNeedsRemount&&null!==e)return function(e,t,n){var r=t.return;if(null===r)throw new Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,n.index=t.index,n.sibling=t.sibling,n.return=t.return,n.ref=t.ref,t===r.child)r.child=n;else{var i=r.child;if(null===i)throw new Error("Expected parent to have a child.");for(;i.sibling!==t;)if(null===(i=i.sibling))throw new Error("Expected to find the previous sibling.");i.sibling=n}var a=r.lastEffect;return null!==a?(a.nextEffect=e,r.lastEffect=e):r.firstEffect=r.lastEffect=e,e.nextEffect=null,e.flags=8,n.flags|=2,n}(e,t,ug(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes));if(null!==e)if(e.memoizedProps!==t.pendingProps||Nu()||t.type!==e.type)bp=!0;else{if(!Ci(n,r)){switch(bp=!1,t.tag){case 3:Ap(t),Pd();break;case 5:od(t);break;case 1:zu(t.type)&&Hu(t);break;case 4:rd(t,t.stateNode.containerInfo);break;case l:$l(t,t.memoizedProps.value);break;case d:Ci(n,t.childLanes)&&(t.flags|=4);var i=t.stateNode;i.effectDuration=0,i.passiveEffectDuration=0;break;case f:if(null!==t.memoizedState){if(Ci(n,t.child.childLanes))return zp(e,t,n);fd(t,cd(ud.current));var a=eh(e,t,n);return null!==a?a.sibling:null}fd(t,cd(ud.current));break;case m:var o=0!==(e.flags&sr),u=Ci(n,t.childLanes);if(o){if(u)return qp(e,t,n);t.flags|=sr}var w=t.memoizedState;if(null!==w&&(w.rendering=null,w.tail=null,w.lastEffect=null),fd(t,ud.current),u)break;return null;case b:case x:return t.lanes=0,kp(e,t,n)}return eh(e,t,n)}bp=0!==(e.flags&vr)}else bp=!1;switch(t.lanes=0,t.tag){case 2:return function(e,t,n,r){null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);var i,a,o=t.pendingProps;if(i=ju(t,Du(0,n,!1)),Jl(t,r),n.prototype&&"function"===typeof n.prototype.render){var u=Fe(n)||"Unknown";cp[u]||(s("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",u,u),cp[u]=!0)}if(1&t.mode&&Tl.recordLegacyContextWarning(t,null),Ke(!0),yp.current=t,a=Qd(null,t,n,o,i,r),Ke(!1),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){var l=Fe(n)||"Unknown";dp[l]||(s("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",l,l,l),dp[l]=!0)}if("object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){var c=Fe(n)||"Unknown";dp[c]||(s("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",c,c,c),dp[c]=!0),t.tag=1,t.memoizedState=null,t.updateQueue=null;var d=!1;zu(n)?(d=!0,Hu(t)):d=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ac(t);var f=n.getDerivedStateFromProps;return"function"===typeof f&&Ac(t,n,f,o),zc(t,a),Uc(t,n,o,r),Cp(null,t,n,!0,d,r)}if(t.tag=0,1&t.mode){Ee();try{a=Qd(null,t,n,o,i,r)}finally{Me()}}return xp(null,t,a,r),Op(t,n),t.child}(e,t,t.type,n);case 16:return Rp(e,t,t.elementType,r,n);case 0:var _=t.type,S=t.pendingProps;return Pp(e,t,_,t.elementType===_?S:Fl(_,S),n);case 1:var k=t.type,E=t.pendingProps;return Tp(e,t,k,t.elementType===k?E:Fl(k,E),n);case 3:return Ip(e,t,n);case 5:return function(e,t,n){od(t),null===e&&_d(t);var r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children;return Us(r,i)?o=null:null!==a&&Us(r,a)&&(t.flags|=16),Mp(e,t),xp(e,t,o,n),t.child}(e,t,n);case 6:return function(e,t){return null===e&&_d(t),null}(e,t);case f:return zp(e,t,n);case 4:return function(e,t,n){rd(t,t.stateNode.containerInfo);var r=t.pendingProps;return null===e?t.child=Xc(t,null,r,n):xp(e,t,r,n),t.child}(e,t,n);case c:var M=t.type,P=t.pendingProps;return wp(e,t,M,t.elementType===M?P:Fl(M,P),n);case 7:return function(e,t,n){return xp(e,t,t.pendingProps,n),t.child}(e,t,n);case 8:return function(e,t,n){return xp(e,t,t.pendingProps.children,n),t.child}(e,t,n);case d:return function(e,t,n){t.flags|=4;var r=t.stateNode;return r.effectDuration=0,r.passiveEffectDuration=0,xp(e,t,t.pendingProps.children,n),t.child}(e,t,n);case l:return Xp(e,t,n);case 9:return function(e,t,n){var r=t.type;void 0===r._context?r!==r.Consumer&&(Qp||(Qp=!0,s("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):r=r._context;var i=t.pendingProps,a=i.children;"function"!==typeof a&&s("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Jl(t,n);var o,u=ec(r,i.unstable_observedBits);return yp.current=t,Ke(!0),o=a(u),Ke(!1),t.flags|=1,xp(e,t,o,n),t.child}(e,t,n);case p:var T=t.type,C=Fl(T,t.pendingProps);if(t.type!==t.elementType){var A=T.propTypes;A&&_u(A,C,"prop",Fe(T))}return _p(e,t,T,C=Fl(T.type,C),r,n);case h:return Sp(e,t,t.type,t.pendingProps,r,n);case v:var I=t.type,R=t.pendingProps;return function(e,t,n,r,i){var a;return null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,zu(n)?(a=!0,Hu(t)):a=!1,Jl(t,i),Fc(t,n,r),Uc(t,n,r,i),Cp(null,t,n,!0,a,i)}(e,t,I,t.elementType===I?R:Fl(I,R),n);case m:return qp(e,t,n);case g:case 21:case y:break;case b:return kp(e,t,n);case x:return Ep(e,t,n)}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function nh(e){e.flags|=4}function rh(e){e.flags|=ur}function ih(e,t){if(!Td())switch(e.tailMode){case"hidden":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":for(var i=e.tail,a=null;null!==i;)null!==i.alternate&&(a=i),i=i.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ah(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case h:case 0:case c:case 7:case 8:case d:case 9:case p:return null;case 1:return zu(t.type)&&Fu(t),null;case 3:id(t),Bu(t),Id();var i=t.stateNode;if(i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null===e||null===e.child)Md(t)?nh(t):i.hydrate||(t.flags|=lr);return null;case 5:sd(t);var a=nd(),o=t.type;if(null!==e&&null!=t.stateNode)$p(e,t,o,r),e.ref!==t.ref&&rh(t);else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return null}var s=ad();if(Md(t))(function(e,t,n){var r=tu(e.stateNode,e.type,e.memoizedProps,0,n,e);return e.updateQueue=r,null!==r})(t,0,s)&&nh(t);else{var u=Bs(o,r,a,s,t);Yp(u,t),t.stateNode=u,function(e,t,n,r,i){return gs(e,t,n),zs(t,n)}(u,o,r)&&nh(t)}null!==t.ref&&rh(t)}return null;case 6:var w=r;if(e&&null!=t.stateNode){var _=e.memoizedProps;Zp(0,t,_,w)}else{if("string"!==typeof w&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var S=nd(),k=ad();Md(t)?Sd(t)&&nh(t):t.stateNode=Vs(w,S,k,t)}return null;case f:pd(t);var E=t.memoizedState;if(0!==(t.flags&sr))return t.lanes=n,0!==(8&t.mode)&&lp(t),t;var M=null!==E,P=!1;if(null===e)void 0!==t.memoizedProps.fallback&&Md(t);else P=null!==e.memoizedState;if(M&&!P)if(0!==(2&t.mode))null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||ld(ud.current,1)?0===Qh&&(Qh=3):function(){0!==Qh&&3!==Qh||(Qh=4);null!==Kh&&(ki(tv)||ki(nv))&&Nv(Kh,Yh)}();return(M||P)&&(t.flags|=4),null;case 4:return id(t),null===e&&zo(t.stateNode.containerInfo),null;case l:return Zl(t),null;case v:return zu(t.type)&&Fu(t),null;case m:pd(t);var T=t.memoizedState;if(null===T)return null;var C=0!==(t.flags&sr),A=T.rendering;if(null===A)if(C)ih(T,!1);else{if(!(0===Qh&&(null===e||0===(e.flags&sr))))for(var I=t.child;null!==I;){var R=vd(I);if(null!==R){C=!0,t.flags|=sr,ih(T,!1);var O=R.updateQueue;return null!==O&&(t.updateQueue=O,t.flags|=4),null===T.lastEffect&&(t.firstEffect=null),t.lastEffect=T.lastEffect,$c(t,n),fd(t,dd(ud.current,2)),t.child}I=I.sibling}null!==T.tail&&yl()>uv()&&(t.flags|=sr,C=!0,ih(T,!1),t.lanes=fi,Im(fi))}else{if(!C){var D=vd(A);if(null!==D){t.flags|=sr,C=!0;var L=D.updateQueue;if(null!==L&&(t.updateQueue=L,t.flags|=4),ih(T,!0),null===T.tail&&"hidden"===T.tailMode&&!A.alternate&&!Td()){var j=t.lastEffect=T.lastEffect;return null!==j&&(j.nextEffect=null),null}}else 2*yl()-T.renderingStartTime>uv()&&n!==gi&&(t.flags|=sr,C=!0,ih(T,!1),t.lanes=fi,Im(fi))}if(T.isBackwards)A.sibling=t.child,t.child=A;else{var N=T.last;null!==N?N.sibling=A:t.child=A,T.last=A}}if(null!==T.tail){var z=T.tail;T.rendering=z,T.tail=z.sibling,T.lastEffect=t.lastEffect,T.renderingStartTime=yl(),z.sibling=null;var F=ud.current;return fd(t,F=C?dd(F,2):cd(F)),z}return null;case g:case 21:case y:break;case b:case x:if(Hv(t),null!==e){var B=t.memoizedState;null!==e.memoizedState!==(null!==B)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4)}return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function oh(e,t){switch(e.tag){case 1:zu(e.type)&&Fu(e);var n=e.flags;return n&hr?(e.flags=-4097&n|sr,0!==(8&e.mode)&&lp(e),e):null;case 3:id(e),Bu(e),Id();var r=e.flags;if(0!==(r&sr))throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return e.flags=-4097&r|sr,e;case 5:return sd(e),null;case f:pd(e);var i=e.flags;return i&hr?(e.flags=-4097&i|sr,0!==(8&e.mode)&&lp(e),e):null;case m:return pd(e),null;case 4:return id(e),null;case l:return Zl(e),null;case b:case x:return Hv(e),null;default:return null}}function sh(e){switch(e.tag){case 1:var t=e.type.childContextTypes;null!==t&&void 0!==t&&Fu(e);break;case 3:id(e),Bu(e),Id();break;case 5:sd(e);break;case 4:id(e);break;case f:case m:pd(e);break;case l:Zl(e);break;case b:case x:Hv(e)}}function uh(e,t){return{value:e,source:t,stack:Ne(t)}}function lh(e,t){try{0;var n=t.value,r=t.source,i=t.stack,a=null!==i?i:"";if(null!=n&&n._suppressLogging){if(1===e.tag)return;console.error(n)}var o=r?Fe(r.type):null,s=o?"The above error occurred in the <"+o+"> component:":"The above error occurred in one of your React components:",u=Fe(e.type),l=s+"\n"+a+"\n\n"+(u?"React will try to recreate this component tree from scratch using the error boundary you provided, "+u+".":"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/link/error-boundaries to learn more about error boundaries.");console.error(l)}catch(ay){setTimeout((function(){throw ay}))}}Yp=function(e,t,n,r){for(var i,a,o=t.child;null!==o;){if(5===o.tag||6===o.tag)i=e,a=o.stateNode,i.appendChild(a);else if(4===o.tag);else if(null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)return;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},$p=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var o=function(e,t,n,r,i,a){var o=a;if(typeof r.children!==typeof n.children&&("string"===typeof r.children||"number"===typeof r.children)){var s=""+r.children,u=Ps(o.ancestorInfo,t);Ms(null,s,u)}return ys(e,t,n,r)}(t.stateNode,n,a,r,0,ad());t.updateQueue=o,o&&nh(t)}},Zp=function(e,t,n,r){n!==r&&nh(t)};var ch="function"===typeof WeakMap?WeakMap:Map;function dh(e,t,n){var r=sc(yi,n);r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){hm(i),lh(e,t)},r}function fh(e,t,n){var r=sc(yi,n);r.tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var a=t.value;r.payload=function(){return lh(e,t),i(a)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch?r.callback=function(){var n;qm(e),"function"!==typeof i&&(n=this,null===fv?fv=new Set([n]):fv.add(n),lh(e,t));var r=t.value,a=t.stack;this.componentDidCatch(r,{componentStack:null!==a?a:""}),"function"!==typeof i&&(Ci(e.lanes,1)||s("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Fe(e.type)||"Unknown"))}:r.callback=function(){qm(e)},r}function ph(e,t,n){var r,i=e.pingCache;if(null===i?(i=e.pingCache=new ch,r=new Set,i.set(t,r)):void 0===(r=i.get(t))&&(r=new Set,i.set(t,r)),!r.has(n)){r.add(n);var a=gm.bind(null,e,t,n);t.then(a,a)}}function hh(e,t,n,r,i){if(n.flags|=pr,n.firstEffect=n.lastEffect=null,null!==r&&"object"===typeof r&&"function"===typeof r.then){var a=r;if(0===(2&n.mode)){var o=n.alternate;o?(n.updateQueue=o.updateQueue,n.memoizedState=o.memoizedState,n.lanes=o.lanes):(n.updateQueue=null,n.memoizedState=null)}var s=ld(ud.current,1),u=t;do{if(u.tag===f&&hd(u,s)){var l=u.updateQueue;if(null===l){var c=new Set;c.add(a),u.updateQueue=c}else l.add(a);if(0===(2&u.mode)){if(u.flags|=sr,n.flags|=vr,n.flags&=-2981,1===n.tag)if(null===n.alternate)n.tag=v;else{var d=sc(yi,1);d.tag=rc,uc(n,d)}return void(n.lanes=Ii(n.lanes,1))}return ph(e,a,i),u.flags|=hr,void(u.lanes=i)}u=u.return}while(null!==u);r=new Error((Fe(n.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Qh&&(Qh=2),r=uh(r,n);var p=t;do{switch(p.tag){case 3:var h=r;p.flags|=hr;var m=Pi(i);return p.lanes=Ii(p.lanes,m),void lc(p,dh(p,h,m));case 1:var g=r,y=p.type,b=p.stateNode;if(0===(p.flags&sr)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&!pm(b))){p.flags|=hr;var x=Pi(i);return p.lanes=Ii(p.lanes,x),void lc(p,fh(p,g,x))}}p=p.return}while(null!==p)}var vh;vh=new Set;var mh="function"===typeof WeakSet?WeakSet:Set,gh=function(e,t){t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()};function yh(e){var t=e.ref;null!==t&&("function"===typeof t?(Jn(null,t,null,null),er()&&mm(e,tr())):t.current=null)}function bh(e,t){(Jn(null,t,null),er())&&mm(e,tr())}function xh(e,t){switch(t.tag){case 0:case c:case h:case y:return;case 1:if(t.flags&lr&&null!==e){var n=e.memoizedProps,r=e.memoizedState,i=t.stateNode;t.type!==t.elementType||vp||(i.props!==t.memoizedProps&&s("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(t.type)||"instance"),i.state!==t.memoizedState&&s("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Fe(t.type)||"instance"));var a=i.getSnapshotBeforeUpdate(t.elementType===t.type?n:Fl(t.type,n),r),o=vh;void 0!==a||o.has(t.type)||(o.add(t.type),s("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Fe(t.type))),i.__reactInternalSnapshotBeforeUpdate=a}return;case 3:if(t.flags&lr)$s(t.stateNode.containerInfo);return;case 5:case 6:case 4:case v:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function wh(e,t,n,r){switch(n.tag){case 0:case c:case h:case y:return function(e,t){var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next,a=i;do{if((a.tag&e)===e){var o=a.create;a.destroy=o();var u=a.destroy;void 0!==u&&"function"!==typeof u&&s("An effect function must not return anything besides a function, which is used for clean-up.%s",null===u?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"===typeof u.then?"\n\nIt looks like you wrote useEffect(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching":" You returned: "+u)}a=a.next}while(a!==i)}}(3,n),void function(e){var t=e.updateQueue,n=null!==t?t.lastEffect:null;if(null!==n){var r=n.next,i=r;do{var a=i,o=a.next,s=a.tag;0!==(4&s)&&0!==(1&s)&&(cm(e,i),lm(e,i)),i=o}while(i!==r)}}(n);case 1:var i=n.stateNode;if(4&n.flags)if(null===t)n.type!==n.elementType||vp||(i.props!==n.memoizedProps&&s("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(n.type)||"instance"),i.state!==n.memoizedState&&s("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Fe(n.type)||"instance")),i.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:Fl(n.type,t.memoizedProps),o=t.memoizedState;n.type!==n.elementType||vp||(i.props!==n.memoizedProps&&s("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(n.type)||"instance"),i.state!==n.memoizedState&&s("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Fe(n.type)||"instance")),i.componentDidUpdate(a,o,i.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;return void(null!==u&&(n.type!==n.elementType||vp||(i.props!==n.memoizedProps&&s("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(n.type)||"instance"),i.state!==n.memoizedState&&s("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Fe(n.type)||"instance")),vc(0,u,i)));case 3:var l=n.updateQueue;if(null!==l){var p=null;if(null!==n.child)switch(n.child.tag){case 5:case 1:p=n.child.stateNode}vc(0,l,p)}return;case 5:var w=n.stateNode;if(null===t&&4&n.flags)!function(e,t,n,r){zs(t,n)&&e.focus()}(w,n.type,n.memoizedProps);return;case 6:case 4:return;case d:var _=n.memoizedProps,S=(_.onCommit,_.onRender),k=(n.stateNode.effectDuration,rp);return void("function"===typeof S&&S(n.memoizedProps.id,null===t?"mount":"update",n.actualDuration,n.treeBaseDuration,n.actualStartTime,k,e.memoizedInteractions));case f:return void function(e,t){if(null===t.memoizedState){var n=t.alternate;if(null!==n){var r=n.memoizedState;if(null!==r){var i=r.dehydrated;null!==i&&function(e){Hr(e)}(i)}}}}(0,n);case m:case v:case g:case 21:case b:case x:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function _h(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?Ks(r):Xs(n.stateNode,n.memoizedProps)}else if(6===n.tag){var i=n.stateNode;t?i.nodeValue="":Ys(i,n.memoizedProps)}else if(n.tag!==b&&n.tag!==x||null===n.memoizedState||n===e){if(null!==n.child){n.child.return=n,n=n.child;continue}}else;if(n===e)return;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Sh(e){var t=e.ref;if(null!==t){var n,r=e.stateNode;e.tag,n=r,"function"===typeof t?t(n):(t.hasOwnProperty("current")||s("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Fe(e.type)),t.current=n)}}function kh(e){var t=e.ref;null!==t&&("function"===typeof t?t(null):t.current=null)}function Eh(e,t,n){switch(function(e){if(Ku&&"function"===typeof Ku.onCommitFiberUnmount)try{Ku.onCommitFiberUnmount(qu,e)}catch(t){Xu||(Xu=!0,s("React instrumentation encountered an error: %s",t))}}(t),t.tag){case 0:case c:case p:case h:case y:var r=t.updateQueue;if(null!==r){var i=r.lastEffect;if(null!==i){var a=i.next,o=a;do{var u=o,l=u.destroy,d=u.tag;void 0!==l&&(0!==(4&d)?cm(t,o):bh(t,l)),o=o.next}while(o!==a)}}return;case 1:yh(t);var f=t.stateNode;return void("function"===typeof f.componentWillUnmount&&function(e,t){Jn(null,gh,null,e,t),er()&&mm(e,tr())}(t,f));case 5:return void yh(t);case 4:return void Rh(e,t);case g:case 18:case 21:return}}function Mh(e,t,n){for(var r=t;;)if(Eh(e,r),null===r.child||4===r.tag){if(r===t)return;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Ph(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null,e._debugOwner=null}function Th(e){return 5===e.tag||3===e.tag||4===e.tag}function Ch(e){var t,n,r=function(e){for(var t=e.return;null!==t;){if(Th(t))return t;t=t.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e),i=r.stateNode;switch(r.tag){case 5:t=i,n=!1;break;case 3:case 4:t=i.containerInfo,n=!0;break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}16&r.flags&&(Gs(t),r.flags&=-17);var a=function(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||Th(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue e;if(null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}(e);n?Ah(e,a,t):Ih(e,a,t)}function Ah(e,t,n){var r=e.tag,i=5===r||6===r;if(i){var a=i?e.stateNode:e.stateNode.instance;t?function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)}(n,a,t):function(e,t){var n;8===e.nodeType?(n=e.parentNode).insertBefore(t,e):(n=e).appendChild(t);var r=e._reactRootContainer;null!==r&&void 0!==r||null!==n.onclick||ms(n)}(n,a)}else if(4===r);else{var o=e.child;if(null!==o){Ah(o,t,n);for(var s=o.sibling;null!==s;)Ah(s,t,n),s=s.sibling}}}function Ih(e,t,n){var r=e.tag,i=5===r||6===r;if(i){var a=i?e.stateNode:e.stateNode.instance;t?function(e,t,n){e.insertBefore(t,n)}(n,a,t):function(e,t){e.appendChild(t)}(n,a)}else if(4===r);else{var o=e.child;if(null!==o){Ih(o,t,n);for(var s=o.sibling;null!==s;)Ih(s,t,n),s=s.sibling}}}function Rh(e,t,n){for(var r,i,a,o,s=t,u=!1;;){if(!u){var l=s.return;e:for(;;){if(null===l)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");var c=l.stateNode;switch(l.tag){case 5:r=c,i=!1;break e;case 3:case 4:r=c.containerInfo,i=!0;break e}l=l.return}u=!0}if(5===s.tag||6===s.tag)Mh(e,s),i?(a=r,o=s.stateNode,8===a.nodeType?a.parentNode.removeChild(o):a.removeChild(o)):qs(r,s.stateNode);else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(Eh(e,s),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)return;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(u=!1)}s.sibling.return=s.return,s=s.sibling}}function Oh(e,t,n){Rh(e,t);var r=t.alternate;Ph(t),null!==r&&Ph(r)}function Dh(e,t){switch(t.tag){case 0:case c:case p:case h:case y:return void function(e,t){var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next,a=i;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&o()}a=a.next}while(a!==i)}}(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r,a=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,r,i,a){gu(e,i),bs(e,t,n,r,i)}(n,o,a,i,r)}return;case 6:if(null===t.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var s=t.stateNode,u=t.memoizedProps;null!==e&&e.memoizedProps;return void function(e,t,n){e.nodeValue=n}(s,0,u);case 3:var l=t.stateNode;return void(l.hydrate&&(l.hydrate=!1,Hr(l.containerInfo)));case d:return;case f:return function(e){if(null!==e.memoizedState){av=yl(),_h(e.child,!0)}}(t),void Lh(t);case m:return void Lh(t);case v:return;case g:case 21:break;case b:case x:return void _h(t,null!==t.memoizedState)}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function Lh(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new mh),t.forEach((function(t){var r=ym.bind(null,e,t);n.has(t)||(!0!==t.__reactDoNotTraceInteractions&&(r=i.unstable_wrap(r)),n.add(t),t.then(r,r))}))}}function jh(e,t){if(null!==e){var n=e.memoizedState;if(null===n||null!==n.dehydrated){var r=t.memoizedState;return null!==r&&null===r.dehydrated}}return!1}function Nh(e){Gs(e.stateNode)}if("function"===typeof Symbol&&Symbol.for){var zh=Symbol.for;zh("selector.component"),zh("selector.has_pseudo_class"),zh("selector.role"),zh("selector.test_id"),zh("selector.text")}var Fh=[];var Bh=Math.ceil,Uh=a.ReactCurrentDispatcher,Vh=a.ReactCurrentOwner,Hh=a.IsSomeRendererActing,Wh=16,Gh=32,qh=0,Kh=null,Xh=null,Yh=0,$h=0,Zh=Pu(0),Qh=0,Jh=null,ev=0,tv=0,nv=0,rv=0,iv=null,av=0,ov=1/0;function sv(){ov=yl()+500}function uv(){return ov}var lv=null,cv=!1,dv=null,fv=null,pv=!1,hv=null,vv=90,mv=0,gv=[],yv=[],bv=null,xv=0,wv=null,_v=0,Sv=null,kv=yi,Ev=0,Mv=0,Pv=!1,Tv=null,Cv=!1;function Av(){return 0!==(48&qh)?yl():kv!==yi?kv:kv=yl()}function Iv(e){var t=e.mode;if(0===(2&t))return 1;if(0===(4&t))return bl()===ll?1:2;if(0===Ev&&(Ev=ev),0!==Pl.transition)return 0!==Mv&&(Mv=null!==iv?iv.pendingLanes:0),function(e,t){var n=Pi(ci&~t);return 0===n&&0===(n=Pi(ci&~e))&&(n=Pi(ci)),n}(Ev,Mv);var n,r=bl();0!==(4&qh)&&r===cl?n=Mi(12,Ev):n=Mi(function(e){switch(e){case 99:return si;case 98:return ui;case 97:case 96:return 8;case 95:return 2;default:return 0}}(r),Ev);return n}function Rv(e){var t=e.mode;return 0===(2&t)?1:0===(4&t)?bl()===ll?1:2:(0===Ev&&(Ev=ev),function(e){var t=Pi(di&~e);return 0===t&&(t=Pi(di)),t}(Ev))}function Ov(e,t,n){!function(){if(xv>50)throw xv=0,wv=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");_v>50&&(_v=0,s("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}(),function(e){if(Ve&&0!==(qh&Wh)&&!Bf)switch(e.tag){case 0:case c:case h:var t=Xh&&Fe(Xh.type)||"Unknown",n=t;if(!Sm.has(n))Sm.add(n),s("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",Fe(e.type)||"Unknown",t,t);break;case 1:km||(s("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),km=!0)}}(e);var r=Dv(e,t);if(null===r)return function(e){var t=e.tag;if(3!==t&&1!==t&&0!==t&&t!==c&&t!==p&&t!==h&&t!==y)return;if(0!==(e.flags&dr))return;var n=Fe(e.type)||"ReactComponent";if(null!==_m){if(_m.has(n))return;_m.add(n)}else _m=new Set([n]);if(Pv);else{var r=Ue;try{qe(e),s("Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in %s.",1===t?"the componentWillUnmount method":"a useEffect cleanup function")}finally{r?qe(e):Ge()}}}(e),null;Di(r,t,n),r===Kh&&(nv=Ii(nv,t),4===Qh&&Nv(r,Yh));var i=bl();1===t?0!==(8&qh)&&0===(48&qh)?(Om(r,t),zv(r)):(Lv(r,n),Om(r,t),0===qh&&(sv(),kl())):(0===(4&qh)||i!==cl&&i!==ll||(null===bv?bv=new Set([r]):bv.add(r)),Lv(r,n),Om(r,t)),iv=r}function Dv(e,t){e.lanes=Ii(e.lanes,t);var n=e.alternate;null!==n&&(n.lanes=Ii(n.lanes,t)),null===n&&0!==(1026&e.flags)&&xm(e);for(var r=e,i=e.return;null!==i;)i.childLanes=Ii(i.childLanes,t),null!==(n=i.alternate)?n.childLanes=Ii(n.childLanes,t):0!==(1026&i.flags)&&xm(e),r=i,i=i.return;return 3===r.tag?r.stateNode:null}function Lv(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.pendingLanes,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=n;o>0;){var s=Ti(o),u=1<<s,l=a[s];l===yi?0!==(u&r)&&0===(u&i)||(a[s]=_i(u,t)):l<=t&&(e.expiredLanes|=u),o&=~u}}(e,t);var r=wi(e,e===Kh?Yh:0),i=bi;if(0!==r){if(null!==n){if(e.callbackPriority===i)return;Sl(n)}var a,o;if(i===si)o=zv.bind(null,e),null===hl?(hl=[o],vl=Zu(rl,El)):hl.push(o),a=ul;else if(14===i)a=_l(ll,zv.bind(null,e));else{a=_l(function(e){switch(e){case si:case 14:return 99;case 13:case 12:case 11:case ui:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error("Invalid update priority: "+e+". This is a bug in React.")}}(i),jv.bind(null,e))}e.callbackPriority=i,e.callbackNode=a}else null!==n&&(Sl(n),e.callbackNode=null,e.callbackPriority=0)}function jv(e){if(kv=yi,Ev=0,Mv=0,0!==(48&qh))throw Error("Should not already be working.");var t=e.callbackNode;if(um()&&e.callbackNode!==t)return null;var n=wi(e,e===Kh?Yh:0);if(0===n)return null;var r=function(e,t){var n=qh;qh|=Wh;var r=qv();Kh===e&&Yh===t||(sv(),Wv(e,t),Dm(e,t));var i=Xv(e);for(;;)try{Jv();break}catch(a){Gv(e,a)}return Kl(),Yv(i),Kv(r),qh=n,null!==Xh?0:(Kh=null,Yh=0,Qh)}(e,n);if(Ci(ev,nv))Wv(e,0);else if(0!==r){if(2===r&&(qh|=64,e.hydrate&&(e.hydrate=!1,$s(e.containerInfo)),0!==(n=Si(e))&&(r=Zv(e,n))),1===r){var i=Jh;throw Wv(e,0),Nv(e,n),Lv(e,yl()),i}var a=e.current.alternate;e.finishedWork=a,e.finishedLanes=n,function(e,t,n){switch(t){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 2:case 5:rm(e);break;case 3:if(Nv(e,n),Ei(n)&&!jm()){var r=av+500-yl();if(r>10){if(0!==wi(e,0))break;var i=e.suspendedLanes;if(!Ai(i,n)){Av();Li(e,i);break}e.timeoutHandle=Hs(rm.bind(null,e),r);break}}rm(e);break;case 4:if(Nv(e,n),function(e){return(e&ci)===e}(n))break;if(!jm()){var a=function(e,t){for(var n=e.eventTimes,r=yi;t>0;){var i=Ti(t),a=1<<i,o=n[i];o>r&&(r=o),t&=~a}return r}(e,n),o=a,s=yl()-o,u=((l=s)<120?120:l<480?480:l<1080?1080:l<1920?1920:l<3e3?3e3:l<4320?4320:1960*Bh(l/1960))-s;if(u>10){e.timeoutHandle=Hs(rm.bind(null,e),u);break}}rm(e);break;default:throw Error("Unknown root exit status.")}var l}(e,r,n)}return Lv(e,yl()),e.callbackNode===t?jv.bind(null,e):null}function Nv(e,t){t=Ri(t,rv),function(e,t){e.suspendedLanes|=t,e.pingedLanes&=~t;for(var n=e.expirationTimes,r=t;r>0;){var i=Ti(r),a=1<<i;n[i]=yi,r&=~a}}(e,t=Ri(t,nv))}function zv(e){if(0!==(48&qh))throw Error("Should not already be working.");var t,n;if(um(),e===Kh&&Ci(e.expiredLanes,Yh)?(n=Zv(e,t=Yh),Ci(ev,nv)&&(n=Zv(e,t=wi(e,t)))):n=Zv(e,t=wi(e,0)),0!==e.tag&&2===n&&(qh|=64,e.hydrate&&(e.hydrate=!1,$s(e.containerInfo)),0!==(t=Si(e))&&(n=Zv(e,t))),1===n){var r=Jh;throw Wv(e,0),Nv(e,t),Lv(e,yl()),r}var i=e.current.alternate;return e.finishedWork=i,e.finishedLanes=t,rm(e),Lv(e,yl()),null}function Fv(e,t){var n=qh;qh|=1;try{return e(t)}finally{0===(qh=n)&&(sv(),kl())}}function Bv(e,t){var n=qh;qh&=-2,qh|=8;try{return e(t)}finally{0===(qh=n)&&(sv(),kl())}}function Uv(e,t){var n=qh;if(0!==(48&n))return s("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),e(t);qh|=1;try{return e?wl(ll,e.bind(null,t)):void 0}finally{qh=n,kl()}}function Vv(e,t){Cu(Zh,$h,e),$h=Ii($h,t),ev=Ii(ev,t)}function Hv(e){$h=Zh.current,Tu(Zh,e)}function Wv(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ws(n)),null!==Xh)for(var r=Xh.return;null!==r;)sh(r),r=r.return;Kh=e,Xh=og(e.current,null),Yh=$h=ev=t,Qh=0,Jh=null,tv=0,nv=0,rv=0,Sv=null,Tl.discardPendingWarnings()}function Gv(e,t){for(;;){var n=Xh;try{if(Kl(),ef(),Ge(),Vh.current=null,null===n||null===n.return)return Qh=1,Jh=t,void(Xh=null);8&n.mode&&up(n,!0),hh(e,n.return,n,t,Yh),tm(n)}catch(r){t=r,Xh===n&&null!==n?(n=n.return,Xh=n):n=Xh;continue}return}}function qv(){var e=Uh.current;return Uh.current=qf,null===e?qf:e}function Kv(e){Uh.current=e}function Xv(e){var t=i.__interactionsRef.current;return i.__interactionsRef.current=e.memoizedInteractions,t}function Yv(e){i.__interactionsRef.current=e}function $v(e){tv=Ii(e,tv)}function Zv(e,t){var n=qh;qh|=Wh;var r=qv();Kh===e&&Yh===t||(Wv(e,t),Dm(e,t));for(var i=Xv(e);;)try{Qv();break}catch(a){Gv(e,a)}if(Kl(),Yv(i),qh=n,Kv(r),null!==Xh)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Kh=null,Yh=0,Qh}function Qv(){for(;null!==Xh;)em(Xh)}function Jv(){for(;null!==Xh&&!fl();)em(Xh)}function em(e){var t,n=e.alternate;qe(e),0!==(8&e.mode)?(op(e),t=wm(n,e,$h),up(e,!0)):t=wm(n,e,$h),Ge(),e.memoizedProps=e.pendingProps,null===t?tm(e):Xh=t,Vh.current=null}function tm(e){var t=e;do{var n=t.alternate,r=t.return;if(0===(t.flags&pr)){qe(t);var i=void 0;if(0===(8&t.mode)?i=ah(n,t,$h):(op(t),i=ah(n,t,$h),up(t,!1)),Ge(),null!==i)return void(Xh=i);if(nm(t),null!==r&&0===(r.flags&pr))null===r.firstEffect&&(r.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=t.firstEffect),r.lastEffect=t.lastEffect),t.flags>1&&(null!==r.lastEffect?r.lastEffect.nextEffect=t:r.firstEffect=t,r.lastEffect=t)}else{var a=oh(t);if(null!==a)return a.flags&=2047,void(Xh=a);if(0!==(8&t.mode)){up(t,!1);for(var o=t.actualDuration,s=t.child;null!==s;)o+=s.actualDuration,s=s.sibling;t.actualDuration=o}null!==r&&(r.firstEffect=r.lastEffect=null,r.flags|=pr)}var u=t.sibling;if(null!==u)return void(Xh=u);Xh=t=r}while(null!==t);0===Qh&&(Qh=5)}function nm(e){if(e.tag!==x&&e.tag!==b||null===e.memoizedState||Ci($h,gi)||0===(4&e.mode)){var t=0;if(0!==(8&e.mode)){for(var n=e.actualDuration,r=e.selfBaseDuration,i=null===e.alternate||e.child!==e.alternate.child,a=e.child;null!==a;)t=Ii(t,Ii(a.lanes,a.childLanes)),i&&(n+=a.actualDuration),r+=a.treeBaseDuration,a=a.sibling;if(e.tag===f&&null!==e.memoizedState){var o=e.child;null!==o&&(r-=o.treeBaseDuration)}e.actualDuration=n,e.treeBaseDuration=r}else for(var s=e.child;null!==s;)t=Ii(t,Ii(s.lanes,s.childLanes)),s=s.sibling;e.childLanes=t}}function rm(e){var t=bl();return wl(ll,im.bind(null,e,t)),null}function im(e,t){do{um()}while(null!==hv);if(Tl.flushLegacyContextWarning(),Tl.flushPendingUnsafeLifecycleWarnings(),0!==(48&qh))throw Error("Should not already be working.");var n=e.finishedWork,r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null;var i,a=Ii(n.lanes,n.childLanes);if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t;for(var r=e.entanglements,i=e.eventTimes,a=e.expirationTimes,o=n;o>0;){var s=Ti(o),u=1<<s;r[s]=0,i[s]=yi,a[s]=yi,o&=~u}}(e,a),null!==bv&&!function(e){return 0!==(24&e)}(a)&&bv.has(e)&&bv.delete(e),e===Kh&&(Kh=null,Xh=null,Yh=0),n.flags>1?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=qh;qh|=Gh;var u=Xv(e);Vh.current=null,Tv=Fs(e.containerInfo),Cv=!1,lv=i;do{if(Jn(null,am,null),er()){if(null===lv)throw Error("Should be working on an effect.");var l=tr();mm(lv,l),lv=lv.nextEffect}}while(null!==lv);Tv=null,ap(),lv=i;do{if(Jn(null,om,null,e,t),er()){if(null===lv)throw Error("Should be working on an effect.");var c=tr();mm(lv,c),lv=lv.nextEffect}}while(null!==lv);e.containerInfo,wo(Ns),Hi(js),js=null,Ns=null,e.current=n,lv=i;do{if(Jn(null,sm,null,e,r),er()){if(null===lv)throw Error("Should be working on an effect.");var d=tr();mm(lv,d),lv=lv.nextEffect}}while(null!==lv);lv=null,pl(),Yv(u),qh=o}else e.current=n,ap();var f=pv;if(pv)pv=!1,hv=e,mv=r,vv=t;else for(lv=i;null!==lv;){var p=lv.nextEffect;lv.nextEffect=null,8&lv.flags&&zm(lv),lv=p}if(0!==(a=e.pendingLanes)){if(null!==Sv){var h=Sv;Sv=null;for(var v=0;v<h.length;v++)Rm(e,h[v],e.memoizedInteractions)}Om(e,a)}else fv=null;if(f||Lm(e,r),1===a?e===wv?xv++:(xv=0,wv=e):xv=0,function(e,t){if(Ku&&"function"===typeof Ku.onCommitFiberRoot)try{var n=(e.current.flags&sr)===sr;Ku.onCommitFiberRoot(qu,e,t,n)}catch(r){Xu||(Xu=!0,s("React instrumentation encountered an error: %s",r))}}(n.stateNode,t),Fh.forEach((function(e){return e()})),Lv(e,yl()),cv){cv=!1;var m=dv;throw dv=null,m}return 0!==(8&qh)||kl(),null}function am(){for(;null!==lv;){var e=lv.alternate;Cv||null===Tv||(0!==(8&lv.flags)?Sr(lv,Tv)&&(Cv=!0):lv.tag===f&&jh(e,lv)&&Sr(lv,Tv)&&(Cv=!0));var t=lv.flags;0!==(t&lr)&&(qe(lv),xh(e,lv),Ge()),0!==(t&cr)&&(pv||(pv=!0,_l(dl,(function(){return um(),null})))),lv=lv.nextEffect}}function om(e,t){for(;null!==lv;){qe(lv);var n=lv.flags;if(16&n&&Nh(lv),n&ur){var r=lv.alternate;null!==r&&kh(r)}switch(1038&n){case 2:Ch(lv),lv.flags&=-3;break;case 6:Ch(lv),lv.flags&=-3,Dh(lv.alternate,lv);break;case fr:lv.flags&=-1025;break;case 1028:lv.flags&=-1025,Dh(lv.alternate,lv);break;case 4:Dh(lv.alternate,lv);break;case 8:Oh(e,lv)}Ge(),lv=lv.nextEffect}}function sm(e,t){for(;null!==lv;){qe(lv);var n=lv.flags;if(36&n)wh(e,lv.alternate,lv);n&ur&&Sh(lv),Ge(),lv=lv.nextEffect}}function um(){if(90!==vv){var e=vv>dl?dl:vv;return vv=90,wl(e,fm)}return!1}function lm(e,t){gv.push(t,e),pv||(pv=!0,_l(dl,(function(){return um(),null})))}function cm(e,t){yv.push(t,e),e.flags|=dr;var n=e.alternate;null!==n&&(n.flags|=dr),pv||(pv=!0,_l(dl,(function(){return um(),null})))}function dm(e){var t=e.create;e.destroy=t()}function fm(){if(null===hv)return!1;var e=hv,t=mv;if(hv=null,mv=0,0!==(48&qh))throw Error("Cannot flush passive effects while already rendering.");Pv=!0;var n=qh;qh|=Gh;var r=Xv(e),i=yv;yv=[];for(var a=0;a<i.length;a+=2){var o=i[a],s=i[a+1],u=o.destroy;o.destroy=void 0,s.flags&=-8193;var l=s.alternate;if(null!==l&&(l.flags&=-8193),"function"===typeof u){if(qe(s),Jn(null,u,null),er()){if(null===s)throw Error("Should be working on an effect.");mm(s,tr())}Ge()}}var c=gv;gv=[];for(var d=0;d<c.length;d+=2){var f=c[d],p=c[d+1];if(qe(p),Jn(null,dm,null,f),er()){if(null===p)throw Error("Should be working on an effect.");mm(p,tr())}Ge()}for(var h=e.current.firstEffect;null!==h;){var v=h.nextEffect;h.nextEffect=null,8&h.flags&&zm(h),h=v}return Yv(r),Lm(e,t),Pv=!1,qh=n,kl(),_v=null===hv?0:_v+1,!0}function pm(e){return null!==fv&&fv.has(e)}var hm=function(e){cv||(cv=!0,dv=e)};function vm(e,t,n){uc(e,dh(e,uh(n,t),1));var r=Av(),i=Dv(e,1);null!==i&&(Di(i,1,r),Lv(i,r),Om(i,1))}function mm(e,t){if(3!==e.tag)for(var n=e.return;null!==n;){if(3===n.tag)return void vm(n,e,t);if(1===n.tag){var r=n.type,i=n.stateNode;if("function"===typeof r.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&!pm(i)){var a=uh(t,e);uc(n,fh(n,a,1));var o=Av(),s=Dv(n,1);if(null!==s)Di(s,1,o),Lv(s,o),Om(s,1);else if("function"===typeof i.componentDidCatch&&!pm(i))try{i.componentDidCatch(t,a)}catch(u){}return}}n=n.return}else vm(e,e,t)}function gm(e,t,n){var r=e.pingCache;null!==r&&r.delete(t);var i=Av();Li(e,n),Kh===e&&Ai(Yh,n)&&(4===Qh||3===Qh&&Ei(Yh)&&yl()-av<500?Wv(e,0):rv=Ii(rv,n)),Lv(e,i),Om(e,n)}function ym(e,t){var n;null!==(n=e.stateNode)&&n.delete(t),function(e,t){0===t&&(t=Rv(e));var n=Av(),r=Dv(e,t);null!==r&&(Di(r,t,n),Lv(r,n),Om(r,t))}(e,0)}var bm=null;function xm(e){if(0===(qh&Wh)&&6&e.mode){var t=e.tag;if(2===t||3===t||1===t||0===t||t===c||t===p||t===h||t===y){var n=Fe(e.type)||"ReactComponent";if(null!==bm){if(bm.has(n))return;bm.add(n)}else bm=new Set([n]);var r=Ue;try{qe(e),s("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{r?qe(e):Ge()}}}}var wm,_m=null;wm=function(e,t,n){var r=hg(null,t);try{return th(e,t,n)}catch(i){if(null!==i&&"object"===typeof i&&"function"===typeof i.then)throw i;if(Kl(),ef(),sh(t),hg(t,r),8&t.mode&&op(t),Jn(null,th,null,e,t,n),er())throw tr();throw i}};var Sm,km=!1;Sm=new Set;var Em={current:!1};function Mm(e){if(!0===Hh.current&&!0!==Em.current){var t=Ue;try{qe(e),s("It looks like you're using the wrong act() around your test interactions.\nBe sure to use the matching version of act() corresponding to your renderer:\n\n// for react-dom:\nimport {act} from 'react-dom/test-utils';\n// ...\nact(() => ...);\n\n// for react-test-renderer:\nimport TestRenderer from react-test-renderer';\nconst {act} = TestRenderer;\n// ...\nact(() => ...);")}finally{t?qe(e):Ge()}}}function Pm(e){0!==(1&e.mode)&&!1===Hh.current&&!1===Em.current&&s("An update to %s ran an effect, but was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",Fe(e.type))}var Tm=function(e){if(0===qh&&!1===Hh.current&&!1===Em.current){var t=Ue;try{qe(e),s("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",Fe(e.type))}finally{t?qe(e):Ge()}}},Cm=!1;function Am(e,t){return 1e3*t+e.interactionThreadID}function Im(e){null===Sv?Sv=[e]:Sv.push(e)}function Rm(e,t,n){if(n.size>0){var r=e.pendingInteractionMap,a=r.get(t);null!=a?n.forEach((function(e){a.has(e)||e.__count++,a.add(e)})):(r.set(t,new Set(n)),n.forEach((function(e){e.__count++})));var o=i.__subscriberRef.current;if(null!==o){var s=Am(e,t);o.onWorkScheduled(n,s)}}}function Om(e,t){Rm(e,t,i.__interactionsRef.current)}function Dm(e,t){var n=new Set;if(e.pendingInteractionMap.forEach((function(e,r){Ci(t,r)&&e.forEach((function(e){return n.add(e)}))})),e.memoizedInteractions=n,n.size>0){var r=i.__subscriberRef.current;if(null!==r){var a=Am(e,t);try{r.onWorkStarted(n,a)}catch(o){_l(ll,(function(){throw o}))}}}}function Lm(e,t){var n,r=e.pendingLanes;try{if(null!==(n=i.__subscriberRef.current)&&e.memoizedInteractions.size>0){var a=Am(e,t);n.onWorkStopped(e.memoizedInteractions,a)}}catch(s){_l(ll,(function(){throw s}))}finally{var o=e.pendingInteractionMap;o.forEach((function(e,t){Ci(r,t)||(o.delete(t),e.forEach((function(e){if(e.__count--,null!==n&&0===e.__count)try{n.onInteractionScheduledWorkCompleted(e)}catch(s){_l(ll,(function(){throw s}))}})))}))}}function jm(){return Nm>0}var Nm=0;function zm(e){e.sibling=null,e.stateNode=null}var Fm=null,Bm=null,Um=function(e){Fm=e};function Vm(e){if(null===Fm)return e;var t=Fm(e);return void 0===t?e:t.current}function Hm(e){return Vm(e)}function Wm(e){if(null===Fm)return e;var t=Fm(e);if(void 0===t){if(null!==e&&void 0!==e&&"function"===typeof e.render){var n=Vm(e.render);if(e.render!==n){var r={$$typeof:re,render:n};return void 0!==e.displayName&&(r.displayName=e.displayName),r}}return e}return t.current}function Gm(e,t){if(null===Fm)return!1;var n=e.elementType,r=t.type,i=!1,a="object"===typeof r&&null!==r?r.$$typeof:null;switch(e.tag){case 1:"function"===typeof r&&(i=!0);break;case 0:("function"===typeof r||a===se)&&(i=!0);break;case c:(a===re||a===se)&&(i=!0);break;case p:case h:(a===oe||a===se)&&(i=!0);break;default:return!1}if(i){var o=Fm(n);if(void 0!==o&&o===Fm(r))return!0}return!1}function qm(e){null!==Fm&&"function"===typeof WeakSet&&(null===Bm&&(Bm=new WeakSet),Bm.add(e))}var Km=function(e,t){if(null!==Fm){var n=t.staleFamilies,r=t.updatedFamilies;um(),Uv((function(){Ym(e.current,r,n)}))}},Xm=function(e,t){e.context===Au&&(um(),Uv((function(){bg(t,e,null,null)})))};function Ym(e,t,n){var r=e.alternate,i=e.child,a=e.sibling,o=e.tag,s=e.type,u=null;switch(o){case 0:case h:case 1:u=s;break;case c:u=s.render}if(null===Fm)throw new Error("Expected resolveFamily to be set during hot reload.");var l=!1,d=!1;if(null!==u){var f=Fm(u);void 0!==f&&(n.has(f)?d=!0:t.has(f)&&(1===o?d=!0:l=!0))}null!==Bm&&(Bm.has(e)||null!==r&&Bm.has(r))&&(d=!0),d&&(e._debugNeedsRemount=!0),(d||l)&&Ov(e,1,yi),null===i||d||Ym(i,t,n),null!==a&&Ym(a,t,n)}var $m,Zm=function(e,t){var n=new Set,r=new Set(t.map((function(e){return e.current})));return Qm(e.current,r,n),n};function Qm(e,t,n){var r=e.child,i=e.sibling,a=e.tag,o=e.type,s=null;switch(a){case 0:case h:case 1:s=o;break;case c:s=o.render}var u=!1;null!==s&&t.has(s)&&(u=!0),u?function(e,t){if(function(e,t){var n=e,r=!1;for(;;){if(5===n.tag)r=!0,t.add(n.stateNode);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return r;for(;null===n.sibling;){if(null===n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}return!1}(e,t))return;var n=e;for(;;){switch(n.tag){case 5:return void t.add(n.stateNode);case 4:case 3:return void t.add(n.stateNode.containerInfo)}if(null===n.return)throw new Error("Expected to reach root first.");n=n.return}}(e,n):null!==r&&Qm(r,t,n),null!==i&&Qm(i,t,n)}$m=!1;try{var Jm=Object.preventExtensions({});new Map([[Jm,null]]),new Set([Jm])}catch(ay){$m=!0}var eg=1;function tg(e,t,n,r){this.tag=e,this.key=n,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=r,this.flags=0,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.lanes=0,this.childLanes=0,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugID=eg++,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,$m||"function"!==typeof Object.preventExtensions||Object.preventExtensions(this)}var ng,rg,ig=function(e,t,n,r){return new tg(e,t,n,r)};function ag(e){var t=e.prototype;return!(!t||!t.isReactComponent)}function og(e,t){var n=e.alternate;null===n?((n=ig(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n._debugID=e._debugID,n._debugSource=e._debugSource,n._debugOwner=e._debugOwner,n._debugHookTypes=e._debugHookTypes,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,n.actualDuration=0,n.actualStartTime=-1),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue;var r=e.dependencies;switch(n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.selfBaseDuration=e.selfBaseDuration,n.treeBaseDuration=e.treeBaseDuration,n._debugNeedsRemount=e._debugNeedsRemount,n.tag){case 2:case 0:case h:n.type=Vm(e.type);break;case 1:n.type=Hm(e.type);break;case c:n.type=Wm(e.type)}return n}function sg(e,t){e.flags&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null;var n=e.alternate;if(null===n)e.childLanes=0,e.lanes=t,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0;else{e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type;var r=n.dependencies;e.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},e.selfBaseDuration=n.selfBaseDuration,e.treeBaseDuration=n.treeBaseDuration}return e}function ug(e,t,n,r,i,a){var o=2,u=e;if("function"===typeof e)ag(e)?(o=1,u=Hm(u)):u=Vm(u);else if("string"===typeof e)o=5;else e:switch(e){case Q:return cg(n.children,i,a,t);case ce:o=8,i|=16;break;case J:o=8,i|=1;break;case ee:return function(e,t,n,r){"string"!==typeof e.id&&s('Profiler must specify an "id" as a prop');var i=ig(d,e,r,8|t);return i.elementType=ee,i.type=ee,i.lanes=n,i.stateNode={effectDuration:0,passiveEffectDuration:0},i}(n,i,a,t);case ie:return function(e,t,n,r){var i=ig(f,e,r,t);return i.type=ie,i.elementType=ie,i.lanes=n,i}(n,i,a,t);case ae:return function(e,t,n,r){var i=ig(m,e,r,t);return i.type=ae,i.elementType=ae,i.lanes=n,i}(n,i,a,t);case de:return dg(n,i,a,t);case fe:return function(e,t,n,r){var i=ig(x,e,r,t);return i.type=fe,i.elementType=fe,i.lanes=n,i}(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case te:o=l;break e;case ne:o=9;break e;case re:o=c,u=Wm(u);break e;case oe:o=p;break e;case se:o=16,u=null;break e;case ue:o=y;break e}var h="";(void 0===e||"object"===typeof e&&null!==e&&0===Object.keys(e).length)&&(h+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var v=r?Fe(r.type):null;throw v&&(h+="\n\nCheck the render method of `"+v+"`."),Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."+h)}var g=ig(o,n,t,i);return g.elementType=e,g.type=u,g.lanes=a,g._debugOwner=r,g}function lg(e,t,n){var r;r=e._owner;var i=ug(e.type,e.key,e.props,r,t,n);return i._debugSource=e._source,i._debugOwner=e._owner,i}function cg(e,t,n,r){var i=ig(7,e,r,t);return i.lanes=n,i}function dg(e,t,n,r){var i=ig(b,e,r,t);return i.type=de,i.elementType=de,i.lanes=n,i}function fg(e,t,n){var r=ig(6,e,null,t);return r.lanes=n,r}function pg(e,t,n){var r=null!==e.children?e.children:[],i=ig(4,r,e.key,t);return i.lanes=n,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function hg(e,t){return null===e&&(e=ig(2,null,null,0)),e.tag=t.tag,e.key=t.key,e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.dependencies=t.dependencies,e.mode=t.mode,e.flags=t.flags,e.nextEffect=t.nextEffect,e.firstEffect=t.firstEffect,e.lastEffect=t.lastEffect,e.lanes=t.lanes,e.childLanes=t.childLanes,e.alternate=t.alternate,e.actualDuration=t.actualDuration,e.actualStartTime=t.actualStartTime,e.selfBaseDuration=t.selfBaseDuration,e.treeBaseDuration=t.treeBaseDuration,e._debugID=t._debugID,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugNeedsRemount=t._debugNeedsRemount,e._debugHookTypes=t._debugHookTypes,e}function vg(e,t,n){switch(this.tag=t,this.containerInfo=e,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=-1,this.context=null,this.pendingContext=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(yi),this.pendingLanes=0,this.suspendedLanes=0,this.pingedLanes=0,this.expiredLanes=0,this.mutableReadLanes=0,this.finishedLanes=0,this.entangledLanes=0,this.entanglements=Oi(0),this.mutableSourceEagerHydrationData=null,this.interactionThreadID=i.unstable_getThreadID(),this.memoizedInteractions=new Set,this.pendingInteractionMap=new Map,t){case 1:this._debugRootType="createBlockingRoot()";break;case 2:this._debugRootType="createRoot()";break;case 0:this._debugRootType="createLegacyRoot()"}}function mg(e,t,n,r){var i=new vg(e,t,n),a=function(e){var t;return t=2===e?7:1===e?3:0,Yu&&(t|=8),ig(3,null,null,t)}(t);return i.current=a,a.stateNode=i,ac(a),i}function gg(e,t){var n=(0,t._getVersion)(t._source);null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)}function yg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Z,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function bg(e,t,n,i){!function(e,t){if(Ku&&"function"===typeof Ku.onScheduleFiberRoot)try{Ku.onScheduleFiberRoot(qu,e,t)}catch(n){Xu||(Xu=!0,s("React instrumentation encountered an error: %s",n))}}(t,e);var a,o=t.current,u=Av();"undefined"!==typeof jest&&(a=o,!1===Cm&&void 0===r.unstable_flushAllWithoutAsserting&&(2&a.mode||4&a.mode)&&(Cm=!0,s("In Concurrent or Sync modes, the \"scheduler\" module needs to be mocked to guarantee consistent behaviour across tests and browsers. For example, with jest: \njest.mock('scheduler', () => require('scheduler/unstable_mock'));\n\nFor more info, visit https://reactjs.org/link/mock-scheduler")),Mm(o));var l=Iv(o),c=function(e){if(!e)return Au;var t=nr(e),n=Gu(t);if(1===t.tag){var r=t.type;if(zu(r))return Vu(t,r,n)}return n}(n);null===t.context?t.context=c:t.pendingContext=c,Ve&&null!==Ue&&!ng&&(ng=!0,s("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",Fe(Ue.type)||"Unknown"));var d=sc(u,l);return d.payload={element:e},null!==(i=void 0===i?null:i)&&("function"!==typeof i&&s("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",i),d.callback=i),uc(o,d),Ov(o,l,u),l}function xg(e){var t=e.current;return t.child?(t.child.tag,t.child.stateNode):null}function wg(e,t){var n,r,i=e.memoizedState;null!==i&&null!==i.dehydrated&&(i.retryLane=(n=i.retryLane,r=t,0!==n&&n<r?n:r))}function _g(e,t){wg(e,t);var n=e.alternate;n&&wg(n,t)}function Sg(e){var t=function(e){var t=wr(e);if(!t)return null;for(var n=t;;){if(5===n.tag||6===n.tag)return n;if(n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}(e);return null===t?null:t.tag===g?t.stateNode.instance:t.stateNode}ng=!1,rg={};var kg=function(e){return!1};var Eg,Mg,Pg,Tg,Cg,Ag,Ig,Rg,Og=function e(t,r,i){var a=r[i],o=Array.isArray(t)?t.slice():n({},t);return i+1===r.length?(Array.isArray(o)?o.splice(a,1):delete o[a],o):(o[a]=e(t[a],r,i+1),o)},Dg=function(e,t){return Og(e,t,0)},Lg=function e(t,r,i,a){var o=r[a],s=Array.isArray(t)?t.slice():n({},t);a+1===r.length?(s[i[a]]=s[o],Array.isArray(s)?s.splice(o,1):delete s[o]):s[o]=e(t[o],r,i,a+1);return s},jg=function(e,t,n){if(t.length===n.length){for(var r=0;r<n.length-1;r++)if(t[r]!==n[r])return void o("copyWithRename() expects paths to be the same except for the deepest key");return Lg(e,t,n,0)}o("copyWithRename() expects paths of the same length")},Ng=function e(t,r,i,a){if(i>=r.length)return a;var o=r[i],s=Array.isArray(t)?t.slice():n({},t);return s[o]=e(t[o],r,i+1,a),s},zg=function(e,t,n){return Ng(e,t,0,n)},Fg=function(e,t){for(var n=e.memoizedState;null!==n&&t>0;)n=n.next,t--;return n};function Bg(e){var t=_r(e);return null===t?null:t.stateNode}function Ug(e){return null}function Vg(){return Ue}function Hg(e,t){this._internalRoot=Gg(e,2,t)}function Wg(e,t,n){this._internalRoot=Gg(e,t,n)}function Gg(e,t,n){var r,i=null!=n&&!0===n.hydrate,a=(null!=n&&n.hydrationOptions,null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null),o=function(e,t,n,r){return mg(e,t,n)}(e,t,i);r=o.current,e[uu]=r;e.nodeType;if(zo(8===e.nodeType?e.parentNode:e),a)for(var s=0;s<a.length;s++){gg(o,a[s])}return o}function qg(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}Eg=function(e,t,r,i){var a=Fg(e,t);if(null!==a){var o=zg(a.memoizedState,r,i);a.memoizedState=o,a.baseState=o,e.memoizedProps=n({},e.memoizedProps),Ov(e,1,yi)}},Mg=function(e,t,r){var i=Fg(e,t);if(null!==i){var a=Dg(i.memoizedState,r);i.memoizedState=a,i.baseState=a,e.memoizedProps=n({},e.memoizedProps),Ov(e,1,yi)}},Pg=function(e,t,r,i){var a=Fg(e,t);if(null!==a){var o=jg(a.memoizedState,r,i);a.memoizedState=o,a.baseState=o,e.memoizedProps=n({},e.memoizedProps),Ov(e,1,yi)}},Tg=function(e,t,n){e.pendingProps=zg(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Ov(e,1,yi)},Cg=function(e,t){e.pendingProps=Dg(e.memoizedProps,t),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Ov(e,1,yi)},Ag=function(e,t,n){e.pendingProps=jg(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Ov(e,1,yi)},Ig=function(e){Ov(e,1,yi)},Rg=function(e){kg=e},Hg.prototype.render=Wg.prototype.render=function(e){var t=this._internalRoot;"function"===typeof arguments[1]&&s("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var n=t.containerInfo;if(8!==n.nodeType){var r=Sg(t.current);r&&r.parentNode!==n&&s("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}bg(e,t,null,null)},Hg.prototype.unmount=Wg.prototype.unmount=function(){"function"===typeof arguments[0]&&s("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var e=this._internalRoot,t=e.containerInfo;bg(null,e,null,(function(){du(t)}))};var Kg,Xg=a.ReactCurrentOwner,Yg=!1;function $g(e){return e?9===e.nodeType?e.documentElement:e.firstChild:null}function Zg(e,t){var n=t||function(e){var t=$g(e);return!(!t||1!==t.nodeType||!t.hasAttribute(A))}(e);if(!n)for(var r,i=!1;r=e.lastChild;)!i&&1===r.nodeType&&r.hasAttribute(A)&&(i=!0,s("render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.")),e.removeChild(r);return!n||t||Yg||(Yg=!0,o("render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v18. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML.")),function(e,t){return new Wg(e,0,t)}(e,n?{hydrate:!0}:void 0)}function Qg(e,t,n,r,i){Kg(n),function(e,t){null!==e&&"function"!==typeof e&&s("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e)}(void 0===i?null:i,"render");var a,o=n._reactRootContainer;if(o){if(a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=xg(a);u.call(e)}}bg(t,a,e,i)}else{if(o=n._reactRootContainer=Zg(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=xg(a);l.call(e)}}Bv((function(){bg(t,a,e,i)}))}return xg(a)}Kg=function(e){if(e._reactRootContainer&&8!==e.nodeType){var t=Sg(e._reactRootContainer._internalRoot.current);t&&t.parentNode!==e&&s("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var n=!!e._reactRootContainer,r=$g(e);!(!r||!hu(r))&&!n&&s("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),1===e.nodeType&&e.tagName&&"BODY"===e.tagName.toUpperCase()&&s("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")},rr=function(e){e.tag===f&&(Ov(e,4,Av()),_g(e,4))},function(e){ir=e}((function(e){if(e.tag===f){var t=Av(),n=pi;Ov(e,n,t),_g(e,n)}})),function(e){ar=e}((function(e){if(e.tag===f){var t=Av(),n=Iv(e);Ov(e,n,t),_g(e,n)}})),function(e){or=e}((function(e,t){try{return t()}finally{}}));var Jg,ey,ty=!1;function ny(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!qg(t))throw Error("Target container is not a DOM element.");return yg(e,t,null,n)}"function"===typeof Map&&null!=Map.prototype&&"function"===typeof Map.prototype.forEach&&"function"===typeof Set&&null!=Set.prototype&&"function"===typeof Set.prototype.clear&&"function"===typeof Set.prototype.forEach||s("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Tn=function(e,t,n){switch(t){case"input":return void pt(e,n);case"textarea":return void function(e,t){Tt(e,t)}(e,n);case"select":return void function(e,t){var n=e,r=t.value;null!=r&&_t(n,!!t.multiple,r,!1)}(e,n)}},Jg=function(e,t,n,r,i){var a=qh;qh|=4;try{return wl(cl,e.bind(null,t,n,r,i))}finally{0===(qh=a)&&(sv(),kl())}},ey=function(e,t){var n=qh;qh|=2;try{return e(t)}finally{0===(qh=n)&&(sv(),kl())}},Dn=Fv,Ln=Jg,jn=function(){0===(49&qh)?(function(){if(null!==bv){var e=bv;bv=null,e.forEach((function(e){!function(e){e.expiredLanes|=24&e.pendingLanes}(e),Lv(e,yl())}))}kl()}(),um()):0!==(qh&Wh)&&s("unstable_flushDiscreteUpdates: Cannot flush updates when React is already rendering.")},Nn=ey;var ry={Events:[hu,vu,mu,Rn,On,um,Em]};if(!function(e){var t=e.findFiberByHostInstance,n=a.ReactCurrentDispatcher;return function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return s("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{qu=t.inject(e),Ku=t}catch(n){s("React instrumentation encountered an error: %s.",n)}return!0}({bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:Eg,overrideHookStateDeletePath:Mg,overrideHookStateRenamePath:Pg,overrideProps:Tg,overridePropsDeletePath:Cg,overridePropsRenamePath:Ag,setSuspenseHandler:Rg,scheduleUpdate:Ig,currentDispatcherRef:n,findHostInstanceByFiber:Bg,findFiberByHostInstance:t||Ug,findHostInstancesForRefresh:Zm,scheduleRefresh:Km,scheduleRoot:Xm,setRefreshHandler:Um,getCurrentFiber:Vg})}({findFiberByHostInstance:pu,bundleType:1,version:Ml,rendererPackageName:"react-dom"})&&P&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)){var iy=window.location.protocol;/^(https?|file):$/.test(iy)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+("file:"===iy?"\nYou might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq":""),"font-weight:bold")}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ry,e.createPortal=ny,e.findDOMNode=function(e){var t=Xg.current;return null!==t&&null!==t.stateNode&&(t.stateNode._warnedAboutRefsInRender||s("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Fe(t.type)||"A component"),t.stateNode._warnedAboutRefsInRender=!0),null==e?null:1===e.nodeType?e:function(e,t){var n=nr(e);if(void 0===n)throw"function"===typeof e.render?Error("Unable to find node on an unmounted component."):Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e));var r=_r(n);if(null===r)return null;if(1&r.mode){var i=Fe(n.type)||"Component";if(!rg[i]){rg[i]=!0;var a=Ue;try{qe(r),1&n.mode?s("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,i):s("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,i)}finally{a?qe(a):Ge()}}}return r.stateNode}(e,"findDOMNode")},e.flushSync=Uv,e.hydrate=function(e,t,n){if(!qg(t))throw Error("Target container is not a DOM element.");return fu(t)&&void 0===t._reactRootContainer&&s("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call createRoot(container, {hydrate: true}).render(element)?"),Qg(null,e,t,!0,n)},e.render=function(e,t,n){if(!qg(t))throw Error("Target container is not a DOM element.");return fu(t)&&void 0===t._reactRootContainer&&s("You are calling ReactDOM.render() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.render(element)?"),Qg(null,e,t,!1,n)},e.unmountComponentAtNode=function(e){if(!qg(e))throw Error("unmountComponentAtNode(...): Target container is not a DOM element.");if(fu(e)&&void 0===e._reactRootContainer&&s("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.unmount()?"),e._reactRootContainer){var t=$g(e);return t&&!hu(t)&&s("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."),Bv((function(){Qg(null,null,e,!1,(function(){e._reactRootContainer=null,du(e)}))})),!0}var n=$g(e),r=!(!n||!hu(n)),i=1===e.nodeType&&qg(e.parentNode)&&!!e.parentNode._reactRootContainer;return r&&s("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",i?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1},e.unstable_batchedUpdates=Fv,e.unstable_createPortal=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return ty||(ty=!0,o('The ReactDOM.unstable_createPortal() alias has been deprecated, and will be removed in React 18+. Update your code to use ReactDOM.createPortal() instead. It has the exact same API, but without the "unstable_" prefix.')),ny(e,t,n)},e.unstable_renderSubtreeIntoContainer=function(e,t,n,r){return function(e,t,n,r){if(!qg(n))throw Error("Target container is not a DOM element.");if(null==e||void 0===e._reactInternals)throw Error("parentComponent must be a valid React Component");return Qg(e,t,n,!1,r)}(e,t,n,r)},e.version=Ml})()}}),ub=Mi({"../node_modules/react-dom/index.js":function(e,t){"use strict";t.exports=sb()}});function lb(e,t,n){var r=(0,Uy.useCallback)(e,t),i=(0,Uy.useRef)(null);return i.current?i.current.set(r):i.current=new zy.Box(r),cb((0,Uy.useMemo)((function(){return(0,Fy.prism)((function(){return i.current.derivation.getValue()()}))}),[]),n)}function cb(e,t){var n,r=function(e){var t=(0,Uy.useState)(0),n=oi(t,2)[1];return(0,Uy.useCallback)((function(){n((function(e){return e+1}))}),[])}(),i=(0,Uy.useRef)(void 0);i.current||(Gy++,i.current={order:Gy,runUpdate:function(){i.current.unmounted||r()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:function(){var e;Hy&&(null==(e=i.current.debug)||e.history.push("queueUpdate()")),Yy(i.current)},untap:e.changesWithoutValues().tap((function(){Hy&&i.current.debug.history.push("changesWithoutValues(cb)"),i.current.queueUpdate()}))},Hy&&(i.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),e!==i.current.der&&console.error("Argument `der` in `useDerivation(der)` should not change between renders."),(0,Uy.useLayoutEffect)((function(){return function(){i.current.unmounted=!0,i.current.untap(),Zy(i.current)}}),[]),Zy(i.current);var a=i.current.der.getValue();return i.current.lastValue=a,Hy&&(null==(n=i.current.debug)||n.history.push("rendered")),a}var db,fb=Ei({"../packages/react/src/index.ts":function(){zy=Ti(n(2114)),Fy=Ti(n(2114)),Py(),By=Ti(Jy()),Uy=Ti(nb()),Vy=Ti(ub()),Hy=!1,Wy=function(e,t){return lb((function(){return(0,Fy.val)(e)}),[e],t)},Gy=0,qy=[],Ky=new Set,Xy=!1,Yy=function(e){$y(e),Xy||(Xy=!0,(0,By.default)((function(){(0,Vy.unstable_batchedUpdates)((function(){for(var e,t;qy.length>0;){var n=qy.shift();Ky.delete(n);var r=void 0;Hy&&(null==(e=n.debug)||e.history.push("queue reached"));try{r=n.der.getValue()}catch(i){Hy&&(null==(t=n.debug)||t.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `useDerivation(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(i),n.runUpdate();continue}r!==n.lastValue&&(n.lastValue=r,n.runUpdate())}}),1),Xy=!1})))},$y=function(e){if(!Ky.has(e))if(Ky.add(e),0===qy.length)qy.push(e);else{var t=ig(qy,(function(t){return t.order>=e.order}));if(-1===t)qy.push(e);else qy[t].order>e.order&&qy.splice(t,0,e)}},Zy=function(e){if(Ky.has(e)){Ky.delete(e);var t=ig(qy,(function(t){return t===e}));qy.splice(t,1)}}}}),pb=Mi({"../node_modules/react-is/cjs/react-is.development.js":function(e){"use strict";(function(){var t=60103,n=60106,r=60107,i=60108,a=60114,o=60109,s=60110,u=60112,l=60113,c=60120,d=60115,f=60116,p=60121,h=60122,v=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;t=y("react.element"),n=y("react.portal"),r=y("react.fragment"),i=y("react.strict_mode"),a=y("react.profiler"),o=y("react.provider"),s=y("react.context"),u=y("react.forward_ref"),l=y("react.suspense"),c=y("react.suspense_list"),d=y("react.memo"),f=y("react.lazy"),p=y("react.block"),h=y("react.server.block"),v=y("react.fundamental"),y("react.scope"),y("react.opaque.id"),m=y("react.debug_trace_mode"),y("react.offscreen"),g=y("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var p=e.$$typeof;switch(p){case t:var h=e.type;switch(h){case r:case a:case i:case l:case c:return h;default:var v=h&&h.$$typeof;switch(v){case s:case u:case f:case d:case o:return v;default:return p}}case n:return p}}}var x=s,w=o,_=t,S=u,k=r,E=f,M=d,P=n,T=a,C=i,A=l,I=!1,R=!1;e.ContextConsumer=x,e.ContextProvider=w,e.Element=_,e.ForwardRef=S,e.Fragment=k,e.Lazy=E,e.Memo=M,e.Portal=P,e.Profiler=T,e.StrictMode=C,e.Suspense=A,e.isAsyncMode=function(e){return I||(I=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1},e.isConcurrentMode=function(e){return R||(R=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1},e.isContextConsumer=function(e){return b(e)===s},e.isContextProvider=function(e){return b(e)===o},e.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===t},e.isForwardRef=function(e){return b(e)===u},e.isFragment=function(e){return b(e)===r},e.isLazy=function(e){return b(e)===f},e.isMemo=function(e){return b(e)===d},e.isPortal=function(e){return b(e)===n},e.isProfiler=function(e){return b(e)===a},e.isStrictMode=function(e){return b(e)===i},e.isSuspense=function(e){return b(e)===l},e.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||(e===r||e===a||e===m||e===i||e===l||e===c||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===d||e.$$typeof===o||e.$$typeof===s||e.$$typeof===u||e.$$typeof===v||e.$$typeof===p||e[0]===h))},e.typeOf=b})()}}),hb=Mi({"../node_modules/react-is/index.js":function(e,t){"use strict";t.exports=pb()}}),vb=Mi({"../node_modules/shallowequal/index.js":function(e,t){t.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var l=a[u];if(!s(l))return!1;var c=e[l],d=t[l];if(!1===(i=n?n.call(r,c,d,l):void 0)||void 0===i&&c!==d)return!1}return!0}}});function mb(e){function t(e,r,u,l,f){for(var p,h,v,m,x,_=0,S=0,k=0,E=0,M=0,R=0,D=v=p=0,j=0,N=0,z=0,F=0,B=u.length,U=B-1,V="",H="",W="",G="";j<B;){if(h=u.charCodeAt(j),j===U&&S+E+k+_!==0&&(0!==S&&(h=47===S?10:47),E=k=_=0,B++,U++),S+E+k+_===0){if(j===U&&(0<N&&(V=V.replace(d,"")),0<V.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(j)}h=59}switch(h){case 123:for(p=(V=V.trim()).charCodeAt(0),v=1,F=++j;j<B;){switch(h=u.charCodeAt(j)){case 123:v++;break;case 125:v--;break;case 47:switch(h=u.charCodeAt(j+1)){case 42:case 47:e:{for(D=j+1;D<U;++D)switch(u.charCodeAt(D)){case 47:if(42===h&&42===u.charCodeAt(D-1)&&j+2!==D){j=D+1;break e}break;case 10:if(47===h){j=D+1;break e}}j=D}}break;case 91:h++;case 40:h++;case 34:case 39:for(;j++<U&&u.charCodeAt(j)!==h;);}if(0===v)break;j++}if(v=u.substring(F,j),0===p&&(p=(V=V.replace(c,"").trim()).charCodeAt(0)),64===p){switch(0<N&&(V=V.replace(d,"")),h=V.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=I}if(F=(v=t(r,N,v,h,f+1)).length,0<O&&(x=s(3,v,N=n(I,V,z),r,T,P,F,h,f,l),V=N.join(""),void 0!==x&&0===(F=(v=x.trim()).length)&&(h=0,v="")),0<F)switch(h){case 115:V=V.replace(w,o);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(g,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===l&&(H+=v,v="")}else v=""}else v=t(r,n(r,V,z),v,l,f+1);W+=v,v=z=N=D=p=0,V="",h=u.charCodeAt(++j);break;case 125:case 59:if(1<(F=(V=(0<N?V.replace(d,""):V).trim()).length))switch(0===D&&(p=V.charCodeAt(0),45===p||96<p&&123>p)&&(F=(V=V.replace(" ",":")).length),0<O&&void 0!==(x=s(1,V,r,e,T,P,H.length,l,f,l))&&0===(F=(V=x.trim()).length)&&(V="\0\0"),p=V.charCodeAt(0),h=V.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){G+=V+u.charAt(j);break}default:58!==V.charCodeAt(F-1)&&(H+=i(V,p,h,V.charCodeAt(2)))}z=N=D=p=0,V="",h=u.charCodeAt(++j)}}switch(h){case 13:case 10:47===S?S=0:1+p===0&&107!==l&&0<V.length&&(N=1,V+="\0"),0<O*L&&s(0,V,r,e,T,P,H.length,l,f,l),P=1,T++;break;case 59:case 125:if(S+E+k+_===0){P++;break}default:switch(P++,m=u.charAt(j),h){case 9:case 32:if(E+_+S===0)switch(M){case 44:case 58:case 9:case 32:m="";break;default:32!==h&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:E+S+_===0&&(N=z=1,m="\f"+m);break;case 108:if(E+S+_+C===0&&0<D)switch(j-D){case 2:112===M&&58===u.charCodeAt(j-3)&&(C=M);case 8:111===R&&(C=R)}break;case 58:E+S+_===0&&(D=j);break;case 44:S+k+E+_===0&&(N=1,m+="\r");break;case 34:case 39:0===S&&(E=E===h?0:0===E?h:E);break;case 91:E+S+k===0&&_++;break;case 93:E+S+k===0&&_--;break;case 41:E+S+_===0&&k--;break;case 40:if(E+S+_===0){if(0===p)if(2*M+3*R===533);else p=1;k++}break;case 64:S+k+E+_+D+v===0&&(v=1);break;case 42:case 47:if(!(0<E+_+k))switch(S){case 0:switch(2*h+3*u.charCodeAt(j+1)){case 235:S=47;break;case 220:F=j,S=42}break;case 42:47===h&&42===M&&F+2!==j&&(33===u.charCodeAt(F+2)&&(H+=u.substring(F,j+1)),m="",S=0)}}0===S&&(V+=m)}R=M,M=h,j++}if(0<(F=H.length)){if(N=r,0<O&&(void 0!==(x=s(2,H,N,e,T,P,F,l,f,l))&&0===(H=x).length))return G+H+W;if(H=N.join(",")+"{"+H+"}",A*C!==0){switch(2!==A||a(H,2)||(C=0),C){case 111:H=H.replace(b,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}C=0}}return G+H+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var l=0;l<o;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===A||2===A&&a(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(M,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return p.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(x,"tb");break;case 232:u=o.replace(x,"tb-rl");break;case 220:u=o.replace(x,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,n+r===211&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(k,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,c){for(var d,f=0,p=t;f<O;++f)switch(d=R[f].call(l,e,p,n,r,i,a,o,s,u,c)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?A=1:(A=2,D=e):A=0),u}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,T,P,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(I,r,n,0,0);return 0<O&&(void 0!==(i=s(-2,a,r,r,T,P,a.length,0,0,0))&&(a=i)),"",C=0,P=T=1,a}var c=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,M=/([^-])(image-set\()/,P=1,T=1,C=0,A=1,I=[],R=[],O=0,D=null,L=0;return l.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"===typeof t)R[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},l.set=u,void 0!==e&&u(e),l}var gb,yb,bb,xb,wb,_b,Sb,kb,Eb,Mb,Pb,Tb,Cb,Ab,Ib,Rb,Ob,Db,Lb,jb,Nb,zb,Fb,Bb,Ub,Vb,Hb,Wb,Gb,qb,Kb,Xb,Yb,$b,Zb,Qb,Jb,ex,tx,nx,rx,ix,ax,ox,sx,ux,lx,cx,dx,fx,px,hx,vx,mx,gx,yx,bx,xx,wx,_x,Sx,kx,Ex,Mx,Px,Tx,Cx,Ax=Ei({"../node_modules/@emotion/stylis/dist/stylis.browser.esm.js":function(){db=mb}}),Ix=Ei({"../node_modules/@emotion/unitless/dist/unitless.browser.esm.js":function(){gb={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}}}),Rx=Mi({"../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.dev.js":function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}}}),Ox=Mi({"../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.js":function(e,t){"use strict";t.exports=Rx()}}),Dx=Mi({"../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.dev.js":function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ox();function n(e){return e&&e.__esModule?e:{default:e}}var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=n(t).default((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));e.default=i}}),Lx=Mi({"../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.js":function(e,t){"use strict";t.exports=Dx()}}),jx=Mi({"../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.development.js":function(e){"use strict";(function(){var t="function"===typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,m=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var p=e.type;switch(p){case l:case c:case i:case o:case a:case f:return p;default:var m=p&&p.$$typeof;switch(m){case u:case d:case v:case h:case s:return m;default:return t}}case r:return t}}}var w=l,_=c,S=u,k=s,E=n,M=d,P=i,T=v,C=h,A=r,I=o,R=a,O=f,D=!1;function L(e){return x(e)===c}e.AsyncMode=w,e.ConcurrentMode=_,e.ContextConsumer=S,e.ContextProvider=k,e.Element=E,e.ForwardRef=M,e.Fragment=P,e.Lazy=T,e.Memo=C,e.Portal=A,e.Profiler=I,e.StrictMode=R,e.Suspense=O,e.isAsyncMode=function(e){return D||(D=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),L(e)||x(e)===l},e.isConcurrentMode=L,e.isContextConsumer=function(e){return x(e)===u},e.isContextProvider=function(e){return x(e)===s},e.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return x(e)===d},e.isFragment=function(e){return x(e)===i},e.isLazy=function(e){return x(e)===v},e.isMemo=function(e){return x(e)===h},e.isPortal=function(e){return x(e)===r},e.isProfiler=function(e){return x(e)===o},e.isStrictMode=function(e){return x(e)===a},e.isSuspense=function(e){return x(e)===f},e.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===c||e===o||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===d||e.$$typeof===g||e.$$typeof===y||e.$$typeof===b||e.$$typeof===m)},e.typeOf=x})()}}),Nx=Mi({"../node_modules/hoist-non-react-statics/node_modules/react-is/index.js":function(e,t){"use strict";t.exports=jx()}}),zx=Mi({"../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":function(e,t){"use strict";var n=Nx(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return n.isMemo(e)?a:o[e.$$typeof]||r}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function e(t,n,r){if("string"!==typeof n){if(p){var a=f(n);a&&a!==p&&e(t,a,r)}var o=l(n);c&&(o=o.concat(c(n)));for(var h=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!i[g]&&(!r||!r[g])&&(!v||!v[g])&&(!h||!h[g])){var y=d(n,g);try{u(t,g,y)}catch(b){}}}}return t}}});function Fx(){return(Fx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bx(e){return"function"==typeof e}function Ux(e){return"string"==typeof e&&e||e.displayName||e.name||"Component"}function Vx(e){return e&&"string"==typeof e.styledComponentId}function Hx(){for(var e=arguments.length<=0?void 0:arguments[0],t=[],n=1,r=arguments.length;n<r;n+=1)t.push(n<0||arguments.length<=n?void 0:arguments[n]);return t.forEach((function(t){e=e.replace(/%[a-z]/,t)})),e}function Wx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(Hx.apply(void 0,[Ib[e]].concat(n)).trim())}function Gx(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Qb(t%52)+n;return(Qb(t%52)+n).replace(Zb,"$1-$2")}function qx(e){var t,n,r,i,a=void 0===e?Mb:e,o=a.options,s=void 0===o?Mb:o,u=a.plugins,l=void 0===u?Eb:u,c=new db(s),d=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,r,i,a,o,s,u,l,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),p=function(e,r,a){return 0===r&&-1!==ix.indexOf(a[n.length])||a.match(i)?e:"."+t};function h(e,a,o,s){void 0===s&&(s="&");var u=e.replace(rx,""),l=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(o||!a?"":a,l)}return c.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},f,function(e){if(-2===e){var t=d;return d=[],t}}])),h.hash=l.length?l.reduce((function(e,t){return t.name||Wx(15),Jb(e,t.name)}),5381).toString():"",h}function Kx(){return(0,bb.useContext)(ax)||sx}function Xx(){return(0,bb.useContext)(ox)||ux}function Yx(e){var t=(0,bb.useState)(e.stylisPlugins),n=t[0],r=t[1],i=Kx(),a=(0,bb.useMemo)((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),o=(0,bb.useMemo)((function(){return qx({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,bb.useEffect)((function(){(0,xb.default)(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),bb.default.createElement(ax.Provider,{value:a},bb.default.createElement(ox.Provider,{value:o},bb.default.Children.only(e.children)))}function $x(e){return cx.test(e)?e.replace(dx,px).replace(fx,"-ms-"):e}function Zx(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=Zx(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}if(hx(e))return"";if(Vx(e))return"."+e.styledComponentId;if(Bx(e)){if("function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t)return e;var u=e(t);return(0,yb.isElement)(u)&&console.warn(Ux(e)+" is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details."),Zx(u,t,n,r)}var l;return e instanceof lx?n?(e.inject(n,r),e.getName(r)):e:kb(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!hx(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Bx(t[o])?a.push($x(o)+":",t[o],";"):kb(t[o])?a.push.apply(a,e(t[o],o)):a.push($x(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in gb?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString()}function Qx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Bx(e)||kb(e)?vx(Zx(Sb(Eb,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:vx(Zx(Sb(e,n)))}function Jx(e){return e.replace(xx,"-").replace(wx,"")}function ew(e){return"string"==typeof e&&e.charAt(0)===e.charAt(0).toLowerCase()}function tw(e,t,n){var r=e[n];Sx(t)&&Sx(r)?nw(r,t):e[n]=t}function nw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Sx(o))for(var s in o)kx(s)&&tw(e,o[s],s)}return e}function rw(e,t,n){var r,i=Vx(e),a=!ew(e),o=t.attrs,s=void 0===o?Eb:o,u=t.componentId,l=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Jx(e);Mx[n]=(Mx[n]||0)+1;var r=n+"-"+_x("5.3.5"+n+Mx[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,c=t.displayName,d=void 0===c?ew(r=e)?"styled."+r:"Styled("+Ux(r)+")":c,f=t.displayName&&t.componentId?Jx(t.displayName)+"-"+t.componentId:t.componentId||l,p=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,h=t.shouldForwardProp;i&&e.shouldForwardProp&&(h=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new nx(n,f,i?e.componentStyle:void 0),g=m.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,u=e.shouldForwardProp,l=e.styledComponentId,c=e.target;(0,bb.useDebugValue)(l);var d=function(e,t,n){void 0===e&&(e=Mb);var r=Fx({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Bx(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(bx(t,(0,bb.useContext)(Ex),o)||Mb,t,i),f=d[0],p=d[1],h=function(e,t,n,r){var i=Kx(),a=Xx(),o=t?e.generateAndInjectStyles(Mb,i,a):e.generateAndInjectStyles(n,i,a);return(0,bb.useDebugValue)(o),!t&&r&&r(o),o}(a,r,f,e.warnTooManyClasses),v=n,m=p.$as||t.$as||p.as||t.as||c,g=ew(m),y=p!==t?Fx({},t,{},p):t,b={};for(var x in y)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?b.as=y[x]:(u?u(x,wb.default,m):!g||(0,wb.default)(x))&&(b[x]=y[x]));return t.style&&p.style!==t.style&&(b.style=Fx({},t.style,{},p.style)),b.className=Array.prototype.concat(s,l,h!==l?h:null,t.className,p.className).filter(Boolean).join(" "),b.ref=v,(0,bb.createElement)(m,b)}(v,e,t,g)};return y.displayName=d,(v=bb.default.forwardRef(y)).attrs=p,v.componentStyle=m,v.displayName=d,v.shouldForwardProp=h,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Eb,v.styledComponentId=f,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(ew(e)?e:Jx(Ux(e)));return rw(e,Fx({},i,{attrs:p,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?nw({},e.defaultProps,t):t}}),yx(d,f),v.warnTooManyClasses=function(e,t){var n={},r=!1;return function(i){if(!r&&(n[i]=!0,Object.keys(n).length>=200)){var a=t?' with the id of "'+t+'"':"";console.warn("Over 200 classes were generated for component "+e+a+".\nConsider using the attrs method, together with a style object for frequently changed styles.\nExample:\n  const Component = styled.div.attrs(props => ({\n    style: {\n      background: props.background,\n    },\n  }))`width: 100%;`\n\n  <Component />"),r=!0,n={}}}}(d,f),v.toString=function(){return"."+v.styledComponentId},a&&(0,_b.default)(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}function iw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Qx.apply(void 0,[e].concat(n)),a="sc-global-"+_x(JSON.stringify(i)),o=new Tx(i,a);function s(e){var t=Kx(),n=Xx(),r=(0,bb.useContext)(Ex),s=(0,bb.useRef)(t.allocateGSInstance(a)).current;return bb.default.Children.count(e.children)&&console.warn("The global style component "+a+" was given child JSX. createGlobalStyle does not render children."),i.some((function(e){return"string"==typeof e&&-1!==e.indexOf("@import")}))&&console.warn("Please do not use @import CSS syntax in createGlobalStyle at this time, as the CSSOM APIs we use in production do not handle it well. Instead, we recommend using a library such as react-helmet to inject a typical <link> meta tag to the stylesheet, or simply embedding it manually in your index.html <head> section for a simpler app."),t.server&&u(s,e,t,r,n),(0,bb.useLayoutEffect)((function(){if(!t.server)return u(s,e,t,r,n),function(){return o.removeStyles(s,t)}}),[s,e,t,r,n]),null}function u(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,Ab,n,i);else{var a=Fx({},t,{theme:bx(t,r,s.defaultProps)});o.renderStyles(e,a,n,i)}}return yx(a),bb.default.memo(s)}var aw,ow,sw,uw,lw,cw,dw,fw,pw,hw=Ei({"../node_modules/styled-components/dist/styled-components.browser.esm.js":function(){yb=Ti(hb()),bb=Ti(nb()),xb=Ti(vb()),Ax(),Ix(),wb=Ti(Lx()),_b=Ti(zx()),Sb=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},kb=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,yb.typeOf)(e)},Eb=Object.freeze([]),Mb=Object.freeze({}),Pb="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Tb="undefined"!=typeof window&&"HTMLElement"in window,Cb=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"==typeof process||void 0==={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY||""==={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY||"false"!=={NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/three",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY),Ab={},Ib={1:"Cannot create styled-component for component: %s.\n\n",2:"Can't collect styles once you've consumed a `ServerStyleSheet`'s styles! `ServerStyleSheet` is a one off instance for each server-side render cycle.\n\n- Are you trying to reuse it across renders?\n- Are you accidentally calling collectStyles twice?\n\n",3:"Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.\n\n",4:"The `StyleSheetManager` expects a valid target or sheet prop!\n\n- Does this error occur on the client and is your target falsy?\n- Does this error occur on the server and is the sheet falsy?\n\n",5:"The clone method cannot be used on the client!\n\n- Are you running in a client-like environment on the server?\n- Are you trying to run SSR on the client?\n\n",6:"Trying to insert a new style tag, but the given Node is unmounted!\n\n- Are you using a custom target that isn't mounted?\n- Does your document not have a valid head element?\n- Have you accidentally removed a style tag manually?\n\n",7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:'ThemeProvider: Please make your "theme" prop an object.\n\n',9:"Missing document `<head>`\n\n",10:"Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021\n\n",11:"_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.\n\n",12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:"%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.\n\n",14:'ThemeProvider: "theme" prop is required.\n\n',15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:"Reached the limit of how many styled components may be created at group %s.\nYou may only create up to 1,073,741,824 components. If you're creating components dynamically,\nas for instance in your render method then you may be running into this limitation.\n\n",17:"CSSStyleSheet could not be found on HTMLStyleElement.\nHas styled-components' style tag been unmounted or altered by another script?\n"},Rb=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Wx(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Ob=new Map,Db=new Map,Lb=1,jb=function(e){if(Ob.has(e))return Ob.get(e);for(;Db.has(Lb);)Lb++;var t=Lb++;return((0|t)<0||t>1<<30)&&Wx(16,""+t),Ob.set(e,t),Db.set(t,e),t},Nb=function(e){return Db.get(e)},zb=function(e,t){t>=Lb&&(Lb=t+1),Ob.set(e,t),Db.set(t,e)},Fb="style["+Pb+'][data-styled-version="5.3.5"]',Bb=new RegExp("^"+Pb+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ub=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Vb=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(Bb);if(s){var u=0|parseInt(s[1],10),l=s[2];0!==u&&(zb(l,u),Ub(e,l,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},Hb=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Wb=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Pb))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Pb,"active"),r.setAttribute("data-styled-version","5.3.5");var o=Hb();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Gb=function(){function e(e){var t=this.element=Wb(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Wx(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),qb=function(){function e(e){var t=this.element=Wb(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Kb=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Xb=Tb,Yb={isServer:!Tb,useCSSOMInjection:!Cb},$b=function(){function e(e,t,n){void 0===e&&(e=Mb),void 0===t&&(t={}),this.options=Fx({},Yb,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Tb&&Xb&&(Xb=!1,function(e){for(var t=document.querySelectorAll(Fb),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Pb)&&(Vb(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return jb(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Fx({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Kb(i):r?new Gb(i):new qb(i),new Rb(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(jb(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(jb(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(jb(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Nb(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=Pb+".g"+i+'[id="'+a+'"]',l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+s+u+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),Zb=/(a)(d)/gi,Qb=function(e){return String.fromCharCode(e+(e>25?39:97))},Jb=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},tx=(ex=function(e){return Jb(5381,e)})("5.3.5"),nx=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=!1,this.componentId=t,this.baseHash=Jb(tx,t),this.baseStyle=n,$b.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Zx(this.rules,e,t,n).join(""),o=Gx(Jb(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,l=Jb(this.baseHash,n.hash),c="",d=0;d<u;d++){var f=this.rules[d];if("string"==typeof f)c+=f,l=Jb(l,f+d);else if(f){var p=Zx(f,e,t,n),h=Array.isArray(p)?p.join(""):p;l=Jb(l,h+d),c+=h}}if(c){var v=Gx(l>>>0);if(!t.hasNameForId(r,v)){var m=n(c,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),rx=/^\s*\/\/.*$/gm,ix=[":","[",".","#"],ax=bb.default.createContext(),ax.Consumer,(ox=bb.default.createContext()).Consumer,sx=new $b,ux=qx(),lx=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ux);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Wx(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ux),this.name+e.hash},e}(),cx=/([A-Z])/,dx=/([A-Z])/g,fx=/^ms-/,px=function(e){return"-"+e.toLowerCase()},hx=function(e){return null==e||!1===e||""===e},vx=function(e){return Array.isArray(e)&&(e.isCss=!0),e},mx=/invalid hook call/i,gx=new Set,yx=function(e,t){var n="The component "+e+(t?' with the id of "'+t+'"':"")+" has been created dynamically.\nYou may see this warning because you've called styled inside another component.\nTo resolve this only create new StyledComponents outside of any render method and function component.",r=console.error;try{var i=!0;console.error=function(e){if(mx.test(e))i=!1,gx.delete(n);else{for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];r.apply(void 0,[e].concat(a))}},(0,bb.useRef)(),i&&!gx.has(n)&&(console.warn(n),gx.add(n))}catch(a){mx.test(a.message)&&gx.delete(n)}finally{console.error=r}},bx=function(e,t,n){return void 0===n&&(n=Mb),e.theme!==n.theme&&e.theme||t||n.theme},xx=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wx=/(^-|-$)/g,_x=function(e){return Gx(ex(e)>>>0)},Sx=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},kx=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e},Ex=bb.default.createContext(),Ex.Consumer,Mx={},Px=function(e){return function e(t,n,r){if(void 0===r&&(r=Mb),!(0,yb.isValidElementType)(n))return Wx(1,String(n));var i=function(){return t(n,r,Qx.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Fx({},r,{},i))},i.attrs=function(i){return e(t,n,Fx({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(rw,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Px[e]=Px(e)})),Tx=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Bx(n)&&!Vx(n))return!1}return!0}(e),$b.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(Zx(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&$b.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}(),function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Hb();return"<style "+[n&&'nonce="'+n+'"',Pb+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Wx(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Wx(2);var n=((t={})[Pb]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=Hb();return r&&(n.nonce=r),[bb.default.createElement("style",Fx({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new $b({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?Wx(2):bb.default.createElement(Yx,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Wx(3)},e}(),"undefined"!=typeof navigator&&"ReactNative"===navigator.product&&console.warn("It looks like you've imported 'styled-components' on React Native.\nPerhaps you're looking to import 'styled-components/native'?\nRead more about this at https://www.styled-components.com/docs/basics#react-native"),"undefined"!=typeof window&&(window["__styled-components-init__"]=window["__styled-components-init__"]||0,1===window["__styled-components-init__"]&&console.warn("It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.\n\nSee https://s-c.sh/2BAXzed for more info."),window["__styled-components-init__"]+=1),Cx=Px}}),vw=Ei({"studio/src/uiComponents/PointerEventsHandler.tsx":function(){aw=Ti(nb()),hw(),"pointer-root",ow="--lockedCursor",sw=Cx.div(o||(o=ai(["\n  pointer-events: auto;\n  &.normal {\n    pointer-events: none;\n  }\n"]))),uw=Cx.div(s||(s=ai(["\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n\n  #pointer-root:not(.normal) > & {\n    pointer-events: auto;\n  }\n"]))),lw=(0,aw.createContext)({}),cw=function(e,t,n){var r=(0,aw.useContext)(lw);(0,aw.useLayoutEffect)((function(){if(e)return r.getLock(t,n)}),[e,t,n])},dw=function(e){var t,n,r,i,a=(0,aw.useState)([]),o=oi(a,2),s=o[0],u=o[1],l=(0,aw.useMemo)((function(){return{getLock:function(e,t){var n={className:e,cursor:t};u((function(e){return[].concat(si(e),[n])}));return function(){u((function(e){return e.filter((function(e){return e!==n}))}))}}}}),[]),c=null!=(n=null==(t=s[0])?void 0:t.cursor)?n:"";return aw.default.createElement(lw.Provider,{value:l},aw.default.createElement(sw,{id:"pointer-root",className:(null!=(i=null==(r=s[0])?void 0:r.className)?i:"normal")+" "+e.className},aw.default.createElement(uw,{style:ii({cursor:c},ow,c)},e.children)))}}});function mw(e){return fw.default.createElement(pw.Provider,{value:e.logger},e.children)}function gw(e,t){var n=(0,fw.useContext)(pw);return(0,fw.useMemo)((function(){return e?n.named(e,t):n}),[n,e,t])}var yw,bw,xw,ww=Ei({"studio/src/uiComponents/useLogger.tsx":function(){fw=Ti(nb()),pw=fw.default.createContext(null)}});function _w(e){var t=function(){var e=gw("PointerCapturing"),t=yw.default.useRef(null),n=function(){return null!=t.current};return function(r){var i,a=function(e){return i=e,t.current=e,e};return{capturing:{capturePointer:function(n){if(e._debug("Capturing pointer",{forDebugName:r,reason:n}),null!=t.current)throw new Error('"'.concat(r,'" attempted capturing pointer for "').concat(n,'" while already captured by "').concat(t.current.debugOwnerName,'" for "').concat(t.current.debugReason,'"'));var i=a({debugOwnerName:r,debugReason:n});return{isCapturing:function(){return i===t.current},release:function(){return i===t.current&&(e._debug("Releasing pointer",{forDebugName:r,reason:n}),a(null),!0)}}},isPointerBeingCaptured:n},forceRelease:function(){i&&t.current===i&&(e._debug("Force releasing pointer",{localCapture:i}),a(null))}}}}();return yw.default.createElement(bw.Provider,{value:t},yw.default.createElement(xw,{children:e.children}))}function Sw(e){var t=(0,yw.useContext)(bw),n=(0,yw.useMemo)((function(){return t(e)}),[e,t]);return(0,yw.useEffect)((function(){return function(){n.forceRelease()}}),[n]),n.capturing}var kw,Ew,Mw,Pw=Ei({"studio/src/UIRoot/PointerCapturing.tsx":function(){yw=Ti(nb()),ww(),bw=yw.default.createContext(null),xw=yw.default.memo((function(e){var t=e.children;return yw.default.createElement(yw.default.Fragment,null,t)}))}}),Tw=Ei({"shared/src/utils/noop.ts":function(){kw=function(){}}}),Cw=Ei({"studio/src/uiComponents/isSafari.ts":function(){Ew="undefined"!==typeof window&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}});function Aw(e){var t=(0,Mw.useMemo)((function(){var t=e;return{get current(){return t},set current(e){t=e,a(e)}}}),[]),n=(0,Mw.useState)((function(){return e})),r=oi(n,2),i=r[0],a=r[1];return[t,i]}var Iw,Rw,Ow,Dw,Lw=Ei({"studio/src/utils/useRefAndState.ts":function(){Mw=Ti(nb())}});function jw(e,t){var n=(0,Iw.useRef)(t);n.current=t;var r=t.shouldPointerLock&&!Ew,i=(0,Iw.useRef)({domDragStarted:!1}),a=Sw("useDrag for ".concat(t.debugName)).capturePointer,o=(0,Iw.useRef)({onDrag:kw,onDragEnd:kw,onClick:kw}),s=(0,Iw.useRef)(),u=Aw(!1),l=oi(u,2),c=l[0],d=l[1];return(0,Iw.useLayoutEffect)((function(){if(e){var u=function(){var e=i.current.domDragStarted&&i.current.detection.detected;c.current!==e&&(c.current=e)},l=function(t){if(i.current.domDragStarted){var n=i.current;if(!function(e,t){return(!t.detection.detected||t.detection.detected&&t.detection.dragEventCount<3)&&(Math.abs(e.movementX)>Dw||Math.abs(e.movementY)>Dw)}(t,n)&&(n.detection.detected||(n.detection.totalDistanceMoved+=Math.abs(t.movementY)+Math.abs(t.movementX),n.detection.totalDistanceMoved>Ow&&(r&&e.requestPointerLock(),n.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},u())),n.detection.detected)){n.detection.dragEventCount+=1;var a=n.detection.dragMovement;if(r)a.x+=t.movementX,a.y+=t.movementY;else{var s=n.startPos;a.x=t.screenX-s.x,a.y=t.screenY-s.y}o.current.onDrag(a.x,a.y,t,t.movementX,t.movementY)}}},d=function(e){if(f(),i.current.domDragStarted){var n=i.current.detection.detected;i.current={domDragStarted:!1},t.shouldPointerLock&&!Ew&&document.exitPointerLock(),o.current.onDragEnd(n),window.focus(),n||o.current.onClick(e),u()}},f=function(){var e;null==(e=s.current)||e.release(),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",d)},p=function(e){n.current.disabled||i.current.domDragStarted&&i.current.detection.detected&&(n.current.dontBlockMouseDown||(e.stopPropagation(),e.preventDefault()),i.current.detection={detected:!1,totalDistanceMoved:0},u())},h=function(e){var t,r,c,f;null==(t=s.current)||t.release();var p=n.current;if(!0!==p.disabled&&(null!=(r=p.buttons)?r:[0]).includes(e.button)){var h=p.onDragStart(e);!1!==h&&(o.current.onDrag=h.onDrag,o.current.onDragEnd=null!=(c=h.onDragEnd)?c:kw,o.current.onClick=null!=(f=h.onClick)?f:kw,s.current=a("Drag start"),p.dontBlockMouseDown||(e.stopPropagation(),e.preventDefault()),i.current={domDragStarted:!0,startPos:{x:e.screenX,y:e.screenY},detection:{detected:!1,totalDistanceMoved:0}},u(),document.addEventListener("mousemove",l),document.addEventListener("mouseup",d))}},v=function(e){h(e)};return e.addEventListener("mousedown",v),e.addEventListener("click",p),function(){var t,n;f(),e.removeEventListener("mousedown",v),e.removeEventListener("click",p),i.current.domDragStarted&&(null==(n=(t=o.current).onDragEnd)||n.call(t,i.current.detection.detected)),i.current={domDragStarted:!1},u()}}}),[e]),cw(d&&!!t.lockCSSCursorTo,"dragging",t.lockCSSCursorTo),[d]}var Nw,zw=Ei({"studio/src/uiComponents/useDrag.ts":function(){var e;Iw=Ti(nb()),vw(),Pw(),Tw(),Cw(),Lw(),(e=Rw||(Rw={}))[e.Left=0]="Left",e[e.Middle=1]="Middle",Ow=3,Dw=100}});var Fw,Bw=Ei({"studio/src/uiComponents/useKeyDownCallback.tsx":function(){Nw=Ti(nb())}});function Uw(e){var t=(0,Fw.useState)(!1),n=oi(t,2),r=n[0],i=n[1];return function(e,t){var n=(0,Nw.useRef)({combo:e,listener:t});n.current={combo:e,listener:t},(0,Nw.useEffect)((function(){function e(e){e.key===n.current.combo&&n.current.listener({down:!0,event:e})}function t(e){e.key===n.current.combo&&n.current.listener({down:!1,event:e})}function r(e){n.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("blur",r),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.removeEventListener("blur",r)}}),[])}(e,(function(e){var t=e.down;i(t)})),r}var Vw,Hw,Ww=Ei({"studio/src/uiComponents/useKeyDown.ts":function(){Fw=Ti(nb()),Bw()}});var Gw,qw=Ei({"studio/src/uiComponents/useValToAtom.ts":function(){Vw=Ti(n(2114)),Hw=Ti(nb())}});function Kw(e,t,n){var r=(0,Gw.getPointerParts)(t((0,Gw.pointer)({root:{},path:[]}))).path;uy(e,r,n)}var Xw,Yw,$w,Zw=Ei({"shared/src/utils/mutableSetDeep.ts":function(){Gw=Ti(n(2114)),by()}}),Qw=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/DopeSnap.tsx":function(){Xw="data-pos",Yw={checkIfMouseEventSnapToPos:function(e,t){var n=e.composedPath().find((function(e){return e instanceof Element&&e!==(null==t?void 0:t.ignore)&&e.hasAttribute(Xw)}));if(n){var r=parseFloat(n.getAttribute(Xw));if(isFinite(r))return r}return null},includePositionSnapAttrs:function(e){return ii({},Xw,e)}}}});function Jw(e){var t="sheet"===e.type?function(e){return e.children.flatMap(t_)}(e):t_(e);return{byPosition:e_(t),tracks:t}}function e_(e){var t,n=new Map,r=ui(e);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=ui(a.data.keyframes);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=n.get(s.position);u||(u=[],n.set(s.position,u)),u.push({kf:s,track:a,itemKey:Ry.forTrackKeyframe(a.sheetObject,a.id,s.id)})}}catch(l){o.e(l)}finally{o.f()}}}catch(l){r.e(l)}finally{r.f()}return n}function t_(e){return e.children.flatMap((function(e){return"propWithChildren"===e.type?t_(e):function(e){var t=e.sheetObject,n=t.address.projectId,r=Ii().atomP.historic.coreByProject[n].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey],i=(0,$w.val)(r.trackIdByPropPath[qa(e.pathToProp)]);if(!i)return[];var a=(0,$w.val)(r.trackData[i]);return a?[{id:i,data:a,sheetObject:t}]:[]}(e)}))}function n_(e,t){return Sy(e.children.flatMap((function(e){return"propWithChildren"===e.type?n_(e,t):function(e,t){var n,r,i=e.sheetObject,a=i.address.projectId,o=Ii().atomP.historic.coreByProject[a].sheetsById[i.address.sheetId].sequence.tracksByObject[i.address.objectKey],s=(0,$w.val)(o.trackIdByPropPath[qa(e.pathToProp)]);return s&&null!=(r=null==(n=t[i.address.objectKey])?void 0:n[s])?r:[]}(e,t)})))}var r_,i_,a_,o_,s_,u_,l_,c_,d_,f_=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/collectAggregateKeyframes.tsx":function(){Fi(),$w=Ti(n(2114)),jy(),uo(),Py()}});var p_,h_,v_,m_,g_,y_,b_=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/DopeSheetSelectionView.tsx":function(){Fi(),zw(),Ww(),qw(),Zw(),Lw(),fb(),r_=Ti(n(2114)),i_=Ti(nb()),hw(),Qw(),f_(),ww(),5,a_=Cx.div(u||(u=ai(["\n  cursor: ",";\n"])),(function(e){return e.isShiftDown?"cell":"default"})),o_=function(e){var t=e.layoutP,n=e.children,r=e.height,i=Aw(null),a=oi(i,2),o=a[0],s=a[1],u=Uw("Shift"),l=function(e,t){var n=Aw(null),r=oi(n,2),i=r[0],a=r[1],o=gw("useCaptureSelection");return jw(t,(0,i_.useMemo)((function(){return{debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart:function(n){if(!n.shiftKey||n.target instanceof HTMLInputElement)return!1;var r=t.getBoundingClientRect(),a=n.clientX-r.left-(0,r_.val)(e.scaledSpace.leftPadding),s=(0,r_.val)(e.scaledSpace.toUnitSpace)(a);return i.current={h:[s,s],v:[n.clientY-r.top,n.clientY-r.top]},(0,r_.val)(e.selectionAtom).setState({current:void 0}),{onDrag:function(n,r,a){var s=t.getBoundingClientRect(),u=a.clientX-s.left-(0,r_.val)(e.scaledSpace.leftPadding),l=(0,r_.val)(e.scaledSpace.toUnitSpace)(u);i.current={h:[i.current.h[0],l],v:[i.current.v[0],a.clientY-s.top]};var c=s_.boundsToSelection(o,(0,r_.val)(e),i.current);(0,r_.val)(e.selectionAtom).setState({current:c})},onDragEnd:function(e){i.current=null}}}}}),[e,t,i])),a}(t,s);return(0,i_.useRef)(l).current=l,i_.default.createElement(a_,{style:{height:r+"px"},ref:o,isShiftDown:u,className:"selectionview"},l&&i_.default.createElement(c_,{state:l,layoutP:t}),n)},function(e){var t=function(e,t,n,i,a){var o=Jw(n);if(n.top+n.nodeHeight/2+5>i.v[0]&&n.top+n.nodeHeight/2-5<i.v[1]){var s,u=ui(o.byPosition);try{for(u.s();!(s=u.n()).done;){var l=oi(s.value,2),c=l[0],d=l[1],f=t.scaledSpace.toUnitSpace(5);if(!(c+f<=i.h[0]||c-f>=i.h[1])){var p,h=ui(d);try{var v=function(){var e=p.value;Kw(a,(function(t){return t[e.track.sheetObject.address.objectKey].byTrackId[e.track.id].byKeyframeId[e.kf.id]}),!0)};for(h.s();!(p=h.n()).done;)v()}catch(m){h.e(m)}finally{h.f()}}}}catch(m){u.e(m)}finally{u.f()}}r(e,t,n,i,a)},n={sheet:function(e,n,r,i,a){t(e,n,r,i,a)},propWithChildren:function(e,n,r,i,a){t(e,n,r,i,a)},sheetObject:function(e,n,r,i,a){t(e,n,r,i,a)},primitiveProp:function(e,t,n,r,i){var a=n.sheetObject,o=n.trackId,s=(0,r_.val)(Ii().atomP.historic.coreByProject[a.address.projectId].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[o]);if(!(r.v[0]>n.top+n.heightIncludingChildren/2+5||n.top+n.heightIncludingChildren/2-5>r.v[1])){var u,l=ui(s.keyframes);try{var c=function(){var e=u.value;return e.position+t.scaledSpace.toUnitSpace(5)<=r.h[0]?"continue":e.position-t.scaledSpace.toUnitSpace(5)>=r.h[1]?"break":void Kw(i,(function(t){return t[a.address.objectKey].byTrackId[o].byKeyframeId[e.id]}),!0)};for(l.s();!(u=l.n()).done;){var d=c();if("continue"!==d&&"break"===d)break}}catch(f){l.e(f)}finally{l.f()}}}},r=function(e,t,n,r,a){if("children"in n){var o,s=ui(n.children);try{for(s.s();!(o=s.n()).done;){i(e,t,o.value,r,a)}}catch(u){s.e(u)}finally{s.f()}}};function i(e,t,i,a,o){if(i.shouldRender&&!(a.v[0]>i.top+i.heightIncludingChildren||i.top>a.v[1])){var s=n[i.type];s?s(e,t,i,a,o):r(e,t,i,a,o)}}e.boundsToSelection=function(e,t,n){var r={};n=l_(n);var a=t.tree;i(e.utilFor.internal(),t,a,n,r);var o=t.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:r,getDragHandlers:function(e){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart:function(){var n,i=t.scaledSpace.toUnitSpace;return{onDrag:function(t,a,s){n&&(n.discard(),n=void 0);var u=Yw.checkIfMouseEventSnapToPos(s,{ignore:e.domNode}),l=null!=u?u-e.positionAtStartOfDrag:i(t);n=Ii().tempTransaction((function(t){for(var n=t.stateEditors.coreByProject.historic.sheetsById.sequence.transformKeyframes,i=0,a=Object.keys(r);i<a.length;i++)for(var s=a[i],u=r[s].byTrackId,c=0,d=Object.keys(u);c<d.length;c++){var f=d[c],p=u[f].byKeyframeId;n({trackId:f,keyframeIds:Object.keys(p),translate:l,scale:1,origin:0,snappingFunction:o.getSequence().closestGridPosition,objectKey:s,projectId:e.projectId,sheetId:e.sheetId})}}))},onDragEnd:function(e){e?null==n||n.commit():null==n||n.discard()}}}}},delete:function(){Ii().transaction((function(e){for(var t=e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes,n=0,i=Object.keys(r);n<i.length;n++)for(var a=i[n],s=r[a].byTrackId,u=0,l=Object.keys(s);u<l.length;u++){var c=l[u],d=s[c].byKeyframeId;t(_i(wi({},o.address),{objectKey:a,trackId:c,keyframeIds:Object.keys(d)}))}}))}}}}(s_||(s_={})),u_=Cx.div(l||(l=ai(["\n  position: absolute;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px dashed rgba(255, 255, 255, 0.4);\n  box-sizing: border-box;\n"]))),l_=function(e){return{h:si(e.h).sort((function(e,t){return e-t})),v:si(e.v).sort((function(e,t){return e-t}))}},c_=function(e){var t=e.state,n=e.layoutP,r=function(e){var t=(0,Hw.useMemo)((function(){return new Vw.Atom(e)}),[]);return(0,Hw.useLayoutEffect)((function(){t.setState(e)}),[e]),t}(t);return lb((function(){var e=(0,r_.val)(r.pointer),t=l_(e),i=(0,r_.val)(n.scaledSpace.fromUnitSpace),a=(0,r_.val)(n.scaledSpace.leftPadding),o=t.h.map(i).map((function(e){return e+a})),s=t.v[0],u=t.v[1]-t.v[0],l=o[0],c=o[1]-o[0];return i_.default.createElement(u_,{style:{top:s+"px",height:u+"px",left:l+"px",width:c+"px"}})}),[n,r])},d_=o_}}),x_=Ei({"shared/src/utils/index.ts":function(){p_=function(){},h_={},v_=[]}});var w_,__,S_=Ei({"studio/src/selectors.ts":function(){m_=Ti(n(2114)),Vi(),Py(),Fi(),g_=function(){var e,t=(0,m_.val)(Ii().projectsP),n=(null!=(e=(0,m_.val)(Ii().atomP.historic.panels.outlinePanel.selection))?e:[]).map((function(e){var n=t[e.projectId];if(n){if("Project"===e.type)return n;if((0,m_.val)(n.sheetTemplatesP[e.sheetId])){var r=y_(n,e.sheetId);if(r){if("Sheet"===e.type)return r;var i=(0,m_.val)(r.objectsP[e.objectKey]);if(i)return i}}}}));return Sy(n.filter((function(e){return"undefined"!==typeof e})))},y_=function(e,t){var n=Ii().atomP.historic.projects.stateByProjectId[e.address.projectId],r=(0,m_.val)(n.stateBySheetId[t].selectedInstanceId),i=(0,m_.val)(e.sheetTemplatesP[t]);if(i){if(r)return(0,m_.val)(i.instancesP[r]);var a,o=(0,m_.val)(i.instancesP);return o[(a=o,Object.keys(a))[0]]}}}}),k_=Ei({"shared/src/utils/valToAtom.ts":function(){w_=Ti(n(2114)),__=function(e,t){var n=w_.prism.memo(e,(function(){return new w_.Atom(t)}),[]);return n.setState(t),n}}});function E_(){return E_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E_.apply(this,arguments)}var M_=Ei({"../node_modules/@babel/runtime/helpers/esm/extends.js":function(){}});function P_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var T_=Ei({"../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":function(){}});function C_(e,t){return(C_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A_=Ei({"../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":function(){}});var I_=Ei({"../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":function(){A_()}});function R_(e){return(R_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O_=Ei({"../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":function(){}});var D_=Ei({"../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js":function(){}});function L_(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var j_=Ei({"../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js":function(){}});function N_(e,t,n){return(N_=L_()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&C_(i,n.prototype),i}).apply(null,arguments)}var z_=Ei({"../node_modules/@babel/runtime/helpers/esm/construct.js":function(){A_(),j_()}});function F_(e){var t="function"===typeof Map?new Map:void 0;return F_=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return N_(e,arguments,R_(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),C_(r,e)},F_(e)}var B_,U_,V_,H_,W_,G_,q_,K_,X_,Y_,$_,Z_,Q_,J_,eS,tS,nS,rS,iS,aS,oS,sS,uS=Ei({"../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js":function(){O_(),A_(),D_(),z_()}}),lS=Ei({"../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js":function(){}});function cS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0],a=[];for(r=1;r<t.length;r+=1)a.push(t[r]);return a.forEach((function(e){i=i.replace(/%[a-z]/,e)})),i}function dS(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce((function(e,t){return""+e+((n=t).charAt(0).toUpperCase()+n.slice(1));var n}));var r=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===r?""+e+t:r}function fS(e,t){for(var n={},r=0;r<t.length;r+=1)(t[r]||0===t[r])&&(n[dS(e,V_[r])]=t[r]);return n}function pS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1],o=void 0===a?i:a,s=n[2],u=void 0===s?i:s,l=n[3],c=void 0===l?o:l,d=[i,o,u,c];return fS(e,d)}function hS(e){return Math.round(255*e)}function vS(e,t,n){return hS(e)+","+hS(t)+","+hS(n)}function mS(e,t,n,r){if(void 0===r&&(r=vS),0===t)return r(n,n,n);var i=(e%360+360)%360/60,a=(1-Math.abs(2*n-1))*t,o=a*(1-Math.abs(i%2-1)),s=0,u=0,l=0;i>=0&&i<1?(s=a,u=o):i>=1&&i<2?(s=o,u=a):i>=2&&i<3?(u=a,l=o):i>=3&&i<4?(u=o,l=a):i>=4&&i<5?(s=o,l=a):i>=5&&i<6&&(s=a,l=o);var c=n-a/2;return r(s+c,u+c,l+c)}function gS(e){if("string"!==typeof e)throw new U_(3);var t=function(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return H_[t]?"#"+H_[t]:e}(e);if(t.match(W_))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(G_)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(q_))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(K_)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=X_.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var a=Y_.exec(t.substring(0,50));if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])};var o=$_.exec(t);if(o){var s="rgb("+mS(parseInt(""+o[1],10),parseInt(""+o[2],10)/100,parseInt(""+o[3],10)/100)+")",u=X_.exec(s);if(!u)throw new U_(4,t,s);return{red:parseInt(""+u[1],10),green:parseInt(""+u[2],10),blue:parseInt(""+u[3],10)}}var l=Z_.exec(t.substring(0,50));if(l){var c="rgb("+mS(parseInt(""+l[1],10),parseInt(""+l[2],10)/100,parseInt(""+l[3],10)/100)+")",d=X_.exec(c);if(!d)throw new U_(4,t,c);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+l[4])}}throw new U_(5)}function yS(e){return function(e){var t,n=e.red/255,r=e.green/255,i=e.blue/255,a=Math.max(n,r,i),o=Math.min(n,r,i),s=(a+o)/2;if(a===o)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u=a-o,l=s>.5?u/(2-a-o):u/(a+o);switch(a){case n:t=(r-i)/u+(r<i?6:0);break;case r:t=(i-n)/u+2;break;default:t=(n-r)/u+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:l,lightness:s,alpha:e.alpha}:{hue:t,saturation:l,lightness:s}}(gS(e))}function bS(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function xS(e){return bS(Math.round(255*e))}function wS(e,t,n){return Q_("#"+xS(e)+xS(t)+xS(n))}function _S(e,t,n){return mS(e,t,n,wS)}function SS(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Q_("#"+bS(e)+bS(t)+bS(n));if("object"===typeof e&&void 0===t&&void 0===n)return Q_("#"+bS(e.red)+bS(e.green)+bS(e.blue));throw new U_(6)}function kS(e,t,n,r){if("string"===typeof e&&"number"===typeof t){var i=gS(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r)return r>=1?SS(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?SS(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new U_(7)}function ES(e){if("object"!==typeof e)throw new U_(8);if(eS(e))return kS(e);if(J_(e))return SS(e);if(nS(e))return function(e,t,n,r){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r)return r>=1?_S(e,t,n):"rgba("+mS(e,t,n)+","+r+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?_S(e.hue,e.saturation,e.lightness):"rgba("+mS(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new U_(2)}(e);if(tS(e))return function(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return _S(e,t,n);if("object"===typeof e&&void 0===t&&void 0===n)return _S(e.hue,e.saturation,e.lightness);throw new U_(1)}(e);throw new U_(8)}function MS(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):MS(e,t,r)}}function PS(e){return MS(e,e.length,[])}function TS(e,t,n){return Math.max(e,Math.min(t,n))}function CS(e,t){if("transparent"===t)return t;var n=yS(t);return ES(E_({},n,{lightness:TS(0,1,n.lightness-parseFloat(e))}))}function AS(e,t){if("transparent"===t)return t;var n=yS(t);return ES(E_({},n,{lightness:TS(0,1,n.lightness+parseFloat(e))}))}function IS(e,t){if("transparent"===t)return t;var n=yS(t);return ES(E_({},n,{saturation:TS(0,1,n.saturation+parseFloat(e))}))}function RS(e,t){if("transparent"===t)return t;var n=gS(t);return kS(E_({},n,{alpha:TS(0,1,+(100*("number"===typeof n.alpha?n.alpha:1)-100*parseFloat(e)).toFixed(2)/100)}))}function OS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sS.indexOf(e)>=0&&e?E_({},pS.apply(void 0,[""].concat(n)),{position:e}):pS.apply(void 0,["",e].concat(n))}var DS=Ei({"../node_modules/polished/dist/polished.esm.js":function(){M_(),T_(),I_(),uS(),lS(),B_={1:"Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\n\n",2:"Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\n\n",3:"Passed an incorrect argument to a color function, please pass a string representation of a color.\n\n",4:"Couldn't generate valid rgb string from %s, it returned %s.\n\n",5:"Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\n\n",6:"Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\n\n",7:"Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\n\n",8:"Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\n\n",9:"Please provide a number of steps to the modularScale helper.\n\n",10:"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",11:'Invalid value passed as base to modularScale, expected number or em string but got "%s"\n\n',12:'Expected a string ending in "px" or a number passed as the first argument to %s(), got "%s" instead.\n\n',13:'Expected a string ending in "px" or a number passed as the second argument to %s(), got "%s" instead.\n\n',14:'Passed invalid pixel value ("%s") to %s(), please pass a value like "12px" or 12.\n\n',15:'Passed invalid base value ("%s") to %s(), please pass a value like "12px" or 12.\n\n',16:"You must provide a template to this method.\n\n",17:"You passed an unsupported selector state to this method.\n\n",18:"minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",19:"fromSize and toSize must be provided as stringified numbers with the same units.\n\n",20:"expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",21:"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\n\n",22:"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\n\n",23:"fontFace expects a name of a font-family.\n\n",24:"fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",25:"fontFace expects localFonts to be an array.\n\n",26:"fontFace expects fileFormats to be an array.\n\n",27:"radialGradient requries at least 2 color-stops to properly render.\n\n",28:"Please supply a filename to retinaImage() as the first argument.\n\n",29:"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",30:"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",31:"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\n\n",32:"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\n\n",33:"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\n\n",34:"borderRadius expects a radius value as a string or number as the second argument.\n\n",35:'borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.\n\n',36:"Property must be a string value.\n\n",37:"Syntax Error at %s.\n\n",38:"Formula contains a function that needs parentheses at %s.\n\n",39:"Formula is missing closing parenthesis at %s.\n\n",40:"Formula has too many closing parentheses at %s.\n\n",41:"All values in a formula must have the same unit or be unitless.\n\n",42:"Please provide a number of steps to the modularScale helper.\n\n",43:"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",44:"Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\n\n",45:"Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\n\n",46:"Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\n\n",47:"minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",48:"fromSize and toSize must be provided as stringified numbers with the same units.\n\n",49:"Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",50:"Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\n\n",51:"Expects the first argument object to have the properties prop, fromSize, and toSize.\n\n",52:"fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",53:"fontFace expects localFonts to be an array.\n\n",54:"fontFace expects fileFormats to be an array.\n\n",55:"fontFace expects a name of a font-family.\n\n",56:"linearGradient requries at least 2 color-stops to properly render.\n\n",57:"radialGradient requries at least 2 color-stops to properly render.\n\n",58:"Please supply a filename to retinaImage() as the first argument.\n\n",59:"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",60:"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",61:"Property must be a string value.\n\n",62:"borderRadius expects a radius value as a string or number as the second argument.\n\n",63:'borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.\n\n',64:"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\n\n",65:"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\n\n",66:"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\n\n",67:"You must provide a template to this method.\n\n",68:"You passed an unsupported selector state to this method.\n\n",69:'Expected a string ending in "px" or a number passed as the first argument to %s(), got %s instead.\n\n',70:'Expected a string ending in "px" or a number passed as the second argument to %s(), got %s instead.\n\n',71:'Passed invalid pixel value %s to %s(), please pass a value like "12px" or 12.\n\n',72:'Passed invalid base value %s to %s(), please pass a value like "12px" or 12.\n\n',73:"Please provide a valid CSS variable.\n\n",74:"CSS variable not found and no default was provided.\n\n",75:"important requires a valid style object, got a %s instead.\n\n",76:"fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.\n\n",77:'remToPx expects a value in "rem" but you provided it in "%s".\n\n',78:'base must be set in "px" or "%" but you set it in "%s".\n'},U_=function(e){var t,n;function r(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return P_(e.call(this,cS.apply(void 0,[B_[t]].concat(r)))||this)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,C_(t,n),r}(F_(Error)),V_=["Top","Right","Bottom","Left"],H_={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W_=/^#[a-fA-F0-9]{6}$/,G_=/^#[a-fA-F0-9]{8}$/,q_=/^#[a-fA-F0-9]{3}$/,K_=/^#[a-fA-F0-9]{4}$/,X_=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,Y_=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,$_=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Z_=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Q_=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},J_=function(e){return"number"===typeof e.red&&"number"===typeof e.green&&"number"===typeof e.blue&&("number"!==typeof e.alpha||"undefined"===typeof e.alpha)},eS=function(e){return"number"===typeof e.red&&"number"===typeof e.green&&"number"===typeof e.blue&&"number"===typeof e.alpha},tS=function(e){return"number"===typeof e.hue&&"number"===typeof e.saturation&&"number"===typeof e.lightness&&("number"!==typeof e.alpha||"undefined"===typeof e.alpha)},nS=function(e){return"number"===typeof e.hue&&"number"===typeof e.saturation&&"number"===typeof e.lightness&&"number"===typeof e.alpha},rS=PS(CS),iS=PS(AS),aS=PS(IS),oS=PS(RS),sS=["absolute","fixed","relative","static","sticky"]}});function LS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jS(Object(n),!0).forEach((function(t){LS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zS(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var FS,BS,US=Ei({"../node_modules/reakit/es/_rollupPluginBabelHelpers-1f0bf8c2.js":function(){}}),VS=Ei({"../node_modules/reakit-system/es/SystemContext.js":function(){FS=Ti(nb()),BS=(0,FS.createContext)({})}});function HS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WS(Object(n),!0).forEach((function(t){HS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qS(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function KS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XS(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return KS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KS(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var YS,$S,ZS=Ei({"../node_modules/reakit-system/es/_rollupPluginBabelHelpers-0c84a174.js":function(){}});var QS=Ei({"../node_modules/reakit-system/es/useCreateElement.js":function(){YS=Ti(nb()),VS(),ZS(),$S=function(e,t,n){void 0===n&&(n=t.children);var r=(0,YS.useContext)(BS);if(r.useCreateElement)return r.useCreateElement(e,t,n);if("string"===typeof e&&function(e){return"function"===typeof e}(n)){t.children;return n(qS(t,["children"]))}return(0,YS.createElement)(e,t,n)}}});function JS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(n),!0).forEach((function(t){JS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rk(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return nk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nk(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var ik=Ei({"../node_modules/reakit-utils/es/_rollupPluginBabelHelpers-1f0bf8c2.js":function(){}});var ak=Ei({"../node_modules/reakit-utils/es/isObject.js":function(){}});function ok(e){var t;if(!function(e){return"object"===typeof e&&null!=e}(e))return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===Object.toString()}var sk=Ei({"../node_modules/reakit-utils/es/isPlainObject.js":function(){ak()}});function uk(e,t){for(var n={},r={},i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];t.indexOf(o)>=0?n[o]=e[o]:r[o]=e[o]}return[n,r]}function lk(e,t){if(void 0===t&&(t=[]),!ok(e.state))return uk(e,t);var n=uk(e,[].concat(t,["state"])),r=n[0],i=n[1],a=r.state,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,["state"]);return[tk(tk({},a),o),i]}var ck=Ei({"../node_modules/reakit-utils/es/splitProps.js":function(){ik(),sk()}});function dk(e,t){if(e===t)return!0;if(!e)return!1;if(!t)return!1;if("object"!==typeof e)return!1;if("object"!==typeof t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var a=0,o=n;a<o.length;a++){var s=o[a];if(e[s]!==t[s])return!1}return!0}var fk=Ei({"../node_modules/reakit-utils/es/shallowEqual.js":function(){}});function pk(e){return"normalizePropsAreEqualInner"===e.name?e:function(t,n){return ok(t.state)&&ok(n.state)?e(tk(tk({},t.state),t),tk(tk({},n.state),n)):e(t,n)}}var hk,vk=Ei({"../node_modules/reakit-utils/es/normalizePropsAreEqual.js":function(){ik(),sk()}});function mk(e){var t,n=e.as,r=e.useHook,i=e.memo,a=e.propsAreEqual,o=void 0===a?null===r||void 0===r?void 0:r.unstable_propsAreEqual:a,s=e.keys,u=void 0===s?(null===r||void 0===r?void 0:r.__keys)||[]:s,l=e.useCreateElement,c=void 0===l?$S:l,d=function(e,t){var i=e.as,a=void 0===i?n:i,o=qS(e,["as"]);if(r){var s,l=lk(o,u),d=l[0],f=l[1],p=r(d,GS({ref:t},f)),h=p.wrapElement,v=qS(p,["wrapElement"]),m=(null===(s=a.render)||void 0===s?void 0:s.__keys)||a.__keys,g=m&&lk(o,m)[0],y=g?GS(GS({},v),g):v,b=c(a,y);return h?h(b):b}return c(a,GS({ref:t},o))};return r&&(d.displayName=r.name.replace(/^(unstable_)?use/,"")),t=d,d=(0,hk.forwardRef)(t),i&&(d=function(e,t){return(0,hk.memo)(e,t)}(d,o&&pk(o))),d.__keys=u,d.unstable_propsAreEqual=pk(o||dk),d}var gk,yk=Ei({"../node_modules/reakit-system/es/createComponent.js":function(){hk=Ti(nb()),ZS(),QS(),ck(),fk(),vk()}});function bk(e,t){(0,gk.useDebugValue)(e);var n=(0,gk.useContext)(BS);return null!=n[e]?n[e]:t}var xk,wk=Ei({"../node_modules/reakit-system/es/useToken.js":function(){gk=Ti(nb()),VS()}});var _k,Sk=Ei({"../node_modules/reakit-system/es/useProps.js":function(){xk=Ti(nb()),wk()}});var kk=Ei({"../node_modules/reakit-system/es/useOptions.js":function(){_k=Ti(nb()),wk(),ZS()}});var Ek=Ei({"../node_modules/reakit-utils/es/toArray.js":function(){}});function Mk(e){var t,n,r,i=(r=e.compose,Array.isArray(r)?r:"undefined"!==typeof r?[r]:[]),a=function(t,n){if(e.useOptions&&(t=e.useOptions(t,n)),e.name&&(t=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r="use"+e+"Options";(0,_k.useDebugValue)(r);var i=bk(r);return i?GS(GS({},t),i(t,n)):t}(e.name,t,n)),e.compose)for(var r,a=XS(i);!(r=a()).done;){t=r.value.__useOptions(t,n)}return t},o=function(t,n,r){if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r=!1),r||(t=a(t,n)),e.useProps&&(n=e.useProps(t,n)),e.name&&(n=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r="use"+e+"Props";(0,xk.useDebugValue)(r);var i=bk(r);return i?i(t,n):n}(e.name,t,n)),e.compose)if(e.useComposeOptions&&(t=e.useComposeOptions(t,n)),e.useComposeProps)n=e.useComposeProps(t,n);else for(var o,s=XS(i);!(o=s()).done;){n=(0,o.value)(t,n,!0)}var u={},l=n||{};for(var c in l)void 0!==l[c]&&(u[c]=l[c]);return u};o.__useOptions=a;var s=i.reduce((function(e,t){return e.push.apply(e,t.__keys||[]),e}),[]);return o.__keys=[].concat(s,(null===(t=e.useState)||void 0===t?void 0:t.__keys)||[],e.keys||[]),o.unstable_propsAreEqual=e.propsAreEqual||(null===(n=i[0])||void 0===n?void 0:n.unstable_propsAreEqual)||dk,e.name&&Object.defineProperty(o,"name",{value:"use"+e.name}),o}var Pk,Tk=Ei({"../node_modules/reakit-system/es/createHook.js":function(){Ti(nb()),Sk(),ZS(),kk(),fk(),Ek()}});function Ck(e,t){void 0===t&&(t=null),e&&("function"===typeof e?e(t):e.current=t)}function Ak(e,t){return(0,Pk.useMemo)((function(){return null==e&&null==t?null:function(n){Ck(e,n),Ck(t,n)}}),[e,t])}var Ik,Rk=Ei({"../node_modules/reakit-utils/es/useForkRef.js":function(){Pk=Ti(nb())}});function Ok(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){var t=e;return-1!==Ik.indexOf(t.type)}return!1}var Dk=Ei({"../node_modules/reakit-utils/es/isButton.js":function(){Ik=["button","color","file","image","reset","submit"]}});function Lk(e){for(var t,n=[],r=rk(e);!(t=r()).done;){var i=t.value;Array.isArray(i)?n.push.apply(n,Lk(i)):n.push(i)}return n}var jk=Ei({"../node_modules/reakit-utils/es/flatten.js":function(){ik()}});function Nk(e){var t;if(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Lk(r.map((function(e){return[e,"\n"]})));(t=console).warn.apply(t,a.slice(0,-1));try{throw Error(a.join(""))}catch(o){}}}var zk=Ei({"../node_modules/reakit-warning/es/warning.js":function(){jk()}}),Fk=Ei({"../node_modules/reakit-warning/es/useWarning.js":function(){zk(),Ti(nb())}}),Bk=Ei({"../node_modules/reakit-warning/es/index.js":function(){zk(),Ti(nb()),Fk()}});function Uk(e){return e?e.ownerDocument||e:document}var Vk,Hk=Ei({"../node_modules/reakit-utils/es/getDocument.js":function(){}});var Wk,Gk=Ei({"../node_modules/reakit-utils/es/getWindow.js":function(){Hk();try{Vk=window}catch(e){}}});function qk(){var e,t=e&&Uk(e).defaultView||Vk;return Boolean("undefined"!==typeof t&&t.document&&t.document.createElement)}var Kk,Xk,Yk,$k=Ei({"../node_modules/reakit-utils/es/canUseDOM.js":function(){Gk(),Wk=qk()}}),Zk=Ei({"../node_modules/reakit-utils/es/useIsomorphicEffect.js":function(){Kk=Ti(nb()),$k(),Xk=Wk?Kk.useLayoutEffect:Kk.useEffect}});function Qk(e){var t=(0,Yk.useRef)(e);return Xk((function(){t.current=e})),t}var Jk=Ei({"../node_modules/reakit-utils/es/useLiveRef.js":function(){Yk=Ti(nb()),Zk()}});var eE=Ei({"../node_modules/reakit-utils/es/isSelfTarget.js":function(){}});var tE=Ei({"../node_modules/reakit-utils/es/getActiveElement.js":function(){Hk()}});function nE(e,t){return e===t||e.contains(t)}var rE=Ei({"../node_modules/reakit-utils/es/contains.js":function(){}});function iE(e){var t=function(e){var t=Uk(e).activeElement;return null!==t&&void 0!==t&&t.nodeName?t:null}(e);if(!t)return!1;if(nE(e,t))return!0;var n=t.getAttribute("aria-activedescendant");return!!n&&(n===e.id||!!e.querySelector("#"+n))}var aE=Ei({"../node_modules/reakit-utils/es/hasFocusWithin.js":function(){tE(),rE()}});var oE=Ei({"../node_modules/reakit-utils/es/isPortalEvent.js":function(){rE()}});function sE(e){return!!Wk&&-1!==window.navigator.userAgent.indexOf(e)}var uE=Ei({"../node_modules/reakit-utils/es/dom.js":function(){$k()}});var lE,cE=Ei({"../node_modules/reakit-utils/es/matches.js":function(){}});var dE,fE,pE,hE,vE,mE=Ei({"../node_modules/reakit-utils/es/tabbable.js":function(){cE(),lE="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}}),gE=Ei({"../node_modules/reakit/es/Role/Role.js":function(){US(),yk(),Tk(),fk(),dE=Mk({name:"Role",keys:["unstable_system"],propsAreEqual:function(e,t){var n=e.unstable_system,r=zS(e,["unstable_system"]),i=t.unstable_system,a=zS(t,["unstable_system"]);return!(n!==i&&!dk(n,i))&&dk(r,a)}}),mk({as:"div",useHook:dE})}});function yE(e){!iE(e)&&function(e){return function(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}(e,lE)&&function(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)}(e)&&e.focus()}function bE(e,t,n,r){return e?t&&!n?-1:void 0:t?r:r||0}function xE(e,t){return(0,fE.useCallback)((function(n){var r;null===(r=e.current)||void 0===r||r.call(e,n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}),[e,t])}var wE,_E,SE=Ei({"../node_modules/reakit/es/Tabbable/Tabbable.js":function(){US(),yk(),Tk(),fE=Ti(nb()),Rk(),Dk(),Bk(),Jk(),Zk(),aE(),oE(),uE(),mE(),gE(),pE=["disabled","focusable"],hE=sE("Mac")&&!sE("Chrome")&&(sE("Safari")||sE("Firefox")),vE=Mk({name:"Tabbable",compose:dE,keys:pE,useOptions:function(e,t){return NS({disabled:t.disabled},e)},useProps:function(e,t){var n=t.ref,r=t.tabIndex,i=t.onClickCapture,a=t.onMouseDownCapture,o=t.onMouseDown,s=t.onKeyPressCapture,u=t.style,l=zS(t,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),c=(0,fE.useRef)(null),d=Qk(i),f=Qk(a),p=Qk(o),h=Qk(s),v=!!e.disabled&&!e.focusable,m=(0,fE.useState)(!0),g=m[0],y=m[1],b=(0,fE.useState)(!0),x=b[0],w=b[1],_=e.disabled?NS({pointerEvents:"none"},u):u;Xk((function(){var e,t=c.current;t?("BUTTON"!==(e=t).tagName&&"INPUT"!==e.tagName&&"SELECT"!==e.tagName&&"TEXTAREA"!==e.tagName&&"A"!==e.tagName&&y(!1),function(e){return"BUTTON"===e.tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName}(t)||w(!1)):Nk(!0,"Can't determine if the element is a native tabbable element because `ref` wasn't passed to the component.","See https://reakit.io/docs/tabbable")}),[]);var S=xE(d,e.disabled),k=xE(f,e.disabled),E=xE(h,e.disabled),M=(0,fE.useCallback)((function(e){var t;null===(t=p.current)||void 0===t||t.call(p,e);var n=e.currentTarget;if(!e.defaultPrevented&&hE&&!function(e){return!nE(e.currentTarget,e.target)}(e)&&Ok(n)){var r=requestAnimationFrame((function(){n.removeEventListener("mouseup",i,!0),yE(n)})),i=function(){cancelAnimationFrame(r),yE(n)};n.addEventListener("mouseup",i,{once:!0,capture:!0})}}),[]);return NS({ref:Ak(c,n),style:_,tabIndex:bE(v,g,x,r),disabled:!(!v||!x)||void 0,"aria-disabled":!!e.disabled||void 0,onClickCapture:S,onMouseDownCapture:k,onMouseDown:M,onKeyPressCapture:E},l)}}),mk({as:"div",useHook:vE})}});var kE,EE,ME,PE,TE,CE,AE,IE,RE=Ei({"../node_modules/reakit/es/Clickable/Clickable.js":function(){US(),yk(),Tk(),wE=Ti(nb()),Dk(),Bk(),Jk(),eE(),SE(),_E=Mk({name:"Clickable",compose:vE,keys:["unstable_clickOnEnter","unstable_clickOnSpace"],useOptions:function(e){var t=e.unstable_clickOnEnter,n=void 0===t||t,r=e.unstable_clickOnSpace;return NS({unstable_clickOnEnter:n,unstable_clickOnSpace:void 0===r||r},zS(e,["unstable_clickOnEnter","unstable_clickOnSpace"]))},useProps:function(e,t){var n=t.onKeyDown,r=t.onKeyUp,i=zS(t,["onKeyDown","onKeyUp"]),a=(0,wE.useState)(!1),o=a[0],s=a[1],u=Qk(n),l=Qk(r),c=(0,wE.useCallback)((function(t){var n;if(null===(n=u.current)||void 0===n||n.call(u,t),!t.defaultPrevented&&!e.disabled&&!t.metaKey&&function(e){return e.target===e.currentTarget}(t)){var r=e.unstable_clickOnEnter&&"Enter"===t.key,i=e.unstable_clickOnSpace&&" "===t.key;if(r||i){if(function(e){var t=e.currentTarget;return!!e.isTrusted&&(Ok(t)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"A"===t.tagName||"SELECT"===t.tagName)}(t))return;t.preventDefault(),r?t.currentTarget.click():i&&s(!0)}}}),[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),d=(0,wE.useCallback)((function(t){var n;if(null===(n=l.current)||void 0===n||n.call(l,t),!t.defaultPrevented&&!e.disabled&&!t.metaKey){var r=e.unstable_clickOnSpace&&" "===t.key;o&&r&&(s(!1),t.currentTarget.click())}}),[e.disabled,e.unstable_clickOnSpace,o]);return NS({"data-active":o||void 0,onKeyDown:c,onKeyUp:d},i)}}),mk({as:"button",memo:!0,useHook:_E})}}),OE=Ei({"../node_modules/reakit/es/Button/Button.js":function(){US(),yk(),Tk(),kE=Ti(nb()),Rk(),Dk(),Bk(),RE(),EE=Mk({name:"Button",compose:_E,keys:[],useProps:function(e,t){var n=t.ref,r=zS(t,["ref"]),i=(0,kE.useRef)(null),a=(0,kE.useState)(void 0),o=a[0],s=a[1],u=(0,kE.useState)("button"),l=u[0],c=u[1];return(0,kE.useEffect)((function(){var e=i.current;e?Ok(e)||("A"!==e.tagName&&s("button"),c(void 0)):Nk(!0,"Can't determine whether the element is a native button because `ref` wasn't passed to the component","See https://reakit.io/docs/button")}),[]),NS({ref:Ak(i,n),role:o,type:l},r)}}),ME=mk({as:"button",memo:!0,useHook:EE})}}),DE=Ei({"../node_modules/reakit/es/Group/Group.js":function(){US(),yk(),Tk(),gE(),PE=Mk({name:"Group",compose:dE,keys:[],useProps:function(e,t){return NS({role:"group"},t)}}),TE=mk({as:"div",useHook:PE})}});function LE(){return Wk?document.body:null}function jE(e){var t=e.children,n=(0,CE.useContext)(IE)||LE(),r=(0,CE.useState)((function(){if(Wk){var e=document.createElement("div");return e.className=jE.__className,e}return null}))[0];return Xk((function(){if(r&&n)return n.appendChild(r),function(){n.removeChild(r)}}),[r,n]),r?(0,AE.createPortal)((0,CE.createElement)(IE.Provider,{value:r},t),r):null}var NE,zE,FE,BE,UE,VE,HE,WE,GE,qE=Ei({"../node_modules/reakit/es/Portal/Portal.js":function(){CE=Ti(nb()),Zk(),$k(),AE=Ti(ub()),IE=(0,CE.createContext)(LE()),jE.__className="__reakit-portal",jE.__selector="."+jE.__className}}),KE=Ei({"../node_modules/body-scroll-lock/lib/bodyScrollLock.esm.js":function(){!1,"undefined"!==typeof window&&(NE={get passive(){!0}},window.addEventListener("testPassive",null,NE),window.removeEventListener("testPassive",null,NE)),"undefined"!==typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1)}}),XE=Ei({"../node_modules/reakit/es/index.js":function(){Ti(nb()),Bk(),OE(),DE(),Ti(ub()),qE(),KE(),zk()}});var YE,$E,ZE,QE,JE,eM,tM=Ei({"studio/src/css.tsx":function(){DS(),hw(),hw(),zE=Ti(nb()),FE=Ti(ub()),XE(),Lw(),BE=Qx(c||(c=ai(["\n  #pointer-root & {\n    pointer-events: none;\n  }\n  #pointer-root.normal & {\n    pointer-events: auto;\n  }\n"]))),UE={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return iS(.6,UE.panel.bg)}}}}}},VE="undefined"!==typeof window?iw(d||(d=ai(["\n  :host {\n    all: initial;\n    color: white;\n    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,\n      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;\n  }\n\n  * {\n    padding: 0;\n    margin: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n    list-style: none;\n  }\n"]))):{},HE=Cx.div(f||(f=ai(["\n  z-index: 51;\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  pointer-events: none;\n"]))),WE=function(e){return zE.default.createElement(Yx,{disableVendorPrefixes:!0,target:e.target},zE.default.createElement(zE.default.Fragment,null,zE.default.createElement(VE,null),e.children))},GE=function(e){var t=(0,zE.useState)(null),n=oi(t,2),r=n[0],i=n[1],a=(0,zE.useState)(null),o=oi(a,2),s=o[0],u=o[1];(0,zE.useLayoutEffect)((function(){if(r){var e=r.parentNode.attachShadow({mode:"open"});return u(e),function(){var t;null==(t=r.parentNode)||t.removeChild(e)}}}),[r]);var l=Aw(void 0),c=oi(l,2),d=c[0],f=c[1];return s?FE.default.createPortal(zE.default.createElement(WE,{target:s},zE.default.createElement(zE.default.Fragment,null,zE.default.createElement(HE,{ref:d}),zE.default.createElement(IE.Provider,{value:f},e.children))),s):zE.default.createElement("template",{ref:i,"shadow-root":"open"},e.children)}}}),nM=Ei({"../node_modules/react-icons/lib/esm/iconsManifest.js":function(){}}),rM=Ei({"../node_modules/react-icons/lib/esm/iconContext.js":function(){YE=Ti(nb()),$E={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ZE=YE.default.createContext&&YE.default.createContext($E)}});function iM(e){return e&&e.map((function(e,t){return QE.default.createElement(e.tag,JE({key:t},e.attr),iM(e.child))}))}function aM(e){return function(t){return QE.default.createElement(oM,JE({attr:JE({},e.attr)},t),iM(e.child))}}function oM(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=eM(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),QE.default.createElement("svg",JE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:JE(JE({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&QE.default.createElement("title",null,a),e.children)};return void 0!==ZE?QE.default.createElement(ZE.Consumer,null,(function(e){return t(e)})):t($E)}var sM=Ei({"../node_modules/react-icons/lib/esm/iconBase.js":function(){QE=Ti(nb()),rM(),JE=function(){return JE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},JE.apply(this,arguments)},eM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}}}),uM=Ei({"../node_modules/react-icons/lib/esm/index.js":function(){nM(),sM(),rM()}}),lM=Ei({"../node_modules/react-icons/fa/index.esm.js":function(){uM()}}),cM=Ei({"../node_modules/react-icons/io/index.esm.js":function(){uM()}});function dM(e){return aM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var fM=Ei({"../node_modules/react-icons/io5/index.esm.js":function(){uM()}}),pM=Ei({"../node_modules/react-icons/md/index.esm.js":function(){uM()}}),hM=Ei({"../node_modules/react-icons/ti/index.esm.js":function(){uM()}});function vM(e){return aM({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(e)}function mM(e){return aM({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(e)}var gM=Ei({"../node_modules/react-icons/go/index.esm.js":function(){uM()}}),yM=Ei({"../node_modules/react-icons/fi/index.esm.js":function(){uM()}}),bM=Ei({"../node_modules/react-icons/gi/index.esm.js":function(){uM()}}),xM=Ei({"../node_modules/react-icons/wi/index.esm.js":function(){uM()}}),wM=Ei({"../node_modules/react-icons/di/index.esm.js":function(){uM()}}),_M=Ei({"../node_modules/react-icons/ai/index.esm.js":function(){uM()}}),SM=Ei({"../node_modules/react-icons/bs/index.esm.js":function(){uM()}}),kM=Ei({"../node_modules/react-icons/ri/index.esm.js":function(){uM()}}),EM=Ei({"../node_modules/react-icons/fc/index.esm.js":function(){uM()}}),MM=Ei({"../node_modules/react-icons/gr/index.esm.js":function(){uM()}});function PM(e){return aM({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}var TM=Ei({"../node_modules/react-icons/hi/index.esm.js":function(){uM()}}),CM=Ei({"../node_modules/react-icons/si/index.esm.js":function(){uM()}}),AM=Ei({"../node_modules/react-icons/im/index.esm.js":function(){uM()}}),IM=Ei({"../node_modules/react-icons/bi/index.esm.js":function(){uM()}});function RM(e){return aM({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(e)}var OM=Ei({"../node_modules/react-icons/cg/index.esm.js":function(){uM()}});function DM(e){return aM({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(e)}var LM,jM=Ei({"../node_modules/react-icons/vsc/index.esm.js":function(){uM()}}),NM=Ei({"../node_modules/react-icons/all.js":function(){lM(),cM(),fM(),pM(),hM(),gM(),yM(),bM(),xM(),wM(),_M(),SM(),kM(),EM(),MM(),TM(),CM(),AM(),IM(),OM(),jM()}}),zM=Ei({"studio/src/propEditors/utils/propNameTextCSS.tsx":function(){hw(),LM=Qx(p||(p=ai(["\n  font-weight: 300;\n  font-size: 11px;\n  color: ",";\n  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);\n"])),(function(e){return"self"===e.isHighlighted?"#CCC":"#919191"}))}});function FM(e,t){var n,r=e,i=ui(t);try{for(i.s();!(n=i.n()).done;){r=r[n.value]}}catch(a){i.e(a)}finally{i.f()}return r}var BM,UM,VM,HM,WM=Ei({"shared/src/utils/pointerDeep.ts":function(){}});function GM(e){return[e.projectId,e.sheetId,e.objectKey].concat(si(e.pathToProp))}function qM(e){var t={};return uy(t,e,!0),t}var KM,XM=Ei({"studio/src/panels/SequenceEditorPanel/whatPropIsHighlighted.ts":function(){BM=Ti(n(2114)),UM=Ti(n(2114)),VM=Ti(n(2114)),WM(),by(),HM=function(){var e=0,t=new UM.Atom({hasLock:!1});return{replaceLock:function(n,r){var i=e++,a=t.getState();return a.hasLock&&a.cleanup(),t.setState({hasLock:!0,lockId:i,cleanup:r,deepPath:qM(GM(n))}),function(){var e=t.getState();e.hasLock&&e.lockId===i&&(e.cleanup(),t.setState({hasLock:!1}))}},getIsPropHighlightedD:function(e){var n=FM(t.pointer.deepPath,GM(e));return(0,VM.prism)((function(){var e=(0,BM.val)(n);return!0===e?"self":e?"descendent":null}))}}}()}});function YM(e,t){(0,KM.useLayoutEffect)((function(){if(e&&("propWithChildren"===t.type||"primitiveProp"===t.type||"sheetObject"===t.type)){var n=null,r=_i(wi({},t.sheetObject.address),{pathToProp:"sheetObject"===t.type?[]:t.pathToProp});return e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",a),function(){null==n||n(),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",a)}}function i(){n=HM.replaceLock(r,(function(){}))}function a(){null==n||n()}}),[e])}var $M,ZM,QM,JM,eP,tP,nP,rP,iP,aP=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/usePropHighlightMouseEnter.tsx":function(){KM=Ti(nb()),XM()}}),oP=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/AnyCompositeRow.tsx":function(){tM(),$M=Ti(nb()),NM(),hw(),zM(),aP(),ZM=Cx.li(h||(h=ai(["\n  --depth: ",";\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"])),(function(e){return e.depth})),QM=Cx.div(v||(v=ai(["\n  border-bottom: 1px solid #7695b705;\n"]))),JM=Cx(QM)(m||(m=ai(["\n  padding-left: calc(8px + var(--depth) * 20px);\n\n  display: flex;\n  align-items: stretch;\n  color: ",";\n\n  box-sizing: border-box;\n\n  ",";\n"])),UE.panel.body.compoudThing.label.color,(function(e){return e.isSelected&&"background: blue"})),eP=Cx.span(g||(g=ai(["\n  ",";\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-right: 4px;\n  line-height: 26px;\n  flex-wrap: nowrap;\n\n  ",":hover & {\n    color: #ccc;\n  }\n"])),LM,JM),tP=Cx.span(y||(y=ai(["\n  width: 12px;\n  padding: 8px;\n  font-size: 9px;\n  display: flex;\n  align-items: center;\n\n  transition: transform 0.05s ease-out, color 0.1s ease-out;\n  transform: rotateZ(","deg);\n  color: #66686a;\n\n  &:hover {\n    transform: rotateZ(","deg);\n    color: #c0c4c9;\n  }\n"])),(function(e){return e.isCollapsed?0:90}),(function(e){return e.isCollapsed?15:75})),nP=Cx.ul(b||(b=ai(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),rP=function(e){var t=e.leaf,n=e.label,r=e.children,i=e.isSelectable,a=e.isSelected,o=e.toggleSelect,s=e.toggleCollapsed,u=e.isCollapsed,l=Array.isArray(r)&&r.length>0,c=(0,$M.useRef)(null);return YM(c.current,t),t.shouldRender?$M.default.createElement(ZM,{depth:t.depth},$M.default.createElement(JM,{ref:c,style:{height:t.nodeHeight+"px"},isSelectable:!0===i,isSelected:!0===a,onClick:o,isEven:t.n%2===0},$M.default.createElement(tP,{isCollapsed:u,onClick:s},$M.default.createElement(PM,null)),$M.default.createElement(eP,null,n)),l&&$M.default.createElement(nP,null,r)):null}}});function sP(e){return"compound"===e.type||"enum"===e.type}function uP(e,t){if(e){var n=ri(t),r=n[0],i=n.slice(1);if(void 0===r)return e;if(sP(e))return uP("enum"===e.type?e.cases[r]:e.props[r],i)}}function lP(e,t){var n=t.deserializeAndSanitize(e);return void 0===n?t.default:n}function cP(e){return iP.has(e)||iP.set(e,function(e){if("enum"===e.type)throw new Error("Not implemented yet for enums");for(var t in e.props){var n=e.props[t];if(!sP(n))return!0;if(cP(n))return!0}return!1}(e)),iP.get(e)}function dP(e,t){var n;return ni().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("compound"!==e.type){r.next=9;break}r.t0=ni().keys(e.props);case 2:if((r.t1=r.t0()).done){r.next=7;break}return n=r.t1.value,r.delegateYield(dP(e.props[n],[].concat(si(t),[n])),"t2",5);case 5:r.next=2;break;case 7:r.next=16;break;case 9:if("enum"!==e.type){r.next=13;break}throw new Error("Not implemented yet");case 13:return r.next=15,{path:t,conf:e};case 15:return r.abrupt("return",r.sent);case 16:case"end":return r.stop()}}),li)}var fP,pP,hP,vP,mP,gP,yP,bP,xP=Ei({"shared/src/propTypes/utils.ts":function(){iP=new WeakMap}}),wP=Ei({"studio/src/propEditors/DefaultValueIndicator.tsx":function(){DS(),fP=Ti(nb()),hw(),pP={defaultState:{color:oS(.85,"#C4C4C4")},withStaticOverride:{color:oS(.85,"#C4C4C4")}},hP=Cx.div(x||(x=ai(["\n  width: 16px;\n  margin: 0 0px 0 2px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  color: ",";\n"])),(function(e){return e.hasStaticOverride?pP.withStaticOverride.color:pP.defaultState.color})),vP=Cx.rect(w||(w=ai(["\n  fill: currentColor;\n"]))),mP=function(){return fP.default.createElement("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fP.default.createElement(vP,{width:"5",height:"5"}))},gP=function(e){return fP.default.createElement(hP,{hasStaticOverride:e.hasStaticOverride},fP.default.createElement(mP,null))}}});function _P(e,t,n){if(!t||0===t.data.keyframes.length)return bP;var r=yP.get(t.data);if(r&&r[0]===n)return r[1];function i(n){if(t){var r=t.data.keyframes[n];return r&&{kf:r,track:t,itemKey:Ry.forTrackKeyframe(e,t.id,r.id)}}}var a=function(){var e=t.data.keyframes.findIndex((function(e){return e.position>=n}));if(-1===e)return{prev:i(t.data.keyframes.length-1)};var r=i(e);return r.kf.position===n?{prev:i(e-1),cur:r,next:i(e+1)}:{next:r,prev:i(e-1)}}();return yP.set(t.data,[n,a]),a}var SP=Ei({"studio/src/propEditors/getNearbyKeyframesOfTrack.tsx":function(){jy(),yP=new WeakMap,bP={}}});function kP(e,t){return null==e?null:e instanceof Element&&e.matches(t)?e:kP(e.parentElement,t)}var EP,MP,PP,TP,CP,AP,IP,RP,OP=Ei({"studio/src/utils/selectClosestHTMLAncestor.ts":function(){}});function DP(e){var t=EP.default.useContext(IP),n=t.usePresenceFlag(e);return{attrs:ii({},RP,e),flag:n,useRelations:function(n,r){(0,MP.useEffect)((function(){return e&&t.addRelatedFlags(e,n())}),[e].concat(si(r)))}}}function LP(e){var t=EP.default.useContext(IP),n=gw("PresenceListeners");(0,MP.useEffect)((function(){var r;if(e){var i=function(e){if(e.target instanceof Node){var i=kP(e.target,"[".concat(RP,"]"));if(i){var a=i.getAttribute(RP);return void(r!==a&&(r=a,t.setUserHover(a||void 0),n._debug("Updated current hover",{itemKey:a})))}null!=r&&(r=null,t.setUserHover(void 0),n._debug("Cleared current hover"))}};return e.addEventListener("mouseover",i),function(){e.removeEventListener("mouseover",i),null!=r&&(r=null,n._debug("Cleared current hover as part of cleanup"))}}}),[e,t])}var jP,NP,zP,FP,BP,UP,VP,HP,WP,GP,qP,KP,XP,YP,$P=Ei({"studio/src/uiComponents/usePresence.tsx":function(){var e;EP=Ti(nb()),MP=Ti(nb()),ww(),PP=Ti(n(2114)),TP=Ti(n(2114)),fb(),OP(),(e=CP||(CP={}))[e.Primary=2]="Primary",e[e.Secondary=1]="Secondary",(AP=(0,PP.prism)((function(){}))).keepHot(),IP=EP.default.createContext(function(e){var t=new PP.Box(void 0),n=new TP.Atom({}),r=new TP.Atom({}),i=0;return{addRelatedFlags:function(e,t){var n=String(++i),a=t.map((function(t){var i={flag:t.flag},a=[t.affects,e,n];return r.setIn(a,i),a}));return function(){var e,t=ui(a);try{for(t.s();!(e=t.n()).done;){var n=e.value;r.setIn(n,void 0)}}catch(i){t.e(i)}finally{t.f()}}},usePresenceFlag:function(i){if(e.enabled)return cb((0,EP.useMemo)((function(){if(!i)return AP;var e=t.derivation,a=(0,PP.valueDerivation)(n.pointer[i]),o=(0,PP.valueDerivation)(r.pointer[i]);return(0,PP.prism)((function(){if(a.getValue())return 2;var t=o.getValue(),n=e.getValue(),r=t&&n&&t[n];if(r){for(var i,s=0,u=Object.values(r);s<u.length;s++){var l=u[s];l&&(i&&i>=l.flag||(i=l.flag))}return i}}))}),[i]))},setUserHover:function(e){var r=t.get();r!==e&&(r&&n.setIn([r],!1),t.set(e),e&&n.setIn([e],!0))}}}({enabled:!1})),RP="data-pi-key"}}),ZP=Ei({"studio/src/propEditors/NextPrevKeyframeCursors.tsx":function(){tM(),DS(),jP=Ti(nb()),hw(),$P(),$P(),NP=Cx.div(_||(_=ai(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 16px;\n  margin: 0 0px 0 2px;\n  position: relative;\n  z-index: 0;\n  opacity: 0.7;\n\n  &:after {\n    position: absolute;\n    left: -14px;\n    right: -14px;\n    top: -2px;\n    bottom: -2px;\n    content: ' ';\n    display: none;\n    z-index: -1;\n    background: ",";\n  }\n\n  &:hover {\n    opacity: 1;\n    &:after {\n      display: block;\n    }\n  }\n"])),oS(.2,"black")),zP=Cx.div(S||(S=ai(["\n  background: none;\n  position: relative;\n  border: 0;\n  transition: transform 0.1s ease-out;\n  z-index: 0;\n  outline: none;\n  cursor: pointer;\n\n  &:after {\n    display: none;\n    ",":hover & {\n      display: block;\n    }\n    position: absolute;\n    left: -4px;\n    right: -4px;\n    top: -4px;\n    bottom: -4px;\n    content: ' ';\n    z-index: -1;\n  }\n"])),NP),FP={offColor:"#555",onColor:"#e0c917"},BP=Cx(zP)(k||(k=ai(["\n  &:hover {\n    color: #e0c917;\n  }\n\n  color: ",";\n"])),(function(e){return e.presence===CP.Primary?"white":e.isOn?FP.onColor:FP.offColor})),UP=Qx(E||(E=ai(["\n  pointer-events: none !important;\n"]))),VP=Cx(zP)(M||(M=ai(["\n  color: ",";\n\n  ",";\n"])),(function(e){return e.flag===CP.Primary?"white":e.available?FP.onColor:FP.offColor}),(function(e){return e.available?BE:UP})),HP=Cx(VP)(P||(P=ai(["\n  transform: translateX(2px);\n  ",":hover & {\n    transform: translateX(-7px);\n  }\n"])),NP),WP=Cx(VP)(T||(T=ai(["\n  transform: translateX(-2px);\n  ",":hover & {\n    transform: translateX(7px);\n  }\n"])),NP),function(e){var t=Cx.g(C||(C=ai(["\n    stroke-width: 1;\n    ",":hover & path {\n      stroke-width: 3;\n    }\n  "])),VP);e.Prev=function(){return jP.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jP.default.createElement(t,{transform:"translate(6 3)"},jP.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"})))},e.Next=function(){return jP.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jP.default.createElement(t,{transform:"translate(1 3)"},jP.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})))};var n=Cx.g(A||(A=ai(["\n    stroke-width: 0;\n    ",":hover & path {\n      stroke: currentColor;\n      stroke-width: 2;\n    }\n  "])),BP);e.Cur=function(){return jP.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jP.default.createElement(n,{transform:"translate(1 4)"},jP.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))}}(GP||(GP={})),qP=function(e){var t,n,r,i,a,o=DP(null==(t=e.prev)?void 0:t.itemKey),s=DP("on"===(null==(n=e.cur)?void 0:n.type)?e.cur.itemKey:void 0),u=DP(null==(r=e.next)?void 0:r.itemKey);return jP.default.createElement(NP,null,jP.default.createElement(HP,wi({available:!!e.prev,onClick:null==(i=e.prev)?void 0:i.jump,flag:o.flag},o.attrs),jP.default.createElement(GP.Prev,null)),jP.default.createElement(BP,wi({isOn:"on"===e.cur.type,onClick:e.cur.toggle,presence:s.flag},s.attrs),jP.default.createElement(GP.Cur,null)),jP.default.createElement(WP,wi({available:!!e.next,onClick:null==(a=e.next)?void 0:a.jump,flag:u.flag},u.attrs),jP.default.createElement(GP.Next,null)))}}});function QP(e,t,n){return(0,XP.prism)((function(){var r,i=(0,XP.getPointerParts)(e).path,a=t.getValueByPointer(e),o=XP.prism.memo("editPropValue",(function(){var t=null;return{temporarilySetValue:function(n){t||(t=Ii().scrub()),t.capture((function(t){t.set(e,n)}))},discardTemporaryValue:function(){t&&(t.discard(),t=null)},permanentlySetValue:function(n){t?(t.capture((function(t){t.set(e,n)})),t.commit(),t=null):Ii().transaction((function(t){t.set(e,n)}))}}}),[]),s=!0===(0,XP.val)(Lf(Ii().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,XP.getPointerParts)(e).path)),u=[],l=_i(wi({},o),{value:a,beingScrubbed:s,contextMenuItems:u,controlIndicators:KP.default.createElement(KP.default.Fragment,null)}),c=!sP(n);if(c){var d=Ny((0,XP.val)(t.template.getMapOfValidSequenceTracks_forStudio()),i);if("string"===typeof d){u.push({label:"Make static",callback:function(){Ii().transaction((function(n){var r=n.stateEditors,a=_i(wi({},t.address),{pathToProp:i});r.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(_i(wi({},a),{value:t.getValueByPointer(e)}))}))}});var f,p=d,h=XP.prism.sub("lcr",(function(){var e=(0,XP.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[p]),n=(0,XP.val)(t.sheet.getSequence().positionDerivation);return _P(t,e&&{data:e,id:p,sheetObject:t},n)}),[p]);f=l.beingScrubbed?"Sequenced_OnKeyframe_BeingScrubbed":h.cur?"Sequenced_OnKeyframe":!0===(null==(r=h.prev)?void 0:r.kf.connectedRight)?"Sequenced_BeingInterpolated":"Sequened_NotBeingInterpolated";var v=function(){h.cur?Ii().transaction((function(t){t.unset(e)})):Ii().transaction((function(t){t.set(e,l.value)}))},m={cur:h.cur?{type:"on",itemKey:h.cur.itemKey,toggle:v}:{type:"off",toggle:v},prev:void 0!==h.prev?{itemKey:h.prev.itemKey,position:h.prev.kf.position,jump:function(){t.sheet.getSequence().position=h.prev.kf.position}}:void 0,next:void 0!==h.next?{itemKey:h.next.itemKey,position:h.next.kf.position,jump:function(){t.sheet.getSequence().position=h.next.kf.position}}:void 0},g=KP.default.createElement(qP,wi({},m));return _i(wi({},l),{type:"Sequenced",shade:f,nearbyKeyframes:h,controlIndicators:g})}}return u.push({label:"Reset to default",callback:function(){Ii().transaction((function(t){(0,t.unset)(e)}))}}),c&&u.push({label:"Sequence",callback:function(){Ii().transaction((function(e){var r=e.stateEditors,a=_i(wi({},t.address),{pathToProp:i});r.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(a,n)}))}}),"undefined"!==typeof Ny((0,XP.val)(t.template.getStaticValues()),i)?_i(wi({},l),{type:"Static",shade:l.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:KP.default.createElement(gP,{hasStaticOverride:!0})}):_i(wi({},l),{type:"Default",shade:"Default",controlIndicators:KP.default.createElement(gP,{hasStaticOverride:!1})})}))}function JP(e,t,n){var r=function(e,t,n){if(YP.has(e))return YP.get(e);var r=QP(e,t,n);return YP.set(e,r),r}(e,t,n);return cb(r)}var eT,tT,nT,rT,iT,aT,oT,sT,uT,lT=Ei({"studio/src/propEditors/useEditingToolsForSimpleProp.tsx":function(){Ff(),KP=Ti(nb()),XP=Ti(n(2114)),Fi(),Qy(),fb(),xP(),wP(),SP(),ZP(),YP=new WeakMap}}),cT=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/PrimitivePropRow.tsx":function(){Fi(),uo(),WM(),fb(),eT=Ti(n(2114)),tT=Ti(nb()),hw(),lT(),ZP(),WW(),oP(),zM(),aP(),nT={label:{color:"#9a9a9a"}},rT=Cx(ZM)(I||(I=ai([""]))),iT=Cx(QM)(R||(R=ai(["\n  display: flex;\n  color: ",";\n  padding-right: 12px;\n  align-items: center;\n  justify-content: flex-end;\n  box-sizing: border-box;\n"])),nT.label.color),aT=Cx.button(O||(O=ai(["\n  background: none;\n  border: none;\n  outline: none;\n  display: flex;\n  box-sizing: border-box;\n  font-size: 14px;\n  align-items: center;\n  height: 100%;\n  margin-left: 12px;\n  color: ",";\n\n  &:not([disabled]):hover {\n    color: white;\n  }\n"])),(function(e){return e.isSelected?zW[e.graphEditorColor].iconColor:FP.offColor})),oT=function(){return tT.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},tT.default.createElement("g",{transform:"translate(0 100)"},tT.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"})))},sT=Cx.span(D||(D=ai(["\n  margin-right: 4px;\n  ",";\n\n  ",":hover & {\n    color: #ccc;\n  }\n"])),LM,iT),uT=function(e){var t,n=e.leaf,r=JP(FM(n.sheetObject.propsP,n.pathToProp),n.sheetObject,n.propConf).controlIndicators,i=lb((function(){var e=n.sheetObject.address,t=qa(n.pathToProp);return(0,eT.val)(Ii().atomP.historic.projects.stateByProjectId[e.projectId].stateBySheetId[e.sheetId].sequenceEditor.selectedPropsByObject[e.objectKey][t])}),[n]),a=(0,tT.useRef)(!1),o="string"===typeof i;a.current=o;var s=(0,tT.useCallback)((function(){var e=n.sheetObject.address;Ii().transaction((function(t){var r=t.stateEditors;a.current?r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(_i(wi({},e),{pathToProp:n.pathToProp})):(r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(_i(wi({},e),{pathToProp:n.pathToProp})),r.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))}))}),[n]),u=null!=(t=n.propConf.label)?t:n.pathToProp[n.pathToProp.length-1],l=(0,tT.useRef)(null);return YM(l.current,n),tT.default.createElement(rT,{depth:n.depth},tT.default.createElement(iT,{ref:l,isEven:n.n%2===0,style:{height:n.nodeHeight+"px"},isSelected:!0===o},tT.default.createElement(sT,null,u),r,tT.default.createElement(aT,{onClick:s,isSelected:!0===o,graphEditorColor:null!=i?i:"1",style:{opacity:1},disabled:!1},tT.default.createElement(oT,null))))}}});function dT(e,t){Ii().transaction((function(n){n.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(_i(wi({},t.sheetAddress),{studioSheetItemKey:t.sheetItemKey,isCollapsed:e}))}))}var fT,pT,hT,vT,mT,gT,yT,bT,xT,wT,_T,ST,kT,ET=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/setCollapsedSheetObjectOrCompoundProp.tsx":function(){Fi()}}),MT=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/PropWithChildrenRow.tsx":function(){fT=Ti(nb()),oP(),cT(),ET(),pT=function(e){var t="prop"+e.pathToProp[e.pathToProp.length-1];return e.shouldRender?"propWithChildren"===e.type?fT.default.createElement(hT,{leaf:e,key:t}):fT.default.createElement(uT,{leaf:e,key:t}):fT.default.createElement(fT.default.Fragment,{key:t})},hT=function(e){var t=e.leaf;return fT.default.createElement(rP,{leaf:t,label:t.pathToProp[t.pathToProp.length-1],isCollapsed:t.isCollapsed,toggleCollapsed:function(){return dT(!t.isCollapsed,{sheetAddress:t.sheetObject.address,sheetItemKey:t.sheetItemKey})}},t.children.map((function(e){return pT(e)})))}}}),PT=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/SheetObjectRow.tsx":function(){vT=Ti(nb()),oP(),MT(),ET(),Fi(),mT=function(e){var t=e.leaf;return vT.default.createElement(rP,{leaf:t,label:t.sheetObject.address.objectKey,isCollapsed:t.isCollapsed,toggleSelect:function(){Ii().transaction((function(e){e.stateEditors.studio.historic.panels.outline.selection.set([t.sheetObject])}))},toggleCollapsed:function(){return dT(!t.isCollapsed,{sheetAddress:t.sheetObject.address,sheetItemKey:t.sheetItemKey})}},t.children.map((function(e){return pT(e)})))}}}),TT=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/SheetRow.tsx":function(){fb(),gT=Ti(nb()),PT(),oP(),ET(),yT=function(e){var t=e.leaf;return lb((function(){return gT.default.createElement(rP,{leaf:t,label:t.sheet.address.sheetId,isCollapsed:t.isCollapsed,toggleCollapsed:function(){dT(!t.isCollapsed,{sheetAddress:t.sheet.address,sheetItemKey:t.sheetItemKey})}},t.children.map((function(e){return gT.default.createElement(mT,{key:"sheetObject-"+e.sheetObject.address.objectKey,leaf:e})})))}),[t])}}}),CT=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/Left.tsx":function(){fb(),bT=Ti(n(2114)),xT=Ti(nb()),hw(),TT(),wT=Cx.div(L||(L=ai(["\n  position: absolute;\n  left: 0;\n  overflow-x: visible;\n"]))),_T=Cx.ul(j||(j=ai(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),ST=function(e){var t=e.layoutP;return lb((function(){var e=(0,bT.val)(t.tree),n=(0,bT.val)(t.leftDims.width);return xT.default.createElement(wT,{style:{width:n+"px",top:e.top+"px"}},xT.default.createElement(_T,null,xT.default.createElement(yT,{leaf:e})))}),[t])}}});function AT(e,t){for(var n=e.clippedSpaceRange,r=e.clippedSpaceWidth,i=e.fps,a=e.gapWidth,o=void 0===a?120:a,s=1/i,u=r/(i*(n.end-n.start)),l=Math.floor(o/u),c=(l<i?kT(i).find((function(e){return e>=l})):i*Math.floor(l/i))*s,d=Math.floor(n.start/c),f=Math.ceil(n.end/c),p=d;p<=f;p++){var h=p*c;t(h,h%1===0)}}var IT,RT,OT,DT,LT,jT,NT,zT,FT,BT,UT,VT=Ei({"studio/src/panels/SequenceEditorPanel/FrameGrid/createGrid.ts":function(){Py(),kT=cf((function(e){for(var t=[],n=1;n<=e;n++)e%n===0&&t.push(n);return t}))}}),HT=Ei({"studio/src/studioTicker.ts":function(){IT=Ti(n(2114)),RT=IT.Ticker.raf,OT=RT}});var WT,GT,qT,KT,XT,YT,$T,ZT=Ei({"studio/src/panels/SequenceEditorPanel/FrameGrid/FrameGrid.tsx":function(){DT=Ti(n(2114)),LT=Ti(nb()),hw(),VT(),HT(),jT=Cx.div(N||(N=ai(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  pointer-events: none;\n"]))),NT=Cx.canvas(z||(z=ai(["\n  position: relative;\n  left: 0;\n"]))),zT=function(e){var t=e;return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},FT=function(){return window.devicePixelRatio||1},BT=function(e){return FT()/zT(e)},UT=function(e){var t=e.layoutP,n=e.width,r=e.height,i=(0,LT.useRef)(null),a=(0,LT.useState)(null),o=oi(a,2),s=o[0],u=o[1],l=(0,LT.useMemo)((function(){if(!s)return{};var e=s.getContext("2d");return{ctx:e,ratio:BT(e)}}),[s]),c=l.ctx,d=l.ratio;return(0,LT.useLayoutEffect)((function(){if(c){s.width=n*d,s.height=r*d;var e=(0,DT.prism)((function(){var e=(0,DT.val)(t.sheet).getSequence();return{ctx:c,clippedSpaceRange:(0,DT.val)(t.clippedSpace.range),clippedSpaceWidth:(0,DT.val)(t.clippedSpace.width),unitSpaceToClippedSpace:(0,DT.val)(t.clippedSpace.fromUnitSpace),height:r,leftPadding:(0,DT.val)(t.scaledSpace.leftPadding),fps:e.subUnitsPerUnit,snapToGrid:function(t){return e.closestGridPosition(t)}}})).tapImmediate(OT,(function(e){c.save(),c.scale(d,d),function(e){var t=e.clippedSpaceWidth,n=e.height,r=e.ctx,i=e.unitSpaceToClippedSpace,a=e.snapToGrid;r.clearRect(0,0,t,n),AT(e,(function(e,t){var o=a(e),s=Math.floor(i(o));r.strokeStyle=t?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",r.beginPath(),r.moveTo(s,0),r.lineTo(s,n),r.stroke(),r.closePath()}))}(e),c.restore()}));return function(){e()}}}),[c,n,r,t]),LT.default.createElement(jT,{ref:i,style:{width:n+"px"}},LT.default.createElement(NT,{ref:u,style:{width:n+"px",height:r+"px"}}))}}}),QT=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/DopeSheetBackground.tsx":function(){tM(),pB(),fb(),DS(),WT=Ti(nb()),hw(),ZT(),GT=Cx.div(F||(F=ai(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ",";\n  overflow: hidden;\n  background: ",";\n  pointer-events: none;\n"])),(function(){return BF.rightBackground}),oS(.01,rS(.03,UE.panel.bg))),qT=function(e){var t=e.layoutP,n=Wy(t.rightDims.width),r=Wy(t.panelDims.height);return WT.default.createElement(GT,{style:{width:n+"px"}},WT.default.createElement(UT,{width:n,height:r,layoutP:t}))}}}),JT=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/DopeSheet.tsx":function(){fb(),KT=Ti(nb()),hw(),CT(),QT(),JH(),hB(),XT=Cx.div(B||(B=ai(["\n  position: absolute;\n  left: 0;\n  right: 0;\n"]))),YT=function(e){var t=e.layoutP,n=Wy(t.dopeSheetDims.height);return KT.default.createElement(XT,{style:{height:n+"px"}},KT.default.createElement(qT,{layoutP:t}),KT.default.createElement(JF,null,KT.default.createElement(ST,{layoutP:t}),KT.default.createElement(GH,{layoutP:t})))}}});var eC,tC,nC,rC,iC,aC,oC,sC,uC,lC,cC,dC,fC,pC,hC=Ei({"shared/src/utils/subPrism.ts":function(){$T=Ti(n(2114))}}),vC=Ei({"studio/src/panels/BasePanel/common.tsx":function(){tM(),hw(),eC={get outlinePanel(){return 1},get propsPanel(){return eC.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},tC=UE.panel.bg,nC=Cx.span(U||(U=ai(["\n  white-space: nowrap;\n"]))),rC=Cx.span(V||(V=ai(["\n  white-space: nowrap;\n  color: ",";\n"])),UE.panel.head.punctuation.color),iC=Cx.div(H||(H=ai(["\n  background: ",";\n  flex-grow: 1;\n  overflow-y: scroll;\n  padding: 0;\n"])),tC),aC=18,oC=Cx.div(W||(W=ai(["\n  height: ","px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  position: relative;\n  color: #adadadb3;\n  border-bottom: 1px solid rgb(0 0 0 / 13%);\n  background-color: #25272b;\n  font-size: 10px;\n  font-weight: 500;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"])),aC),sC=100}}),mC=Ei({"studio/src/panels/SequenceEditorPanel/layout/tree.ts":function(){jy(),uC=Ti(n(2114)),Wa(),vC(),lC=28,cC=function(e,t){var n;uC.prism.ensurePrism();var r=!0,i=aC+lC,a=0,o=t.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequence.collapsableItems,s=o.byId[Ry.forSheet()].isCollapsed,u=null!=(n=(0,uC.valueDerivation)(s).getValue())&&n,l={type:"sheet",isCollapsed:u,sheet:e,children:[],sheetItemKey:Ry.forSheet(),shouldRender:r,top:aC,depth:0,n:a,nodeHeight:lC,heightIncludingChildren:-1};a+=1;for(var c=0,d=Object.values((0,uC.val)(e.objectsP));c<d.length;c++){var f=d[c];f&&p(f,l.children,l.depth+1,!u)}function p(e,t,n,r){var s,u=(0,uC.val)(e.template.getMapOfValidSequenceTracks_forStudio()),l=(0,uC.val)(e.template.configPointer);if(0!==Object.keys(u).length){var c=o.byId[Ry.forSheetObject(e)].isCollapsed,d=null!=(s=(0,uC.valueDerivation)(c).getValue())&&s,f={type:"sheetObject",isCollapsed:d,sheetItemKey:Ry.forSheetObject(e),shouldRender:r,top:i,children:[],depth:n,n:a,sheetObject:e,nodeHeight:r?lC:0,heightIncludingChildren:-1};t.push(f),r&&(a+=1,i+=f.nodeHeight),h(e,u,[],l,f.children,n+1,r&&!d),f.heightIncludingChildren=i-f.top}}function h(e,t,n,r,i,a,o){for(var s=0,u=Object.entries(t);s<u.length;s++){var l=oi(u[s],2),c=l[0],d=l[1],f=r.props[c];v(e,d,[].concat(si(n),[c]),f,i,a,o)}}function v(e,t,n,r,s,u,l){if("compound"===r.type)!function(e,t,n,r,s,u,l,c){var d,f=o.byId[Ry.forSheetObjectProp(e,r)].isCollapsed,p=null!=(d=(0,uC.valueDerivation)(f).getValue())&&d,v={type:"propWithChildren",isCollapsed:p,propConf:n,pathToProp:r,sheetItemKey:Ry.forSheetObjectProp(e,r),sheetObject:e,shouldRender:c,top:i,children:[],nodeHeight:c?lC:0,heightIncludingChildren:-1,depth:l,trackMapping:t,n:a};u.push(v),c&&(i+=v.nodeHeight,a+=1);h(e,t,r,s,v.children,l+1,c&&!p),v.heightIncludingChildren=i-v.top}(e,t,r,n,r,s,u,l);else if("enum"===r.type)Va.warn("Prop type enum is not yet supported in the sequence editor");else{!function(e,t,n,r,o,s,u){var l={type:"primitiveProp",propConf:r,depth:s,sheetItemKey:Ry.forSheetObjectProp(e,n),sheetObject:e,pathToProp:n,shouldRender:u,top:i,nodeHeight:u?lC:0,heightIncludingChildren:u?lC:0,trackId:t,n:a};o.push(l),a+=1,i+=l.nodeHeight}(e,t,n,r,s,u,l)}}return l.heightIncludingChildren=i-l.top,l}}});function gC(e,t){var n=Ii(),r=n.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId],i=n.atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId];return(0,dC.prism)((function(){var a,o,s,u,l=(o="tree",s=function(){return cC(e,n)},u=[],$T.prism.memo(o,(function(){return(0,$T.prism)(s)}),u).getValue()),c=(0,dC.val)(t),d=(0,dC.val)(n.atomP.historic.panels.sequenceEditor.graphEditor),f=(0,dC.val)(i.sequenceEditor.selectedPropsByObject),p=!!f&&Object.keys(f).length>0,h=dC.prism.memo("leftDims",(function(){var e,t={width:Math.floor(c.width*fC),height:c.height,screenX:c.screenX,screenY:c.screenY},n={width:c.width-t.width,height:c.height,screenX:c.screenX+t.width,screenY:c.screenY},r=p&&!0===(null==d?void 0:d.isOpen),i=Math.floor((r?hp(null!=(e=null==d?void 0:d.height)?e:.5,.1,.7):0)*c.heightWithoutBorder),a=0+i,o=c.height-a,s={width:c.width,height:o,screenX:c.screenX,screenY:c.screenY};return{leftDims:t,rightDims:n,graphEditorDims:{isAvailable:p,isOpen:r,width:n.width,height:i,screenX:c.screenX,screenY:c.screenY+o,padding:{top:20,bottom:20}},dopeSheetDims:s,horizontalScrollbarDims:{bottom:0}}}),[c,d,p]),v=h.leftDims,m=h.rightDims,g=h.graphEditorDims,y=h.dopeSheetDims,b=h.horizontalScrollbarDims,x=dC.prism.memo("graphEditorVerticalSpace",(function(){var e=g.height-g.padding.top-g.padding.bottom;return{space:e,fromExtremumSpace:function(t){return t*e},toExtremumSpace:function(t){return t/e}}}),[g]),w=dC.prism.state("isSeeking",!1),_=oi(w,2),S={isSeeking:_[0],setIsSeeking:_[1]},k=null!=(a=(0,dC.val)(r.sequence.clippedSpaceRange))?a:pC,E=dC.prism.memo("scaledSpace",(function(){var e=k.end-k.start,t=m.width,n=e/t,r=t/e;return{fromUnitSpace:function(e){return e*r},toUnitSpace:function(e){return e*n},leftPadding:10}}),[k,m.width]),M=dC.prism.memo("setClippedSpaceRange",(function(){return function(t){n.transaction((function(n){var r=n.stateEditors,i=wi({},t);if(i.end<=i.start&&(i.end=i.start+1),i.start<0){var a=i.end-i.start;i.start=0,i.end=a}r.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(_i(wi({},e.address),{range:i}))}))}}),[]),P=dC.prism.memo("clippedSpace",(function(){return{range:k,width:m.width,fromUnitSpace:function(e){return E.fromUnitSpace(e-k.start)+E.leftPadding},toUnitSpace:function(e){return E.toUnitSpace(e-E.leftPadding)+k.start},setRange:M}}),[k,m.width,E,M]),T=dC.prism.memo("selection.current",(function(){return new dC.Atom({})}),[]);return __("finalAtom",{sheet:e,tree:l,panelDims:c,leftDims:v,rightDims:m,dopeSheetDims:y,horizontalScrollbarDims:b,seeker:S,unitSpace:{},scaledSpace:E,clippedSpace:P,graphEditorDims:g,graphEditorVerticalSpace:x,selectionAtom:T}).pointer}))}var yC,bC,xC,wC,_C,SC,kC,EC=Ei({"studio/src/panels/SequenceEditorPanel/layout/layout.ts":function(){Fi(),hC(),k_(),dC=Ti(n(2114)),mC(),Py(),fC=.2,pC={start:0,end:10}}});function MC(e){var t=e.fullSecondStampsContainer,n=e.sequencePositionFormatter,r=e.snapToGrid,i=e.unitSpaceToClippedSpace,a="";AT(e,(function(e,t){var o=r(e),s=i(o);a+=t?PC(n.formatFullUnitForGrid(o),s,"full-unit"):PC(n.formatSubUnitForGrid(o),s,"sub-unit")})),t.innerHTML=a}function PC(e,t,n){return'<span class="'.concat(n,'" style="transform: translate3d(').concat(t.toFixed(1),'px, -50%, 0);">').concat(e,"</span>")}var TC,CC,AC,IC,RC,OC,DC,LC,jC,NC,zC,FC,BC,UC,VC,HC,WC,GC=Ei({"studio/src/panels/SequenceEditorPanel/FrameGrid/StampsGrid.tsx":function(){yC=Ti(n(2114)),DS(),bC=Ti(nb()),hw(),VT(),HT(),xC=Cx.div(G||(G=ai(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  pointer-events: none;\n"]))),wC={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return rS(.2,wC.fullUnitStampColor)}},_C=Cx.div(q||(q=ai(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  left: 0;\n  overflow: hidden;\n  z-index: 2;\n  will-change: transform;\n  pointer-events: none;\n"]))),SC=Cx.div(K||(K=ai(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  & > span {\n    position: absolute;\n    display: block;\n    top: 9px;\n    left: -10px;\n    color: ",";\n    text-align: center;\n    font-size: ",";\n    width: 20px;\n\n    &.full-unit {\n      color: ",";\n    }\n\n    &.sub-unit {\n      color: ",";\n    }\n  }\n\n  pointer-events: none;\n"])),wC.fullUnitStampColor,wC.stampFontSize,wC.fullUnitStampColor,wC.subUnitStampColor),kC=function(e){var t=e.layoutP,n=e.width,r=(0,bC.useRef)(null),i=(0,bC.useState)(null),a=oi(i,2),o=a[0],s=a[1];return(0,bC.useLayoutEffect)((function(){if(o)return(0,yC.prism)((function(){var e=(0,yC.val)(t.sheet).getSequence();return{fullSecondStampsContainer:o,clippedSpaceRange:(0,yC.val)(t.clippedSpace.range),clippedSpaceWidth:(0,yC.val)(t.clippedSpace.width),unitSpaceToClippedSpace:(0,yC.val)(t.clippedSpace.fromUnitSpace),leftPadding:(0,yC.val)(t.scaledSpace.leftPadding),fps:e.subUnitsPerUnit,sequencePositionFormatter:e.positionFormatter,snapToGrid:function(t){return e.closestGridPosition(t)}}})).tapImmediate(OT,MC)}),[o,n,t]),bC.default.createElement(xC,{ref:r,style:{width:n+"px"}},bC.default.createElement(_C,{style:{width:n+"px"}},bC.default.createElement(SC,{ref:s})))}}}),qC=Ei({"studio/src/utils/mousePositionD.ts":function(){TC=Ti(n(2114)),CC=(0,TC.prism)((function(){var e=TC.prism.state("pos",null),t=oi(e,2),n=t[0],r=t[1];return TC.prism.effect("setupListeners",(function(){var e=function(e){r(e)};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}}),[]),n})),AC=CC}}),KC=Ei({"studio/src/panels/SequenceEditorPanel/FrameStampPositionProvider.tsx":function(){var e;IC=Ti(n(2114)),qC(),Py(),RC=Ti(nb()),(e=OC||(OC={}))[e.hidden=0]="hidden",e[e.locked=1]="locked",e[e.snapped=2]="snapped",e[e.free=3]="free",DC=(0,RC.createContext)(null),LC=0,jC=function(e){var t=e.children,n=e.layoutP,r=(0,RC.useMemo)((function(){return new IC.Atom({list:[]})}),[]),i={currentD:(0,RC.useMemo)((function(){return(0,IC.prism)((function(){var e=IC.prism.memo("p",(function(){return VC(n)}),[n]).getValue(),t=(0,IC.val)(r.pointer.list);return t.length>0?Ui(t).position:e}))}),[n]),getLock:(0,RC.useCallback)((function(){var e=LC++;r.reduceState(["list"],(function(t){return[].concat(si(t),[{id:e,position:[-1,0]}])}));return{set:function(t){r.reduceState(["list"],(function(n){var r=n.findIndex((function(t){return t.id===e}));if(-1===r)return console.warn("Lock is already freed. This is a bug."),n;var i=si(n);return i.splice(r,1,{id:e,position:[t,-1===t?0:1]}),i}))},unlock:function(){r.reduceState(["list"],(function(t){return t.filter((function(t){return t.id!==e}))}))}}}),[])};return RC.default.createElement(DC.Provider,{value:i},t)},NC=function(){return(0,RC.useContext)(DC).currentD},zC=function(){var e=(0,RC.useContext)(DC).getLock,t=(0,RC.useRef)();return(0,RC.useLayoutEffect)((function(){return function(){var e;null==(e=t.current)||e.unlock()}}),[]),(0,RC.useMemo)((function(){var n=void 0;return function(r,i){var a,o;(null==n?void 0:n.shouldLock)!==r&&(r?t.current=e():null==(a=t.current)||a.unlock()),(null==n?void 0:n.pos)!==i&&r&&(null==(o=t.current)||o.set(i)),n={shouldLock:r,pos:i}}}),[e])},FC=function(e,t){var n=(0,RC.useContext)(DC).getLock,r=(0,RC.useRef)();(0,RC.useLayoutEffect)((function(){if(e)return r.current=n(),function(){r.current.unlock()}}),[e,n]),(0,RC.useLayoutEffect)((function(){e&&r.current.set(t)}),[t,e])},BC=function(e){return ii({},UC,"hide"===e?e:e.toFixed(3))},UC="data-theatre-lock-framestamp-to",VC=function(e){return(0,IC.prism)((function(){var t=(0,IC.val)(e.rightDims),n=(0,IC.val)(e.clippedSpace.toUnitSpace),r=(0,IC.val)(AC);if(!r)return[-1,0];var i,a=ui(r.composedPath());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(!(o instanceof HTMLElement||o instanceof SVGElement))break;if(o.hasAttribute(UC)){var s=o.getAttribute(UC);if("string"!==typeof s)continue;if("hide"===s)return[-1,0];var u=parseFloat(s);if(isFinite(u)&&u>=0)return[u,2]}}}catch(v){a.e(v)}finally{a.f()}var l=r.clientX,c=r.clientY,d=t.screenX,f=t.screenY,p=t.width,h=t.height;return xg(l,d,d+p)&&xg(c,f+16,f+h)?[n(l-d),3]:[-1,0]}))},HC=jC}});function XC(){var e=(0,WC.useState)(!1),t=oi(e,2),n=t[0],r=t[1];return[n,(0,WC.useMemo)((function(){var e=new Set;return function(){var t=function t(){e.delete(t),r(e.size>0)};return e.add(t),r(!0),t}}),[])]}var YC,$C,ZC,QC,JC,eA,tA,nA=Ei({"studio/src/uiComponents/useLockSet.ts":function(){WC=Ti(nb())}}),rA=Ei({"../node_modules/react-use/esm/useEffectOnce.js":function(){YC=Ti(nb()),$C=function(e){(0,YC.useEffect)(e,[])}}}),iA=Ei({"../node_modules/react-use/esm/useUnmount.js":function(){ZC=Ti(nb()),rA(),QC=function(e){var t=(0,ZC.useRef)(e);t.current=e,$C((function(){return function(){return t.current()}}))}}}),aA=Ei({"../node_modules/react-use/esm/useRafState.js":function(){JC=Ti(nb()),iA(),eA=function(e){var t=(0,JC.useRef)(0),n=(0,JC.useState)(e),r=n[0],i=n[1],a=(0,JC.useCallback)((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){i(e)}))}),[]);return QC((function(){cancelAnimationFrame(t.current)})),[r,a]}}});var oA,sA,uA,lA,cA,dA,fA,pA,hA,vA,mA=Ei({"../node_modules/react-use/esm/misc/util.js":function(){tA="undefined"!==typeof window}}),gA=Ei({"../node_modules/react-use/esm/useWindowSize.js":function(){oA=Ti(nb()),aA(),mA(),sA=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var n=eA({width:tA?window.innerWidth:e,height:tA?window.innerHeight:t}),r=n[0],i=n[1];return(0,oA.useEffect)((function(){if(tA){var e=function(){i({width:window.innerWidth,height:window.innerHeight})};return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(window,"resize",e),function(){!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(window,"resize",e)}}}),[]),r},uA=sA}}),yA=Ei({"studio/src/panels/BasePanel/BasePanel.tsx":function(){lA=Ti(n(2114)),fb(),Fi(),nA(),cA=Ti(nb()),gA(),dA=function(e,t){var n=e.left/t.width,r=(e.left+e.width)/t.width,i=e.top/t.height,a=(e.height+e.top)/t.height;return{edges:{left:n<=.5?{from:"screenLeft",distance:n}:{from:"screenRight",distance:1-n},right:r<=.5?{from:"screenLeft",distance:r}:{from:"screenRight",distance:1-r},top:i<=.5?{from:"screenTop",distance:i}:{from:"screenBottom",distance:1-i},bottom:a<=.5?{from:"screenTop",distance:a}:{from:"screenBottom",distance:1-a}}}},fA=cA.default.createContext(null),pA=function(){return(0,cA.useContext)(fA)},hA=function(e){var t=e.panelId,n=e.children,r=e.defaultPosition,i=e.minDims,a=uA(800,200),o=XC(),s=oi(o,2),u=s[0],l=s[1],c=lb((function(){var e,n=(null!=(e=(0,lA.val)(Ii().atomP.historic.panelPositions[t]))?e:r).edges,o=Math.floor(a.width*("screenLeft"===n.left.from?n.left.distance:1-n.left.distance)),s=Math.floor(a.width*("screenLeft"===n.right.from?n.right.distance:1-n.right.distance)),c=Math.floor(a.height*("screenTop"===n.top.from?n.top.distance:1-n.top.distance)),d=Math.floor(a.height*("screenTop"===n.bottom.from?n.bottom.distance:1-n.bottom.distance)),f=Math.max(s-o,i.width),p=Math.max(d-c,i.height);return{stuff:{dims:lA.prism.memo("dims",(function(){return{width:f,left:o,top:c,height:p}}),[f,o,c,p]),panelId:t,minDims:i,boundsHighlighted:u,addBoundsHighlightLock:l}}}),[t,a,u,l]).stuff;return cA.default.createElement(fA.Provider,{value:c},n)}}});var bA,xA=Ei({"studio/src/uiComponents/useHoverWithoutDescendants.ts":function(){vA=Ti(nb())}});function wA(e){var t=(0,bA.useState)(null),n=oi(t,2),r=n[0],i=n[1];return(0,bA.useLayoutEffect)((function(){return e&&i(e.getBoundingClientRect()),function(){i(null)}}),[e]),r}var _A,SA,kA,EA,MA,PA,TA=Ei({"studio/src/uiComponents/useBoundingClientRect.ts":function(){bA=Ti(nb())}}),CA=Mi({"../node_modules/polished/lib/internalHelpers/_curry.js":function(e,t){"use strict";function n(e,t,r){return function(){var i=r.concat(Array.prototype.slice.call(arguments));return i.length>=t?e.apply(this,i):n(e,t,i)}}e.__esModule=!0,e.default=function(e){return n(e,e.length,[])},t.exports=e.default}}),AA=Mi({"../node_modules/polished/lib/internalHelpers/_guard.js":function(e,t){"use strict";e.__esModule=!0,e.default=void 0;var n=function(e,t,n){return Math.max(e,Math.min(t,n))};e.default=n,t.exports=e.default}}),IA=Mi({"../node_modules/polished/lib/internalHelpers/_hslToRgb.js":function(e,t){"use strict";function n(e){return Math.round(255*e)}function r(e,t,r){return n(e)+","+n(t)+","+n(r)}e.__esModule=!0,e.default=void 0;var i=function(e,t,n,i){if(void 0===i&&(i=r),0===t)return i(n,n,n);var a=(e%360+360)%360/60,o=(1-Math.abs(2*n-1))*t,s=o*(1-Math.abs(a%2-1)),u=0,l=0,c=0;a>=0&&a<1?(u=o,l=s):a>=1&&a<2?(u=s,l=o):a>=2&&a<3?(l=o,c=s):a>=3&&a<4?(l=s,c=o):a>=4&&a<5?(u=s,c=o):a>=5&&a<6&&(u=o,c=s);var d=n-o/2;return i(u+d,l+d,c+d)};e.default=i,t.exports=e.default}}),RA=Mi({"../node_modules/polished/lib/internalHelpers/_nameToHex.js":function(e,t){"use strict";e.__esModule=!0,e.default=void 0;var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var r=function(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return n[t]?"#"+n[t]:e};e.default=r,t.exports=e.default}}),OA=Mi({"../node_modules/polished/lib/internalHelpers/_errors.js":function(e,t){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){var t="function"===typeof Map?new Map:void 0;return r=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return i(e,arguments,s(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)},r(e)}function i(e,t,n){return(i=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e.__esModule=!0,e.default=void 0;var u={1:"Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\n\n",2:"Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\n\n",3:"Passed an incorrect argument to a color function, please pass a string representation of a color.\n\n",4:"Couldn't generate valid rgb string from %s, it returned %s.\n\n",5:"Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\n\n",6:"Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\n\n",7:"Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\n\n",8:"Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\n\n",9:"Please provide a number of steps to the modularScale helper.\n\n",10:"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",11:'Invalid value passed as base to modularScale, expected number or em string but got "%s"\n\n',12:'Expected a string ending in "px" or a number passed as the first argument to %s(), got "%s" instead.\n\n',13:'Expected a string ending in "px" or a number passed as the second argument to %s(), got "%s" instead.\n\n',14:'Passed invalid pixel value ("%s") to %s(), please pass a value like "12px" or 12.\n\n',15:'Passed invalid base value ("%s") to %s(), please pass a value like "12px" or 12.\n\n',16:"You must provide a template to this method.\n\n",17:"You passed an unsupported selector state to this method.\n\n",18:"minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",19:"fromSize and toSize must be provided as stringified numbers with the same units.\n\n",20:"expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",21:"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\n\n",22:"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\n\n",23:"fontFace expects a name of a font-family.\n\n",24:"fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",25:"fontFace expects localFonts to be an array.\n\n",26:"fontFace expects fileFormats to be an array.\n\n",27:"radialGradient requries at least 2 color-stops to properly render.\n\n",28:"Please supply a filename to retinaImage() as the first argument.\n\n",29:"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",30:"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",31:"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\n\n",32:"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\n\n",33:"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\n\n",34:"borderRadius expects a radius value as a string or number as the second argument.\n\n",35:'borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.\n\n',36:"Property must be a string value.\n\n",37:"Syntax Error at %s.\n\n",38:"Formula contains a function that needs parentheses at %s.\n\n",39:"Formula is missing closing parenthesis at %s.\n\n",40:"Formula has too many closing parentheses at %s.\n\n",41:"All values in a formula must have the same unit or be unitless.\n\n",42:"Please provide a number of steps to the modularScale helper.\n\n",43:"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",44:"Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\n\n",45:"Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\n\n",46:"Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\n\n",47:"minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",48:"fromSize and toSize must be provided as stringified numbers with the same units.\n\n",49:"Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",50:"Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\n\n",51:"Expects the first argument object to have the properties prop, fromSize, and toSize.\n\n",52:"fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",53:"fontFace expects localFonts to be an array.\n\n",54:"fontFace expects fileFormats to be an array.\n\n",55:"fontFace expects a name of a font-family.\n\n",56:"linearGradient requries at least 2 color-stops to properly render.\n\n",57:"radialGradient requries at least 2 color-stops to properly render.\n\n",58:"Please supply a filename to retinaImage() as the first argument.\n\n",59:"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",60:"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",61:"Property must be a string value.\n\n",62:"borderRadius expects a radius value as a string or number as the second argument.\n\n",63:'borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.\n\n',64:"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\n\n",65:"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\n\n",66:"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\n\n",67:"You must provide a template to this method.\n\n",68:"You passed an unsupported selector state to this method.\n\n",69:'Expected a string ending in "px" or a number passed as the first argument to %s(), got %s instead.\n\n',70:'Expected a string ending in "px" or a number passed as the second argument to %s(), got %s instead.\n\n',71:'Passed invalid pixel value %s to %s(), please pass a value like "12px" or 12.\n\n',72:'Passed invalid base value %s to %s(), please pass a value like "12px" or 12.\n\n',73:"Please provide a valid CSS variable.\n\n",74:"CSS variable not found and no default was provided.\n\n",75:"important requires a valid style object, got a %s instead.\n\n",76:"fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.\n\n",77:'remToPx expects a value in "rem" but you provided it in "%s".\n\n',78:'base must be set in "px" or "%" but you set it in "%s".\n'};function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0],a=[];for(r=1;r<t.length;r+=1)a.push(t[r]);return a.forEach((function(e){i=i.replace(/%[a-z]/,e)})),i}var c=function(e){var t,r;function i(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return n(e.call(this,l.apply(void 0,[u[t]].concat(i)))||this)}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,o(t,r),i}(r(Error));e.default=c,t.exports=e.default}}),DA=Mi({"../node_modules/polished/lib/color/parseToRgb.js":function(e,t){"use strict";e.__esModule=!0,e.default=function(e){if("string"!==typeof e)throw new i.default(3);var t=(0,r.default)(e);if(t.match(o))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(s)){var a=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:a}}if(t.match(u))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(l)){var h=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:h}}var v=c.exec(t);if(v)return{red:parseInt(""+v[1],10),green:parseInt(""+v[2],10),blue:parseInt(""+v[3],10)};var m=d.exec(t.substring(0,50));if(m)return{red:parseInt(""+m[1],10),green:parseInt(""+m[2],10),blue:parseInt(""+m[3],10),alpha:parseFloat(""+m[4])};var g=f.exec(t);if(g){var y=parseInt(""+g[1],10),b=parseInt(""+g[2],10)/100,x=parseInt(""+g[3],10)/100,w="rgb("+(0,n.default)(y,b,x)+")",_=c.exec(w);if(!_)throw new i.default(4,t,w);return{red:parseInt(""+_[1],10),green:parseInt(""+_[2],10),blue:parseInt(""+_[3],10)}}var S=p.exec(t.substring(0,50));if(S){var k=parseInt(""+S[1],10),E=parseInt(""+S[2],10)/100,M=parseInt(""+S[3],10)/100,P="rgb("+(0,n.default)(k,E,M)+")",T=c.exec(P);if(!T)throw new i.default(4,t,P);return{red:parseInt(""+T[1],10),green:parseInt(""+T[2],10),blue:parseInt(""+T[3],10),alpha:parseFloat(""+S[4])}}throw new i.default(5)};var n=a(IA()),r=a(RA()),i=a(OA());function a(e){return e&&e.__esModule?e:{default:e}}var o=/^#[a-fA-F0-9]{6}$/,s=/^#[a-fA-F0-9]{8}$/,u=/^#[a-fA-F0-9]{3}$/,l=/^#[a-fA-F0-9]{4}$/,c=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,d=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,f=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,p=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;t.exports=e.default}}),LA=Mi({"../node_modules/polished/lib/internalHelpers/_reduceHexValue.js":function(e,t){"use strict";e.__esModule=!0,e.default=void 0;var n=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};e.default=n,t.exports=e.default}}),jA=Mi({"../node_modules/polished/lib/internalHelpers/_numberToHex.js":function(e,t){"use strict";e.__esModule=!0,e.default=void 0;var n=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};e.default=n,t.exports=e.default}}),NA=Mi({"../node_modules/polished/lib/color/rgb.js":function(e,t){"use strict";e.__esModule=!0,e.default=function(e,t,a){if("number"===typeof e&&"number"===typeof t&&"number"===typeof a)return(0,n.default)("#"+(0,r.default)(e)+(0,r.default)(t)+(0,r.default)(a));if("object"===typeof e&&void 0===t&&void 0===a)return(0,n.default)("#"+(0,r.default)(e.red)+(0,r.default)(e.green)+(0,r.default)(e.blue));throw new i.default(6)};var n=a(LA()),r=a(jA()),i=a(OA());function a(e){return e&&e.__esModule?e:{default:e}}t.exports=e.default}}),zA=Mi({"../node_modules/polished/lib/color/rgba.js":function(e,t){"use strict";e.__esModule=!0,e.default=function(e,t,a,o){if("string"===typeof e&&"number"===typeof t){var s=(0,n.default)(e);return"rgba("+s.red+","+s.green+","+s.blue+","+t+")"}if("number"===typeof e&&"number"===typeof t&&"number"===typeof a&&"number"===typeof o)return o>=1?(0,r.default)(e,t,a):"rgba("+e+","+t+","+a+","+o+")";if("object"===typeof e&&void 0===t&&void 0===a&&void 0===o)return e.alpha>=1?(0,r.default)(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new i.default(7)};var n=a(DA()),r=a(NA()),i=a(OA());function a(e){return e&&e.__esModule?e:{default:e}}t.exports=e.default}}),FA=Mi({"../node_modules/polished/lib/color/transparentize.js":function(e,t){"use strict";e.__esModule=!0,e.default=void 0;var n=o(CA()),r=o(AA()),i=o(zA()),a=o(DA());function o(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if("transparent"===t)return t;var n=(0,a.default)(t),o="number"===typeof n.alpha?n.alpha:1,u=s({},n,{alpha:(0,r.default)(0,1,+(100*o-100*parseFloat(e)).toFixed(2)/100)});return(0,i.default)(u)}var l=(0,n.default)(u);e.default=l,t.exports=e.default}}),BA=Ei({"studio/src/uiComponents/simpleContextMenu/ContextMenu/Item.tsx":function(){Tw(),_A=Ti(nb()),hw(),SA=26,kA=Cx.li(X||(X=ai(["\n  height: ","px;\n  padding: 0 12px;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  font-size: 11px;\n  font-weight: 400;\n  position: relative;\n  color: ",";\n  cursor: ",";\n\n  &:after {\n    position: absolute;\n    inset: 2px 1px;\n    display: block;\n    content: ' ';\n    pointer-events: none;\n    z-index: -1;\n    border-radius: 3px;\n  }\n\n  &:hover:after {\n    background-color: ",";\n  }\n"])),SA,(function(e){return e.enabled?"white":"#8f8f8f"}),(function(e){return e.enabled?"normal":"not-allowed"}),(function(e){return e.enabled?"rgba(63, 174, 191, 0.75)":"initial"})),EA=Cx.span(Y||(Y=ai([""]))),MA=function(e){return _A.default.createElement(kA,{onClick:e.enabled?e.onClick:kw,enabled:e.enabled,title:e.enabled?void 0:"Disabled"},_A.default.createElement(EA,null,e.label))}}});var UA,VA,HA,WA,GA,qA,KA,XA,YA,$A,ZA,QA,JA,eI,tI,nI,rI=Ei({"studio/src/uiComponents/useOnKeyDown.ts":function(){PA=Ti(nb())}}),iI=Ei({"studio/src/uiComponents/simpleContextMenu/ContextMenu/ContextMenu.tsx":function(){tM(),TA(),UA=Ti(FA()),VA=Ti(nb()),HA=Ti(nb()),WA=Ti(nb()),GA=Ti(ub()),gA(),hw(),BA(),XE(),rI(),190,20,!0,qA=Cx.ul($||($=ai(["\n  position: absolute;\n  min-width: ","px;\n  z-index: 10000;\n  background: ",";\n  backdrop-filter: blur(2px);\n  color: white;\n  list-style-type: none;\n  padding: 2px 0;\n  margin: 0;\n  border-radius: 1px;\n  cursor: default;\n  ",";\n  border-radius: 3px;\n"])),190,(0,UA.default)(.2,"#111"),BE),KA=Cx.div(Z||(Z=ai(["\n  padding: 4px 10px;\n  border-bottom: 1px solid #6262626d;\n  color: #adadadb3;\n  font-size: 11px;\n  font-weight: 500;\n"]))),XA=function(e){var t=(0,WA.useState)(null),n=oi(t,2),r=n[0],i=n[1],a=wA(r),o=uA();(0,WA.useLayoutEffect)((function(){if(a&&r){var t=a.width/2,n=SA/2+(e.displayName?SA:0),i={left:e.clickPoint.clientX-t,top:e.clickPoint.clientY-n};i.left<0?i.left=0:i.left+a.width>o.width&&(i.left=o.width-a.width),i.top<0?i.top=0:i.top+a.height>o.height&&(i.top=o.height-a.height),r.style.left=i.left+"px",r.style.top=i.top+"px";var s=function(t){(t.clientX<i.left-20||t.clientX>i.left+a.width+20||t.clientY<i.top-20||t.clientY>i.top+a.height+20)&&e.onRequestClose()};return window.addEventListener("mousemove",s),function(){window.removeEventListener("mousemove",s)}}}),[a,r,e.clickPoint,o,e.onRequestClose]);var s=(0,HA.useContext)(IE);!function(e){var t=(0,PA.useRef)(e);t.current=e,(0,PA.useEffect)((function(){var e=function(e){return t.current(e)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[])}((function(t){"Escape"===t.key&&e.onRequestClose()}));var u=(0,VA.useMemo)((function(){var t=Array.isArray(e.items)?e.items:e.items();return t.length>0?t:[{label:e.displayName?"No actions for ".concat(e.displayName):"No actions found",enabled:!1}]}),[e.items]);return(0,GA.createPortal)(WA.default.createElement(qA,{ref:i},e.displayName?WA.default.createElement(KA,null,e.displayName):null,u.map((function(t,n){return WA.default.createElement(MA,{key:"item-".concat(n),label:t.label,enabled:!1!==t.enabled,onClick:function(n){t.callback&&t.callback(n),e.onRequestClose()}})}))),s)},YA=XA}}),aI=Ei({"studio/src/uiComponents/simpleContextMenu/useRequestContextMenu.ts":function(){$A=Ti(nb()),ZA=function(e,t){var n=(0,$A.useState)({isOpen:!1}),r=oi(n,2),i=r[0],a=r[1],o=(0,$A.useCallback)((function(){return a({isOpen:!1})}),[]);return(0,$A.useEffect)((function(){if(e&&!0!==t.disabled){var n=function(e){a({isOpen:!0,event:e}),e.preventDefault(),e.stopPropagation()};return e.addEventListener("contextmenu",n),function(){e.removeEventListener("contextmenu",n)}}a({isOpen:!1})}),[e,t.disabled]),[i,o]}}}),oI=Ei({"studio/src/uiComponents/form/BasicCheckbox.tsx":function(){hw(),QA=Cx.input.attrs({type:"checkbox"})(Q||(Q=ai(["\n  outline: none;\n"]))),JA=QA}});function sI(e){var t=e.propConfig,n=e.editingTools,r=e.value,i=e.autoFocus,a=(0,eI.useCallback)((function(e){n.permanentlySetValue(Boolean(e.target.checked))}),[t,n]);return eI.default.createElement(tI,{checked:r,onChange:a,autoFocus:i})}var uI,lI=Ei({"studio/src/propEditors/simpleEditors/BooleanPropEditor.tsx":function(){eI=Ti(nb()),hw(),oI(),tI=Cx(JA)(J||(J=ai(["\n  margin-left: 6px;\n\n  :focus {\n    outline: 1px solid #555;\n  }\n"]))),nI=sI}});function cI(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}var dI,fI=Ei({"../node_modules/react-merge-refs/dist/react-merge-refs.esm.js":function(){uI=cI}});function pI(e,t,n){(0,dI.useEffect)((function(){if(e&&!1!==n){var r=Array.isArray(e)?e.filter((function(e){return e})):[e],i=function(e){r.every((function(t){return!e.composedPath().includes(t)}))&&t(e)};return window.addEventListener("mousedown",i,{capture:!0,passive:!1}),function(){window.removeEventListener("mousedown",i,{capture:!0,passive:!1})}}}),[e,n])}var hI,vI,mI,gI,yI,bI,xI,wI,_I=Ei({"studio/src/uiComponents/useOnClickOutside.ts":function(){dI=Ti(nb())}});var SI,kI,EI=Ei({"studio/src/uiComponents/form/BasicNumberInput.tsx":function(){Py(),hI=Ti(nb()),vI=Ti(nb()),hw(),fI(),Lw(),_I(),zw(),mI=Cx.div(ee||(ee=ai(["\n  height: 100%;\n  width: 100%;\n  position: relative;\n  z-index: 0;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n\n  &:after {\n    position: absolute;\n    inset: 1px 0 2px;\n    display: block;\n    content: ' ';\n    background-color: transparent;\n    border: 1px solid transparent;\n    z-index: -2;\n    box-sizing: border-box;\n    border-radius: 1px;\n  }\n\n  &:hover,\n  &.dragging,\n  &.editingViaKeyboard {\n    &:after {\n      background-color: #10101042;\n      border-color: #00000059;\n    }\n  }\n"]))),gI=Cx.input(te||(te=ai(["\n  background: transparent;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.9);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  cursor: ew-resize;\n  text-align: left;\n  width: 100%;\n  height: calc(100% - 4px);\n  border-radius: 2px;\n\n  &:focus {\n    cursor: text;\n  }\n"]))),yI=Cx.div(ne||(ne=ai(["\n  position: absolute;\n  inset: 3px 2px 4px;\n  transform: scale(var(--percentage), 1);\n  transform-origin: top left;\n  background-color: #2d5561;\n  z-index: -1;\n  border-radius: 2px;\n  pointer-events: none;\n\n  ",".dragging &, ",".noFocus:hover & {\n    background-color: #338198;\n  }\n"])),mI,mI),bI=Cx.div(re||(re=ai(["\n  display: contents;\n"]))),xI=function(e){return!0},wI=function(e){var t,n=Aw({mode:"noFocus"}),r=oi(n,1)[0],i=null!=(t=e.isValid)?t:xI,a=(0,vI.useRef)(e);a.current=e;var o=(0,vI.useRef)(null);pI(o.current,(function(){o.current.blur()}),"editingViaKeyboard"===r.current.mode);var s,u=(0,vI.useRef)(null),l=(0,vI.useMemo)((function(){var t,n=function(){var e=r.current,t=parseFloat(e.currentEditedValueInString);isFinite(t)&&i(t)?e.valueBeforeEditing===t?a.current.discardTemporaryValue():a.current.permanentlySetValue(t):a.current.discardTemporaryValue()},s=function(){var e=a.current.value;r.current={mode:"editingViaKeyboard",currentEditedValueInString:String(e),valueBeforeEditing:e},setTimeout((function(){o.current.focus(),o.current.setSelectionRange(0,100)}))};return{inputChange:function(e){var t=e.target.value,n=r.current;r.current=_i(wi({},n),{currentEditedValueInString:t});var o=parseFloat(t);isFinite(o)&&i(o)&&a.current.temporarilySetValue(o)},onBlur:function(){"editingViaKeyboard"===r.current.mode&&(n(),r.current={mode:"noFocus"}),e.onBlur&&e.onBlur()},transitionToDraggingMode:function(){var n,i=a.current.value;t=null==(n=o.current)?void 0:n.getBoundingClientRect().width,r.current={mode:"dragging"};var s=i,l=i;return u.current=document.body.style.cursor,{onDrag:function(n,r,i,o){var s=i.altKey?o/10:o,u=l+e.nudge({deltaX:s,deltaFraction:s/t,magnitude:1});l=e.range?hp(u,e.range[0],e.range[1]):u,a.current.temporarilySetValue(l)},onDragEnd:function(e){e?(s===l?a.current.discardTemporaryValue():a.current.permanentlySetValue(l),r.current={mode:"noFocus"}):(a.current.discardTemporaryValue(),r.current={mode:"noFocus"})},onClick:function(){o.current.focus(),o.current.setSelectionRange(0,100)}}},onInputKeyDown:function(e){"Escape"===e.key?(a.current.discardTemporaryValue(),r.current={mode:"noFocus"},o.current.blur()):"Enter"!==e.key&&"Tab"!==e.key||(n(),o.current.blur())},onClick:function(e){"noFocus"===r.current.mode?(o.current.focus(),e.preventDefault(),e.stopPropagation()):e.stopPropagation()},onFocus:function(){"noFocus"===r.current.mode?s():r.current.mode}}}),[]),c="editingViaKeyboard"!==r.current.mode?(s=e.value,isNaN(s)?"NaN":Sg(s)?s.toFixed(0):sy(s,3).toString()):r.current.currentEditedValueInString;"number"===typeof c&&isNaN(c)&&(c="NaN");var d=[o];e.inputRef&&d.push(e.inputRef);var f=vI.default.createElement(gI,{key:"input",type:"text",onChange:l.inputChange,value:c,onBlur:l.onBlur,onKeyDown:l.onInputKeyDown,onClick:l.onClick,onFocus:l.onFocus,ref:uI(d),onMouseDown:function(e){e.stopPropagation()},onDoubleClick:function(e){e.preventDefault(),e.stopPropagation()},autoFocus:e.autoFocus}),p=e.range,h=parseFloat(c),v=p?vI.default.createElement(yI,{style:{"--percentage":hp((h-p[0])/(p[1]-p[0]),0,1)}}):null,m=(0,hI.useState)(null),g=oi(m,2),y=g[0],b=g[1];return jw(y,{debugName:"form/BasicNumberInput",onDragStart:l.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:"editingViaKeyboard"===r.current.mode}),vI.default.createElement(mI,{className:e.className+" "+r.current.mode},vI.default.createElement(bI,{ref:b},f),v)}}});function MI(e){var t=e.propConfig,n=e.editingTools,r=e.value,i=e.autoFocus,a=(0,SI.useCallback)((function(e){return t.nudgeFn(_i(wi({},e),{config:t}))}),[t]);return SI.default.createElement(wI,{value:r,temporarilySetValue:n.temporarilySetValue,discardTemporaryValue:n.discardTemporaryValue,permanentlySetValue:n.permanentlySetValue,range:t.range,nudge:a,autoFocus:i})}var PI,TI,CI,AI,II,RI=Ei({"studio/src/propEditors/simpleEditors/NumberPropEditor.tsx":function(){EI(),SI=Ti(nb()),kI=MI}});function OI(e){var t=e.value,n=e.onChange,r=e.options,i=e.autoFocus,a=(0,PI.useCallback)((function(e){n(String(e.target.value))}),[n]);return PI.default.createElement(TI,{role:"radiogroup"},Object.keys(r).map((function(e,n){return PI.default.createElement(CI,{key:"label-"+n,"data-checked":t===e},r[e],PI.default.createElement(AI,{type:"radio",checked:t===e,value:e,onChange:a,name:"switchbox",autoFocus:i}))})))}var DI,LI,jI,NI,zI,FI=Ei({"studio/src/uiComponents/form/BasicSwitch.tsx":function(){DS(),PI=Ti(nb()),hw(),TI=Cx.form(ie||(ie=ai(["\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  vertical-align: middle;\n  justify-content: stretch;\n  height: 24px;\n  width: 100%;\n"]))),CI=Cx.label(ae||(ae=ai(["\n  padding: 0 0.5em;\n  background: transparent;\n  /* background: #373748; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n  color: #a7a7a7;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n  border-right-width: 0px;\n\n  & + &:last-child {\n    border-right-width: 1px;\n  }\n\n  ",":hover > & {\n    border-color: #1c2123;\n    /* background-color: #373748; */\n    /* color: ","; */\n  }\n\n  &&:hover {\n    background-color: #464654;\n  }\n\n  &&[data-checked='true'] {\n    color: white;\n    background: #3f3f4c;\n  }\n"])),TI,rS(.1,"white")),AI=Cx.input(oe||(oe=ai(["\n  position: absolute;\n  opacity: 0;\n  pointer-events: none;\n  width: 0;\n  height: 0;\n"]))),II=OI}});function BI(e){var t=e.value,n=e.onChange,r=e.options,i=e.className,a=e.autoFocus,o=(0,DI.useCallback)((function(e){n(String(e.target.value))}),[n]);return DI.default.createElement(LI,null,DI.default.createElement(NI,{className:i,value:t,onChange:o,autoFocus:a},Object.keys(r).map((function(e,t){return DI.default.createElement("option",{key:"option-"+t,value:e},r[e])}))),DI.default.createElement(jI,null,DI.default.createElement(RM,null)))}var UI,VI,HI=Ei({"studio/src/uiComponents/form/BasicSelect.tsx":function(){DI=Ti(nb()),hw(),NM(),LI=Cx.div(se||(se=ai(["\n  width: 100%;\n  position: relative;\n"]))),jI=Cx.div(ue||(ue=ai(["\n  position: absolute;\n  right: 0px;\n  top: 0;\n  bottom: 0;\n  width: 1.5em;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  color: #6b7280;\n  pointer-events: none;\n"]))),NI=Cx.select(le||(le=ai(["\n  appearance: none;\n  background-color: transparent;\n  box-sizing: border-box;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.85);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  text-align: left;\n  width: 100%;\n  border-radius: 2px;\n  /*\n  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.\n  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.\n  */\n  height: 26px /* calc(100% - 4px); */;\n\n  @supports (-moz-appearance: none) {\n    /* Ugly hack to remove the extra left padding that shows up only in Firefox */\n    text-indent: -2px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n"]))),zI=BI}});function WI(e){var t=e.propConfig,n=e.editingTools,r=e.value,i=e.autoFocus,a=(0,UI.useCallback)((function(e){n.permanentlySetValue(e)}),[t,n]);return"menu"===t.as?UI.default.createElement(zI,{value:r,onChange:a,options:t.valuesAndLabels,autoFocus:i}):UI.default.createElement(II,{value:r,onChange:a,options:t.valuesAndLabels,autoFocus:i})}var GI,qI,KI,XI,YI=Ei({"studio/src/propEditors/simpleEditors/StringLiteralPropEditor.tsx":function(){UI=Ti(nb()),FI(),HI(),VI=WI}});var $I,ZI,QI=Ei({"studio/src/uiComponents/form/BasicStringInput.tsx":function(){hw(),GI=Ti(nb()),fI(),Lw(),_I(),qI=Cx.input.attrs({type:"text"})(ce||(ce=ai(["\n  background: transparent;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.9);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  cursor: text;\n  text-align: left;\n  width: 100%;\n  height: calc(100% - 4px);\n  border-radius: 2px;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n\n  &:hover,\n  &:focus {\n    cursor: text;\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n\n  &.invalid {\n    border-color: red;\n  }\n"]))),KI=function(e){return!0},XI=function(e){var t,n,r=Aw({mode:"noFocus"}),i=oi(r,1)[0],a=null!=(t=e.isValid)?t:KI,o=(0,GI.useRef)(e);o.current=e;var s=(0,GI.useRef)(null);pI(s.current,(function(){s.current.blur()}),"editingViaKeyboard"===i.current.mode);var u=(0,GI.useMemo)((function(){var e=function(){var e=i.current,t=e.currentEditedValueInString;a(t)?e.valueBeforeEditing===t?o.current.discardTemporaryValue():o.current.permanentlySetValue(t):o.current.discardTemporaryValue()},t=function(){var e=o.current.value;i.current={mode:"editingViaKeyboard",currentEditedValueInString:String(e),valueBeforeEditing:e},setTimeout((function(){s.current.focus()}))};return{inputChange:function(e){var t=e.target.value,n=i.current;i.current=_i(wi({},n),{currentEditedValueInString:t}),a(t)&&o.current.temporarilySetValue(t)},onBlur:function(){var t,n;"editingViaKeyboard"===i.current.mode&&(e(),i.current={mode:"noFocus"}),null==(n=(t=o.current).onBlur)||n.call(t)},onInputKeyDown:function(t){"Escape"===t.key?(o.current.discardTemporaryValue(),i.current={mode:"noFocus"},s.current.blur()):"Enter"!==t.key&&"Tab"!==t.key||(e(),s.current.blur())},onClick:function(e){"noFocus"===i.current.mode?(s.current.focus(),e.preventDefault(),e.stopPropagation()):e.stopPropagation()},onFocus:function(){"noFocus"===i.current.mode?t():i.current.mode}}}),[]),l="editingViaKeyboard"!==i.current.mode?e.value:i.current.currentEditedValueInString,c=[s];return e.inputRef&&c.push(e.inputRef),GI.default.createElement(qI,{key:"input",type:"text",className:"".concat(null!=(n=e.className)?n:""," ").concat(a(l)?"":"invalid"),onChange:u.inputChange,value:l,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:uI(c),onMouseDown:function(e){e.stopPropagation()},onDoubleClick:function(e){e.preventDefault(),e.stopPropagation()},autoFocus:e.autoFocus})}}});function JI(e){var t=e.editingTools,n=e.value,r=e.autoFocus;return $I.default.createElement(XI,{value:n,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,autoFocus:r})}var eR,tR=Ei({"studio/src/propEditors/simpleEditors/StringPropEditor.tsx":function(){$I=Ti(nb()),QI(),ZI=JI}});function nR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.removeAlphaIfOpaque,r=void 0!==n&&n,i=(255*e.a|256).toString(16).slice(1),a=(255*e.r|256).toString(16).slice(1)+(255*e.g|256).toString(16).slice(1)+(255*e.b|256).toString(16).slice(1)+(r&&"ff"===i?"":i);return"#".concat(a)}function rR(e){return _i(wi({},e),{toString:function(){return nR(this,{removeAlphaIfOpaque:!0})}})}var iR,aR=Ei({"shared/src/utils/color.ts":function(){eR=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i}});function oR(e){var t=(0,iR.useRef)(e),n=(0,iR.useRef)((function(e){t.current&&t.current(e)}));return t.current=e,n.current}var sR,uR,lR,cR,dR,fR,pR,hR,vR,mR,gR,yR,bR,xR,wR,_R,SR,kR,ER,MR,PR,TR,CR,AR,IR,RR,OR,DR,LR,jR,NR,zR,FR,BR,UR,VR,HR,WR,GR,qR,KR,XR,YR,$R=Ei({"studio/src/uiComponents/colorPicker/hooks/useEventCallback.ts":function(){iR=Ti(nb())}}),ZR=Ei({"studio/src/uiComponents/colorPicker/utils/clamp.ts":function(){sR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e>n?n:e<t?t:e}}}),QR=Ei({"studio/src/uiComponents/colorPicker/components/EditingProvider.tsx":function(){uR=Ti(nb()),lR=(0,uR.createContext)(void 0),cR=function(e){var t=e.children,n=(0,uR.useState)(!1),r=oi(n,2),i=r[0],a=r[1];return uR.default.createElement(lR.Provider,{value:{editing:i,setEditing:a}},t)},dR=function(){return(0,uR.useContext)(lR)}}}),JR=Ei({"studio/src/uiComponents/colorPicker/components/common/Interactive.tsx":function(){fR=Ti(nb()),$R(),ZR(),hw(),QR(),pR=function(e){return"touches"in e},hR=function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]},vR=function(e){return e&&e.ownerDocument.defaultView||self},mR=function(e,t,n){var r=e.getBoundingClientRect(),i=pR(t)?hR(t.touches,n):t;return{left:sR((i.pageX-(r.left+vR(e).pageXOffset))/r.width),top:sR((i.pageY-(r.top+vR(e).pageYOffset))/r.height)}},gR=function(e){!pR(e)&&e.preventDefault()},yR=function(e,t){return t&&!pR(e)},bR=Cx.div(de||(de=ai(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: inherit;\n  outline: none;\n  /* Don't trigger the default scrolling behavior when the event is originating from this element */\n  touch-action: none;\n"]))),xR=function(e){var t=e,n=t.onMove,r=t.onKey,i=ki(t,["onMove","onKey"]),a=(0,fR.useRef)(null),o=oR(n),s=oR(r),u=(0,fR.useRef)(null),l=(0,fR.useRef)(!1),c=dR().setEditing,d=(0,fR.useMemo)((function(){var e=function(e){gR(e),(pR(e)?e.touches.length>0:e.buttons>0)&&a.current?o(mR(a.current,e,u.current)):(c(!1),n(!1))},t=function(e){c(!1),n(!1)};function n(n){var r=l.current,i=a.current,o=vR(i),s=n?o.addEventListener:o.removeEventListener;s(r?"touchmove":"mousemove",e),s(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=a.current;if(r&&(gR(t),!yR(t,l.current)&&r)){if(pR(t)){l.current=!0;var i=t.changedTouches||[];i.length&&(u.current=i[0].identifier)}r.focus(),c(!0),o(mR(r,t,u.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[s,o]),f=oi(d,3),p=f[0],h=f[1],v=f[2];return(0,fR.useEffect)((function(){return v}),[v]),fR.default.createElement(bR,_i(wi({},i),{onTouchStart:p,onMouseDown:p,ref:a,onKeyDown:h,tabIndex:0,role:"slider"}))},wR=fR.default.memo(xR)}}),eO=Ei({"studio/src/uiComponents/colorPicker/components/common/Pointer.tsx":function(){_R=Ti(nb()),hw(),JR(),SR=Cx(wR)(fe||(fe=ai([""]))),kR=Cx.div(pe||(pe=ai(["\n  position: absolute;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 16px;\n  height: 16px;\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n  border: 1px solid #ffffff00;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n\n  ",":focus & {\n    transform: translate(-50%, -50%) scale(1.1);\n  }\n"])),SR),ER=Cx.div(he||(he=ai(["\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  border-radius: inherit;\n"]))),MR=function(e){var t=e.className,n=e.color,r=e.left,i=e.top,a={top:"".concat(100*(void 0===i?.5:i),"%"),left:"".concat(100*r,"%")};return _R.default.createElement(kR,{style:a,className:t},_R.default.createElement(ER,{style:{backgroundColor:n}}))}}}),tO=Ei({"studio/src/uiComponents/colorPicker/utils/round.ts":function(){PR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(10,t);return Math.round(n*e)/n}}}),nO=Ei({"studio/src/uiComponents/colorPicker/utils/convert.ts":function(){tO(),{grad:.9,turn:360,rad:360/(2*Math.PI)},TR=function(e){var t=e.h,n=e.s,r=e.v,i=e.a,a=(200-n)*r/100;return{h:PR(t),s:PR(a>0&&a<200?n*r/100/(a<=100?a:200-a)*100:0),l:PR(a/2),a:PR(i,2)}},CR=function(e){var t=TR(e),n=t.h,r=t.s,i=t.l;return"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")},AR=function(e){var t=TR(e),n=t.h,r=t.s,i=t.l,a=t.a;return"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(a,")")},IR=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),u=r*(1-(1-t+a)*n),l=a%6;return{r:PR(255*[r,s,o,o,u,r][l]),g:PR(255*[u,r,r,s,o,o][l]),b:PR(255*[o,o,u,r,r,s][l]),a:PR(i,2)}},RR=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:PR(60*(s<0?s+6:s)),s:PR(a?o/a*100:0),v:PR(a/255*100),a:i}}}}),rO=Ei({"studio/src/uiComponents/colorPicker/components/common/Hue.tsx":function(){OR=Ti(nb()),JR(),eO(),nO(),ZR(),tO(),hw(),DR=Cx.div(ve||(ve=ai(["\n  position: relative;\n  height: 16px;\n  border-radius: 2px;\n\n  background: linear-gradient(\n    to right,\n    #f00 0%,\n    #ff0 17%,\n    #0f0 33%,\n    #0ff 50%,\n    #00f 67%,\n    #f0f 83%,\n    #f00 100%\n  );\n"]))),LR=Cx(MR)(me||(me=ai(["\n  z-index: 2;\n"]))),jR=function(e){var t=e.className,n=e.hue,r=e.onChange;return OR.default.createElement(DR,{className:t},OR.default.createElement(wR,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:sR(n+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":PR(n)},OR.default.createElement(LR,{left:n/360,color:CR({h:n,s:100,v:100,a:1})})))},NR=OR.default.memo(jR)}}),iO=Ei({"studio/src/uiComponents/colorPicker/components/common/Saturation.tsx":function(){zR=Ti(nb()),JR(),eO(),nO(),ZR(),tO(),hw(),FR=Cx.div(ge||(ge=ai(["\n  position: relative;\n  flex-grow: 1;\n  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */\n  border-bottom: 12px solid #000;\n  border-radius: 2px;\n  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),\n    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n\n  // Improve elements rendering on light backgrounds\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n"]))),BR=Cx(MR)(ye||(ye=ai(["\n  z-index: 3;\n"]))),UR=function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:CR({h:t.h,s:100,v:100,a:1})};return zR.default.createElement(FR,{style:r},zR.default.createElement(wR,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:sR(t.s+100*e.left,0,100),v:sR(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation ".concat(PR(t.s),"%, Brightness ").concat(PR(t.v),"%")},zR.default.createElement(BR,{top:1-t.v/100,left:t.s/100,color:CR(t)})))},VR=zR.default.memo(UR)}}),aO=Ei({"studio/src/uiComponents/colorPicker/components/common/Alpha.tsx":function(){HR=Ti(nb()),JR(),eO(),nO(),ZR(),tO(),hw(),WR=Cx.div(be||(be=ai(['\n  position: relative;\n  height: 16px;\n  border-radius: 2px;\n  // Checkerboard\n  background-color: #fff;\n  background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\');\n']))),GR=Cx.div.attrs((function(e){var t=e.colorFrom,n=e.colorTo;return{style:{backgroundImage:"linear-gradient(90deg, ".concat(t,", ").concat(n,")")}}}))(xe||(xe=ai(["\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  border-radius: inherit;\n\n  // Improve rendering on light backgrounds\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n"]))),qR=Cx(MR)(we||(we=ai(['\n  // Checkerboard\n  background-color: #fff;\n  background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\');\n']))),KR=function(e){var t=e.className,n=e.hsva,r=e.onChange,i=AR(Object.assign({},n,{a:0})),a=AR(Object.assign({},n,{a:1}));return HR.default.createElement(WR,{className:t},HR.default.createElement(GR,{colorFrom:i,colorTo:a}),HR.default.createElement(wR,{onMove:function(e){r({a:e.left})},onKey:function(e){r({a:sR(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":"".concat(PR(100*n.a),"%")},HR.default.createElement(qR,{left:n.a,color:AR(n)})))}}}),oO=Ei({"studio/src/uiComponents/colorPicker/utils/compare.ts":function(){XR=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}}});var sO,uO,lO,cO,dO,fO,pO,hO,vO,mO,gO,yO=Ei({"studio/src/uiComponents/colorPicker/hooks/useColorManipulation.ts":function(){YR=Ti(nb()),oO(),$R(),QR()}}),bO=Ei({"studio/src/uiComponents/colorPicker/components/common/AlphaColorPicker.tsx":function(){sO=Ti(nb()),rO(),iO(),aO(),yO(),hw(),uO=Cx.div(_e||(_e=ai(["\n  position: relative;\n  display: flex;\n  gap: 4px;\n  flex-direction: column;\n  width: 200px;\n  height: 200px;\n  user-select: none;\n  cursor: default;\n"]))),lO=function(e){var t=e,n=(t.className,t.colorModel),r=t.color,i=void 0===r?n.defaultColor:r,a=t.temporarilySetValue,o=t.permanentlySetValue,s=t.discardTemporaryValue,u=ki(t,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]),l=function(e,t,n,r){var i=dR().editing,a=(0,YR.useState)(t),o=oi(a,2),s=o[0],u=o[1],l=oR(n),c=oR(r),d=i?s:t,f=(0,YR.useState)((function(){return e.toHsva(d)})),p=oi(f,2),h=p[0],v=p[1],m=(0,YR.useRef)({color:d,hsva:h}),g=(0,YR.useRef)({color:d,hsva:h});(0,YR.useEffect)((function(){i&&u(m.current.color)}),[i]),(0,YR.useEffect)((function(){var t=e.fromHsva(h);i?XR(h,m.current.hsva)||e.equal(t,m.current.color)||(m.current={hsva:h,color:t},u(t),l(t)):XR(h,g.current.hsva)||e.equal(t,g.current.color)||(g.current={hsva:h,color:t},m.current={hsva:h,color:t},c(t))}),[i,h,e,l,c]),(0,YR.useEffect)((function(){if(!i&&!e.equal(d,g.current.color)){var t=e.toHsva(d);g.current={hsva:t,color:d},v(t)}}),[i,d,e]);var y=(0,YR.useCallback)((function(e){v((function(t){return Object.assign({},t,e)}))}),[]);return[h,y]}(n,i,a,o),c=oi(l,2),d=c[0],f=c[1];return(0,sO.useEffect)((function(){return function(){s()}}),[]),sO.default.createElement(uO,wi({},u),sO.default.createElement(VR,{hsva:d,onChange:f}),sO.default.createElement(NR,{hue:d.h,onChange:f}),sO.default.createElement(KR,{hsva:d,onChange:f}))}}}),xO=Ei({"studio/src/uiComponents/colorPicker/components/RgbaColorPicker.tsx":function(){cO=Ti(nb()),bO(),oO(),nO(),QR(),dO=function(e){return{r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}},fO=function(e){return{r:255*e.r,g:255*e.g,b:255*e.b,a:e.a}},pO={defaultColor:{r:0,g:0,b:0,a:1},toHsva:function(e){return RR(fO(e))},fromHsva:function(e){return dO(IR(e))},equal:XR},hO=function(e){return cO.default.createElement(cR,null,cO.default.createElement(lO,_i(wi({},e),{permanentlySetValue:function(t){e.permanentlySetValue(t)},colorModel:pO})))}}}),wO=Ei({"studio/src/uiComponents/colorPicker/index.ts":function(){xO()}}),_O=Ei({"studio/src/uiComponents/Popover/ArrowContext.tsx":function(){vO=Ti(nb()),mO=(0,vO.createContext)({}),gO=mO}});var SO,kO,EO,MO,PO,TO,CO=Ei({"studio/src/uiComponents/onPointerOutside.ts":function(){}}),AO=Ei({"studio/src/uiComponents/Popover/TooltipWrapper.tsx":function(){SO=Ti(nb()),kO=Ti(nb()),gA(),TA(),_O(),Lw(),_I(),CO(),Tw(),Py(),8,EO=function(e){var t,n,r=e.children(),i=Aw(null),a=oi(i,2),o=a[0],s=a[1],u=r.props.style?wi({},r.props.style):{};u.position="absolute";var l=wA(s),c=wA(e.target),d=uA(),f=(0,kO.useState)({}),p=oi(f,2),h=p[0],v=p[1];return(0,kO.useLayoutEffect)((function(){var t,n,r;if(l&&s&&c){var i=null!=(t=e.verticalGap)?t:8,a={},o=null!=(n=e.verticalPlacement)?n:"bottom",u=0,f=0;"bottom"===o?c.bottom+l.height+i<d.height?(o="bottom",u=c.bottom+i,a.top="0px"):c.top>l.height+i?(o="top",u=c.top-(l.height+i),a.bottom="0px",a.transform="rotateZ(180deg)"):o="overlay":"top"===o&&(c.top>l.height+i?(o="top",u=c.top-(l.height+i),a.bottom="0px",a.transform="rotateZ(180deg)"):c.bottom+l.height+i<d.height?(o="bottom",u=c.bottom+i,a.top="0px"):o="overlay");var p=0;if("overlay"!==o){var h=c.left+c.width/2;h<l.width/2?(f=i,p=Math.max(h-i,8)):h+l.width/2>d.width?(f=d.width-(i+l.width),p=Math.min(h-f,l.width-8)):(f=h-l.width/2,p=l.width/2),a.left=p+"px"}var m=null!=(r=e.constraints)?r:{},g=m.minX,y=void 0===g?-1/0:g,b=m.maxX,x=void 0===b?1/0:b,w=m.minY,_=void 0===w?-1/0:w,S=m.maxY,k=void 0===S?1/0:S,E=hp(f,y,x-l.width),M=hp(u,_,k+l.height);return s.style.left=E+"px",s.style.top=M+"px",v(a),e.onPointerOutside?function(e,t,n){var r=e.getBoundingClientRect(),i=function(e){(e.clientX<r.left-t||e.clientX>r.left+r.width+t||e.clientY<r.top-t||e.clientY>r.top+r.height+t)&&n(e)};return window.addEventListener("mousemove",i),function(){window.removeEventListener("mousemove",i)}}(s,e.onPointerOutside.threshold,e.onPointerOutside.callback):void 0}}),[l,s,e.target,c,d,e.onPointerOutside]),pI([s,null!=(t=e.target)?t:null],null!=(n=e.onClickOutside)?n:kw),SO.default.createElement(gO.Provider,{value:h},(0,kO.cloneElement)(r,{ref:o,style:u}))}}});function IO(e,t){var n=function(){},r=Sw("usePopover").isPointerBeingCaptured,i=Aw({isOpen:!1}),a=oi(i,2),o=a[0],s=a[1],u=(0,MO.useRef)(e),l=(0,MO.useCallback)((function(e){'closing due to "'.concat(e,'"'),o.current={isOpen:!1}}),[]),c=(0,MO.useCallback)((function(e,t){var n,i="function"===typeof u.current?u.current():u.current;o.current={isOpen:!0,clickPoint:{clientX:e.clientX,clientY:e.clientY},target:t,opts:i,onClickOutside:function(){f.childHasFocusRef.current||!1!==i.closeOnClickOutside&&l("clicked outside popover")},onPointerOutside:!1===i.closeWhenPointerIsDistant?void 0:{threshold:null!=(n=i.pointerDistanceThreshold)?n:100,callback:function(){f.childHasFocusRef.current||r()||l("pointer outside")}}}}),[]),d=(0,MO.useCallback)((function(){o.current.isOpen?l("toggled"):c.apply(void 0,arguments)}),[]),f=function(e){var t=(0,MO.useContext)(TO);(0,MO.useEffect)((function(){if(e.state.isOpen){var n=t.takeFocus();return e._debug("take focus"),function(){e._debug("release focus"),n.releaseFocus()}}}),[e.state.isOpen]);var n=(0,MO.useRef)(!1);return{childHasFocusRef:n,childPopoverLock:{takeFocus:function(){return n.current=!0,{releaseFocus:function(){n.current=!1}}}}}}({_debug:n,state:s}),p=(0,MO.useContext)(Sj),h=oi(p,2)[1];(0,MO.useEffect)((function(){var e;return s.isOpen&&(e=h()),function(){return null==e?void 0:e()}}),[s.isOpen]);var v=(0,MO.useContext)(IE);return{node:s.isOpen?(0,PO.createPortal)(MO.default.createElement(TO.Provider,{value:f.childPopoverLock},MO.default.createElement(EO,{children:t,target:s.target,onClickOutside:s.onClickOutside,onPointerOutside:s.onPointerOutside,constraints:s.opts.constraints,verticalGap:s.opts.verticalGap})),v):MO.default.createElement(MO.default.Fragment,null),open:c,close:l,toggle:d,isOpen:s.isOpen}}var RO,OO,DO,LO,jO,NO,zO,FO,BO,UO,VO,HO,WO,GO,qO,KO,XO,YO,$O,ZO,QO=Ei({"studio/src/uiComponents/Popover/usePopover.tsx":function(){Pw(),Lw(),MO=Ti(nb()),PO=Ti(ub()),XE(),AO(),Oj(),TO=MO.default.createContext({takeFocus:function(){return{releaseFocus:function(){}}}})}}),JO=Ei({"studio/src/uiComponents/Popover/PopoverArrow.tsx":function(){RO=Ti(nb()),hw(),_O(),OO=Cx.div(Se||(Se=ai(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  color: var(--popover-arrow-color);\n  pointer-events: none;\n"]))),DO=Cx.div(ke||(ke=ai(["\n  width: 12px;\n  height: 8px;\n  position: absolute;\n  left: -7px;\n  top: -8px;\n  text-align: center;\n  line-height: 0;\n"]))),LO=Cx.path(Ee||(Ee=ai(["\n  fill: var(--popover-bg);\n"]))),jO=Cx.path(Me||(Me=ai(["\n  fill: var(--popover-inner-stroke);\n"]))),NO=Cx.path(Pe||(Pe=ai(["\n  fill: var(--popover-outer-stroke);\n"]))),zO=(0,RO.forwardRef)((function(e,t){var n=e.className,r=(0,RO.useContext)(gO);return RO.default.createElement(OO,{className:n,ref:t,style:wi({},r)},RO.default.createElement(DO,null,RO.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},RO.default.createElement(NO,{d:"M6 0L0 6H12L6 0Z"}),RO.default.createElement(jO,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),RO.default.createElement(LO,{d:"M6 3L0 9H12L6 3Z"}))))})),FO=zO}}),eD=Ei({"studio/src/uiComponents/Popover/BasicPopover.tsx":function(){tM(),DS(),BO=Ti(nb()),hw(),JO(),UO=oS(.05,"#2a2a31"),VO=Cx.div(Te||(Te=ai(["\n  position: absolute;\n  --popover-bg: ",";\n  --popover-inner-stroke: #505159;\n  --popover-outer-stroke: #111;\n\n  background: var(--popover-bg);\n\n  color: white;\n  padding: 0;\n  margin: 0;\n  cursor: default;\n  ",";\n  border-radius: 3px;\n  z-index: 10000;\n  border: 1px solid var(--popover-inner-stroke);\n  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;\n  backdrop-filter: blur(8px);\n\n  & a {\n    color: inherit;\n  }\n"])),UO,BE),HO=BO.default.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.showPopoverEdgeTriangle,a=void 0===i||i;return BO.default.createElement(VO,{className:r,ref:t},a?BO.default.createElement(FO,null):void 0,n)})),WO=HO}});function tD(e){var t=e.editingTools,n=e.value,r=e.autoFocus,i=(0,GO.useRef)(null),a=(0,GO.useCallback)((function(e){var n=rR(function(e){var t=(e=e.trim().toLowerCase()).match(eR);if(!t)return{r:0,g:0,b:0,a:1};var n=function(e){switch(e.length){case 3:return"".concat(e.repeat(2),"ff");case 4:var t=e.substr(0,3),n=e[3];return"".concat(t.repeat(2)).concat(n.repeat(2));case 6:return"".concat(e,"ff")}return e}(t[1]);return{r:parseInt(n.substr(0,2),16)/255,g:parseInt(n.substr(2,2),16)/255,b:parseInt(n.substr(4,2),16)/255,a:parseInt(n.substr(6,2),16)/255}}(e));t.permanentlySetValue(n)}),[t]),o=IO({debugName:"RgbaPropEditor"},(function(){return GO.default.createElement($O,null,GO.default.createElement(hO,{color:{r:n.r,g:n.g,b:n.b,a:n.a},temporarilySetValue:function(e){var n=rR(e);t.temporarilySetValue(n)},permanentlySetValue:function(e){var n=rR(e);t.permanentlySetValue(n)},discardTemporaryValue:t.discardTemporaryValue}))}));return GO.default.createElement(GO.default.Fragment,null,GO.default.createElement(qO,null,GO.default.createElement(KO,{rgbaColor:n,ref:i,onClick:function(e){o.toggle(e,i.current)}}),GO.default.createElement(XO,{value:nR(n,{removeAlphaIfOpaque:!0}),temporarilySetValue:YO,discardTemporaryValue:YO,permanentlySetValue:a,isValid:function(e){return!!e.match(eR)},autoFocus:r})),o.node)}var nD,rD,iD,aD,oD=Ei({"studio/src/propEditors/simpleEditors/RgbaPropEditor.tsx":function(){aR(),aR(),GO=Ti(nb()),wO(),hw(),QO(),QI(),eD(),qO=Cx.div(Ce||(Ce=ai(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),KO=Cx.div.attrs((function(e){return{style:{background:nR(e.rgbaColor)}}}))(Ae||(Ae=ai(["\n  height: 18px;\n  aspect-ratio: 1;\n  border-radius: 99999px;\n"]))),XO=Cx(XI)(Ie||(Ie=ai(["\n  flex: 1;\n"]))),YO=function(){},$O=Cx.div(Re||(Re=ai(["\n  position: absolute;\n  background-color: ",";\n  color: white;\n  margin: 0;\n  cursor: default;\n  border-radius: 3px;\n  z-index: 10000;\n  backdrop-filter: blur(8px);\n\n  padding: 4px;\n  pointer-events: all;\n\n  border: none;\n  box-shadow: none;\n"])),UO),ZO=tD}}),sD=Ei({"studio/src/propEditors/simpleEditors/simplePropEditorByPropType.ts":function(){lI(),RI(),YI(),tR(),oD(),nD={number:kI,string:ZI,boolean:nI,stringLiteral:VI,rgba:ZO}}}),uD=Ei({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail/rowIndentationFormulaCSS.tsx":function(){rD="calc(var(--left-pad) + var(--depth) * var(--step))"}});function lD(e){var t=e.pointerToProp,n=e.obj,r=e.possibleSequenceTrackIds,i=e.listOfDescendantTrackIds;return lb((function(){var e=(0,iD.getPointerParts)(t).path,r=(0,iD.val)(n.sheet.getSequence().positionDerivation),a=i.map((function(e){return{trackId:e,track:(0,iD.val)(n.template.project.pointers.historic.sheetsById[n.address.sheetId].sequence.tracksByObject[n.address.objectKey].trackData[e])}})).filter((function(e){return!!e.track})).map((function(e){return _i(wi({},e),{nearbies:_P(n,{id:e.trackId,data:e.track,sheetObject:n},r)})})),o=a.find((function(e){return!!e.nearbies.cur})),s=a.every((function(e){return!!e.nearbies.cur})),u=a.reduce((function(e,t){return t.nearbies.prev&&(void 0===e||t.nearbies.prev.kf.position>e.kf.position)?t.nearbies.prev:e}),void 0),l=a.reduce((function(e,t){return t.nearbies.next&&(void 0===e||t.nearbies.next.kf.position<e.kf.position)?t.nearbies.next:e}),void 0),c=function(){s?Ii().transaction((function(e){e.unset(t)})):Ii().transaction((function(e){e.set(t,(0,iD.val)(t))}))},d={cur:o?{type:"on",itemKey:Ry.forCompoundPropAggregateKeyframe(n,e,r),toggle:c}:{toggle:c,type:"off"},prev:void 0!==u?{position:u.kf.position,itemKey:Ry.forCompoundPropAggregateKeyframe(n,e,u.kf.position),jump:function(){n.sheet.getSequence().position=u.kf.position}}:void 0,next:void 0!==l?{position:l.kf.position,itemKey:Ry.forCompoundPropAggregateKeyframe(n,e,l.kf.position),jump:function(){n.sheet.getSequence().position=l.kf.position}}:void 0};return aD.default.createElement(qP,wi({},d))}),[t,n,r,i])}var cD=Ei({"studio/src/propEditors/useEditingToolsForCompoundProp.tsx":function(){Fi(),Qy(),fb(),iD=Ti(n(2114)),Ff(),aD=Ti(nb()),wP(),xP(),jy(),WM(),ZP(),SP()}});function dD(e,t){return JSON.stringify(e,t,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var fD=Ei({"studio/src/utils/tightJsonStringify.ts":function(){}});function pD(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{return"string"===typeof e?e:"function"===typeof e||e instanceof Error?e.toString():t?dD(e):JSON.stringify(e)}catch(n){return(null==e?void 0:e.name)||String(e)}}var hD,vD,mD,gD,yD,bD=Ei({"studio/src/utils/devStringify.ts":function(){fD()}});function xD(e,t){var n=arguments.length>1,r=pD("function"===typeof e?e():e),i=n?"\nInstead found: ".concat(pD(t)):"";throw new yD("Invariant: ".concat(r).concat(i),t)}var wD,_D,SD=Ei({"studio/src/utils/invariant.ts":function(){bD(),hD=/^\s*at.+node:internal.+/gm,vD=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,mD=/^\s*(at|[^@]+@).+test\-helpers.+/gm,gD=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,yD=function(e){"use strict";Jr(n,e);var t=ei(n);function n(e,r){var i,a;return Zr(this,n),i=t.call(this,e),Ci(Qr(i),"found"),void 0!==r&&(i.found=r),i.stack=null==(a=i.stack)?void 0:a.replace(vD,"").replace(gD,"").replace(mD,"").replace(hD,""),i}return $r(n)}(ti(Error))}});function kD(e){var t=_D.default.memo(_D.default.forwardRef((function(t,n){var r=[],i={},a={ref:n};for(var o in t){var s=t[o];(0,wD.isDerivation)(s)?(r.push(s),i[o]=s):a[o]=s}var u=(0,_D.useRef)(r.length);!function(e,t,n){if(!e){arguments.length>2?xD(t,n):xD(t)}}(u.current===r.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:u.current,count:r.length});var l=cb((0,_D.useMemo)((function(){return e=i,(0,wD.prism)((function(){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n].getValue();return t}var r={};for(var i in e)r[i]=(0,wD.val)(e[i]);return r}));var e}),r));return l&&_D.default.createElement(e,wi(wi({},a),l))})));return t.displayName="deriver(".concat(e.displayName,")"),t}var ED=Ei({"studio/src/utils/derive-utils.tsx":function(){wD=Ti(n(2114)),fb(),_D=Ti(nb()),SD()}});function MD(e){var t=e.isHighlighted;return"self"===t?"#1857a4":"descendent"===t?"#0a2f5c":"initial"}var PD,TD,CD,AD,ID,RD,OD,DD,LD,jD=Ei({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail/getDetailRowHighlightBackground.tsx":function(){}});function ND(e){var t,n=e.pointerToProp,r=e.obj,i=e.propConfig,a=e.visualIndentation,o=null!=(t=i.label)?t:Ui((0,PD.getPointerParts)(n).path),s=Object.entries(i.props),u=s.filter((function(e){var t=oi(e,2);t[0];return sP(t[1])})),l=s.filter((function(e){var t=oi(e,2);t[0];return!sP(t[1])})),c=Aw(null),d=oi(c,2),f=d[0],p=d[1],h=function(e,t,n){return lb((function(){if(!cP(n))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:aD.default.createElement(gP,{hasStaticOverride:!1})};var r=(0,iD.getPointerParts)(e).path,i=[],a={beingScrubbed:!!(0,iD.val)(Lf(Ii().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,iD.getPointerParts)(e).path)),contextMenuItems:i,controlIndicators:aD.default.createElement(aD.default.Fragment,null)},o=Ny((0,iD.val)(t.template.getMapOfValidSequenceTracks_forStudio()),r),s=void 0!==o&&0!==Object.keys(o).length,u=[],l=!0;if(s){l=!1;var c,d=ui(dP(n,[]));try{for(d.s();!(c=d.n()).done;){var f=c.value;if(!sP(f.conf)){var p=Ny(o,f.path);"string"!==typeof p?l=!0:u.push(p)}}}catch(v){d.e(v)}finally{d.f()}}if(l&&i.push({label:"Reset all to default",callback:function(){Ii().transaction((function(t){(0,t.unset)(e)}))}},{label:"Sequence all",callback:function(){Ii().transaction((function(e){var i,a=e.stateEditors,o=ui(dP(n,r));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.path;if(!sP(s.conf)){var l=_i(wi({},t.address),{pathToProp:u});a.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(l,n)}}}catch(v){o.e(v)}finally{o.f()}}))}}),s&&i.push({label:"Make all static",callback:function(){Ii().transaction((function(i){var a,o=i.stateEditors,s=ui(dP(n,[]));try{for(s.s();!(a=s.n()).done;){var u=a.value,l=u.path;if(!sP(u.conf)){var c=_i(wi({},t.address),{pathToProp:[].concat(si(r),si(l))}),d=FM(e,l);o.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(_i(wi({},c),{value:t.getValueByPointer(d)}))}}}catch(v){s.e(v)}finally{s.f()}}))}}),s){var h=iD.prism.memo("controlIndicators",(function(){return aD.default.createElement(lD,wi({},{pointerToProp:e,obj:t,possibleSequenceTrackIds:o,listOfDescendantTrackIds:u}))}),[o,u]);return _i(wi({},a),{type:"HasSequences",controlIndicators:h})}return _i(wi({},a),{type:"AllStatic",controlIndicators:aD.default.createElement(gP,{hasStaticOverride:!1})})}),[])}(n,r,i),v=Dj(p,{menuItems:h.contextMenuItems}),m=oi(v,1)[0],g=u.length>0,y=(0,TD.useMemo)((function(){return HM.getIsPropHighlightedD(_i(wi({},r.address),{pathToProp:(0,PD.getPointerParts)(n).path}))}),[n]);return TD.default.createElement(CD,null,m,TD.default.createElement(AD,{isHighlighted:y,style:{"--depth":a-1}},TD.default.createElement(ID,null,h.controlIndicators,TD.default.createElement(RD,{isHighlighted:y,ref:f},o||"Props"))),TD.default.createElement(DD,{style:{"--depth":a},depth:a,lastSubIsComposite:g},[].concat(si(l),si(u)).map((function(e){var t=oi(e,2),i=t[0],o=t[1];return TD.default.createElement(JD,{key:"prop-"+i,propConfig:o,pointerToProp:n[i],obj:r,visualIndentation:a+1})}))))}var zD,FD,BD,UD,VD,HD,WD,GD=Ei({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail/DetailCompoundPropEditor.tsx":function(){xP(),PD=Ti(n(2114)),Aa(),DS(),TD=Ti(nb()),hw(),uD(),zM(),tM(),Lw(),oL(),Bj(),cD(),XM(),ED(),jD(),CD=Cx.div(Oe||(Oe=ai(["\n  --step: 15px;\n  --left-pad: 15px;\n  ",";\n"])),BE),AD=kD(Cx.div(De||(De=ai(["\n  height: 30px;\n  display: flex;\n  align-items: stretch;\n  position: relative;\n\n  /* background-color: ","; */\n"])),MD)),ID=Cx.div(Le||(Le=ai(["\n  padding-left: ",";\n  display: flex;\n  align-items: center;\n"])),rD),RD=kD(Cx.div(je||(je=ai(["\n  margin-left: 4px;\n  cursor: default;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  user-select: none;\n  &:hover {\n    color: white;\n  }\n\n  ",";\n"])),(function(){return LM}))),OD=oS(.05,"#282b2f"),DD=Cx.div(Ne||(Ne=ai(["\n  /* background: ","; */\n  /* padding: "," 0; */\n"])),(function(e){var t=e.depth;return rS(.03*t,OD)}),(function(e){return e.lastSubIsComposite?0:"4px"})),LD=TD.default.memo(ND)}});function qD(e){var t,n=e.propConfig,r=e.pointerToProp,i=e.editingTools,a=e.children,o=e.isPropHighlightedD,s=null!=(t=n.label)?t:Ui((0,zD.getPointerParts)(r).path),u=Aw(null),l=oi(u,2),c=l[0],d=Dj(l[1],{menuItems:i.contextMenuItems}),f=oi(d,1)[0];return FD.default.createElement(BD,{isHighlighted:o},f,FD.default.createElement(UD,null,FD.default.createElement(HD,null,i.controlIndicators),FD.default.createElement(VD,{isHighlighted:o,ref:c,title:["obj","props"].concat(si((0,zD.getPointerParts)(r).path)).join(".")},s)),FD.default.createElement(WD,null,a))}var KD,XD,YD,$D=Ei({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail/SingleRowPropEditor.tsx":function(){zD=Ti(n(2114)),Bj(),Lw(),Py(),FD=Ti(nb()),hw(),tM(),zM(),ED(),uD(),jD(),BD=kD(Cx.div(ze||(ze=ai(["\n  display: flex;\n  height: 30px;\n  justify-content: flex-start;\n  align-items: stretch;\n  // We cannot calculate both the container (details panel) width and the descendant\n  // (this) width dynamically. This leads to the container width being calculated\n  // without this percentage being taken into consideration leads to horizontal\n  // clipping/scrolling--the same way as if we explicitly fixed either the container\n  // width, or the descendant width.\n  // The correct solution for tabulated UIs with dynamic container widths is to use\n  // CSS grid. For now I fixed this issue by just giving a great enough width\n  // to the details panel so most things don't break.\n  --right-width: 60%;\n  position: relative;\n  ",";\n\n  /* background-color: ","; */\n"])),BE,MD)),UD=Cx.div(Fe||(Fe=ai(["\n  box-sizing: border-box;\n  padding-left: ",";\n  padding-right: 4px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: stretch;\n  gap: 4px;\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: calc(100% - var(--right-width));\n"])),rD),VD=kD(Cx.div(Be||(Be=ai(["\n  text-align: left;\n  flex: 1 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  user-select: none;\n  cursor: default;\n\n  ",";\n  &:hover {\n    color: white;\n  }\n"])),LM)),HD=Cx.div(Ue||(Ue=ai(["\n  flex-basis: 8px;\n  flex: 0 0;\n  display: flex;\n  align-items: center;\n"]))),WD=Cx.div(Ve||(Ve=ai(["\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n  padding: 0 8px 0 2px;\n  box-sizing: border-box;\n  height: 100%;\n  width: var(--right-width);\n  flex-shrink: 0;\n  flex-grow: 0;\n"])))}});function ZD(e){var t=e.propConfig,n=e.pointerToProp,r=e.obj,i=e.SimpleEditorComponent,a=JP(n,r,t),o=(0,KD.useMemo)((function(){return HM.getIsPropHighlightedD(_i(wi({},r.address),{pathToProp:(0,XD.getPointerParts)(n).path}))}),[n]);return KD.default.createElement(qD,wi({},{editingTools:a,propConfig:t,pointerToProp:n,isPropHighlightedD:o}),KD.default.createElement(i,{editingTools:a,propConfig:t,value:a.value}))}var QD,JD,eL,tL,nL,rL,iL,aL=Ei({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail/DetailSimplePropEditor.tsx":function(){KD=Ti(nb()),lT(),$D(),XD=Ti(n(2114)),XM(),YD=KD.default.memo(ZD)}}),oL=Ei({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail.tsx":function(){QD=Ti(nb()),sD(),GD(),aL(),JD=function(e){var t=e.propConfig,n=e.visualIndentation,r=e.pointerToProp,i=e.obj;if("compound"===t.type)return QD.default.createElement(LD,{obj:i,visualIndentation:n,pointerToProp:r,propConfig:t});if("enum"===t.type)return QD.default.createElement(QD.default.Fragment,null);var a=nD[t.type];return QD.default.createElement(YD,{SimpleEditorComponent:a,obj:i,visualIndentation:n,pointerToProp:r,propConfig:t})}}}),sL=Ei({"studio/src/panels/DetailPanel/ObjectDetails.tsx":function(){eL=Ti(nb()),oL(),fb(),tL=function(e){var t=e.objects[0],n=(0,eL.useMemo)((function(){return JSON.stringify(t.address)}),[t]),r=Wy(t.template.configPointer);return eL.default.createElement(JD,{key:n,obj:t,pointerToProp:t.propsP,propConfig:r,visualIndentation:1})}}}),uL=Ei({"studio/src/uiComponents/DetailPanelButton.tsx":function(){hw(),nL=Cx.button(He||(He=ai(["\n  text-align: center;\n  padding: 8px;\n  border-radius: 2px;\n  border: 1px solid #627b7b87;\n  background-color: #4b787d3d;\n  color: #eaeaea;\n  font-weight: 400;\n  display: block;\n  appearance: none;\n  flex-grow: 1;\n  cursor: ",";\n  opacity: ",";\n\n  &:hover {\n    background-color: #7dc1c878;\n    border-color: #9ebcbf;\n  }\n"])),(function(e){return e.disabled?"none":"pointer"}),(function(e){return e.disabled?.4:1})),rL=nL}}),lL=Ei({"../node_modules/nanoid/url-alphabet/index.js":function(){}}),cL=Ei({"../node_modules/nanoid/index.browser.js":function(){lL(),iL=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;){var r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t}}});function dL(){return iL(16)}var fL,pL,hL,vL,mL,gL,yL,bL,xL,wL,_L=Ei({"studio/src/StudioStore/generateDiskStateRevision.ts":function(){cL()}}),SL=Ei({"studio/src/uiComponents/Popover/TooltipContext.tsx":function(){fL=Ti(n(2114)),Lw(),pL=Ti(nb()),hL=(0,pL.createContext)(null),vL=0,mL=function(){var e=(0,pL.useMemo)((function(){return vL++}),[]),t=(0,pL.useContext)(hL),n=t.cur,r=t.set,i=Aw(!1),a=oi(i,2),o=a[0],s=a[1],u=(0,pL.useCallback)((function(t,n){r(t?e:-1,n)}),[]);return(0,pL.useEffect)((function(){return n.changesWithoutValues().tap((function(){var t=n.getValue()===e;o.current!==t&&(o.current=t)}))}),[n,e]),[s,u]},gL=function(e){var t=e.children,n=(0,pL.useMemo)((function(){return new fL.Box(-1)}),[]),r=n.derivation,i=(0,pL.useMemo)((function(){var e=void 0;return function(t,r){var i=void 0!==e;void 0!==e&&(clearTimeout(e),e=void 0),0===r||i?n.set(t):e=setTimeout((function(){n.set(t),e=void 0}),r)}}),[]);return pL.default.createElement(hL.Provider,{value:{cur:r,set:i}},t)}}});function kL(e,t){var n=!1!==e.enabled,r=mL(),i=oi(r,2),a=i[0],o=i[1],s=Aw(null),u=oi(s,2),l=u[0],c=u[1];(0,bL.useEffect)((function(){if(n){var t=l.current;if(t){var r=function(){var t;return o(!0,null!=(t=e.enterDelay)?t:400)},i=function(){var t;return o(!1,null!=(t=e.exitDelay)?t:200)};return t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",i),function(){t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",i)}}}}),[l,n,e.enterDelay,e.exitDelay]);var d=(0,yL.useContext)(IE);return[n&&a&&c?(0,wL.createPortal)(xL.default.createElement(EO,{children:t,target:c,onClickOutside:kw,verticalPlacement:e.verticalPlacement,verticalGap:e.verticalGap}),d):xL.default.createElement(xL.default.Fragment,null),l,a]}var EL,ML,PL,TL,CL,AL,IL,RL,OL,DL,LL,jL,NL,zL,FL,BL=Ei({"studio/src/uiComponents/Popover/useTooltip.tsx":function(){Lw(),yL=Ti(nb()),bL=Ti(nb()),xL=Ti(nb()),AO(),wL=Ti(ub()),SL(),XE(),Tw()}}),UL=Ei({"studio/src/uiComponents/Popover/BasicTooltip.tsx":function(){hw(),eD(),EL=Cx(WO)(We||(We=ai(["\n  padding: 1em;\n  max-width: 240px;\n  pointer-events: none !important;\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: #45464d;\n"]))),ML=EL}}),VL=Ei({"studio/src/panels/DetailPanel/ProjectDetails/StateConflictRow.tsx":function(){fb(),Fi(),PL=Ti(nb()),hw(),_L(),BL(),UL(),uL(),TL=Cx.div(Ge||(Ge=ai(["\n  padding: 8px 10px;\n  position: relative;\n  background-color: #6d232352;\n  &:before {\n    position: absolute;\n    content: ' ';\n    display: block;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 2px;\n    background-color: #ff000070;\n  }\n"]))),CL=Cx.div(qe||(qe=ai(["\n  margin-bottom: 1em;\n  & a {\n    color: inherit;\n  }\n"]))),AL=Cx.div(Ke||(Ke=ai(["\n  display: flex;\n  gap: 8px;\n"]))),IL=function(e){var t=e.projectId,n=Wy(Ii().atomP.ephemeral.coreByProject[t].loadingState);return n&&"browserStateIsNotBasedOnDiskState"===n.type?PL.default.createElement(RL,{loadingState:n,projectId:t}):null},RL=function(e){var t=e.projectId,n=e.loadingState,r=kL({},(function(){return PL.default.createElement(ML,null,"The browser's state will override the disk state.")})),i=oi(r,2),a=i[0],o=i[1],s=kL({},(function(){return PL.default.createElement(ML,null,"The disk's state will override the browser's state.")})),u=oi(s,2),l=u[0],c=u[1];return PL.default.createElement(TL,null,PL.default.createElement(CL,null,"Browser state is not based on disk state."," ",PL.default.createElement("a",{href:"https://docs.theatrejs.com/in-depth/#exporting",target:"_blank"},"Learn more.")),PL.default.createElement(AL,null,a,PL.default.createElement(rL,{onClick:function(){Ii().transaction((function(e){var r=e.drafts,i=e.stateEditors;i.coreByProject.historic.revisionHistory.add({projectId:t,revision:n.onDiskState.revisionHistory[0]}),i.coreByProject.historic.revisionHistory.add({projectId:t,revision:dL()}),r.ephemeral.coreByProject[t].loadingState={type:"loaded"}}))},ref:o},"Use browser's state"),l,PL.default.createElement(rL,{onClick:function(){Ii().transaction((function(e){var r=e.drafts;r.historic.coreByProject[t]=n.onDiskState,r.ephemeral.coreByProject[t].loadingState={type:"loaded"}}))},ref:c},"Use disk state")))},OL=IL}}),HL=Ei({"studio/src/panels/DetailPanel/ProjectDetails.tsx":function(){Fi(),eD(),QO(),DL=Ti(nb()),hw(),uL(),VL(),LL=Cx.div(Xe||(Xe=ai([""]))),jL=Cx.div(Ye||(Ye=ai(["\n  padding: 8px 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]))),NL=Cx(WO)($e||($e=ai(["\n  width: 280px;\n  padding: 1em;\n"]))),zL=function(e){var t=e.projects[0],n=t.address.projectId,r=n.replace(/[^\w\d'_\-]+/g," ").trim(),i="".concat(r,".theatre-project-state.json"),a=(0,DL.useState)(!1),o=oi(a,2),s=o[0],u=o[1],l=(0,DL.useCallback)((function(){var e=JSON.stringify(Ii().createContentOfSaveFile(t.address.projectId),null,2),n=new File([e],i,{type:"application/json"}),r=URL.createObjectURL(n),a=Object.assign(document.createElement("a"),{href:r,target:"_blank",rel:"noopener"});a.setAttribute("download",i),a.click(),u(!0),setTimeout((function(){u(!1)}),2e3),setTimeout((function(){URL.revokeObjectURL(r)}),4e4)}),[]),c=IO({debugName:"ProjectDetails",pointerDistanceThreshold:50},(function(){return DL.default.createElement(NL,null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle.",DL.default.createElement("a",{href:"https://docs.theatrejs.com/in-depth/#exporting",target:"_blank"},"Here is a quick guide on how to export to production."))}));return DL.default.createElement(DL.default.Fragment,null,c.node,DL.default.createElement(LL,null,DL.default.createElement(OL,{projectId:n}),DL.default.createElement(jL,null,DL.default.createElement(rL,{onMouseEnter:function(e){return c.open(e,e.target)},onClick:s?void 0:l,disabled:s},s?"(Exported)":"Export ".concat(n," to JSON")))))}}});function WL(e){var t=(0,FL.useState)(!1),n=oi(t,2),r=n[0],i=n[1];return(0,FL.useEffect)((function(){var t=function(t){var n=r?200:50,a="left"===e?t.x<n:t.x>window.innerWidth-n;a&&(a=t.y>56),i(!!a)};document.addEventListener("mousemove",t);var n=function(){i(!1)};return document.addEventListener("mouseleave",n),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseleave",n)}}),[r]),r}var GL,qL,KL=Ei({"studio/src/uiComponents/useHotspot.ts":function(){FL=Ti(nb())}});function XL(e){return GL.createElement("svg",wi({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),GL.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var YL,$L,ZL=Ei({"studio/src/uiComponents/icons/Outline.tsx":function(){GL=Ti(nb()),qL=XL}});function QL(e){return YL.createElement("svg",wi({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),YL.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var JL,ej,tj=Ei({"studio/src/uiComponents/icons/ChevronDown.tsx":function(){YL=Ti(nb()),$L=QL}});function nj(e){return JL.createElement("svg",wi({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),JL.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var rj,ij,aj=Ei({"studio/src/uiComponents/icons/Details.tsx":function(){JL=Ti(nb()),ej=nj}});function oj(e){return rj.createElement("svg",wi({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),rj.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var sj,uj,lj=Ei({"studio/src/uiComponents/icons/Ellipsis.tsx":function(){rj=Ti(nb()),ij=oj}});function cj(e){return sj.createElement("svg",wi({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),sj.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var dj,fj,pj,hj,vj,mj,gj,yj,bj,xj,wj,_j,Sj,kj,Ej,Mj,Pj,Tj,Cj,Aj=Ei({"studio/src/uiComponents/icons/Package.tsx":function(){sj=Ti(nb()),uj=cj}}),Ij=Ei({"studio/src/uiComponents/icons/index.ts":function(){ZL(),tj(),aj(),lj(),Aj()}}),Rj=Ei({"studio/src/panels/DetailPanel/EmptyState.tsx":function(){dj=Ti(nb()),hw(),Ij(),fj=Cx.div(Ze||(Ze=ai(["\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]))),pj=Cx.div(Qe||(Qe=ai(["\n  display: flex;\n  flex-direction: column;\n  gap: 11px;\n  color: rgba(255, 255, 255, 0.9);\n"]))),hj=Cx.div(Je||(Je=ai(["\n  color: rgba(145, 145, 145, 0.8);\n"]))),vj=Cx.a(et||(et=ai(["\n  color: #919191;\n  font-size: 10px;\n  text-decoration-color: #40434a;\n  text-underline-offset: 3px;\n"]))),mj=function(){return dj.default.createElement(fj,null,dj.default.createElement(pj,null,dj.default.createElement(hj,null,dj.default.createElement(qL,null)),dj.default.createElement("div",null,"Please select an object from the ",dj.default.createElement("u",null,"Outline Menu")," to see its properties.")),dj.default.createElement(vj,{href:"https://docs.theatrejs.com/in-depth/#objects",target:"_blank"},"Learn more about Objects"))}}}),Oj=Ei({"studio/src/panels/DetailPanel/DetailPanel.tsx":function(){S_(),fb(),gj=Ti(nb()),hw(),Vi(),vC(),tM(),sL(),HL(),Fi(),KL(),yj=Ti(n(2114)),Rj(),nA(),$P(),"32px",bj=Cx.div(tt||(tt=ai(["\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  position: fixed;\n  right: 8px;\n  top: 50px;\n  // Temporary, see comment about CSS grid in SingleRowPropEditor.\n  width: 280px;\n  height: fit-content;\n  z-index: ",";\n\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  border-radius: 2px;\n\n  display: ",";\n\n  &:hover {\n    display: block;\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),BE,eC.propsPanel,(function(e){return e.pin?"block":"none"})),xj=Cx.div(nt||(nt=ai(["\n  margin: 0 10px;\n  color: #919191;\n  font-weight: 500;\n  font-size: 10px;\n  user-select: none;\n  ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),BE),wj=Cx.div(rt||(rt=ai(["\n  height: ",";\n  display: flex;\n  align-items: center;\n"])),"32px"),_j=Cx.div(it||(it=ai(["\n  ",";\n  max-height: calc(100vh - 100px);\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n  padding: 0;\n  user-select: none;\n\n  /* Set the font-size for input values in the detail panel */\n  font-size: 12px;\n"])),BE),Sj=(0,gj.createContext)([!1,function(){return function(){}}]),kj=function(e){var t=!1!==Wy(Ii().atomP.ahistoric.pinDetails),n=WL("right");(0,gj.useLayoutEffect)((function(){Mj.set(n)}),[n]),(0,gj.useEffect)((function(){return function(){Pj.set(!1),Mj.set(!1)}}),[]);var r=(0,gj.useContext)(Sj),i=oi(r,1)[0],a=t||n||i,o=(0,gj.useState)(null),s=oi(o,2),u=s[0],l=s[1];return LP(u),lb((function(){var e=g_(),t=e.find(Li);if(t)return gj.default.createElement(bj,{"data-testid":"DetailPanel-Object",pin:a,ref:l,onMouseEnter:function(){Pj.set(!0)},onMouseLeave:function(){Pj.set(!1)}},gj.default.createElement(wj,null,gj.default.createElement(xj,{title:"".concat(t.sheet.address.sheetId,": ").concat(t.sheet.address.sheetInstanceId," > ").concat(t.address.objectKey)},gj.default.createElement(nC,null,t.sheet.address.sheetId," "),gj.default.createElement(rC,null,":","\xa0"),gj.default.createElement(nC,null,t.sheet.address.sheetInstanceId," "),gj.default.createElement(rC,null,"\xa0\u2192\xa0"),gj.default.createElement(nC,null,t.address.objectKey))),gj.default.createElement(_j,null,gj.default.createElement(tL,{objects:[t]})));var n=e.find(Ri);return n?gj.default.createElement(bj,{pin:a},gj.default.createElement(wj,null,gj.default.createElement(xj,{title:"".concat(n.address.projectId)},gj.default.createElement(nC,null,n.address.projectId," "))),gj.default.createElement(_j,null,gj.default.createElement(zL,{projects:[n]}))):gj.default.createElement(bj,{pin:a,onMouseEnter:function(){Pj.set(!0)},onMouseLeave:function(){Pj.set(!1)}},gj.default.createElement(mj,null))}),[a])},Ej=function(){var e=XC();return gj.default.createElement(Sj.Provider,{value:e},gj.default.createElement(kj,null))},Mj=new yj.Box(!1),Pj=new yj.Box(!1),(0,yj.prism)((function(){var e=(0,yj.val)(Pj.derivation),t=(0,yj.val)(Mj.derivation);return e||t}))}});function Dj(e,t){var n=ZA(e,t),r=oi(n,2),i=r[0],a=r[1],o=(0,Tj.useContext)(Sj),s=oi(o,2)[1];return(0,Tj.useEffect)((function(){var e,n;return i.isOpen&&(null==(e=t.onOpen)||e.call(t),n=s()),function(){return null==n?void 0:n()}}),[i.isOpen,t.onOpen]),[i.isOpen?Tj.default.createElement(YA,{items:t.menuItems,displayName:t.displayName,clickPoint:i.event,onRequestClose:a}):Cj,a,i.isOpen]}var Lj,jj,Nj,zj,Fj,Bj=Ei({"studio/src/uiComponents/simpleContextMenu/useContextMenu.tsx":function(){Tj=Ti(nb()),iI(),aI(),Oj(),Cj=Tj.default.createElement(Tj.default.Fragment,null)}});var Uj,Vj,Hj,Wj,Gj,qj,Kj,Xj,Yj,$j,Zj=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/FocusRangeZone/FocusRangeStrip.tsx":function(){Lj=Ti(n(2114)),fb(),tM(),Fi(),xN(),Bj(),zw(),Lw(),jj=Ti(nb()),hw(),KC(),Nj={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},1e3,zj=Cx.div(at||(at=ai(["\n  position: absolute;\n  height: ","px;\n  background-color: ",";\n  cursor: grab;\n  top: 0;\n  left: 0;\n  width: ","px;\n  transform-origin: left top;\n  &:hover {\n    background-color: ",";\n  }\n  &.dragging {\n    background-color: ",";\n    cursor: grabbing !important;\n  }\n  ",";\n\n  /* covers the one pixel space between the focus range strip and the top strip\n  of the sequence editor panel, which would have caused that one pixel to act\n  like a panel drag zone */\n  &:after {\n    display: block;\n    content: ' ';\n    position: absolute;\n    bottom: -1px;\n    height: 1px;\n    left: 0;\n    right: 0;\n    background: transparent;\n    pointer-events: normal;\n    z-index: -1;\n  }\n"])),(function(){return eN-1}),(function(e){return e.enabled?Nj.enabled.backgroundColor:Nj.disabled.backgroundColor}),1e3,Nj.hover.backgroundColor,Nj.dragging.backgroundColor,BE),Fj=function(e){var t=e.layoutP,n=(0,jj.useMemo)((function(){return(0,Lj.prism)((function(){var e=(0,Lj.val)(t.sheet).address,n=e.projectId,r=e.sheetId;return(0,Lj.val)(Ii().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[r].sequence.focusRange)}))}),[t]),r=Aw(null),i=oi(r,2),a=i[0],o=i[1],s=Dj(o,{menuItems:function(){var e=(0,Lj.val)(t.sheet),r=n.getValue();return[{label:"Delete focus range",callback:function(){Ii().tempTransaction((function(t){t.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(wi({},e.address))})).commit()}},{label:(null==r?void 0:r.enabled)?"Disable focus range":"Enable focus range",callback:function(){void 0!==r&&Ii().tempTransaction((function(t){t.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(_i(wi({},e.address),{range:r.range,enabled:!r.enabled}))})).commit()}}]}}),u=oi(s,1)[0],l=Wy(t.scaledSpace.toUnitSpace),c=Wy(t.sheet),d=jw(o,(0,jj.useMemo)((function(){var e,r;return{debugName:"FocusRangeStrip",onDragStart:function(i){var a,o=n.getValue();if(!o)return!1;var s=o.range.start,u=o.range.end,d=!1,f=(0,Lj.val)(t.sheet).getSequence();return{onDrag:function(t){if(o=n.getValue()){d=!0;var i=l(t),p=s+i,h=u+i;h<p&&(h=p);var v=function(e,t){var n=0,r=oi(e,2),i=r[0],a=r[1],o=oi(t,2),s=o[0],u=o[1];return a-i>u-s?[s,u]:(i<s&&(n=0-i),a>u&&(n=u-a),[i+n,a+n])}([p,h],[0,f.length]).map((function(e){return f.closestGridPosition(e)})),m=oi(v,2);e=m[0],r=m[1],a&&a.discard(),a=Ii().tempTransaction((function(t){var n;t.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(_i(wi({},c.address),{range:{start:e,end:r},enabled:null==(n=null==o?void 0:o.enabled)||n}))}))}},onDragEnd:function(){o&&(d&&void 0!==a?a.commit():a&&a.discard())}}},lockCSSCursorTo:"grabbing"}}),[c,l])),f=oi(d,1)[0];return FC(f,-1),lb((function(){var e,r,i=n.getValue(),o=(null==i?void 0:i.range)||{start:0,end:0},s=(0,Lj.val)(t.clippedSpace.fromUnitSpace)(o.start),l=(0,Lj.val)(t.clippedSpace.fromUnitSpace)(o.end);return s<0&&(s=0),l>(0,Lj.val)(t.clippedSpace.width)&&(l=(0,Lj.val)(t.clippedSpace.width)),s>l?(r=0,e=0):(r=s,e=(l-s)/1e3),i?jj.default.createElement(jj.default.Fragment,null,u,jj.default.createElement(zj,{id:"range-strip",enabled:i.enabled,className:"".concat(f?"dragging":""," ").concat(i.enabled?"enabled":""),ref:a,style:{transform:"translateX(".concat(r,"px) scale(").concat(e,", 1)")}})):jj.default.createElement(jj.default.Fragment,null)}),[t,a,n,u,f])}}}),Qj=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/FocusRangeZone/FocusRangeThumb.tsx":function(){Uj=Ti(n(2114)),fb(),Fi(),xN(),vw(),zw(),Lw(),Vj=Ti(nb()),hw(),KC(),Zj(),Qw(),Hj=Cx.div(ot||(ot=ai(["\n  position: absolute;\n  top: 0;\n  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side\n  left: ","px;\n  transform-origin: left top;\n  width: ","px;\n  height: ","px;\n  z-index: 3;\n\n  --bg: ",";\n\n  stroke: ",";\n  user-select: none;\n\n  cursor: ",";\n\n  // no pointer events unless pointer-root is in normal mode _and_ the\n  // focus range is enabled\n  #pointer-root & {\n    pointer-events: none;\n  }\n\n  #pointer-root.normal & {\n    pointer-events: auto;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.dragging {\n    pointer-events: none !important;\n  }\n\n  // highlight the handle if it's hovered, or the whole strip is hovverd\n  ",":hover ~ &, &:hover {\n    --bg: ",";\n    stroke: ",";\n  }\n\n  // highlight the handle when it's being dragged or the whole strip is being dragged.\n  // using dragging.dragging to give this selector priority, as it seems to be overridden\n  // by the hover selector above\n  &.dragging,\n  ",".dragging.dragging ~ & {\n    --bg: ",";\n    stroke: ",";\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor &:hover {\n    --bg: ",";\n    stroke: #40aaa4;\n  }\n\n  background-color: var(--bg);\n\n  // a larger hit zone\n  &:before {\n    display: block;\n    content: ' ';\n    position: absolute;\n    inset: -8px;\n  }\n"])),(function(e){return"start"===e.type?0:-Nj.thumbWidth}),Nj.thumbWidth,(function(){return eN-1}),(function(e){return e.enabled?Nj.enabled.backgroundColor:Nj.disabled.backgroundColor}),Nj.enabled.stroke,(function(e){return"start"===e.type?"w-resize":"e-resize"}),ow,(function(){return zj}),Nj.hover.backgroundColor,Nj.hover.stroke,(function(){return zj}),Nj.dragging.backgroundColor,Nj.dragging.stroke,Nj.dragging.backgroundColor),Wj=Cx.div(st||(st=ai(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  background: linear-gradient(\n    ","deg,\n    var(--bg) 0%,\n    #ffffff00 100%\n  );\n\n  width: 12px;\n  left: ","px;\n"])),(function(e){return"start"===e.type?90:-90}),(function(e){return"start"===e.type?Nj.thumbWidth:1-Nj.thumbWidth})),Gj=Cx.div(ut||(ut=ai(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  background: linear-gradient(\n    ","deg,\n    "," 0%,\n    #ffffff00 100%\n  );\n\n  width: 12px;\n  left: ","px;\n"])),(function(e){return"start"===e.type?-90:90}),(function(){return tN.backgroundColor}),(function(e){return"start"===e.type?-12:Nj.thumbWidth})),qj=function(e){var t,n=e.layoutP,r=e.thumbType,i=Aw(null),a=oi(i,2),o=a[0],s=a[1],u=(0,Vj.useMemo)((function(){return(0,Uj.prism)((function(){var e=(0,Uj.val)(n.sheet).address,t=e.projectId,r=e.sheetId;return(0,Uj.val)(Ii().atomP.ahistoric.projects.stateByProjectId[t].stateBySheetId[r].sequence.focusRange)}))}),[n]),l=(0,Vj.useMemo)((function(){return{debugName:"FocusRangeThumb",onDragStart:function(){var e,t,i=(0,Uj.val)(n.sheet),a={start:0,end:i.getSequence().length},o=u.getValue()||{range:a,enabled:!1},l=o.enabled,c=o.range[r],d=(0,Uj.val)(n.scaledSpace.toUnitSpace),f=d(Nj.rangeStripMinWidth);return{onDrag:function(n,o,p){var h,v,m=Yw.checkIfMouseEventSnapToPos(p,{ignore:s});if(null==m){var g=d(n);v=c+g}else v=m;t=(null==(h=u.getValue())?void 0:h.range)||a,v="start"===r?Math.max(Math.min(v,t.end-f),0):Math.min(Math.max(v,t.start+f),i.getSequence().length);var y=i.getSequence().closestGridPosition(v);void 0!==e&&e.discard(),e=Ii().tempTransaction((function(e){e.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(_i(wi({},i.address),{range:_i(wi({},t),ii({},r,y)),enabled:l}))}))},onDragEnd:function(t){t?null==e||e.commit():null==e||e.discard()}}}}}),[n]),c=jw(s,l),d=oi(c,1)[0];cw(d,"draggingPositionInSequenceEditor","start"===r?"w-resize":"e-resize");var f=Wy(u);return FC(d,null!=(t=null==f?void 0:f.range[r])?t:0),lb((function(){var e=u.getValue();if(!e)return null;var t=e.enabled,i=e.range[r],a=(0,Uj.val)(n.clippedSpace.fromUnitSpace)(i);return(a<0||(0,Uj.val)(n.clippedSpace.width)<a)&&(a=-1e4),Vj.default.createElement(Hj,_i(wi(wi({ref:o},Yw.includePositionSnapAttrs(i)),BC(i)),{className:"".concat(d&&"dragging"," ").concat(t&&"enabled"),enabled:t,type:r,style:{transform:"translate3d(".concat(a,"px, 0, 0)")}}),Vj.default.createElement(Wj,{type:r,enabled:t}),Vj.default.createElement(Gj,{type:r}),Vj.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},Vj.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),Vj.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))}),[n,o,u,d])}}});var Jj,eN,tN,nN,rN,iN,aN,oN,sN,uN,lN,cN,dN,fN,pN,hN,vN,mN,gN,yN,bN=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/FocusRangeZone/FocusRangeZone.tsx":function(){Kj=Ti(n(2114)),fb(),Fi(),yA(),xN(),vw(),zw(),xA(),Ww(),Lw(),Py(),Xj=Ti(nb()),hw(),Zj(),Qj(),vC(),Yj=Cx.div(lt||(lt=ai(["\n  position: absolute;\n  height: ",'px;\n  left: 0;\n  right: 0;\n  box-sizing: border-box;\n  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */\n  cursor: ',";\n"])),(function(){return eN}),(function(e){return e.isShiftDown?"ew-resize":"move"})),$j=function(e){var t=e.layoutP,n=Aw(null),r=oi(n,2),i=r[0],a=r[1],o=pA(),s=(0,Xj.useRef)(o);s.current=o;var u=(0,Xj.useMemo)((function(){return(0,Kj.prism)((function(){var e=(0,Kj.val)(t.sheet).address,n=e.projectId,r=e.sheetId;return(0,Kj.val)(Ii().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[r].sequence.focusRange)}))}),[t]);jw(a,function(e,t){var n=(0,Xj.useState)("none"),r=oi(n,2),i=r[0],a=r[1];return cw("none"!==i,"dragging","creating"===i?"ew-resize":"move"),(0,Xj.useMemo)((function(){return{debugName:"FocusRangeZone",onDragStart:function(n){var r=n.shiftKey?["creating",function(t){var n,r=(0,Kj.val)(e.clippedSpace.toUnitSpace),i=(0,Kj.val)(e.scaledSpace.toUnitSpace),a=(0,Kj.val)(e.sheet),o=a.getSequence(),s=t.target.getBoundingClientRect(),u=r(t.clientX-s.left),l=i(Nj.rangeStripMinWidth);return{onDrag:function(e){var t=i(e),r=u,s=u+t,c=[hp(r,0,o.length),hp(s,0,o.length)].map((function(e){return o.closestGridPosition(e)})),d=oi(c,2);if(r=d[0],(s=d[1])<r){var f=[Math.max(Math.min(s,r-l),0),r];r=f[0],s=f[1]}else e>0&&(s=Math.min(Math.max(s,r+l),o.length));n&&n.discard(),n=Ii().tempTransaction((function(e){e.stateEditors.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(_i(wi({},a.address),{range:{start:r,end:s},enabled:!0}))}))},onDragEnd:function(e){e&&void 0!==n?n.commit():n&&n.discard()}}}(n)]:["moving-panel",function(){var e,n=t.current,r=t.current.addBoundsHighlightLock();return{onDrag:function(t,r){var i=_i(wi({},n.dims),{top:hp(n.dims.top+r,0,window.innerHeight-sC),left:hp(n.dims.left+t,-n.dims.width+sC,window.innerWidth-sC)}),a=dA(i,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=Ii().tempTransaction((function(e){e.stateEditors.studio.historic.panelPositions.setPanelPosition({position:a,panelId:n.panelId})}))},onDragEnd:function(t){r(),t?null==e||e.commit():null==e||e.discard()}}}()],i=oi(r,2),o=i[0],s=i[1];return a(o),!1!==s&&{onDrag:function(e,t,n,r,i){s.onDrag(e,t,n,r,i)},onDragEnd:function(e){var t;a("none"),null==(t=s.onDragEnd)||t.call(s,e)}}}}}),[e,t])}(t,s));var l=Uw("Shift"),c=function(e){var t=(0,vA.useState)(!1),n=oi(t,2),r=n[0],i=n[1];return(0,vA.useEffect)((function(){if(i(!1),e){var t=function(t){t.target===e?i(!0):i(!1)},n=function(){i(!1)};return e.addEventListener("mouseenter",t),e.addEventListener("mousemove",t),e.addEventListener("mouseleave",n),function(){i(!1),e.removeEventListener("mouseenter",t),e.removeEventListener("mousemove",t),e.removeEventListener("mouseleave",n)}}}),[e]),r}(a);return(0,Xj.useEffect)((function(){if(!l&&c)return s.current.addBoundsHighlightLock()}),[!l&&c]),lb((function(){return Xj.default.createElement(Yj,{ref:i,isShiftDown:l},Xj.default.createElement(Fj,{layoutP:t}),Xj.default.createElement(qj,{thumbType:"start",layoutP:t}),Xj.default.createElement(qj,{thumbType:"end",layoutP:t}))}),[t,u,l])}}}),xN=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/TopStrip.tsx":function(){fb(),Jj=Ti(nb()),hw(),GC(),KC(),tM(),bN(),eN=18,tN={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},nN=Cx.div(ct||(ct=ai(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: ","px;\n  box-sizing: border-box;\n  background: ",";\n  border-bottom: 1px solid ",";\n  ",";\n"])),eN,tN.backgroundColor,tN.borderColor,BE),rN=function(e){var t=e.layoutP,n=Wy(t.rightDims.width);return Jj.default.createElement(Jj.default.Fragment,null,Jj.default.createElement(nN,wi({},BC("hide")),Jj.default.createElement(kC,{layoutP:t,width:n,height:eN}),Jj.default.createElement($j,{layoutP:t})))}}}),wN=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/LengthIndicator/LengthEditorPopover.tsx":function(){iN=Ti(nb()),hw(),fb(),Fi(),EI(),zM(),aN=function(e){return isFinite(e)&&e>0},oN=Cx.div(dt||(dt=ai(["\n  display: flex;\n  gap: 8px;\n  padding: 4px 8px;\n  height: 28px;\n  align-items: center;\n"]))),sN=Cx.div(ft||(ft=ai(["\n  ",";\n  white-space: nowrap;\n"])),LM),uN=function(e){return.25*e.deltaX},lN=function(e){var t=e.layoutP,n=Wy(t.sheet),r=(0,iN.useMemo)((function(){var e;return{temporarilySetValue:function(t){e&&(e.discard(),e=void 0),e=Ii().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.setLength(_i(wi({},n.address),{length:t}))}))},discardTemporaryValue:function(){e&&(e.discard(),e=void 0)},permanentlySetValue:function(t){e&&(e.discard(),e=void 0),Ii().transaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.setLength(_i(wi({},n.address),{length:t}))}))}}}),[t,n]),i=(0,iN.useRef)(null);return(0,iN.useLayoutEffect)((function(){i.current.focus()}),[]),lb((function(){var e=n.getSequence().length;return iN.default.createElement(oN,null,iN.default.createElement(sN,null,"Sequence length"),iN.default.createElement(wI,_i(wi({value:e},r),{isValid:aN,inputRef:i,nudge:uN})))}),[n,r,i])}}});var _N,SN,kN,EN,MN,PN,TN,CN,AN,IN,RN,ON,DN,LN,jN,NN,zN,FN,BN,UN,VN,HN,WN,GN,qN,KN,XN,YN,$N,ZN,QN,JN,ez,tz,nz=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/LengthIndicator/LengthIndicator.tsx":function(){fb(),cN=Ti(n(2114)),dN=Ti(nb()),hw(),pB(),xN(),Lw(),zw(),Fi(),QO(),KC(),NM(),wN(),tM(),eD(),1e3,fN={stripNormal:"#0000006c",stripActive:"#000000"},pN=Cx.div(pt||(pt=ai(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 4px;\n  z-index: ",";\n  pointer-events: none;\n\n  &:after {\n    display: block;\n    content: ' ';\n    position: absolute;\n    /* top: ","px; */\n    top: 0;\n    bottom: 0;\n    left: -1px;\n    width: 1px;\n    background-color: ",";\n  }\n\n  &:hover:after,\n  &.dragging:after {\n    background-color: ",";\n  }\n"])),(function(){return BF.lengthIndicatorStrip}),eN,fN.stripNormal,fN.stripActive),hN=Cx.div(ht||(ht=ai(["\n  position: absolute;\n  top: ","px;\n  width: 100px;\n  left: -50px;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n"])),eN-15),vN=Cx.div(vt||(vt=ai(["\n  margin-top: 8px;\n  font-size: 10px;\n  white-space: nowrap;\n  padding: 2px 8px;\n  border-radius: 2px;\n  ",";\n  cursor: ew-resize;\n  color: #464646;\n  background-color: #0000004d;\n  display: none;\n\n  ",":hover &, ",".dragging & {\n    display: block;\n    color: white;\n    background-color: ",";\n  }\n"])),BE,pN,pN,fN.stripActive),mN=Cx.div(mt||(mt=ai(["\n  font-size: 10px;\n  white-space: nowrap;\n  padding: 1px 2px;\n  border-radius: 2px;\n  ",";\n  justify-content: center;\n  align-items: center;\n  cursor: ew-resize;\n  color: #5d5d5d;\n  background-color: #191919;\n\n  ",":hover &, ",".dragging & {\n    color: white;\n    background-color: ",";\n\n    & > svg:first-child {\n      margin-right: -1px;\n    }\n  }\n\n  & > svg:first-child {\n    margin-right: -4px;\n  }\n"])),BE,pN,pN,fN.stripActive),gN=Cx.div(gt||(gt=ai(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: rgb(23 23 23 / 43%);\n  width: ","px;\n  z-index: ",";\n  transform-origin: left top;\n\n  ",".dragging ~ &, ",":hover ~ & {\n    background-color: rgb(23 23 23 / 60%);\n  }\n"])),1e3,(function(){return BF.lengthIndicatorCover}),pN,pN),-1e4,yN=function(e){var t=e.layoutP,n=Aw(null),r=oi(n,2),i=r[0],a=r[1],o=function(e,t){var n=(0,dN.useRef)(t);n.current=t;var r=jw(e,(0,dN.useMemo)((function(){return{debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart:function(e){var t,r=n.current,i=(0,cN.val)(n.current.layoutP.sheet),a=i.getSequence().length,o=(0,cN.val)(r.layoutP.scaledSpace.toUnitSpace);return{onDrag:function(e,n,r){var s=o(e);t&&(t.discard(),t=void 0),t=Ii().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.setLength(_i(wi({},i.address),{length:a+s}))}))},onDragEnd:function(e){e?t&&t.commit():t&&t.discard()}}}}}),[])),i=oi(r,1)[0];return FC(i,-1),[i]}(a,{layoutP:t}),s=oi(o,1)[0],u=IO({debugName:"LengthIndicator"},(function(){return dN.default.createElement(WO,null,dN.default.createElement(lN,{layoutP:t,onRequestClose:d}))})),l=u.node,c=u.toggle,d=u.close;return lb((function(){var e,n,r=(0,cN.val)(t.sheet),o=(0,cN.val)(t.rightDims.height),u=r.getSequence(),d=u.length,f=d,p=(0,cN.val)(t.clippedSpace.fromUnitSpace)(f),h=(0,cN.val)(t.clippedSpace.width);return p>h?(n=0,e=0):(p<0&&(p=0),n=p,e=(h-p)/1e3),dN.default.createElement(dN.default.Fragment,null,l,dN.default.createElement(pN,{style:{height:o+"px",transform:"translateX(".concat(0===n?-1e4:n,"px)")},className:s?"dragging":""},dN.default.createElement(hN,null,dN.default.createElement(mN,wi({ref:i,onClick:function(e){c(e,a)}},BC("hide")),dN.default.createElement(vM,null),dN.default.createElement(mM,null)),dN.default.createElement(vN,null,"Sequence length:"," ",u.positionFormatter.formatBasic(d)))),dN.default.createElement(gN,{title:"Length",style:{height:o+"px",transform:"translateX(".concat(n,"px) scale(").concat(e,", 1)")}}))}),[t,i,s,l])}}}),rz=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/FrameStamp.tsx":function(){fb(),_N=Ti(n(2114)),SN=Ti(nb()),hw(),GC(),pB(),xN(),KC(),kN=Cx.div(yt||(yt=ai(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin-top: 0px;\n"]))),EN=Cx.div(bt||(bt=ai(["\n  position: absolute;\n  top: 16px;\n  font-size: ",";\n  color: ",";\n  text-align: center;\n  transform: translateX(-50%);\n  background: ",";\n  padding: 1px 8px;\n  font-variant-numeric: tabular-nums;\n  pointer-events: none;\n  z-index: ",";\n"])),wC.stampFontSize,wC.fullUnitStampColor,tN.backgroundColor,(function(){return BF.currentFrameStamp})),MN=Cx.div(xt||(xt=ai(["\n  position: absolute;\n  top: 5px;\n  left: -0px;\n  bottom: 0;\n  width: 0.5px;\n  background: rgba(100, 100, 100, 0.2);\n  pointer-events: none;\n"]))),PN=SN.default.memo((function(e){var t=e.layoutP,n=Wy(NC()),r=oi(n,2),i=r[0],a=r[1],o=Wy(t.clippedSpace.fromUnitSpace),s=lb((function(){var e=(0,_N.val)(t.sheet).getSequence(),n=(0,_N.val)(t.clippedSpace.width);return{sequence:e,formatter:e.positionFormatter,clippedSpaceWidth:n}}),[t]),u=s.sequence,l=s.formatter,c=s.clippedSpaceWidth;if(-1==i)return SN.default.createElement(SN.default.Fragment,null);var d=a===OC.free?u.closestGridPosition(i):i,f=o(d),p=f>=0&&f<=c;return SN.default.createElement(SN.default.Fragment,null,SN.default.createElement(kN,null,SN.default.createElement(EN,{style:{opacity:p?1:0,transform:"translate3d(calc(".concat(f,"px - 50%), 0, 0)")}},l.formatForPlayhead(d)),SN.default.createElement(MN,{posType:a,style:{opacity:p?1:0,transform:"translate3d(".concat(f,"px, 0, 0)")}}))," ")})),TN=PN}}),iz=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/HorizontalScrollbar.tsx":function(){fb(),CN=Ti(n(2114)),Og(),DS(),AN=Ti(nb()),hw(),pB(),KC(),tM(),zw(),IN=Cx.div(wt||(wt=ai(["\n  --threadHeight: 6px;\n  --bg-inactive: #32353b;\n  --bg-active: #5b5c5d;\n  position: absolute;\n  height: 0;\n  width: 100%;\n  left: 12px;\n  /* bottom: 8px; */\n  z-index: ",";\n  ","\n"])),(function(){return BF.horizontalScrollbar}),BE),RN=Cx.div(_t||(_t=ai(["\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--threadHeight);\n"]))),ON=Cx.div(St||(St=ai(["\n  position: absolute;\n  height: 5px;\n  background: var(--bg-inactive);\n  cursor: ew-resize;\n  z-index: 2;\n\n  &:hover,\n  &:active {\n    background: var(--bg-active);\n  }\n\n  &:after {\n    ",";\n    display: block;\n    content: ' ';\n  }\n"])),OS("absolute","-4px")),DN=Cx.div(kt||(kt=ai(["\n  position: absolute;\n  height: 5px;\n  width: 7px;\n  left: 0;\n  z-index: 2;\n  top: 0;\n  bottom: 0;\n  display: block;\n\n  &:hover:before {\n    background: var(--bg-active);\n  }\n\n  &:before {\n    ",";\n    display: block;\n    content: ' ';\n    background: var(--bg-inactive);\n    border-radius: 0 2px 2px 0;\n  }\n\n  &:after {\n    ",";\n    display: block;\n    content: ' ';\n  }\n"])),OS("absolute","0"),OS("absolute","-4px")),LN=Cx(DN)(Et||(Et=ai(["\n  left: calc(-1 * 7px);\n  cursor: w-resize;\n  &:before {\n    transform: scaleX(-1);\n  }\n"]))),jN=Cx(DN)(Mt||(Mt=ai(["\n  cursor: e-resize;\n  left: 0px;\n"]))),NN=Cx.div(Pt||(Pt=ai(["\n  display: ",";\n  position: absolute;\n  top: -20px;\n  left: 4px;\n  padding: 0 4px;\n  transform: translateX(-50%);\n  background: #131d1f;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 10px;\n  line-height: 18px;\n  text-align: center;\n\n  ",":hover &,\n  ",":hover &,\n  ",":hover ~ "," &,\n  ",":hover ~ "," & {\n    display: block;\n  }\n"])),(function(e){return e.active?"block":"none"}),LN,jN,ON,LN,ON,jN),zN=function(e){var t=e.layoutP,n=(0,AN.useCallback)((function(e){return e.toFixed(2)}),[]),r=(0,AN.useMemo)((function(){return(0,CN.prism)((function(){var e=(0,CN.val)(t.rightDims.width)-25,n=(0,CN.val)(t.clippedSpace.range),r=(0,CN.val)(t.sheet).getSequence().length,i=Math.max(n.end,r);return{rightWidth:e,clippedSpaceRange:n,sequenceLength:r,assumedLengthOfSequence:i,rangeStartX:n.start/i*e,rangeEndX:n.end/i*e,bottom:(0,CN.val)(t.horizontalScrollbarDims.bottom)}}))}),[t]),i=Wy(r),a=i.rangeStartX,o=i.rangeEndX,s=i.clippedSpaceRange,u=i.bottom,l=(0,AN.useState)("nothing"),c=oi(l,2),d=c[0],f=c[1],p=(0,AN.useMemo)((function(){var e=(0,CN.val)(r),n=function(){e=(0,CN.val)(r)},i=function(t){return t/e.rightWidth*e.assumedLengthOfSequence};return{onRangeDragStart:function(){return n(),{onDrag:function(n){f("both");var r=i(n),a=Tg(e.clippedSpaceRange,(function(e){return e+r}));(0,CN.val)(t.clippedSpace.setRange)(a)},onDragEnd:function(){f("nothing")}}},onRangeStartDragStart:function(){return n(),{onDrag:function(n){f("start");var r=i(n),a={start:e.clippedSpaceRange.start+r,end:e.clippedSpaceRange.end};a.start>a.end-1&&(a.start=a.end-1),a.start<=0&&(a.start=0),(0,CN.val)(t.clippedSpace.setRange)(a)},onDragEnd:function(){f("nothing")}}},onRangeEndDragStart:function(){return n(),{onDrag:function(n){f("end");var r=i(n),a={start:e.clippedSpaceRange.start,end:e.clippedSpaceRange.end+r};a.end<a.start+1&&(a.end=a.start+1),a.end>=e.assumedLengthOfSequence&&(a.end=e.assumedLengthOfSequence),(0,CN.val)(t.clippedSpace.setRange)(a)},onDragEnd:function(){f("nothing")}}}}}),[t,r]),h=(0,AN.useState)(null),v=oi(h,2),m=v[0],g=v[1];jw(m,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:p.onRangeDragStart,lockCSSCursorTo:"ew-resize"});var y=(0,AN.useState)(null),b=oi(y,2),x=b[0],w=b[1];jw(x,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:p.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});var _=(0,AN.useState)(null),S=oi(_,2),k=S[0],E=S[1];return jw(k,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:p.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),AN.default.createElement(IN,wi({style:{bottom:u+8+"px"}},BC("hide")),AN.default.createElement(RN,null,AN.default.createElement(ON,{ref:g,style:{width:"".concat(o-a,"px"),transform:"translate3d(".concat(a,"px, 0, 0)")}}),AN.default.createElement(LN,{ref:w,style:{transform:"translate3d(".concat(a,"px, 0, 0)")}},AN.default.createElement(NN,{active:"both"===d||"start"===d},n(s.start))),AN.default.createElement(jN,{ref:E,style:{transform:"translate3d(".concat(o,"px, 0, 0)")}},AN.default.createElement(NN,{active:"both"===d||"end"===d},n(s.end)))))}}}),az=Ei({"studio/src/uiComponents/RoomToClick.tsx":function(){FN=Ti(nb()),hw(),BN=Cx.div(Tt||(Tt=ai(["\n  position: absolute;\n  inset: ","px;\n"])),(function(e){return-1*e.room})),UN=function(e){return FN.default.createElement(BN,{room:e.room})}}}),oz=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/PlayheadPositionPopover.tsx":function(){hw(),fb(),EI(),zM(),VN=Ti(nb()),HN=Ti(nb()),WN=Ti(n(2114)),yp(),GN=function(e){return isFinite(e)&&e>=0},qN=Cx.div(Ct||(Ct=ai(["\n  display: flex;\n  gap: 8px;\n  padding: 4px 8px;\n  height: 28px;\n  align-items: center;\n"]))),KN=Cx.div(At||(At=ai(["\n  ",";\n  white-space: nowrap;\n"])),LM),XN=function(e){return.25*e.deltaX},YN=function(e){var t=e.layoutP,n=(0,WN.val)(t.sheet),r=n.getSequence(),i=(0,VN.useMemo)((function(){var e,t=r.position;return{temporarilySetValue:function(t){e&&(e=void 0),e=hp(t,0,r.length),r.position=e},discardTemporaryValue:function(){e&&(e=void 0,r.position=t)},permanentlySetValue:function(t){e&&(e=void 0),r.position=hp(t,0,r.length)}}}),[t,r]),a=(0,VN.useRef)(null);return(0,VN.useLayoutEffect)((function(){a.current.focus()}),[]),lb((function(){var e=n.getSequence();return HN.default.createElement(qN,null,HN.default.createElement(KN,null,"Sequence position"),HN.default.createElement(wI,_i(wi({value:Number(e.position.toFixed(3))},i),{isValid:GN,inputRef:a,nudge:XN})))}),[n,i,a])}}}),sz=Ei({"studio/src/utils/isMac.ts":function(){$N="undefined"!==typeof navigator&&navigator.platform.toUpperCase().indexOf("MAC")>=0}}),uz=Ei({"studio/src/utils/keyboardUtils.ts":function(){sz(),ZN=function(e){return $N?!0===e.metaKey:!0===e.ctrlKey}}});function lz(){var e=Ii();(0,QN.useEffect)((function(){var t=function(t){var n=t.composedPath()[0];if(!n||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName){if("z"===t.key||"Z"===t.key||"KeyZ"===t.code){if(!ZN(t))return;!0===t.shiftKey?e.redo():e.undo()}else if("Space"!==t.code||t.shiftKey||t.metaKey||t.altKey||t.ctrlKey){if(!t.altKey||"\\"!==t.key&&"Backslash"!==t.code&&"IntlBackslash"!==t.code)return;e.transaction((function(e){var t=e.stateEditors,n=e.drafts;t.studio.ahistoric.setVisibilityState("everythingIsHidden"===n.ahistoric.visibilityState?"everythingIsVisible":"everythingIsHidden")}))}else{var r=function(){var e=Sy(g_().filter((function(e){return Oi(e)||Li(e)})).map((function(e){return Li(e)?e.sheet:e})))[0];if(e)return e.getSequence()}();if(!r)return;if(r.playing)r.pause();else{var i=r.address,a=i.projectId,o=i.sheetId,s=(0,JN.prism)((function(){var e=(0,JN.val)(Ii().atomP.ahistoric.projects.stateByProjectId[a].stateBySheetId[o].sequence.focusRange);return JN.prism.memo("shouldFollowFocusRange",(function(){var t=r.position;if(e){var n=t>=e.range.start&&t<=e.range.end;return!e.enabled||!!n}return!0}),[])&&e&&e.enabled?{range:[e.range.start,e.range.end],isFollowingARange:!0}:{range:[0,(0,JN.val)(r.pointer.length)],isFollowingARange:!1}})),u=r.playDynamicRange(s.map((function(e){return e.range}))),l=ez(r);u.finally((function(){l.set(void 0)})),l.set(s)}}t.preventDefault(),t.stopPropagation()}};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[])}var cz,dz,fz,pz,hz,vz,mz,gz,yz,bz,xz,wz=Ei({"studio/src/UIRoot/useKeyboardShortcuts.ts":function(){QN=Ti(nb()),Fi(),uz(),S_(),JN=Ti(n(2114)),Xa(),ez=Ga((function(e){return new JN.Box(void 0)})),tz=Ga((function(e){return(0,JN.prism)((function(){var t=ez(e).derivation.getValue();if(t)return t.getValue().isFollowingARange;var n=e.address,r=n.projectId,i=n.sheetId,a=(0,JN.val)(Ii().atomP.ahistoric.projects.stateByProjectId[r].stateBySheetId[i].sequence.focusRange);if(!a||!a.enabled)return!1;var o=(0,JN.val)(e.pointer.position);return o>=a.range.start&&o<=a.range.end}))}))}}),_z=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/SnapCursor.svg":function(){cz="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQiIGhlaWdodD0iMzQiIHZpZXdCb3g9IjAgMCAzNCAzNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSA3VjFINyIgc3Ryb2tlPSIjNzRGRkRFIiBzdHJva2Utd2lkdGg9IjAuMjUiIC8+CiAgPHBhdGggZD0iTTcgMzNIMUwxIDI3IiBzdHJva2U9IiM3NEZGREUiIHN0cm9rZS13aWR0aD0iMC4yNSIgLz4KICA8cGF0aCBkPSJNMzMgMjdWMzNIMjciIHN0cm9rZT0iIzc0RkZERSIgc3Ryb2tlLXdpZHRoPSIwLjI1IiAvPgogIDxwYXRoIGQ9Ik0yNyAxTDMzIDFWNyIgc3Ryb2tlPSIjNzRGRkRFIiBzdHJva2Utd2lkdGg9IjAuMjUiIC8+Cjwvc3ZnPg=="}}),Sz=Ei({"studio/src/utils/absoluteDims.tsx":function(){dz=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return"\n  left: ".concat(-.5*e,"px;\n  top: ").concat(-.5*t,"px;\n  width: ").concat(e,"px;\n  height: ").concat(t,"px;\n")}}}),kz=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/DopeSnapHitZoneUI.tsx":function(){tM(),vw(),hw(),_z(),Sz(),Qw(),KC(),12,34,pz={BEING_DRAGGED_CLASS:fz="beingDragged",CSS:Qx(It||(It=ai(["\n    position: absolute;\n    ",";\n    ",";\n\n    &."," {\n      pointer-events: none !important;\n    }\n  "])),dz(12),BE,fz),CSS_WHEN_SOMETHING_DRAGGING:Qx(Rt||(Rt=ai(["\n    pointer-events: auto;\n    cursor: var(",");\n\n    // \u2e22\u2e24\u2e23\u2e25 thing\n    // This box extends the hitzone so the user does not\n    // accidentally leave the hitzone\n    &:hover:after {\n      position: absolute;\n      top: calc(50% - ","px);\n      left: calc(50% - ","px);\n      width: ","px;\n      height: ","px;\n      display: block;\n      content: ' ';\n      background: url(",") no-repeat 100% 100%;\n      // This icon might also fit: GiConvergenceTarget\n    }\n  "])),ow,17,17,34,34,cz),reactProps:function(e){return _i(wi(wi({},BC(e.position)),Yw.includePositionSnapAttrs(e.position)),{className:e.isDragging?pz.BEING_DRAGGED_CLASS:""})}}}});function Ez(){bz.set({mode:"snapToAll"})}function Mz(){bz.set({mode:"snapToNone"})}function Pz(e){bz.set({mode:"snapToSome",positions:e})}function Tz(e,t){return Object.fromEntries(Object.entries(e).map((function(e){var n=oi(e,2),r=n[0],i=n[1];return[r,Object.fromEntries(Object.entries(i.trackData).map((function(e){var n=oi(e,2),i=n[0],a=n[1];return[i,a.keyframes.filter((function(e){return t(e,{trackId:i,trackData:a,objectKey:r})})).map((function(e){return e.position}))]})))]})))}var Cz,Az,Iz,Rz,Oz,Dz,Lz,jz,Nz=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/KeyframeSnapTarget.tsx":function(){hz=Ti(n(2114)),vz=Ti(nb()),hw(),kz(),mz=Cx.div(Ot||(Ot=ai(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  ","\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    ","\n  }\n"])),pz.CSS,pz.CSS_WHEN_SOMETHING_DRAGGING),gz=Cx.div(Dt||(Dt=ai(["\n  position: absolute;\n"]))),yz=function(e){return vz.default.createElement(gz,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,hz.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(e.position,"px))")}},vz.default.createElement(mz,wi({},pz.reactProps({isDragging:!1,position:e.position}))))},bz=new hz.Box({mode:"snapToNone"}),xz=bz.derivation}});var zz,Fz,Bz,Uz,Vz,Hz,Wz,Gz,qz,Kz,Xz,Yz,$z,Zz,Qz=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/Playhead.tsx":function(){az(),zw(),Lw(),fb(),Cz=Ti(n(2114)),yp(),Az=Ti(nb()),hw(),pB(),KC(),tM(),QO(),eD(),oz(),wz(),vw(),Bj(),Fi(),jy(),Qw(),Nz(),Iz=Cx.div(Lt||(Lt=ai(["\n  --thumbColor: #00e0ff;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 5px;\n  height: 100%;\n  z-index: ",";\n  pointer-events: none;\n\n  display: ",";\n"])),(function(){return BF.playhead}),(function(e){return e.isVisible?"block":"none"})),Rz=Cx.div(jt||(jt=ai(["\n  position: absolute;\n  top: 8px;\n  width: 0;\n  height: calc(100% - 8px);\n  border-left: 1px solid #27e0fd;\n  z-index: 10;\n  pointer-events: none;\n\n  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {\n    /* pointer-events: auto; */\n    /* cursor: var(","); */\n\n    &:after {\n      position: absolute;\n      inset: -8px;\n      display: block;\n      content: ' ';\n    }\n  }\n"])),ow),Oz=Cx.div(Nt||(Nt=ai(["\n  background-color: var(--thumbColor);\n  position: absolute;\n  width: 5px;\n  height: 13px;\n  top: -4px;\n  left: -2px;\n  z-index: 11;\n  cursor: ew-resize;\n  --sunblock-color: #1f2b2b;\n\n  ",";\n\n  ",".seeking > & {\n    pointer-events: none !important;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor\n    ",":not(.seeking)\n    > & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  ",".playheadattachedtofocusrange > & {\n    top: -8px;\n    --sunblock-color: #005662;\n    &:before,\n    &:after {\n      border-bottom-width: 8px;\n    }\n  }\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    left: -2px;\n    width: 0;\n    height: 0;\n    border-bottom: 4px solid var(--sunblock-color);\n    border-left: 2px solid transparent;\n  }\n\n  &:after {\n    position: absolute;\n    display: block;\n    content: ' ';\n    right: -2px;\n    width: 0;\n    height: 0;\n    border-bottom: 4px solid var(--sunblock-color);\n    border-right: 2px solid transparent;\n  }\n"])),BE,Iz,Iz,ow,Iz),Dz=Cx.div(zt||(zt=ai(["\n  position: absolute;\n  left: 1px;\n  right: 1px;\n  top: 13px;\n  border-top: 3px solid var(--thumbColor);\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  pointer-events: none;\n\n  /* ",".playheadattachedtofocusrange & {\n    top: 10px;\n    &:before,\n    &:after {\n      height: 15px;\n    }\n  } */\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    top: -4px;\n    left: -2px;\n    height: 8px;\n    width: 2px;\n    background: none;\n    border-radius: 0 100% 0 0;\n    border-top: 1px solid var(--thumbColor);\n    border-right: 1px solid var(--thumbColor);\n  }\n\n  &:after {\n    position: absolute;\n    display: block;\n    content: ' ';\n    top: -4px;\n    right: -2px;\n    height: 8px;\n    width: 2px;\n    background: none;\n    border-radius: 100% 0 0 0;\n    border-top: 1px solid var(--thumbColor);\n    border-left: 1px solid var(--thumbColor);\n  }\n"])),Iz),Lz=Cx.div(Ft||(Ft=ai(["\n  display: none;\n  position: absolute;\n  top: -20px;\n  left: 4px;\n  padding: 0 2px;\n  transform: translateX(-50%);\n  background: #1a1a1a;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 10px;\n  line-height: 18px;\n  text-align: center;\n  ",":hover &, ",".seeking & {\n    display: block;\n  }\n"])),Oz,Iz),jz=function(e){var t=e.layoutP,n=Aw(null),r=oi(n,2),i=r[0],a=r[1],o=IO({debugName:"Playhead"},(function(){return Az.default.createElement(WO,null,Az.default.createElement(YN,{layoutP:t,onRequestClose:l}))})),s=o.node,u=o.toggle,l=o.close,c=(0,Az.useMemo)((function(){return{debugName:"RightOverlay/Playhead",onDragStart:function(){var e=(0,Cz.val)(t.sheet).getSequence(),n=e.position,r=(0,Cz.val)(t.scaledSpace.toUnitSpace),o=(0,Cz.val)(t.seeker.setIsSeeking);return o(!0),Ez(),{onDrag:function(t,i,o){var s,u=r(t);e.position=null!=(s=Yw.checkIfMouseEventSnapToPos(o,{ignore:a}))?s:hp(n+u,0,e.length)},onDragEnd:function(e){o(!1),Mz()},onClick:function(e){u(e,i.current)}}}}}),[t,a]),d=jw(a,c),f=oi(d,1)[0];cw(f,"draggingPositionInSequenceEditor","ew-resize"),FC(Wy(t.seeker.isSeeking)||f,-1);var p,h=(p={layoutP:t},Dj(a,{menuItems:function(){return[{label:"Place marker",callback:function(){Ii().transaction((function(e){var t=e.stateEditors,n=(0,Cz.val)(p.layoutP.sheet),r=n.getSequence();t.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:n.address,markers:[{id:Iy(10),position:r.position}],snappingFunction:r.closestGridPosition})}))}}]}})),v=oi(h,1)[0];return lb((function(){var e=(0,Cz.val)(t.seeker.isSeeking),n=(0,Cz.val)(t.sheet).getSequence(),r=(0,Cz.val)(tz(n)),a=n.positionDerivation.getValue(),o=(0,Cz.val)(t.clippedSpace.fromUnitSpace)(a),u=o>=0&&o<=(0,Cz.val)(t.clippedSpace.width);return Az.default.createElement(Az.default.Fragment,null,v,s,Az.default.createElement(Iz,wi({isVisible:u,style:{transform:"translate3d(".concat(o,"px, 0, 0)")},className:"".concat(e&&"seeking"," ").concat(r&&"playheadattachedtofocusrange")},BC("hide")),Az.default.createElement(Oz,wi({ref:i},Yw.includePositionSnapAttrs(a)),Az.default.createElement(UN,{room:8}),Az.default.createElement(Dz,null),Az.default.createElement(Lz,null,n.positionFormatter.formatForPlayhead(n.closestGridPosition(a)))),Az.default.createElement(Rz,_i(wi({},Yw.includePositionSnapAttrs(a)),{className:e?"seeking":""}))))}),[t,i,s])}}}),Jz=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/FocusRangeCurtains.tsx":function(){zz=Ti(n(2114)),fb(),Fi(),xN(),Fz=Ti(nb()),hw(),Bz=1e3,Uz=Cx.div(Bt||(Bt=ai(["\n  position: absolute;\n  top: ","px;\n  left: 0;\n  opacity: 0.15;\n  width: ","px;\n  transform-origin: top left;\n  pointer-events: none;\n  background-color: ",";\n"])),eN,Bz,(function(e){return e.enabled?"#000000":"transparent"})),Vz=function(e){var t=e.layoutP,n=(0,Fz.useMemo)((function(){return(0,zz.prism)((function(){var e=(0,zz.val)(t.sheet).address,n=e.projectId,r=e.sheetId;return(0,zz.val)(Ii().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[r].sequence.focusRange)}))}),[t]);return lb((function(){var e=n.getValue();if(!e||!e.enabled)return null;e.range;var r,i,a=(0,zz.val)(t.rightDims.height)-eN,o=(0,zz.val)(t.clippedSpace.fromUnitSpace),s=(0,zz.val)(t.clippedSpace.width),u=[],l=o(e.range.start);0>l?(i=0,r=0):(l>s&&(l=s),i=0,r=(l-0)/Bz),u.push({translateX:i,scaleX:r});var c,d,f=o(e.range.end);return f>s?(d=0,c=0):(f<0&&(f=0),d=f,c=(s-f)/Bz),u.push({translateX:d,scaleX:c}),Fz.default.createElement(Fz.default.Fragment,null,u.map((function(e,t){var n=e.translateX,r=e.scaleX;return Fz.default.createElement(Uz,{key:"curtain-".concat(t),enabled:!0,style:{height:"".concat(a,"px"),transform:"translateX(".concat(n,"px) scaleX(").concat(r,")")}})})))}),[t,n])},Hz=Vz}});var eF,tF,nF,rF,iF,aF,oF,sF,uF,lF,cF,dF,fF,pF,hF,vF,mF,gF,yF,bF,xF,wF,_F,SF,kF,EF,MF,PF,TF,CF,AF,IF,RF,OF,DF,LF,jF,NF,zF,FF,BF,UF,VF,HF,WF,GF,qF,KF,XF,YF,$F,ZF,QF,JF,eB,tB,nB,rB,iB,aB=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/MarkerDot.tsx":function(){Wz=Ti(n(2114)),fb(),Fi(),vw(),Bj(),Lw(),Gz=Ti(nb()),hw(),KC(),zw(),pB(),Qw(),Sz(),kz(),Nz(),12,12,24,24,qz=Cx.div(Ut||(Ut=ai(['\n  position: absolute;\n  // below the sequence ruler "top bar"\n  top: 18px;\n  z-index: ',";\n"])),(function(){return BF.marker})),Kz=Cx.div(Vt||(Vt=ai(["\n  position: absolute;\n  ","\n  pointer-events: none;\n"])),dz(12,12)),Xz=Gz.default.memo((function(){return Gz.default.createElement(Kz,{children:Gz.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Gz.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})})),Yz=Cx.div(Ht||(Ht=ai(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  ","\n\n  // :not dragging marker to ensure that markers don't snap to other markers\n  // this works because only one marker track (so this technique is not used by keyframes...)\n  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {\n    ",'\n  }\n\n  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"\n  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting\n  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,\n  #pointer-root.draggingPositionInSequenceEditor\n    &.'," {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &:hover\n    + ",',\n    // notice , "or" in CSS\n    &.',"\n    + "," {\n    ","\n  }\n"])),pz.CSS,pz.CSS_WHEN_SOMETHING_DRAGGING,pz.BEING_DRAGGED_CLASS,ow,Kz,pz.BEING_DRAGGED_CLASS,Kz,dz(24,24)),$z=function(e){var t=e.layoutP,n=e.markerId,r=Wy(t.sheet.address),i=Wy(Ii().atomP.historic.projects.stateByProjectId[r.projectId].stateBySheetId[r.sheetId].sequenceEditor.markerSet.byId[n]);if(!i)return null;var a=Wy(t.clippedSpace.width),o=Wy(t.clippedSpace.fromUnitSpace)(i.position),s=o<=0||o>a,u=s?-1e4:o,l=s?0:1;return Gz.default.createElement(qz,{style:{transform:"translateX(".concat(u,"px) scale(").concat(l,")")}},Gz.default.createElement(Zz,{marker:i,layoutP:t}))},Zz=function(e){var t,n,r=e.layoutP,i=e.marker,a=Wy(r.sheet.address),o=Aw(null),s=oi(o,2),u=s[0],l=s[1],c=(t=l,n={sheetAddress:a,markerId:i.id},Dj(t,{menuItems:function(){return[{label:"Remove marker",callback:function(){Ii().transaction((function(e){e.stateEditors.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:n.sheetAddress,markerId:n.markerId})}))}}]}})),d=oi(c,1)[0],f=function(e,t){var n=(0,Gz.useRef)(t);n.current=t;var r=(0,Gz.useMemo)((function(){return{debugName:"MarkerDot/useDragMarker (".concat(t.marker.id,")"),onDragStart:function(r){var i,a=n.current.marker,o=(0,Wz.val)(t.layoutP.scaledSpace.toUnitSpace);return Ez(),{onDrag:function(n,r,s){var u,l=a,c=Math.max(null!=(u=Yw.checkIfMouseEventSnapToPos(s,{ignore:e}))?u:l.position+o(n),0);null==i||i.discard(),i=Ii().tempTransaction((function(e){e.stateEditors.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,Wz.val)(t.layoutP.sheet.address),markers:[_i(wi({},l),{position:c})],snappingFunction:(0,Wz.val)(t.layoutP.sheet).getSequence().closestGridPosition})}))},onDragEnd:function(e){e?null==i||i.commit():null==i||i.discard(),Mz()}}}}}),[]),i=jw(e,r),a=oi(i,1)[0];return FC(a,t.marker.position),cw(a,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[a]}(l,{layoutP:r,marker:i}),p=oi(f,1)[0];return Gz.default.createElement(Gz.default.Fragment,null,d,Gz.default.createElement(Yz,wi({ref:u},pz.reactProps({isDragging:p,position:i.position}))),Gz.default.createElement(Xz,null))}}}),oB=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/Markers.tsx":function(){fb(),Fi(),eF=Ti(nb()),aB(),tF=function(e){var t=e.layoutP,n=Wy(t.sheet.address),r=Ii().atomP.historic.projects.stateByProjectId[n.projectId].stateBySheetId[n.sheetId].sequenceEditor.markerSet,i=Wy(r.allIds);return eF.default.createElement(eF.default.Fragment,null,i&&Object.keys(i).map((function(e){return eF.default.createElement($z,{key:e,layoutP:t,markerId:e})})))}}}),sB=Ei({"studio/src/panels/SequenceEditorPanel/RightOverlay/RightOverlay.tsx":function(){pB(),fb(),nF=Ti(n(2114)),rF=Ti(nb()),hw(),nz(),rz(),iz(),Qz(),xN(),Jz(),oB(),iF=Cx.div(Wt||(Wt=ai(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ",";\n  overflow: visible;\n  pointer-events: none;\n"])),(function(){return BF.rightOverlay})),aF=function(e){var t=e.layoutP;return lb((function(){var e=(0,nF.val)(t.rightDims.width);return rF.default.createElement(iF,{style:{width:e+"px"}},rF.default.createElement(jz,{layoutP:t}),rF.default.createElement(zN,{layoutP:t}),rF.default.createElement(TN,{layoutP:t}),rF.default.createElement(rN,{layoutP:t}),rF.default.createElement(tF,{layoutP:t}),rF.default.createElement(yN,{layoutP:t}),rF.default.createElement(Hz,{layoutP:t}))}),[t])}}}),uB=Ei({"studio/src/panels/BasePanel/PanelDragZone.tsx":function(){Lw(),Fi(),zw(),oF=Ti(nb()),hw(),yA(),vw(),Py(),vC(),sF=Cx.div(Gt||(Gt=ai(["\n  cursor: move;\n"]))),uF=function(e){var t=pA(),n=(0,oF.useRef)(t);n.current=t;var r=Aw(null),i=oi(r,2),a=i[0],o=jw(i[1],(0,oF.useMemo)((function(){return{debugName:"PanelDragZone",lockCursorTo:"move",onDragStart:function(){var e,r=n.current,i=t.addBoundsHighlightLock();return{onDrag:function(t,n){var i=_i(wi({},r.dims),{top:hp(r.dims.top+n,0,window.innerHeight-sC),left:hp(r.dims.left+t,-r.dims.width+sC,window.innerWidth-sC)}),a=dA(i,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=Ii().tempTransaction((function(e){e.stateEditors.studio.historic.panelPositions.setPanelPosition({position:a,panelId:r.panelId})}))},onDragEnd:function(t){i(),t?null==e||e.commit():null==e||e.discard()}}}}}),[])),s=oi(o,1)[0];cw(s,"dragging","move");var u=(0,oF.useMemo)((function(){var e;return[function(){if(e){var n=e;e=void 0,n()}e=t.addBoundsHighlightLock()},function(){if(e){var t=e;e=void 0,t()}}]}),[]),l=oi(u,2),c=l[0],d=l[1];return oF.default.createElement(sF,_i(wi({},e),{ref:a,onMouseEnter:c,onMouseLeave:d}))}}}),lB=Ei({"studio/src/panels/BasePanel/PanelResizeHandle.tsx":function(){Lw(),Fi(),zw(),DS(),lF=Ti(nb()),hw(),yA(),tM(),Py(),vC(),cF=Cx.div(qt||(qt=ai(["\n  position: absolute;\n  ",";\n  &:after {\n    position: absolute;\n    inset: -5px;\n    display: block;\n    content: ' ';\n  }\n\n  opacity: 0;\n  background-color: #478698;\n\n  &.isHighlighted {\n    opacity: 0.7;\n  }\n\n  &.isDragging {\n    opacity: 1;\n    /* background-color: ","; */\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n"])),BE,iS(.2,"#478698")),dF=Cx(cF)(Kt||(Kt=ai(["\n  /**\n  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel\n  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).\n\n  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem\n  that we have to deal with right now (if it is at all a problem).\n  \n   */\n  z-index: -1;\n"]))),fF=Cx(dF)(Xt||(Xt=ai(["\n  left: 0px;\n  right: 0px;\n  height: 1px;\n"]))),pF=Cx(fF)(Yt||(Yt=ai(["\n  top: -1px;\n"]))),hF=Cx(fF)($t||($t=ai(["\n  bottom: -1px;\n"]))),vF=Cx(dF)(Zt||(Zt=ai(["\n  z-index: -1;\n  top: -1px;\n  bottom: -1px;\n  width: 1px;\n"]))),mF=Cx(vF)(Qt||(Qt=ai(["\n  left: -1px;\n"]))),gF=Cx(vF)(Jt||(Jt=ai(["\n  right: -1px;\n"]))),yF=Cx(cF)(en||(en=ai(["\n  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.\n  z-index: 10;\n  width: 8px;\n  height: 8px;\n"]))),bF=Cx(yF)(tn||(tn=ai(["\n  top: 0;\n  left: 0;\n"]))),xF=Cx(yF)(nn||(nn=ai(["\n  top: 0;\n  right: 0;\n"]))),wF=Cx(yF)(rn||(rn=ai(["\n  bottom: 0;\n  left: 0;\n"]))),_F=Cx(yF)(an||(an=ai(["\n  bottom: 0;\n  right: 0;\n"]))),SF={Top:pF,TopLeft:bF,TopRight:xF,Bottom:hF,BottomLeft:wF,BottomRight:_F,Left:mF,Right:gF},kF={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},EF=function(e){var t=e.which,n=pA(),r=(0,lF.useRef)(n);r.current=n;var i=Aw(null),a=oi(i,2),o=a[0],s=jw(a[1],(0,lF.useMemo)((function(){return{debugName:"PanelResizeHandle",lockCursorTo:kF[t],onDragStart:function(){var e,i=r.current,a=n.addBoundsHighlightLock();return{onDrag:function(n,r){var a=wi({},i.dims);if(t.startsWith("Bottom"))a.height=Math.max(a.height+r,i.minDims.height);else if(t.startsWith("Top")){var o=a.top+a.height,s=hp(a.top+r,0,Math.min(o-i.minDims.height,window.innerHeight-sC)),u=o-s;a.height=u,a.top=s}if(t.endsWith("Left")){var l=a.left+a.width,c=Math.min(a.left+n,Math.min(l-i.minDims.width,window.innerWidth-sC)),d=l-c;a.width=d,a.left=c}else t.endsWith("Right")&&(a.width=Math.max(a.width+n,Math.max(i.minDims.width,sC-i.dims.left)));var f=dA(a,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=Ii().tempTransaction((function(e){e.stateEditors.studio.historic.panelPositions.setPanelPosition({position:f,panelId:i.panelId})}))},onDragEnd:function(t){a(),t?null==e||e.commit():null==e||e.discard()}}}}}),[t])),u=oi(s,1)[0],l=SF[t],c=t.length<=6;return lF.default.createElement(l,{ref:o,className:[u?"isDragging":"",n.boundsHighlighted&&c?"isHighlighted":""].join(" "),style:{cursor:kF[t]}})}}}),cB=Ei({"studio/src/panels/BasePanel/PanelResizers.tsx":function(){MF=Ti(nb()),lB(),PF=function(e){return MF.default.createElement(MF.default.Fragment,null,MF.default.createElement(EF,{which:"Bottom"}),MF.default.createElement(EF,{which:"Top"}),MF.default.createElement(EF,{which:"Left"}),MF.default.createElement(EF,{which:"Right"}),MF.default.createElement(EF,{which:"TopLeft"}),MF.default.createElement(EF,{which:"TopRight"}),MF.default.createElement(EF,{which:"BottomLeft"}),MF.default.createElement(EF,{which:"BottomRight"}))}}}),dB=Ei({"studio/src/panels/BasePanel/PanelWrapper.tsx":function(){tM(),TF=Ti(nb()),hw(),yA(),cB(),CF=Cx.div(on||(on=ai(["\n  position: absolute;\n  user-select: none;\n  box-sizing: border-box;\n  ",";\n  /* box-shadow: 1px 2px 10px -5px black; */\n\n  z-index: 1000;\n"])),BE),AF=TF.default.forwardRef((function(e,t){var n=pA(),r=e,i=r.style,a=r.children,o=ki(r,["style","children"]);return TF.default.createElement(CF,_i(wi({ref:t},o),{style:wi({width:n.dims.width+"px",height:n.dims.height+"px",top:n.dims.top+"px",left:n.dims.left+"px"},null!=i?i:{})}),TF.default.createElement(PF,null),a)})),IF=AF}}),fB=Ei({"studio/src/panels/SequenceEditorPanel/GraphEditorToggle.tsx":function(){RF=Ti(n(2114)),fb(),Fi(),OF=Ti(nb()),hw(),NM(),KC(),DF=Cx.button(sn||(sn=ai(["\n  outline: none;\n  background-color: #1c1d21;\n  border: 1px solid #191919;\n  border-radius: 2px;\n  display: flex;\n  bottom: 14px;\n  right: 8px;\n  z-index: 1;\n  position: absolute;\n\n  padding: 4px 8px;\n  display: flex;\n  color: #656d77;\n  line-height: 20px;\n  font-size: 10px;\n\n  &:hover {\n    color: white;\n  }\n\n  & > svg {\n    transition: transform 0.3s;\n    transform: rotateZ(0deg);\n  }\n\n  &:hover > svg {\n    transform: rotateZ(-20deg);\n  }\n\n  &.open > svg {\n    transform: rotateZ(-180deg);\n  }\n\n  &.open:hover > svg {\n    transform: rotateZ(-160deg);\n  }\n"]))),LF=function(e){var t=e.layoutP,n=Wy(t.graphEditorDims.isOpen),r=(0,OF.useCallback)((function(){var e=(0,RF.val)(t.graphEditorDims.isOpen);Ii().transaction((function(t){t.stateEditors.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!e})}))}),[t]);return OF.default.createElement(DF,wi({onClick:r,title:"Toggle graph editor",className:n?"open":""},BC("hide")),OF.default.createElement(DM,null))}}}),pB=Ei({"studio/src/panels/SequenceEditorPanel/SequenceEditorPanel.tsx":function(){S_(),fb(),k_(),jF=Ti(n(2114)),NF=Ti(nb()),hw(),JT(),WW(),EC(),sB(),yA(),uB(),dB(),KC(),Vi(),Py(),fB(),vC(),$P(),zF=Cx(IF)(un||(un=ai(["\n  z-index: ",";\n  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);\n"])),eC.sequenceEditorPanel),FF=Cx.div(ln||(ln=ai(["\n  background-color: rgba(40, 43, 47, 0.99);\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  z-index: -1;\n  pointer-events: none;\n"]))),BF=function(){for(var e={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},t=-1,n=0,r=Object.keys(e);n<r.length;n++){e[r[n]]=t,t++}return e}(),UF=Cx(uF)(cn||(cn=ai(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n"]))),VF={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},HF={width:800,height:200},WF=function(e){return NF.default.createElement(hA,{panelId:"sequenceEditor",defaultPosition:VF,minDims:HF},NF.default.createElement(GF,null))},GF=function(){var e=pA().dims,t=(0,NF.useState)(null),n=oi(t,2),r=n[0],i=n[1];return LP(r),lb((function(){var t=jF.prism.memo("panelSize",(function(){var t=e.width,n=e.height;return{width:t,height:n,widthWithoutBorder:t-2,heightWithoutBorder:n-4,screenX:e.left,screenY:e.top}}),[e]),n=Sy(g_().filter((function(e){return Oi(e)||Li(e)})).map((function(e){return Li(e)?e.sheet:e})));if(1!==Sy(n.map((function(e){return e.template}))).length)return NF.default.createElement(NF.default.Fragment,null);var a=n[0];if(!a)return NF.default.createElement(NF.default.Fragment,null);var o=__("panelSizeP",t).pointer,s=jF.prism.memo("key",(function(){return JSON.stringify(a.address)}),[a]),u=jF.prism.memo("layout",(function(){return gC(a,o)}),[a,o]).getValue();if(0===(0,jF.val)(u.tree.children).length)return NF.default.createElement(NF.default.Fragment,null);var l=jF.prism.memo("containerRef",XF,[]),c=(0,jF.val)(u.graphEditorDims.isAvailable),d=(0,jF.val)(u.graphEditorDims.isOpen);return NF.default.createElement(zF,{ref:function(e){l(e),e!==r&&i(e)}},NF.default.createElement(FF,{style:{width:"".concat((0,jF.val)(u.leftDims.width),"px")}}),NF.default.createElement(HC,{layoutP:u},NF.default.createElement(qF,{layoutP:u}),NF.default.createElement(YT,{key:s+"-dopeSheet",layoutP:u}),d&&NF.default.createElement(UW,{key:s+"-graphEditor",layoutP:u}),c&&NF.default.createElement(LF,{layoutP:u}),NF.default.createElement(aF,{layoutP:u})))}),[e,r])},qF=function(e){var t=e.layoutP;return lb((function(){var e=(0,jF.val)(t.sheet);return NF.default.createElement(UF,{style:{width:(0,jF.val)(t.leftDims.width)}},NF.default.createElement(oC,null,NF.default.createElement(nC,null,e.address.sheetId," "),NF.default.createElement(rC,null,":","\xa0"),NF.default.createElement(nC,null,e.address.sheetInstanceId," "),NF.default.createElement(rC,null,"\xa0",">","\xa0"),NF.default.createElement(nC,null,"Sequence")))}),[t])},KF=WF,XF=function(){var e=null,t={passive:!1,capture:!1},n=function(e){Math.abs(e.deltaY)<Math.abs(e.deltaX)&&(e.preventDefault(),e.stopPropagation())};return function(r){e!==r&&e&&e.removeEventListener("wheel",n,t),e=r,r&&r.addEventListener("wheel",n,t)}}}}),hB=Ei({"studio/src/panels/SequenceEditorPanel/VerticalScrollContainer.tsx":function(){x_(),YF=Ti(nb()),hw(),pB(),$F=Cx.div(dn||(dn=ai(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  z-index: ",";\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n"])),(function(){return BF.scrollableArea})),ZF=(0,YF.createContext)(p_),QF=function(){return(0,YF.useContext)(ZF)},JF=function(e){var t=(0,YF.useRef)(null),n=(0,YF.useCallback)((function(e){t.current.scrollBy(0,e.deltaY)}),[]);return YF.default.createElement(ZF.Provider,{value:n},YF.default.createElement($F,{ref:t},e.children))}}});function vB(e,t){var n=QF();(0,tB.useLayoutEffect)((function(){if(t){var r=function(r){if(r.ctrlKey){r.preventDefault(),r.stopPropagation();var i=r.clientX-t.getBoundingClientRect().left,a=(0,eB.val)(e.clippedSpace.toUnitSpace)(i),o=(0,eB.val)(e.clippedSpace.range),s=1+.03*mB(r.deltaY,[-50,50]),u=Tg(o,(function(e){return(e-a)*s+a})),l=(0,eB.val)(e.sheet).getSequence().length,c=l+.25*l;(0,eB.val)(e.clippedSpace.setRange)((m=[0,c],Tg(u,(function(e){return mB(e,m)}))))}else if(r.shiftKey){r.preventDefault(),r.stopPropagation();var d=(0,eB.val)(e.sheet).getSequence().length,f=(0,eB.val)(e.clippedSpace.range),p=(f.end-f.start)/d,h=.05*mB(r.deltaY||r.deltaX,[-50,50])*p,v=Tg(f,(function(e){return e+h}));(0,eB.val)(e.clippedSpace.setRange)(v)}else{n(r),r.preventDefault(),r.stopPropagation();var m,g=(0,eB.val)(e.scaledSpace.toUnitSpace)(1*r.deltaX),y=(0,eB.val)(e.clippedSpace.range),b=Tg(y,(function(e){return e+g}));(0,eB.val)(e.clippedSpace.setRange)(b)}},i={capture:!0,passive:!1};return t.addEventListener("wheel",r,i),function(){t.removeEventListener("wheel",r,i)}}}),[t,e]),jw(t,(0,tB.useMemo)((function(){return{onDragStart:function(t){var r=(0,eB.val)(e.clippedSpace.range),i=(0,eB.val)(e.clippedSpace.setRange),a=(0,eB.val)(e.scaledSpace.toUnitSpace);return t.preventDefault(),t.stopPropagation(),{onDrag:function(e,t,o,s,u){n({deltaY:-u});var l=-a(e),c=Tg(r,(function(e){return e+l}));i(c)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}}),[e]))}function mB(e,t){var n=oi(t,2),r=n[0],i=n[1];return Math.max(Math.min(e,i),r)}var gB,yB,bB,xB,wB,_B,SB=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/HorizontallyScrollableArea.tsx":function(){zw(),Lw(),fb(),eB=Ti(n(2114)),Py(),tB=Ti(nb()),hw(),hB(),tM(),vw(),Qw(),Nz(),nB=Cx.div(fn||(fn=ai(["\n  position: absolute;\n\n  right: 0;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  ",";\n\n  // hide the scrollbar on Gecko\n  scrollbar-width: none;\n\n  // hide the scrollbar on Webkit/Blink\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])),BE),rB=tB.default.memo((function(e){var t=e.layoutP,n=e.children,r=e.height,i=lb((function(){return{width:(0,eB.val)(t.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,eB.val)(t.scaledSpace.fromUnitSpace)(1)}}),[t]),a=i.width,o=i.unitSpaceToScaledSpaceMultiplier,s=Aw(null),u=oi(s,2),l=u[0],c=u[1];return vB(t,c),function(e,t){var n=(0,tB.useMemo)((function(){return{debugName:"HorizontallyScrollableArea",onDragStart:function(n){if(n.target instanceof HTMLInputElement)return!1;if(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey)return!1;if(n.composedPath().some((function(e){return e instanceof HTMLElement&&!0===e.draggable})))return!1;var r=n.clientX-t.getBoundingClientRect().left,i=hp((0,eB.val)(e.clippedSpace.toUnitSpace)(r),0,1/0),a=(0,eB.val)(e.seeker.setIsSeeking),o=(0,eB.val)(e.sheet).getSequence();o.position=i;var s=i,u=(0,eB.val)(e.scaledSpace.toUnitSpace);return a(!0),Ez(),{onDrag:function(e,t,n){var r=u(e),i=hp(s+r,0,o.length),a=Yw.checkIfMouseEventSnapToPos(n,{});null!=a&&(i=a),o.position=i},onDragEnd:function(){a(!1),Mz()}}}}}),[e,t]),r=jw(t,n),i=oi(r,1)[0];cw(i,"draggingPositionInSequenceEditor","ew-resize")}(t,c),function(e,t){(0,tB.useLayoutEffect)((function(){if(t){var n=(0,eB.prism)((function(){var t=(0,eB.val)(e.clippedSpace.range);return(0,eB.val)(e.scaledSpace.fromUnitSpace)(t.start)})),r=function(){var e=n.getValue();t.scrollLeft=e},i=n.changesWithoutValues().tap(r);r();var a=setTimeout(r,100);return function(){clearTimeout(a),i()}}}),[e,t])}(t,c),tB.default.createElement(nB,{ref:l,style:{width:a+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":o}},n)})),iB=rB}}),kB=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/Row.tsx":function(){gB=Ti(nb()),hw(),yB=Cx.li(pn||(pn=ai(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  box-sizing: border-box;\n  position: relative;\n"]))),bB=Cx.div(hn||(hn=ai(["\n  box-sizing: border-box;\n  width: 100%;\n  position: relative;\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    left: -40px;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n    border-bottom: 1px solid #252b3869;\n    background: ",";\n  }\n"])),(function(e){return e.isEven?"transparent":"#6b8fb505"})),xB=Cx.ul(vn||(vn=ai(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),wB=function(e){var t=e.leaf,n=e.children,r=e.node,i=(e.isCollapsed,Array.isArray(n)&&n.length>0);return t.shouldRender?gB.default.createElement(yB,null,gB.default.createElement(bB,{style:{height:t.nodeHeight+"px"},isEven:t.n%2===0},r),i&&gB.default.createElement(xB,null,n)):null}}}),EB=Mi({"../node_modules/fuzzy/lib/fuzzy.js":function(e,t){!function(){var n={};"undefined"!==typeof e?t.exports=n:this.fuzzy=n,n.simpleFilter=function(e,t){return t.filter((function(t){return n.test(e,t)}))},n.test=function(e,t){return null!==n.match(e,t)},n.match=function(e,t,n){n=n||{};var r,i=0,a=[],o=t.length,s=0,u=0,l=n.pre||"",c=n.post||"",d=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var f=0;f<o;f++)r=t[f],d[f]===e[i]?(r=l+r+c,i+=1,u+=1+u):u=0,s+=u,a[a.length]=r;return i===e.length?(s=d===e?1/0:s,{rendered:a.join(""),score:s}):null},n.filter=function(e,t,r){return t&&0!==t.length?"string"!==typeof e?t:(r=r||{},t.reduce((function(t,i,a,o){var s=i;r.extract&&(s=r.extract(i));var u=n.match(e,s,r);return null!=u&&(t[t.length]={string:u.rendered,score:u.score,index:a,original:i}),t}),[]).sort((function(e,t){var n=t.score-e.score;return n||e.index-t.index}))):[]}}()}});var MB,PB,TB,CB,AB,IB,RB,OB,DB,LB,jB,NB,zB,FB,BB=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/useFreezableMemo.ts":function(){_B=Ti(nb())}}),UB=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/colors.ts":function(){MB="rgba(26, 28, 30, 0.97);",PB="#272B2F"}});function VB(e,t,n,r){jw(t,function(e,t){var n=(0,_B.useState)(!1),r=oi(n,2),i=r[0],a=r[1],o=(0,_B.useRef)(t);return i||(o.current=t),(0,_B.useMemo)((function(){return e(a)}),o.current)}((function(t){return{debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart:function(){return t(!0),{onDrag:function(t,i){e&&n.onCurveChange(r(t,i))},onDragEnd:function(e){t(!1),n.onCancelCurveChange()}}}}}),[e,n.onCurveChange,n.onCancelCurveChange]))}var HB,WB,GB,qB=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/CurveSegmentEditor.tsx":function(){TB=Ti(nb()),zw(),Lw(),yp(),hw(),tM(),BB(),UB(),.12,CB=1.24,AB=.01,8,IB=.99/7,"#3EAAA4",RB="#3EAAA4","#3EAAA4","#3EAAA4","#3EAAA4",OB="#3EAAA4","#3EAAA4",DB="#B3B3B3","#3eaaa4","#67dfd8",LB=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],jB=Cx.circle(mn||(mn=ai(["\n  stroke-width: 0.1px;\n  vector-effect: non-scaling-stroke;\n  r: 0.04px;\n  pointer-events: none;\n  transition: r 0.15s;\n  fill: ",";\n"])),"#3eaaa4"),NB=Cx.circle(gn||(gn=ai(["\n  stroke-width: 0.1px;\n  vector-effect: non-scaling-stroke;\n  r: 0.09px;\n  cursor: move;\n  ",";\n  &:hover {\n    opacity: 0.4;\n  }\n  &:hover + "," {\n    fill: ",";\n  }\n"])),BE,jB,"#67dfd8"),zB=function(e){var t=e.curveConnection,n=t.left,r=t.right,i=e.backgroundConnections,a=Math.min(0,1-r.handles[1],1-n.handles[3]),o=Math.max(1,1-r.handles[1],1-n.handles[3]),s=Math.max(1,o-a),u=function(e){return(e-a)/s},l=Aw(null),c=oi(l,2),d=c[0],f=c[1],p=CB/((null==f?void 0:f.clientWidth)||1),h=CB/((null==f?void 0:f.clientHeight)||1),v=Aw(null),m=oi(v,2),g=m[0];VB(f,m[1],e,(function(e,t){return[hp(n.handles[2]+e*p,0,1),n.handles[3]-t*h,r.handles[0],r.handles[1]]}));var y=Aw(null),b=oi(y,2),x=b[0];VB(f,b[1],e,(function(e,t){var i=hp(r.handles[0]+e*p,0,1),a=r.handles[1]-t*h;return[n.handles[2],n.handles[3],i,a]}));var w=function(e){return"M0 ".concat(u(1)," C").concat(e.left.handles[2]," ").concat(u(1-e.left.handles[3])," ").concat(e.right.handles[0]," ").concat(u(1-e.right.handles[1])," 1 ").concat(u(0))};return TB.default.createElement("svg",{height:"100%",width:"100%",ref:d,viewBox:"".concat(-.12," ").concat(-.12," ").concat(CB," ").concat(CB),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},TB.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},TB.default.createElement("stop",{offset:u(-1),stopColor:"#3EAAA4"}),TB.default.createElement("stop",{offset:u(0),stopColor:OB}),TB.default.createElement("stop",{offset:u(.3),stopColor:"#3EAAA4"}),TB.default.createElement("stop",{offset:u(.5),stopColor:"#3EAAA4"}),TB.default.createElement("stop",{offset:u(.7),stopColor:"#3EAAA4"}),TB.default.createElement("stop",{offset:u(1),stopColor:RB}),TB.default.createElement("stop",{offset:u(2),stopColor:"#3EAAA4"})),TB.default.createElement("pattern",{id:"dot-background-pattern-1",width:IB,height:IB/s,y:-a/s},TB.default.createElement("rect",{width:AB,height:AB,fill:DB,opacity:.3})),TB.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),TB.default.createElement("pattern",{id:"dot-background-pattern-2",width:IB,height:IB},TB.default.createElement("rect",{width:AB,height:AB,fill:DB})),TB.default.createElement("rect",{x:0,y:u(0),width:"1",height:u(1)-u(0),fill:"url(#dot-background-pattern-2)"}),TB.default.createElement("line",{x1:0,y1:u(1),x2:n.handles[2],y2:u(1-n.handles[3]),stroke:DB,strokeWidth:"0.01"}),TB.default.createElement("line",{x1:1,y1:u(0),x2:r.handles[0],y2:u(1-r.handles[1]),stroke:DB,strokeWidth:"0.01"}),TB.default.createElement("path",{d:w(e.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),i.map((function(e,t){return TB.default.createElement("path",{key:e.objectKey+"/"+e.left.id,d:w(e),stroke:LB[t%LB.length],opacity:.6,strokeWidth:"0.01"})})),TB.default.createElement("path",{d:w(e.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),TB.default.createElement("circle",{cx:0,cy:u(1),r:"0.025",stroke:RB,strokeWidth:"0.02",fill:PB}),TB.default.createElement("circle",{cx:1,cy:u(0),r:"0.025",stroke:OB,strokeWidth:"0.02",fill:PB}),TB.default.createElement(NB,{ref:g,cx:n.handles[2],cy:u(1-n.handles[3]),fill:RB,opacity:.2}),TB.default.createElement(jB,{cx:n.handles[2],cy:u(1-n.handles[3])}),TB.default.createElement(NB,{ref:x,cx:r.handles[0],cy:u(1-r.handles[1]),fill:OB,opacity:.2}),TB.default.createElement(jB,{cx:r.handles[0],cy:u(1-r.handles[1])}))},FB=zB}});function KB(e){return e.map((function(e){return e.toFixed(HB)})).join(", ")}function XB(e){if(!e||(null==e?void 0:e.length)>WB)return null;var t=e.split(",");if(4!==t.length)return null;var n=t.map((function(e){return Number(e.trim())}));return n.every((function(e){return isFinite(e)}))?n[0]<0||n[0]>1||n[2]<0||n[2]>1?null:n:null}function YB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{threshold:.02};if(!e||!t)return!1;for(var r=0,i=0;i<4;i++)r+=Math.abs(e[i]-t[i]);return r<n.threshold}var $B,ZB,QB,JB,eU,tU,nU,rU,iU,aU,oU,sU,uU,lU=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/shared.ts":function(){HB=3,WB=128,GB=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"}]}}),cU=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/SVGCurveSegment.tsx":function(){$B=Ti(nb()),.75,ZB=.1,2.5,"#F5F5F5","#888888",QB="#4f4f4f",JB="rgba(255, 255, 255, 0.1)",eU=function(e){return 1-e},tU=function(e){var t=e.easing,n=e.isSelected;if(!t)return $B.default.createElement($B.default.Fragment,null);var r=n?"#F5F5F5":"#888888",i=[t[0],eU(t[1])],a=[t[2],eU(t[3])],o="".concat(-.75," ").concat(-.75," ").concat(2.5," ").concat(2.5);return $B.default.createElement("svg",{height:"100%",width:"100%",viewBox:o,fill:"none",xmlns:"http://www.w3.org/2000/svg"},$B.default.createElement("line",{x1:"0",y1:"1",x2:i[0],y2:i[1],stroke:QB,strokeWidth:"0.1"}),$B.default.createElement("line",{x1:"1",y1:"0",x2:a[0],y2:a[1],stroke:QB,strokeWidth:"0.1"}),$B.default.createElement("circle",{cx:i[0],cy:i[1],r:.1,fill:JB}),$B.default.createElement("circle",{cx:a[0],cy:a[1],r:.1,fill:JB}),$B.default.createElement("circle",{cx:i[0],cy:i[1],r:ZB,fill:QB}),$B.default.createElement("circle",{cx:a[0],cy:a[1],r:ZB,fill:QB}),$B.default.createElement("path",{d:"M0 1 C".concat(i[0]," ").concat(i[1]," ").concat(a[0]," \n      ").concat(a[1]," 1 0"),stroke:r,strokeWidth:"0.08"}),$B.default.createElement("circle",{cx:0,cy:1,r:ZB,fill:r}),$B.default.createElement("circle",{cx:1,cy:0,r:ZB,fill:r}))}}}),dU=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/EasingOption.tsx":function(){BL(),nU=Ti(nb()),hw(),lU(),cU(),fI(),UB(),eD(),rU=Cx.div(yn||(yn=ai(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  aspect-ratio: 1;\n\n  transition: background-color 0.15s;\n  background-color: ",";\n  border-radius: 2px;\n  cursor: pointer;\n  outline: none;\n\n  ","\n\n  &:hover {\n    background-color: #31353a;\n  }\n\n  &:focus {\n    background-color: #383d42;\n  }\n"])),PB,(function(e){return e.isSelected&&Qx(bn||(bn=ai(["\n      background-color: #383d42;\n    "])))})),iU=Cx(WO)(xn||(xn=ai(["\n  padding: 0.5em;\n  color: white;\n  max-width: 240px;\n  pointer-events: none !important;\n  --popover-bg: black;\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: transparent;\n  box-shadow: none;\n"]))),aU=nU.default.forwardRef((function(e,t){var n=kL({enabled:!0,verticalPlacement:e.tooltipPlacement,verticalGap:0},(function(){return nU.default.createElement(iU,{showPopoverEdgeTriangle:!1},e.easing.label)})),r=oi(n,2),i=r[0],a=r[1];return nU.default.createElement(rU,wi({ref:uI([a,t])},e),i,nU.default.createElement(tU,{easing:XB(e.easing.value),isSelected:e.isSelected}))})),oU=aU}});var fU,pU,hU,vU,mU,gU,yU,bU,xU,wU,_U,SU,kU=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/useUIOptionGrid.tsx":function(){var e;sU=Ti(nb()),TU(),(e=uU||(uU={}))[e.Handled=1]="Handled",e[e.Passthrough=0]="Passthrough"}});function EU(e,t,n){var r;null==(r=e.current)||r.discard(),e.current=null;var i=XB(n);null!==i&&(e.current=function(e,t){return Ii().tempTransaction((function(n){var r,i=n.stateEditors.coreByProject.historic.sheetsById.sequence.setHandlesForKeyframe,a=ui(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.projectId,u=o.sheetId,l=o.objectKey,c=o.trackId,d=o.left,f=o.right;i({projectId:s,sheetId:u,objectKey:l,trackId:c,keyframeId:d.id,start:[t[0],t[1]]}),i({projectId:s,sheetId:u,objectKey:l,trackId:c,keyframeId:f.id,end:[t[2],t[3]]})}}catch(p){a.e(p)}finally{a.f()}}))}(t,i))}function MU(e){var t;null==(t=e.current)||t.discard(),e.current=null}var PU,TU=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/CurveEditorPopover.tsx":function(){var e;fU=Ti(n(2114)),pU=Ti(nb()),hw(),hU=Ti(EB()),Fi(),qB(),dU(),lU(),UB(),Lw(),kU(),3,53,25,vU=Cx.div(wn||(wn=ai(["\n  background: ",";\n  display: grid;\n  grid-template-areas:\n    'search  tween'\n    'presets tween';\n  grid-template-rows: 32px 1fr;\n  grid-template-columns: ","px 120px;\n  gap: 1px;\n  height: 120px;\n"])),MB,159),mU=Cx.div(_n||(_n=ai(["\n  overflow: auto;\n  grid-area: presets;\n\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-auto-rows: min-content;\n  gap: 1px;\n\n  overflow-y: scroll;\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* Internet Explorer 10+ */\n  &::-webkit-scrollbar {\n    /* WebKit */\n    width: 0;\n    height: 0;\n  }\n"])),3),gU=Cx.input.attrs({type:"text"})(Sn||(Sn=ai(["\n  background-color: ",";\n  border: none;\n  border-radius: 2px;\n  color: rgba(255, 255, 255, 0.8);\n  padding: 6px;\n  font-size: 12px;\n  outline: none;\n  cursor: text;\n  text-align: left;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n\n  grid-area: search;\n\n  &:hover {\n    background-color: #212121;\n  }\n\n  &:focus {\n    background-color: rgba(16, 16, 16, 0.26);\n    outline: 1px solid rgba(0, 0, 0, 0.35);\n  }\n"])),PB),yU=Cx.div(kn||(kn=ai(["\n  grid-area: tween;\n  background: ",";\n"])),PB),bU=Cx.div(En||(En=ai(["\n  grid-column: 1 / 4;\n  padding: 6px;\n  color: #888888;\n"]))),(e=xU||(xU={}))[e.init=0]="init",e[e.user=1]="user",e[e.auto=2]="auto",e[e.multipleValues=3]="multipleValues",wU=function(e){var t=(0,pU.useMemo)((function(){return[e.curveConnection].concat(si(e.additionalConnections))}),[e.curveConnection].concat(si(e.additionalConnections))),n=(0,pU.useRef)(null);(0,pU.useEffect)((function(){var e=SU(t);return function(){var t;e(),null==(t=n.current)||t.commit()}}),[n]);var r=[e.curveConnection.left.handles[2],e.curveConnection.left.handles[3],e.curveConnection.right.handles[0],e.curveConnection.right.handles[1]],i=(0,pU.useRef)(null);(0,pU.useLayoutEffect)((function(){var e,t;null==(e=i.current)||e.select(),null==(t=i.current)||t.focus()}),[i.current]);var a=(0,pU.useState)(KB(r)),o=oi(a,2),s=o[0],u=o[1],l=function(e){p(1),u(e.target.value),XB(e.target.value)&&g(e.target.value)},c=(0,pU.useState)(0),d=oi(c,2),f=d[0],p=d[1];(0,pU.useEffect)((function(){2===f?u(KB(r)):3===f&&""!==s&&u("")}),t);var h=(0,pU.useState)(KB(r)),v=oi(h,2),m=v[0],g=v[1],y=(0,pU.useState)(null),b=oi(y,2),x=b[0],w=b[1];(0,pU.useEffect)((function(){var e;0!==f&&3!==f&&EU(n,t,null!=(e=null!=x?x:m)?e:"")}),[x,m,f]),t.some(function(e){var t=e.left,n=e.right;return function(e){var r=e.left,i=e.right;return t.handles[2]!==r.handles[2]||t.handles[3]!==r.handles[3]||n.handles[0]!==i.handles[0]||n.handles[1]!==i.handles[1]}}(e.curveConnection))&&0===f&&p(3);var _=(0,pU.useMemo)((function(){return/^[A-Za-z]/.test(s)?hU.default.filter(s,GB,{extract:function(e){return e.label}}).map((function(e){return e.original})):GB}),[s]);(0,pU.useEffect)((function(){1===f&&_[0]&&g(_[0].value)}),[_]);var S=function(t){"Escape"===t.key?(MU(n),e.onRequestClose("key Escape"),t.stopPropagation()):"Enter"===t.key&&(e.onRequestClose("key Enter"),t.stopPropagation())},k=function(){return w(null)},E=(0,pU.useRef)(GB.reduce((function(e,t){return e[t.label]={current:null},e}),{})),M=Aw(null),P=oi(M,2),T=P[0],C=P[1],A=(0,pU.useState)(0),I=oi(A,2),R=I[0],O=I[1];(0,pU.useEffect)((function(){var e=function(){var e;O(null!=(e=null==C?void 0:C.scrollTop)?e:0)};return null==C||C.addEventListener("scroll",e),function(){return null==C?void 0:C.removeEventListener("scroll",e)}}),[C]);var D,L,j=function(e){var t,n=(0,sU.useState)(null),r=oi(n,2),i=r[0],a=r[1],o=function(t){if(null!==i){var n=i+t*e.uiColumns,r=n<0,o=n>e.items.length-1;if(r||o)return e.canVerticleExit&&e.canVerticleExit(r?"top":"bottom")?void a(null):void 0;a(n)}else e.items.length>0&&a(0)},s=function(t){var n;a(null===i?(t%(n=e.items.length)+n)%n:i+t<0?null:Math.min(i+t,e.items.length-1))};return{focusFirstItem:function(){a(0)},onParentEltKeyDown:function(e){if("ArrowRight"===e.key)s(1);else if("ArrowLeft"===e.key)s(-1);else if("ArrowUp"===e.key)o(-1);else{if("ArrowDown"!==e.key)return 0;o(1)}return 1},gridItems:e.items.map((function(t,n){return e.renderItem({isSelected:n===i,item:t,select:function(r){a(n),1===e.onSelectItem(t)&&(null==r||r.preventDefault(),null==r||r.stopPropagation())}})})),currentSelection:null!=(t=e.items[null!=i?i:-1])?t:null}}({items:_,uiColumns:3,onSelectItem:function(r){return EU(n,t,r.value),e.onRequestClose("selected easing option"),uU.Handled},canVerticleExit:function(e){var t,n;return"top"===e?(null==(t=i.current)||t.select(),null==(n=i.current)||n.focus(),uU.Handled):uU.Passthrough},renderItem:function(e){var t,n,i=e.item,a=e.select;return pU.default.createElement(oU,{key:i.label,easing:i,tabIndex:0,onKeyDown:S,ref:E.current[i.label],onMouseOver:function(){return e=i,0===f&&p(2),void w(e.value);var e},onMouseOut:k,onClick:a,tooltipPlacement:(null!=(n=null==(t=E.current[i.label].current)?void 0:t.offsetTop)?n:0)-(null!=R?R:0)<78?"bottom":"top",isSelected:YB(r,XB(i.value))})}});return(0,pU.useLayoutEffect)((function(){var e,t;if(null!==j.currentSelection&&document.activeElement!==i.current){var n=null==(t=null==(e=E.current)?void 0:e[j.currentSelection.label])?void 0:t.current;null==n||n.focus(),g(j.currentSelection.value),/^[A-Za-z]/.test(s)||u(j.currentSelection.value)}}),[j.currentSelection]),pU.default.createElement(vU,null,pU.default.createElement(gU,{value:s,placeholder:3===f?"Multiple easings selected":"Search presets...",onPaste:(D=l,function(){return setTimeout(D,L)}),onChange:l,ref:i,onKeyDown:function(t){var r,i;p(1),"ArrowDown"!==t.key&&"ArrowUp"!==t.key||t.preventDefault(),"ArrowDown"===t.key?(j.focusFirstItem(),null==(i=null==(r=E.current[_[0].label])?void 0:r.current)||i.focus()):"Escape"===t.key?(MU(n),e.onRequestClose("key Escape")):"Enter"===t.key&&e.onRequestClose("key Enter")}}),pU.default.createElement(mU,{ref:T,onKeyDown:function(e){return j.onParentEltKeyDown(e)}},j.gridItems,0===j.gridItems.length?pU.default.createElement(bU,null,"No results found"):void 0),pU.default.createElement(yU,{onClick:function(){var e;return null==(e=i.current)?void 0:e.focus()}},pU.default.createElement(FB,{curveConnection:e.curveConnection,backgroundConnections:e.additionalConnections,onCurveChange:function(e){var t,n;p(2);var r=KB(e);u(r),g(r),null==(t=i.current)||t.select(),null==(n=i.current)||n.focus()},onCancelCurveChange:function(){}})))};var t=function(){var e=new fU.Box([]);return{getLock:function(t){return e.set(t),function(){e.set([])}},isCurveEditorOpenD:(0,fU.prism)((function(){return e.derivation.getValue().length>0})),isConnectionEditingInCurvePopover:function(t){return fU.prism.ensurePrism(),e.derivation.getValue().some((function(e){var n=e.left,r=e.right;return t.left.id===n.id&&t.right.id===r.id}))}}}();t.isCurveEditorOpenD,_U=t.isConnectionEditingInCurvePopover,SU=t.getLock}});function CU(e,t){var n,r=ui(function(e){for(var t,n,r,i=[],a=0,o=Object.entries(null!=(t=null==e?void 0:e.byObjectKey)?t:{});a<o.length;a++)for(var s=oi(o[a],2),u=s[0],l=s[1],c=0,d=Object.entries(null!=(n=null==l?void 0:l.byTrackId)?n:{});c<d.length;c++)for(var f=oi(d[c],2),p=f[0],h=f[1],v=0,m=Object.keys(null!=(r=null==h?void 0:h.byKeyframeId)?r:{});v<m.length;v++){var g=m[v];i.push({objectKey:u,trackId:p,keyframeId:g})}return i}(t));try{for(r.s();!(n=r.n()).done;){var i=n.value.keyframeId;if(e.left.id===i)return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function AU(e,t,n){return(0,PU.prism)((function(){if(void 0===n)return[];var r,i=[],a=ui(OU(n));try{var o=function(){var a,o=r.value,s=o.objectKey,u=o.trackId,l=(0,PU.val)(Ii().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[s].trackData[u]);l&&(i=i.concat((a=l.keyframes,a.map((function(e,t){return{left:e,right:a[t+1]}})).slice(0,-1)).filter((function(e){return CU(e,n)})).map((function(n){return{left:n.left,right:n.right,trackId:u,objectKey:s,sheetId:t,projectId:e}}))))};for(a.s();!(r=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return i}))}function IU(e,t,n){var r;if(void 0===n)return[];var i,a=[],o=ui(OU(n));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.objectKey,l=s.trackId,c=s.keyframeIds;a=a.concat(null!=(r=RU({projectId:e,sheetId:t,objectKey:u,trackId:l,keyframeIds:c}))?r:[])}}catch(f){o.e(f)}finally{o.f()}var d=Ya(a.map((function(e){return e.pathToProp})));return a.map((function(e){return{keyframe:e.keyframe,pathToProp:e.pathToProp.slice(d.length)}}))}function RU(e){var t=e.projectId,n=e.sheetId,r=e.objectKey,i=e.trackId,a=e.keyframeIds,o=(0,PU.val)(Ii().atomP.historic.coreByProject[t].sheetsById[n].sequence.tracksByObject[r]),s=null==o?void 0:o.trackData[i];if(!s)return null;var u=function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=oi(r[n],2),a=i[0];t[i[1]]=a}return t}((null==o?void 0:o.trackIdByPropPath)||{})[i];if(!u)return null;var l=[r].concat(si(Ka(u)));return a.map((function(e){return{keyframe:s.keyframes.find((function(t){return t.id===e})),pathToProp:l}})).filter((function(e){return void 0!==e.keyframe}))}function OU(e){for(var t,n,r,i=[],a=0,o=Object.entries(null!=(t=null==e?void 0:e.byObjectKey)?t:{});a<o.length;a++)for(var s=oi(o[a],2),u=s[0],l=s[1],c=0,d=Object.entries(null!=(n=null==l?void 0:l.byTrackId)?n:{});c<d.length;c++){var f=oi(d[c],2),p=f[0],h=f[1];i.push({objectKey:u,trackId:p,keyframeIds:Object.keys(null!=(r=null==h?void 0:h.byKeyframeId)?r:{})})}return i}var DU,LU=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/selections.ts":function(){PU=Ti(n(2114)),Fi(),uo()}});function jU(e){return(0,DU.useMemo)((function(){return function(e){var t=null,n=function(t){return Ii().tempTransaction((function(n){return e(n,t)}))};function r(){null==t||t.discard(),t=null}return{temporarilySetValue:function(e){r(),t=n(e)},discardTemporaryValue:r,permanentlySetValue:function(e){r(),n(e).commit()}}}(e)}),[])}var NU,zU,FU,BU,UU,VU=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/useTempTransactionEditingTools.tsx":function(){Fi(),DU=Ti(nb())}});function HU(e){var t;if("sheetObject"===e.type)return NU.default.createElement(NU.default.Fragment,null,NU.default.createElement(FU,{style:{paddingLeft:"".concat(e.indent*BU,"px")}},e.sheetObject.address.objectKey),e.children.map((function(t,n){return NU.default.createElement(HU,_i(wi({key:n},t),{autoFocusInput:e.autoFocusInput&&0===n,indent:e.indent+1}))})));if("propWithChildren"===e.type){var n=null!=(t=e.propConfig.label)?t:Ui(e.pathToProp);return NU.default.createElement(NU.default.Fragment,null,NU.default.createElement(FU,{style:{paddingLeft:"".concat(e.indent*BU,"px")}},n),e.children.map((function(t,n){return NU.default.createElement(HU,_i(wi({key:n},t),{autoFocusInput:e.autoFocusInput&&0===n,indent:e.indent+1}))})))}return NU.default.createElement(WU,_i(wi({},e),{autoFocusInput:e.autoFocusInput,indent:e.indent}))}function WU(e){var t,n=null!=(t=e.propConfig.label)?t:Ui(e.pathToProp),r=function(e){var t=e.sheetObject;return jU((function(n,r){var i=n.stateEditors,a=_i(wi({},e.keyframe),{value:r});i.coreByProject.historic.sheetsById.sequence.replaceKeyframes(_i(wi({},t.address),{trackId:e.trackId,keyframes:[a],snappingFunction:t.sheet.getSequence().closestGridPosition}))}))}(e);if("enum"===e.propConfig.type)return NU.default.createElement(NU.default.Fragment,null);var i=nD[e.propConfig.type];return NU.default.createElement(zU,null,NU.default.createElement(FU,null,NU.default.createElement("span",{style:{paddingLeft:"".concat(e.indent*BU,"px")}},n)),NU.default.createElement(UU,null,NU.default.createElement(i,{editingTools:r,propConfig:e.propConfig,value:lP(e.keyframe.value,e.propConfig),autoFocus:e.autoFocusInput})))}var GU,qU=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/DeterminePropEditorForSingleKeyframe.tsx":function(){NU=Ti(nb()),hw(),sD(),Aa(),VU(),xP(),zU=Cx.div(Mn||(Mn=ai(["\n  display: flex;\n  align-items: stretch;\n\n  select {\n    min-width: 100px;\n  }\n"]))),FU=Cx.div(Pn||(Pn=ai(["\n  font-style: normal;\n  font-weight: 400;\n  font-size: 11px;\n  line-height: 13px;\n  letter-spacing: 0.01em;\n  padding: 6px 6px 6px 0;\n\n  width: 40%;\n\n  color: #919191;\n\n  overflow: hidden;\n"]))),BU=10,UU=Cx.div(Tn||(Tn=ai(["\n  display: flex;\n  align-items: center;\n  width: 60%;\n"])))}});function KU(e){return IO({debugName:"useKeyframeInlineEditorPopover"},(function(){return GU.default.createElement(WO,{showPopoverEdgeTriangle:!0},GU.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(e)?e.map((function(e,t){return GU.default.createElement(HU,_i(wi({key:t},e),{autoFocusInput:0===t,indent:0}))})):void 0))}))}var XU,YU,$U,ZU,QU,JU,eV,tV,nV,rV,iV=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/useSingleKeyframeInlineEditorPopover.tsx":function(){GU=Ti(nb()),QO(),eD(),qU()}});var aV,oV,sV,uV,lV,cV,dV,fV,pV,hV,vV,mV=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/SingleKeyframeDot.tsx":function(){XU=Ti(nb()),hw(),Fi(),Bj(),zw(),Lw(),YU=Ti(n(2114)),KC(),vw(),Qw(),Sz(),ww(),LU(),tM(),Nz(),iV(),$P(),ZU=($U=6)+2,QU={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},JU=function(e){var t=e.isSelected,n=e.isInlineEditorPopoverOpen;return t&&n?QU.inlineEditorOpenColor:t?QU.selectedColor:n?QU.selectedAndInlineEditorOpenColor:QU.normalColor},eV=Cx.div(Cn||(Cn=ai(["\n  position: absolute;\n  ","\n\n  background: ",";\n  transform: rotateZ(45deg);\n\n  ",";\n\n  z-index: 1;\n  pointer-events: none;\n"])),dz($U),(function(e){return JU(e)}),(function(e){return e.flag===CP.Primary?"outline: 2px solid white;":""})),tV=Cx.div(An||(An=ai(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  position: absolute;\n  ",";\n  ",";\n\n  & + "," {\n    ","\n  }\n\n  &:hover + "," {\n    ","\n  }\n"])),dz(12),BE,eV,(function(e){return e.isInlineEditorPopoverOpen?dz(ZU):""}),eV,dz(ZU)),nV=function(e){var t=gw("SingleKeyframeDot",e.keyframe.id),n=DP(e.itemKey),r=Aw(null),i=oi(r,2),a=i[0],o=i[1],s=function(e,t,n){return Dj(e,{displayName:"Keyframe",menuItems:function(){var e=IU(n.leaf.sheetObject.address.projectId,n.leaf.sheetObject.address.sheetId,n.selection);return[{label:e.length>0?"Copy (selection)":"Copy",callback:function(){e.length>0?Ii().transaction((function(t){t.stateEditors.studio.ahistoric.setClipboardKeyframes(e)})):Ii().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n.keyframe,pathToProp:n.leaf.pathToProp}])}))}},{label:void 0!==n.selection?"Delete (selection)":"Delete",callback:function(){n.selection?n.selection.delete():Ii().transaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes(_i(wi({},n.leaf.sheetObject.address),{keyframeIds:[n.keyframe.id],trackId:n.leaf.trackId}))}))}}]},onOpen:function(){t._debug("Show keyframe",n)}})}(o,t,e),u=oi(s,1)[0],l=KU([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.leaf.pathToProp,propConfig:e.leaf.propConf,sheetObject:e.leaf.sheetObject,trackId:e.leaf.trackId}]),c=l.node,d=l.toggle,f=l.isOpen,p=function(e,t,n){var r=(0,XU.useRef)(t);r.current=t;var i=n.onClickFromDrag,a=(0,XU.useMemo)((function(){return{debugName:"KeyframeDot/useDragKeyframe",onDragStart:function(t){var n=r.current;if(Pz(Tz((0,YU.val)(Ii().atomP.historic.coreByProject[n.leaf.sheetObject.address.projectId].sheetsById[n.leaf.sheetObject.address.sheetId].sequence.tracksByObject),(function(e,t){var r,i,a=t.trackId,o=t.objectKey;return e.id!==n.keyframe.id&&!(n.selection&&(null==(i=null==(r=n.selection.byObjectKey[o])?void 0:r.byTrackId[a])?void 0:i.byKeyframeId[e.id]))}))),n.selection){var a=n.selection,o=n.leaf.sheetObject,s=a.getDragHandlers(_i(wi({},o.address),{domNode:e,positionAtStartOfDrag:n.track.data.keyframes[n.index].position})).onDragStart(t);return s&&_i(wi({},s),{onClick:i,onDragEnd:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==(t=s.onDragEnd)||(e=t).call.apply(e,[s].concat(r)),Mz()}})}var u,l=n,c=(0,YU.val)(l.layoutP.scaledSpace.toUnitSpace);return{onDrag:function(t,n,r){var i,a=l.track.data.keyframes[l.index],o=Math.max(null!=(i=Yw.checkIfMouseEventSnapToPos(r,{ignore:e}))?i:a.position+c(t),0);null==u||u.discard(),u=void 0,u=Ii().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.replaceKeyframes(_i(wi({},l.leaf.sheetObject.address),{trackId:l.leaf.trackId,keyframes:[_i(wi({},a),{position:o})],snappingFunction:(0,YU.val)(l.layoutP.sheet).getSequence().closestGridPosition}))}))},onDragEnd:function(e){e?null==u||u.commit():null==u||u.discard(),Mz()},onClick:function(e){i(e)}}}}}),[i]),o=jw(e,a),s=oi(o,1)[0];return FC(s,t.keyframe.position),cw(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}(o,e,{onClickFromDrag:function(e){d(e,a.current)}});oi(p,1)[0];return XU.default.createElement(XU.default.Fragment,null,XU.default.createElement(tV,wi({ref:a,isInlineEditorPopoverOpen:f},n.attrs)),XU.default.createElement(eV,{isSelected:!!e.selection,isInlineEditorPopoverOpen:f,flag:n.flag}),c,u)},rV=nV}}),gV=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/keyframeRowUI/ConnectorLine.tsx":function(){DS(),aV=Ti(nb()),hw(),mV(),oV=$U/2+1,1e3,sV={normalColor:"#365b59",selectedColor:"#8A7842",barColor:function(e){var t=e.isSelected?sV.selectedColor:sV.normalColor;return e.isPopoverOpen?aS(.2,iS(.2,t)):t},hoverColor:function(e){var t=e.isSelected?sV.selectedColor:sV.normalColor;return e.isPopoverOpen?aS(.2,iS(.2,t)):aS(.1,iS(.1,t))}},uV=Cx.div(In||(In=ai(["\n  position: absolute;\n  background: ",";\n  height: ","px;\n  width: ","px;\n\n  left: 0;\n  top: -","px;\n  transform-origin: top left;\n  z-index: 0;\n  cursor: ew-resize;\n\n  &:after {\n    display: block;\n    position: absolute;\n    content: ' ';\n    top: -4px;\n    bottom: -4px;\n    left: 0;\n    right: 0;\n  }\n\n  &:hover {\n    background: ",";\n  }\n"])),sV.barColor,oV,1e3,oV/2,sV.hoverColor),lV=aV.default.forwardRef((function(e,t){var n={isPopoverOpen:e.isPopoverOpen,isSelected:e.isSelected};return aV.default.createElement(uV,_i(wi({},n),{ref:t,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e.connectorLengthInUnitSpace/1e3,"))")},onClick:function(t){var n;null==(n=e.openPopover)||n.call(e,t)}}),e.children)}))}});var yV,bV,xV,wV,_V,SV,kV,EV,MV,PV,TV,CV=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/BasicKeyframeConnector.tsx":function(){Fi(),Bj(),zw(),Lw(),cV=Ti(n(2114)),dV=Ti(nb()),fV=Ti(nb()),QO(),eD(),TU(),gV(),UB(),fb(),LU(),LU(),hw(),5,pV=Cx(WO)(Rn||(Rn=ai(["\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: ",";\n"])),MB),hV=function(e){var t=e.index,n=e.track,r=n.data.keyframes[t],i=n.data.keyframes[t+1],a=Aw(null),o=oi(a,2),s=o[0],u=o[1],l=IO((function(){var t=(0,cV.val)(e.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:t.screenX+5,maxX:t.screenX+t.width-5}}}),(function(){return dV.default.createElement(vV,_i(wi({},e),{closePopover:f}))})),c=l.node,d=l.toggle,f=l.close,p=function(e,t,n,r){return Dj(t,{displayName:"Tween",menuItems:function(){var t=IU(e.leaf.sheetObject.address.projectId,e.leaf.sheetObject.address.sheetId,e.selection);return[{label:t.length>0?"Copy (selection)":"Copy",callback:function(){t.length>0?Ii().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes(t)})):Ii().transaction((function(t){t.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n,pathToProp:e.leaf.pathToProp},{keyframe:r,pathToProp:e.leaf.pathToProp}])}))}},{label:e.selection?"Delete (selection)":"Delete",callback:function(){e.selection?e.selection.delete():Ii().transaction((function(t){t.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes(_i(wi({},e.leaf.sheetObject.address),{keyframeIds:[n.id,r.id],trackId:e.leaf.trackId}))}))}}]}})}(e,u,r,i),h=oi(p,1)[0];!function(e,t){var n=(0,fV.useRef)(t);n.current=t;var r=(0,fV.useMemo)((function(){return{debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart:function(t){var r,i=n.current;if(i.selection){var a=i.selection,o=i.leaf.sheetObject;return a.getDragHandlers(_i(wi({},o.address),{domNode:e,positionAtStartOfDrag:i.track.data.keyframes[i.index].position})).onDragStart(t)}var s=i,u=(0,cV.val)(s.layoutP.sheet).getSequence(),l=(0,cV.val)(s.layoutP.scaledSpace.toUnitSpace);return{onDrag:function(e,t,n){var i=l(e);r&&(r.discard(),r=void 0),r=Ii().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.transformKeyframes(_i(wi({},s.leaf.sheetObject.address),{trackId:s.leaf.trackId,keyframeIds:[s.keyframe.id,s.track.data.keyframes[s.index+1].id],translate:i,scale:1,origin:0,snappingFunction:u.closestGridPosition}))}))},onDragEnd:function(e){e?r&&r.commit():r&&r.discard()}}}}}),[]);jw(e,r)}(u,e);var v=i.position-r.position,m={isPopoverOpen:lb((function(){return _U(_i(wi({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,left:r,right:i}))}),[e.leaf.sheetObject.address,e.leaf.trackId,r,i]),isSelected:void 0!==e.selection};return dV.default.createElement(dV.default.Fragment,null,dV.default.createElement(lV,_i(wi({ref:s,connectorLengthInUnitSpace:v},m),{openPopover:function(e){u&&d(e,u)}}),c),h)},vV=dV.default.forwardRef((function(e,t){var n=e.index,r=e.track.data,i=e.selection,a=r.keyframes[n],o=r.keyframes[n+1],s=e.leaf.trackId,u=e.leaf.sheetObject.address,l=lb((function(){return AU(u.projectId,u.sheetId,i).getValue()}),[u,i]),c=wi({left:a,right:o,trackId:s},u);return dV.default.createElement(pV,{showPopoverEdgeTriangle:!1,ref:t},dV.default.createElement(wU,{curveConnection:c,additionalConnections:l,onRequestClose:e.closePopover}))}))}}),AV=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/SingleKeyframeEditor.tsx":function(){yV=Ti(n(2114)),bV=Ti(nb()),hw(),CV(),mV(),xV=Cx.div(On||(On=ai(["\n  position: absolute;\n"]))),wV=bV.default.createElement(bV.default.Fragment,null),_V=bV.default.memo((function(e){var t=e.index,n=e.track.data,r=n.keyframes[t],i=n.keyframes[t+1],a=r.connectedRight&&!!i;return bV.default.createElement(xV,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,yV.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(r.position,"px))")}},bV.default.createElement(rV,_i(wi({},e),{itemKey:e.itemKey})),a?bV.default.createElement(hV,wi({},e)):wV)})),SV=_V}});function IV(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:function(){var n,r=(0,kV.val)(e.layoutP.sheet).getSequence(),i=null==(n=t[0])?void 0:n.pathToProp,a=t.filter((function(e){e.keyframe;var t=e.pathToProp;return function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(i,t)})).map((function(e){var t=e.keyframe;e.pathToProp;return t}));Ii().transaction((function(t){var n,i=t.stateEditors;r.position=r.closestGridPosition(r.position);var o,s=null==(n=function(e){var t,n=null,r=ui(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;(null===n||i.position<n.position)&&(n=i)}}catch(a){r.e(a)}finally{r.f()}return n}(a))?void 0:n.position,u=ui(a);try{for(u.s();!(o=u.n()).done;){var l=o.value;i.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(_i(wi({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,position:r.position+l.position-s,handles:l.handles,value:l.value,snappingFunction:r.closestGridPosition}))}}catch(c){u.e(c)}finally{u.f()}}))}}}var RV,OV,DV,LV=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/BasicKeyframedTrack.tsx":function(){fb(),kV=Ti(n(2114)),EV=Ti(nb()),hw(),AV(),Bj(),Lw(),Fi(),uo(),Nz(),jy(),MV=Cx.div(Dn||(Dn=ai(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),(PV=EV.default.memo((function(e){var t,n=e.layoutP,r=e.trackData,i=e.leaf,a=Aw(null),o=oi(a,2),s=o[0],u=o[1],l=lb((function(){var e=(0,kV.val)(n.selectionAtom),t=(0,kV.val)(e.pointer.current.byObjectKey[i.sheetObject.address.objectKey].byTrackId[i.trackId].byKeyframeId);return t?{selectedKeyframeIds:t,selection:(0,kV.val)(e.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}}),[n,i.trackId]),c=l.selectedKeyframeIds,d=l.selection,f=function(e,t){return Dj(e,{displayName:"Keyframe Track",menuItems:function(){var e,n=null!=(e=(0,kV.val)(Ii().atomP.ahistoric.clipboard.keyframesWithRelativePaths))?e:[];return[IV(t,n)]}})}(u,e),p=oi(f,3),h=p[0],v=(p[1],p[2]),m=Wy(xz),g="snapToSome"===m.mode?null==(t=m.positions[i.sheetObject.address.objectKey])?void 0:t[i.trackId]:[],y="snapToAll"===m.mode,b=(0,EV.useMemo)((function(){return{data:r,id:i.trackId,sheetObject:e.leaf.sheetObject}}),[r,i.trackId]),x=r.keyframes.map((function(e,t){return EV.default.createElement(SV,{key:"keyframe-"+e.id,itemKey:Ry.forTrackKeyframe(i.sheetObject,i.trackId,e.id),keyframe:e,index:t,track:b,layoutP:n,leaf:i,selection:!0===c[e.id]?d:void 0})})),w=g.map((function(e){return EV.default.createElement(yz,{key:"snap-target-"+e,layoutP:n,leaf:i,position:e})})),_=y?r.keyframes.map((function(e){return EV.default.createElement(yz,{key:"additionalSnapTarget-".concat(e.id),layoutP:n,leaf:i,position:e.position})})):null;return EV.default.createElement(MV,{ref:s,style:{background:v?"#444850 ":"unset"}},x,w,EV.default.createElement(EV.default.Fragment,null,_),h)}))).displayName="BasicKeyframedTrack",TV=PV}}),jV=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/PrimitivePropRow.tsx":function(){Fi(),fb(),RV=Ti(n(2114)),OV=Ti(nb()),kB(),LV(),ww(),DV=function(e){var t=e.leaf,n=e.layoutP,r=gw("PrimitivePropRow",t.pathToProp.join());return lb((function(){var e=t.sheetObject,i=t.trackId,a=(0,RV.val)(Ii().atomP.historic.coreByProject[e.address.projectId].sheetsById[e.address.sheetId].sequence.tracksByObject[e.address.objectKey].trackData[i]);if("BasicKeyframedTrack"!==(null==a?void 0:a.type))return r.errorDev("trackData type ".concat(null==a?void 0:a.type," is not yet supported on the sequence editor")),OV.default.createElement(wB,{leaf:t,isCollapsed:!1,node:OV.default.createElement("div",null)});var o=OV.default.createElement(TV,{layoutP:n,trackData:a,leaf:t});return OV.default.createElement(wB,{leaf:t,isCollapsed:!1,node:o})}),[t,n])}}});var NV,zV=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/iif.tsx":function(){}});function FV(e){var t=e.index,n=e.aggregateKeyframes,r=e.selection;return lb(BV(e),[t,n,r,e.viewModel])}function BV(e){var t=e.index,n=e.aggregateKeyframes,r=e.selection,i="sheet"===e.viewModel.type?e.viewModel.sheet.address:e.viewModel.sheetObject.address,a=i.projectId,o=i.sheetId;return function(){var i=n[t],s=n[t+1],u=s&&i.keyframes.length===s.keyframes.length&&i.keyframes.every((function(e,t){var n=e.track;return s.keyframes[t].track===n}))?{length:s.position-i.position,selected:i.selected===_H.AllSelected&&s.selected===_H.AllSelected}:null,l=u?i.keyframes.map((function(e,t){var n=e.kf,r=e.track;return _i(wi({},r.sheetObject.address),{trackId:r.id,left:n,right:s.keyframes[t].kf})})):[],c=function(){var e=NV.prism.memo("selectedConnections",(function(){return AU(a,o,r)}),[a,o,r]).getValue();return[].concat(si(l),si(e))}(),d=l.every((function(e){return _U(e)}));return{itemKey:NV.prism.memo("itemKey",(function(){return"sheet"===e.viewModel.type?Ry.forSheetAggregateKeyframe(e.viewModel.sheet,i.position):"sheetObject"===e.viewModel.type?Ry.forSheetObjectAggregateKeyframe(e.viewModel.sheetObject,i.position):Ry.forCompoundPropAggregateKeyframe(e.viewModel.sheetObject,e.viewModel.pathToProp,i.position)}),[e.viewModel,i.position]),cur:i,connected:u,isAggregateEditingInCurvePopover:d,allConnections:c}}}var UV,VV,HV,WV,GV,qV=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/useAggregateKeyframeEditorUtils.tsx":function(){NV=Ti(n(2114)),jy(),YH(),TU(),fb(),LU(),zV()}});var KV,XV,YV,$V,ZV,QV,JV,eH,tH,nH,rH=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/AggregateKeyframeConnector.tsx":function(){UV=Ti(n(2114)),VV=Ti(nb()),gV(),YH(),QO(),Lw(),Fi(),zw(),TU(),qV(),hw(),eD(),LU(),Bj(),uo(),5,HV=Cx(WO)(Ln||(Ln=ai(["\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: rgba(26, 28, 30, 0.97);\n"]))),WV=VV.default.forwardRef((function(e,t){var n=FV(e).allConnections;return VV.default.createElement(HV,{showPopoverEdgeTriangle:!1,ref:t},VV.default.createElement(wU,{curveConnection:n[0],additionalConnections:n,onRequestClose:e.closePopover}))})),GV=function(e){var t=Aw(null),n=oi(t,2),r=n[0],i=n[1],a=e.editorProps,o=function(e,t){return Dj(t,{displayName:"Aggregate Tween",menuItems:function(){var t=e.utils.allConnections.reduce((function(e,t){var n;return e.concat(null!=(n=RU(_i(wi({},t),{keyframeIds:[t.left.id,t.right.id]})))?n:[])}),[]),n=Ya(t.map((function(e){return e.pathToProp}))),r=t.map((function(e){return{keyframe:e.keyframe,pathToProp:e.pathToProp.slice(n.length)}})),i=e.editorProps.viewModel,a="sheet"===i.type?i.sheet.address:i.sheetObject.address;return[{label:"Copy",callback:function(){if(e.editorProps.selection){var t=IU(a.projectId,a.sheetId,e.editorProps.selection);Ii().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes(t)}))}else Ii().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes(r)}))}},{label:"Delete",callback:function(){e.editorProps.selection?e.editorProps.selection.delete():Ii().transaction((function(t){var n,r=t.stateEditors,i=ui(e.utils.allConnections);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.coreByProject.historic.sheetsById.sequence.deleteKeyframes(_i(wi({},a),{objectKey:o.objectKey,keyframeIds:[o.left.id,o.right.id],trackId:o.trackId}))}}catch(s){i.e(s)}finally{i.f()}}))}}]}})}(e,i),s=oi(o,1)[0],u=function(e,t){var n=(0,VV.useRef)(t);n.current=t;var r=(0,VV.useMemo)((function(){return{debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart:function(t){var r,i=n.current,a=i.aggregateKeyframes[i.index].keyframes,o=i.selection,s=i.viewModel,u="sheet"===s.type?s.sheet.address:s.sheetObject.address;if(o&&i.aggregateKeyframes[i.index].selected===_H.AllSelected)return o.getDragHandlers(_i(wi({},u),{domNode:e,positionAtStartOfDrag:i.aggregateKeyframes[i.index].position})).onDragStart(t);var l=i,c=(0,UV.val)(l.layoutP.sheet).getSequence(),d=(0,UV.val)(l.layoutP.scaledSpace.toUnitSpace);return{onDrag:function(e,t,n){var i=d(e);r&&(r.discard(),r=void 0),r=Ii().tempTransaction((function(e){var t,n=e.stateEditors,r=ui(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.coreByProject.historic.sheetsById.sequence.transformKeyframes(_i(wi({},o.track.sheetObject.address),{trackId:o.track.id,keyframeIds:[o.kf.id,o.track.data.keyframes[o.track.data.keyframes.indexOf(o.kf)+1].id],translate:i,scale:1,origin:0,snappingFunction:c.closestGridPosition}))}}catch(s){r.e(s)}finally{r.f()}}))},onDragEnd:function(e){e?r&&r.commit():r&&r.discard()}}}}}),[]);return jw(e,r)}(i,e.editorProps),l=oi(u,1)[0],c=IO((function(){var e=(0,UV.val)(a.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:e.screenX+5,maxX:e.screenX+e.width-5}}}),(function(){return VV.default.createElement(WV,_i(wi({},a),{closePopover:p}))})),d=c.node,f=c.toggle,p=c.close,h=e.utils,v=h.connected,m=h.isAggregateEditingInCurvePopover;return v||l?VV.default.createElement(VV.default.Fragment,null,VV.default.createElement(lV,{ref:r,connectorLengthInUnitSpace:v?v.length:0,isSelected:!!v&&v.selected,isPopoverOpen:m,openPopover:function(e){i&&f(e,i)}}),d,s):VV.default.createElement(VV.default.Fragment,null)}}});function iH(e){var t={isSelected:e.isSelected,flag:e.flag};return KV.default.createElement(XV,null,e.isAllHere?KV.default.createElement(tH,wi({},t)):KV.default.createElement(nH,wi({},t)))}var aH,oH,sH=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/AggregateKeyframeVisualDot.tsx":function(){KV=Ti(nb()),YH(),$P(),hw(),Sz(),tM(),16,18,XV=Cx.div(jn||(jn=ai(["\n  position: absolute;\n  ","\n  z-index: 1;\n"])),dz(16)),YV=Cx.div(Nn||(Nn=ai(["\n  z-index: 2;\n  cursor: ew-resize;\n\n  position: absolute;\n  ",";\n  ",";\n\n  &:hover\n    + ",",\n    #pointer-root.draggingPositionInSequenceEditor\n    &:hover\n    + "," {\n    ","\n  }\n"])),dz(12),BE,XV,XV,dz(18)),$V="#F2C95C",ZV="#40AAA4",QV="#45747C",JV=function(e){return e.isSelected===_H.AllSelected?$V:e.isSelected===_H.AtLeastOneUnselected?ZV:QV},eH=function(e){return e.isSelected===_H.AllSelected?$V:e.isSelected===_H.AtLeastOneUnselected?ZV:QV},tH=function(e){return KV.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},KV.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:eH(e)}),KV.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:JV(e),stroke:e.flag===CP.Primary?"white":void 0,strokeWidth:e.flag===CP.Primary?"2px":void 0}))},nH=function(e){return KV.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},KV.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:e.flag===CP.Primary?"white":JV(e),strokeWidth:e.flag===CP.Primary?"2px":void 0}))}}});function uH(e,t){var n=e.children.map((function(e){return"propWithChildren"===e.type?uH(e,t):lH(e,t)})).filter(oH);return 0===n.length?null:{type:"propWithChildren",pathToProp:e.pathToProp,propConfig:e.propConf,children:n}}function lH(e,t){var n=t.find((function(t){return t.track.id===e.trackId}));return n?{type:"primitiveProp",keyframe:n.kf,pathToProp:e.pathToProp,propConfig:e.propConf,sheetObject:e.sheetObject,trackId:e.trackId}:null}function cH(e){var t,n,r,i,a=e.utils.cur,o=KU("sheet"===e.editorProps.viewModel.type?null:"sheetObject"===e.editorProps.viewModel.type?null!=(n=null==(t=function(e,t){var n=e.children.map((function(e){return"propWithChildren"===e.type?uH(e,t):lH(e,t)})).filter(oH);return 0===n.length?null:{type:"sheetObject",sheetObject:e.sheetObject,children:n}}(e.editorProps.viewModel,a.keyframes))?void 0:t.children)?n:null:null!=(i=null==(r=uH(e.editorProps.viewModel,a.keyframes))?void 0:r.children)?i:null),s=DP(e.utils.itemKey);s.useRelations((function(){return a.keyframes.map((function(e){return{affects:e.itemKey,flag:CP.Primary}}))}),[a.keyframes.map((function(e){return e.track.id})).join("-")]);var u=Aw(null),l=oi(u,2),c=l[0],d=l[1],f=function(e,t){return Dj(t,{displayName:"Aggregate Keyframe",menuItems:function(){var t=e.editorProps.viewModel,n=e.editorProps.selection;return[{label:n?"Copy (selection)":"Copy",callback:function(){if(n){var r="sheet"===t.type?t.sheet.address:t.sheetObject.address,i=IU(r.projectId,r.sheetId,n);Ii().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes(i)}))}else{var a=e.utils.cur.keyframes.flatMap((function(e){var t;return null!=(t=RU(_i(wi({},e.track.sheetObject.address),{trackId:e.track.id,keyframeIds:[e.kf.id]})))?t:[]})),o=Ya(["sheet"===t.type?[]:"sheetObject"===t.type?[t.sheetObject.address.objectKey]:"propWithChildren"===t.type?[t.sheetObject.address.objectKey].concat(si(t.pathToProp)):[]].concat(si(a.map((function(e){return e.pathToProp}))))),s=a.map((function(e){return{keyframe:e.keyframe,pathToProp:e.pathToProp.slice(o.length)}}));Ii().transaction((function(e){e.stateEditors.studio.ahistoric.setClipboardKeyframes(s)}))}}},{label:n?"Delete (selection)":"Delete",callback:function(){n?n.delete():Ii().transaction((function(t){var n,r=t.stateEditors,i=ui(e.utils.cur.keyframes);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.coreByProject.historic.sheetsById.sequence.deleteKeyframes(_i(wi({},a.track.sheetObject.address),{keyframeIds:[a.kf.id],trackId:a.track.id}))}}catch(o){i.e(o)}finally{i.f()}}))}}]}})}(e,d),p=oi(f,1)[0];return aH.default.createElement(aH.default.Fragment,null,aH.default.createElement(YV,_i(wi(wi({ref:c},s.attrs),Yw.includePositionSnapAttrs(a.position)),{onClick:function(t){return"sheet"!==e.editorProps.viewModel.type?o.open(t,c.current):null}})),aH.default.createElement(iH,{flag:s.flag,isAllHere:a.allHere,isSelected:a.selected}),p,o.node)}var dH,fH,pH,hH,vH,mH,gH,yH,bH,xH,wH,_H,SH,kH,EH,MH=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/AggregateKeyframeDot.tsx":function(){aH=Ti(nb()),Lw(),$P(),Bj(),sH(),Fi(),LU(),uo(),Qw(),iV(),oH=function(e){return null!==e}}}),PH=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/AggregateKeyframeEditor.tsx":function(){dH=Ti(n(2114)),fH=Ti(nb()),hw(),rH(),qV(),MH(),pH=Cx.div(zn||(zn=ai(["\n  position: absolute;\n"]))),hH=fH.default.memo((function(e){var t=FV(e);return fH.default.createElement(pH,{style:{top:"".concat(e.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,dH.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.cur.position,"px))")}},fH.default.createElement(cH,{editorProps:e,utils:t}),fH.default.createElement(GV,{editorProps:e,utils:t}))})),vH=hH}});function TH(e){var t=e.layoutP,n=e.aggregatedKeyframes,r=e.viewModel,i=gw("AggregatedKeyframeTrack"),a=Aw(null),o=oi(a,2),s=o[0],u=o[1],l=function(e,t){return lb((function(){return(0,mH.val)(function(e,t){return(0,mH.prism)((function(){var n=(0,mH.val)(e.selectionAtom),r=(0,mH.val)(n.pointer.current);if(!r)return bH;var i,a=new Map,o=ui(t.byPosition);try{for(o.s();!(i=o.n()).done;){var s=oi(i.value,2),u=s[0],l=CH(s[1],r);void 0!==l&&l!==EH&&a.set(u,l)}}catch(c){o.e(c)}finally{o.f()}return{selectedPositions:a,selection:(0,mH.val)(n.pointer.current)}}))}(e,t))}),[e,t])}(t,n),c=l.selectedPositions,d=l.selection,f=function(e,t,n){return Dj(e,{onOpen:n,displayName:"Aggregate Keyframe Track",menuItems:function(){var e,n=null!=(e=(0,mH.valueDerivation)(Ii().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())?e:[];return[AH(t,n)]}})}(u,e,(function(){return i._debug("see aggregatedKeyframes",e.aggregatedKeyframes)})),p=oi(f,3),h=p[0],v=(p[1],p[2]),m=(0,gH.useMemo)((function(){return si(n.byPosition.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e){var t=oi(e,2),r=t[0],i=t[1];return{position:r,keyframes:i,selected:c.get(r),allHere:i.length===n.tracks.length}}))}),[n,c]),g=Wy(xz),y="snapToAll"===g.mode,b="snapToSome"===g.mode?g.positions:h_,x=(0,gH.useMemo)((function(){return"sheet"===r.type?(e=b,Sy(r.children.flatMap((function(t){return n_(t,e)})))):n_(r,b);var e}),[b]).map((function(e){return gH.default.createElement(yz,{key:"snap-target-"+e,layoutP:t,leaf:r,position:e})})),w=(0,gH.useMemo)((function(){return m.map((function(e,n){var i=e.position;e.keyframes;return{position:i,editorProps:{index:n,layoutP:t,viewModel:r,aggregateKeyframes:m,selection:c.has(i)?d:void 0}}}))}),[m,r,c]),_=function(e,t,n){var r=gw("useDragForAggregateKeyframeDot"),i=zC(),a=(0,gH.useMemo)((function(){return{debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart:function(a){r._debug("onDragStart",{target:a.target});var o=Number(a.target.dataset.pos),s=t(o);if(!s)return r._debug("no props found for ",{positionToFind:o}),!1;i(!0,o);var u=(0,mH.prism)(BV(s)).getValue().cur.keyframes,l="sheet"===s.viewModel.type?s.viewModel.sheet.address:s.viewModel.sheetObject.address;if(Pz(Tz((0,mH.val)(Ii().atomP.historic.coreByProject[l.projectId].sheetsById[l.sheetId].sequence.tracksByObject),(function(e,t){var n,r,i=t.trackId,a=t.objectKey;return u.every((function(t){return e.id!==t.kf.id}))&&!(s.selection&&(null==(r=null==(n=s.selection.byObjectKey[a])?void 0:n.byTrackId[i])?void 0:r.byKeyframeId[e.id]))}))),s.selection&&0===s.aggregateKeyframes[s.index].selected){var c=s.selection,d=(s.viewModel,c.getDragHandlers(_i(wi({},l),{domNode:e,positionAtStartOfDrag:u[0].kf.position})).onDragStart(a));return d&&_i(wi({},d),{onClick:n.onClickFromDrag,onDragEnd:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==(t=d.onDragEnd)||(e=t).call.apply(e,[d].concat(r)),Mz()}})}var f,p=s,h=(0,mH.val)(p.layoutP.scaledSpace.toUnitSpace);return{onDrag:function(e,t,n){var r,a=Math.max(null!=(r=Yw.checkIfMouseEventSnapToPos(n,{}))?r:u[0].kf.position+h(e),0);i(!0,a),null==f||f.discard(),f=void 0,f=Ii().tempTransaction((function(e){var t,n=e.stateEditors,r=ui(u);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.kf;n.coreByProject.historic.sheetsById.sequence.replaceKeyframes(_i(wi({},i.track.sheetObject.address),{trackId:i.track.id,keyframes:[_i(wi({},o),{position:a})],snappingFunction:(0,mH.val)(p.layoutP.sheet).getSequence().closestGridPosition}))}}catch(s){r.e(s)}finally{r.f()}}))},onDragEnd:function(e){i(!1,-1),e?null==f||f.commit():(null==f||f.discard(),n.onClickFromDrag(a)),Mz()},onClick:function(e){n.onClickFromDrag(e)}}}}}),[t,n.onClickFromDrag]),o=jw(e,a),s=oi(o,1)[0];return cw(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}(u,(function(e){var t;return null==(t=w.find((function(t){return t.position===e})))?void 0:t.editorProps}),{onClickFromDrag:function(e){}}),S=(oi(_,1)[0],w.map((function(e,n){return gH.default.createElement(gH.Fragment,{key:"agg-"+m[n].keyframes[0].kf.id},y&&gH.default.createElement(yz,{layoutP:t,leaf:r,position:e.position}),gH.default.createElement(vH,wi({},e.editorProps)))})));return gH.default.createElement(yH,{ref:s,style:{background:v?"#444850 ":"unset"}},S,x,h)}function CH(e,t){var n,r,i,a,o=void 0,s=ui(e);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=u.track,c=u.kf,d=!0===(null==(i=null==(r=null==(n=t.byObjectKey[l.sheetObject.address.objectKey])?void 0:n.byTrackId[l.id])?void 0:r.byKeyframeId)?void 0:i[c.id]);void 0===o?o=d?SH:EH:d?o===EH&&(o=kH):o===SH&&(o=kH)}}catch(f){s.e(f)}finally{s.f()}return o}function AH(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:function(){var n=(0,mH.val)(e.layoutP.sheet).getSequence();"sheet"===e.viewModel.type?function(e,t,n){var r,i=e.sheet.address,a=i.projectId,o=i.sheetId,s=i.sheetInstanceId;if(t.every((function(e){return 0===e.pathToProp.length}))){var u,l=ui(e.children.map((function(e){return e.sheetObject})));try{for(l.s();!(u=l.n()).done;){var c=u.value,d=(0,mH.valueDerivation)(Ii().atomP.historic.coreByProject[a].sheetsById[o].sequence.tracksByObject[c.address.objectKey]).getValue(),f=Object.keys(null!=(r=null==d?void 0:d.trackData)?r:{});IH(c.address,f,t,n)}}catch(h){l.e(h)}finally{l.f()}}else{var p=(0,mH.valueDerivation)(Ii().atomP.historic.coreByProject[a].sheetsById[o].sequence.tracksByObject).getValue();RH(t.map((function(e){var t,n,r=e.keyframe,i=e.pathToProp,u=i[0],l=i.slice(1),c=qa(si(l)),d=(null!=(n=null==(t=null==p?void 0:p[u])?void 0:t.trackIdByPropPath)?n:{})[c];return d?{keyframe:r,trackId:d,address:{objectKey:u,projectId:a,sheetId:o,sheetInstanceId:s}}:null})).filter((function(e){return null!==e})),n)}}(e.viewModel,t,n):function(e,t,n){var r,i=e.sheetObject.address,a=i.projectId,o=i.sheetId,s=i.objectKey,u=(0,mH.valueDerivation)(Ii().atomP.historic.coreByProject[a].sheetsById[o].sequence.tracksByObject[s]).getValue();if(t.every((function(e){return 0===e.pathToProp.length}))){var l=Object.keys(null!=(r=null==u?void 0:u.trackData)?r:{});if("sheetObject"===e.type)IH(e.sheetObject.address,l,t,n);else{var c=(null==u?void 0:u.trackIdByPropPath)||{},d=Object.entries(c).filter((function(t){var n,r=oi(t,2),i=r[0];return void 0!==r[1]&&(n=Ka(i),e.pathToProp.every((function(e,t){return e===n[t]})))})).map((function(e){var t=oi(e,2);t[0];return t[1]}));IH(e.sheetObject.address,d,t,n)}}else{var f=(null==u?void 0:u.trackIdByPropPath)||{},p="propWithChildren"===e.type?e.pathToProp:[];RH(t.map((function(t){var n=t.keyframe,r=t.pathToProp,i=qa([].concat(si(p),si(r))),a=f[i];return a?{keyframe:n,trackId:a,address:e.sheetObject.address}:null})).filter((function(e){return null!==e})),n)}}(e.viewModel,t,n)}}}function IH(e,t,n,r){var i;r.position=r.closestGridPosition(r.position);var a=null==(i=OH(n.map((function(e){return e.keyframe}))))?void 0:i.position;Ii().transaction((function(i){var o,s=i.stateEditors,u=ui(t);try{for(u.s();!(o=u.n()).done;){var l,c=o.value,d=ui(n);try{for(d.s();!(l=d.n()).done;){var f=l.value.keyframe;s.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(_i(wi({},e),{trackId:c,position:r.position+f.position-a,handles:f.handles,value:f.value,snappingFunction:r.closestGridPosition}))}}catch(p){d.e(p)}finally{d.f()}}}catch(p){u.e(p)}finally{u.f()}}))}function RH(e,t){var n;t.position=t.closestGridPosition(t.position);var r=null==(n=OH(e.map((function(e){return e.keyframe}))))?void 0:n.position;Ii().transaction((function(n){var i,a=n.stateEditors,o=ui(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.keyframe,l=s.trackId,c=s.address;a.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(_i(wi({},c),{trackId:l,position:t.position+u.position-r,handles:u.handles,value:u.value,snappingFunction:t.closestGridPosition}))}}catch(d){o.e(d)}finally{o.f()}}))}function OH(e){var t,n=null,r=ui(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;(null===n||i.position<n.position)&&(n=i)}}catch(a){r.e(a)}finally{r.f()}return n}var DH,LH,jH,NH,zH,FH,BH,UH,VH,HH,WH,GH,qH,KH,XH,YH=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregatedKeyframeTrack.tsx":function(){var e;fb(),mH=Ti(n(2114)),gH=Ti(nb()),hw(),Bj(),Lw(),PH(),f_(),ww(),qV(),Qw(),zw(),KC(),vw(),Fi(),uo(),Nz(),x_(),Nz(),f_(),yH=Cx.div(Fn||(Fn=ai(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),bH=Object.freeze({selectedPositions:new Map,selection:void 0}),xH=gH.default.memo(TH),wH=xH,(e=_H||(_H={}))[e.AllSelected=0]="AllSelected",e[e.AtLeastOneUnselected=1]="AtLeastOneUnselected",e[e.NoneSelected=2]="NoneSelected";var t=_H;SH=t.AllSelected,kH=t.AtLeastOneUnselected,EH=t.NoneSelected}}),$H=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/PropWithChildrenRow.tsx":function(){fb(),DH=Ti(nb()),jV(),kB(),YH(),f_(),ww(),LH=function(e,t){return"propWithChildren"===e.type?DH.default.createElement(jH,{layoutP:t,viewModel:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}):DH.default.createElement(DV,{layoutP:t,leaf:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]})},jH=function(e){var t=e.viewModel,n=e.layoutP,r=gw("RightPropWithChildrenRow",t.pathToProp.join());return lb((function(){var e=Jw(t),i=DH.default.createElement(wH,{layoutP:n,aggregatedKeyframes:e,viewModel:t});return DH.default.createElement(mw,{logger:r},DH.default.createElement(wB,{leaf:t,node:i,isCollapsed:t.isCollapsed},t.children.map((function(e){return LH(e,n)}))))}),[t,n])}}}),ZH=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/SheetObjectRow.tsx":function(){fb(),NH=Ti(nb()),$H(),kB(),f_(),YH(),zH=function(e){var t=e.leaf,n=e.layoutP;return lb((function(){var e=Jw(t),r=NH.default.createElement(wH,{layoutP:n,aggregatedKeyframes:e,viewModel:t});return NH.default.createElement(wB,{leaf:t,node:r,isCollapsed:t.isCollapsed},t.children.map((function(e){return LH(e,n)})))}),[t,n])}}}),QH=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/SheetRow.tsx":function(){fb(),FH=Ti(nb()),ZH(),kB(),f_(),YH(),BH=function(e){var t=e.leaf,n=e.layoutP;return lb((function(){var e=Jw(t),r=FH.default.createElement(wH,{layoutP:n,aggregatedKeyframes:e,viewModel:t});return FH.default.createElement(wB,{leaf:t,node:r,isCollapsed:t.isCollapsed},t.children.map((function(e){return FH.default.createElement(zH,{layoutP:n,key:"sheetObject-"+e.sheetObject.address.objectKey,leaf:e})})))}),[t,n])}}}),JH=Ei({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/Right.tsx":function(){fb(),UH=Ti(n(2114)),VH=Ti(nb()),hw(),b_(),SB(),QH(),HH=1e6,WH=Cx.ul(Bn||(Bn=ai(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  position: absolute;\n  left: 0;\n  width: ","px;\n"])),HH),GH=function(e){var t=e.layoutP;return lb((function(){var e=(0,UH.val)(t.tree),n=(0,UH.val)(t.tree.top)+Math.max((0,UH.val)(t.tree.heightIncludingChildren),(0,UH.val)(t.dopeSheetDims.height));return VH.default.createElement(VH.default.Fragment,null,VH.default.createElement(iB,{layoutP:t,height:n},VH.default.createElement(d_,{layoutP:t,height:n},VH.default.createElement(WH,{style:{top:e.top+"px"}},VH.default.createElement(BH,{leaf:e,layoutP:t})))))}),[t])}}});function eW(e,t,n,r){var i="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e,"px)"),a="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(t,") * 1px)");0===n&&(n=1e-4);var o="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(n,")");0===r&&(r=.001);var s="calc(var(--graphEditorVerticalSpace) * ".concat(-1*r,")");return"translate(".concat(i,", ").concat(a,") scale(").concat(o,", ").concat(s,")")}var tW,nW,rW,iW,aW,oW,sW=Ei({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/Curve.tsx":function(){xP(),Fi(),Bj(),Lw(),qH=Ti(nb()),hw(),KH=Cx.path(Un||(Un=ai(["\n  stroke-width: 2;\n  stroke: var(--main-color);\n  fill: none;\n  vector-effect: non-scaling-stroke;\n"]))),XH=function(e){var t=e.index,n=e.trackData,r=n.keyframes[t],i=n.keyframes[t+1],a=i.position-r.position,o=Aw(null),s=oi(o,2),u=s[0],l=function(e,t){var n=t.index,r=t.trackData,i=r.keyframes[n],a=r.keyframes[n+1];return Dj(e,{menuItems:function(){return[{label:"Delete",callback:function(){Ii().transaction((function(e){(0,e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes)(_i(wi({},t.sheetObject.address),{trackId:t.trackId,keyframeIds:[i.id,a.id]}))}))}}]}})}(s[1],e),c=oi(l,1)[0],d=e.isScalar?lP(r.value,e.propConfig):0,f=e.isScalar?lP(i.value,e.propConfig):1,p=e.extremumSpace.fromValueSpace(d),h=e.extremumSpace.fromValueSpace(f)-p,v=eW(r.position,p,a,h),m=r.handles[2],g=r.handles[3],y=i.handles[0],b=i.handles[1],x="M 0 0 C ".concat(m," ").concat(g," ").concat(y," ").concat(b," 1 1");return qH.default.createElement(qH.default.Fragment,null,qH.default.createElement(KH,{ref:u,d:x,style:{transform:v}}),c)}}});var uW,lW,cW,dW,fW,pW=Ei({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/CurveHandle.tsx":function(){Fi(),Bj(),zw(),Lw(),tW=Ti(n(2114)),Py(),nW=Ti(nb()),hw(),sW(),tM(),rW=Cx.circle(Vn||(Vn=ai(["\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n  fill: var(--main-color);\n  r: 2px;\n  pointer-events: none;\n"]))),iW=Cx.circle(Hn||(Hn=ai(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  cursor: move;\n  ",";\n  &:hover {\n  }\n  &:hover + "," {\n    r: 6px;\n  }\n"])),BE,rW),aW=Cx.path(Wn||(Wn=ai(["\n  stroke-width: 1;\n  stroke: var(--main-color);\n  /* stroke: gray; */\n  fill: none;\n  vector-effect: non-scaling-stroke;\n"]))),oW=function(e){var t=Aw(null),n=oi(t,2),r=n[0],i=n[1],a=e.index,o=e.trackData,s=o.keyframes[a],u=o.keyframes[a+1],l=function(e,t){return Dj(e,{menuItems:function(){return[{label:"Delete",callback:function(){Ii().transaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes(_i(wi({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))}))}}]}})}(i,e),c=oi(l,1)[0];!function(e,t){var n=(0,nW.useRef)(t);n.current=t,jw(e,(0,nW.useMemo)((function(){return{debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart:function(){var e,r=n.current,i=(0,tW.val)(r.layoutP.scaledSpace.toUnitSpace),a=(0,tW.val)(r.layoutP.graphEditorVerticalSpace.toExtremumSpace),o=r.extremumSpace.lock();return{onDrag:function(n,o){e&&(e.discard(),e=void 0);var s=r.index,u=r.trackData,l=u.keyframes[s],c=u.keyframes[s+1],d=i(n)/(c.position-l.position),f=a(-o),p=r.extremumSpace.deltaToValueSpace(f),h=t.isScalar?l.value:0,v=p/((t.isScalar?c.value:1)-h);if("left"===r.which){var m=hp(l.handles[2]+d,0,1),g=l.handles[3]+v;e=Ii().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.replaceKeyframes(_i(wi({},r.sheetObject.address),{snappingFunction:(0,tW.val)(r.layoutP.sheet).getSequence().closestGridPosition,trackId:r.trackId,keyframes:[_i(wi({},l),{handles:[l.handles[0],l.handles[1],m,g]})]}))}))}else{var y=hp(c.handles[0]+d,0,1),b=c.handles[1]+v;e=Ii().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.replaceKeyframes(_i(wi({},r.sheetObject.address),{trackId:r.trackId,snappingFunction:(0,tW.val)(r.layoutP.sheet).getSequence().closestGridPosition,keyframes:[_i(wi({},c),{handles:[y,b,c.handles[2],c.handles[3]]})]}))}))}},onDragEnd:function(t){o(),t?e&&e.commit():e&&e.discard()}}}}}),[]))}(i,e);var d="left"===e.which?s.handles[2]:u.handles[0],f=s.position+(u.position-s.position)*d,p="left"===e.which?s.handles[3]:u.handles[1],h=e.isScalar?s.value:0,v=e.isScalar?u.value:1,m=h+(v-h)*p,g=e.extremumSpace.fromValueSpace(m),y=g-e.extremumSpace.fromValueSpace("left"===e.which?h:v),b=eW("left"===e.which?s.position:u.position,e.extremumSpace.fromValueSpace("left"===e.which?h:v),f-("left"===e.which?s.position:u.position),y);return nW.default.createElement("g",null,nW.default.createElement(iW,{ref:r,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(f," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)")}}),nW.default.createElement(rW,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(f," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)")}}),nW.default.createElement(aW,{d:"M 0 0 L 1 1",style:{transform:b}}),c)}}});var hW,vW,mW,gW,yW,bW=Ei({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/GraphEditorDotScalar.tsx":function(){Fi(),Bj(),zw(),Lw(),uW=Ti(n(2114)),lW=Ti(nb()),hw(),KC(),KC(),tM(),vw(),Qw(),iV(),$P(),cW=Cx.circle(Gn||(Gn=ai(["\n  fill: var(--main-color);\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n\n  r: 2px;\n"]))),dW=Cx.circle(qn||(qn=ai(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  ",";\n\n  &:hover + "," {\n    r: 6px;\n  }\n\n  #pointer-root.normal & {\n    cursor: move;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.beingDragged {\n    pointer-events: none !important;\n  }\n"])),BE,cW,ow),fW=function(e){var t=Aw(null),n=oi(t,2),r=n[0],i=n[1],a=e.index,o=e.trackData.keyframes[a],s=function(e,t){return Dj(e,{menuItems:function(){return[{label:"Delete",callback:function(){Ii().transaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes(_i(wi({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))}))}}]}})}(i,e),u=oi(s,1)[0],l=DP(e.itemKey),c=o.value,d=e.extremumSpace.fromValueSpace(c),f=KU([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),p=function(e){var t=(0,lW.useState)(!1),n=oi(t,2),r=n[0],i=n[1];FC(r,e.props.keyframe.position);var a=(0,lW.useRef)(e.props);a.current=e.props;var o=(0,lW.useMemo)((function(){return{debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart:function(t){i(!0);var n,r=!!t.altKey,o=a.current,s=(0,uW.val)(o.layoutP.scaledSpace.toUnitSpace),u=(0,uW.val)(o.layoutP.graphEditorVerticalSpace.toExtremumSpace),l=o.extremumSpace.lock();return{onDrag:function(e,t){var i,a,l,c=o.trackData.keyframes[o.index],d=s(e),f=u(-t),p=o.extremumSpace.deltaToValueSpace(f),h=[],v=_i(wi({},c),{position:c.position+d,value:c.value+p,handles:si(c.handles)});if(h.push(v),r){var m=o.trackData.keyframes[o.index-1];if(m&&Math.abs(c.value-m.value)>0){var g=_i(wi({},m),{handles:si(m.handles)});h.push(g),g.handles[3]=(i=m.handles[3],a=m.value,l=m.value,(c.value-a)*i/(v.value-l))}var y=o.trackData.keyframes[o.index+1];if(y&&Math.abs(c.value-y.value)>0){var b=_i(wi({},y),{handles:si(y.handles)});h.push(b),b.handles[1]=function(e,t,n,r,i){return((t-r)*e+r-t+n-i)/(n-i)}(b.handles[1],b.value,b.value,c.value,v.value)}}null==n||n.discard(),n=Ii().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.replaceKeyframes(_i(wi({},o.sheetObject.address),{trackId:o.trackId,keyframes:h,snappingFunction:(0,uW.val)(o.layoutP.sheet).getSequence().closestGridPosition}))}))},onDragEnd:function(r){i(!1),l(),r?null==n||n.commit():(null==n||n.discard(),e.onDetectedClick(t))}}}}}),[]);return jw(e.node,o),cw(r,"draggingPositionInSequenceEditor","move"),r}({node:i,props:e,onDetectedClick:function(e){return f.toggle(e,e.target instanceof Element?e.target:i)}});return lW.default.createElement(lW.default.Fragment,null,lW.default.createElement(dW,_i(wi(wi(wi({ref:r,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(o.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(d,") * 1px)")}},BC(o.position)),Yw.includePositionSnapAttrs(o.position)),l.attrs),{className:p?"beingDragged":""})),lW.default.createElement(cW,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(o.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(d,") * 1px)"),fill:l.flag===CP.Primary?"white":void 0}}),f.node,u)}}});var xW,wW,_W,SW,kW,EW,MW,PW,TW,CW,AW=Ei({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/GraphEditorDotNonScalar.tsx":function(){Fi(),Bj(),zw(),Lw(),hW=Ti(n(2114)),vW=Ti(nb()),hw(),KC(),KC(),tM(),vw(),Qw(),iV(),$P(),mW=Cx.circle(Kn||(Kn=ai(["\n  fill: var(--main-color);\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n\n  r: 2px;\n"]))),gW=Cx.circle(Xn||(Xn=ai(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  ",";\n\n  &:hover + "," {\n    r: 6px;\n  }\n\n  #pointer-root.normal & {\n    cursor: ew-resize;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.beingDragged {\n    pointer-events: none !important;\n  }\n"])),BE,mW,ow),yW=function(e){var t=Aw(null),n=oi(t,2),r=n[0],i=n[1],a=e.index,o=e.trackData,s=e.itemKey,u=o.keyframes[a],l=function(e,t){return Dj(e,{menuItems:function(){return[{label:"Delete",callback:function(){Ii().transaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.deleteKeyframes(_i(wi({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))}))}}]}})}(i,e),c=oi(l,1)[0],d=DP(s),f="left"===e.which?0:1,p=KU([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),h=function(e){var t=(0,vW.useState)(!1),n=oi(t,2),r=n[0],i=n[1];FC(r,e.props.keyframe.position);var a=(0,vW.useRef)(e.props);a.current=e.props;var o=(0,vW.useMemo)((function(){return{debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart:function(t){i(!0);var n,r=a.current,o=(0,hW.val)(r.layoutP.scaledSpace.toUnitSpace),s=r.extremumSpace.lock();return{onDrag:function(e,t){var i=r.trackData.keyframes[r.index],a=o(e),s=[],u=_i(wi({},i),{position:i.position+a,value:i.value,handles:si(i.handles)});s.push(u),null==n||n.discard(),n=Ii().tempTransaction((function(e){e.stateEditors.coreByProject.historic.sheetsById.sequence.replaceKeyframes(_i(wi({},r.sheetObject.address),{trackId:r.trackId,keyframes:s,snappingFunction:(0,hW.val)(r.layoutP.sheet).getSequence().closestGridPosition}))}))},onDragEnd:function(r){i(!1),s(),r?null==n||n.commit():(null==n||n.discard(),e.onDetectedClick(t))}}}}}),[]);return jw(e.node,o),cw(r,"draggingPositionInSequenceEditor","ew-resize"),r}({node:i,props:e,onDetectedClick:function(e){return p.toggle(e,e.target instanceof Element?e.target:i)}}),v=e.extremumSpace.fromValueSpace(f);return vW.default.createElement(vW.default.Fragment,null,vW.default.createElement(gW,_i(wi(wi(wi({ref:r,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(v,") * 1px)")}},d.attrs),BC(u.position)),Yw.includePositionSnapAttrs(u.position)),{className:h?"beingDragged":""})),vW.default.createElement(mW,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(v,") * 1px)"),fill:d.flag===CP.Primary?"white":void 0}}),p.node,c)}}}),IW=Ei({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/GraphEditorNonScalarDash.tsx":function(){xW=Ti(nb()),hw(),sW(),wW=Cx.path(Yn||(Yn=ai(["\n  stroke-width: 2;\n  stroke: var(--main-color);\n  stroke-dasharray: 3 2;\n  fill: none;\n  vector-effect: non-scaling-stroke;\n  opacity: 0.3;\n"]))),_W=function(e){var t=e.index,n=eW(e.trackData.keyframes[t].position,e.extremumSpace.fromValueSpace(0),0,e.extremumSpace.fromValueSpace(1)-e.extremumSpace.fromValueSpace(0));return xW.default.createElement(xW.default.Fragment,null,xW.default.createElement(wW,{d:"M 0 0 L 1 1",style:{transform:n}}))}}}),RW=Ei({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/KeyframeEditor.tsx":function(){SW=Ti(nb()),hw(),sW(),pW(),bW(),AW(),IW(),kW=Cx.g($n||($n=ai(["\n  /* position: absolute; */\n"]))),EW=SW.default.createElement(SW.default.Fragment,null),MW=function(e){var t=e.index,n=e.trackData,r=e.isScalar,i=n.keyframes[t],a=n.keyframes[t+1],o=i.connectedRight&&!!a&&a.value!==i.value;return SW.default.createElement(kW,null,o?SW.default.createElement(SW.default.Fragment,null,SW.default.createElement(XH,wi({},e)),SW.default.createElement(oW,_i(wi({},e),{which:"left"})),SW.default.createElement(oW,_i(wi({},e),{which:"right"}))):EW,r?SW.default.createElement(fW,wi({},e)):SW.default.createElement(SW.default.Fragment,null,SW.default.createElement(yW,_i(wi({},e),{which:"left"})),SW.default.createElement(yW,_i(wi({},e),{which:"right"})),SW.default.createElement(_W,wi({},e))))}}});var OW,DW,LW,jW,NW,zW,FW,BW,UW,VW=Ei({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/BasicKeyframedTrack.tsx":function(){jy(),PW=Ti(nb()),WW(),RW(),xP(),fb(),TW=PW.default.memo((function(e){var t=e.layoutP,n=e.trackData,r=e.sheetObject,i=e.trackId,a=e.color,o=e.pathToProp,s=uP(Wy(r.template.configPointer),o);if(sP(s))return console.error("Composite prop types cannot be keyframed"),PW.default.createElement(PW.default.Fragment,null);var u=(0,PW.useState)(!1),l=oi(u,2),c=l[0],d=l[1],f=(0,PW.useMemo)((function(){var e=new Set;return function(){var t=0===e.size;function n(){var t=e.size>0;e.delete(n),t&&0===e.size&&d(!1)}return e.add(n),t&&d(!0),n}}),[]),p=(0,PW.useMemo)((function(){var e="number"===s.type?function(e,t){var n=1/0,r=-1/0;function i(e){n=Math.min(e,n),r=Math.max(e,r)}return e.forEach((function(n,r){var a=lP(n.value,t);if(i(a),n.connectedRight){var o=e[r+1];if(o){var s=("number"===typeof o.value?o.value:1)-a;i(a+n.handles[3]*s),i(a+o.handles[1]*s)}}})),[n,r]}(n.keyframes,s):function(e){var t=0,n=1;function r(e){t=Math.min(e,t),n=Math.max(e,n)}return e.forEach((function(t,n){if(t.connectedRight){var i=e[n+1];i&&(r(t.handles[3]),r(i.handles[1]))}})),[t,n]}(n.keyframes),t=function(t){return t*(e[1]-e[0])};return{fromValueSpace:function(t){return(t-e[0])/(e[1]-e[0])},toValueSpace:function(n){return e[0]+t(n)},deltaToValueSpace:t,lock:f}}),[n.keyframes]),h=(0,PW.useRef)(void 0);c||(h.current=p);var v=n.keyframes.map((function(e,u){return PW.default.createElement(MW,{pathToProp:o,propConfig:s,itemKey:Ry.forTrackKeyframe(r,i,e.id),keyframe:e,index:u,trackData:n,layoutP:t,sheetObject:r,trackId:i,isScalar:"number"===s.type,key:e.id,extremumSpace:h.current,color:a})}));return PW.default.createElement("g",{style:{"--main-color":zW[a].iconColor}},v)})),CW=TW}}),HW=Ei({"studio/src/panels/SequenceEditorPanel/GraphEditor/PrimitivePropGraph.tsx":function(){Fi(),fb(),OW=Ti(n(2114)),DW=Ti(nb()),VW(),LW=function(e){return lb((function(){var t=e.sheetObject,n=e.trackId,r=(0,OW.val)(Ii().atomP.historic.coreByProject[t.address.projectId].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[n]);return"BasicKeyframedTrack"!==(null==r?void 0:r.type)?(console.error("trackData type ".concat(null==r?void 0:r.type," is not yet supported on the graph editor")),DW.default.createElement(DW.default.Fragment,null)):DW.default.createElement(CW,_i(wi({},e),{trackData:r}))}),[e.trackId,e.layoutP])}}}),WW=Ei({"studio/src/panels/SequenceEditorPanel/GraphEditor/GraphEditor.tsx":function(){Fi(),uo(),Qy(),fb(),jW=Ti(n(2114)),NW=Ti(nb()),hw(),JH(),SB(),HW(),ZT(),DS(),zW={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},FW=Cx.div(Zn||(Zn=ai(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  background: ",";\n"])),oS(.03,"#1a1c1e")),BW=Cx.svg(Qn||(Qn=ai(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  pointer-events: none;\n"]))),UW=function(e){var t=e.layoutP;return lb((function(){var e=(0,jW.val)(t.sheet),n=(0,jW.val)(Ii().atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequenceEditor.selectedPropsByObject),r=(0,jW.val)(t.graphEditorDims.height),i=(0,jW.val)(t.scaledSpace.fromUnitSpace)(1),a=[];if(n)for(var o=0,s=Object.entries(n);o<s.length;o++){var u=oi(s[o],2),l=u[0],c=u[1],d=e.getObject(l);if(d)for(var f=(0,jW.val)(d.template.getMapOfValidSequenceTracks_forStudio()),p=0,h=Object.entries(c);p<h.length;p++){var v=oi(h[p],2),m=v[0],g=v[1],y=Ka(m),b=Ny(f,y);b&&a.push(NW.default.createElement(LW,{key:"graph-".concat(l,"-").concat(m),sheetObject:d,pathToProp:y,layoutP:t,trackId:b,color:g}))}}var x=(0,jW.val)(t.rightDims.width);return NW.default.createElement(FW,{style:{width:x+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":i,"--graphEditorVerticalSpace":"".concat((0,jW.val)(t.graphEditorVerticalSpace.space))}},NW.default.createElement(UT,{layoutP:t,width:x,height:r}),NW.default.createElement(iB,{layoutP:t,height:r},NW.default.createElement(BW,{width:HH,height:r,viewBox:"0 0 ".concat(HH," ").concat(r)},NW.default.createElement("g",{style:{transform:"translate(".concat((0,jW.val)(t.scaledSpace.leftPadding),"px, ").concat((0,jW.val)(t.graphEditorDims.padding.top),"px)")}},a))))}),[t])}}});function GW(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var qW,KW,XW,YW,$W,ZW,QW,JW,eG,tG,nG,rG,iG,aG,oG,sG=Ei({"shared/src/utils/ellipsify.ts":function(){}}),uG=Ei({"shared/src/utils/userReadableTypeOfValue.ts":function(){sG(),qW=function(e){return"string"===typeof e?'string("'.concat(GW(e,10),'")'):"number"===typeof e?"number(".concat(GW(String(e),10),")"):null===e?"null":void 0===e?"undefined":"boolean"===typeof e?String(e):Array.isArray(e)?"array":"object"===typeof e?"object":"unknown"}}}),lG=Ei({"studio/src/panels/OutlinePanel/BaseItem.tsx":function(){KW=Ti(nb()),hw(),tM(),Ij(),XW=Cx.li(Jn||(Jn=ai(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),YW=Cx.div(er||(er=ai([""]))),$W=Cx(YW)(tr||(tr=ai(["\n  position: relative;\n  margin-top: 2px;\n  margin-bottom: 2px;\n  margin-left: calc(4px + var(--depth) * 16px);\n  padding-left: 4px;\n  padding-right: 8px;\n  gap: 4px;\n  height: 21px;\n  line-height: 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  pointer-events: none;\n  white-space: nowrap;\n\n  border-radius: 2px;\n  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);\n\n  color: rgba(255, 255, 255, 0.9);\n  background: rgba(40, 43, 47, 0.65);\n  backdrop-filter: blur(14px);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n\n  &.descendant-is-selected {\n    background: rgba(29, 53, 59, 0.7);\n  }\n\n  ",";\n  &:not(.not-selectable):not(.selected):hover {\n    background: rgba(59, 63, 69, 0.9);\n\n    border-bottom: 1px solid rgba(255, 255, 255, 0.24);\n  }\n\n  &:not(.not-selectable):not(.selected):active {\n    background: rgba(82, 88, 96, 0.9);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.24);\n  }\n\n  &.selected {\n    background: rgba(30, 88, 102, 0.7);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  }\n\n  // Hit zone\n  &:before {\n    position: absolute;\n    inset: -1px 0;\n    display: block;\n    content: ' ';\n    z-index: 5;\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),BE),ZW=Qx(nr||(nr=ai(["\n  font-weight: 500;\n  font-size: 11px;\n  & {\n  }\n"]))),QW=Cx.span(rr||(rr=ai(["\n  ",";\n\n  ",";\n  position: relative;\n  // Compensate for border bottom\n  top: 0.5px;\n  display: flex;\n  height: 20px;\n  align-items: center;\n  box-sizing: border-box;\n"])),ZW,BE),JW=Cx.div(ir||(ir=ai(["\n  font-weight: 500;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  opacity: 0.99;\n"]))),eG=Cx.span(ar||(ar=ai(["\n  font-size: 9px;\n  position: relative;\n  display: block;\n"]))),tG=Cx.ul(or||(or=ai(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),nG=function(e){var t=e.label,n=e.children,r=e.depth,i=e.select,a=e.selectionStatus,o=e.labelDecoration,s=void 0!==n;return KW.default.createElement(XW,{style:{"--depth":r}},KW.default.createElement($W,{className:a,onClick:i},KW.default.createElement(JW,null,s?KW.default.createElement(eG,{isOpen:!0},KW.default.createElement($L,null)):KW.default.createElement(uj,null)),KW.default.createElement(QW,null,KW.default.createElement("span",null,t)),o),s&&KW.default.createElement(tG,null,n))}}}),cG=Ei({"studio/src/panels/OutlinePanel/ObjectsList/ObjectItem.tsx":function(){Fi(),rG=Ti(nb()),lG(),fb(),S_(),iG=function(e){var t=e.sheetObject,n=e.depth,r=e.overrideLabel,i=lb((function(){return g_()}),[]);return rG.default.createElement(nG,{select:function(){Ii().transaction((function(e){e.stateEditors.studio.historic.panels.outline.selection.set([t])}))},label:null!=r?r:t.address.objectKey,depth:n,selectionStatus:i.includes(t)?"selected":"not-selected"})}}});var dG=Ei({"studio/src/panels/OutlinePanel/ObjectsList/getObjectNamespacePath.tsx":function(){aG=/\s*\/\s*/g,oG=new WeakMap}});function fG(e,t){pG(e,function(e){var t=oG.get(e);return t||(t=e.address.objectKey.split(aG),console.assert(t.length>0,"expected not empty"),oG.set(e,t)),t}(t),t)}function pG(e,t,n){console.assert(t.length>0,"expecting path to not be empty");var r=ri(t),i=r[0],a=r.slice(1),o=e.get(i);o||(o={nested:void 0,object:void 0},e.set(i,o)),0===a.length?(console.assert(!o.object,"expect not to have existing object with same name",{existing:o,object:n}),o.object=n):(o.nested||(o.nested=new Map),pG(o.nested,a,n))}var hG,vG,mG,gG=Ei({"studio/src/panels/OutlinePanel/ObjectsList/NamespacedObjects.tsx":function(){dG()}});function yG(e){return vG.default.createElement(vG.default.Fragment,null,si(e.namespace.entries()).map((function(t){var n=oi(t,2),r=n[0],i=n[1],a=i.object,o=i.nested,s=o&&vG.default.createElement(yG,{namespace:o,key:"namespaceTree("+r+")",visualIndentation:e.visualIndentation+1}),u=a&&vG.default.createElement(iG,{depth:e.visualIndentation,key:"objectPath("+a.address.objectKey+")",sheetObject:a,overrideLabel:r});return vG.default.createElement(vG.default.Fragment,{key:"".concat(r," - ").concat(e.visualIndentation)},u,s&&vG.default.createElement(nG,{selectionStatus:"not-selectable",label:r,key:"baseItem(".concat(r,")"),depth:e.visualIndentation,children:s}))})))}var bG,xG,wG,_G,SG,kG,EG,MG,PG,TG,CG,AG,IG,RG,OG,DG,LG,jG,NG,zG,FG,BG,UG,VG,HG,WG,GG,qG,KG,XG,YG,$G,ZG,QG,JG,eq,tq,nq,rq,iq,aq,oq,sq,uq,lq=Ei({"studio/src/panels/OutlinePanel/ObjectsList/ObjectsList.tsx":function(){fb(),hG=Ti(n(2114)),vG=Ti(nb()),hw(),cG(),lG(),gG(),Cx.li(sr||(sr=ai(["\n  color: ",";\n"])),(function(e){return e.isSelected?"white":"hsl(1, 1%, 80%)"})),mG=function(e){var t=e.sheet,n=e.depth;return lb((function(){var e=(0,hG.val)(t.objectsP),r=Object.values(e).filter((function(e){return null!=e})),i=new Map;return r.forEach((function(e){fG(i,e)})),vG.default.createElement(yG,{namespace:i,visualIndentation:n})}),[t,n])}}}),cq=Ei({"studio/src/panels/OutlinePanel/SheetsList/SheetInstanceItem.tsx":function(){Fi(),S_(),fb(),bG=Ti(nb()),hw(),lq(),lG(),xG=Cx.div(ur||(ur=ai(["\n  display: flex;\n"]))),Cx.li(lr||(lr=ai(["\n  color: ",";\n"])),(function(e){return e.isSelected?"white":"hsl(1, 1%, 80%)"})),wG=Cx.div(cr||(cr=ai([""]))),_G=function(e){var t=e.sheet,n=e.depth,r=(0,bG.useCallback)((function(){Ii().transaction((function(e){e.stateEditors.studio.historic.panels.outline.selection.set([t])}))}),[t]);return lb((function(){var e=g_();return bG.default.createElement(nG,{depth:n,select:r,selectionStatus:e.some((function(e){return e===t}))?"selected":e.some((function(e){return"Theatre_SheetObject"===e.type&&e.sheet===t}))?"descendant-is-selected":"not-selected",label:bG.default.createElement(xG,null,t.address.sheetId,": ",t.address.sheetInstanceId)},bG.default.createElement(wG,null,bG.default.createElement(mG,{depth:n+1,sheet:t,key:"objectList"+t.address.sheetInstanceId})))}),[n])}}}),dq=Ei({"studio/src/panels/OutlinePanel/SheetsList/SheetItem.tsx":function(){fb(),SG=Ti(n(2114)),kG=Ti(nb()),hw(),cq(),Cx.div(dr||(dr=ai(["\n  display: flex;\n"]))),Cx.li(fr||(fr=ai(["\n  color: ",";\n"])),(function(e){return e.isSelected?"white":"hsl(1, 1%, 80%)"})),Cx.div(pr||(pr=ai([""]))),EG=function(e){var t=e.sheetId,n=e.depth,r=e.project;return lb((function(){var e=(0,SG.val)(r.sheetTemplatesP[t]);if(!e)return kG.default.createElement(kG.default.Fragment,null);var i=(0,SG.val)(e.instancesP);return kG.default.createElement(kG.default.Fragment,null,Object.entries(i).map((function(e){var t=oi(e,2),r=(t[0],t[1]);return kG.default.createElement(_G,{key:r.address.sheetInstanceId,sheet:r,depth:n})})))}),[n,t,r])}}}),fq=Ei({"studio/src/panels/OutlinePanel/SheetsList/SheetsList.tsx":function(){S_(),fb(),MG=Ti(nb()),dq(),PG=function(e){var t=e.project,n=e.depth;return lb((function(){if(!t)return null;var e=function(e){return Object.keys((0,m_.val)(e.sheetTemplatesP))}(t);return MG.default.createElement(MG.default.Fragment,null,e.map((function(e){return MG.default.createElement(EG,{depth:n,sheetId:e,key:"sheet-".concat(e),project:t})})))}),[t,n])}}}),pq=Ei({"studio/src/panels/OutlinePanel/ProjectsList/ProjectListItem.tsx":function(){TG=Ti(nb()),lG(),fq(),Fi(),fb(),S_(),CG=Ti(n(2114)),hw(),AG=Cx.div(hr||(hr=ai(["\n  color: #ff6363;\n  margin-left: 11px;\n  background: #4c282d;\n  padding: 2px 8px;\n  border-radius: 2px;\n  font-size: 10px;\n  box-shadow: 0 2px 8px -4px black;\n"]))),IG=function(e){var t=e.depth,n=e.project,r=lb((function(){return g_()}),[]),i=lb((function(){var e=n.address.projectId,t=(0,CG.val)(Ii().atomP.ephemeral.coreByProject[e].loadingState);return"browserStateIsNotBasedOnDiskState"===(null==t?void 0:t.type)}),[n]),a=(0,TG.useCallback)((function(){Ii().transaction((function(e){e.stateEditors.studio.historic.panels.outline.selection.set([n])}))}),[n]);return TG.default.createElement(nG,{depth:t,label:n.address.projectId,labelDecoration:i?TG.default.createElement(AG,null,"Has Conflicts"):null,children:TG.default.createElement(PG,{project:n,depth:t+1}),selectionStatus:r.includes(n)?"selected":r.some((function(e){return e.address.projectId===n.address.projectId}))?"descendant-is-selected":"not-selected",select:a})}}}),hq=Ei({"studio/src/panels/OutlinePanel/ProjectsList/ProjectsList.tsx":function(){RG=Ti(n(2114)),fb(),Fi(),OG=Ti(nb()),hw(),pq(),DG=Cx.ul(vr||(vr=ai(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  padding-right: 4px;\n"]))),LG=function(e){return lb((function(){var e=(0,RG.val)(Ii().projectsP);return OG.default.createElement(DG,null,Object.keys(e).map((function(t){var n=e[t];return OG.default.createElement(IG,{depth:0,project:n,key:"projectListItem-".concat(t)})})))}),[])}}}),vq=Ei({"studio/src/panels/OutlinePanel/OutlinePanel.tsx":function(){jG=Ti(nb()),hw(),vC(),hq(),fb(),Fi(),KL(),NG=Ti(n(2114)),tM(),zG="44px",FG=Cx.div(mr||(mr=ai(["\n  ",";\n  background-color: transparent;\n  position: absolute;\n  left: 8px;\n  z-index: ",";\n\n  top: calc("," + 8px);\n  height: fit-content;\n  max-height: calc(100% - ",");\n  overflow-y: scroll;\n  overflow-x: hidden;\n  padding: 0;\n  user-select: none;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n\n  display: ",";\n\n  &:hover {\n    display: block;\n  }\n\n  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list\n  &::after {\n    content: '';\n    display: block;\n    height: 20px;\n  }\n"])),BE,eC.outlinePanel,zG,zG,(function(e){return e.pin?"block":"none"})),BG=function(){var e,t=null==(e=Wy(Ii().atomP.ahistoric.pinOutline))||e,n=Wy(HG),r=WL("left");return(0,jG.useLayoutEffect)((function(){UG.set(r)}),[r]),(0,jG.useEffect)((function(){return function(){VG.set(!1),UG.set(!1)}}),[]),jG.default.createElement(FG,{pin:t||n,onMouseEnter:function(){VG.set(!0)},onMouseLeave:function(){VG.set(!1)}},jG.default.createElement(LG,null))},UG=new NG.Box(!1),VG=new NG.Box(!1),HG=(0,NG.prism)((function(){var e=(0,NG.val)(VG.derivation),t=(0,NG.val)(UG.derivation);return e||t}))}}),mq=Mi({"../node_modules/react-error-boundary/dist/react-error-boundary.umd.js":function(o,s){var u;u=function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(t);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a={error:null},o=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=a,t.updatedWithError=!1,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),o.getDerivedStateFromError=function(e){return{error:e}};var s=o.prototype;return s.reset=function(){this.updatedWithError=!1,this.setState(a)},s.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},s.componentDidMount=function(){null!==this.state.error&&(this.updatedWithError=!0)},s.componentDidUpdate=function(e){var t,n,r,i,a=this.state.error,o=this.props.resetKeys;null===a||this.updatedWithError?null!==a&&(void 0===(r=e.resetKeys)&&(r=[]),void 0===(i=o)&&(i=[]),r.length!==i.length||r.some((function(e,t){return!Object.is(e,i[t])})))&&(null==(t=(n=this.props).onResetKeysChange)||t.call(n,e.resetKeys,o),this.reset()):this.updatedWithError=!0},s.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,i=t.FallbackComponent,a=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(a))return a;if("function"===typeof n)return n(o);if(i)return r.createElement(i,o);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},o}(r.Component);e.ErrorBoundary=o,e.useErrorHandler=function(e){var t=r.useState(null),n=t[0],i=t[1];if(null!=e)throw e;if(null!=n)throw n;return i},e.withErrorBoundary=function(e,t){var n=function(n){return r.createElement(o,t,r.createElement(e,n))},i=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+i+")",n},Object.defineProperty(e,"__esModule",{value:!0})},"object"===typeof o&&"undefined"!==typeof s?u(o,nb()):(i=[t,n(2791)],void 0===(a="function"===typeof(r=u)?r.apply(t,i):r)||(e.exports=a))}}),gq=Ei({"studio/src/panels/BasePanel/ExtensionPaneWrapper.tsx":function(){WG=Ti(nb()),hw(),vC(),yA(),uB(),dB(),GG=Ti(mq()),NM(),Fi(),vC(),qG={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},KG={width:300,height:300},XG=function(e){var t=e.paneInstance;return WG.default.createElement(hA,{panelId:"pane-".concat(t.instanceId),defaultPosition:qG,minDims:KG},WG.default.createElement(nq,{paneInstance:t}))},YG=Cx(IF)(gr||(gr=ai(["\n  display: flex;\n  flex-direction: column;\n\n  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);\n  z-index: ",";\n"])),eC.pluginPanes),$G=Cx.div(yr||(yr=ai(["\n  width: 100%;\n"]))),ZG=Cx.div(br||(br=ai(["\n  display: flex;\n  align-items: center;\n  opacity: 1;\n  position: absolute;\n  right: 4px;\n  top: 0;\n  bottom: 0;\n"]))),QG=Cx.button(xr||(xr=ai(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 2px;\n  font-size: 11px;\n  height: 10px;\n  width: 18px;\n  color: #adadadb3;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  &:hover {\n    color: white;\n  }\n"]))),JG=Cx(iC)(wr||(wr=ai(["\n  position: relative;\n  overflow: hidden;\n\n  &:after {\n    z-index: 10;\n    position: absolute;\n    inset: 0;\n    display: block;\n    content: ' ';\n    pointer-events: none;\n\n    #pointer-root:not(.normal) & {\n      pointer-events: auto;\n    }\n  }\n"]))),eq=Cx.div(_r||(_r=ai(["\n  padding: 12px;\n\n  & > pre {\n    border: 1px solid #ff62624f;\n    background-color: rgb(255 0 0 / 5%);\n    margin: 8px 0;\n    padding: 8px;\n    font-family: monospace;\n    overflow: scroll;\n    color: #ff9896;\n  }\n"]))),tq=function(e){return WG.default.createElement(eq,null,"An Error occured rendering this pane. Open the console for more info.",WG.default.createElement("pre",null,JSON.stringify({message:e.error.message,stack:e.error.stack},null,2)))},nq=function(e){var t=e.paneInstance,n=(0,WG.useState)(null),r=oi(n,2),i=r[0],a=r[1],o=t.definition.mount;(0,WG.useLayoutEffect)((function(){if(i){var e=o({paneId:t.instanceId,node:i});return"function"===typeof e?e:void 0}}),[i,o,t.instanceId]);var s=(0,WG.useCallback)((function(){Ii().paneManager.destroyPane(t.instanceId)}),[t]);return WG.default.createElement(YG,null,WG.default.createElement(uF,null,WG.default.createElement(oC,null,WG.default.createElement(ZG,null,WG.default.createElement(QG,{onClick:s,title:"Close Pane"},WG.default.createElement(dM,null))),WG.default.createElement($G,null,t.instanceId))),WG.default.createElement(GG.ErrorBoundary,{FallbackComponent:tq},WG.default.createElement(JG,{ref:a})))},rq=XG}}),yq=Ei({"studio/src/UIRoot/PanelsRoot.tsx":function(){vq(),Oj(),iq=Ti(nb()),Fi(),fb(),gq(),pB(),aq=function(){var e=Wy(Ii().paneManager.allPanesD),t=Object.entries(e).map((function(e){var t=oi(e,2),n=t[0],r=t[1];return iq.default.createElement(rq,{key:"pane-".concat(n),paneInstance:r})}));return iq.default.createElement(iq.default.Fragment,null,t,iq.default.createElement(BG,null),iq.default.createElement(Ej,null),iq.default.createElement(KF,null))}}}),bq=Ei({"studio/src/uiComponents/Popover/ErrorTooltip.tsx":function(){hw(),UL(),oq=Cx(ML)(Sr||(Sr=ai(["\n  --popover-outer-stroke: #e11c1c;\n  --popover-inner-stroke: #2c1c1c;\n  --popover-bg: #2c1c1c;\n  pointer-events: none !important;\n"]))),sq=oq}}),xq=Mi({"../node_modules/levenshtein-edit-distance/index.js":function(e,t){var n,r;n=[],r=[],t.exports=function(e,t,i){var a,o,s,u,l,c,d,f;if(e===t)return 0;if(a=e.length,o=t.length,0===a)return o;if(0===o)return a;for(i&&(e=e.toLowerCase(),t=t.toLowerCase()),d=0;d<a;)r[d]=e.charCodeAt(d),n[d]=++d;for(f=0;f<o;)for(s=t.charCodeAt(f),u=l=f++,d=-1;++d<a;)c=s===r[d]?l:l+1,l=n[d],n[d]=u=l>u?c>u?u+1:c:c>l?l+1:c;return u}}}),wq=Mi({"../node_modules/propose/propose.js":function(e,t){var n=xq();t.exports=function(){var e,t,r,i,a,o=0,s=arguments[0],u=arguments[1],l=u.length,c=arguments[2];c&&(i=c.threshold,a=c.ignoreCase),void 0===i&&(i=0);for(var d=0;d<l;++d)(e=(t=a?n(s,u[d],!0):n(s,u[d]))>s.length?1-t/u[d].length:1-t/s.length)>o&&(o=e,r=u[d]);return o>=i?r:null}}});var _q,Sq,kq,Eq,Mq,Pq,Tq,Cq,Aq,Iq,Rq,Oq,Dq,Lq=Ei({"shared/src/utils/didYouMean.ts":function(){uq=Ti(wq())}}),jq=Ei({"studio/src/uiComponents/Popover/MinimalTooltip.tsx":function(){hw(),UL(),_q=Cx(ML)(kr||(kr=ai(["\n  padding: 6px;\n"]))),Sq=_q}}),Nq=Ei({"studio/src/uiComponents/toolbar/ToolbarSwitchSelectContainer.ts":function(){hw(),XE(),kq=Cx(TE)(Er||(Er=ai(["\n  display: flex;\n  height: fit-content;\n  backdrop-filter: blur(14px);\n  border-radius: 2px;\n"]))),Eq=kq}}),zq=Ei({"studio/src/uiComponents/toolbar/ToolbarIconButton.tsx":function(){hw(),tM(),Mq=Ti(nb()),BL(),fI(),jq(),Nq(),Pq=Cx.button(Mr||(Mr=ai(["\n  ",";\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  font-weight: 600;\n  width: 32px;\n  height: 32px;\n  outline: none;\n\n  color: #a8a8a9;\n\n  background: rgba(40, 43, 47, 0.8);\n  backdrop-filter: blur(14px);\n  border: none;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 2px;\n\n  svg {\n    display: block;\n  }\n\n  &:hover {\n    background: rgba(59, 63, 69, 0.8);\n  }\n\n  &:active {\n    background: rgba(82, 88, 96, 0.8);\n  }\n\n  &.selected {\n    color: rgba(255, 255, 255, 0.8);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.7);\n  }\n\n  // Don't blur if in a button group, because it already blurs. We need to blur\n  // on the group-level, otherwise we get seams.\n  "," > & {\n    backdrop-filter: none;\n    filter: none;\n    border-radius: 0;\n\n    &:first-child {\n      border-top-left-radius: 2px;\n      border-bottom-left-radius: 2px;\n    }\n\n    &:last-child {\n      border-bottom-right-radius: 2px;\n      border-top-right-radius: 2px;\n    }\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),BE,Eq),Tq=Mq.default.forwardRef((function(e,t){var n=e,r=n.title,i=ki(n,["title"]),a=kL({enabled:"string"===typeof r},(function(){return Mq.default.createElement(Sq,null,r)})),o=oi(a,2),s=o[0],u=o[1];return Mq.default.createElement(Mq.default.Fragment,null,s,Mq.default.createElement(Pq,wi({ref:uI([u,t])},i))," ")})),Cq=Tq}}),Fq=Ei({"studio/src/toolbars/ExtensionToolbar/tools/IconButton.tsx":function(){Aq=Ti(nb()),zq(),hw(),tM(),Iq=Cx(Cq)(Pr||(Pr=ai(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),BE),Rq=function(e){var t,n=e.config;return Aq.default.createElement(Iq,{onClick:n.onClick,title:n.title,dangerouslySetInnerHTML:{__html:null!=(t=n.svgSource)?t:""}})}}});function Bq(e){e.value;var t=e.label,n=e.icon,r=e.onClick,i=e.isSelected;return Oq.default.createElement(Oq.default.Fragment,null,Oq.default.createElement(Cq,{forwardedAs:ME,className:i?"selected":void 0,"aria-label":t,onClick:r,title:t},n))}var Uq,Vq,Hq,Wq,Gq,qq,Kq,Xq,Yq=Ei({"studio/src/uiComponents/toolbar/ToolbarSwitchSelect.tsx":function(){Oq=Ti(nb()),XE(),zq(),Nq(),Dq=function(e){var t=e.value,n=e.onChange,r=e.options;return Oq.default.createElement(Eq,null,r.map((function(e){var r=e.label,i=e.icon,a=e.value;return Oq.default.createElement(Bq,{key:a,value:a,isSelected:t===a,label:r,icon:i,onClick:function(){return n(a)}})})))}}}),$q=Ei({"studio/src/toolbars/ExtensionToolbar/tools/Switch.tsx":function(){Uq=Ti(nb()),hw(),tM(),Yq(),Vq=Cx.div(Tr||(Tr=ai(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),BE),Hq=function(e){var t=e.config;return Uq.default.createElement(Dq,{onChange:t.onChange,options:t.options.map((function(e){var t=e.label,n=e.value,r=e.svgSource;return{label:t,value:n,icon:Uq.default.createElement(Vq,{dangerouslySetInnerHTML:{__html:r}})}})),value:t.value})}}});var Zq,Qq,Jq,eK,tK,nK,rK,iK,aK,oK,sK,uK,lK=Ei({"studio/src/toolbars/ExtensionToolbar/Toolset.tsx":function(){Lq(),uG(),Wq=Ti(nb()),Fq(),$q(),Gq=function(e){return Wq.default.createElement(Wq.default.Fragment,null,e.config.map((function(e,t){return Wq.default.createElement(Kq,{config:e,key:t})})))},qq={Icon:Rq,Switch:Hq},Kq=function(e){var t,n=e.config,r=(t=n.type,qq[t]);if(!r)throw new Error("No tool with tool.type ".concat(qW(n.type)," exists. Did you mean ").concat(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Did you mean ",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"?",i=(0,uq.default)(e,t,{threshold:.7});return i?n+JSON.stringify(i)+r:""}(n.type,Object.keys(qq))));return Wq.default.createElement(r,{config:n})},Xq=Gq}}),cK=Ei({"studio/src/toolbars/ExtensionToolbar/ExtensionToolbar.tsx":function(){Zq=Ti(n(2114)),fb(),Fi(),Qq=Ti(nb()),hw(),lK(),Jq=Cx.div(Cr||(Cr=ai(["\n  height: 36px;\n  /* pointer-events: none; */\n\n  display: flex;\n  gap: 0.5rem;\n  justify-content: center;\n"]))),eK=Cx.div(Ar||(Ar=ai(["\n  position: abolute;\n  height: 32px;\n  width: 1px;\n  background: #373b40;\n  opacity: 0.4;\n"]))),tK=function(e){var t=e.extension,n=e.toolbarId,r=(0,Qq.useMemo)((function(){return new Zq.Box([])}),[]);(0,Qq.useLayoutEffect)((function(){var e,i,a=null==(i=null==(e=t.toolbars)?void 0:e[n])?void 0:i.call(e,r.set.bind(r),Ii().publicApi);if("function"===typeof a)return a}),[t,n]);var i=Wy(r.derivation);return Qq.default.createElement(Xq,{config:i})},nK=function(e){for(var t,n=e.toolbarId,r=e.showLeftDivider,i=[],a=Wy(Ii().atomP.ephemeral.extensions.byId),o=!1,s=0,u=Object.entries(a);s<u.length;s++){var l=oi(u[s],2)[1];l&&(null==(t=l.toolbars)?void 0:t[n])&&(i.push(Qq.default.createElement(Qq.default.Fragment,{key:"extensionToolbar-"+l.id},o?Qq.default.createElement(eK,null):void 0,Qq.default.createElement(tK,{extension:l,toolbarId:n}))),o=!0)}return 0===i.length?null:Qq.default.createElement(Jq,null,r?Qq.default.createElement(eK,null):void 0,i)}}}),dK=Ei({"studio/src/toolbars/PinButton.tsx":function(){hw(),rK=Ti(nb()),zq(),iK=Cx(Cq)(Ir||(Ir=ai(["\n  color: ",";\n\n  border-bottom: 1px solid\n    ",";\n"])),(function(e){return e.pinned?"rgba(255, 255, 255, 0.8)":"#A8A8A9"}),(function(e){return e.pinned?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"})),aK=(0,rK.forwardRef)((function(e,t){var n=e,r=n.hint,i=n.pinned,a=n.icon,o=n.pinHintIcon,s=n.unpinHintIcon,u=ki(n,["hint","pinned","icon","pinHintIcon","unpinHintIcon"]),l=(0,rK.useState)(!1),c=oi(l,2),d=c[0],f=c[1],p=d||r;return rK.default.createElement(iK,_i(wi({},u),{pinned:i,ref:t,onMouseOver:function(){return f(!0)},onMouseOut:function(){return f(!1)}}),rK.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},p&&!i?o:p&&i?s:a))})),oK=aK}});function fK(e){return sK.createElement("svg",wi({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),sK.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var pK,hK,vK=Ei({"studio/src/uiComponents/icons/DoubleChevronLeft.tsx":function(){sK=Ti(nb()),uK=fK}});function mK(e){return pK.createElement("svg",wi({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),pK.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var gK,yK,bK,xK,wK,_K,SK,kK,EK,MK,PK,TK,CK,AK,IK,RK,OK,DK,LK,jK,NK,zK,FK,BK,UK,VK,HK,WK,GK,qK,KK,XK,YK,$K,ZK,QK,JK,eX=Ei({"studio/src/uiComponents/icons/DoubleChevronRight.tsx":function(){pK=Ti(nb()),hK=mK}}),tX=Ei({"studio/src/toolbars/MoreMenu/MoreMenu.tsx":function(){fb(),Fi(),gK=Ti(nb()),hw(),yK=Cx.div(Rr||(Rr=ai(["\n  width: 138px;\n  border-radius: 2px;\n  background-color: rgba(42, 45, 50, 0.9);\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: flex-start;\n  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  pointer-events: auto;\n  // makes the edges of the item highlights match the rounded corners\n  overflow: hidden;\n\n  @supports not (backdrop-filter: blur()) {\n    background-color: rgba(42, 45, 50, 0.98);\n  }\n\n  color: rgba(255, 255, 255, 0.9);\n\n  & a {\n    // Fix colors of links to not be default\n    color: inherit;\n  }\n"]))),bK=Cx.div(Or||(Or=ai(["\n  position: relative;\n  padding: 0px 12px;\n  font-weight: 400;\n  font-size: 11px;\n  height: 32px;\n  text-decoration: none;\n  user-select: none;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: default;\n"]))),xK=Cx(bK)(Dr||(Dr=ai(["\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    inset: 3px;\n    border-radius: 3px;\n    background: rgba(255, 255, 255, 0.1);\n    opacity: 0;\n  }\n\n  &.secondary {\n    color: rgba(255, 255, 255, 0.5);\n  }\n\n  &:hover {\n    /* background-color: #398995; */\n    color: white !important;\n    &:before {\n      opacity: 1;\n    }\n  }\n"]))),wK=Cx(bK)(Lr||(Lr=ai(["\n  height: auto;\n  min-height: 32px;\n  padding-top: 12px;\n  padding-bottom: 10px;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  gap: 8px;\n  color: rgba(255, 255, 255, 0.5);\n"]))),_K=Cx.div(jr||(jr=ai(["\n  font-weight: 600;\n"]))),SK=Cx.div(Nr||(Nr=ai(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),kK=Cx.div(zr||(zr=ai(["\n  margin-left: 2px;\n"]))),EK=Cx.div(Fr||(Fr=ai(["\n  height: 1px;\n  margin: 0 2px;\n  background: rgba(255, 255, 255, 0.02);\n"]))),MK=Cx.div(Br||(Br=ai(["\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background: #40aaa4;\n  right: 14px;\n  top: 12px;\n  border-radius: 50%;\n"]))),TK=(PK="0.5.0").match(/^[^\-]+/)[0],CK=gK.default.forwardRef((function(e,t){var n=Wy(Ii().atomP.ahistoric.updateChecker.result.hasUpdates);return gK.default.createElement(yK,{ref:t},gK.default.createElement(xK,{as:"a",href:"https://docs.theatrejs.com",className:"",target:"_blank"},"Docs"),gK.default.createElement(xK,{as:"a",href:"https://docs.theatrejs.com/changelog",className:"",target:"_blank"},"Changelog"),gK.default.createElement(EK,null),gK.default.createElement(xK,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),gK.default.createElement(xK,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),gK.default.createElement(xK,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),gK.default.createElement(EK,null),gK.default.createElement(wK,null,gK.default.createElement(_K,null,"Version"),gK.default.createElement(SK,null,gK.default.createElement(kK,null,PK," ",!0===n?"(outdated)":!1===n?"(latest)":""))),!0===n&&gK.default.createElement(gK.default.Fragment,null,gK.default.createElement(EK,null),gK.default.createElement(xK,{as:"a",href:"https://docs.theatrejs.com/update#".concat(encodeURIComponent(TK)),className:"",target:"_blank"},"Update",gK.default.createElement(MK,null)),gK.default.createElement(xK,{as:"a",href:"https://docs.theatrejs.com/changelog#".concat(encodeURIComponent(TK)),className:"",target:"_blank"},"What's new?")))})),AK=CK}}),nX=Ei({"studio/src/toolbars/GlobalToolbar.tsx":function(){fb(),Fi(),IK=Ti(nb()),hw(),BL(),bq(),UL(),RK=Ti(n(2114)),cK(),dK(),Ij(),vK(),eX(),zq(),QO(),tX(),OK=Cx.div(Ur||(Ur=ai(["\n  height: 36px;\n  pointer-events: none;\n\n  display: flex;\n  justify-content: space-between;\n  padding: 12px;\n"]))),DK=Cx.div(Vr||(Vr=ai(["\n  color: white;\n  width: 14px;\n  height: 14px;\n  background: #d00;\n  border-radius: 4px;\n  text-align: center;\n  line-height: 14px;\n  font-weight: 600;\n  font-size: 8px;\n  position: relative;\n  left: -6px;\n  top: -11px;\n  margin-right: -14px;\n  box-shadow: 0 4px 6px -4px #00000059;\n"]))),LK=Cx.div(Hr||(Hr=ai(["\n  display: flex;\n  gap: 8px;\n"]))),jK=Cx.div(Wr||(Wr=ai(["\n  position: absolute;\n  background: #40aaa4;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  right: -2px;\n  top: -2px;\n"]))),Cx.div(Gr||(Gr=ai(["\n  position: absolute;\n  height: 32px;\n  width: 1px;\n  background: #373b40;\n  opacity: 0.4;\n"]))),NK=!1,zK=function(){var e,t,n=lb((function(){var e=(0,RK.val)(Ii().atomP.ephemeral.coreByProject);return Object.entries(e).map((function(e){var t=oi(e,2);return{projectId:t[0],state:t[1]}})).filter((function(e){return"browserStateIsNotBasedOnDiskState"===e.state.loadingState.type}))}),[]),r=kL({enabled:n.length>0,enterDelay:n.length>0?0:200},(function(){return n.length>0?IK.default.createElement(sq,null,1===n.length?'There is a state conflict in project "'.concat(n[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(n.length," projects that have state conflicts. They are highlighted in the outline below. ")):IK.default.createElement(ML,null,"Outline")})),i=oi(r,2),a=i[0],o=i[1],s=null==(e=Wy(Ii().atomP.ahistoric.pinOutline))||e,u=null==(t=Wy(Ii().atomP.ahistoric.pinDetails))||t,l=!0===Wy(Ii().atomP.ahistoric.updateChecker.result.hasUpdates),c=IO((function(){var e=d.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:e.right,maxY:8,minX:e.left-140,minY:8},verticalGap:2}}),(function(){return IK.default.createElement(AK,null)})),d=(0,IK.useRef)(null),f=(0,IK.useMemo)((function(){return l||window.__IS_VISUAL_REGRESSION_TESTING?(NK||(NK=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally")),!0):l}),[l]);return IK.default.createElement(OK,null,IK.default.createElement(LK,null,a,IK.default.createElement(oK,{ref:o,"data-testid":"OutlinePanel-TriggerButton",onClick:function(){Ii().transaction((function(e){var t,n=e.stateEditors,r=e.drafts;n.studio.ahistoric.setPinOutline(!(null==(t=r.ahistoric.pinOutline)||t))}))},icon:IK.default.createElement(qL,null),pinHintIcon:IK.default.createElement(hK,null),unpinHintIcon:IK.default.createElement(uK,null),pinned:s}),n.length>0?IK.default.createElement(DK,null,n.length):null,IK.default.createElement(nK,{showLeftDivider:!0,toolbarId:"global"})),IK.default.createElement(LK,null,c.node,IK.default.createElement(Cq,{ref:d,onClick:function(e){c.toggle(e,d.current)}},IK.default.createElement(ij,null),f&&IK.default.createElement(jK,null)),IK.default.createElement(oK,{ref:o,onClick:function(){Ii().transaction((function(e){var t,n=e.stateEditors,r=e.drafts;n.studio.ahistoric.setPinDetails(!(null==(t=r.ahistoric.pinDetails)||t))}))},icon:IK.default.createElement(ej,null),pinHintIcon:IK.default.createElement(uK,null),unpinHintIcon:IK.default.createElement(hK,null),pinned:u})))}}}),rX=Ei({"studio/src/utils/renderInPortalInContext.tsx":function(){FK=Ti(n(2114)),fb(),BK=Ti(nb()),UK=Ti(ub()),VK=new FK.Atom({set:{},byId:{}}),HK=1,WK=function(){var e=HK++;return{mountOrRender:function(t,n,r){VK.reduceState([],(function(i){return{byId:_i(wi({},i.byId),ii({},e,{comp:t,props:n,portalNode:r})),set:_i(wi({},i.set),ii({},e,!0))}}))},unmount:function(){VK.reduceState([],(function(t){var n=wi({},t.set),r=wi({},t.byId);return delete n[e],{byId:r,set:n}}))}}},GK=function(){var e=Object.keys(Wy(VK.pointer.set));return BK.default.createElement(BK.default.Fragment,null,e.map((function(e){return BK.default.createElement(qK,{key:"id-"+e,id:e})})))},qK=function(e){var t=e.id,n=Wy(VK.pointer.byId[t]),r=n.comp,i=n.portalNode,a=n.props,o=r;return(0,UK.createPortal)(BK.default.createElement(o,wi({},a)),i)}}});function iX(){var e=Ii(),t=Aw(void 0),n=oi(t,2),r=n[0],i=n[1],a=La();a.configureLogging({min:Ma.DEBUG,dev:QK,internal:QK});var o=a.getLogger().named("Theatre.js UIRoot");lz();var s=Wy(e.atomP.ahistoric.visibilityState);return(0,XK.useEffect)((function(){return"everythingIsHidden"===s&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),function(){}}),[s]),lb((function(){var t=(0,KK.val)(e.atomP.ahistoric.visibilityState);return(0,KK.val)(e.atomP.ephemeral.initialised)?XK.default.createElement(mw,{logger:o},XK.default.createElement(gL,null,XK.default.createElement(_w,null,XK.default.createElement(JK,null),XK.default.createElement(IE.Provider,{value:i},XK.default.createElement(WE,{target:!0===window.__IS_VISUAL_REGRESSION_TESTING?void 0:Ii().ui.containerShadow},XK.default.createElement(XK.default.Fragment,null,XK.default.createElement(YK,null),XK.default.createElement($K,{className:"everythingIsHidden"===t?"invisible":""},XK.default.createElement(HE,{ref:r}),XK.default.createElement(zK,null),XK.default.createElement(aq,null)))))))):null}),[e,r,i])}var aX,oX,sX,uX,lX=Ei({"studio/src/UIRoot/UIRoot.tsx":function(){Fi(),fb(),KK=Ti(n(2114)),XK=Ti(nb()),hw(),yq(),nX(),Lw(),XE(),wz(),vw(),SL(),Pw(),rX(),tM(),Wa(),ww(),YK="undefined"!==typeof window?iw(qr||(qr=ai(["\n  :host {\n    contain: strict;\n  }\n"]))):{},$K=Cx(dw)(Kr||(Kr=ai(["\n  z-index: 50;\n  position: fixed;\n  inset: 0px;\n\n  &.invisible {\n    pointer-events: none !important;\n    opacity: 0;\n    transform: translateX(1000000px);\n  }\n"]))),QK=/Playground.+Theatre\.js/.test(null!=(ZK="undefined"!==typeof document?null==document?void 0:document.title:null)?ZK:""),JK=function(){return XK.default.createElement(GK,null)}}}),cX={};Pi(cX,{default:function(){return uX}});var dX=Ei({"studio/src/UI.ts":function(){lX(),aX=Ti(nb()),oX=Ti(ub()),sX=Ti(n(2114)),rX(),tM(),cK(),uX=function(){"use strict";function e(t){var n=this;Zr(this,e),this.studio=t,Ci(this,"containerEl",document.createElement("div")),Ci(this,"_rendered",!1),Ci(this,"_renderTimeout"),Ci(this,"_documentBodyUIIsRenderedIn"),Ci(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText="\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      z-index: 100;\n    ";this.containerShadow=function(){if(!0===window.__IS_VISUAL_REGRESSION_TESTING){var e=document.createElement("div");return e.id="theatrejs-faux-shadow-root",document.body.appendChild(e),e}return n.containerEl.attachShadow({mode:"open"})}()}return $r(e,[{key:"render",value:function(){this._rendered||(this._rendered=!0,this._render())}},{key:"_render",value:function(){var e=this;this._renderTimeout=setTimeout((function t(){document.body?(e._renderTimeout=void 0,e._documentBodyUIIsRenderedIn=document.body,e._documentBodyUIIsRenderedIn.appendChild(e.containerEl),oX.default.render(aX.default.createElement(iX),e.containerShadow)):e._renderTimeout=setTimeout(t,5)}),10)}},{key:"hide",value:function(){this.studio.transaction((function(e){e.drafts.ahistoric.visibilityState="everythingIsHidden"}))}},{key:"restore",value:function(){this.render(),this.studio.transaction((function(e){e.drafts.ahistoric.visibilityState="everythingIsVisible"}))}},{key:"isHidden",get:function(){return"everythingIsHidden"===(0,sX.val)(this.studio.atomP.ahistoric.visibilityState)}},{key:"renderToolset",value:function(e,t){var n,r=WK();return r.mountOrRender((n=nK,function(e){return zE.default.createElement(GE,null,zE.default.createElement(n,wi({},e)))}),{toolbarId:e},t),r.unmount}}]),e}()}});function fX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("object"===typeof e&&e)for(var r=0,i=Object.entries(e);r<i.length;r++){var a=oi(i[r],2),o=a[0],s=a[1];fX(s,t,[].concat(si(n),[o]))}else{if(void 0===e||null===e)return;t(e,n)}}Pi(t,{ToolbarDropdownSelect:function(){return I$},default:function(){return O$}}),Fi();var pX=Ti(n(2114));Vi();var hX=0,vX=function(){"use strict";function e(t){Zr(this,e),this._studio=t,Ci(this,"_id"),Ci(this,"_state",{type:"Ready"}),this._id=String(hX++)}return $r(e,[{key:"status",get:function(){return this._state.type}},{key:"reset",value:function(){var e=this._state;if("Ready"!==e.type){if("Captured"!==e.type)throw"Committed"===e.type?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.");this._state={type:"Ready"},e.transaction.discard(),e.flagsTransaction.discard()}}},{key:"commit",value:function(){var e=this._state;if("Captured"!==e.type){if("Ready"===e.type)return void console.warn("Scrub is empty. Nothing to commit.");throw"Committed"===e.type?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}e.transaction.commit(),e.flagsTransaction.discard(),this._state={type:"Committed"}}},{key:"capture",value:function(e){if("Captured"===this._state.type&&this.reset(),"Ready"!==this._state.type)throw"Committed"===this._state.type?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()");var t=!0;try{this._state=wi({type:"Captured"},this._capture(e)),t=!1}finally{t&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}},{key:"_capture",value:function(e){var t=[];return{transaction:this._studio.tempTransaction((function(n){var r=!0,i={set:function(e,i){if(!r)throw new Error("You seem to have called the scrub api after scrub.capture()");var a=(0,pX.getPointerParts)(e),o=a.root;a.path;if(!Li(o))throw new Error("We can only scrub props of Sheet Objects for now");n.set(e,i),t.push(e)}};try{e(i)}finally{r=!1}})),flagsTransaction:this._studio.tempTransaction((function(e){var n=e.stateEditors;t.forEach((function(e){var t=(0,pX.getPointerParts)(e),r=t.root,i=t.path;Li(r)&&fX(r.template.getDefaultsAtPointer(e),(function(e,t){n.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(_i(wi({},r.address),{pathToProp:t}))}),i)}))}))}}},{key:"discard",value:function(){var e=this._state;if("Captured"!==e.type&&"Ready"!==e.type)throw"Committed"===e.type?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded");"Captured"===e.type&&(e.transaction.discard(),e.flagsTransaction.discard()),this._state={type:"Discarded"}}}]),e}(),mX=Ti(n(2114));function gX(e){return e}var yX,bX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gX,n=function(n){return{type:e,payload:t(n)}};return n.type=e,n.is=function(t){return t&&t.type&&t.type===e},n},xX=Ti(na()),wX=Ti(_a());Aa();var _X=new Uint8Array(16);function SX(){if(!yX&&!(yX="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yX(_X)}var kX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var EX=function(e){return"string"===typeof e&&kX.test(e)},MX=[],PX=0;PX<256;++PX)MX.push((PX+256).toString(16).substr(1));var TX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(MX[e[t+0]]+MX[e[t+1]]+MX[e[t+2]]+MX[e[t+3]]+"-"+MX[e[t+4]]+MX[e[t+5]]+"-"+MX[e[t+6]]+MX[e[t+7]]+"-"+MX[e[t+8]]+MX[e[t+9]]+"-"+MX[e[t+10]]+MX[e[t+11]]+MX[e[t+12]]+MX[e[t+13]]+MX[e[t+14]]+MX[e[t+15]]).toLowerCase();if(!EX(n))throw TypeError("Stringified UUID is invalid");return n};var CX=function(e,t,n){var r=(e=e||{}).random||(e.rng||SX)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return TX(r)},AX={replaceHistory:bX("@history/replaceHistory"),startHistoryFromScratch:bX("@history/startHistoryFromScratch"),undo:bX("@history/undo"),redo:bX("@history/redo")},IX={type:"@history/unknownAction",payload:""},RX={maxNumberOfCommits:100};function OX(e){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:e}}function DX(e,t,n){if(t===e.innerState)return e;var r=function(e,t){var n=xX.default.diff(e,t,{invertible:!1}),r=xX.default.diff(t,e,{invertible:!1}),i=Date.now(),a=CX();return{forwardDiff:n,backwardDiff:r,timestamp:i,hash:a}}(e.innerState,t);if(0===r.forwardDiff.length)return e;var i=Ui(e.listOfCommitHashes),a={currentCommitHash:r.hash,commitsByHash:wi({},e.commitsByHash),listOfCommitHashes:si(e.listOfCommitHashes),innerState:t};if(e.currentCommitHash!==i){var o=e.listOfCommitHashes.findIndex((function(t){return t===e.currentCommitHash}));e.listOfCommitHashes.slice(o+1).forEach((function(e){delete a.commitsByHash[e]})),a.listOfCommitHashes.splice(o+1,a.listOfCommitHashes.length)}if(a.listOfCommitHashes.push(r.hash),a.commitsByHash[r.hash]=r,a.listOfCommitHashes.length>n.maxNumberOfCommits){var s=a.listOfCommitHashes.length-n.maxNumberOfCommits;a.listOfCommitHashes.slice(0,s).forEach((function(e){delete a.commitsByHash[e]})),a.listOfCommitHashes.splice(0,s)}return a}function LX(e){if(void 0===e.currentCommitHash)return e;var t=e.listOfCommitHashes.findIndex((function(t){return t===e.currentCommitHash}));if(-1===t)throw new Error("This should never happen");var n=e.commitsByHash[e.currentCommitHash],r=(0,wX.default)(e.innerState,n.backwardDiff),i=t-1,a=-1===i?void 0:e.listOfCommitHashes[i];return _i(wi({},e),{currentCommitHash:a,innerState:r})}function jX(e){if(0===e.listOfCommitHashes.length)return e;var t=e.listOfCommitHashes.findIndex((function(t){return t===e.currentCommitHash}));if(t===e.listOfCommitHashes.length-1)return e;var n=t+1,r=e.listOfCommitHashes[n],i=e.commitsByHash[r],a=(0,wX.default)(e.innerState,i.forwardDiff);return _i(wi({},e),{currentCommitHash:r,innerState:a})}Wa();var NX,zX,FX={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},BX=bX("@storeBundle/replacePersistentState",(function(e){return e})),UX=bX("@storeBundle/reduceParts",(function(e){return e})),VX={historic:AX,replacePersistentState:BX,reduceParts:UX},HX=bX("@storeBundle/setInnerHistoricState",(function(e){return e})),WX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RX,n=OX(e(void 0,IX));return function(r,i){return AX.startHistoryFromScratch.is(i)?OX(e(void 0,i.payload)):AX.replaceHistory.is(i)?i.payload:AX.undo.is(i)?r?LX(r):n:AX.redo.is(i)?r?jX(r):n:r?DX(r,e(r.innerState,i),t):OX(e(void 0,i))}}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FX.historic,t=arguments.length>1?arguments[1]:void 0;return HX.is(t)?t.payload:e})),GX=function(e,t){if(BX.is(t)){var n=t.payload;return{$persistent:{historic:n.historic,ahistoric:n.ahistoric},ephemeral:(null==e?void 0:e.ephemeral)||FX.ephemeral}}if(e){var r=e.$persistent,i=r.historic,a=r.ahistoric,o=e.ephemeral;if(UX.is(t)){var s={historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral},u=t.payload(s);if(u===s)return e;i.innerState!==u.historic&&(i=WX(i,HX(u.historic))),a=u.ahistoric,o=u.ephemeral}else{var l=WX(i,t);if(l===i)return e;i=l}return{$persistent:i===e.$persistent.historic&&a===e.$persistent.ahistoric?e.$persistent:{historic:i,ahistoric:a},ephemeral:o}}return{$persistent:{historic:WX(void 0,{}),ahistoric:FX.ahistoric},ephemeral:FX.ephemeral}},qX=bX("@history/pushTempAction",(function(e){return e})),KX=bX("@history/discardTempAction",(function(e){return e})),XX=bX("@history/commitTempAction",(function(e){return e})),YX=0,$X=function(e,t){if(e){var n=e.$temps,r=n.tempActions,i=n.permanent,a=void 0;if(qX.is(t))r=[].concat(si(r),[t]);else if(XX.is(t)){var o=r.find((function(e){return e.payload.id===t.payload}));o?(a=o.payload.originalAction,r=r.filter((function(e){return e.payload.id!==t.payload}))):Va.error("Comitting temp action group ".concat(t.payload," isn't possible as this group doesn't exist"))}else KX.is(t)?r=r.filter((function(e){return e.payload.id!==t.payload})):a=t;a&&(i=GX(e.$temps.permanent,a));var s,u={historic:i.$persistent.historic.innerState,ahistoric:i.$persistent.ahistoric,ephemeral:i.ephemeral},l=ui(r);try{for(l.s();!(s=l.n()).done;){u=s.value.payload.originalAction.payload(u)}}catch(d){l.e(d)}finally{l.f()}return wi({$temps:{tempActions:r,permanent:i},$persistent:i.$persistent},u)}var c=GX(void 0,t);return{$temps:{permanent:c,tempActions:[]},$persistent:c.$persistent,historic:c.$persistent.historic.innerState,ahistoric:c.$persistent.ahistoric,ephemeral:c.ephemeral}};function ZX(e,t){if("object"===typeof e&&null!==e)if(0!==t.length){var n,r=t.slice(0,t.length-1),i=e,a=new WeakMap,o=ui(r);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i,l=u[s];if("object"!==typeof l||null===l)return;a.set(l,u),i=l}}catch(v){o.e(v)}finally{o.f()}var c,d=t.slice().reverse(),f=ui(d);try{for(f.s();!(c=f.n()).done;){if(delete i[c.value],0!==Object.keys(i).length)return;i=a.get(i)}}catch(v){f.e(v)}finally{f.f()}}else for(var p=0,h=Object.keys(e);p<h.length;p++){delete e[h[p]]}}function QX(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=NY[e],a=i?"function"==typeof i?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+a)}function JX(e){return!!e&&!!e[jY]}function eY(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===zY}(e)||Array.isArray(e)||!!e[LY]||!!e.constructor[LY]||aY(e)||oY(e))}function tY(e,t,n){void 0===n&&(n=!1),0===nY(e)?(n?Object.keys:FY)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function nY(e){var t=e[jY];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:aY(e)?2:oY(e)?3:0}function rY(e,t){return 2===nY(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iY(e,t,n){var r=nY(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function aY(e){return IY&&e instanceof Map}function oY(e){return RY&&e instanceof Set}function sY(e){return e.o||e.t}function uY(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=BY(e);delete t[jY];for(var n=FY(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function lY(e,t){return void 0===t&&(t=!1),dY(e)||JX(e)||!eY(e)||(nY(e)>1&&(e.set=e.add=e.clear=e.delete=cY),Object.freeze(e),t&&tY(e,(function(e,t){return lY(t,!0)}),!0)),e}function cY(){QX(2)}function dY(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function fY(e){var t=UY[e];return t||QX(18,e),t}function pY(){return zX||QX(0),zX}function hY(e,t){t&&(fY("Patches"),e.u=[],e.s=[],e.v=t)}function vY(e){mY(e),e.p.forEach(yY),e.p=null}function mY(e){e===zX&&(zX=e.l)}function gY(e){return zX={p:[],l:zX,h:e,m:!0,_:0}}function yY(e){var t=e[jY];0===t.i||1===t.i?t.j():t.O=!0}function bY(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||fY("ES5").S(t,e,r),r?(n[jY].P&&(vY(t),QX(4)),eY(e)&&(e=xY(t,e),t.l||_Y(t,e)),t.u&&fY("Patches").M(n[jY],e,t.u,t.s)):e=xY(t,n,[]),vY(t),t.u&&t.v(t.u,t.s),e!==DY?e:void 0}function xY(e,t,n){if(dY(t))return t;var r=t[jY];if(!r)return tY(t,(function(i,a){return wY(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return _Y(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=uY(r.k):r.o;tY(3===r.i?new Set(i):i,(function(t,a){return wY(e,r,i,t,a,n)})),_Y(e,i,!1),n&&e.u&&fY("Patches").R(r,n,e.u,e.s)}return r.o}function wY(e,t,n,r,i,a){if(i===n&&QX(5),JX(i)){var o=xY(e,i,a&&t&&3!==t.i&&!rY(t.D,r)?a.concat(r):void 0);if(iY(n,r,o),!JX(o))return;e.m=!1}if(eY(i)&&!dY(i)){if(!e.h.F&&e._<1)return;xY(e,i),t&&t.A.l||_Y(e,i)}}function _Y(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&lY(t,n)}function SY(e,t){var n=e[jY];return(n?sY(n):e)[t]}function kY(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function EY(e){e.P||(e.P=!0,e.l&&EY(e.l))}function MY(e){e.o||(e.o=uY(e.t))}function PY(e,t,n){var r=aY(t)?fY("MapSet").N(t,n):oY(t)?fY("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:pY(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=VY;n&&(i=[r],a=HY);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):fY("ES5").J(t,n);return(n?n.A:pY()).p.push(r),r}function TY(e){return JX(e)||QX(22,e),function e(t){if(!eY(t))return t;var n,r=t[jY],i=nY(t);if(r){if(!r.P&&(r.i<4||!fY("ES5").K(r)))return r.t;r.I=!0,n=CY(t,i),r.I=!1}else n=CY(t,i);return tY(n,(function(t,i){r&&function(e,t){return 2===nY(e)?e.get(t):e[t]}(r.t,t)===i||iY(n,t,e(i))})),3===i?new Set(n):n}(e)}function CY(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return uY(e)}uo(),uo(),jy();var AY="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),IY="undefined"!=typeof Map,RY="undefined"!=typeof Set,OY="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,DY=AY?Symbol.for("immer-nothing"):((NX={})["immer-nothing"]=!0,NX),LY=AY?Symbol.for("immer-draftable"):"__$immer_draftable",jY=AY?Symbol.for("immer-state"):"__$immer_state",NY=("undefined"!=typeof Symbol&&Symbol.iterator,{0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"}),zY=""+Object.prototype.constructor,FY="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,BY=Object.getOwnPropertyDescriptors||function(e){var t={};return FY(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},UY={},VY={get:function(e,t){if(t===jY)return e;var n=sY(e);if(!rY(n,t))return function(e,t,n){var r,i=kY(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!eY(r)?r:r===SY(e.t,t)?(MY(e),e.o[t]=PY(e.A.h,r,e)):r},has:function(e,t){return t in sY(e)},ownKeys:function(e){return Reflect.ownKeys(sY(e))},set:function(e,t,n){var r=kY(sY(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=SY(sY(e),t),a=null==i?void 0:i[jY];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||rY(e.t,t)))return!0;MY(e),EY(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==SY(e.t,t)||t in e.t?(e.D[t]=!1,MY(e),EY(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=sY(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){QX(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){QX(12)}},HY={};tY(VY,(function(e,t){HY[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),HY.deleteProperty=function(e,t){return isNaN(parseInt(t))&&QX(13),VY.deleteProperty.call(this,e[0],t)},HY.set=function(e,t,n){return"length"!==t&&isNaN(parseInt(t))&&QX(14),VY.set.call(this,e[0],t,n,e[0])};var WY=function(){function e(e){var t=this;this.g=OY,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&QX(6),void 0!==r&&"function"!=typeof r&&QX(7),eY(e)){var s=gY(t),u=PY(t,e,void 0),l=!0;try{o=n(u),l=!1}finally{l?vY(s):mY(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return hY(s,r),bY(e,s)}),(function(e){throw vY(s),e})):(hY(s,r),bY(o,s))}if(!e||"object"!=typeof e){if((o=n(e))===DY)return;return void 0===o&&(o=e),t.F&&lY(o,!0),o}QX(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){eY(e)||QX(8),JX(e)&&(e=TY(e));var t=gY(this),n=PY(this,e,void 0);return n[jY].C=!0,mY(t),n},t.finishDraft=function(e,t){var n=e&&e[jY];n&&n.C||QX(9),n.I&&QX(10);var r=n.A;return hY(r,t),bY(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!OY&&QX(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=fY("Patches").$;return JX(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),GY=new WY,qY=(GY.produce,GY.produceWithPatches.bind(GY),GY.setAutoFreeze.bind(GY),GY.setUseProxies.bind(GY),GY.applyPatches.bind(GY),GY.createDraft.bind(GY)),KY=GY.finishDraft.bind(GY);pg(),Ag(),cy(),by(),xy(),WW(),Py(),Vi();var XY,YY,$Y,ZY={create:function(e){var t={byId:{},allIds:{}};if(e){var n,r=ui(e);try{for(r.s();!(n=r.n()).done;){var i=oi(n.value,2),a=i[0],o=i[1];t.byId[a]=o,t.allIds[a]=!0}}catch(s){r.e(s)}finally{r.f()}}return t},shallowCopy:function(e){return{byId:wi({},null==e?void 0:e.byId),allIds:wi({},null==e?void 0:e.allIds)}},add:function(e,t,n){return{byId:_i(wi({},null==e?void 0:e.byId),ii({},t,n)),allIds:_i(wi({},null==e?void 0:e.allIds),ii({},t,!0))}},merge:function(e){for(var t=ZY.create(),n=0;n<e.length;n++)t.byId=wi(wi({},t.byId),e[n].byId),t.allIds=wi(wi({},t.allIds),e[n].allIds);return t},remove:function(e,t){var n=ZY.shallowCopy(e);return delete n.allIds[t],delete n.byId[t],n},filter:function(e,t){for(var n=ZY.shallowCopy(e),r=0,i=Object.entries(n.byId);r<i.length;r++){var a=oi(i[r],2),o=a[0];t(a[1])||(delete n.allIds[o],delete n.byId[o])}return n}},QY=function(e){return XY=e,YY},JY=function(){if(void 0===XY)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return XY};function e$(){var e,t,n=new Promise((function(n,i){e=function(e){n(e),r.status="resolved"},t=function(e){i(e),r.status="rejected"}})),r={resolve:e,reject:t,promise:n,status:"pending"};return r}(function(e){var t;!function(e){var t;(e.panelPositions||(e.panelPositions={})).setPanelPosition=function(e){var t=JY().historic;null!=t.panelPositions||(t.panelPositions={}),t.panelPositions[e.panelId]=e.position},function(e){var t;e._ensure=function(){var e;return null!=(e=JY().historic).panels||(e.panels={}),JY().historic.panels},function(e){var t;e._ensure=function(){var e=$Y.studio.historic.panels._ensure();return null!=e.outlinePanel||(e.outlinePanel={}),e.outlinePanel},(t=e.selection||(e.selection={})).set=function(t){var n,r=[],i=ui(Sy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value;Ri(a)?r.push(wi({type:"Project"},a.address)):Oi(a)?(r.push(wi({type:"Sheet"},a.template.address)),$Y.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(a.address)):Di(a)?r.push(wi({type:"Sheet"},a.address)):Li(a)?(r.push(wi({type:"SheetObject"},a.template.address)),$Y.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(a.sheet.address)):ji(a)&&r.push(wi({type:"SheetObject"},a.address))}}catch(o){i.e(o)}finally{i.f()}e._ensure().selection=r},t.unset=function(){e._ensure().selection=[]}}(e.outline||(e.outline={})),(t=e.sequenceEditor||(e.sequenceEditor={}))._ensure=function(){var e=$Y.studio.historic.panels._ensure();return null!=e.sequenceEditor||(e.sequenceEditor={}),e.sequenceEditor},(t.graphEditor||(t.graphEditor={})).setIsOpen=function(e){(function(){var e=t._ensure();return null!=e.graphEditor||(e.graphEditor={height:.5,isOpen:!1}),e.graphEditor}()).isOpen=e.isOpen}}(e.panels||(e.panels={})),function(e){var t;e._ensure=function(e){var t=JY().historic;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},(t=e.stateBySheetId||(e.stateBySheetId={}))._ensure=function(e){var t=$Y.studio.historic.projects.stateByProjectId._ensure(e);return t.stateBySheetId[e.sheetId]||(t.stateBySheetId[e.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),t.stateBySheetId[e.sheetId]},t.setSelectedInstanceId=function(e){$Y.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(e).selectedInstanceId=e.sheetInstanceId},function(e){function n(e){var t=$Y.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(e).sequenceEditor;return t.markerSet||(t.markerSet=ZY.create()),t.markerSet}e.addPropToGraphEditor=function(e){var n=t._ensure(e).sequenceEditor.selectedPropsByObject;n[e.objectKey]||(n[e.objectKey]={});for(var r=n[e.objectKey],i=qa(e.pathToProp),a=new Set(Object.keys(zW)),o=0,s=Object.entries(TY(n));o<s.length;o++)for(var u=oi(s[o],2),l=(u[0],u[1]),c=0,d=Object.entries(l);c<d.length;c++){var f=oi(d[c],2),p=(f[0],f[1]);a.delete(p)}var h=a.size>0?a.values().next().value:Object.keys(zW)[0];r[i]=h},e.removePropFromGraphEditor=function(e){var n=t._ensure(e).sequenceEditor.selectedPropsByObject;if(n[e.objectKey]){var r=n[e.objectKey],i=qa(e.pathToProp);r[i]&&ZX(n,[e.objectKey,i])}},e.replaceMarkers=function(e){var t=n(e.sheetAddress),r=e.markers.filter((function(e){return!!isFinite(e.position)})).map((function(t){return _i(wi({},t),{position:e.snappingFunction(t.position)})})),i=Pg(r,"id"),a=ZY.filter(t,(function(e){return e&&!i[e.id]})),o=Pg(Object.values(a.byId),"position");r.forEach((function(e){var t=e.position,n=o[t];n&&(a=ZY.remove(a,n.id))})),Object.assign(t,ZY.merge([a,ZY.create(r.map((function(e){return[e.id,e]})))]))},e.removeMarker=function(e){var t=n(e.sheetAddress);Object.assign(t,ZY.remove(t,e.markerId))}}(t.sequenceEditor||(t.sequenceEditor={}))}((t=e.projects||(e.projects={})).stateByProjectId||(t.stateByProjectId={}))}(e.historic||(e.historic={})),(t=e.ephemeral||(e.ephemeral={})).setShowOutline=function(e){JY().ephemeral.showOutline=e},function(e){var t;(t=e.stateByProjectId||(e.stateByProjectId={}))._ensure=function(e){var t=JY().ephemeral;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},function(e){var t;e._ensure=function(e){var t=$Y.studio.ephemeral.projects.stateByProjectId._ensure(e);return t.stateBySheetId[e.sheetId]||(t.stateBySheetId[e.sheetId]={stateByObjectKey:{}}),t.stateBySheetId[e.sheetId]},(t=e.stateByObjectKey||(e.stateByObjectKey={}))._ensure=function(e){var t,n=$Y.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(e).stateByObjectKey;return null!=n[t=e.objectKey]||(n[t]={}),n[e.objectKey]},function(e){function t(e){var t=$Y.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(e);return null!=t.valuesBeingScrubbed||(t.valuesBeingScrubbed={}),t.valuesBeingScrubbed}e._ensure=t,e.flag=function(e){uy(t(e),e.pathToProp,!0)}}(t.propsBeingScrubbed||(t.propsBeingScrubbed={}))}(t.stateBySheetId||(t.stateBySheetId={}))}(t.projects||(t.projects={})),function(e){var t;e.setPinOutline=function(e){JY().ahistoric.pinOutline=e},e.setPinDetails=function(e){JY().ahistoric.pinDetails=e},e.setVisibilityState=function(e){JY().ahistoric.visibilityState=e},e.setClipboardKeyframes=function(e){var t=Ya(e.map((function(e){return e.pathToProp}))),n=e.map((function(e){return{keyframe:e.keyframe,pathToProp:e.pathToProp.slice(t.length)}})),r=JY();r.ahistoric.clipboard?r.ahistoric.clipboard.keyframesWithRelativePaths=n:r.ahistoric.clipboard={keyframesWithRelativePaths:n}},function(e){var t;e._ensure=function(e){var t=JY().ahistoric;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},(t=e.stateBySheetId||(e.stateBySheetId={}))._ensure=function(e){var t=$Y.studio.ahistoric.projects.stateByProjectId._ensure(e);return t.stateBySheetId[e.sheetId]||(t.stateBySheetId[e.sheetId]={}),t.stateBySheetId[e.sheetId]},function(e){var t;e._ensure=function(e){var t=$Y.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(e);return t.sequence||(t.sequence={}),t.sequence},(t=e.focusRange||(e.focusRange={})).set=function(e){$Y.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e).focusRange={range:e.range,enabled:e.enabled}},t.unset=function(e){$Y.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e).focusRange=void 0},(e.clippedSpaceRange||(e.clippedSpaceRange={})).set=function(e){$Y.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e).clippedSpaceRange=wi({},e.range)},(e.sequenceEditorCollapsableItems||(e.sequenceEditorCollapsableItems={})).set=function(e){var t=function(e){var t=$Y.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(e),n=t.collapsableItems;return n||(n=t.collapsableItems=ZY.create()),n}(e);Object.assign(t,ZY.add(t,e.studioSheetItemKey,{isCollapsed:e.isCollapsed}))}}(t.sequence||(t.sequence={}))}((t=e.projects||(e.projects={})).stateByProjectId||(t.stateByProjectId={}))}(e.ahistoric||(e.ahistoric={}))})(($Y=YY||(YY={})).studio||($Y.studio={})),function(e){var t;((t=e.historic||(e.historic={})).revisionHistory||(t.revisionHistory={})).add=function(e){var t=JY().historic.coreByProject[e.projectId].revisionHistory;t.unshift(e.revision),t.length>50&&(t.length=50)},function(e){var t;e._ensure=function(e){var t=JY().historic.coreByProject[e.projectId].sheetsById;return t[e.sheetId]||(t[e.sheetId]={staticOverrides:{byObject:{}}}),t[e.sheetId]},function(e){function t(e){var t=$Y.coreByProject.historic.sheetsById._ensure(e);return null!=t.sequence||(t.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),t.sequence}function n(e){var t,n=$Y.coreByProject.historic.sheetsById.sequence._ensure(e).tracksByObject;return null!=n[t=e.objectKey]||(n[t]={trackData:{},trackIdByPropPath:{}}),n[e.objectKey]}function r(e){return n(e).trackData[e.trackId]}function i(e){var t=r(e);if(t){var n=TY(t.keyframes),i=e.keyframes.filter((function(e){return!("number"===typeof e.value&&!isFinite(e.value))&&!!e.handles.every((function(e){return isFinite(e)}))})).map((function(t){return _i(wi({},t),{position:e.snappingFunction(t.position)})})),a=Pg(i,"id"),o=n.filter((function(e){return!a[e.id]})),s=Pg(o,"position");i.forEach((function(e){var t=e.position,n=s[t];n&&ay(o,n)}));var u=hy([].concat(si(o),si(i)),"position");t.keyframes=u}}e._ensure=t,e.setLength=function(e){t(e).length=hp(parseFloat(e.length.toFixed(2)),.01,1/0)},e.setPrimitivePropAsSequenced=function(e,t){var r=n(e),i=qa(e.pathToProp);if("string"!==typeof r.trackIdByPropPath[i]){var a=Iy(10),o={type:"BasicKeyframedTrack",__debugName:"".concat(e.objectKey,":").concat(i),keyframes:[]};r.trackData[a]=o,r.trackIdByPropPath[i]=a}},e.setPrimitivePropAsStatic=function(e){var t=n(e),r=qa(e.pathToProp),i=t.trackIdByPropPath[r];"string"===typeof i&&(delete t.trackIdByPropPath[r],delete t.trackData[i],$Y.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(e))},e.setCompoundPropAsStatic=function(e){for(var t=n(e),r=function(){var n=a[i],r=JSON.parse(n),o=e.pathToProp.every((function(e,t){return r[t]===e}));if(o){var s=t.trackIdByPropPath[n];if("string"!==typeof s)return"continue";delete t.trackIdByPropPath[n],delete t.trackData[s]}},i=0,a=Object.keys(t.trackIdByPropPath);i<a.length;i++)r();$Y.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(e)},e.setKeyframeAtPosition=function(e){var t=e.snappingFunction(e.position),n=r(e);if(n){var i=n.keyframes,a=i.findIndex((function(e){return e.position===t}));if(-1===a){var o=lg(i,(function(e){return e.position<t}));if(-1!==o){var s=i[o];i.splice(o+1,0,{id:Ly(),position:t,connectedRight:s.connectedRight,handles:e.handles||[.5,1,.5,0],value:e.value})}else i.unshift({id:Ly(),position:t,connectedRight:!0,handles:e.handles||[.5,1,.5,0],value:e.value})}else i[a].value=e.value}},e.unsetKeyframeAtPosition=function(e){var t=r(e);if(t){var n=t.keyframes,i=n.findIndex((function(t){return t.position===e.position}));-1!==i&&n.splice(i,1)}},e.transformKeyframes=function(e){var t=r(e);if(t){var n=TY(t.keyframes).filter((function(t){return e.keyframeIds.includes(t.id)})).map((function(t){var n=t.position,r=e.snappingFunction(function(e,t){var n=t.scale,r=t.origin;return t.translate+(r+(e-r)*n)}(n,e));return _i(wi({},t),{position:r})}));i(_i(wi({},e),{keyframes:n}))}},e.setTweenBetweenKeyframes=function(e){var t=r(e);t&&(t.keyframes=t.keyframes.map((function(n,r){var i=t.keyframes[r-1],a=e.keyframeIds.includes(n.id),o=e.keyframeIds.includes(null==i?void 0:i.id);return a&&!o?_i(wi({},n),{handles:[n.handles[0],n.handles[1],e.handles[0],e.handles[1]]}):a&&o?_i(wi({},n),{handles:[e.handles[2],e.handles[3],e.handles[0],e.handles[1]]}):o?_i(wi({},n),{handles:[e.handles[2],e.handles[3],n.handles[2],n.handles[3]]}):n})))},e.setHandlesForKeyframe=function(e){var t=r(e);t&&(t.keyframes=t.keyframes.map((function(t){var n,r,i,a,o,s,u,l;return t.id===e.keyframeId?_i(wi({},t),{handles:[null!=(r=null==(n=e.end)?void 0:n[0])?r:t.handles[0],null!=(a=null==(i=e.end)?void 0:i[1])?a:t.handles[1],null!=(s=null==(o=e.start)?void 0:o[0])?s:t.handles[2],null!=(l=null==(u=e.start)?void 0:u[1])?l:t.handles[3]]}):t})))},e.deleteKeyframes=function(e){var t=r(e);t&&(t.keyframes=t.keyframes.filter((function(t){return-1===e.keyframeIds.indexOf(t.id)})))},e.replaceKeyframes=i}(e.sequence||(e.sequence={})),function(e){function t(e){var t,n=$Y.coreByProject.historic.sheetsById._ensure(e).staticOverrides.byObject;return null!=n[t=e.objectKey]||(n[t]={}),n[e.objectKey]}e.setValueOfCompoundProp=function(e){var n=t(e);uy(n,e.pathToProp,e.value)},e.setValueOfPrimitiveProp=function(e){var n=t(e);uy(n,e.pathToProp,e.value)},e.unsetValueOfPrimitiveProp=function(e){var t=$Y.coreByProject.historic.sheetsById._ensure(e).staticOverrides.byObject[e.objectKey];t&&ZX(t,e.pathToProp)}}((t=e.staticOverrides||(e.staticOverrides={})).byObject||(t.byObject={}))}(t.sheetsById||(t.sheetsById={}))}($Y.coreByProject||($Y.coreByProject={}));var t$=Ti(n(2114));Es(),lp();var n$=function(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:e),r$="@@redux/INIT";function i$(e,t,n){var r;if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(i$)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var i=e,a=t,o=[],s=o,u=!1;function l(){s===o&&(s=o.slice())}function c(){return a}function d(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),s.push(e),function(){if(t){t=!1,l();var n=s.indexOf(e);s.splice(n,1)}}}function f(e){if(!np(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:r$}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,f({type:r$})}})[n$]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[n$]=function(){return this},e},r}function a$(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function o$(){}function s$(e){var t=[],n="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__(e.devtoolsOptions):gs;t.push(n);var r=a$.apply(void 0,t);return i$(e.rootReducer,void 0,r)}"string"===typeof o$.name&&"isCrushed"!==o$.name&&function(e){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),Wa(),tg();var u$=function(e,t,n){var r=n+".persistent",i=function(){return e.getState().$persistent};!function(){var n=localStorage.getItem(r);if(n){var i,a=!0;try{i=JSON.parse(n),a=!1}catch(s){Va.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{a||(o=i,e.dispatch(VX.replacePersistentState(o))),t()}}else t();var o}();var a=i(),o=function(){var e=i();e!==a&&(a=e,localStorage.setItem(r,JSON.stringify(e)))};e.subscribe($m(o,1e3)),window&&window.addEventListener("beforeunload",o)};_L(),Vi(),Ff(),Qy();var l$=Ti(n(2114));function c$(e){if("boolean"===typeof e||"string"===typeof e||"number"===typeof e)return e;if(np(e)){for(var t={},n=!1,r=0,i=Object.entries(e);r<i.length;r++){var a=oi(i[r],2),o=a[0],s=a[1];void 0!==c$(s)&&(t[o]=s,n=!0)}return n?t:void 0}}function d$(e,t,n){for(var r=0,i=Object.entries(e.props);r<i.length;r++){var a=oi(i[r],2),o=a[0],s=a[1];if("compound"===s.type)d$(s,[].concat(si(t),[o]),n);else{if("enum"===s.type)throw new Error("Not yet implemented");n(s,[].concat(si(t),[o]))}}}function f$(e,t,n){return{set:function(n,r){e();var i=c$(r);if("undefined"!==typeof i){var a=(0,l$.getPointerParts)(n),o=a.root,s=a.path;if(!Li(o))throw new Error("Only setting props of SheetObject-s is supported in a transaction so far");var u=o.template.getMapOfValidSequenceTracks_forStudio().getValue(),l=uP(o.template.staticConfig,s);if(!l)throw new Error("Object ".concat(o.address.objectKey," does not have a prop at ").concat(JSON.stringify(s)));var c=function(e,n,r){if(void 0!==e&&null!==e){if(void 0===c$(n.deserializeAndSanitize(e)))throw new Error("Invalid value ".concat(qW(e)," for object.props").concat(r.map((function(e){return"[".concat(JSON.stringify(e),"]")})).join("")," is invalid"));var i=_i(wi({},o.address),{pathToProp:r}),a=Lf(u,r);if("string"===typeof a){var s=o.sheet.getSequence();s.position=s.closestGridPosition(s.position),t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(_i(wi({},i),{trackId:a,position:s.position,value:e,snappingFunction:s.closestGridPosition}))}else t.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(_i(wi({},i),{value:e}))}};if("compound"===l.type){var d=(0,l$.getPointerParts)(n).path,f=d.length;d$(l,d,(function(e,t){var n=t.slice(f),r=Ny(i,n);if("undefined"===typeof r)throw new Error("Property object.props".concat(t.map((function(e){return"[".concat(JSON.stringify(e),"]")})).join("")," is required but not provided"));c(r,e,t)}))}else{if("enum"===l.type)throw new Error("Enums aren't implemented yet");c(i,l,s)}}},unset:function(n){e();var r=(0,l$.getPointerParts)(n),i=r.root,a=r.path;if(!Li(i))throw new Error("Only setting props of SheetObject-s is supported in a transaction so far");var o=i.template.getMapOfValidSequenceTracks_forStudio().getValue(),s=Ny(i.template.getDefaultValues().getValue(),a),u=uP(i.template.staticConfig,a),l=function(e,n){var r=_i(wi({},i.address),{pathToProp:n}),a=Lf(o,n);"string"===typeof a?t.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(_i(wi({},r),{trackId:a,position:i.sheet.getSequence().positionSnappedToGrid})):void 0!==u&&t.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(r)};"compound"===u.type?fX(s,(function(e,t){l(0,t)}),(0,l$.getPointerParts)(n).path):l(0,a)},get drafts(){return e(),n},get stateEditors(){return t}}}xP(),Py(),uG();var p$=function(){"use strict";function e(){Zr(this,e),Ci(this,"_reduxStore"),Ci(this,"_atom"),Ci(this,"atomP"),this._reduxStore=s$({rootReducer:$X,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=function(e){var t=e.getState(),n=new t$.Atom(t);return e.subscribe((function(){var r=e.getState();n.setState(r),t=r})),n}(this._reduxStore),this.atomP=this._atom.pointer}return $r(e,[{key:"initialize",value:function(e){var t=this,n=e$();return!0===e.usePersistentStorage?u$(this._reduxStore,(function(){t.tempTransaction((function(e){e.drafts.ephemeral.initialised=!0})).commit(),n.resolve()}),e.persistenceKey):(this.tempTransaction((function(e){e.drafts.ephemeral.initialised=!0})).commit(),n.resolve()),n.promise}},{key:"getState",value:function(){return this._reduxStore.getState()}},{key:"__dev_startHistoryFromScratch",value:function(e){this._reduxStore.dispatch(VX.historic.startHistoryFromScratch(VX.reduceParts((function(t){return _i(wi({},t),{historic:e})}))))}},{key:"tempTransaction",value:function(e){var t,n=this,r=function(){var e=YX++;return{push:function(t){return qX({id:e,originalAction:t})},discard:function(){return KX(e)},commit:function(){return XX(e)}}}(),i=r.push(VX.reduceParts((function(n){var r={historic:qY(n.historic),ahistoric:qY(n.ahistoric),ephemeral:qY(n.ephemeral)},i=!0,a=f$((function(){if(!i)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")}),QY(r),r);try{return e(a),i=!1,{historic:KY(r.historic),ahistoric:KY(r.ahistoric),ephemeral:KY(r.ephemeral)}}catch(o){return t=o,n}finally{QY(void 0)}})));if(this._reduxStore.dispatch(i),t)throw this._reduxStore.dispatch(r.discard()),t;return{commit:function(){n._reduxStore.dispatch(r.commit())},discard:function(){n._reduxStore.dispatch(r.discard())}}}},{key:"undo",value:function(){this._reduxStore.dispatch(VX.historic.undo())}},{key:"redo",value:function(){this._reduxStore.dispatch(VX.historic.redo())}},{key:"createContentOfSaveFile",value:function(e){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e])throw new Error("Project ".concat(e," has not been initialized."));var t=dL();this.tempTransaction((function(n){n.stateEditors.coreByProject.historic.revisionHistory.add({projectId:e,revision:t})})).commit();var n=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e];return wi({},n)}}]),e}();HT();var h$=Ti(n(2114)),v$=function(){"use strict";function e(){Zr(this,e),Ci(this,"_values",{})}return $r(e,[{key:"get",value:function(e,t){if(this.has(e))return this._values[e];var n=t();return this._values[e]=n,n}},{key:"has",value:function(e){return this._values.hasOwnProperty(e)}}]),e}();Vi(),S_(),Fi(),Py();var m$=function(){"use strict";function e(t){Zr(this,e),Ci(this,"ui",{hide:function(){Ii().ui.hide()},get isHidden(){return Ii().ui.isHidden},restore:function(){Ii().ui.restore()},renderToolset:function(e,t){return Ii().ui.renderToolset(e,t)}}),Ci(this,"_cache",new v$)}return $r(e,[{key:"initialize",value:function(e){return Ii().initialize(e)}},{key:"extend",value:function(e){Ii().extend(e)}},{key:"transaction",value:function(e){return Ii().transaction((function(t){var n=t.set,r=t.unset;return e({set:n,unset:r})}))}},{key:"_getSelectionDerivation",value:function(){return this._cache.get("_getStateDerivation()",(function(){return(0,h$.prism)((function(){return g_().filter((function(e){return"Theatre_SheetObject"===e.type||"Theatre_Sheet"===e.type})).map((function(e){return e.publicApi}))}))}))}},{key:"_getSelection",value:function(){return this._getSelectionDerivation().getValue()}},{key:"setSelection",value:function(e){var t=si(e).filter((function(e){return zi(e)||Ni(e)})).map((function(e){return Ii().corePrivateAPI(e)}));Ii().transaction((function(e){e.stateEditors.studio.historic.panels.outline.selection.set(t)}))}},{key:"onSelectionChange",value:function(e){return this._getSelectionDerivation().tapImmediate(OT,e)}},{key:"selection",get:function(){return this._getSelection()}},{key:"scrub",value:function(){return Ii().scrub()}},{key:"getStudioProject",value:function(){var e=Ii().core;if(!e)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return Ii().getStudioProject(e)}},{key:"debouncedScrub",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,r=$m((function(){var t=e;t&&(e=void 0,t.commit())}),n),i=function(n){e||(e=t.scrub());var i=!0;try{e.capture(n),i=!1}finally{if(i){var a=e;e=void 0,a.discard()}else r()}};return{capture:i}}},{key:"createPane",value:function(e){return Ii().paneManager.createPane(e)}},{key:"destroyPane",value:function(e){return Ii().paneManager.destroyPane(e)}},{key:"createContentOfSaveFile",value:function(e){return Ii().createContentOfSaveFile(e)}}]),e}();Dy();var g$=Ti(n(2114));x_();var y$=function(){"use strict";function e(t){Zr(this,e),this._studio=t,Ci(this,"_cache",new v$),this._instantiatePanesAsTheyComeIn()}return $r(e,[{key:"_instantiatePanesAsTheyComeIn",value:function(){var e=this._getAllPanes();e.changesWithoutValues().tap((function(){e.getValue()}))}},{key:"_getAllPanes",value:function(){var e=this;return this._cache.get("_getAllPanels()",(function(){return(0,g$.prism)((function(){if(!(0,g$.val)(e._studio.coreP))return{};for(var t=(0,g$.val)(e._studio.atomP.historic.panelInstanceDesceriptors),n=(0,g$.val)(e._studio.atomP.ephemeral.extensions.paneClasses),r={},i=function(){var e=o[a];if(!e)return"continue";var t=n[e.paneClass];if(!t)return"continue";var i=e.instanceId,s=t.extensionId,u=t.classDefinition,l=g$.prism.memo("instance-".concat(e.instanceId),(function(){return{extensionId:s,instanceId:i,definition:u}}),v_);r[i]=l},a=0,o=Object.values(t);a<o.length;a++)i();return r}))}))}},{key:"allPanesD",get:function(){return this._getAllPanes()}},{key:"createPane",value:function(e){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");for(var t,n=(0,g$.val)(this._studio.atomP.ephemeral.extensions.paneClasses[e].extensionId),r=(0,g$.val)(this._studio.atomP.historic.panelInstanceDesceriptors),i=1;i<1e3&&r[t="".concat(e," #").concat(i)];i++);if(!n)throw new Error('Pane class "'.concat(e,'" is not registered.'));return this._studio.transaction((function(n){n.drafts.historic.panelInstanceDesceriptors[t]={instanceId:t,paneClass:e}})),this._getAllPanes().getValue()[t]}},{key:"destroyPane",value:function(e){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction((function(t){delete t.drafts.historic.panelInstanceDesceriptors[e]}))}}]),e}(),b$=Ti(n(2114));Fi();var x$=18e5;function w$(){return Ai(this,null,ni().mark((function e(){var t,n,r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=(0,b$.val)(Ii().atomP.ahistoric.updateChecker))){e.next=10;break}if("error"===t.result){e.next=10;break}if(n=t.lastChecked,r=Date.now(),!((i=Math.abs(r-n))<x$)){e.next=10;break}return e.next=10,_$(x$-i);case 10:return e.prev=10,e.next=13,fetch(new Request("https://updates.theatrejs.com/updates/".concat("0.5.0")));case 13:if(!(a=e.sent).ok){e.next=18;break}return e.delegateYield(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:if(S$(t=e.sent)){e.next=5;break}throw new Error("Bad response");case 5:return Ii().transaction((function(e){e.drafts.ahistoric.updateChecker={lastChecked:Date.now(),result:wi({},t)}})),e.next=8,_$(1e3);case 8:case"end":return e.stop()}}),e)}))(),"t0",16);case 16:e.next=19;break;case 18:throw new Error("HTTP Error ".concat(a.statusText));case 19:e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(10),e.next=25,_$(36e5);case 25:e.next=0;break;case 27:case"end":return e.stop()}}),e,null,[[10,21]])})))}var _$=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function S$(e){if("object"!==typeof e)return!1;var t=e;return"boolean"===typeof t.hasUpdates&&(!0===t.hasUpdates&&"string"===typeof t.newVersion&&"string"===typeof t.releasePage||!1===t.hasUpdates)}var k$=Ti(vb()),E$="undefined"!==typeof window?(dX(),cX):null,M$=function(){"use strict";function e(){var t=this;Zr(this,e),Ci(this,"ui"),Ci(this,"publicApi"),Ci(this,"address"),Ci(this,"_projectsProxy",new mX.PointerProxy(new mX.Atom({}).pointer)),Ci(this,"projectsP",this._projectsProxy.pointer),Ci(this,"_store",new p$),Ci(this,"_corePrivateApi"),Ci(this,"_cache",new v$),Ci(this,"paneManager"),Ci(this,"_coreAtom",new mX.Atom({})),Ci(this,"_initializedDeferred",e$()),Ci(this,"_initializeFnCalled",!1),Ci(this,"_didWarnAboutNotInitializing",!1),this.address={studioId:Iy(10)},this.publicApi=new m$(this),"undefined"!==typeof window&&(this.ui=new E$.default(this)),this._attachToIncomingProjects(),this.paneManager=new y$(this),setTimeout((function(){t._initializeFnCalled||(console.error("You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:\n```\nimport studio from '@theatre/studio'\nstudio.initialize()\n```\n\n* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.\n\n* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:\n\n```\nimport studio from '@theatre/studio'\nstudio.initialize()\nstudio.ui.hide()\n```\n"),t._didWarnAboutNotInitializing=!0)}),100)}return $r(e,[{key:"atomP",get:function(){return this._store.atomP}},{key:"initialize",value:function(e){return Ai(this,null,ni().mark((function t(){var n;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._initializeFnCalled){t.next=3;break}return console.log("`studio.initialize()` is already called. Ignoring subsequent calls."),t.abrupt("return",this._initializedDeferred.promise);case 3:return this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn("You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n"),n={persistenceKey:"theatre-0.4",usePersistentStorage:!0},"string"===typeof(null==e?void 0:e.persistenceKey)&&(n.persistenceKey=e.persistenceKey),!1!==(null==e?void 0:e.usePersistentStorage)&&"undefined"!==typeof window||(n.usePersistentStorage=!1),t.prev=8,t.next=11,this._store.initialize(n);case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),this._initializedDeferred.reject(t.t0),t.abrupt("return");case 17:this._initializedDeferred.resolve(),this.ui&&(this.ui.render(),w$());case 19:case"end":return t.stop()}}),t,this,[[8,13]])})))}},{key:"initialized",get:function(){return this._initializedDeferred.promise}},{key:"_attachToIncomingProjects",value:function(){var e=this,t=(0,mX.valueDerivation)(this.projectsP),n=function(t){for(var n=0,r=Object.values(t);n<r.length;n++){var i=r[n];i.isAttachedToStudio||i.attachToStudio(e)}};t.changesWithoutValues().tap((function(){n(t.getValue())})),n(t.getValue())}},{key:"setCoreBits",value:function(e){this._corePrivateApi=e.privateAPI,this._coreAtom.setIn(["core"],e.coreExports),this._setProjectsP(e.projectsP)}},{key:"_setProjectsP",value:function(e){this._projectsProxy.setPointer(e)}},{key:"scrub",value:function(){return new vX(this)}},{key:"tempTransaction",value:function(e){return this._store.tempTransaction(e)}},{key:"transaction",value:function(e){return this.tempTransaction(e).commit()}},{key:"__dev_startHistoryFromScratch",value:function(e){return this._store.__dev_startHistoryFromScratch(e)}},{key:"corePrivateAPI",get:function(){return this._corePrivateApi}},{key:"core",get:function(){return this._coreAtom.getState().core}},{key:"coreP",get:function(){return this._coreAtom.pointer.core}},{key:"extend",value:function(e){if(!e||"object"!==typeof e)throw new Error("Extensions must be JS objects");if("string"!==typeof e.id)throw new Error("extension.id must be a string");this.transaction((function(t){var n,r=t.drafts;if(r.ephemeral.extensions.byId[e.id]){var i=r.ephemeral.extensions.byId[e.id];if(e===i||(0,k$.default)(e,i))return;throw new Error('Extension id "'.concat(e.id,'" is already defined'))}r.ephemeral.extensions.byId[e.id]=e;var a=r.ephemeral.extensions.paneClasses;null==(n=e.panes)||n.forEach((function(t){if("string"!==typeof t.class)throw new Error("pane.class must be a string");if(t.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");var n=a[t.class];if(n)throw new Error('Pane class "'.concat(t.class,'" already exists and is supplied by extension ').concat(n));a[t.class]={extensionId:e.id,classDefinition:t}}))}))}},{key:"getStudioProject",value:function(e){return this._cache.get("getStudioProject",(function(){return e.getProject("Studio")}))}},{key:"getExtensionSheet",value:function(e,t){var n=this;return this._cache.get("extensionSheet-"+e,(function(){return n.getStudioProject(t).sheet("Extension "+e)}))}},{key:"undo",value:function(){this._store.undo()}},{key:"redo",value:function(){this._store.redo()}},{key:"createContentOfSaveFile",value:function(e){return this._store.createContentOfSaveFile(e)}}]),e}(),P$="__TheatreJS_StudioBundle",T$=function(){"use strict";function e(t){Zr(this,e),this._studio=t,Ci(this,"_coreBundle")}return $r(e,[{key:"type",get:function(){return"Theatre_StudioBundle"}},{key:"registerCoreBundle",value:function(e){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");var t;this._coreBundle=e,e.getBitsForStudio(this._studio,(function(e){t=e})),this._studio.setCoreBits(t)}}]),e}(),C$=Ti(nb());hw();var A$=Cx.div(Xr||(Xr=ai([""]))),I$=function(e){return C$.default.createElement(A$,null)},R$=new M$;Yr=R$;var O$=R$.publicApi;!function(){if("undefined"==typeof window)return;var e=window[P$];if("undefined"!==typeof e)throw"object"===typeof e&&e&&"string"===typeof e.version?new Error("It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:\n1. You might have two separate versions of Theatre.js in node_modules.\n2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.\n\nNote that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module."):new Error("The variable window.".concat(P$," seems to be already set by a module other than @theatre/core."));var t=new T$(R$);window[P$]=t;var n=window.__TheatreJS_CoreBundle;n&&null!==n&&"Theatre_CoreBundle"===n.type&&t.registerCoreBundle(n)}()},7472:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},7494:function(e){function t(e,t,n){var r,i,a,o,s;function u(){var l=Date.now()-o;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}t.debounce=t,e.exports=t},7357:function(e,t,n){var r="__lodash_hash_undefined__",i=9007199254740991,a="[object Symbol]",o=/^\[object .+?Constructor\]$/,s=/^(?:0|[1-9]\d*)$/,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")();function d(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var i=e.length,a=n+(r?1:-1);for(;r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,m,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function p(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function h(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function v(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function m(e){return e!==e}function g(e,t){return e.has(t)}function y(e,t){return function(n){return e(t(n))}}var b=Array.prototype,x=Function.prototype,w=Object.prototype,_=c["__core-js_shared__"],S=function(){var e=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),k=x.toString,E=w.hasOwnProperty,M=w.toString,P=RegExp("^"+k.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=c.Symbol,C=y(Object.getPrototypeOf,Object),A=w.propertyIsEnumerable,I=b.splice,R=T?T.isConcatSpreadable:void 0,O=Object.getOwnPropertySymbols,D=Math.max,L=X(c,"Map"),j=X(Object,"create");function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function z(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function F(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B(e){var t=-1,n=e?e.length:0;for(this.__data__=new F;++t<n;)this.add(e[t])}function U(e,t){var n=te(e)||ee(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!E.call(e,a)||i&&("length"==a||Q(a,r))||n.push(a);return n}function V(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function H(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Z),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?H(s,t-1,n,r,i):v(i,s):r||(i[i.length]=s)}return i}function W(e){if(!ie(e)||(t=e,S&&S in t))return!1;var t,n=re(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?P:o;return n.test(function(e){if(null!=e){try{return k.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function G(e){if(!ie(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||w;return e===n}(e),n=[];for(var r in e)("constructor"!=r||!t&&E.call(e,r))&&n.push(r);return n}function q(e){return function(e,t,n){var r=t(e);return te(e)?r:v(r,n(e))}(e,oe,$)}function K(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function X(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return W(n)?n:void 0}N.prototype.clear=function(){this.__data__=j?j(null):{}},N.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},N.prototype.get=function(e){var t=this.__data__;if(j){var n=t[e];return n===r?void 0:n}return E.call(t,e)?t[e]:void 0},N.prototype.has=function(e){var t=this.__data__;return j?void 0!==t[e]:E.call(t,e)},N.prototype.set=function(e,t){return this.__data__[e]=j&&void 0===t?r:t,this},z.prototype.clear=function(){this.__data__=[]},z.prototype.delete=function(e){var t=this.__data__,n=V(t,e);return!(n<0)&&(n==t.length-1?t.pop():I.call(t,n,1),!0)},z.prototype.get=function(e){var t=this.__data__,n=V(t,e);return n<0?void 0:t[n][1]},z.prototype.has=function(e){return V(this.__data__,e)>-1},z.prototype.set=function(e,t){var n=this.__data__,r=V(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},F.prototype.clear=function(){this.__data__={hash:new N,map:new(L||z),string:new N}},F.prototype.delete=function(e){return K(this,e).delete(e)},F.prototype.get=function(e){return K(this,e).get(e)},F.prototype.has=function(e){return K(this,e).has(e)},F.prototype.set=function(e,t){return K(this,e).set(e,t),this},B.prototype.add=B.prototype.push=function(e){return this.__data__.set(e,r),this},B.prototype.has=function(e){return this.__data__.has(e)};var Y=O?y(O,Object):ce,$=O?function(e){for(var t=[];e;)v(t,Y(e)),e=C(e);return t}:ce;function Z(e){return te(e)||ee(e)||!!(R&&e&&e[R])}function Q(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}function J(e){if("string"==typeof e||function(e){return"symbol"==typeof e||ae(e)&&M.call(e)==a}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function ee(e){return function(e){return ae(e)&&ne(e)}(e)&&E.call(e,"callee")&&(!A.call(e,"callee")||"[object Arguments]"==M.call(e))}var te=Array.isArray;function ne(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!re(e)}function re(e){var t=ie(e)?M.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function ie(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ae(e){return!!e&&"object"==typeof e}function oe(e){return ne(e)?U(e,!0):G(e)}var se,ue,le=(se=function(e,t){return null==e?{}:(t=h(H(t,1),J),function(e,t){return function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=e[o];n(s,o)&&(a[o]=s)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var i,a=-1,o=f,s=!0,u=e.length,l=[],c=t.length;if(!u)return l;n&&(t=h(t,(i=n,function(e){return i(e)}))),r?(o=p,s=!1):t.length>=200&&(o=g,s=!1,t=new B(t));e:for(;++a<u;){var d=e[a],v=n?n(d):d;if(d=r||0!==d?d:0,s&&v===v){for(var m=c;m--;)if(t[m]===v)continue e;l.push(d)}else o(t,v,r)||l.push(d)}return l}(q(e),t)))},ue=D(void 0===ue?se.length-1:ue,0),function(){for(var e=arguments,t=-1,n=D(e.length-ue,0),r=Array(n);++t<n;)r[t]=e[ue+t];t=-1;for(var i=Array(ue+1);++t<ue;)i[t]=e[t];return i[ue]=r,d(se,this,i)});function ce(){return[]}e.exports=le},708:function(e,t,n){var r=9007199254740991,i="[object Arguments]",a="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]",u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")();function d(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var p=Object.prototype,h=p.hasOwnProperty,v=p.toString,m=c.Symbol,g=p.propertyIsEnumerable,y=m?m.isConcatSpreadable:void 0,b=Math.max;function x(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=w),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?x(s,t-1,n,r,i):f(i,s):r||(i[i.length]=s)}return i}function w(e){return S(e)||function(e){return function(e){return k(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?v.call(e):"";return t==a||t==o}(e)}(e)}(e)&&h.call(e,"callee")&&(!g.call(e,"callee")||v.call(e)==i)}(e)||!!(y&&e&&e[y])}function _(e){if("string"==typeof e||function(e){return"symbol"==typeof e||k(e)&&v.call(e)==s}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var S=Array.isArray;function k(e){return!!e&&"object"==typeof e}var E,M,P=(E=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=e[o];n(s,o)&&(a[o]=s)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(x(t,1),_))},M=b(void 0===M?E.length-1:M,0),function(){for(var e=arguments,t=-1,n=b(e.length-M,0),r=Array(n);++t<n;)r[t]=e[M+t];t=-1;for(var i=Array(M+1);++t<M;)i[t]=e[t];return i[M]=r,d(E,this,i)});e.exports=P},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var j,N=Object.assign;function z(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,ke=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Me(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Pe(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ae=!1;function Ie(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Se||null!==ke)&&(Ce(),Pe())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var je=!1,Ne=null,ze=!1,Fe=null,Be={onError:function(e){je=!0,Ne=e}};function Ue(e,t,n,r,i,a,o,s,u){je=!1,Ne=null,Le.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ze=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,St,kt,Et,Mt=!1,Pt=[],Tt=null,Ct=null,At=null,It=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function Bt(){Mt=!1,null!==Tt&&zt(Tt)&&(Tt=null),null!==Ct&&zt(Ct)&&(Ct=null),null!==At&&zt(At)&&(At=null),It.forEach(Ft),Rt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Pt.length){Ut(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),It.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Nt(n),null===n.blockedOn&&Ot.shift()}var Ht=x.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function qt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Xt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=jt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=jt(Ct,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return It.set(a,jt(It.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,jt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=yi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=N({},ln,{view:0,detail:0}),fn=an(dn),pn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(pn),vn=an(N({},pn,{dataTransfer:0})),mn=an(N({},dn,{relatedTarget:0})),gn=an(N({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=N({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(N({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return kn}var Mn=N({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(Mn),Tn=an(N({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(N({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=N({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(In),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var jn=c&&"TextEvent"in window&&!Ln,Nn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),zn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Me(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Xn(e){zr(e,0)}function Yn(e){if(K(xi(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Ie(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=qr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},kr={};function Er(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Mr=Er("animationend"),Pr=Er("animationiteration"),Tr=Er("animationstart"),Cr=Er("transitionend"),Ar=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Or=0;Or<Ir.length;Or++){var Dr=Ir[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Mr,"onAnimationEnd"),Rr(Pr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Cr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Ue.apply(this,arguments),je){if(!je)throw Error(a(198));var c=Ne;je=!1,Ne=null,ze||(ze=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Nr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Nr(i,s,l),a=u}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ie((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Pn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Mr:case Pr:case Tr:u=gn;break;case Cr:u=An;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=Re(h,f))&&c.push(Gr(h,v,p)))),d)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,v="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,v="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?s:xi(u),p=null==l?s:xi(l),(s=new c(v,h+"leave",u,n,i)).target=d,s.relatedTarget=p,v=null,yi(i)===r&&((c=new c(f,h+"enter",l,n,i)).target=p,c.relatedTarget=d,v=c),d=v,u&&l)e:{for(f=l,h=0,p=c=u;p;p=Kr(p))h++;for(p=0,v=f;v;v=Kr(v))p++;for(;0<h-p;)c=Kr(c),h--;for(;0<p-h;)f=Kr(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=Kr(c),f=Kr(f)}c=null}else c=null;null!==u&&Xr(o,s,u,c,!1),null!==l&&null!==d&&Xr(o,d,l,c,!0)}if("select"===(u=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Zn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?xi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Qt="value"in(Zt=i)?Zt.value:Zt.textContent,Vn=!0)),0<(g=qr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Jt=Qt=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}zr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(Gr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Gr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[pi]||null}var _i=[],Si=-1;function ki(e){return{current:e}}function Ei(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Mi(e,t){Si++,_i[Si]=e.current,e.current=t}var Pi={},Ti=ki(Pi),Ci=ki(!1),Ai=Pi;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ci),Ei(Ti)}function Di(e,t,n){if(Ti.current!==Pi)throw Error(a(168));Mi(Ti,t),Mi(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return N({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Ai=Ti.current,Mi(Ti,e),Mi(Ci,Ci.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Ti),Mi(Ti,e)):Ei(Ci),Mi(Ci,n)}var zi=null,Fi=!1,Bi=!1;function Ui(e){null===zi?zi=[e]:zi.push(e)}function Vi(){if(!Bi&&null!==zi){Bi=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Fi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ke(Je,Vi),i}finally{bt=t,Bi=!1}}return null}var Hi=[],Wi=0,Gi=null,qi=0,Ki=[],Xi=0,Yi=null,$i=1,Zi="";function Qi(e,t){Hi[Wi++]=qi,Hi[Wi++]=Gi,Gi=e,qi=t}function Ji(e,t,n){Ki[Xi++]=$i,Ki[Xi++]=Zi,Ki[Xi++]=Yi,Yi=e;var r=$i;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Zi=a+e}else $i=1<<a|n<<i|r,Zi=e}function ea(e){null!==e.return&&(Qi(e,1),Ji(e,1,0))}function ta(e){for(;e===Gi;)Gi=Hi[--Wi],Hi[Wi]=null,qi=Hi[--Wi],Hi[Wi]=null;for(;e===Yi;)Yi=Ki[--Xi],Ki[Xi]=null,Zi=Ki[--Xi],Ki[Xi]=null,$i=Ki[--Xi],Ki[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Il(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Il(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function pa(){ra=na=null,ia=!1}function ha(e){null===aa?aa=[e]:aa.push(e)}var va=x.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=ki(null),ya=null,ba=null,xa=null;function wa(){xa=ba=ya=null}function _a(e){var t=ga.current;Ei(ga),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){ya=e,xa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ma=null;function Pa(e){null===Ma?Ma=[e]:Ma.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Pa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Pa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Na(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var d=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(f=t,p=n,v.tag){case 1:if("function"===typeof(h=v.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=v.payload)?h.call(p,d,f):h)||void 0===f)break e;d=N({},d,f);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=p,u=d):c=c.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=d}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nl(t,e,r,n),La(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ha(e,t,n){var r=!1,i=Pi,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Ai:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Pi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Ai:Ti.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Na(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Nl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Xa(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case _:return(t=zl(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case R:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Ka(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,d=a,v=a=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=p(i,d,s[v],u);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,d=m}if(v===s.length)return n(i,d),ia&&Qi(i,v),l;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],u))&&(a=o(d,a,v),null===c?l=d:c.sibling=d,c=d);return ia&&Qi(i,v),l}for(d=r(i,d);v<s.length;v++)null!==(m=h(d,i,v,s[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Qi(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var d=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===d?c=b:d.sibling=b,d=b,v=g}if(y.done)return n(i,v),ia&&Qi(i,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return ia&&Qi(i,m),c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=h(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Qi(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Xa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Ll(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dl(o.type,o.key,o.props,null,r.mode,u)).ref=qa(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zl(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Nl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Za=Ya(!1),Qa={},Ja=ki(Qa),eo=ki(Qa),to=ki(Qa);function no(e){if(e===Qa)throw Error(a(174));return e}function ro(e,t){switch(Mi(to,t),Mi(eo,e),Mi(Ja,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),Mi(Ja,t)}function io(){Ei(Ja),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Ja.current),n=ue(t,e.type);t!==n&&(Mi(eo,e),Mi(Ja,n))}function oo(e){eo.current===e&&(Ei(Ja),Ei(eo))}var so=ki(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=x.ReactCurrentDispatcher,po=x.ReactCurrentBatchConfig,ho=0,vo=null,mo=null,go=null,yo=!1,bo=!1,xo=0,wo=0;function _o(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(ho=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,xo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,ho=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==xo;return xo=0,e}function Mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Po(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=Po(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var d=c.lane;if((ho&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,vo.lanes|=d,ju|=d}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Po(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Io(){}function Ro(e,t){var n=vo,r=Po(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Fo(9,Do.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(a(349));0!==(30&ho)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&No(e)}function Lo(e,t,n){return n((function(){jo(t)&&No(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function No(e){var t=Ca(e,1);null!==t&&nl(t,e,1,-1)}function zo(e){var t=Mo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Po().memoizedState}function Uo(e,t,n,r){var i=Mo();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=Po();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function Ho(e,t){return Uo(8390656,8,e,t)}function Wo(e,t){return Vo(2048,8,e,t)}function Go(e,t){return Vo(4,2,e,t)}function qo(e,t){return Vo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zo(e,t){var n=Po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{bt=n,po.transition=r}}function es(){return Po().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Pa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ta(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Mo().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Mo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Mo().memoizedState=e},useState:zo,useDebugValue:Yo,useDeferredValue:function(e){return Mo().memoizedState=e},useTransition:function(){var e=zo(!1),t=e[0];return e=Jo.bind(null,e[1]),Mo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Mo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cu)throw Error(a(349));0!==(30&ho)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Mo(),t=Cu.identifierPrefix;if(ia){var n=Zi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Xo,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Zo,useReducer:Co,useRef:Bo,useState:function(){return Co(To)},useDebugValue:Yo,useDeferredValue:function(e){return Qo(Po(),mo.memoizedState,e)},useTransition:function(){return[Co(To)[0],Po().memoizedState]},useMutableSource:Io,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Xo,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Zo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Po();return null===mo?t.memoizedState=e:Qo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(To)[0],Po().memoizedState]},useMutableSource:Io,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Gu=r),fs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Za(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return ka(t,i),r=ko(e,t,n,r,a,i),n=Eo(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Ol(a,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Ps(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mi(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mi(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Mi(Ou,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Mi(Ou,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Ms(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,n,r,i){var a=Ri(n)?Ai:Ti.current;return a=Ii(t,a),ka(t,i),n=ko(e,t,n,r,a,i),r=Eo(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ts(e,t,n,r,i){if(Ri(n)){var a=!0;ji(t)}else a=!1;if(ka(t,i),null===t.stateNode)Hs(e,t),Ha(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ea(l):l=Ii(t,l=Ri(n)?Ai:Ti.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Wa(t,o,r,l),Aa=!1;var f=t.memoizedState;o.state=f,Na(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ci.current||Aa?("function"===typeof c&&(Ba(t,n,c,r),u=t.memoizedState),(s=Aa||Va(t,n,s,r,f,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ii(t,u=Ri(n)?Ai:Ti.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&Wa(t,o,r,u),Aa=!1,f=t.memoizedState,o.state=f,Na(t,r,o,i);var h=t.memoizedState;s!==d||f!==h||Ci.current||Aa?("function"===typeof p&&(Ba(t,n,p,r),h=t.memoizedState),(l=Aa||Va(t,n,l,r,f,h,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Ms(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ni(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Is(e,t,n,r,i){return pa(),ha(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Os,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ns(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Mi(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jl(u,i,0,null),e=Ll(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ls,e):zs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jl({mode:"visible",children:r.children},i,0,null),(o=Ll(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),xs||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),nl(r,e,i,-1))}return vl(),Fs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Xi++]=$i,Ki[Xi++]=Zi,Ki[Xi++]=Yi,$i=e.id,Zi=e.overflow,Yi=t),(t=zs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ol(r,s):(s=Ll(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Ol(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=jl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&ha(r),$a(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Us(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mi(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,a);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),qs(t),null;case 3:return r=t.stateNode,io(),Ei(Ci),Ei(Ti),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),qs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=no(Ja.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":q(r),J(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[pi]=r,Rs(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return qs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Du&&(Du=3):vl())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return io(),null===e&&Vr(t.stateNode.containerInfo),qs(t),null;case 10:return _a(t.type._context),qs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mi(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Vu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return qs(t),null}else 2*Ze()-o.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=so.current,Mi(so,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ci),Ei(Ti),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,$s=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){kl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,du=!1;function fu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Js(n,t);case 6:var r=cu,i=du;cu=null,fu(e,t,n),du=i,null!==(cu=r)&&(du?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(du?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=du,cu=n.stateNode.containerInfo,du=!0,fu(e,t,n),cu=r,du=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!$s&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kl(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,fu(e,t,n),$s=r):fu(e,t,n);break;default:fu(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,du=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===cu)throw Error(a(160));pu(o,s,i),cu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){kl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){kl(e,e.return,m)}try{nu(5,e,e.return)}catch(m){kl(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){kl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Z(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(u){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(i,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(m){kl(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){kl(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){kl(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Uu=Ze())),4&r&&hu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||d,vu(t,e),$s=c):vu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(h=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:nu(4,p,p.return);break;case 1:Js(p,p.return);var v=p.stateNode;if("function"===typeof v.componentWillUnmount){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){kl(r,n,m)}}break;case 5:Js(p,p.return);break;case 22:if(null!==p.memoizedState){wu(f);continue}}null!==h?(h.return=p,Qs=h):wu(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){kl(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){kl(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),gu(e),4&r&&hu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){kl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Qs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Ys;var l=$s;if(Ys=o,($s=u)&&!l)for(Qs=i;null!==Qs;)u=(o=Qs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Qs=u):_u(i);for(;null!==a;)Qs=a,bu(a,t,n),a=a.sibling;Qs=i,Ys=s,$s=l}xu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qs=a):xu(e)}}function xu(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&za(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(p){kl(t,t.return,p)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wu(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function _u(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){kl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){kl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){kl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){kl(t,o,u)}}}catch(u){kl(t,t.return,u)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Su,ku=Math.ceil,Eu=x.ReactCurrentDispatcher,Mu=x.ReactCurrentOwner,Pu=x.ReactCurrentBatchConfig,Tu=0,Cu=null,Au=null,Iu=0,Ru=0,Ou=ki(0),Du=0,Lu=null,ju=0,Nu=0,zu=0,Fu=null,Bu=null,Uu=0,Vu=1/0,Hu=null,Wu=!1,Gu=null,qu=null,Ku=!1,Xu=null,Yu=0,$u=0,Zu=null,Qu=-1,Ju=0;function el(){return 0!==(6&Tu)?Ze():-1!==Qu?Qu:Qu=Ze()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Iu?Iu&-Iu:null!==va.transition?(0===Ju&&(Ju=vt()),Ju):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Zu=null,Error(a(185));gt(e,n,r),0!==(2&Tu)&&e===Cu||(e===Cu&&(0===(2&Tu)&&(Nu|=n),4===Du&&sl(e,Iu)),rl(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(Vu=Ze()+500,Fi&&Vi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Cu?Iu:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Fi=!0,Ui(e)}(ul.bind(null,e)):Ui(ul.bind(null,e)),oi((function(){0===(6&Tu)&&Vi()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Qu=-1,Ju=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=ft(e,e===Cu?Iu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Tu;Tu|=2;var o=hl();for(Cu===e&&Iu===t||(Hu=null,Vu=Ze()+500,fl(e,t));;)try{yl();break}catch(u){pl(e,u)}wa(),Eu.current=o,Tu=i,null!==Au?t=0:(Cu=null,Iu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=al(e,i))),1===t)throw n=Lu,fl(e,0),sl(e,r),rl(e,Ze()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=ht(e))&&(r=o,t=al(e,o))),1===t))throw n=Lu,fl(e,0),sl(e,r),rl(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Bu,Hu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Uu+500-Ze())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Bu,Hu),t);break}wl(e,Bu,Hu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Bu,Hu),r);break}wl(e,Bu,Hu);break;default:throw Error(a(329))}}}return rl(e,Ze()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Bu,Bu=n,null!==t&&ol(t)),e}function ol(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sl(e,t){for(t&=~zu,t&=~Nu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Tu))throw Error(a(327));_l();var t=ft(e,0);if(0===(1&t))return rl(e,Ze()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Lu,fl(e,0),sl(e,t),rl(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Bu,Hu),rl(e,Ze()),null}function ll(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(Vu=Ze()+500,Fi&&Vi())}}function cl(e){null!==Xu&&0===Xu.tag&&0===(6&Tu)&&_l();var t=Tu;Tu|=1;var n=Pu.transition,r=bt;try{if(Pu.transition=null,bt=1,e)return e()}finally{bt=r,Pu.transition=n,0===(6&(Tu=t))&&Vi()}}function dl(){Ru=Ou.current,Ei(Ou)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ci),Ei(Ti),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Cu=e,Au=e=Ol(e.current,null),Iu=Ru=t,Du=0,Lu=null,zu=Nu=ju=0,Bu=Fu=null,null!==Ma){for(t=0;t<Ma.length;t++)if(null!==(r=(n=Ma[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ma=null}return e}function pl(e,t){for(;;){var n=Au;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(ho=0,go=mo=vo=null,bo=!1,xo=0,Mu.current=null,null===n||null===n.return){Du=1,Lu=t,Au=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Iu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ys(h,s,u,0,t),1&h.mode&&ms(o,c,t),l=c;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),ha(cs(l,u));break e}}o=l=cs(l,u),4!==Du&&(Du=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,hs(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qu||!qu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}xl(n)}catch(x){t=x,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function hl(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vl(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Cu||0===(268435455&ju)&&0===(268435455&Nu)||sl(Cu,Iu)}function ml(e,t){var n=Tu;Tu|=2;var r=hl();for(Cu===e&&Iu===t||(Hu=null,fl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(wa(),Tu=n,Eu.current=r,null!==Au)throw Error(a(261));return Cu=null,Iu=0,Du}function gl(){for(;null!==Au;)bl(Au)}function yl(){for(;null!==Au&&!Ye();)bl(Au)}function bl(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?xl(e):Au=t,Mu.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Ru)))return void(Au=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Du=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Du&&(Du=5)}function wl(e,t,n){var r=bt,i=Pu.transition;try{Pu.transition=null,bt=1,function(e,t,n,r){do{_l()}while(null!==Xu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cu&&(Au=Cu=null,Iu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Cl(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Pu.transition,Pu.transition=null;var s=bt;bt=1;var u=Tu;Tu|=4,Mu.current=null,function(e,t){if(ei=Wt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===i&&(u=s),p===o&&++d===r&&(l=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){kl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}v=tu,tu=!1}(e,n),mu(n,e),hr(ti),Wt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),$e(),Tu=u,bt=s,Pu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Xu=e,Yu=i),0===(o=e.pendingLanes)&&(qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Gu,Gu=null,e;0!==(1&Yu)&&0!==e.tag&&_l(),0!==(1&(o=e.pendingLanes))?e===Zu?$u++:($u=0,Zu=e):$u=0,Vi()}(e,t,n,r)}finally{Pu.transition=i,bt=r}return null}function _l(){if(null!==Xu){var e=xt(Yu),t=Pu.transition,n=bt;try{if(Pu.transition=null,bt=16>e?16:e,null===Xu)var r=!1;else{if(e=Xu,Xu=null,Yu=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nu(8,d,o)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var p=(d=Qs).sibling,h=d.return;if(au(d),d===c){Qs=null;break}if(null!==p){p.return=h,Qs=p;break}Qs=h}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qs=y;break e}Qs=o.return}}var b=e.current;for(Qs=b;null!==Qs;){var x=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Qs=x;else e:for(s=b;null!==Qs;){if(0!==(2048&(u=Qs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){kl(u,u.return,_)}if(u===s){Qs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Qs=w;break e}Qs=u.return}}if(Tu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Pu.transition=t}}return!1}function Sl(e,t,n){e=Da(e,t=hs(0,t=cs(n,t),1),1),t=el(),null!==e&&(gt(e,1,t),rl(e,t))}function kl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){t=Da(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(gt(t,1,e),rl(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Iu&n)===n&&(4===Du||3===Du&&(130023424&Iu)===Iu&&500>Ze()-Uu?fl(e,0):zu|=n),rl(e,t)}function Ml(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Ca(e,t))&&(gt(e,t,n),rl(e,n))}function Pl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ml(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ml(e,n)}function Cl(e,t){return Ke(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Il(e,t,n,r){return new Al(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Il(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ll(n.children,i,o,t);case k:s=8,i|=8;break;case E:return(e=Il(12,n,t,2|i)).elementType=E,e.lanes=o,e;case C:return(e=Il(13,n,t,i)).elementType=C,e.lanes=o,e;case A:return(e=Il(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return jl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case P:s=9;break e;case T:s=11;break e;case I:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Il(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ll(e,t,n,r){return(e=Il(7,e,r,t)).lanes=n,e}function jl(e,t,n,r){return(e=Il(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Nl(e,t,n){return(e=Il(6,e,null,t)).lanes=n,e}function zl(e,t,n){return(t=Il(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new Fl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Il(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Ul(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vl(e){if(!e)return Pi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Hl(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=Vl(null),n=e.current,(a=Oa(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,gt(e,i,r),rl(e,r),e}function Wl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nl(e,i,o,a),La(e,i,o)),o}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:As(t),pa();break;case 5:ao(t);break;case 1:Ri(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Mi(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Mi(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ns(e,t,n):(Mi(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Mi(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mi(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&Ji(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ii(t,Ti.current);ka(t,n),i=ko(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ia(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===I)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ps(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Na(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Is(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Za(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ms(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Ns(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Mi(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ka(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Ss(e,t,r,i=ma(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Ri(r)?(e=!0,ji(t)):e=!1,ka(t,n),Ha(t,r,i),Ga(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gl(o);s.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gl(o);a.call(e)}}var o=Hl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[hi]=o.current,Vr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[hi]=u.current,Vr(8===e.nodeType?e.parentNode:e),cl((function(){Wl(t,u,n,r)})),u}(n,t,e,i,r);return Gl(o)}$l.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wl(e,t,null,null)},$l.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Wl(null,e,null,null)})),t[hi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Ze()),0===(6&Tu)&&(Vu=Ze()+500,Vi()))}break;case 13:cl((function(){var t=Ca(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Kl(e,1)}},_t=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)nl(t,e,134217728,el());Kl(e,134217728)}},St=function(e){if(13===e.tag){var t=tl(e),n=Ca(e,t);if(null!==n)nl(n,e,t,el());Kl(e,t)}},kt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=ll,Ce=cl;var tc={usingClientEntryPoint:!1,Events:[bi,xi,wi,Me,Pe,ll]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(a(200));return Ul(e,t,null,n)},t.createRoot=function(e,t){if(!Zl(e))throw Error(a(299));var n=!1,r="",i=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,o,s),e[hi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Ql(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},4976:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},3721:function(e,t,n){e.exports=function(e){var t={},r=n(2791),i=n(3100),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var x=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=w&&e[w]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case l:return"Portal";case f:return"Profiler";case d:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return S(e(t))}catch(n){}}return null}function k(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function M(e){if(E(e)!==e)throw Error(o(188))}function P(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return M(i),e;if(a===r)return M(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function T(e){return null!==(e=P(e))?C(e):null}function C(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=C(e);if(null!==t)return t;e=e.sibling}return null}function A(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=A(e);if(null!==t)return t}e=e.sibling}return null}var I,R=Array.isArray,O=e.getPublicInstance,D=e.getRootHostContext,L=e.getChildHostContext,j=e.prepareForCommit,N=e.resetAfterCommit,z=e.createInstance,F=e.appendInitialChild,B=e.finalizeInitialChildren,U=e.prepareUpdate,V=e.shouldSetTextContent,H=e.createTextInstance,W=e.scheduleTimeout,G=e.cancelTimeout,q=e.noTimeout,K=e.isPrimaryRenderer,X=e.supportsMutation,Y=e.supportsPersistence,$=e.supportsHydration,Z=e.getInstanceFromNode,Q=e.preparePortalMount,J=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,ue=e.matchAccessibilityRole,le=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,de=e.appendChild,fe=e.appendChildToContainer,pe=e.commitTextUpdate,he=e.commitMount,ve=e.commitUpdate,me=e.insertBefore,ge=e.insertInContainerBefore,ye=e.removeChild,be=e.removeChildFromContainer,xe=e.resetTextContent,we=e.hideInstance,_e=e.hideTextInstance,Se=e.unhideInstance,ke=e.unhideTextInstance,Ee=e.clearContainer,Me=e.cloneInstance,Pe=e.createContainerChildSet,Te=e.appendChildToContainerChildSet,Ce=e.finalizeContainerChildren,Ae=e.replaceContainerChildren,Ie=e.cloneHiddenInstance,Re=e.cloneHiddenTextInstance,Oe=e.canHydrateInstance,De=e.canHydrateTextInstance,Le=e.canHydrateSuspenseInstance,je=e.isSuspenseInstancePending,Ne=e.isSuspenseInstanceFallback,ze=e.registerSuspenseInstanceRetry,Fe=e.getNextHydratableSibling,Be=e.getFirstHydratableChild,Ue=e.getFirstHydratableChildWithinContainer,Ve=e.getFirstHydratableChildWithinSuspenseInstance,He=e.hydrateInstance,We=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Ke=e.commitHydratedContainer,Xe=e.commitHydratedSuspenseInstance,Ye=e.clearSuspenseBoundary,$e=e.clearSuspenseBoundaryFromContainer,Ze=e.shouldDeleteUnhydratedTailInstances,Qe=e.didNotMatchHydratedContainerTextInstance,Je=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function ut(e,t){at++,it[at]=e.current,e.current=t}var lt={},ct=ot(lt),dt=ot(!1),ft=lt;function pt(e,t){var n=e.type.contextTypes;if(!n)return lt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ht(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vt(){st(dt),st(ct)}function mt(e,t,n){if(ct.current!==lt)throw Error(o(168));ut(ct,t),ut(dt,n)}function gt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,k(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lt,ft=ct.current,ut(ct,e),ut(dt,dt.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gt(e,t,ft),r.__reactInternalMemoizedMergedChildContext=e,st(dt),st(ct),ut(ct,e)):st(dt),ut(dt,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(wt(e)/_t|0)|0},wt=Math.log,_t=Math.LN2;var St=64,kt=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Et(s):0!==(a&=o)&&(r=Et(a))}else 0!==(o=n&~i)?r=Et(o):0!==a&&(r=Et(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function Pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ct(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function At(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function It(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rt=0;function Ot(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Dt=i.unstable_scheduleCallback,Lt=i.unstable_cancelCallback,jt=i.unstable_shouldYield,Nt=i.unstable_requestPaint,zt=i.unstable_now,Ft=i.unstable_ImmediatePriority,Bt=i.unstable_UserBlockingPriority,Ut=i.unstable_NormalPriority,Vt=i.unstable_IdlePriority,Ht=null,Wt=null;var Gt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},qt=null,Kt=!1,Xt=!1;function Yt(e){null===qt?qt=[e]:qt.push(e)}function $t(){if(!Xt&&null!==qt){Xt=!0;var e=0,t=Rt;try{var n=qt;for(Rt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qt=null,Kt=!1}catch(i){throw null!==qt&&(qt=qt.slice(e+1)),Dt(Ft,$t),i}finally{Rt=t,Xt=!1}}return null}var Zt=s.ReactCurrentBatchConfig;function Qt(e,t){if(Gt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function Jt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){K?(ut(tn,t._currentValue),t._currentValue=n):(ut(tn,t._currentValue2),t._currentValue2=n)}function un(e){var t=tn.current;st(tn),K?e._currentValue=t:e._currentValue2=t}function ln(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ji=!0),e.firstContext=null)}function dn(e){var t=K?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var fn=null,pn=!1;function hn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xa&&0!==(1&e.mode)&&0===(2&Ka)?(null===(e=n.interleaved)?(t.next=t,null===fn?fn=[n]:fn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xn(e,t,n,r){var i=e.updateQueue;pn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var d=e.alternate;null!==d&&((u=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===u?d.firstBaseUpdate=c:u.next=c,d.lastBaseUpdate=l))}if(null!==o){var f=i.baseState;for(s=0,d=c=l=null,u=o;;){var p=u.lane,h=u.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,m=u;switch(p=t,h=n,m.tag){case 1:if("function"===typeof(v=m.payload)){f=v.call(h,f,p);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(p="function"===typeof(v=m.payload)?v.call(h,f,p):v)||void 0===p)break e;f=a({},f,p);break e;case 2:pn=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===d?(c=d=h,l=f):d=d.next=h,s|=p;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(p=u).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===d&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=f}}function wn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var _n=(new r.Component).refs;function Sn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var kn={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wo(),i=_o(e),a=mn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wo(),i=_o(e),a=mn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wo(),r=_o(e),i=mn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),null!==(t=So(e,r,n))&&yn(t,e,r)}};function En(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qt(n,r)||!Qt(i,a))}function Mn(e,t,n){var r=!1,i=lt,a=t.contextType;return"object"===typeof a&&null!==a?a=dn(a):(i=ht(t)?ft:ct.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?pt(e,i):lt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=kn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Pn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kn.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_n,hn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=dn(a):(a=ht(t)?ft:ct.current,i.context=pt(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&kn.enqueueReplaceState(i,i.state,null),xn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Cn=[],An=0,In=null,Rn=0,On=[],Dn=0,Ln=null,jn=1,Nn="";function zn(e,t){Cn[An++]=Rn,Cn[An++]=In,In=e,Rn=t}function Fn(e,t,n){On[Dn++]=jn,On[Dn++]=Nn,On[Dn++]=Ln,Ln=e;var r=jn;e=Nn;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var a=32-xt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,jn=1<<32-xt(t)+i|n<<i|r,Nn=a+e}else jn=1<<a|n<<i|r,Nn=e}function Bn(e){null!==e.return&&(zn(e,1),Fn(e,1,0))}function Un(e){for(;e===In;)In=Cn[--An],Cn[An]=null,Rn=Cn[--An],Cn[An]=null;for(;e===Ln;)Ln=On[--Dn],On[Dn]=null,Nn=On[--Dn],On[Dn]=null,jn=On[--Dn],On[Dn]=null}var Vn=null,Hn=null,Wn=!1,Gn=!1,qn=null;function Kn(e,t){var n=Qo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Xn(e,t){switch(e.tag){case 5:return null!==(t=Oe(t,e.type,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=Be(t),!0);case 6:return null!==(t=De(t,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=null,!0);case 13:if(null!==(t=Le(t))){var n=null!==Ln?{id:jn,overflow:Nn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Qo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Vn=e,Hn=null,!0}return!1;default:return!1}}function Yn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function $n(e){if(Wn){var t=Hn;if(t){var n=t;if(!Xn(e,t)){if(Yn(e))throw Error(o(418));t=Fe(n);var r=Vn;t&&Xn(e,t)?Kn(r,n):(e.flags=-4097&e.flags|2,Wn=!1,Vn=e)}}else{if(Yn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Wn=!1,Vn=e}}}function Zn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vn=e}function Qn(e){if(!$||e!==Vn)return!1;if(!Wn)return Zn(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ze(e.type)&&!V(e.type,e.memoizedProps))){var t=Hn;if(t){if(Yn(e)){for(e=Hn;e;)e=Fe(e);throw Error(o(418))}for(;t;)Kn(e,t),t=Fe(t)}}if(Zn(e),13===e.tag){if(!$)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Hn=qe(e)}else Hn=Vn?Fe(e.stateNode):null;return!0}function Jn(){$&&(Hn=Vn=null,Gn=Wn=!1)}function er(e){null===qn?qn=[e]:qn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===_n&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===c?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===b&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case l:return(t=as(t,e.mode,n)).return=e,t;case b:return v(e,(0,t._init)(t._payload),n)}if(R(t)||_(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:d(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?f(e,t,n,r):null;case l:return n.key===i?p(e,t,n,r):null;case b:return m(e,t,(i=n._init)(n._payload),r)}if(R(n)||_(n))return null!==i?null:h(e,t,n,r,null);nr(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return p(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return g(e,t,n,(0,r._init)(r._payload),i)}if(R(r)||_(r))return h(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,s,u){for(var l=null,c=null,d=o,f=o=0,p=null;null!==d&&f<s.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var h=m(i,d,s[f],u);if(null===h){null===d&&(d=p);break}e&&d&&null===h.alternate&&t(i,d),o=a(h,o,f),null===c?l=h:c.sibling=h,c=h,d=p}if(f===s.length)return n(i,d),Wn&&zn(i,f),l;if(null===d){for(;f<s.length;f++)null!==(d=v(i,s[f],u))&&(o=a(d,o,f),null===c?l=d:c.sibling=d,c=d);return Wn&&zn(i,f),l}for(d=r(i,d);f<s.length;f++)null!==(p=g(d,i,f,s[f],u))&&(e&&null!==p.alternate&&d.delete(null===p.key?f:p.key),o=a(p,o,f),null===c?l=p:c.sibling=p,c=p);return e&&d.forEach((function(e){return t(i,e)})),Wn&&zn(i,f),l}function x(i,s,u,l){var c=_(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var d=c=null,f=s,p=s=0,h=null,y=u.next();null!==f&&!y.done;p++,y=u.next()){f.index>p?(h=f,f=null):h=f.sibling;var b=m(i,f,y.value,l);if(null===b){null===f&&(f=h);break}e&&f&&null===b.alternate&&t(i,f),s=a(b,s,p),null===d?c=b:d.sibling=b,d=b,f=h}if(y.done)return n(i,f),Wn&&zn(i,p),c;if(null===f){for(;!y.done;p++,y=u.next())null!==(y=v(i,y.value,l))&&(s=a(y,s,p),null===d?c=y:d.sibling=y,d=y);return Wn&&zn(i,p),c}for(f=r(i,f);!y.done;p++,y=u.next())null!==(y=g(f,i,p,y.value,l))&&(e&&null!==y.alternate&&f.delete(null===y.key?p:y.key),s=a(y,s,p),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),Wn&&zn(i,p),c}return function e(r,a,o,d){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case u:e:{for(var f=o.key,p=a;null!==p;){if(p.key===f){if((f=o.type)===c){if(7===p.tag){n(r,p.sibling),(a=i(p,o.props.children)).return=r,r=a;break e}}else if(p.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===b&&rr(f)===p.type){n(r,p.sibling),(a=i(p,o.props)).ref=tr(r,p,o),a.return=r,r=a;break e}n(r,p);break}t(r,p),p=p.sibling}o.type===c?((a=ns(o.props.children,r.mode,d,o.key)).return=r,r=a):((d=ts(o.type,o.key,o.props,null,r.mode,d)).ref=tr(r,a,o),d.return=r,r=d)}return s(r);case l:e:{for(p=o.key;null!==a;){if(a.key===p){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,d)).return=r,r=a}return s(r);case b:return e(r,a,(p=o._init)(o._payload),d)}if(R(o))return y(r,a,o,d);if(_(o))return x(r,a,o,d);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,d)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},ur=ot(sr),lr=ot(sr),cr=ot(sr);function dr(e){if(e===sr)throw Error(o(174));return e}function fr(e,t){ut(cr,t),ut(lr,e),ut(ur,sr),e=D(t),st(ur),ut(ur,e)}function pr(){st(ur),st(lr),st(cr)}function hr(e){var t=dr(cr.current),n=dr(ur.current);n!==(t=L(n,e.type,t))&&(ut(lr,e),ut(ur,t))}function vr(e){lr.current===e&&(st(ur),st(lr))}var mr=ot(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||je(n)||Ne(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function br(){for(var e=0;e<yr.length;e++){var t=yr[e];K?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var xr=s.ReactCurrentDispatcher,wr=s.ReactCurrentBatchConfig,_r=0,Sr=null,kr=null,Er=null,Mr=!1,Pr=!1,Tr=0,Cr=0;function Ar(){throw Error(o(321))}function Ir(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function Rr(e,t,n,r,i,a){if(_r=a,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xr.current=null===e||null===e.memoizedState?hi:vi,e=n(r,i),Pr){a=0;do{if(Pr=!1,Tr=0,25<=a)throw Error(o(301));a+=1,Er=kr=null,t.updateQueue=null,xr.current=mi,e=n(r,i)}while(Pr)}if(xr.current=pi,t=null!==kr&&null!==kr.next,_r=0,Er=kr=Sr=null,Mr=!1,t)throw Error(o(300));return e}function Or(){var e=0!==Tr;return Tr=0,e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Er?Sr.memoizedState=Er=e:Er=Er.next=e,Er}function Lr(){if(null===kr){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=kr.next;var t=null===Er?Sr.memoizedState:Er.next;if(null!==t)Er=t,kr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(kr=e).memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},null===Er?Sr.memoizedState=Er=e:Er=Er.next=e}return Er}function jr(e,t){return"function"===typeof t?t(e):t}function Nr(e){var t=Lr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=kr,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var d=c.lane;if((_r&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,Sr.lanes|=d,to|=d}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,Gt(r,t.memoizedState)||(ji=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,Sr.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zr(e){var t=Lr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Gt(a,t.memoizedState)||(ji=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Fr(){}function Br(e,t){var n=Sr,r=Lr(),i=t(),a=!Gt(r.memoizedState,i);if(a&&(r.memoizedState=i,ji=!0),r=r.queue,Zr(Hr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Er&&1&Er.memoizedState.tag){if(n.flags|=2048,qr(9,Vr.bind(null,n,r,i,t),void 0,null),null===Xa)throw Error(o(349));0!==(30&_r)||Ur(n,t,i)}return i}function Ur(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Vr(e,t,n,r){t.value=n,t.getSnapshot=r,Wr(t)&&So(e,1,-1)}function Hr(e,t,n){return n((function(){Wr(t)&&So(e,1,-1)}))}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch(r){return!0}}function Gr(e){var t=Dr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:e},t.queue=e,e=e.dispatch=ui.bind(null,Sr,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Kr(){return Lr().memoizedState}function Xr(e,t,n,r){var i=Dr();Sr.flags|=e,i.memoizedState=qr(1|t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var i=Lr();r=void 0===r?null:r;var a=void 0;if(null!==kr){var o=kr.memoizedState;if(a=o.destroy,null!==r&&Ir(r,o.deps))return void(i.memoizedState=qr(t,n,a,r))}Sr.flags|=e,i.memoizedState=qr(1|t,n,a,r)}function $r(e,t){return Xr(8390656,8,e,t)}function Zr(e,t){return Yr(2048,8,e,t)}function Qr(e,t){return Yr(4,2,e,t)}function Jr(e,t){return Yr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Yr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Rt;Rt=0!==n&&4>n?n:4,e(!0);var r=wr.transition;wr.transition={};try{e(!1),t()}finally{Rt=n,wr.transition=r}}function oi(){return Lr().memoizedState}function si(e,t,n){var r=_o(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},li(e)?ci(t,n):(di(e,t,n),null!==(e=So(e,r,n=wo()))&&fi(e,t,r))}function ui(e,t,n){var r=_o(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(li(e))ci(t,i);else{di(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Gt(s,o))return}catch(u){}null!==(e=So(e,r,n=wo()))&&fi(e,t,r)}}function li(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ci(e,t){Pr=Mr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function di(e,t,n){null!==Xa&&0!==(1&e.mode)&&0===(2&Ka)?(null===(e=t.interleaved)?(n.next=n,null===fn?fn=[t]:fn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function fi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}var pi={readContext:dn,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},hi={readContext:dn,useCallback:function(e,t){return Dr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:$r,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Xr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xr(4,2,e,t)},useMemo:function(e,t){var n=Dr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Dr().memoizedState=e},useState:Gr,useDebugValue:ni,useDeferredValue:function(e){var t=Gr(e),n=t[0],r=t[1];return $r((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){var e=Gr(!1),t=e[0];return e=ai.bind(null,e[1]),Dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=Dr();if(Wn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Xa)throw Error(o(349));0!==(30&_r)||Ur(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,$r(Hr.bind(null,r,a,e),[e]),r.flags|=2048,qr(9,Vr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Dr(),t=Xa.identifierPrefix;if(Wn){var n=Nn;t=":"+t+"R"+(n=(jn&~(1<<32-xt(jn)-1)).toString(32)+n),0<(n=Tr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Cr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Qr,useLayoutEffect:Jr,useMemo:ii,useReducer:Nr,useRef:Kr,useState:function(){return Nr(jr)},useDebugValue:ni,useDeferredValue:function(e){var t=Nr(jr),n=t[0],r=t[1];return Zr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Nr(jr)[0],Lr().memoizedState]},useMutableSource:Fr,useSyncExternalStore:Br,useId:oi,unstable_isNewReconciler:!1},mi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Qr,useLayoutEffect:Jr,useMemo:ii,useReducer:zr,useRef:Kr,useState:function(){return zr(jr)},useDebugValue:ni,useDeferredValue:function(e){var t=zr(jr),n=t[0],r=t[1];return Zr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[zr(jr)[0],Lr().memoizedState]},useMutableSource:Fr,useSyncExternalStore:Br,useId:oi,unstable_isNewReconciler:!1};function gi(e,t){try{var n="",r=t;do{n+=Jt(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi,xi,wi,_i,Si="function"===typeof WeakMap?WeakMap:Map;function ki(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,fo=r),yi(0,t)},n}function Ei(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!==typeof r&&(null===po?po=new Set([this]):po.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Mi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Si;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qo.bind(null,e,t,n),t.then(e,e))}function Pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ti(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=mn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ci(e){e.flags|=4}function Ai(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(X)bi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)F(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xi=function(){},wi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=dr(ur.current);n=U(a,n,e,r,i,o),(t.updateQueue=n)&&Ci(t)}},_i=function(e,t,n,r){n!==r&&Ci(t)};else if(Y){bi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Ie(a,i.type,i.memoizedProps,i)),F(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Re(a,i.memoizedProps,i)),F(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),bi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ii=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=Ie(o,a.type,a.memoizedProps,a)),Te(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Re(o,a.memoizedProps,a)),Te(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};xi=function(e,t){var n=t.stateNode;if(!Ai(e,t)){e=n.containerInfo;var r=Pe(e);Ii(r,t,!1,!1),n.pendingChildren=r,Ci(t),Ce(e,r)}},wi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Ai(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,u=dr(ur.current),l=null;o!==r&&(l=U(s,n,o,r,i,u)),e&&null===l?t.stateNode=a:(a=Me(a,l,n,o,r,t,e,s),B(a,n,r,i,u)&&Ci(t),t.stateNode=a,e?Ci(t):bi(a,t,!1,!1))}},_i=function(e,t,n,r){n!==r?(e=dr(cr.current),n=dr(ur.current),t.stateNode=H(r,e,n,t),Ci(t)):t.stateNode=e.stateNode}}else xi=function(){},wi=function(){},_i=function(){};function Ri(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Di(e,t,n){var r=t.pendingProps;switch(Un(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(t),null;case 1:case 17:return ht(t.type)&&vt(),Oi(t),null;case 3:return r=t.stateNode,pr(),st(dt),st(ct),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Qn(t)?Ci(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==qn&&(To(qn),qn=null))),xi(e,t),Oi(t),null;case 5:vr(t),n=dr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)wi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Oi(t),null}if(e=dr(ur.current),Qn(t)){if(!$)throw Error(o(175));e=He(t.stateNode,t.type,t.memoizedProps,n,e,t,!Gn),t.updateQueue=e,null!==e&&Ci(t)}else{var a=z(i,r,n,e,t);bi(a,t,!1,!1),t.stateNode=a,B(a,i,r,n,e)&&Ci(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Oi(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=dr(cr.current),n=dr(ur.current),Qn(t)){if(!$)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=We(e,r,t,!Gn))&&null!==(i=Vn))switch(a=0!==(1&i.mode),i.tag){case 3:Qe(i.stateNode.containerInfo,e,r,a);break;case 5:Je(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Ci(t)}else t.stateNode=H(r,e,n,t)}return Oi(t),null;case 13:if(st(mr),r=t.memoizedState,Wn&&null!==Hn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Hn;e;)e=Fe(e);return Jn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Qn(t),null===e){if(!r)throw Error(o(318));if(!$)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));Ge(e,t)}else Jn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Oi(t),null}return null!==qn&&(To(qn),qn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Qn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&mr.current)?0===Ja&&(Ja=3):jo())),null!==t.updateQueue&&(t.flags|=4),Oi(t),null);case 4:return pr(),xi(e,t),null===e&&Q(t.stateNode.containerInfo),Oi(t),null;case 10:return un(t.type._context),Oi(t),null;case 19:if(st(mr),null===(i=t.memoizedState))return Oi(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Ri(i,!1);else{if(0!==Ja||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=gr(e))){for(t.flags|=128,Ri(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return ut(mr,1&mr.current|2),t.child}e=e.sibling}null!==i.tail&&zt()>so&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ri(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Wn)return Oi(t),null}else 2*zt()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=zt(),t.sibling=null,e=mr.current,ut(mr,r?1&e|2:1&e),t):(Oi(t),null);case 22:case 23:return Ro(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Za)&&(Oi(t),X&&6&t.subtreeFlags&&(t.flags|=8192)):Oi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Li=s.ReactCurrentOwner,ji=!1;function Ni(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function zi(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Rr(e,t,n,r,a,i),n=Or(),null===e||ji?(Wn&&n&&Bn(t),t.flags|=1,Ni(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Fi(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Jo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Bi(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qt)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e}function Bi(e,t,n,r,i){if(null!==e&&Qt(e.memoizedProps,r)&&e.ref===t.ref){if(ji=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(ji=!0)}return Hi(e,t,n,r,i)}function Ui(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},ut(Qa,Za),Za|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ut(Qa,Za),Za|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,ut(Qa,Za),Za|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ut(Qa,Za),Za|=r;return Ni(e,t,i,n),t.child}function Vi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hi(e,t,n,r,i){var a=ht(n)?ft:ct.current;return a=pt(t,a),cn(t,i),n=Rr(e,t,n,r,a,i),r=Or(),null===e||ji?(Wn&&r&&Bn(t),t.flags|=1,Ni(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Wi(e,t,n,r,i){if(ht(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Mn(t,n,r),Tn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=dn(l):l=pt(t,l=ht(n)?ft:ct.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Pn(t,o,r,l),pn=!1;var f=t.memoizedState;o.state=f,xn(t,r,o,i),u=t.memoizedState,s!==r||f!==u||dt.current||pn?("function"===typeof c&&(Sn(t,n,c,r),u=t.memoizedState),(s=pn||En(t,n,s,r,f,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vn(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:en(t.type,s),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=dn(u):u=pt(t,u=ht(n)?ft:ct.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&Pn(t,o,r,u),pn=!1,f=t.memoizedState,o.state=f,xn(t,r,o,i);var h=t.memoizedState;s!==d||f!==h||dt.current||pn?("function"===typeof p&&(Sn(t,n,p,r),h=t.memoizedState),(l=pn||En(t,n,l,r,f,h,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Gi(e,t,n,r,a,i)}function Gi(e,t,n,r,i,a){Vi(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&bt(t,n,!1),ia(e,t,a);r=t.stateNode,Li.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Ni(e,t,s,a),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function qi(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),fr(e,t.containerInfo)}function Ki(e,t,n,r,i){return Jn(),er(i),t.flags|=256,Ni(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null}}function $i(e,t,n){var r,i=t.pendingProps,a=mr.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ut(mr,1&a),null===e)return $n(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Ne(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=rs(a,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yi(n),t.memoizedState=Xi,e):Zi(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=rs({mode:"visible",children:i.children},a,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Yi(n),t.memoizedState=Xi,s);if(0===(1&t.mode))t=ea(e,t,n,null);else if(Ne(r))t=ea(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),ji||i){if(null!==(i=Xa)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,So(e,i,-1))}jo(),t=ea(e,t,n,Error(o(421)))}else je(r)?(t.flags|=128,t.child=e.child,t=Xo.bind(null,e),ze(r,t),t=null):(n=a.treeContext,$&&(Hn=Ve(r),Vn=t,Wn=!0,qn=null,Gn=!1,null!==n&&(On[Dn++]=jn,On[Dn++]=Nn,On[Dn++]=Ln,jn=n.id,Nn=n.overflow,Ln=t)),(t=Zi(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Ji(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Qi(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Ji(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Qi(e,t,i.children,n),t.memoizedState=null,n)}function Zi(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Qi(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ji(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ln(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ni(e,t,r.children,n),0!==(2&(r=mr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(mr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(Un(t),t.tag){case 1:return ht(t.type)&&vt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return pr(),st(dt),st(ct),br(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return vr(t),null;case 13:if(st(mr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Jn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(mr),null;case 4:return pr(),null;case 10:return un(t.type._context),null;case 22:case 23:return Ro(),null;default:return null}}var oa=!1,sa=!1,ua="function"===typeof WeakSet?WeakSet:Set,la=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Go(e,t,r)}else n.current=null}function da(e,t,n){try{n()}catch(r){Go(e,t,r)}}var fa=!1;function pa(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&da(t,n,a)}i=i.next}while(i!==r)}}function ha(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=O(n);else e=n;"function"===typeof t?t(e):t.current=e}}function ma(e,t,n){if(Wt&&"function"===typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Ht,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&da(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Go(t,n,o)}break;case 5:ca(t,n);break;case 4:X?ka(e,t,n):Y&&Y&&(t=t.stateNode.containerInfo,n=Pe(t),Ae(t,n))}}function ga(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||X&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ya(e){var t=e.alternate;null!==t&&(e.alternate=null,ya(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ba(e){return 5===e.tag||3===e.tag||4===e.tag}function xa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ba(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function wa(e){if(X){e:{for(var t=e.return;null!==t;){if(ba(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(xe(t),n.flags&=-33),Sa(e,n=xa(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,_a(e,n=xa(e),t);break;default:throw Error(o(161))}}}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function ka(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)ga(e,a,n),i?be(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?$e(r,a.stateNode):Ye(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ma(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Ea(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:return pa(3,t,t.return),ha(3,t),void pa(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ve(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void pe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void($&&null!==e&&e.memoizedState.isDehydrated&&Ke(t.stateNode.containerInfo));case 13:case 19:return void Ma(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return pa(3,t,t.return),ha(3,t),void pa(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ma(t);case 3:$&&null!==e&&e.memoizedState.isDehydrated&&Ke(t.stateNode.containerInfo)}e:if(Y){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Ae(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ma(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ua),t.forEach((function(t){var r=Yo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Pa(e,t,n){la=e,Ta(e,t,n)}function Ta(e,t,n){for(var r=0!==(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||sa;s=oa;var l=sa;if(oa=o,(sa=u)&&!l)for(la=i;null!==la;)u=(o=la).child,22===o.tag&&null!==o.memoizedState?Ia(i):null!==u?(u.return=o,la=u):Ia(i);for(;null!==a;)la=a,Ta(a,t,n),a=a.sibling;la=i,oa=s,sa=l}Ca(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,la=a):Ca(e)}}function Ca(e){for(;null!==la;){var t=la;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sa||ha(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&wn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=O(t.child.stateNode);break;case 1:n=t.child.stateNode}wn(t,s,n)}break;case 5:var u=t.stateNode;null===n&&4&t.flags&&he(u,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if($&&null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Xe(d)}}}break;default:throw Error(o(163))}sa||512&t.flags&&va(t)}catch(f){Go(t,t.return,f)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function Aa(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function Ia(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ha(4,t)}catch(u){Go(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Go(t,i,u)}}var a=t.return;try{va(t)}catch(u){Go(t,a,u)}break;case 5:var o=t.return;try{va(t)}catch(u){Go(t,o,u)}}}catch(u){Go(t,t.return,u)}if(t===e){la=null;break}var s=t.sibling;if(null!==s){s.return=t.return,la=s;break}la=t.return}}var Ra=0,Oa=1,Da=2,La=3,ja=4;if("function"===typeof Symbol&&Symbol.for){var Na=Symbol.for;Ra=Na("selector.component"),Oa=Na("selector.has_pseudo_class"),Da=Na("selector.role"),La=Na("selector.test_id"),ja=Na("selector.text")}function za(e){var t=Z(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function Fa(e,t){switch(t.$$typeof){case Ra:if(e.type===t.value)return!0;break;case Oa:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&Fa(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Da:if(5===e.tag&&ue(e.stateNode,t.value))return!0;break;case ja:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case La:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Ba(e){switch(e.$$typeof){case Ra:return"<"+(S(e.value)||"Unknown")+">";case Oa:return":has("+(Ba(e)||"")+")";case Da:return'[role="'+e.value+'"]';case ja:return'"'+e.value+'"';case La:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Ua(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&Fa(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Va(e,t){if(!re)throw Error(o(363));e=Ua(e=za(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ha=Math.ceil,Wa=s.ReactCurrentDispatcher,Ga=s.ReactCurrentOwner,qa=s.ReactCurrentBatchConfig,Ka=0,Xa=null,Ya=null,$a=0,Za=0,Qa=ot(0),Ja=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=1/0;function uo(){so=zt()+500}var lo,co=!1,fo=null,po=null,ho=!1,vo=null,mo=0,go=0,yo=null,bo=-1,xo=0;function wo(){return 0!==(6&Ka)?zt():-1!==bo?bo:bo=zt()}function _o(e){return 0===(1&e.mode)?1:0!==(2&Ka)&&0!==$a?$a&-$a:null!==Zt.transition?(0===xo&&(e=St,0===(4194240&(St<<=1))&&(St=64),xo=e),xo):0!==(e=Rt)?e:J()}function So(e,t,n){if(50<go)throw go=0,yo=null,Error(o(185));var r=ko(e,t);return null===r?null:(At(r,t,n),0!==(2&Ka)&&r===Xa||(r===Xa&&(0===(2&Ka)&&(no|=t),4===Ja&&Co(r,$a)),Eo(r,n),1===t&&0===Ka&&0===(1&e.mode)&&(uo(),Kt&&$t())),r)}function ko(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Eo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xt(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=Pt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Mt(e,e===Xa?$a:0);if(0===r)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){Kt=!0,Yt(e)}(Ao.bind(null,e)):Yt(Ao.bind(null,e)),te?ne((function(){0===Ka&&$t()})):Dt(Ft,$t),n=null;else{switch(Ot(r)){case 1:n=Ft;break;case 4:n=Bt;break;case 16:default:n=Ut;break;case 536870912:n=Vt}n=$o(n,Mo.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mo(e,t){if(bo=-1,xo=0,0!==(6&Ka))throw Error(o(327));var n=e.callbackNode;if(Ho()&&e.callbackNode!==n)return null;var r=Mt(e,e===Xa?$a:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=No(e,r);else{t=r;var i=Ka;Ka|=2;var a=Lo();for(Xa===e&&$a===t||(uo(),Oo(e,t));;)try{Fo();break}catch(u){Do(e,u)}on(),Wa.current=a,Ka=i,null!==Ya?t=0:(Xa=null,$a=0,t=Ja)}if(0!==t){if(2===t&&(0!==(i=Tt(e))&&(r=i,t=Po(e,i))),1===t)throw n=eo,Oo(e,0),Co(e,r),Eo(e,zt()),n;if(6===t)Co(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=No(e,r))&&(0!==(a=Tt(e))&&(r=a,t=Po(e,a))),1===t))throw n=eo,Oo(e,0),Co(e,r),Eo(e,zt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Vo(e,ao);break;case 3:if(Co(e,r),(130023424&r)===r&&10<(t=oo+500-zt())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){wo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W(Vo.bind(null,e,ao),t);break}Vo(e,ao);break;case 4:if(Co(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=zt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ha(r/1960))-r)){e.timeoutHandle=W(Vo.bind(null,e,ao),r);break}Vo(e,ao);break;default:throw Error(o(329))}}}return Eo(e,zt()),e.callbackNode===n?Mo.bind(null,e):null}function Po(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),2!==(e=No(e,t))&&(t=ao,ao=n,null!==t&&To(t)),e}function To(e){null===ao?ao=e:ao.push.apply(ao,e)}function Co(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Ao(e){if(0!==(6&Ka))throw Error(o(327));Ho();var t=Mt(e,0);if(0===(1&t))return Eo(e,zt()),null;var n=No(e,t);if(0!==e.tag&&2===n){var r=Tt(e);0!==r&&(t=r,n=Po(e,r))}if(1===n)throw n=eo,Oo(e,0),Co(e,t),Eo(e,zt()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vo(e,ao),Eo(e,zt()),null}function Io(e){null!==vo&&0===vo.tag&&0===(6&Ka)&&Ho();var t=Ka;Ka|=1;var n=qa.transition,r=Rt;try{if(qa.transition=null,Rt=1,e)return e()}finally{Rt=r,qa.transition=n,0===(6&(Ka=t))&&$t()}}function Ro(){Za=Qa.current,st(Qa)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,G(n)),null!==Ya)for(n=Ya.return;null!==n;){var r=n;switch(Un(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vt();break;case 3:pr(),st(dt),st(ct),br();break;case 5:vr(r);break;case 4:pr();break;case 13:case 19:st(mr);break;case 10:un(r.type._context);break;case 22:case 23:Ro()}n=n.return}if(Xa=e,Ya=e=es(e.current,null),$a=Za=t,Ja=0,eo=null,ro=no=to=0,ao=io=null,null!==fn){for(t=0;t<fn.length;t++)if(null!==(r=(n=fn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}fn=null}return e}function Do(e,t){for(;;){var n=Ya;try{if(on(),xr.current=pi,Mr){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Mr=!1}if(_r=0,Er=kr=Sr=null,Pr=!1,Tr=0,Ga.current=null,null===n||null===n.return){Ja=1,eo=t,Ya=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=$a,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Pi(s);if(null!==h){h.flags&=-257,Ti(h,s,u,0,t),1&h.mode&&Mi(a,c,t),l=c;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){Mi(a,c,t),jo();break e}l=Error(o(426))}else if(Wn&&1&u.mode){var g=Pi(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ti(g,s,u,0,t),er(l);break e}}a=l,4!==Ja&&(Ja=2),null===io?io=[a]:io.push(a),l=gi(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,bn(u,ki(0,l,t));break e;case 1:a=l;var y=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===po||!po.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,bn(u,Ei(u,a,t));break e}}u=u.return}while(null!==u)}Uo(n)}catch(x){t=x,Ya===n&&null!==n&&(Ya=n=n.return);continue}break}}function Lo(){var e=Wa.current;return Wa.current=pi,null===e?pi:e}function jo(){0!==Ja&&3!==Ja&&2!==Ja||(Ja=4),null===Xa||0===(268435455&to)&&0===(268435455&no)||Co(Xa,$a)}function No(e,t){var n=Ka;Ka|=2;var r=Lo();for(Xa===e&&$a===t||Oo(e,t);;)try{zo();break}catch(i){Do(e,i)}if(on(),Ka=n,Wa.current=r,null!==Ya)throw Error(o(261));return Xa=null,$a=0,Ja}function zo(){for(;null!==Ya;)Bo(Ya)}function Fo(){for(;null!==Ya&&!jt();)Bo(Ya)}function Bo(e){var t=lo(e.alternate,e,Za);e.memoizedProps=e.pendingProps,null===t?Uo(e):Ya=t,Ga.current=null}function Uo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Di(n,t,Za)))return void(Ya=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(Ya=n);if(null===e)return Ja=6,void(Ya=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ya=t);Ya=t=e}while(null!==t);0===Ja&&(Ja=5)}function Vo(e,t){var n=Rt,r=qa.transition;try{qa.transition=null,Rt=1,function(e,t,n){do{Ho()}while(null!==vo);if(0!==(6&Ka))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Xa&&(Ya=Xa=null,$a=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||ho||(ho=!0,$o(Ut,(function(){return Ho(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=qa.transition,qa.transition=null;var s=Rt;Rt=1;var u=Ka;Ka|=4,Ga.current=null,function(e,t){for(j(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:X&&Ee(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(u){Go(e,e.return,u)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=fa,fa=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;X?ka(a,i,t):ga(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(w){Go(i,t,w)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var s=t.flags;if(32&s&&X&&xe(t.stateNode),512&s){var u=t.alternate;if(null!==u){var l=u.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=zt())}break;case 22:var d=null!==t.memoizedState,f=t.alternate,p=null!==f&&null!==f.memoizedState;if(n=t,X)e:if(r=n,i=d,a=null,X)for(var h=r;;){if(5===h.tag){if(null===a){a=h;var v=h.stateNode;i?we(v):Se(h.stateNode,h.memoizedProps)}}else if(6===h.tag){if(null===a){var m=h.stateNode;i?_e(m):ke(m,h.memoizedProps)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===r)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===r)break;for(;null===h.sibling;){if(null===h.return||h.return===r)break e;a===h&&(a=null),h=h.return}a===h&&(a=null),h.sibling.return=h.return,h=h.sibling}if(d&&!p&&0!==(1&n.mode)){la=n;for(var g=n.child;null!==g;){for(n=la=g;null!==la;){var y=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:pa(4,r,r.return);break;case 1:ca(r,r.return);var b=r.stateNode;if("function"===typeof b.componentWillUnmount){var x=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(w){Go(r,x,w)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Aa(n);continue}}null!==y?(y.return=r,la=y):Aa(n)}g=g.sibling}}}switch(4102&s){case 2:wa(t),t.flags&=-3;break;case 6:wa(t),t.flags&=-3,Ea(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ea(t.alternate,t);break;case 4:Ea(t.alternate,t)}}catch(w){Go(t,t.return,w)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),N(e.containerInfo),e.current=r,Pa(r,e,i),Nt(),Ka=u,Rt=s,qa.transition=a}else e.current=r;if(ho&&(ho=!1,vo=e,mo=i),0===(a=e.pendingLanes)&&(po=null),function(e){if(Wt&&"function"===typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Ht,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Eo(e,zt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=fo,fo=null,e;0!==(1&mo)&&0!==e.tag&&Ho(),0!==(1&(a=e.pendingLanes))?e===yo?go++:(go=0,yo=e):go=0,$t()}(e,t,n)}finally{qa.transition=r,Rt=n}return null}function Ho(){if(null!==vo){var e=Ot(mo),t=qa.transition,n=Rt;try{if(qa.transition=null,Rt=16>e?16:e,null===vo)var r=!1;else{if(e=vo,vo=null,mo=0,0!==(6&Ka))throw Error(o(331));var i=Ka;for(Ka|=4,la=e.current;null!==la;){var a=la,s=a.child;if(0!==(16&la.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(la=c;null!==la;){var d=la;switch(d.tag){case 0:case 11:case 15:pa(8,d,a)}var f=d.child;if(null!==f)f.return=d,la=f;else for(;null!==la;){var p=(d=la).sibling,h=d.return;if(ya(d),d===c){la=null;break}if(null!==p){p.return=h,la=p;break}la=h}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}la=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,la=s;else e:for(;null!==la;){if(0!==(2048&(a=la).flags))switch(a.tag){case 0:case 11:case 15:pa(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,la=y;break e}la=a.return}}var b=e.current;for(la=b;null!==la;){var x=(s=la).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,la=x;else e:for(s=b;null!==la;){if(0!==(2048&(u=la).flags))try{switch(u.tag){case 0:case 11:case 15:ha(9,u)}}catch(_){Go(u,u.return,_)}if(u===s){la=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,la=w;break e}la=u.return}}if(Ka=i,$t(),Wt&&"function"===typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Ht,e)}catch(_){}r=!0}return r}finally{Rt=n,qa.transition=t}}return!1}function Wo(e,t,n){gn(e,t=ki(0,t=gi(n,t),1)),t=wo(),null!==(e=ko(e,1))&&(At(e,1,t),Eo(e,t))}function Go(e,t,n){if(3===e.tag)Wo(e,e,n);else for(;null!==t;){if(3===t.tag){Wo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===po||!po.has(r))){gn(t,e=Ei(t,e=gi(n,e),1)),e=wo(),null!==(t=ko(t,1))&&(At(t,1,e),Eo(t,e));break}}t=t.return}}function qo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=wo(),e.pingedLanes|=e.suspendedLanes&n,Xa===e&&($a&n)===n&&(4===Ja||3===Ja&&(130023424&$a)===$a&&500>zt()-oo?Oo(e,0):ro|=n),Eo(e,t)}function Ko(e,t){0===t&&(0===(1&e.mode)?t=1:(t=kt,0===(130023424&(kt<<=1))&&(kt=4194304)));var n=wo();null!==(e=ko(e,t))&&(At(e,t,n),Eo(e,n))}function Xo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ko(e,n)}function Yo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ko(e,n)}function $o(e,t){return Dt(e,t)}function Zo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qo(e,t,n,r){return new Zo(e,t,n,r)}function Jo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=Qo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Jo(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case d:s=8,i|=8;break;case f:return(e=Qo(12,n,t,2|i)).elementType=f,e.lanes=a,e;case m:return(e=Qo(13,n,t,i)).elementType=m,e.lanes=a,e;case g:return(e=Qo(19,n,t,i)).elementType=g,e.lanes=a,e;case x:return rs(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:s=10;break e;case h:s=9;break e;case v:s=11;break e;case y:s=14;break e;case b:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Qo(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=Qo(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=Qo(22,e,r,t)).elementType=x,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=Qo(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=Qo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ct(0),this.expirationTimes=Ct(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.identifierPrefix=r,this.onRecoverableError=i,$&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,u){return e=new os(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Qo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},hn(a),e}function us(e){if(!e)return lt;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ht(n))return gt(e,n,t)}return t}function ls(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=T(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ds(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function fs(e){return null===(e=T(e))?null:e.stateNode}function ps(){return null}return lo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)ji=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ji=!1,function(e,t,n){switch(t.tag){case 3:qi(t),Jn();break;case 5:hr(t);break;case 1:ht(t.type)&&yt(t);break;case 4:fr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ut(mr,1&mr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?$i(e,t,n):(ut(mr,1&mr.current),null!==(e=ia(e,t,n))?e.sibling:null);ut(mr,1&mr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,Ui(e,t,n)}return ia(e,t,n)}(e,t,n);ji=0!==(131072&e.flags)}else ji=!1,Wn&&0!==(1048576&t.flags)&&Fn(t,Rn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=pt(t,ct.current);cn(t,n),i=Rr(null,t,r,e,i,n);var a=Or();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,hn(t),i.updater=kn,t.stateNode=i,i._reactInternals=t,Tn(t,r,e,n),t=Gi(null,t,r,!0,a,n)):(t.tag=0,Wn&&a&&Bn(t),Ni(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Jo(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Hi(null,t,r,e,n);break e;case 1:t=Wi(null,t,r,e,n);break e;case 11:t=zi(null,t,r,e,n);break e;case 14:t=Fi(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Hi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(qi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,vn(e,t),xn(t,r,null,n);var s=t.memoizedState;if(r=s.element,$&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ki(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Ki(e,t,r,n,i=Error(o(424)));break e}for($&&(Hn=Ue(t.stateNode.containerInfo),Vn=t,Wn=!0,qn=null,Gn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Jn(),r===i){t=ia(e,t,n);break e}Ni(e,t,r,n)}t=t.child}return t;case 5:return hr(t),null===e&&$n(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,V(r,i)?s=null:null!==a&&V(r,a)&&(t.flags|=32),Vi(e,t),Ni(e,t,s,n),t.child;case 6:return null===e&&$n(t),null;case 13:return $i(e,t,n);case 4:return fr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Ni(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,zi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Ni(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ni(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Gt(a.value,s)){if(a.children===i.children&&!dt.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=mn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ln(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ln(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ni(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=dn(i)),t.flags|=1,Ni(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Fi(e,t,r,i=en(r.type,i),n);case 15:return Bi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ht(r)?(e=!0,yt(t)):e=!1,cn(t,n),Mn(t,r,i),Tn(t,r,i,n),Gi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return Ui(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(So(e,134217728,wo()),ds(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=wo(),n=_o(e);So(e,n,t),ds(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(It(t,1|n),Eo(t,zt()),0===(6&Ka)&&(uo(),$t()))}break;case 13:var r=wo();Io((function(){return So(e,1,r)})),ds(e,1)}},t.batchedUpdates=function(e,t){var n=Ka;Ka|=1;try{return e(t)}finally{0===(Ka=n)&&(uo(),Kt&&$t())}},t.createComponentSelector=function(e){return{$$typeof:Ra,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Oa,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,u){return(e=ss(n,r,!0,e,0,a,0,s,u)).context=us(null),n=e.current,(a=mn(r=wo(),i=_o(n))).callback=void 0!==t&&null!==t?t:null,gn(n,a),e.current.lanes=i,At(e,i,r),Eo(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Da,value:e}},t.createTestNameSelector=function(e){return{$$typeof:La,value:e}},t.createTextSelector=function(e){return{$$typeof:ja,value:e}},t.deferredUpdates=function(e){var t=Rt,n=qa.transition;try{return qa.transition=null,Rt=16,e()}finally{Rt=t,qa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Rt,o=qa.transition;try{return qa.transition=null,Rt=1,e(t,n,r,i)}finally{Rt=a,qa.transition=o,0===Ka&&uo()}},t.findAllNodes=Va,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Va(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,u=t-1;0<=u;u--)if(t!==u){var l=e[u],c=l.x,d=c+l.width,f=l.y,p=f+l.height;if(r>=c&&a>=f&&i<=d&&s<=p){e.splice(t,1);break}if(!(r!==c||n.width!==l.width||p<a||f>s)){f>a&&(l.height+=f-a,l.y=a),p<s&&(l.height=s-f),e.splice(t,1);break}if(!(a!==f||n.height!==l.height||d<r||c>i)){c>r&&(l.width+=c-r,l.x=r),d<i&&(l.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=ls,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=P(e))?A(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ls(e)},t.flushControlled=function(e){var t=Ka;Ka|=1;var n=qa.transition,r=Rt;try{qa.transition=null,Rt=1,e()}finally{Rt=r,qa.transition=n,0===(Ka=t)&&(uo(),$t())}},t.flushPassiveEffects=Ho,t.flushSync=Io,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Ua(e=za(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Rt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[za(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],u=t[s];if((5!==a.tag||!se(a))&&(Fa(a,u)&&(r.push(Ba(u)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ba(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?O(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:fs,findFiberByHostInstance:e.findFiberByHostInstance||ps,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),Wt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Va(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=wo(),o=_o(i);return n=us(n),null===t.context?t.context=n:t.pendingContext=n,(t=mn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),null!==(e=So(i,o,a))&&yn(e,i,o),o},t}},4585:function(e,t,n){"use strict";e.exports=n(4976)},258:function(e,t,n){"use strict";e.exports=n(3721)},5783:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,f=null,p=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,x(e),!v)if(null!==r(l))v=!0,O(_);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(M),M=-1),h=!0;var a=p;try{for(x(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!C());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),x(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var d=r(c);null!==d&&D(w,d.startTime-n),u=!1}return u}finally{f=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,M=-1,P=5,T=-1;function C(){return!(t.unstable_now()-T<P)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=A,S=function(){R.postMessage(null)}}else S=function(){g(A,0)};function O(e){E=e,k||(k=!0,S())}function D(e,n){M=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(M),M=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(l,e),v||h||(v=!0,O(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},3100:function(e,t,n){"use strict";e.exports=n(5783)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,v(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+T(s=e[l],l);u+=C(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,c=a+T(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)_.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,f=null,p=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,x(e),!v)if(null!==r(l))v=!0,O(_);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(M),M=-1),h=!0;var a=p;try{for(x(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!C());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),x(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var d=r(c);null!==d&&D(w,d.startTime-n),u=!1}return u}finally{f=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,M=-1,P=5,T=-1;function C(){return!(t.unstable_now()-T<P)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=A,S=function(){R.postMessage(null)}}else S=function(){g(A,0)};function O(e){E=e,k||(k=!0,S())}function D(e,n){M=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(M),M=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(l,e),v||h||(v=!0,O(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new M(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=d;var p={};function h(){}function v(){}function m(){}var g={};c(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==n&&a.call(b,s)&&(g=b);var x=m.prototype=h.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,s,u){var l=f(e[i],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=m,c(x,"constructor",m),c(m,"constructor",v),v.displayName=c(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(_.prototype),c(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new _(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(x),c(x,l,"Generator"),c(x,s,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},9400:function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},1589:function(e,t,n){var r=n(5372),i=n(9498),a=n(6116),o=n(2218);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),a=n(6035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},6209:function(e,t,n){e=n.nmd(e);var r=n(8416).default,i=n(7061).default,a=n(7156).default,o=n(1655).default,s=n(6389).default,u=n(3496).default,l=n(861).default,c=n(1589).default,d=n(7424).default,f=n(6690).default,p=n(9728).default,h=n(4704).default,v=Object.create,m=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,E=function(e,t,n){return t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},M=function(e,t){for(var n in t||(t={}))S.call(t,n)&&E(e,n,t[n]);if(w){var r,i=h(w(t));try{for(i.s();!(r=i.n()).done;){n=r.value;k.call(t,n)&&E(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},P=function(e,t){return g(e,b(t))},T=function(e){return m(e,"__esModule",{value:!0})},C=function(e,t){return function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports}},A=function(e,t){for(var n in T(e),t)m(e,n,{get:t[n],enumerable:!0})},I=function(e){return function(e,t,n){if(t&&"object"===typeof t||"function"===typeof t){var r,i=h(x(t));try{var a=function(){var i=r.value;S.call(e,i)||"default"===i||m(e,i,{get:function(){return t[i]},enumerable:!(n=y(t,i))||n.enumerable})};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}return e}(T(m(null!=e?v(_(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},R=function(e,t,n){return E(e,"symbol"!==typeof t?t+"":t,n),n},O=C({"../node_modules/timing-function/lib/UnitBezier.js":function(e,t){t.exports=function(){function e(e,t,n,r){this.set(e,t,n,r)}return e.prototype.set=function(e,t,n,r){this._cx=3*e,this._bx=3*(n-e)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*t,this._by=3*(r-t)-this._cy,this._ay=1-this._cy-this._by},e.epsilon=1e-6,e.prototype._sampleCurveX=function(e){return((this._ax*e+this._bx)*e+this._cx)*e},e.prototype._sampleCurveY=function(e){return((this._ay*e+this._by)*e+this._cy)*e},e.prototype._sampleCurveDerivativeX=function(e){return(3*this._ax*e+2*this._bx)*e+this._cx},e.prototype._solveCurveX=function(e,t){var n,r,i,a,o,s;for(i=void 0,a=void 0,o=void 0,s=void 0,n=void 0,r=void 0,o=e,r=0;r<8;){if(s=this._sampleCurveX(o)-e,Math.abs(s)<t)return o;if(n=this._sampleCurveDerivativeX(o),Math.abs(n)<t)break;o-=s/n,r++}if((o=e)<(i=0))return i;if(o>(a=1))return a;for(;i<a;){if(s=this._sampleCurveX(o),Math.abs(s-e)<t)return o;e>s?i=o:a=o,o=.5*(a-i)+i}return o},e.prototype.solve=function(e,t){return this._sampleCurveY(this._solveCurveX(e,t))},e.prototype.solveSimple=function(e){return this._sampleCurveY(this._solveCurveX(e,1e-6))},e}()}}),D=C({"../node_modules/levenshtein-edit-distance/index.js":function(e,t){var n,r;n=[],r=[],t.exports=function(e,t,i){var a,o,s,u,l,c,d,f;if(e===t)return 0;if(a=e.length,o=t.length,0===a)return o;if(0===o)return a;for(i&&(e=e.toLowerCase(),t=t.toLowerCase()),d=0;d<a;)r[d]=e.charCodeAt(d),n[d]=++d;for(f=0;f<o;)for(s=t.charCodeAt(f),u=l=f++,d=-1;++d<a;)c=s===r[d]?l:l+1,l=n[d],n[d]=u=l>u?c>u?u+1:c:c>l?l+1:c;return u}}}),L=C({"../node_modules/propose/propose.js":function(e,t){var n=D();t.exports=function(){var e,t,r,i,a,o=0,s=arguments[0],u=arguments[1],l=u.length,c=arguments[2];c&&(i=c.threshold,a=c.ignoreCase),void 0===i&&(i=0);for(var d=0;d<l;++d)(e=(t=a?n(s,u[d],!0):n(s,u[d]))>s.length?1-t/u[d].length:1-t/s.length)>o&&(o=e,r=u[d]);return o>=i?r:null}}}),j=C({"../node_modules/fast-deep-equal/index.js":function(e,t){"use strict";t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}}});A(t,{getProject:function(){return Es},onChange:function(){return Ps},types:function(){return Na},val:function(){return Ts}});var N={};A(N,{getProject:function(){return Es},onChange:function(){return Ps},types:function(){return Na},val:function(){return Ts}});var z=I(n(2114)),F=new(function(){"use strict";function e(){f(this,e),R(this,"atom",new z.Atom({projects:{}}))}return p(e,[{key:"add",value:function(e,t){this.atom.reduceState(["projects",e],(function(){return t}))}},{key:"get",value:function(e){return this.atom.getState().projects[e]}},{key:"has",value:function(e){return!!this.get(e)}}]),e}()),B=new WeakMap;function U(e){return B.get(e)}function V(e,t){B.set(e,t)}var H=[],W=Array.isArray,G="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,q="object"==typeof self&&self&&self.Object===Object&&self,K=G||q||Function("return this")(),X=K.Symbol,Y=Object.prototype,$=Y.hasOwnProperty,Z=Y.toString,Q=X?X.toStringTag:void 0;var J=function(e){var t=$.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(a){}var i=Z.call(e);return r&&(t?e[Q]=n:delete e[Q]),i},ee=Object.prototype.toString;var te=function(e){return ee.call(e)},ne=X?X.toStringTag:void 0;var re=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ne&&ne in Object(e)?J(e):te(e)};var ie=function(e){return null!=e&&"object"==typeof e};var ae=function(e){return"symbol"==typeof e||ie(e)&&"[object Symbol]"==re(e)},oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,se=/^\w*$/;var ue=function(e,t){if(W(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ae(e))||(se.test(e)||!oe.test(e)||null!=t&&e in Object(t))};var le=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var ce=function(e){if(!le(e))return!1;var t=re(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},de=K["__core-js_shared__"],fe=function(){var e=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var pe=function(e){return!!fe&&fe in e},he=Function.prototype.toString;var ve=function(e){if(null!=e){try{return he.call(e)}catch(t){}try{return e+""}catch(t){}}return""},me=/^\[object .+?Constructor\]$/,ge=Function.prototype,ye=Object.prototype,be=ge.toString,xe=ye.hasOwnProperty,we=RegExp("^"+be.call(xe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var _e=function(e){return!(!le(e)||pe(e))&&(ce(e)?we:me).test(ve(e))};var Se=function(e,t){return null==e?void 0:e[t]};var ke=function(e,t){var n=Se(e,t);return _e(n)?n:void 0},Ee=ke(Object,"create");var Me=function(){this.__data__=Ee?Ee(null):{},this.size=0};var Pe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Te=Object.prototype.hasOwnProperty;var Ce=function(e){var t=this.__data__;if(Ee){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Te.call(t,e)?t[e]:void 0},Ae=Object.prototype.hasOwnProperty;var Ie=function(e){var t=this.__data__;return Ee?void 0!==t[e]:Ae.call(t,e)};var Re=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ee&&void 0===t?"__lodash_hash_undefined__":t,this};function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Oe.prototype.clear=Me,Oe.prototype.delete=Pe,Oe.prototype.get=Ce,Oe.prototype.has=Ie,Oe.prototype.set=Re;var De=Oe;var Le=function(){this.__data__=[],this.size=0};var je=function(e,t){return e===t||e!==e&&t!==t};var Ne=function(e,t){for(var n=e.length;n--;)if(je(e[n][0],t))return n;return-1},ze=Array.prototype.splice;var Fe=function(e){var t=this.__data__,n=Ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():ze.call(t,n,1),--this.size,!0)};var Be=function(e){var t=this.__data__,n=Ne(t,e);return n<0?void 0:t[n][1]};var Ue=function(e){return Ne(this.__data__,e)>-1};var Ve=function(e,t){var n=this.__data__,r=Ne(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function He(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}He.prototype.clear=Le,He.prototype.delete=Fe,He.prototype.get=Be,He.prototype.has=Ue,He.prototype.set=Ve;var We=He,Ge=ke(K,"Map");var qe=function(){this.size=0,this.__data__={hash:new De,map:new(Ge||We),string:new De}};var Ke=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Xe=function(e,t){var n=e.__data__;return Ke(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ye=function(e){var t=Xe(this,e).delete(e);return this.size-=t?1:0,t};var $e=function(e){return Xe(this,e).get(e)};var Ze=function(e){return Xe(this,e).has(e)};var Qe=function(e,t){var n=Xe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Je(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Je.prototype.clear=qe,Je.prototype.delete=Ye,Je.prototype.get=$e,Je.prototype.has=Ze,Je.prototype.set=Qe;var et=Je;function tt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(tt.Cache||et),n}tt.Cache=et;var nt=tt;var rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/\\(\\)?/g,at=function(e){var t=nt(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rt,(function(e,n,r,i){t.push(r?i.replace(it,"$1"):n||e)})),t}));var ot=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},st=X?X.prototype:void 0,ut=st?st.toString:void 0;var lt=function e(t){if("string"==typeof t)return t;if(W(t))return ot(t,e)+"";if(ae(t))return ut?ut.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var ct=function(e){return null==e?"":lt(e)};var dt=function(e,t){return W(e)?e:ue(e,t)?[e]:at(ct(e))};var ft=function(e){if("string"==typeof e||ae(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var pt=function(e,t){for(var n=0,r=(t=dt(t,e)).length;null!=e&&n<r;)e=e[ft(t[n++])];return n&&n==r?e:void 0};var ht=function(e,t,n){var r=null==e?void 0:pt(e,t);return void 0===r?n:r};var vt=function(){"use strict";function e(){f(this,e),R(this,"_values",{})}return p(e,[{key:"get",value:function(e,t){if(this.has(e))return this._values[e];var n=t();return this._values[e]=n,n}},{key:"has",value:function(e){return this._values.hasOwnProperty(e)}}]),e}(),mt=I(n(2114)),gt=function(){try{var e=ke(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var yt=function(e,t,n){"__proto__"==t&&gt?gt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},bt=Object.prototype.hasOwnProperty;var xt=function(e,t,n){var r=e[t];bt.call(e,t)&&je(r,n)&&(void 0!==n||t in e)||yt(e,t,n)},wt=/^(?:0|[1-9]\d*)$/;var _t=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&wt.test(e))&&e>-1&&e%1==0&&e<t};var St=function(e,t,n,r){if(!le(e))return e;for(var i=-1,a=(t=dt(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=ft(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=le(c)?c:_t(t[i+1])?[]:{})}xt(s,u,l),s=s[u]}return e};var kt=function(e,t,n){return null==e?e:St(e,t,n)},Et=new WeakMap;function Mt(e){if(Et.has(e))return Et.get(e);var t="compound"===e.type?function(e){for(var t={},n=0,r=Object.entries(e.props);n<r.length;n++){var i=d(r[n],2),a=i[0],o=i[1];t[a]=Mt(o)}return t}(e):"enum"===e.type?function(e){for(var t={$case:e.defaultCase},n=0,r=Object.entries(e.cases);n<r.length;n++){var i=d(r[n],2),a=i[0],o=i[1];t[a]=Mt(o)}return t}(e):e.default;return Et.set(e,t),t}var Pt=I(n(2114)),Tt=I(O());function Ct(e,t,n){return(0,Pt.prism)((function(){var r=(0,Pt.val)(t),i=Pt.prism.memo("driver",(function(){return r?"BasicKeyframedTrack"===r.type?function(e,t,n){return(0,Pt.prism)((function(){var e=Pt.prism.ref("state",{started:!1}),r=e.current,i=n.getValue();return(!r.started||i<r.validFrom||r.validTo<=i)&&(e.current=r=function(e,t,n){var r=t.getValue();if(0===n.keyframes.length)return{started:!0,validFrom:-1/0,validTo:1/0,der:At};var i=0;for(;;){var a=n.keyframes[i];if(!a)return It.error;var o=i===n.keyframes.length-1;if(r<a.position)return 0===i?It.beforeFirstKeyframe(a):It.error;if(a.position===r)return o?It.lastKeyframe(a):It.between(a,n.keyframes[i+1],t);if(i===n.keyframes.length-1)return It.lastKeyframe(a);var s=i+1;if(!(n.keyframes[s].position<=r))return It.between(a,n.keyframes[i+1],t);i=s}}(0,n,t)),r.der.getValue()}))}(0,r,n):(e.logger.error("Track type not yet supported."),new Pt.ConstantDerivation(void 0)):new Pt.ConstantDerivation(void 0)}),[r]);return i.getValue()}))}var At=new Pt.ConstantDerivation(void 0);var It={beforeFirstKeyframe:function(e){return{started:!0,validFrom:-1/0,validTo:e.position,der:new Pt.ConstantDerivation({left:e.value,progression:0})}},lastKeyframe:function(e){return{started:!0,validFrom:e.position,validTo:1/0,der:new Pt.ConstantDerivation({left:e.value,progression:0})}},between:function(e,t,n){if(!e.connectedRight)return{started:!0,validFrom:e.position,validTo:t.position,der:new Pt.ConstantDerivation({left:e.value,progression:0})};var r=new Tt.default(e.handles[2],e.handles[3],t.handles[0],t.handles[1]),i=(0,Pt.prism)((function(){var i=(n.getValue()-e.position)/(t.position-e.position),a=r.solveSimple(i);return{left:e.value,right:t.value,progression:a}}));return{started:!0,validFrom:e.position,validTo:t.position,der:i}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:At}};function Rt(e,t,n){var r=n.get(e);if(r&&r.override===t)return r.merged;for(var i=M({},e),a=0,o=Object.keys(t);a<o.length;a++){var s=o[a],u=t[s],l=e[s];i[s]="object"===typeof u&&"object"===typeof l?Rt(l,u,n):void 0===u?l:u}return n.set(e,{override:t,merged:i}),i}function Ot(e,t){var n,r=e,i=h(t);try{for(i.s();!(n=i.n()).done;){r=r[n.value]}}catch(a){i.e(a)}finally{i.f()}return r}var Dt=I(n(2114)),Lt=I(n(2114)),jt=I(n(2114)).Ticker.raf,Nt=I(n(2114)),zt=/\s/;var Ft=function(e){for(var t=e.length;t--&&zt.test(e.charAt(t)););return t},Bt=/^\s+/;var Ut=function(e){return e?e.slice(0,Ft(e)+1).replace(Bt,""):e},Vt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Wt=/^0o[0-7]+$/i,Gt=parseInt;var qt=function(e){if("number"==typeof e)return e;if(ae(e))return NaN;if(le(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=le(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ut(e);var n=Ht.test(e);return n||Wt.test(e)?Gt(e.slice(2),n?2:8):Vt.test(e)?NaN:+e},Kt=1/0;var Xt=function(e){return e?(e=qt(e))===Kt||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var Yt=function(e){var t=Xt(e),n=t%1;return t===t?n?t-n:t:0};var $t=function(e){return e},Zt=ke(K,"WeakMap");var Qt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Jt=function(e){return null!=e&&Qt(e.length)&&!ce(e)},en=Object.prototype;var tn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||en)};var nn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var rn=function(e){return ie(e)&&"[object Arguments]"==re(e)},an=Object.prototype,on=an.hasOwnProperty,sn=an.propertyIsEnumerable,un=rn(function(){return arguments}())?rn:function(e){return ie(e)&&on.call(e,"callee")&&!sn.call(e,"callee")},ln=un;var cn=function(){return!1},dn=t&&!t.nodeType&&t,fn=dn&&e&&!e.nodeType&&e,pn=fn&&fn.exports===dn?K.Buffer:void 0,hn=(pn?pn.isBuffer:void 0)||cn,vn={};vn["[object Float32Array]"]=vn["[object Float64Array]"]=vn["[object Int8Array]"]=vn["[object Int16Array]"]=vn["[object Int32Array]"]=vn["[object Uint8Array]"]=vn["[object Uint8ClampedArray]"]=vn["[object Uint16Array]"]=vn["[object Uint32Array]"]=!0,vn["[object Arguments]"]=vn["[object Array]"]=vn["[object ArrayBuffer]"]=vn["[object Boolean]"]=vn["[object DataView]"]=vn["[object Date]"]=vn["[object Error]"]=vn["[object Function]"]=vn["[object Map]"]=vn["[object Number]"]=vn["[object Object]"]=vn["[object RegExp]"]=vn["[object Set]"]=vn["[object String]"]=vn["[object WeakMap]"]=!1;var mn=function(e){return ie(e)&&Qt(e.length)&&!!vn[re(e)]};var gn=function(e){return function(t){return e(t)}},yn=t&&!t.nodeType&&t,bn=yn&&e&&!e.nodeType&&e,xn=bn&&bn.exports===yn&&G.process,wn=function(){try{var e=bn&&bn.require&&bn.require("util").types;return e||xn&&xn.binding&&xn.binding("util")}catch(t){}}(),_n=wn&&wn.isTypedArray,Sn=_n?gn(_n):mn,kn=Object.prototype.hasOwnProperty;var En=function(e,t){var n=W(e),r=!n&&ln(e),i=!n&&!r&&hn(e),a=!n&&!r&&!i&&Sn(e),o=n||r||i||a,s=o?nn(e.length,String):[],u=s.length;for(var l in e)!t&&!kn.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||_t(l,u))||s.push(l);return s};var Mn=function(e,t){return function(n){return e(t(n))}},Pn=Mn(Object.keys,Object),Tn=Object.prototype.hasOwnProperty;var Cn=function(e){if(!tn(e))return Pn(e);var t=[];for(var n in Object(e))Tn.call(e,n)&&"constructor"!=n&&t.push(n);return t};var An=function(e){return Jt(e)?En(e):Cn(e)};var In=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Rn=Mn(Object.getPrototypeOf,Object),On=Function.prototype,Dn=Object.prototype,Ln=On.toString,jn=Dn.hasOwnProperty,Nn=Ln.call(Object);var zn=function(e){if(!ie(e)||"[object Object]"!=re(e))return!1;var t=Rn(e);if(null===t)return!0;var n=jn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ln.call(n)==Nn};var Fn=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var Bn=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Fn(e,t,n)},Un=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Vn=function(e){return Un.test(e)};var Hn=function(e){return e.split("")},Wn="[\\ud800-\\udfff]",Gn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",qn="\\ud83c[\\udffb-\\udfff]",Kn="[^\\ud800-\\udfff]",Xn="(?:\\ud83c[\\udde6-\\uddff]){2}",Yn="[\\ud800-\\udbff][\\udc00-\\udfff]",$n="(?:"+Gn+"|"+qn+")"+"?",Zn="[\\ufe0e\\ufe0f]?",Qn=Zn+$n+("(?:\\u200d(?:"+[Kn,Xn,Yn].join("|")+")"+Zn+$n+")*"),Jn="(?:"+[Kn+Gn+"?",Gn,Xn,Yn,Wn].join("|")+")",er=RegExp(qn+"(?="+qn+")|"+Jn+Qn,"g");var tr=function(e){return e.match(er)||[]};var nr=function(e){return Vn(e)?tr(e):Hn(e)};var rr=function(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e};var ir=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=qt(n))===n?n:0),void 0!==t&&(t=(t=qt(t))===t?t:0),rr(qt(e),t,n)};var ar=function(){this.__data__=new We,this.size=0};var or=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var sr=function(e){return this.__data__.get(e)};var ur=function(e){return this.__data__.has(e)};var lr=function(e,t){var n=this.__data__;if(n instanceof We){var r=n.__data__;if(!Ge||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new et(r)}return n.set(e,t),this.size=n.size,this};function cr(e){var t=this.__data__=new We(e);this.size=t.size}cr.prototype.clear=ar,cr.prototype.delete=or,cr.prototype.get=sr,cr.prototype.has=ur,cr.prototype.set=lr;var dr=cr;var fr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var pr=function(){return[]},hr=Object.prototype.propertyIsEnumerable,vr=Object.getOwnPropertySymbols,mr=vr?function(e){return null==e?[]:(e=Object(e),fr(vr(e),(function(t){return hr.call(e,t)})))}:pr;var gr=function(e,t,n){var r=t(e);return W(e)?r:In(r,n(e))};var yr=function(e){return gr(e,An,mr)},br=ke(K,"DataView"),xr=ke(K,"Promise"),wr=ke(K,"Set"),_r="[object Map]",Sr="[object Promise]",kr="[object Set]",Er="[object WeakMap]",Mr="[object DataView]",Pr=ve(br),Tr=ve(Ge),Cr=ve(xr),Ar=ve(wr),Ir=ve(Zt),Rr=re;(br&&Rr(new br(new ArrayBuffer(1)))!=Mr||Ge&&Rr(new Ge)!=_r||xr&&Rr(xr.resolve())!=Sr||wr&&Rr(new wr)!=kr||Zt&&Rr(new Zt)!=Er)&&(Rr=function(e){var t=re(e),n="[object Object]"==t?e.constructor:void 0,r=n?ve(n):"";if(r)switch(r){case Pr:return Mr;case Tr:return _r;case Cr:return Sr;case Ar:return kr;case Ir:return Er}return t});var Or=Rr,Dr=K.Uint8Array;var Lr=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var jr=function(e){return this.__data__.has(e)};function Nr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new et;++t<n;)this.add(e[t])}Nr.prototype.add=Nr.prototype.push=Lr,Nr.prototype.has=jr;var zr=Nr;var Fr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Br=function(e,t){return e.has(t)};var Ur=function(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),c=a.get(t);if(l&&c)return l==t&&c==e;var d=-1,f=!0,p=2&n?new zr:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var h=e[d],v=t[d];if(r)var m=o?r(v,h,d,t,e,a):r(h,v,d,e,t,a);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!Fr(t,(function(e,t){if(!Br(p,t)&&(h===e||i(h,e,n,r,a)))return p.push(t)}))){f=!1;break}}else if(h!==v&&!i(h,v,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f};var Vr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Hr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Wr=X?X.prototype:void 0,Gr=Wr?Wr.valueOf:void 0;var qr=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Dr(e),new Dr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return je(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Vr;case"[object Set]":var u=1&r;if(s||(s=Hr),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var c=Ur(s(e),s(t),r,i,a,o);return o.delete(e),c;case"[object Symbol]":if(Gr)return Gr.call(e)==Gr.call(t)}return!1},Kr=Object.prototype.hasOwnProperty;var Xr=function(e,t,n,r,i,a){var o=1&n,s=yr(e),u=s.length;if(u!=yr(t).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in t:Kr.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var p=!0;a.set(e,t),a.set(t,e);for(var h=o;++l<u;){var v=e[c=s[l]],m=t[c];if(r)var g=o?r(m,v,c,t,e,a):r(v,m,c,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p},Yr="[object Arguments]",$r="[object Array]",Zr="[object Object]",Qr=Object.prototype.hasOwnProperty;var Jr=function(e,t,n,r,i,a){var o=W(e),s=W(t),u=o?$r:Or(e),l=s?$r:Or(t),c=(u=u==Yr?Zr:u)==Zr,d=(l=l==Yr?Zr:l)==Zr,f=u==l;if(f&&hn(e)){if(!hn(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new dr),o||Sn(e)?Ur(e,t,n,r,i,a):qr(e,t,u,n,r,i,a);if(!(1&n)){var p=c&&Qr.call(e,"__wrapped__"),h=d&&Qr.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,m=h?t.value():t;return a||(a=new dr),i(v,m,n,r,a)}}return!!f&&(a||(a=new dr),Xr(e,t,n,r,i,a))};var ei=function e(t,n,r,i,a){return t===n||(null==t||null==n||!ie(t)&&!ie(n)?t!==t&&n!==n:Jr(t,n,r,i,e,a))};var ti=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],l=e[u],c=s[1];if(o&&s[2]){if(void 0===l&&!(u in e))return!1}else{var d=new dr;if(r)var f=r(l,c,u,e,t,d);if(!(void 0===f?ei(c,l,3,r,d):f))return!1}}return!0};var ni=function(e){return e===e&&!le(e)};var ri=function(e){for(var t=An(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ni(i)]}return t};var ii=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var ai=function(e){var t=ri(e);return 1==t.length&&t[0][2]?ii(t[0][0],t[0][1]):function(n){return n===e||ti(n,e,t)}};var oi=function(e,t){return null!=e&&t in Object(e)};var si=function(e,t,n){for(var r=-1,i=(t=dt(t,e)).length,a=!1;++r<i;){var o=ft(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Qt(i)&&_t(o,i)&&(W(e)||ln(e))};var ui=function(e,t){return null!=e&&si(e,t,oi)};var li=function(e,t){return ue(e)&&ni(t)?ii(ft(e),t):function(n){var r=ht(n,e);return void 0===r&&r===t?ui(n,e):ei(t,r,3)}};var ci=function(e){return function(t){return null==t?void 0:t[e]}};var di=function(e){return function(t){return pt(t,e)}};var fi=function(e){return ue(e)?ci(ft(e)):di(e)};var pi=function(e){return"function"==typeof e?e:null==e?$t:"object"==typeof e?W(e)?li(e[0],e[1]):ai(e):fi(e)};var hi=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}();var vi=function(e,t){return e&&hi(e,t,An)},mi=function(){return K.Date.now()},gi=Math.max,yi=Math.min;var bi=function(e,t,n){var r,i,a,o,s,u,l=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function h(e){return l=e,s=setTimeout(m,t),c?p(e):o}function v(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-l>=a}function m(){var e=mi();if(v(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-u);return d?yi(n,a-(e-l)):n}(e))}function g(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function y(){var e=mi(),n=v(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return h(u);if(d)return clearTimeout(s),s=setTimeout(m,t),p(u)}return void 0===s&&(s=setTimeout(m,t)),o}return t=qt(t)||0,le(n)&&(c=!!n.leading,a=(d="maxWait"in n)?gi(qt(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},y.flush=function(){return void 0===s?o:g(mi())},y};var xi=function(e){return"number"==typeof e&&e==Yt(e)};var wi=function(e,t){var n={};return t=pi(t,3),vi(e,(function(e,r,i){yt(n,r,t(e,r,i))})),n},_i=Math.floor;var Si=function(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=_i(t/2))&&(e+=e)}while(t);return n},ki=ci("length"),Ei="[\\ud800-\\udfff]",Mi="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Pi="\\ud83c[\\udffb-\\udfff]",Ti="[^\\ud800-\\udfff]",Ci="(?:\\ud83c[\\udde6-\\uddff]){2}",Ai="[\\ud800-\\udbff][\\udc00-\\udfff]",Ii="(?:"+Mi+"|"+Pi+")"+"?",Ri="[\\ufe0e\\ufe0f]?",Oi=Ri+Ii+("(?:\\u200d(?:"+[Ti,Ci,Ai].join("|")+")"+Ri+Ii+")*"),Di="(?:"+[Ti+Mi+"?",Mi,Ci,Ai,Ei].join("|")+")",Li=RegExp(Pi+"(?="+Pi+")|"+Di+Oi,"g");var ji=function(e){for(var t=Li.lastIndex=0;Li.test(e);)++t;return t};var Ni=function(e){return Vn(e)?ji(e):ki(e)},zi=Math.ceil;var Fi=function(e,t){var n=(t=void 0===t?" ":lt(t)).length;if(n<2)return n?Si(t,e):t;var r=Si(t,zi(e/Ni(t)));return Vn(t)?Bn(nr(r),0,e).join(""):r.slice(0,e)};var Bi=function(e,t,n){e=ct(e);var r=(t=Yt(t))?Ni(e):0;return t&&r<t?Fi(t-r,n)+e:e},Ui=function(){"use strict";function e(t){f(this,e),R(this,"_cache",new vt),R(this,"_keepHotUntapDebounce"),V(this,t)}return p(e,[{key:"type",get:function(){return"Theatre_SheetObject_PublicAPI"}},{key:"props",get:function(){return U(this).propsP}},{key:"sheet",get:function(){return U(this).sheet.publicApi}},{key:"project",get:function(){return U(this).sheet.project.publicApi}},{key:"address",get:function(){return M({},U(this).address)}},{key:"_valuesDerivation",value:function(){var e=this;return this._cache.get("onValuesChangeDerivation",(function(){var t=U(e);return(0,Nt.prism)((function(){return(0,Nt.val)(t.getValues().getValue())}))}))}},{key:"onValuesChange",value:function(e){return this._valuesDerivation().tapImmediate(jt,e)}},{key:"value",get:function(){var e=this,t=this._valuesDerivation();if(!t.isHot){null!=this._keepHotUntapDebounce&&this._keepHotUntapDebounce.flush();var n=t.keepHot();this._keepHotUntapDebounce=bi((function(){n(),e._keepHotUntapDebounce=void 0}),5e3)}return this._keepHotUntapDebounce&&this._keepHotUntapDebounce(),t.getValue()}},{key:"initialValue",set:function(e){U(this).setInitialValue(e)}}]),e}();function Vi(e){return"compound"===e.type||"enum"===e.type}function Hi(e,t){if(e){var n=c(t),r=n[0],i=n.slice(1);if(void 0===r)return e;if(Vi(e))return Hi("enum"===e.type?e.cases[r]:e.props[r],i)}}new WeakMap;var Wi,Gi,qi,Ki,Xi,Yi,$i,Zi,Qi=function(){"use strict";function e(t,n,r){f(this,e),this.sheet=t,this.template=n,this.nativeObject=r,R(this,"$$isIdentityDerivationProvider",!0),R(this,"address"),R(this,"publicApi"),R(this,"_initialValue",new Lt.Atom({})),R(this,"_cache",new vt),R(this,"_logger"),R(this,"_internalUtilCtx"),this._logger=t._logger.named("SheetObject",n.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=P(M({},n.address),{sheetInstanceId:t.address.sheetInstanceId}),this.publicApi=new Ui(this)}return p(e,[{key:"type",get:function(){return"Theatre_SheetObject"}},{key:"getValues",value:function(){var e=this;return this._cache.get("getValues()",(function(){return(0,Lt.prism)((function(){var t=Rt((0,Lt.val)(e.template.getDefaultValues()),(0,Lt.val)(e._initialValue.pointer),Lt.prism.memo("withInitialCache",(function(){return new WeakMap}),[])),n=Rt(t,(0,Lt.val)(e.template.getStaticValues()),Lt.prism.memo("withStatics",(function(){return new WeakMap}),[])),r=Lt.prism.memo("seq",(function(){return e.getSequencedValues()}),[]),i=Lt.prism.memo("withSeqsCache",(function(){return new WeakMap}),[]);return function(e,t){var n=Dt.prism.memo(e,(function(){return new Dt.Atom(t)}),[]);return n.setState(t),n}("finalAtom",n=Rt(n,(0,Lt.val)((0,Lt.val)(r)),i)).pointer}))}))}},{key:"getValueByPointer",value:function(e){var t=(0,Lt.val)(this.getValues()),n=(0,Lt.getPointerParts)(e).path;return(0,Lt.val)(Ot(t,n))}},{key:"getIdentityDerivation",value:function(e){var t=this;return(0,Lt.prism)((function(){var n=(0,Lt.val)(t.getValues());return(0,Lt.val)(Ot(n,e))}))}},{key:"getSequencedValues",value:function(){var e=this;return(0,Lt.prism)((function(){var t=Lt.prism.memo("tracksToProcess",(function(){return e.template.getArrayOfValidSequenceTracks()}),[]),n=(0,Lt.val)(t),r=new Lt.Atom({}),i=(0,Lt.val)(e.template.configPointer);return Lt.prism.effect("processTracks",(function(){var t,a=[],o=h(n);try{var s=function(){var n=t.value,o=n.trackId,s=n.pathToProp,u=e._trackIdToDerivation(o),l=Hi(i,s),c=l.deserializeAndSanitize,d=l.interpolate,f=function(){var e=u.getValue();if(!e)return r.setIn(s,void 0);var t=c(e.left),n=void 0===t?l.default:t;if(void 0===e.right)return r.setIn(s,n);var i=c(e.right),a=void 0===i?l.default:i;return r.setIn(s,d(n,a,e.progression))},p=u.changesWithoutValues().tap(f);f(),a.push(p)};for(o.s();!(t=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}return function(){var e,t=h(a);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(u){t.e(u)}finally{t.f()}}}),[i].concat(l(n))),r.pointer}))}},{key:"_trackIdToDerivation",value:function(e){var t=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[e],n=this.sheet.getSequence().positionDerivation;return Ct(this._internalUtilCtx,t,n)}},{key:"propsP",get:function(){var e=this;return this._cache.get("propsP",(function(){return(0,Lt.pointer)({root:e,path:[]})}))}},{key:"validateValue",value:function(e,t){}},{key:"setInitialValue",value:function(e){this.validateValue(this.propsP,e),this._initialValue.setState(e)}}]),e}();function Ji(e){return function(t,n){return e(t,n())}}(Gi=Wi||(Wi={}))[Gi.GENERAL=1]="GENERAL",Gi[Gi.TODO=2]="TODO",Gi[Gi.TROUBLESHOOTING=4]="TROUBLESHOOTING",(Ki=qi||(qi={}))[Ki.INTERNAL=8]="INTERNAL",Ki[Ki.DEV=16]="DEV",Ki[Ki.PUBLIC=32]="PUBLIC",(Yi=Xi||(Xi={}))[Yi.TRACE=64]="TRACE",Yi[Yi.DEBUG=128]="DEBUG",Yi[Yi.WARN=256]="WARN",Yi[Yi.ERROR=512]="ERROR",(Zi=$i||($i={}))[Zi.ERROR_PUBLIC=545]="ERROR_PUBLIC",Zi[Zi.ERROR_DEV=529]="ERROR_DEV",Zi[Zi._HMM=524]="_HMM",Zi[Zi._TODO=522]="_TODO",Zi[Zi._ERROR=521]="_ERROR",Zi[Zi.WARN_PUBLIC=289]="WARN_PUBLIC",Zi[Zi.WARN_DEV=273]="WARN_DEV",Zi[Zi._KAPOW=268]="_KAPOW",Zi[Zi._WARN=265]="_WARN",Zi[Zi.DEBUG_DEV=145]="DEBUG_DEV",Zi[Zi._DEBUG=137]="_DEBUG",Zi[Zi.TRACE_DEV=81]="TRACE_DEV",Zi[Zi._TRACE=73]="_TRACE";var ea={_hmm:ta(524),_todo:ta(522),_error:ta(521),errorDev:ta(529),errorPublic:ta(545),_kapow:ta(268),_warn:ta(265),warnDev:ta(273),warnPublic:ta(289),_debug:ta(137),debugDev:ta(145),_trace:ta(73),traceDev:ta(81)};function ta(e){return Object.freeze({audience:na(e,8)?"internal":na(e,16)?"dev":"public",category:na(e,4)?"troubleshooting":na(e,2)?"todo":"general",level:na(e,512)?512:na(e,256)?256:na(e,128)?128:64})}function na(e,t){return(e&t)===t}function ra(e,t){return(32===(32&t)||(16===(16&t)?e.dev:8===(8&t)&&e.internal))&&e.min<=t}var ia={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named:function(e,t,n){return this.create({names:[].concat(l(e.names),[{name:t,key:n}])})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed:function(e){if(e.length<5)return e;var t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css:function(e){var t,n,r,i,a=this.cssMemo.get(e);if(a)return a;var o="color:".concat(null!=(n=null==(t=this.color)?void 0:t.call(this,e))?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(null==(r=this.bold)?void 0:r.test(e))&&(o+=";font-weight:600"),(null==(i=this.italic)?void 0:i.test(e))&&(o+=";font-style:italic"),this.cssMemo.set(e,o),o}}};function aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console,t=P(M({},ia),{includes:M({},ia.includes)}),n={styled:ua.bind(t,e),noStyle:la.bind(t,e)},r=sa.bind(t);function i(){return t.loggingConsoleStyle&&t.loggerConsoleStyle?n.styled:n.noStyle}return t.create=i(),{configureLogger:function(e){var n;"console"===e?(t.loggerConsoleStyle=ia.loggerConsoleStyle,t.create=i()):"console"===e.type?(t.loggerConsoleStyle=null!=(n=e.style)?n:ia.loggerConsoleStyle,t.create=i()):"keyed"===e.type?(t.creatExt=function(t){return e.keyed(t.names)},t.create=r):"named"===e.type&&(t.creatExt=oa.bind(null,e.named),t.create=r)},configureLogging:function(e){var n,r,a,o,s;t.includes.dev=null!=(n=e.dev)?n:ia.includes.dev,t.includes.internal=null!=(r=e.internal)?r:ia.includes.internal,t.includes.min=null!=(a=e.min)?a:ia.includes.min,t.include=null!=(o=e.include)?o:ia.include,t.loggingConsoleStyle=null!=(s=e.consoleStyle)?s:ia.loggingConsoleStyle,t.create=i()},getLogger:function(){return t.create({names:[]})}}}function oa(e,t){var n,r=[],i=h(t.names);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.name,s=a.key;r.push(null==s?o:"".concat(o," (").concat(s,")"))}}catch(u){i.e(u)}finally{i.f()}return e(r)}function sa(e){var t=M(M({},this.includes),this.include(e)),n=this.filtered,r=this.named.bind(this,e),i=this.creatExt(e),a=ra(t,524),o=ra(t,522),s=ra(t,521),u=ra(t,529),l=ra(t,545),c=ra(t,265),d=ra(t,268),f=ra(t,273),p=ra(t,289),h=ra(t,137),v=ra(t,145),m=ra(t,73),g=ra(t,81),y=a?i.error.bind(i,ea._hmm):n.bind(e,524),b=o?i.error.bind(i,ea._todo):n.bind(e,522),x=s?i.error.bind(i,ea._error):n.bind(e,521),w=u?i.error.bind(i,ea.errorDev):n.bind(e,529),_=l?i.error.bind(i,ea.errorPublic):n.bind(e,545),S=d?i.warn.bind(i,ea._kapow):n.bind(e,268),k=c?i.warn.bind(i,ea._warn):n.bind(e,265),E=f?i.warn.bind(i,ea.warnDev):n.bind(e,273),P=p?i.warn.bind(i,ea.warnPublic):n.bind(e,273),T=h?i.debug.bind(i,ea._debug):n.bind(e,137),C=v?i.debug.bind(i,ea.debugDev):n.bind(e,145),A=m?i.trace.bind(i,ea._trace):n.bind(e,73),I=g?i.trace.bind(i,ea.traceDev):n.bind(e,81),R={_hmm:y,_todo:b,_error:x,errorDev:w,errorPublic:_,_kapow:S,_warn:k,warnDev:E,warnPublic:P,_debug:T,debugDev:C,_trace:A,traceDev:I,lazy:{_hmm:a?Ji(y):y,_todo:o?Ji(b):b,_error:s?Ji(x):x,errorDev:u?Ji(w):w,errorPublic:l?Ji(_):_,_kapow:d?Ji(S):S,_warn:c?Ji(k):k,warnDev:f?Ji(E):E,warnPublic:p?Ji(P):P,_debug:h?Ji(T):T,debugDev:v?Ji(C):C,_trace:m?Ji(A):A,traceDev:g?Ji(I):I},named:r,utilFor:{internal:function(){return{debug:R._debug,error:R._error,warn:R._warn,trace:R._trace,named:function(e,t){return R.named(e,t).utilFor.internal()}}},dev:function(){return{debug:R.debugDev,error:R.errorDev,warn:R.warnDev,trace:R.traceDev,named:function(e,t){return R.named(e,t).utilFor.dev()}}},public:function(){return{error:R.errorPublic,warn:R.warnPublic,debug:function(e,t){R._warn('(public "debug" filtered out) '.concat(e),t)},trace:function(e,t){R._warn('(public "trace" filtered out) '.concat(e),t)},named:function(e,t){return R.named(e,t).utilFor.public()}}}}};return R}function ua(e,t){for(var n=M(M({},this.includes),this.include(t)),r=[],i="",a=0;a<t.names.length;a++){var o=t.names[a],s=o.name,u=o.key;if(i+=" %c".concat(s),r.push(this.style.css(s)),null!=u){var l="%c#".concat(u);i+=l,r.push(this.style.css(l))}}var c=this.filtered,d=this.named.bind(this,t),f=[i].concat(r);return ca(c,t,n,e,f,function(e){for(var t=e.slice(0),n=1;n<t.length;n++)t[n]+=";background-color:#e0005a;padding:2px;color:white";return t}(f),d)}function la(e,t){for(var n=M(M({},this.includes),this.include(t)),r="",i=0;i<t.names.length;i++){var a=t.names[i],o=a.name,s=a.key;r+=" ".concat(o),null!=s&&(r+="#".concat(s))}var u=[r];return ca(this.filtered,t,n,e,u,u,this.named.bind(this,t))}function ca(e,t,n,r,i,a,o){var s,u,c,d,f,p,h,v,m,g,y,b,x,w=ra(n,524),_=ra(n,522),S=ra(n,521),k=ra(n,529),E=ra(n,545),M=ra(n,265),P=ra(n,268),T=ra(n,273),C=ra(n,289),A=ra(n,137),I=ra(n,145),R=ra(n,73),O=ra(n,81),D=w?(s=r.error).bind.apply(s,[r].concat(l(i))):e.bind(t,524),L=_?(u=r.error).bind.apply(u,[r].concat(l(i))):e.bind(t,522),j=S?(c=r.error).bind.apply(c,[r].concat(l(i))):e.bind(t,521),N=k?(d=r.error).bind.apply(d,[r].concat(l(i))):e.bind(t,529),z=E?(f=r.error).bind.apply(f,[r].concat(l(i))):e.bind(t,545),F=P?(p=r.warn).bind.apply(p,[r].concat(l(a))):e.bind(t,268),B=M?(h=r.warn).bind.apply(h,[r].concat(l(i))):e.bind(t,265),U=T?(v=r.warn).bind.apply(v,[r].concat(l(i))):e.bind(t,273),V=C?(m=r.warn).bind.apply(m,[r].concat(l(i))):e.bind(t,273),H=A?(g=r.info).bind.apply(g,[r].concat(l(i))):e.bind(t,137),W=I?(y=r.info).bind.apply(y,[r].concat(l(i))):e.bind(t,145),G=R?(b=r.debug).bind.apply(b,[r].concat(l(i))):e.bind(t,73),q=O?(x=r.debug).bind.apply(x,[r].concat(l(i))):e.bind(t,81),K={_hmm:D,_todo:L,_error:j,errorDev:N,errorPublic:z,_kapow:F,_warn:B,warnDev:U,warnPublic:V,_debug:H,debugDev:W,_trace:G,traceDev:q,lazy:{_hmm:w?Ji(D):D,_todo:_?Ji(L):L,_error:S?Ji(j):j,errorDev:k?Ji(N):N,errorPublic:E?Ji(z):z,_kapow:P?Ji(F):F,_warn:M?Ji(B):B,warnDev:T?Ji(U):U,warnPublic:C?Ji(V):V,_debug:A?Ji(H):H,debugDev:I?Ji(W):W,_trace:R?Ji(G):G,traceDev:O?Ji(q):q},named:o,utilFor:{internal:function(){return{debug:K._debug,error:K._error,warn:K._warn,trace:K._trace,named:function(e,t){return K.named(e,t).utilFor.internal()}}},dev:function(){return{debug:K.debugDev,error:K.errorDev,warn:K.warnDev,trace:K.traceDev,named:function(e,t){return K.named(e,t).utilFor.dev()}}},public:function(){return{error:K.errorPublic,warn:K.warnPublic,debug:function(e,t){K._warn('(public "debug" filtered out) '.concat(e),t)},trace:function(e,t){K._warn('(public "trace" filtered out) '.concat(e),t)},named:function(e,t){return K.named(e,t).utilFor.public()}}}}};return K}var da=aa(console,{_debug:function(){},_error:function(){}});da.configureLogging({dev:!0,min:Xi.TRACE});var fa=da.getLogger().named("Theatre.js (default logger)").utilFor.dev(),pa=new WeakMap;function ha(e,t,n){for(var r=0,i=Object.entries(t.props);r<i.length;r++){var a=d(i[r],2),o=a[0],s=a[1];if(!Vi(s)){var u=[].concat(l(e),[o]);n.set(JSON.stringify(u),n.size),va(u,s,n)}}for(var c=0,f=Object.entries(t.props);c<f.length;c++){var p=d(f[c],2),h=p[0],v=p[1];if(Vi(v)){var m=[].concat(l(e),[h]);n.set(JSON.stringify(m),n.size),va(m,v,n)}}}function va(e,t,n){if("compound"===t.type)ha(e,t,n);else{if("enum"===t.type)throw new Error("Enums aren't supported yet");n.set(JSON.stringify(e),n.size)}}var ma=function(){"use strict";function e(t,n,r,i){f(this,e),this.sheetTemplate=t,R(this,"address"),R(this,"type","Theatre_SheetObjectTemplate"),R(this,"_config"),R(this,"_cache",new vt),R(this,"project"),this.address=P(M({},t.address),{objectKey:n}),this._config=new mt.Atom(i),this.project=t.project}return p(e,[{key:"staticConfig",get:function(){return this._config.getState()}},{key:"configPointer",get:function(){return this._config.pointer}},{key:"createInstance",value:function(e,t,n){return this._config.setState(n),new Qi(e,this,t)}},{key:"overrideConfig",value:function(e){this._config.setState(e)}},{key:"getDefaultValues",value:function(){var e=this;return this._cache.get("getDefaultValues()",(function(){return(0,mt.prism)((function(){return function(e){return Mt(e)}((0,mt.val)(e.configPointer))}))}))}},{key:"getStaticValues",value:function(){var e=this;return this._cache.get("getDerivationOfStatics",(function(){return(0,mt.prism)((function(){var t,n=e.sheetTemplate.project.pointers.historic.sheetsById[e.address.sheetId],r=null!=(t=(0,mt.val)(n.staticOverrides.byObject[e.address.objectKey]))?t:{};return(0,mt.val)(e.configPointer).deserializeAndSanitize(r)||{}}))}))}},{key:"getArrayOfValidSequenceTracks",value:function(){var e=this;return this._cache.get("getArrayOfValidSequenceTracks",(function(){return(0,mt.prism)((function(){var t=e.project.pointers.historic.sheetsById[e.address.sheetId],n=(0,mt.val)(t.sequence.tracksByObject[e.address.objectKey].trackIdByPropPath);if(!n)return H;var r=[];if(!n)return H;for(var i=(0,mt.val)(e.configPointer),a=0,o=Object.entries(n);a<o.length;a++){var s=d(o[a],2),u=s[0],l=s[1],c=ga(u);if(c){var f=Hi(i,c);f&&!Vi(f)&&r.push({pathToProp:c,trackId:l})}}var p=function(e){var t=pa.get(e);if(t)return t;var n=new Map;return pa.set(e,n),ha([],e,n),n}(i);return r.sort((function(e,t){var n=e.pathToProp,r=t.pathToProp;return p.get(JSON.stringify(n))>p.get(JSON.stringify(r))?1:-1})),0===r.length?H:r}))}))}},{key:"getMapOfValidSequenceTracks_forStudio",value:function(){var e=this;return this._cache.get("getMapOfValidSequenceTracks_forStudio",(function(){return e.getArrayOfValidSequenceTracks().map((function(e){var t,n={},r=h(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.pathToProp,o=i.trackId;kt(n,a,o)}}catch(s){r.e(s)}finally{r.f()}return n}))}))}},{key:"getDefaultsAtPointer",value:function(e){var t=(0,mt.getPointerParts)(e).path,n=function(e,t){return 0===t.length?e:ht(e,t)}(this.getDefaultValues().getValue(),t);return n}}]),e}();function ga(e){try{return JSON.parse(e)}catch(t){return void fa.warn("property ".concat(JSON.stringify(e)," cannot be parsed. Skipping."))}}var ya=I(n(2114));I(L());var ba=function(e){"use strict";o(n,e);var t=s(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n)}(u(Error)),xa=function(e){"use strict";o(n,e);var t=s(n);function n(){return f(this,n),t.apply(this,arguments)}return p(n)}(ba),wa=I(n(2114)),_a=I(n(2114));function Sa(){var e,t,n=new Promise((function(n,i){e=function(e){n(e),r.status="resolved"},t=function(e){i(e),r.status="rejected"}})),r={resolve:e,reject:t,promise:n,status:"pending"};return r}var ka=function(){},Ea=I(n(2114)),Ma=function(){"use strict";function e(t){f(this,e),this._ticker=t,R(this,"_stopPlayCallback",ka),R(this,"_state",new Ea.Atom({position:0,playing:!1})),R(this,"statePointer"),this.statePointer=this._state.pointer}return p(e,[{key:"destroy",value:function(){}},{key:"pause",value:function(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=ka}},{key:"gotoPosition",value:function(e){this._updatePositionInState(e)}},{key:"_updatePositionInState",value:function(e){this._state.reduceState(["position"],(function(){return e}))}},{key:"getCurrentPosition",value:function(){return this._state.getState().position}},{key:"playing",get:function(){return this._state.getState().playing},set:function(e){this._state.setIn(["playing"],e)}},{key:"play",value:function(e,t,n,r){var i=this;this.playing&&this.pause(),this.playing=!0;var a=this._ticker,o=t[1]-t[0],s=this.getCurrentPosition();s<t[0]||s>t[1]?"normal"===r||"alternate"===r?this._updatePositionInState(t[0]):"reverse"!==r&&"alternateReverse"!==r||this._updatePositionInState(t[1]):"normal"===r||"alternate"===r?s===t[1]&&this._updatePositionInState(t[0]):s===t[0]&&this._updatePositionInState(t[1]);var u=Sa(),l=a.time,c=o*e,d=this.getCurrentPosition()-t[0];"reverse"!==r&&"alternateReverse"!==r||(d=t[1]-this.getCurrentPosition());var f=function(a){var s=Math.max(a-l,0)/1e3,f=Math.min(s*n+d,c);if(f!==c){var h=Math.floor(f/o),v=f/o%1*o;if("normal"!==r)if("reverse"===r)v=o-v;else{var m=h%2===0;"alternate"===r?m||(v=o-v):m&&(v=o-v)}i._updatePositionInState(v+t[0]),p()}else{if("normal"===r)i._updatePositionInState(t[1]);else if("reverse"===r)i._updatePositionInState(t[0]);else{var g=(e-1)%2===0;"alternate"===r?g?i._updatePositionInState(t[1]):i._updatePositionInState(t[0]):g?i._updatePositionInState(t[0]):i._updatePositionInState(t[1])}i.playing=!1,u.resolve(!0)}};this._stopPlayCallback=function(){a.offThisOrNextTick(f),a.offNextTick(f),i.playing&&u.resolve(!1)};var p=function(){return a.onNextTick(f)};return a.onThisOrNextTick(f),u.promise}},{key:"playDynamicRange",value:function(e){var t=this;this.playing&&this.pause(),this.playing=!0;var n=this._ticker,r=Sa(),i=e.keepHot();r.promise.then(i,i);var a=n.time,o=function(n){var r=Math.max(n-a,0);a=n;var i=r/1e3,o=t.getCurrentPosition(),u=e.getValue();if(o<u[0]||o>u[1])t.gotoPosition(u[0]);else{var l=o+i;l>u[1]&&(l=u[0]+(l-u[1])),t.gotoPosition(l)}s()};this._stopPlayCallback=function(){n.offThisOrNextTick(o),n.offNextTick(o),r.resolve(!1)};var s=function(){return n.onNextTick(o)};return n.onThisOrNextTick(o),r.promise}}]),e}(),Pa=I(n(2114)),Ta=function(){"use strict";function e(t,n,r,i){f(this,e),this._ticker=t,this._decodedBuffer=n,this._audioContext=r,this._nodeDestination=i,R(this,"_mainGain"),R(this,"_state",new Pa.Atom({position:0,playing:!1})),R(this,"statePointer"),R(this,"_stopPlayCallback",ka),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}return p(e,[{key:"playDynamicRange",value:function(e){var t=this,n=Sa();this._playing&&this.pause(),this._playing=!0;var r=void 0,i=function(){null==r||r(),r=t._loopInRange(e.getValue()).stop},a=e.changesWithoutValues().tap(i);return i(),this._stopPlayCallback=function(){null==r||r(),a(),n.resolve(!1)},n.promise}},{key:"_loopInRange",value:function(e){var t=this,n=this._ticker,r=this.getCurrentPosition(),i=e[1]-e[0];(r<e[0]||r>e[1]||r===e[1])&&this._updatePositionInState(e[0]),r=this.getCurrentPosition();var a=this._audioContext.createBufferSource();a.buffer=this._decodedBuffer,a.connect(this._mainGain),a.playbackRate.value=1,a.loop=!0,a.loopStart=e[0],a.loopEnd=e[1];var o=n.time,s=r-e[0];a.start(0,r);var u=function(n){var r=(1*(Math.max(n-o,0)/1e3)+s)/i%1*i;t._updatePositionInState(r+e[0]),l()},l=function(){return n.onNextTick(u)};n.onThisOrNextTick(u);return{stop:function(){a.stop(),a.disconnect(),n.offThisOrNextTick(u),n.offNextTick(u)}}}},{key:"_playing",get:function(){return this._state.getState().playing},set:function(e){this._state.setIn(["playing"],e)}},{key:"destroy",value:function(){}},{key:"pause",value:function(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=ka}},{key:"gotoPosition",value:function(e){this._updatePositionInState(e)}},{key:"_updatePositionInState",value:function(e){this._state.reduceState(["position"],(function(){return e}))}},{key:"getCurrentPosition",value:function(){return this._state.getState().position}},{key:"play",value:function(e,t,n,r){var i=this;this._playing&&this.pause(),this._playing=!0;var a=this._ticker,o=this.getCurrentPosition(),s=t[1]-t[0];if("normal"!==r)throw new xa('Audio-controlled sequences can only be played in the "normal" direction. \''.concat(r,"' given."));(o<t[0]||o>t[1]||o===t[1])&&this._updatePositionInState(t[0]),o=this.getCurrentPosition();var u=Sa(),l=this._audioContext.createBufferSource();l.buffer=this._decodedBuffer,l.connect(this._mainGain),l.playbackRate.value=n,e>1e3&&(console.warn("Audio-controlled sequences cannot have an iterationCount larger than 1000. It has been clamped to 1000."),e=1e3),e>1&&(l.loop=!0,l.loopStart=t[0],l.loopEnd=t[1]);var c=a.time,d=o-t[0],f=s*e;l.start(0,o,f-d);var p=function(e){var r=Math.max(e-c,0)/1e3,a=Math.min(r*n+d,f);if(a!==f){var o=a/s%1*s;i._updatePositionInState(o+t[0]),v()}else i._updatePositionInState(t[1]),i._playing=!1,h(),u.resolve(!0)},h=function(){l.stop(),l.disconnect()};this._stopPlayCallback=function(){h(),a.offThisOrNextTick(p),a.offNextTick(p),i._playing&&u.resolve(!1)};var v=function(){return a.onNextTick(p)};return a.onThisOrNextTick(p),u.promise}}]),e}(),Ca=function(){"use strict";function e(t){f(this,e),V(this,t)}return p(e,[{key:"type",get:function(){return"Theatre_Sequence_PublicAPI"}},{key:"play",value:function(e){var t=U(this);if(t._project.isReady())return t.play(e);var n=Sa();return n.resolve(!0),n.promise}},{key:"pause",value:function(){U(this).pause()}},{key:"position",get:function(){return U(this).position},set:function(e){U(this).position=e}},{key:"attachAudio",value:function(){var e=a(i().mark((function e(t){var n,r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Aa(t);case 2:return n=e.sent,r=n.audioContext,a=n.destinationNode,o=n.decodedBuffer,s=n.gainNode,u=new Ta(jt,o,r,s),U(this).replacePlaybackController(u),e.abrupt("return",{audioContext:r,destinationNode:a,decodedBuffer:o,gainNode:s});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pointer",get:function(){return U(this).pointer}}]),e}();function Aa(e){return Ia.apply(this,arguments)}function Ia(){return Ia=a(i().mark((function e(t){var n,r,o,s,u,l,c,f,p,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return(r=a(i().mark((function e(){var n,r,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.source instanceof AudioBuffer)){e.next=2;break}return e.abrupt("return",t.source);case 2:if(n=Sa(),"string"===typeof t.source){e.next=5;break}throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");case 5:return e.prev=5,e.next=8,fetch(t.source);case 8:r=e.sent,e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),console.error(e.t0),new Error("Could not fetch '".concat(t.source,"'. Network error logged above."));case 15:return e.prev=15,e.next=18,r.arrayBuffer();case 18:a=e.sent,e.next=25;break;case 21:throw e.prev=21,e.t1=e.catch(15),console.error(e.t1),new Error("Could not read '".concat(t.source,"' as an arrayBuffer."));case 25:return e.next=27,o;case 27:return e.sent.decodeAudioData(a,n.resolve,n.reject),e.prev=29,e.next=32,n.promise;case 32:s=e.sent,e.next=39;break;case 35:throw e.prev=35,e.t2=e.catch(29),console.error(e.t2),new Error("Could not decode ".concat(t.source," as an audio file."));case 39:return e.abrupt("return",s);case 40:case"end":return e.stop()}}),e,null,[[5,11],[15,21],[29,35]])})))).apply(this,arguments)},n=function(){return r.apply(this,arguments)},o=function(){if(t.audioContext)return Promise.resolve(t.audioContext);var e=new AudioContext;return"running"===e.state||"undefined"===typeof window?Promise.resolve(e):new Promise((function(t){var n=function(){e.resume()},r=["mousedown","keydown","touchstart"],i={capture:!0,passive:!1};r.forEach((function(e){window.addEventListener(e,n,i)})),e.addEventListener("statechange",(function(){"running"===e.state&&(r.forEach((function(e){window.removeEventListener(e,n,i)})),t(e))}))}))}(),s=n(),e.next=7,Promise.all([o,s]);case 7:return u=e.sent,l=d(u,2),c=l[0],f=l[1],p=t.destinationNode||c.destination,(h=c.createGain()).connect(p),e.abrupt("return",{audioContext:c,decodedBuffer:f,gainNode:h,destinationNode:p});case 15:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}var Ra=function(){"use strict";function e(t,n,r,i,a){var o=this;f(this,e),this._project=t,this._sheet=n,this._lengthD=r,this._subUnitsPerUnitD=i,R(this,"address"),R(this,"publicApi"),R(this,"_playbackControllerBox"),R(this,"_statePointerDerivation"),R(this,"_positionD"),R(this,"_positionFormatterD"),R(this,"_playableRangeD"),R(this,"pointer",(0,wa.pointer)({root:this,path:[]})),R(this,"$$isIdentityDerivationProvider",!0),R(this,"_logger"),R(this,"closestGridPosition",(function(e){var t=1/o.subUnitsPerUnit;return parseFloat((Math.round(e/t)*t).toFixed(3))})),this._logger=t._logger.named("Sheet",n.address.sheetId).named("Instance",n.address.sheetInstanceId),this.address=P(M({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new Ca(this),this._playbackControllerBox=new _a.Box(null!=a?a:new Ma(jt)),this._statePointerDerivation=this._playbackControllerBox.derivation.map((function(e){return e.statePointer})),this._positionD=this._statePointerDerivation.flatMap((function(e){return(0,_a.valueDerivation)(e.position)})),this._positionFormatterD=this._subUnitsPerUnitD.map((function(e){return new Oa(e)}))}return p(e,[{key:"getIdentityDerivation",value:function(e){var t=this;if(0===e.length)return(0,_a.prism)((function(){return{length:(0,_a.val)(t.pointer.length),playing:(0,_a.val)(t.pointer.playing),position:(0,_a.val)(t.pointer.position)}}));if(e.length>1)return(0,_a.prism)((function(){}));var n=d(e,1)[0];return"length"===n?this._lengthD:"position"===n?this._positionD:"playing"===n?(0,_a.prism)((function(){return(0,_a.val)(t._statePointerDerivation.getValue().playing)})):(0,_a.prism)((function(){}))}},{key:"positionFormatter",get:function(){return this._positionFormatterD.getValue()}},{key:"derivationToStatePointer",get:function(){return this._statePointerDerivation}},{key:"length",get:function(){return this._lengthD.getValue()}},{key:"positionDerivation",get:function(){return this._positionD}},{key:"position",get:function(){return this._playbackControllerBox.get().getCurrentPosition()},set:function(e){var t=e;this.pause(),t>this.length&&(t=this.length);var n=this.length;this._playbackControllerBox.get().gotoPosition(t>n?n:t)}},{key:"subUnitsPerUnit",get:function(){return this._subUnitsPerUnitD.getValue()}},{key:"positionSnappedToGrid",get:function(){return this.closestGridPosition(this.position)}},{key:"getDurationCold",value:function(){return this._lengthD.getValue()}},{key:"playing",get:function(){return(0,_a.val)(this._playbackControllerBox.get().statePointer.playing)}},{key:"_makeRangeFromSequenceTemplate",value:function(){var e=this;return(0,_a.prism)((function(){return[0,(0,_a.val)(e._lengthD)]}))}},{key:"playDynamicRange",value:function(e){return this._playbackControllerBox.get().playDynamicRange(e)}},{key:"play",value:function(){var e=a(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.length,r=t&&t.range?t.range:[0,n],e.next=12;break;case 5:if(!(r[0]>=n)){e.next=7;break}throw new xa("Argument conf.range[0] in sequence.play(conf) cannot be longer than the duration of the sequence, which is ".concat(n,"s. ").concat(JSON.stringify(r[0])," given."));case 7:if(!("number"!==typeof r[1]||r[1]<=0)){e.next=9;break}throw new xa("Argument conf.range[1] in sequence.play(conf) must be a number larger than zero. ".concat(JSON.stringify(r[1])," given."));case 9:if(r[1]>n&&(console.warn("Argument conf.range[1] in sequence.play(conf) cannot be longer than the duration of the sequence, which is ".concat(n,"s. ").concat(JSON.stringify(r[1])," given.")),r[1]=n),!(r[1]<=r[0])){e.next=12;break}throw new xa("Argument conf.range[1] in sequence.play(conf) must be larger than conf.range[0]. ".concat(JSON.stringify(r)," given."));case 12:a=t&&"number"===typeof t.iterationCount?t.iterationCount:1,e.next=16;break;case 16:o=t&&"undefined"!==typeof t.rate?t.rate:1,e.next=22;break;case 20:if(!(o<0)){e.next=22;break}throw new xa("Argument conf.rate in sequence.play(conf) must be a number larger than 0. ".concat(JSON.stringify(o)," given. If you want the animation to play backwards, try setting conf.direction to 'reverse' or 'alternateReverse'."));case 22:s=t&&t.direction?t.direction:"normal",e.next=26;break;case 26:return e.next=28,this._play(a,[r[0],r[1]],o,s);case 28:return e.abrupt("return",e.sent);case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_play",value:function(e,t,n,r){return this._playbackControllerBox.get().play(e,t,n,r)}},{key:"pause",value:function(){this._playbackControllerBox.get().pause()}},{key:"replacePlaybackController",value:function(e){this.pause();var t=this._playbackControllerBox.get();this._playbackControllerBox.set(e);var n=t.getCurrentPosition();t.destroy(),e.gotoPosition(n)}}]),e}(),Oa=function(){"use strict";function e(t){f(this,e),this._fps=t}return p(e,[{key:"formatSubUnitForGrid",value:function(e){var t=e%1,n=1/this._fps;return Math.round(t/n)+"f"}},{key:"formatFullUnitForGrid",value:function(e){var t=e,n="";t>=ja&&(n+=Math.floor(t/ja)+"h",t%=ja);t>=La&&(n+=Math.floor(t/La)+"m",t%=La);t>=Da&&(n+=Math.floor(t/Da)+"s",t%=Da);var r=1/this._fps;t>=r&&(n+=Math.floor(t/r)+"f",t%=r);return 0===n.length?"0s":n}},{key:"formatForPlayhead",value:function(e){var t=e,n="";if(t>=ja){var r=Math.floor(t/ja);n+=Bi(r.toString(),2,"0")+"h",t%=ja}if(t>=La){var i=Math.floor(t/La);n+=Bi(i.toString(),2,"0")+"m",t%=La}else n.length>0&&(n+="00m");if(t>=Da){var a=Math.floor(t/Da);n+=Bi(a.toString(),2,"0")+"s",t%=Da}else n+="00s";var o=1/this._fps;if(t>=o){var s=Math.round(t/o);n+=Bi(s.toString(),2,"0")+"f",t%=o}else if(t/o>.98){n+=Bi(1..toString(),2,"0")+"f",t%=o}else n+="00f";return 0===n.length?"00s00f":n}},{key:"formatBasic",value:function(e){return e.toFixed(2)+"s"}}]),e}(),Da=1,La=60*Da,ja=60*La,Na={};function za(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}A(Na,{boolean:function(){return no},compound:function(){return Xa},number:function(){return Ya},rgba:function(){return Ja},string:function(){return ao},stringLiteral:function(){return so}});var Fa=function(e){return"string"===typeof e?'string("'.concat(za(e,10),'")'):"number"===typeof e?"number(".concat(za(String(e),10),")"):null===e?"null":void 0===e?"undefined":"boolean"===typeof e?String(e):Array.isArray(e)?"array":"object"===typeof e?"object":"unknown"};function Ba(e){return P(M({},e),{toString:function(){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).removeAlphaIfOpaque,n=void 0!==t&&t,r=(255*e.a|256).toString(16).slice(1),i=(255*e.r|256).toString(16).slice(1)+(255*e.g|256).toString(16).slice(1)+(255*e.b|256).toString(16).slice(1)+(n&&"ff"===r?"":r);return"#".concat(i)}(this,{removeAlphaIfOpaque:!0})}})}function Ua(e){function t(e){return e>=.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e}return function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=d(e,2),n=t[0],r=t[1];return[n,ir(r,0,1)]})))}({r:t(e.r),g:t(e.g),b:t(e.b),a:e.a})}function Va(e){function t(e){return e>=.04045?Math.pow((e+.055)/1.055,2.4):e/12.92}return{r:t(e.r),g:t(e.g),b:t(e.b),a:e.a}}function Ha(e){var t=.4122214708*e.r+.5363325363*e.g+.0514459929*e.b,n=.2119034982*e.r+.6806995451*e.g+.1073969566*e.b,r=.0883024619*e.r+.2817188376*e.g+.6299787005*e.b,i=Math.cbrt(t),a=Math.cbrt(n),o=Math.cbrt(r);return{L:.2104542553*i+.793617785*a-.0040720468*o,a:1.9779984951*i-2.428592205*a+.4505937099*o,b:.0259040371*i+.7827717662*a-.808675766*o,alpha:e.a}}var Wa=Symbol("TheatrePropType_Basic");function Ga(e){return"object"===typeof e&&!!e&&"TheatrePropType"===e[Wa]}function qa(e){if("number"===typeof e)return Ya(e);if("boolean"===typeof e)return no(e);if("string"===typeof e)return ao(e);if("object"===typeof e&&e){if(Ga(e))return e;if(zn(e))return Xa(e);throw new xa("This value is not a valid prop type: ".concat(Fa(e)))}throw new xa("This value is not a valid prop type: ".concat(Fa(e)))}function Ka(e){var t={};for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];0;var a=e[i];Ga(a)?t[i]=a:t[i]=qa(a)}return t}var Xa=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Ka(e),a=new WeakMap,o=(r(t={type:"compound",props:i,valueType:null},Wa,"TheatrePropType"),r(t,"label",n.label),r(t,"default",wi(i,(function(e){return e.default}))),r(t,"deserializeAndSanitize",(function(e){if("object"===typeof e&&e){if(a.has(e))return a.get(e);for(var t={},n=!1,r=0,o=Object.entries(i);r<o.length;r++){var s=d(o[r],2),u=s[0],l=s[1];if(Object.prototype.hasOwnProperty.call(e,u)){var c=l.deserializeAndSanitize(e[u]);null!=c&&(n=!0,t[u]=c)}}return a.set(e,t),n?t:void 0}})),t);return o},Ya=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return P(M(r({type:"number",valueType:0,default:e},Wa,"TheatrePropType"),n||{}),{label:n.label,nudgeFn:null!=(t=n.nudgeFn)?t:uo,nudgeMultiplier:"number"===typeof n.nudgeMultiplier?n.nudgeMultiplier:1,interpolate:Qa,deserializeAndSanitize:$a(n.range)})},$a=function(e){return e?function(t){if("number"===typeof t&&isFinite(t))return ir(t,e[0],e[1])}:Za},Za=function(e){return"number"===typeof e&&isFinite(e)?e:void 0},Qa=function(e,t,n){return e+n*(t-e)},Ja=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:0,g:0,b:0,a:1},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={},a=0,o=["r","g","b","a"];a<o.length;a++){var s=o[a];i[s]=Math.min(Math.max(t[s],0),1)}return e={type:"rgba",valueType:null,default:Ba(i)},r(e,Wa,"TheatrePropType"),r(e,"label",n.label),r(e,"interpolate",to),r(e,"deserializeAndSanitize",eo),e},eo=function(e){if(e){for(var t=!0,n=0,r=["r","g","b","a"];n<r.length;n++){var i=r[n];Object.prototype.hasOwnProperty.call(e,i)&&"number"===typeof e[i]||(t=!1)}if(t){for(var a={},o=0,s=["r","g","b","a"];o<s.length;o++){var u=s[o];a[u]=Math.min(Math.max(e[u],0),1)}return Ba(a)}}},to=function(e,t,n){var r=Ha(Va(e)),i=Ha(Va(t));return Ba(Ua(function(e){var t=e.L+.3963377774*e.a+.2158037573*e.b,n=e.L-.1055613458*e.a-.0638541728*e.b,r=e.L-.0894841775*e.a-1.291485548*e.b,i=t*t*t,a=n*n*n,o=r*r*r;return{r:4.0767416621*i-3.3077115913*a+.2309699292*o,g:-1.2684380046*i+2.6097574011*a-.3413193965*o,b:-.0041960863*i-.7034186147*a+1.707614701*o,a:e.alpha}}({L:(1-n)*r.L+n*i.L,a:(1-n)*r.a+n*i.a,b:(1-n)*r.b+n*i.b,alpha:(1-n)*r.alpha+n*i.alpha})))},no=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(t={type:"boolean",default:e,valueType:null},Wa,"TheatrePropType"),r(t,"label",i.label),r(t,"interpolate",null!=(n=i.interpolate)?n:io),r(t,"deserializeAndSanitize",ro),t},ro=function(e){return"boolean"===typeof e?e:void 0};function io(e){return e}var ao=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(t={type:"string",default:e,valueType:null},Wa,"TheatrePropType"),r(t,"label",i.label),r(t,"interpolate",null!=(n=i.interpolate)?n:io),r(t,"deserializeAndSanitize",oo),t};function oo(e){return"string"===typeof e?e:void 0}function so(e,t){var n,i,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n={type:"stringLiteral",default:e,valuesAndLabels:M({},t)},r(n,Wa,"TheatrePropType"),r(n,"valueType",null),r(n,"as",null!=(i=o.as)?i:"menu"),r(n,"label",o.label),r(n,"interpolate",null!=(a=o.interpolate)?a:io),r(n,"deserializeAndSanitize",(function(e){if("string"===typeof e)return Object.prototype.hasOwnProperty.call(t,e)?e:void 0})),n}var uo=function(e){var t=e.config,n=e.deltaX,r=e.deltaFraction,i=e.magnitude,a=t.range;return a?r*(a[1]-a[0])*i*t.nudgeMultiplier:n*i*t.nudgeMultiplier};function lo(e,t){var n=e.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");return n}I(j()),new WeakMap;var co,fo,po=function(){"use strict";function e(t){f(this,e),V(this,t)}return p(e,[{key:"type",get:function(){return"Theatre_Sheet_PublicAPI"}},{key:"object",value:function(e,t,n){var r=U(this),i=lo(e),a=r.getObject(i);if(a)return a.publicApi;var o=Xa(t),s=r.createObject(i,null,o);return s.publicApi}},{key:"sequence",get:function(){return U(this).getSequence().publicApi}},{key:"project",get:function(){return U(this).project.publicApi}},{key:"address",get:function(){return M({},U(this).address)}},{key:"deleteObject",value:function(e){var t=U(this),n=lo(e,'sheet.deleteObject("'.concat(e,'")'));t.getObject(n)?t.deleteObject(n):console.warn('Object key "'.concat(n,'" does not exist.'))}}]),e}(),ho=I(n(2114)),vo=function(){"use strict";function e(t,n){f(this,e),this.template=t,this.instanceId=n,R(this,"_objects",new ho.Atom({})),R(this,"_sequence"),R(this,"address"),R(this,"publicApi"),R(this,"project"),R(this,"objectsP",this._objects.pointer),R(this,"type","Theatre_Sheet"),R(this,"_logger"),this._logger=t.project._logger.named("Sheet",n),this._logger._trace("creating sheet"),this.project=t.project,this.address=P(M({},t.address),{sheetInstanceId:this.instanceId}),this.publicApi=new po(this)}return p(e,[{key:"createObject",value:function(e,t,n){var r=this.template.getObjectTemplate(e,t,n).createInstance(this,t,n);return this._objects.setIn([e],r),r}},{key:"getObject",value:function(e){return this._objects.getState()[e]}},{key:"deleteObject",value:function(e){this._objects.reduceState([],(function(t){var n=M({},t);return delete n[e],n}))}},{key:"getSequence",value:function(){if(!this._sequence){var e=(0,ho.valueDerivation)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length).map(mo),t=(0,ho.valueDerivation)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit).map(go);this._sequence=new Ra(this.template.project,this,e,t)}return this._sequence}}]),e}(),mo=function(e){return"number"===typeof e&&isFinite(e)&&e>0?e:10},go=function(e){return"number"===typeof e&&xi(e)&&e>=1&&e<=1e3?e:30},yo=function(){"use strict";function e(t,n){f(this,e),this.project=t,R(this,"type","Theatre_SheetTemplate"),R(this,"address"),R(this,"_instances",new ya.Atom({})),R(this,"instancesP",this._instances.pointer),R(this,"_objectTemplates",new ya.Atom({})),R(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=P(M({},t.address),{sheetId:n})}return p(e,[{key:"getInstance",value:function(e){var t=this._instances.getState()[e];return t||(t=new vo(this,e),this._instances.setIn([e],t)),t}},{key:"getObjectTemplate",value:function(e,t,n){var r=this._objectTemplates.getState()[e];return r||(r=new ma(this,e,t,n),this._objectTemplates.setIn([e],r)),r}}]),e}(),bo=I(n(2114)),xo=I(n(2114)),wo=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function _o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function So(e){return!!e&&!!e[ss]}function ko(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===us}(e)||Array.isArray(e)||!!e[os]||!!e.constructor[os]||Ao(e)||Io(e))}function Eo(e){return So(e)||_o(23,e),e[ss].t}function Mo(e,t,n){void 0===n&&(n=!1),0===Po(e)?(n?Object.keys:ls)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Po(e){var t=e[ss];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ao(e)?2:Io(e)?3:0}function To(e,t){return 2===Po(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Co(e,t,n){var r=Po(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Ao(e){return ns&&e instanceof Map}function Io(e){return rs&&e instanceof Set}function Ro(e){return e.o||e.t}function Oo(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=cs(e);delete t[ss];for(var n=ls(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Do(e,t){return void 0===t&&(t=!1),jo(e)||So(e)||!ko(e)||(Po(e)>1&&(e.set=e.add=e.clear=e.delete=Lo),Object.freeze(e),t&&Mo(e,(function(e,t){return Do(t,!0)}),!0)),e}function Lo(){_o(2)}function jo(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function No(e){var t=ds[e];return t||_o(18,e),t}function zo(){return fo}function Fo(e,t){t&&(No("Patches"),e.u=[],e.s=[],e.v=t)}function Bo(e){Uo(e),e.p.forEach(Ho),e.p=null}function Uo(e){e===fo&&(fo=e.l)}function Vo(e){return fo={p:[],l:fo,h:e,m:!0,_:0}}function Ho(e){var t=e[ss];0===t.i||1===t.i?t.j():t.O=!0}function Wo(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||No("ES5").S(t,e,r),r?(n[ss].P&&(Bo(t),_o(4)),ko(e)&&(e=Go(t,e),t.l||Ko(t,e)),t.u&&No("Patches").M(n[ss],e,t.u,t.s)):e=Go(t,n,[]),Bo(t),t.u&&t.v(t.u,t.s),e!==as?e:void 0}function Go(e,t,n){if(jo(t))return t;var r=t[ss];if(!r)return Mo(t,(function(i,a){return qo(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Ko(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Oo(r.k):r.o;Mo(3===r.i?new Set(i):i,(function(t,a){return qo(e,r,i,t,a,n)})),Ko(e,i,!1),n&&e.u&&No("Patches").R(r,n,e.u,e.s)}return r.o}function qo(e,t,n,r,i,a){if(So(i)){var o=Go(e,i,a&&t&&3!==t.i&&!To(t.D,r)?a.concat(r):void 0);if(Co(n,r,o),!So(o))return;e.m=!1}if(ko(i)&&!jo(i)){if(!e.h.F&&e._<1)return;Go(e,i),t&&t.A.l||Ko(e,i)}}function Ko(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Do(t,n)}function Xo(e,t){var n=e[ss];return(n?Ro(n):e)[t]}function Yo(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function $o(e){e.P||(e.P=!0,e.l&&$o(e.l))}function Zo(e){e.o||(e.o=Oo(e.t))}function Qo(e,t,n){var r=Ao(t)?No("MapSet").N(t,n):Io(t)?No("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:zo(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=fs;n&&(i=[r],a=ps);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):No("ES5").J(t,n);return(n?n.A:zo()).p.push(r),r}function Jo(e){return So(e)||_o(22,e),function e(t){if(!ko(t))return t;var n,r=t[ss],i=Po(t);if(r){if(!r.P&&(r.i<4||!No("ES5").K(r)))return r.t;r.I=!0,n=es(t,i),r.I=!1}else n=es(t,i);return Mo(n,(function(t,i){r&&function(e,t){return 2===Po(e)?e.get(t):e[t]}(r.t,t)===i||Co(n,t,e(i))})),3===i?new Set(n):n}(e)}function es(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Oo(e)}var ts="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ns="undefined"!=typeof Map,rs="undefined"!=typeof Set,is="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,as=ts?Symbol.for("immer-nothing"):((co={})["immer-nothing"]=!0,co),os=ts?Symbol.for("immer-draftable"):"__$immer_draftable",ss=ts?Symbol.for("immer-state"):"__$immer_state",us=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ls="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,cs=Object.getOwnPropertyDescriptors||function(e){var t={};return ls(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ds={},fs={get:function(e,t){if(t===ss)return e;var n=Ro(e);if(!To(n,t))return function(e,t,n){var r,i=Yo(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!ko(r)?r:r===Xo(e.t,t)?(Zo(e),e.o[t]=Qo(e.A.h,r,e)):r},has:function(e,t){return t in Ro(e)},ownKeys:function(e){return Reflect.ownKeys(Ro(e))},set:function(e,t,n){var r=Yo(Ro(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Xo(Ro(e),t),a=null==i?void 0:i[ss];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||To(e.t,t)))return!0;Zo(e),$o(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Xo(e.t,t)||t in e.t?(e.D[t]=!1,Zo(e),$o(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ro(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){_o(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){_o(12)}},ps={};Mo(fs,(function(e,t){ps[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ps.deleteProperty=function(e,t){return fs.deleteProperty.call(this,e[0],t)},ps.set=function(e,t,n){return fs.set.call(this,e[0],t,n,e[0])};var hs=function(){function e(e){var t=this;this.g=is,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&_o(6),void 0!==r&&"function"!=typeof r&&_o(7),ko(e)){var s=Vo(t),u=Qo(t,e,void 0),l=!0;try{o=n(u),l=!1}finally{l?Bo(s):Uo(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Fo(s,r),Wo(e,s)}),(function(e){throw Bo(s),e})):(Fo(s,r),Wo(o,s))}if(!e||"object"!=typeof e){if((o=n(e))===as)return;return void 0===o&&(o=e),t.F&&Do(o,!0),o}_o(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){ko(e)||_o(8),So(e)&&(e=Jo(e));var t=Vo(this),n=Qo(this,e,void 0);return n[ss].C=!0,Uo(t),n},t.finishDraft=function(e,t){var n=(e&&e[ss]).A;return Fo(n,t),Wo(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!is&&_o(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=No("Patches").$;return So(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),vs=new hs,ms=(vs.produce,vs.produceWithPatches.bind(vs),vs.setAutoFreeze.bind(vs),vs.setUseProxies.bind(vs),vs.applyPatches.bind(vs),vs.createDraft.bind(vs),vs.finishDraft.bind(vs),{currentProjectStateDefinitionVersion:"0.4.0"});function gs(e,t,n){return ys.apply(this,arguments)}function ys(){return(ys=a(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(0);case 2:t.transaction((function(e){var t,i=e.drafts,a=n.address.projectId;function o(){i.ephemeral.coreByProject[a].loadingState={type:"loaded"}}i.ephemeral.coreByProject[a]={lastExportedObject:null,loadingState:{type:"loading"}},i.ahistoric.coreByProject[a]={ahistoricStuff:""};var s,u,l=null==(t=Eo(i.historic))?void 0:t.coreByProject[n.address.projectId];l?r&&-1==l.revisionHistory.indexOf(r.revisionHistory[0])?(s=r,i.ephemeral.coreByProject[a].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:s}):o():r?(u=r,i.ephemeral.coreByProject[a].loadingState={type:"loaded"},i.historic.coreByProject[a]=u):(i.ephemeral.coreByProject[a].loadingState={type:"loaded"},i.historic.coreByProject[a]={sheetsById:{},definitionVersion:ms.currentProjectStateDefinitionVersion,revisionHistory:[]})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(){}function xs(e){var t,n,r=(null==(t=null==e?void 0:e.logging)?void 0:t.internal)?null!=(n=e.logging.min)?n:Xi.WARN:1/0,i=r<=Xi.DEBUG,a=r<=Xi.ERROR,o=aa(void 0,{_debug:i?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):bs,_error:a?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):bs});if(e){var s=e.logger,u=e.logging;s&&o.configureLogger(s),u?o.configureLogging(u):o.configureLogging({dev:!1})}return o.getLogger().named("Theatre")}var ws=function(){"use strict";function e(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;f(this,e),this.config=i,this.publicApi=a,R(this,"pointers"),R(this,"_pointerProxies"),R(this,"address"),R(this,"_readyDeferred"),R(this,"_sheetTemplates",new xo.Atom({})),R(this,"sheetTemplatesP",this._sheetTemplates.pointer),R(this,"_studio"),R(this,"type","Theatre_Project"),R(this,"_logger"),this._logger=xs({logging:{dev:!0}}).named("Project",t),this._logger.traceDev("creating project"),this.address={projectId:t};var o=new xo.Atom({ahistoric:{ahistoricStuff:""},historic:null!=(n=i.state)?n:{sheetsById:{},definitionVersion:ms.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._pointerProxies={historic:new bo.PointerProxy(o.pointer.historic),ahistoric:new bo.PointerProxy(o.pointer.ahistoric),ephemeral:new bo.PointerProxy(o.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},F.add(t,this),this._readyDeferred=Sa(),i.state?setTimeout((function(){r._studio||(r._readyDeferred.resolve(void 0),r._logger._trace("ready deferred resolved with no state"))}),0):setTimeout((function(){if(!r._studio){if("undefined"!==typeof window)throw new Error('Argument config.state in Theatre.getProject("'.concat(t,'", config) is empty. This is fine while you are using @theatre/core along with @theatre/studio. But since @theatre/studio is not loaded, the state of project "').concat(t,"\" will be empty.\n\nTo fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state\n"));console.warn('Argument config.state in Theatre.getProject("'.concat(t,"\", config) is empty. This is fine on SSR mode in development, but if you're creating a production bundle, make sure to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state"))}}),1e3)}return p(e,[{key:"attachToStudio",value:function(e){var t=this;if(this._studio){if(this._studio!==e)throw new Error("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));console.warn("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId))}else this._studio=e,e.initialized.then(a(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,gs(e,t,t.config.state);case 2:t._pointerProxies.historic.setPointer(e.atomP.historic.coreByProject[t.address.projectId]),t._pointerProxies.ahistoric.setPointer(e.atomP.ahistoric.coreByProject[t.address.projectId]),t._pointerProxies.ephemeral.setPointer(e.atomP.ephemeral.coreByProject[t.address.projectId]),t._readyDeferred.resolve(void 0);case 6:case"end":return n.stop()}}),n)}))))}},{key:"isAttachedToStudio",get:function(){return!!this._studio}},{key:"ready",get:function(){return this._readyDeferred.promise}},{key:"isReady",value:function(){return"resolved"===this._readyDeferred.status}},{key:"getOrCreateSheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=this._sheetTemplates.getState()[e];return n||(n=new yo(this,e),this._sheetTemplates.setIn([e],n)),n.getInstance(t)}}]),e}(),_s=function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e),V(this,new ws(t,n,this))}return p(e,[{key:"type",get:function(){return"Theatre_Project_PublicAPI"}},{key:"ready",get:function(){return U(this).ready}},{key:"isReady",get:function(){return U(this).isReady()}},{key:"address",get:function(){return M({},U(this).address)}},{key:"sheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=lo(e);return U(this).getOrCreateSheet(n,t).publicApi}}]),e}(),Ss=(I(j()),I(n(2114))),ks=I(n(2114));function Es(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=F.get(e);if(n)return n.publicApi;var r=xs(),i=r.named("Project",e);return t.state?(Ms(e,t.state),i._debug("deep validated config.state on disk")):i._debug("no config.state"),new _s(e,t)}var Ms=function(e,t){!function(e,t){if(Array.isArray(t)||null==t||t.definitionVersion!==ms.currentProjectStateDefinitionVersion)throw new xa("Error validating conf.state in Theatre.getProject(".concat(JSON.stringify(e),", conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://docs.theatrejs.com"))}(e,t)};function Ps(e,t){if((0,Ss.isPointer)(e))return(0,ks.valueDerivation)(e).tapImmediate(jt,t);if((0,ks.isDerivation)(e))return e.tapImmediate(jt,t);throw new Error("Called onChange(p) where p is neither a pointer nor a derivation.")}function Ts(e){if((0,Ss.isPointer)(e))return(0,ks.valueDerivation)(e).getValue();throw new Error("Called val(p) where p is not a pointer.")}var Cs="__TheatreJS_CoreBundle",As=function(){"use strict";function e(){f(this,e),R(this,"_studio")}return p(e,[{key:"type",get:function(){return"Theatre_CoreBundle"}},{key:"version",get:function(){return"0.5.0"}},{key:"getBitsForStudio",value:function(e,t){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=e,t({projectsP:F.atom.pointer.projects,privateAPI:U,coreExports:N})}}]),e}();!function(){if("undefined"==typeof window)return;var e=window[Cs];if("undefined"!==typeof e)throw"object"===typeof e&&e&&"string"===typeof e.version?new Error("It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:\n1. You might have two separate versions of Theatre.js in node_modules.\n2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.\n\nNote that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module."):new Error("The variable window.".concat(Cs," seems to be already set by a module other than @theatre/core."));var t=new As;window[Cs]=t;var n=window.__TheatreJS_StudioBundle;n&&null!==n&&"Theatre_StudioBundle"===n.type&&n.registerCoreBundle(t)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".761c5e60.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="three:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/three/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkthree=self.webpackChunkthree||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return Re},AddEquation:function(){return te},AddOperation:function(){return Pe},AdditiveAnimationBlendMode:function(){return an},AdditiveBlending:function(){return Z},AlphaFormat:function(){return ct},AlwaysDepth:function(){return ye},AlwaysStencilFunc:function(){return On},AmbientLight:function(){return Mf},AmbientLightProbe:function(){return Vf},AnimationClip:function(){return Xd},AnimationLoader:function(){return af},AnimationMixer:function(){return bp},AnimationObjectGroup:function(){return mp},AnimationUtils:function(){return Ld},ArcCurve:function(){return Zl},ArrayCamera:function(){return Tu},ArrowHelper:function(){return ch},Audio:function(){return ep},AudioAnalyser:function(){return op},AudioContext:function(){return Ff},AudioListener:function(){return Jf},AudioLoader:function(){return Bf},AxesHelper:function(){return dh},BackSide:function(){return K},BasicDepthPacking:function(){return dn},BasicShadowMap:function(){return V},Bone:function(){return ml},BooleanKeyframeTrack:function(){return Ud},Box2:function(){return Ip},Box3:function(){return Ur},Box3Helper:function(){return sh},BoxBufferGeometry:function(){return xh},BoxGeometry:function(){return Ua},BoxHelper:function(){return oh},BufferAttribute:function(){return ra},BufferGeometry:function(){return wa},BufferGeometryLoader:function(){return Of},ByteType:function(){return et},Cache:function(){return Zd},Camera:function(){return qa},CameraHelper:function(){return th},CanvasTexture:function(){return Xl},CapsuleBufferGeometry:function(){return wh},CapsuleGeometry:function(){return yc},CatmullRomCurve3:function(){return rc},CineonToneMapping:function(){return Ie},CircleBufferGeometry:function(){return _h},CircleGeometry:function(){return bc},ClampToEdgeWrapping:function(){return Ue},Clock:function(){return Kf},Color:function(){return kr},ColorKeyframeTrack:function(){return Vd},ColorManagement:function(){return mr},CompressedTexture:function(){return Kl},CompressedTextureLoader:function(){return of},ConeBufferGeometry:function(){return Sh},ConeGeometry:function(){return wc},CubeCamera:function(){return Ya},CubeReflectionMapping:function(){return Le},CubeRefractionMapping:function(){return je},CubeTexture:function(){return $a},CubeTextureLoader:function(){return uf},CubeUVReflectionMapping:function(){return Fe},CubicBezierCurve:function(){return sc},CubicBezierCurve3:function(){return uc},CubicInterpolant:function(){return Nd},CullFaceBack:function(){return F},CullFaceFront:function(){return B},CullFaceFrontBack:function(){return U},CullFaceNone:function(){return z},Curve:function(){return Yl},CurvePath:function(){return vc},CustomBlending:function(){return ee},CustomToneMapping:function(){return Oe},CylinderBufferGeometry:function(){return kh},CylinderGeometry:function(){return xc},Cylindrical:function(){return Cp},Data3DTexture:function(){return Dr},DataArrayTexture:function(){return Rr},DataTexture:function(){return gl},DataTexture2DArray:function(){return yh},DataTexture3D:function(){return bh},DataTextureLoader:function(){return lf},DataUtils:function(){return vh},DecrementStencilOp:function(){return _n},DecrementWrapStencilOp:function(){return kn},DefaultLoadingManager:function(){return Jd},DepthFormat:function(){return vt},DepthStencilFormat:function(){return mt},DepthTexture:function(){return Ru},DirectionalLight:function(){return Ef},DirectionalLightHelper:function(){return Qp},DiscreteInterpolant:function(){return Fd},DodecahedronBufferGeometry:function(){return Eh},DodecahedronGeometry:function(){return Sc},DoubleSide:function(){return X},DstAlphaFactor:function(){return fe},DstColorFactor:function(){return he},DynamicCopyUsage:function(){return Un},DynamicDrawUsage:function(){return Ln},DynamicReadUsage:function(){return zn},EdgesGeometry:function(){return Tc},EllipseCurve:function(){return $l},EqualDepth:function(){return we},EqualStencilFunc:function(){return Tn},EquirectangularReflectionMapping:function(){return Ne},EquirectangularRefractionMapping:function(){return ze},Euler:function(){return Ei},EventDispatcher:function(){return qn},ExtrudeBufferGeometry:function(){return Mh},ExtrudeGeometry:function(){return ad},FileLoader:function(){return rf},Float16BufferAttribute:function(){return da},Float32BufferAttribute:function(){return fa},Float64BufferAttribute:function(){return pa},FloatType:function(){return at},Fog:function(){return Uu},FogExp2:function(){return Bu},FramebufferTexture:function(){return ql},FrontSide:function(){return q},Frustum:function(){return io},GLBufferAttribute:function(){return kp},GLSL1:function(){return Hn},GLSL3:function(){return Wn},GreaterDepth:function(){return Se},GreaterEqualDepth:function(){return _e},GreaterEqualStencilFunc:function(){return Rn},GreaterStencilFunc:function(){return An},GridHelper:function(){return Kp},Group:function(){return Cu},HalfFloatType:function(){return ot},HemisphereLight:function(){return ff},HemisphereLightHelper:function(){return qp},HemisphereLightProbe:function(){return Uf},IcosahedronBufferGeometry:function(){return Ph},IcosahedronGeometry:function(){return sd},ImageBitmapLoader:function(){return zf},ImageLoader:function(){return sf},ImageUtils:function(){return Er},ImmediateRenderObject:function(){return mh},IncrementStencilOp:function(){return wn},IncrementWrapStencilOp:function(){return Sn},InstancedBufferAttribute:function(){return wl},InstancedBufferGeometry:function(){return Rf},InstancedInterleavedBuffer:function(){return Sp},InstancedMesh:function(){return Ml},Int16BufferAttribute:function(){return sa},Int32BufferAttribute:function(){return la},Int8BufferAttribute:function(){return ia},IntType:function(){return rt},InterleavedBuffer:function(){return Hu},InterleavedBufferAttribute:function(){return Gu},Interpolant:function(){return jd},InterpolateDiscrete:function(){return Zt},InterpolateLinear:function(){return Qt},InterpolateSmooth:function(){return Jt},InvertStencilOp:function(){return En},KeepStencilOp:function(){return bn},KeyframeTrack:function(){return Bd},LOD:function(){return ll},LatheBufferGeometry:function(){return Th},LatheGeometry:function(){return gc},Layers:function(){return Mi},LessDepth:function(){return be},LessEqualDepth:function(){return xe},LessEqualStencilFunc:function(){return Cn},LessStencilFunc:function(){return Pn},Light:function(){return df},LightProbe:function(){return Cf},Line:function(){return Ol},Line3:function(){return Dp},LineBasicMaterial:function(){return Pl},LineCurve:function(){return lc},LineCurve3:function(){return cc},LineDashedMaterial:function(){return Td},LineLoop:function(){return Nl},LineSegments:function(){return jl},LinearEncoding:function(){return ln},LinearFilter:function(){return Xe},LinearInterpolant:function(){return zd},LinearMipMapLinearFilter:function(){return Qe},LinearMipMapNearestFilter:function(){return $e},LinearMipmapLinearFilter:function(){return Ze},LinearMipmapNearestFilter:function(){return Ye},LinearSRGBColorSpace:function(){return gn},LinearToneMapping:function(){return Ce},Loader:function(){return ef},LoaderUtils:function(){return If},LoadingManager:function(){return Qd},LoopOnce:function(){return Xt},LoopPingPong:function(){return $t},LoopRepeat:function(){return Yt},LuminanceAlphaFormat:function(){return ht},LuminanceFormat:function(){return pt},MOUSE:function(){return j},Material:function(){return Ji},MaterialLoader:function(){return Af},MathUtils:function(){return or},Matrix3:function(){return ur},Matrix4:function(){return vi},MaxEquation:function(){return ae},Mesh:function(){return Fa},MeshBasicMaterial:function(){return ea},MeshDepthMaterial:function(){return _u},MeshDistanceMaterial:function(){return Su},MeshLambertMaterial:function(){return Md},MeshMatcapMaterial:function(){return Pd},MeshNormalMaterial:function(){return Ed},MeshPhongMaterial:function(){return Sd},MeshPhysicalMaterial:function(){return _d},MeshStandardMaterial:function(){return wd},MeshToonMaterial:function(){return kd},MinEquation:function(){return ie},MirroredRepeatWrapping:function(){return Ve},MixOperation:function(){return Me},MultiplyBlending:function(){return J},MultiplyOperation:function(){return Ee},NearestFilter:function(){return He},NearestMipMapLinearFilter:function(){return Ke},NearestMipMapNearestFilter:function(){return Ge},NearestMipmapLinearFilter:function(){return qe},NearestMipmapNearestFilter:function(){return We},NeverDepth:function(){return ge},NeverStencilFunc:function(){return Mn},NoBlending:function(){return Y},NoColorSpace:function(){return vn},NoToneMapping:function(){return Te},NormalAnimationBlendMode:function(){return rn},NormalBlending:function(){return $},NotEqualDepth:function(){return ke},NotEqualStencilFunc:function(){return In},NumberKeyframeTrack:function(){return Hd},Object3D:function(){return Bi},ObjectLoader:function(){return Df},ObjectSpaceNormalMap:function(){return hn},OctahedronBufferGeometry:function(){return Ch},OctahedronGeometry:function(){return ud},OneFactor:function(){return se},OneMinusDstAlphaFactor:function(){return pe},OneMinusDstColorFactor:function(){return ve},OneMinusSrcAlphaFactor:function(){return de},OneMinusSrcColorFactor:function(){return le},OrthographicCamera:function(){return yo},PCFShadowMap:function(){return H},PCFSoftShadowMap:function(){return W},PMREMGenerator:function(){return Po},Path:function(){return mc},PerspectiveCamera:function(){return Ka},Plane:function(){return to},PlaneBufferGeometry:function(){return Ah},PlaneGeometry:function(){return so},PlaneHelper:function(){return uh},PointLight:function(){return Sf},PointLightHelper:function(){return Vp},Points:function(){return Hl},PointsMaterial:function(){return zl},PolarGridHelper:function(){return Xp},PolyhedronBufferGeometry:function(){return Ih},PolyhedronGeometry:function(){return _c},PositionalAudio:function(){return ap},PropertyBinding:function(){return vp},PropertyMixer:function(){return sp},QuadraticBezierCurve:function(){return dc},QuadraticBezierCurve3:function(){return fc},Quaternion:function(){return Nr},QuaternionKeyframeTrack:function(){return Gd},QuaternionLinearInterpolant:function(){return Wd},REVISION:function(){return L},RGBADepthPacking:function(){return fn},RGBAFormat:function(){return ft},RGBAIntegerFormat:function(){return wt},RGBA_ASTC_10x10_Format:function(){return Wt},RGBA_ASTC_10x5_Format:function(){return Ut},RGBA_ASTC_10x6_Format:function(){return Vt},RGBA_ASTC_10x8_Format:function(){return Ht},RGBA_ASTC_12x10_Format:function(){return Gt},RGBA_ASTC_12x12_Format:function(){return qt},RGBA_ASTC_4x4_Format:function(){return Ot},RGBA_ASTC_5x4_Format:function(){return Dt},RGBA_ASTC_5x5_Format:function(){return Lt},RGBA_ASTC_6x5_Format:function(){return jt},RGBA_ASTC_6x6_Format:function(){return Nt},RGBA_ASTC_8x5_Format:function(){return zt},RGBA_ASTC_8x6_Format:function(){return Ft},RGBA_ASTC_8x8_Format:function(){return Bt},RGBA_BPTC_Format:function(){return Kt},RGBA_ETC2_EAC_Format:function(){return Rt},RGBA_PVRTC_2BPPV1_Format:function(){return Ct},RGBA_PVRTC_4BPPV1_Format:function(){return Tt},RGBA_S3TC_DXT1_Format:function(){return St},RGBA_S3TC_DXT3_Format:function(){return kt},RGBA_S3TC_DXT5_Format:function(){return Et},RGBFormat:function(){return dt},RGB_ETC1_Format:function(){return At},RGB_ETC2_Format:function(){return It},RGB_PVRTC_2BPPV1_Format:function(){return Pt},RGB_PVRTC_4BPPV1_Format:function(){return Mt},RGB_S3TC_DXT1_Format:function(){return _t},RGFormat:function(){return bt},RGIntegerFormat:function(){return xt},RawShaderMaterial:function(){return xd},Ray:function(){return hi},Raycaster:function(){return Ep},RectAreaLight:function(){return Pf},RedFormat:function(){return gt},RedIntegerFormat:function(){return yt},ReinhardToneMapping:function(){return Ae},RepeatWrapping:function(){return Be},ReplaceStencilOp:function(){return xn},ReverseSubtractEquation:function(){return re},RingBufferGeometry:function(){return Rh},RingGeometry:function(){return ld},SRGBColorSpace:function(){return mn},Scene:function(){return Vu},ShaderChunk:function(){return uo},ShaderLib:function(){return co},ShaderMaterial:function(){return Ga},ShadowMaterial:function(){return bd},Shape:function(){return Cc},ShapeBufferGeometry:function(){return Oh},ShapeGeometry:function(){return cd},ShapePath:function(){return fh},ShapeUtils:function(){return nd},ShortType:function(){return tt},Skeleton:function(){return xl},SkeletonHelper:function(){return Bp},SkinnedMesh:function(){return vl},Source:function(){return Mr},Sphere:function(){return oi},SphereBufferGeometry:function(){return Dh},SphereGeometry:function(){return dd},Spherical:function(){return Tp},SphericalHarmonics3:function(){return Tf},SplineCurve:function(){return pc},SpotLight:function(){return yf},SpotLightHelper:function(){return jp},Sprite:function(){return al},SpriteMaterial:function(){return qu},SrcAlphaFactor:function(){return ce},SrcAlphaSaturateFactor:function(){return me},SrcColorFactor:function(){return ue},StaticCopyUsage:function(){return Bn},StaticDrawUsage:function(){return Dn},StaticReadUsage:function(){return Nn},StereoCamera:function(){return qf},StreamCopyUsage:function(){return Vn},StreamDrawUsage:function(){return jn},StreamReadUsage:function(){return Fn},StringKeyframeTrack:function(){return qd},SubtractEquation:function(){return ne},SubtractiveBlending:function(){return Q},TOUCH:function(){return N},TangentSpaceNormalMap:function(){return pn},TetrahedronBufferGeometry:function(){return Lh},TetrahedronGeometry:function(){return fd},Texture:function(){return Cr},TextureLoader:function(){return cf},TorusBufferGeometry:function(){return jh},TorusGeometry:function(){return pd},TorusKnotBufferGeometry:function(){return Nh},TorusKnotGeometry:function(){return hd},Triangle:function(){return Zi},TriangleFanDrawMode:function(){return un},TriangleStripDrawMode:function(){return sn},TrianglesDrawMode:function(){return on},TubeBufferGeometry:function(){return zh},TubeGeometry:function(){return vd},UVMapping:function(){return De},Uint16BufferAttribute:function(){return ua},Uint32BufferAttribute:function(){return ca},Uint8BufferAttribute:function(){return aa},Uint8ClampedBufferAttribute:function(){return oa},Uniform:function(){return xp},UniformsGroup:function(){return _p},UniformsLib:function(){return lo},UniformsUtils:function(){return Wa},UnsignedByteType:function(){return Je},UnsignedInt248Type:function(){return lt},UnsignedIntType:function(){return it},UnsignedShort4444Type:function(){return st},UnsignedShort5551Type:function(){return ut},UnsignedShortType:function(){return nt},VSMShadowMap:function(){return G},Vector2:function(){return sr},Vector3:function(){return zr},Vector4:function(){return Ar},VectorKeyframeTrack:function(){return Kd},VideoTexture:function(){return Gl},WebGL1Renderer:function(){return zu},WebGL3DRenderTarget:function(){return Lr},WebGLArrayRenderTarget:function(){return Or},WebGLCubeRenderTarget:function(){return Za},WebGLMultipleRenderTargets:function(){return jr},WebGLMultisampleRenderTarget:function(){return gh},WebGLRenderTarget:function(){return Ir},WebGLRenderer:function(){return Nu},WebGLUtils:function(){return Pu},WireframeGeometry:function(){return md},WrapAroundEnding:function(){return nn},ZeroCurvatureEnding:function(){return en},ZeroFactor:function(){return oe},ZeroSlopeEnding:function(){return tn},ZeroStencilOp:function(){return yn},_SRGBAFormat:function(){return Gn},sRGBEncoding:function(){return cn}});var t,r=n(2791),i=n(1250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function p(){}function h(){}function v(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(M([])));y&&y!==t&&n.call(y,i)&&(m=y);var b=v.prototype=p.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(i,o,s,u){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,u)}))}u(l.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function M(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=v,l(b,"constructor",v),l(v,"constructor",h),h.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),l(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),l(b,u,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function s(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,u,"next",e)}function u(e){s(a,r,i,o,u,"throw",e)}o(void 0)}))}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function f(e){return function(e){if(Array.isArray(e))return l(e)}(e)||c(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){if(Array.isArray(e))return e}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){return m(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||d(e,t)||g()}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e,t,n){return S=_()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&w(i,n.prototype),i},S.apply(null,arguments)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function I(e){var t=_();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}function R(e){var t="function"===typeof Map?new Map:void 0;return R=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return S(e,arguments,T(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,e)},R(e)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function D(){return D="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=O(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},D.apply(this,arguments)}var L="145",j={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},N={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},z=0,F=1,B=2,U=3,V=0,H=1,W=2,G=3,q=0,K=1,X=2,Y=0,$=1,Z=2,Q=3,J=4,ee=5,te=100,ne=101,re=102,ie=103,ae=104,oe=200,se=201,ue=202,le=203,ce=204,de=205,fe=206,pe=207,he=208,ve=209,me=210,ge=0,ye=1,be=2,xe=3,we=4,_e=5,Se=6,ke=7,Ee=0,Me=1,Pe=2,Te=0,Ce=1,Ae=2,Ie=3,Re=4,Oe=5,De=300,Le=301,je=302,Ne=303,ze=304,Fe=306,Be=1e3,Ue=1001,Ve=1002,He=1003,We=1004,Ge=1004,qe=1005,Ke=1005,Xe=1006,Ye=1007,$e=1007,Ze=1008,Qe=1008,Je=1009,et=1010,tt=1011,nt=1012,rt=1013,it=1014,at=1015,ot=1016,st=1017,ut=1018,lt=1020,ct=1021,dt=1022,ft=1023,pt=1024,ht=1025,vt=1026,mt=1027,gt=1028,yt=1029,bt=1030,xt=1031,wt=1033,_t=33776,St=33777,kt=33778,Et=33779,Mt=35840,Pt=35841,Tt=35842,Ct=35843,At=36196,It=37492,Rt=37496,Ot=37808,Dt=37809,Lt=37810,jt=37811,Nt=37812,zt=37813,Ft=37814,Bt=37815,Ut=37816,Vt=37817,Ht=37818,Wt=37819,Gt=37820,qt=37821,Kt=36492,Xt=2200,Yt=2201,$t=2202,Zt=2300,Qt=2301,Jt=2302,en=2400,tn=2401,nn=2402,rn=2500,an=2501,on=0,sn=1,un=2,ln=3e3,cn=3001,dn=3200,fn=3201,pn=0,hn=1,vn="",mn="srgb",gn="srgb-linear",yn=0,bn=7680,xn=7681,wn=7682,_n=7683,Sn=34055,kn=34056,En=5386,Mn=512,Pn=513,Tn=514,Cn=515,An=516,In=517,Rn=518,On=519,Dn=35044,Ln=35048,jn=35040,Nn=35045,zn=35049,Fn=35041,Bn=35046,Un=35050,Vn=35042,Hn="100",Wn="300 es",Gn=1035,qn=function(){function e(){k(this,e)}return M(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Kn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Xn=1234567,Yn=Math.PI/180,$n=180/Math.PI;function Zn(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Kn[255&e]+Kn[e>>8&255]+Kn[e>>16&255]+Kn[e>>24&255]+"-"+Kn[255&t]+Kn[t>>8&255]+"-"+Kn[t>>16&15|64]+Kn[t>>24&255]+"-"+Kn[63&n|128]+Kn[n>>8&255]+"-"+Kn[n>>16&255]+Kn[n>>24&255]+Kn[255&r]+Kn[r>>8&255]+Kn[r>>16&255]+Kn[r>>24&255]).toLowerCase()}function Qn(e,t,n){return Math.max(t,Math.min(n,e))}function Jn(e,t){return(e%t+t)%t}function er(e,t,n){return(1-n)*e+n*t}function tr(e){return 0===(e&e-1)&&0!==e}function nr(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function rr(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function ir(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function ar(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var or=Object.freeze({__proto__:null,DEG2RAD:Yn,RAD2DEG:$n,generateUUID:Zn,clamp:Qn,euclideanModulo:Jn,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:er,damp:function(e,t,n,r){return er(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Jn(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Xn=e);var t=Xn+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Yn},radToDeg:function(e){return e*$n},isPowerOfTwo:tr,ceilPowerOfTwo:nr,floorPowerOfTwo:rr,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),u=o(n/2),l=a((t+r)/2),c=o((t+r)/2),d=a((t-r)/2),f=o((t-r)/2),p=a((r-t)/2),h=o((r-t)/2);switch(i){case"XYX":e.set(s*c,u*d,u*f,s*l);break;case"YZY":e.set(u*f,s*c,u*d,s*l);break;case"ZXZ":e.set(u*d,u*f,s*c,s*l);break;case"XZX":e.set(s*c,u*h,u*p,s*l);break;case"YXY":e.set(u*p,s*c,u*h,s*l);break;case"ZYZ":e.set(u*h,u*p,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:ar,denormalize:ir}),sr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;k(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return M(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),ur=function(){function e(){k(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return M(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],d=n[2],f=n[5],p=n[8],h=r[0],v=r[3],m=r[6],g=r[1],y=r[4],b=r[7],x=r[2],w=r[5],_=r[8];return i[0]=a*h+o*g+s*x,i[3]=a*v+o*y+s*w,i[6]=a*m+o*b+s*_,i[1]=u*h+l*g+c*x,i[4]=u*v+l*y+c*w,i[7]=u*m+l*b+c*_,i[2]=d*h+f*g+p*x,i[5]=d*v+f*y+p*w,i[8]=d*m+f*b+p*_,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,d=o*s-l*i,f=u*i-a*s,p=t*c+n*d+r*f;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);var h=1/p;return e[0]=c*h,e[1]=(r*u-l*n)*h,e[2]=(o*n-r*a)*h,e[3]=d*h,e[4]=(l*t-r*s)*h,e[5]=(r*i-o*t)*h,e[6]=f*h,e[7]=(n*s-u*t)*h,e[8]=(a*t-n*i)*h,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*u,r[6]=t*o+n*l,r[1]=-n*i+t*s,r[4]=-n*a+t*u,r[7]=-n*o+t*l,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function lr(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var cr={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function dr(e,t){return new cr[e](t)}function fr(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function pr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function hr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var vr=(p(t={},mn,p({},gn,pr)),p(t,gn,p({},mn,hr)),t),mr={legacyMode:!0,get workingColorSpace(){return gn},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(vr[t]&&void 0!==vr[t][n]){var r=vr[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},gr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yr={r:0,g:0,b:0},br={h:0,s:0,l:0},xr={h:0,s:0,l:0};function wr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function _r(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var Sr,kr=function(e){function t(e,n,r){return k(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(e):this.setRGB(e,n,r)}return M(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,mr.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gn;return this.r=e,this.g=t,this.b=n,mr.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gn;if(e=Jn(e,1),t=Qn(t,0,1),n=Qn(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=wr(a,i,e+1/3),this.g=wr(a,i,e),this.b=wr(a,i,e-1/3)}return mr.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,mr.toWorkingColorSpace(this,n),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,mr.toWorkingColorSpace(this,n),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(i[1])/360,u=parseFloat(i[2])/100,l=parseFloat(i[3])/100;return r(i[4]),this.setHSL(s,u,l,n)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,mr.toWorkingColorSpace(this,n),this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,mr.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn,n=gr[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=pr(e.r),this.g=pr(e.g),this.b=pr(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=hr(e.r),this.g=hr(e.g),this.b=hr(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn;return mr.fromWorkingColorSpace(_r(this,yr),e),Qn(255*yr.r,0,255)<<16^Qn(255*yr.g,0,255)<<8^Qn(255*yr.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;mr.fromWorkingColorSpace(_r(this,yr),t);var n,r,i=yr.r,a=yr.g,o=yr.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)n=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;return mr.fromWorkingColorSpace(_r(this,yr),t),e.r=yr.r,e.g=yr.g,e.b=yr.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn;return mr.fromWorkingColorSpace(_r(this,yr),e),e!==mn?"color(".concat(e," ").concat(yr.r," ").concat(yr.g," ").concat(yr.b,")"):"rgb(".concat(255*yr.r|0,",").concat(255*yr.g|0,",").concat(255*yr.b|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(br),br.h+=e,br.s+=t,br.l+=n,this.setHSL(br.h,br.s,br.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(br),e.getHSL(xr);var n=er(br.h,xr.h,t),r=er(br.s,xr.s,t),i=er(br.l,xr.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}();kr.NAMES=gr;var Er=function(){function e(){k(this,e)}return M(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Sr&&(Sr=fr("canvas")),Sr.width=e.width,Sr.height=e.height;var n=Sr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Sr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=fr("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*pr(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*pr(o[s]/255)):o[s]=pr(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Mr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;k(this,e),this.isSource=!0,this.uuid=Zn(),this.data=t,this.version=0}return M(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(Pr(r[a].image)):i.push(Pr(r[a]))}else i=Pr(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function Pr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Er.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Tr=0,Cr=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ue,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ue,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xe,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ze,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ft,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Je,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:ln;return k(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(C(e),"id",{value:Tr++}),e.uuid=Zn(),e.name="",e.source=new Mr(r),e.mipmaps=[],e.mapping=i,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=d,e.format=l,e.internalFormat=null,e.type=c,e.offset=new sr(0,0),e.repeat=new sr(1,1),e.center=new sr(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new ur,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=f,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return M(n,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==De)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Be:e.x=e.x-Math.floor(e.x);break;case Ue:e.x=e.x<0?0:1;break;case Ve:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Be:e.y=e.y-Math.floor(e.y);break;case Ue:e.y=e.y<0?0:1;break;case Ve:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(qn);Cr.DEFAULT_IMAGE=null,Cr.DEFAULT_MAPPING=De;var Ar=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;k(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return M(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],d=s[1],f=s[5],p=s[9],h=s[2],v=s[6],m=s[10];if(Math.abs(l-d)<a&&Math.abs(c-h)<a&&Math.abs(p-v)<a){if(Math.abs(l+d)<o&&Math.abs(c+h)<o&&Math.abs(p+v)<o&&Math.abs(u+f+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(f+1)/2,b=(m+1)/2,x=(l+d)/4,w=(c+h)/4,_=(p+v)/4;return g>y&&g>b?g<a?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(g)),i=w/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=_/r):b<a?(n=.707106781,r=.707106781,i=0):(n=w/(i=Math.sqrt(b)),r=_/i),this.set(n,r,i,t),this}var S=Math.sqrt((v-p)*(v-p)+(c-h)*(c-h)+(d-l)*(d-l));return Math.abs(S)<.001&&(S=1),this.x=(v-p)/S,this.y=(c-h)/S,this.z=(d-l)/S,this.w=Math.acos((u+f+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),Ir=function(e){P(n,e);var t=I(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k(this,n),(i=t.call(this)).isWebGLRenderTarget=!0,i.width=e,i.height=r,i.depth=1,i.scissor=new Ar(0,0,e,r),i.scissorTest=!1,i.viewport=new Ar(0,0,e,r);var o={width:e,height:r,depth:1};return i.texture=new Cr(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),i.texture.isRenderTargetTexture=!0,i.texture.flipY=!1,i.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,i.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,i.texture.minFilter=void 0!==a.minFilter?a.minFilter:Xe,i.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,i.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,i.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,i.samples=void 0!==a.samples?a.samples:0,i}return M(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Mr(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(qn),Rr=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return k(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=He,e.minFilter=He,e.wrapR=Ue,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return M(n)}(Cr),Or=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,e,r)).isWebGLArrayRenderTarget=!0,a.depth=i,a.texture=new Rr(null,e,r,i),a.texture.isRenderTargetTexture=!0,a}return M(n)}(Ir),Dr=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return k(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=He,e.minFilter=He,e.wrapR=Ue,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return M(n)}(Cr),Lr=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,e,r)).isWebGL3DRenderTarget=!0,a.depth=i,a.texture=new Dr(null,e,r,i),a.texture.isRenderTargetTexture=!0,a}return M(n)}(Ir),jr=function(e){P(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};k(this,n),(a=t.call(this,e,r,o)).isWebGLMultipleRenderTargets=!0;var s=a.texture;a.texture=[];for(var u=0;u<i;u++)a.texture[u]=s.clone(),a.texture[u].isRenderTargetTexture=!0;return a}return M(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}]),n}(Ir),Nr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;k(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return M(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),d=s(n/2),f=s(r/2),p=s(i/2);switch(a){case"XYZ":this._x=d*l*c+u*f*p,this._y=u*f*c-d*l*p,this._z=u*l*p+d*f*c,this._w=u*l*c-d*f*p;break;case"YXZ":this._x=d*l*c+u*f*p,this._y=u*f*c-d*l*p,this._z=u*l*p-d*f*c,this._w=u*l*c+d*f*p;break;case"ZXY":this._x=d*l*c-u*f*p,this._y=u*f*c+d*l*p,this._z=u*l*p+d*f*c,this._w=u*l*c-d*f*p;break;case"ZYX":this._x=d*l*c-u*f*p,this._y=u*f*c+d*l*p,this._z=u*l*p-d*f*c,this._w=u*l*c+d*f*p;break;case"YZX":this._x=d*l*c+u*f*p,this._y=u*f*c+d*l*p,this._z=u*l*p-d*f*c,this._w=u*l*c-d*f*p;break;case"XZY":this._x=d*l*c-u*f*p,this._y=u*f*c-d*l*p,this._z=u*l*p+d*f*c,this._w=u*l*c+d*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],d=n+o+c;if(d>0){var f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(l-s)*f,this._y=(i-u)*f,this._z=(a-r)*f}else if(n>o&&n>c){var p=2*Math.sqrt(1+n-o-c);this._w=(l-s)/p,this._x=.25*p,this._y=(r+a)/p,this._z=(i+u)/p}else if(o>c){var h=2*Math.sqrt(1+o-n-c);this._w=(i-u)/h,this._x=(r+a)/h,this._y=.25*h,this._z=(s+l)/h}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+u)/v,this._y=(s+l)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Qn(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),d=Math.sin((1-t)*c)/l,f=Math.sin(t*c)/l;return this._w=a*d+this._w*f,this._x=n*d+this._x*f,this._y=r*d+this._y*f,this._z=i*d+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],d=i[a+0],f=i[a+1],p=i[a+2],h=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=d,e[t+1]=f,e[t+2]=p,void(e[t+3]=h);if(c!==h||s!==d||u!==f||l!==p){var v=1-o,m=s*d+u*f+l*p+c*h,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,m*g);v=Math.sin(v*x)/b,o=Math.sin(o*x)/b}var w=o*g;if(s=s*v+d*w,u=u*v+f*w,l=l*v+p*w,c=c*v+h*w,v===1-o){var _=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=_,u*=_,l*=_,c*=_}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],d=i[a+1],f=i[a+2],p=i[a+3];return e[t]=o*p+l*c+s*f-u*d,e[t+1]=s*p+l*d+u*c-o*f,e[t+2]=u*p+l*f+o*d-s*c,e[t+3]=l*p-o*c-s*d-u*f,e}}]),t}(),zr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;k(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return M(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(Br.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Br.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=u*s+d*-i+l*-o-c*-a,this.y=l*s+d*-a+c*-i-u*-o,this.z=c*s+d*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Fr.copy(this).projectOnVector(e),this.sub(Fr)}},{key:"reflect",value:function(e){return this.sub(Fr.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Qn(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Fr=new zr,Br=new Nr,Ur=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zr(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr(-1/0,-1/0,-1/0);k(this,e),this.isBox3=!0,this.min=t,this.max=n}return M(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],d=e[s+2];l<t&&(t=l),c<n&&(n=c),d<r&&(r=d),l>i&&(i=l),c>a&&(a=c),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),d=e.getZ(s);l<t&&(t=l),c<n&&(n=c),d<r&&(r=d),l>i&&(i=l),c>a&&(a=c),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Hr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)Hr.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Hr);else null===n.boundingBox&&n.computeBoundingBox(),Wr.copy(n.boundingBox),Wr.applyMatrix4(e.matrixWorld),this.union(Wr);for(var o=e.children,s=0,u=o.length;s<u;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Hr),Hr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Zr),Qr.subVectors(this.max,Zr),Gr.subVectors(e.a,Zr),qr.subVectors(e.b,Zr),Kr.subVectors(e.c,Zr),Xr.subVectors(qr,Gr),Yr.subVectors(Kr,qr),$r.subVectors(Gr,Kr);var t=[0,-Xr.z,Xr.y,0,-Yr.z,Yr.y,0,-$r.z,$r.y,Xr.z,0,-Xr.x,Yr.z,0,-Yr.x,$r.z,0,-$r.x,-Xr.y,Xr.x,0,-Yr.y,Yr.x,0,-$r.y,$r.x,0];return!!ti(t,Gr,qr,Kr,Qr)&&(!!ti(t=[1,0,0,0,1,0,0,0,1],Gr,qr,Kr,Qr)&&(Jr.crossVectors(Xr,Yr),ti(t=[Jr.x,Jr.y,Jr.z],Gr,qr,Kr,Qr)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Hr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Hr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Vr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Vr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Vr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Vr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Vr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Vr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Vr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Vr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Vr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Vr=[new zr,new zr,new zr,new zr,new zr,new zr,new zr,new zr],Hr=new zr,Wr=new Ur,Gr=new zr,qr=new zr,Kr=new zr,Xr=new zr,Yr=new zr,$r=new zr,Zr=new zr,Qr=new zr,Jr=new zr,ei=new zr;function ti(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){ei.fromArray(e,a);var s=i.x*Math.abs(ei.x)+i.y*Math.abs(ei.y)+i.z*Math.abs(ei.z),u=t.dot(ei),l=n.dot(ei),c=r.dot(ei);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var ni=new Ur,ri=new zr,ii=new zr,ai=new zr,oi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;k(this,e),this.center=t,this.radius=n}return M(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):ni.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ai.subVectors(e,this.center);var t=ai.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(ai.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?ii.set(0,0,1).multiplyScalar(e.radius):ii.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(ri.copy(e.center).add(ii)),this.expandByPoint(ri.copy(e.center).sub(ii)),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),si=new zr,ui=new zr,li=new zr,ci=new zr,di=new zr,fi=new zr,pi=new zr,hi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr(0,0,-1);k(this,e),this.origin=t,this.direction=n}return M(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,si)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=si.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(si.copy(this.direction).multiplyScalar(t).add(this.origin),si.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){ui.copy(e).add(t).multiplyScalar(.5),li.copy(t).sub(e).normalize(),ci.copy(this.origin).sub(ui);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(li),c=ci.dot(this.direction),d=-ci.dot(li),f=ci.lengthSq(),p=Math.abs(1-l*l);if(p>0)if(a=l*c-d,s=u*p,(i=l*d-c)>=0)if(a>=-s)if(a<=s){var h=1/p;o=(i*=h)*(i+l*(a*=h)+2*c)+a*(l*i+a+2*d)+f}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*d)+f;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*d)+f;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-d),u))*(a+2*d)+f:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-d),u))*(a+2*d)+f):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-d),u))*(a+2*d)+f;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*d)+f;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(li).multiplyScalar(a).add(ui),o}},{key:"intersectSphere",value:function(e,t){si.subVectors(e.center,this.origin);var n=si.dot(this.direction),r=si.dot(si)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,d=this.origin;return u>=0?(n=(e.min.x-d.x)*u,r=(e.max.x-d.x)*u):(n=(e.max.x-d.x)*u,r=(e.min.x-d.x)*u),l>=0?(i=(e.min.y-d.y)*l,a=(e.max.y-d.y)*l):(i=(e.max.y-d.y)*l,a=(e.min.y-d.y)*l),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,si)}},{key:"intersectTriangle",value:function(e,t,n,r,i){di.subVectors(t,e),fi.subVectors(n,e),pi.crossVectors(di,fi);var a,o=this.direction.dot(pi);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ci.subVectors(this.origin,e);var s=a*this.direction.dot(fi.crossVectors(ci,fi));if(s<0)return null;var u=a*this.direction.dot(di.cross(ci));if(u<0)return null;if(s+u>o)return null;var l=-a*ci.dot(pi);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),vi=function(){function e(){k(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return M(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,d,f,p,h,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=d,m[3]=f,m[7]=p,m[11]=h,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/mi.setFromMatrixColumn(e,0).length(),i=1/mi.setFromMatrixColumn(e,1).length(),a=1/mi.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var d=a*l,f=a*c,p=o*l,h=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=f+p*u,t[5]=d-h*u,t[9]=-o*s,t[2]=h-d*u,t[6]=p+f*u,t[10]=a*s}else if("YXZ"===e.order){var v=s*l,m=s*c,g=u*l,y=u*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*l,x=s*c,w=u*l,_=u*c;t[0]=b-_*o,t[4]=-a*c,t[8]=w+x*o,t[1]=x+w*o,t[5]=a*l,t[9]=_-b*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*l,k=a*c,E=o*l,M=o*c;t[0]=s*l,t[4]=E*u-k,t[8]=S*u+M,t[1]=s*c,t[5]=M*u+S,t[9]=k*u-E,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var P=a*s,T=a*u,C=o*s,A=o*u;t[0]=s*l,t[4]=A-P*c,t[8]=C*c+T,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=T*c+C,t[10]=P-A*c}else if("XZY"===e.order){var I=a*s,R=a*u,O=o*s,D=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=I*c+D,t[5]=a*l,t[9]=R*c-O,t[2]=O*c-R,t[6]=o*l,t[10]=D*c+I}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(yi,e,bi)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return _i.subVectors(e,t),0===_i.lengthSq()&&(_i.z=1),_i.normalize(),xi.crossVectors(n,_i),0===xi.lengthSq()&&(1===Math.abs(n.z)?_i.x+=1e-4:_i.z+=1e-4,_i.normalize(),xi.crossVectors(n,_i)),xi.normalize(),wi.crossVectors(_i,xi),r[0]=xi.x,r[4]=wi.x,r[8]=_i.x,r[1]=xi.y,r[5]=wi.y,r[9]=_i.y,r[2]=xi.z,r[6]=wi.z,r[10]=_i.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],d=n[9],f=n[13],p=n[2],h=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],x=n[15],w=r[0],_=r[4],S=r[8],k=r[12],E=r[1],M=r[5],P=r[9],T=r[13],C=r[2],A=r[6],I=r[10],R=r[14],O=r[3],D=r[7],L=r[11],j=r[15];return i[0]=a*w+o*E+s*C+u*O,i[4]=a*_+o*M+s*A+u*D,i[8]=a*S+o*P+s*I+u*L,i[12]=a*k+o*T+s*R+u*j,i[1]=l*w+c*E+d*C+f*O,i[5]=l*_+c*M+d*A+f*D,i[9]=l*S+c*P+d*I+f*L,i[13]=l*k+c*T+d*R+f*j,i[2]=p*w+h*E+v*C+m*O,i[6]=p*_+h*M+v*A+m*D,i[10]=p*S+h*P+v*I+m*L,i[14]=p*k+h*T+v*R+m*j,i[3]=g*w+y*E+b*C+x*O,i[7]=g*_+y*M+b*A+x*D,i[11]=g*S+y*P+b*I+x*L,i[15]=g*k+y*T+b*R+x*j,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],d=e[10],f=e[14];return e[3]*(+i*s*c-r*u*c-i*o*d+n*u*d+r*o*f-n*s*f)+e[7]*(+t*s*f-t*u*d+i*a*d-r*a*f+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*f-i*a*c+n*a*f+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*d+r*a*c-n*a*d+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],d=e[10],f=e[11],p=e[12],h=e[13],v=e[14],m=e[15],g=c*v*u-h*d*u+h*s*f-o*v*f-c*s*m+o*d*m,y=p*d*u-l*v*u-p*s*f+a*v*f+l*s*m-a*d*m,b=l*h*u-p*c*u+p*o*f-a*h*f-l*o*m+a*c*m,x=p*c*s-l*h*s-p*o*d+a*h*d+l*o*v-a*c*v,w=t*g+n*y+r*b+i*x;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var _=1/w;return e[0]=g*_,e[1]=(h*d*i-c*v*i-h*r*f+n*v*f+c*r*m-n*d*m)*_,e[2]=(o*v*i-h*s*i+h*r*u-n*v*u-o*r*m+n*s*m)*_,e[3]=(c*s*i-o*d*i-c*r*u+n*d*u+o*r*f-n*s*f)*_,e[4]=y*_,e[5]=(l*v*i-p*d*i+p*r*f-t*v*f-l*r*m+t*d*m)*_,e[6]=(p*s*i-a*v*i-p*r*u+t*v*u+a*r*m-t*s*m)*_,e[7]=(a*d*i-l*s*i+l*r*u-t*d*u-a*r*f+t*s*f)*_,e[8]=b*_,e[9]=(p*c*i-l*h*i-p*n*f+t*h*f+l*n*m-t*c*m)*_,e[10]=(a*h*i-p*o*i+p*n*u-t*h*u-a*n*m+t*o*m)*_,e[11]=(l*o*i-a*c*i-l*n*u+t*c*u+a*n*f-t*o*f)*_,e[12]=x*_,e[13]=(l*h*r-p*c*r+p*n*d-t*h*d-l*n*v+t*c*v)*_,e[14]=(p*o*r-a*h*r-p*n*s+t*h*s+a*n*v-t*o*v)*_,e[15]=(a*c*r-l*o*r+l*n*s-t*c*s-a*n*d+t*o*d)*_,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,d=i*u,f=i*l,p=i*c,h=a*l,v=a*c,m=o*c,g=s*u,y=s*l,b=s*c,x=n.x,w=n.y,_=n.z;return r[0]=(1-(h+m))*x,r[1]=(f+b)*x,r[2]=(p-y)*x,r[3]=0,r[4]=(f-b)*w,r[5]=(1-(d+m))*w,r[6]=(v+g)*w,r[7]=0,r[8]=(p+y)*_,r[9]=(v-g)*_,r[10]=(1-(d+h))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=mi.set(r[0],r[1],r[2]).length(),a=mi.set(r[4],r[5],r[6]).length(),o=mi.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],gi.copy(this);var s=1/i,u=1/a,l=1/o;return gi.elements[0]*=s,gi.elements[1]*=s,gi.elements[2]*=s,gi.elements[4]*=u,gi.elements[5]*=u,gi.elements[6]*=u,gi.elements[8]*=l,gi.elements[9]*=l,gi.elements[10]*=l,t.setFromRotationMatrix(gi),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o=this.elements,s=2*i/(t-e),u=2*i/(n-r),l=(t+e)/(t-e),c=(n+r)/(n-r),d=-(a+i)/(a-i),f=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),u=1/(n-r),l=1/(a-i),c=(t+e)*s,d=(n+r)*u,f=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),mi=new zr,gi=new vi,yi=new zr(0,0,0),bi=new zr(1,1,1),xi=new zr,wi=new zr,_i=new zr,Si=new vi,ki=new Nr,Ei=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;k(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return M(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],u=r[5],l=r[9],c=r[2],d=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(Qn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Qn(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Qn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Qn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Qn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Si.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Si,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return ki.setFromEuler(this),this.setFromQuaternion(ki,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))},{key:"toVector3",value:function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}]),t}();Ei.DefaultOrder="XYZ",Ei.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Mi=function(){function e(){k(this,e),this.mask=1}return M(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Pi=0,Ti=new zr,Ci=new Nr,Ai=new vi,Ii=new zr,Ri=new zr,Oi=new zr,Di=new Nr,Li=new zr(1,0,0),ji=new zr(0,1,0),Ni=new zr(0,0,1),zi={type:"added"},Fi={type:"removed"},Bi=function(e){P(n,e);var t=I(n);function n(){var e;k(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(C(e),"id",{value:Pi++}),e.uuid=Zn(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new zr,i=new Ei,a=new Nr,o=new zr(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(C(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new vi},normalMatrix:{value:new ur}}),e.matrix=new vi,e.matrixWorld=new vi,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DefaultMatrixWorldAutoUpdate,e.layers=new Mi,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return M(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Ci.setFromAxisAngle(e,t),this.quaternion.multiply(Ci),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Ci.setFromAxisAngle(e,t),this.quaternion.premultiply(Ci),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Li,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(ji,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Ni,e)}},{key:"translateOnAxis",value:function(e,t){return Ti.copy(e).applyQuaternion(this.quaternion),this.position.add(Ti.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Li,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(ji,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Ni,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(Ai.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Ii.copy(e):Ii.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Ri.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ai.lookAt(Ri,Ii,this.up):Ai.lookAt(Ii,Ri,this.up),this.quaternion.setFromRotationMatrix(Ai),r&&(Ai.extractRotation(r.matrixWorld),Ci.setFromRotationMatrix(Ai),this.quaternion.premultiply(Ci.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(zi)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Fi)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Fi)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Ai.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Ai.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ai),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ri,e,Oi),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ri,Di,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],d=0,f=this.material.length;d<f;d++)c.push(i(e.materials,this.material[d]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var p=0;p<this.children.length;p++)r.children.push(this.children[p].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var h=0;h<this.animations.length;h++){var v=this.animations[h];r.animations.push(i(e.animations,v))}}if(t){var m=k(e.geometries),g=k(e.materials),y=k(e.textures),b=k(e.images),x=k(e.shapes),w=k(e.skeletons),_=k(e.animations),S=k(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),x.length>0&&(n.shapes=x),w.length>0&&(n.skeletons=w),_.length>0&&(n.animations=_),S.length>0&&(n.nodes=S)}return n.object=r,n;function k(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(qn);Bi.DefaultUp=new zr(0,1,0),Bi.DefaultMatrixAutoUpdate=!0,Bi.DefaultMatrixWorldAutoUpdate=!0;var Ui=new zr,Vi=new zr,Hi=new zr,Wi=new zr,Gi=new zr,qi=new zr,Ki=new zr,Xi=new zr,Yi=new zr,$i=new zr,Zi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new zr;k(this,e),this.a=t,this.b=n,this.c=r}return M(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Ui.subVectors(this.c,this.b),Vi.subVectors(this.a,this.b),.5*Ui.cross(Vi).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Gi.subVectors(a,i),qi.subVectors(o,i),Xi.subVectors(e,i);var s=Gi.dot(Xi),u=qi.dot(Xi);if(s<=0&&u<=0)return t.copy(i);Yi.subVectors(e,a);var l=Gi.dot(Yi),c=qi.dot(Yi);if(l>=0&&c<=l)return t.copy(a);var d=s*c-l*u;if(d<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(Gi,n);$i.subVectors(e,o);var f=Gi.dot($i),p=qi.dot($i);if(p>=0&&f<=p)return t.copy(o);var h=f*u-s*p;if(h<=0&&u>=0&&p<=0)return r=u/(u-p),t.copy(i).addScaledVector(qi,r);var v=l*p-f*c;if(v<=0&&c-l>=0&&f-p>=0)return Ki.subVectors(o,a),r=(c-l)/(c-l+(f-p)),t.copy(a).addScaledVector(Ki,r);var m=1/(v+h+d);return n=h*m,r=d*m,t.copy(i).addScaledVector(Gi,n).addScaledVector(qi,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Ui.subVectors(e,t),r.cross(Ui);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Ui.subVectors(r,t),Vi.subVectors(n,t),Hi.subVectors(e,t);var a=Ui.dot(Ui),o=Ui.dot(Vi),s=Ui.dot(Hi),u=Vi.dot(Vi),l=Vi.dot(Hi),c=a*u-o*o;if(0===c)return i.set(-2,-1,-1);var d=1/c,f=(u*s-o*l)*d,p=(a*l-o*s)*d;return i.set(1-f-p,p,f)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Wi),Wi.x>=0&&Wi.y>=0&&Wi.x+Wi.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Wi),s.set(0,0),s.addScaledVector(i,Wi.x),s.addScaledVector(a,Wi.y),s.addScaledVector(o,Wi.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Ui.subVectors(n,t),Vi.subVectors(e,t),Ui.cross(Vi).dot(r)<0}}]),e}(),Qi=0,Ji=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(C(e),"id",{value:Qi++}),e.uuid=Zn(),e.name="",e.type="Material",e.blending=$,e.side=q,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=ce,e.blendDst=de,e.blendEquation=te,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=xe,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=On,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=bn,e.stencilZFail=bn,e.stencilZPass=bn,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return M(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==$&&(n.blending=this.blending),this.side!==q&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(qn),ea=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new kr(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Ee,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Ji),ta=new zr,na=new sr,ra=function(){function e(t,n,r){if(k(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=Dn,this.updateRange={offset:0,count:-1},this.version=0}return M(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)na.fromBufferAttribute(this,t),na.applyMatrix3(e),this.setXY(t,na.x,na.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)ta.fromBufferAttribute(this,r),ta.applyMatrix3(e),this.setXYZ(r,ta.x,ta.y,ta.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)ta.fromBufferAttribute(this,t),ta.applyMatrix4(e),this.setXYZ(t,ta.x,ta.y,ta.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)ta.fromBufferAttribute(this,t),ta.applyNormalMatrix(e),this.setXYZ(t,ta.x,ta.y,ta.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)ta.fromBufferAttribute(this,t),ta.transformDirection(e),this.setXYZ(t,ta.x,ta.y,ta.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=ir(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=ar(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=ir(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=ar(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=ir(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=ar(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=ir(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=ar(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=ar(t,this.array),n=ar(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=ar(t,this.array),n=ar(n,this.array),r=ar(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=ar(t,this.array),n=ar(n,this.array),r=ar(r,this.array),i=ar(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Dn&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),ia=function(e){P(n,e);var t=I(n);function n(e,r,i){return k(this,n),t.call(this,new Int8Array(e),r,i)}return M(n)}(ra),aa=function(e){P(n,e);var t=I(n);function n(e,r,i){return k(this,n),t.call(this,new Uint8Array(e),r,i)}return M(n)}(ra),oa=function(e){P(n,e);var t=I(n);function n(e,r,i){return k(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return M(n)}(ra),sa=function(e){P(n,e);var t=I(n);function n(e,r,i){return k(this,n),t.call(this,new Int16Array(e),r,i)}return M(n)}(ra),ua=function(e){P(n,e);var t=I(n);function n(e,r,i){return k(this,n),t.call(this,new Uint16Array(e),r,i)}return M(n)}(ra),la=function(e){P(n,e);var t=I(n);function n(e,r,i){return k(this,n),t.call(this,new Int32Array(e),r,i)}return M(n)}(ra),ca=function(e){P(n,e);var t=I(n);function n(e,r,i){return k(this,n),t.call(this,new Uint32Array(e),r,i)}return M(n)}(ra),da=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,new Uint16Array(e),r,i)).isFloat16BufferAttribute=!0,a}return M(n)}(ra),fa=function(e){P(n,e);var t=I(n);function n(e,r,i){return k(this,n),t.call(this,new Float32Array(e),r,i)}return M(n)}(ra),pa=function(e){P(n,e);var t=I(n);function n(e,r,i){return k(this,n),t.call(this,new Float64Array(e),r,i)}return M(n)}(ra),ha=0,va=new vi,ma=new Bi,ga=new zr,ya=new Ur,ba=new Ur,xa=new zr,wa=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(C(e),"id",{value:ha++}),e.uuid=Zn(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return M(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(lr(e)?ca:ua)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new ur).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return va.makeRotationFromQuaternion(e),this.applyMatrix4(va),this}},{key:"rotateX",value:function(e){return va.makeRotationX(e),this.applyMatrix4(va),this}},{key:"rotateY",value:function(e){return va.makeRotationY(e),this.applyMatrix4(va),this}},{key:"rotateZ",value:function(e){return va.makeRotationZ(e),this.applyMatrix4(va),this}},{key:"translate",value:function(e,t,n){return va.makeTranslation(e,t,n),this.applyMatrix4(va),this}},{key:"scale",value:function(e,t,n){return va.makeScale(e,t,n),this.applyMatrix4(va),this}},{key:"lookAt",value:function(e){return ma.lookAt(e),ma.updateMatrix(),this.applyMatrix4(ma.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ga).negate(),this.translate(ga.x,ga.y,ga.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new fa(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Ur);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new zr(-1/0,-1/0,-1/0),new zr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];ya.setFromBufferAttribute(i),this.morphTargetsRelative?(xa.addVectors(this.boundingBox.min,ya.min),this.boundingBox.expandByPoint(xa),xa.addVectors(this.boundingBox.max,ya.max),this.boundingBox.expandByPoint(xa)):(this.boundingBox.expandByPoint(ya.min),this.boundingBox.expandByPoint(ya.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new oi);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new zr,1/0);if(e){var n=this.boundingSphere.center;if(ya.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];ba.setFromBufferAttribute(a),this.morphTargetsRelative?(xa.addVectors(ya.min,ba.min),ya.expandByPoint(xa),xa.addVectors(ya.max,ba.max),ya.expandByPoint(xa)):(ya.expandByPoint(ba.min),ya.expandByPoint(ba.max))}ya.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)xa.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(xa));if(t)for(var l=0,c=t.length;l<c;l++)for(var d=t[l],f=this.morphTargetsRelative,p=0,h=d.count;p<h;p++)xa.fromBufferAttribute(d,p),f&&(ga.fromBufferAttribute(e,p),xa.add(ga)),o=Math.max(o,n.distanceToSquared(xa));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ra(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,u=[],l=[],c=0;c<o;c++)u[c]=new zr,l[c]=new zr;var d=new zr,f=new zr,p=new zr,h=new sr,v=new sr,m=new sr,g=new zr,y=new zr,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var x=0,w=b.length;x<w;++x)for(var _=b[x],S=_.start,k=S,E=S+_.count;k<E;k+=3)j(n[k+0],n[k+1],n[k+2]);for(var M=new zr,P=new zr,T=new zr,C=new zr,A=0,I=b.length;A<I;++A)for(var R=b[A],O=R.start,D=O,L=O+R.count;D<L;D+=3)N(n[D+0]),N(n[D+1]),N(n[D+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function j(e,t,n){d.fromArray(r,3*e),f.fromArray(r,3*t),p.fromArray(r,3*n),h.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),f.sub(d),p.sub(d),v.sub(h),m.sub(h);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(g.copy(f).multiplyScalar(m.y).addScaledVector(p,-v.y).multiplyScalar(i),y.copy(p).multiplyScalar(v.x).addScaledVector(f,-m.x).multiplyScalar(i),u[e].add(g),u[t].add(g),u[n].add(g),l[e].add(y),l[t].add(y),l[n].add(y))}function N(e){T.fromArray(i,3*e),C.copy(T);var t=u[e];M.copy(t),M.sub(T.multiplyScalar(T.dot(t))).normalize(),P.crossVectors(C,t);var n=P.dot(l[e])<0?-1:1;s[4*e]=M.x,s[4*e+1]=M.y,s[4*e+2]=M.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new ra(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new zr,o=new zr,s=new zr,u=new zr,l=new zr,c=new zr,d=new zr,f=new zr;if(e)for(var p=0,h=e.count;p<h;p+=3){var v=e.getX(p+0),m=e.getX(p+1),g=e.getX(p+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),d.subVectors(s,o),f.subVectors(a,o),d.cross(f),u.fromBufferAttribute(n,v),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),u.add(d),l.add(d),c.add(d),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),d.subVectors(s,o),f.subVectors(a,o),d.cross(f),n.setXYZ(y+0,d.x,d.y,d.z),n.setXYZ(y+1,d.x,d.y,d.z),n.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)xa.fromBufferAttribute(e,t),xa.normalize(),e.setXYZ(t,xa.x,xa.y,xa.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new ra(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],d=0,f=c.length;d<f;d++){var p=e(c[d],r);l.push(p)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,v=0,m=h.length;v<m;v++){var g=h[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],d=[],f=0,p=c.length;f<p;f++){var h=c[f];d.push(h.toJSON(e.data))}d.length>0&&(s[l]=d,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,d=l.length;c<d;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,p=0,h=f.length;p<h;p++){var v=f[p];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(qn),_a=new vi,Sa=new hi,ka=new oi,Ea=new zr,Ma=new zr,Pa=new zr,Ta=new zr,Ca=new zr,Aa=new zr,Ia=new zr,Ra=new zr,Oa=new zr,Da=new sr,La=new sr,ja=new sr,Na=new zr,za=new zr,Fa=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wa,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea;return k(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),ka.copy(n.boundingSphere),ka.applyMatrix4(i),!1!==e.ray.intersectsSphere(ka)&&(_a.copy(i).invert(),Sa.copy(e.ray).applyMatrix4(_a),null===n.boundingBox||!1!==Sa.intersectsBox(n.boundingBox)))){var a,o=n.index,s=n.attributes.position,u=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,d=n.attributes.uv2,f=n.groups,p=n.drawRange;if(null!==o)if(Array.isArray(r))for(var h=0,v=f.length;h<v;h++)for(var m=f[h],g=r[m.materialIndex],y=Math.max(m.start,p.start),b=Math.min(o.count,Math.min(m.start+m.count,p.start+p.count));y<b;y+=3){var x=o.getX(y),w=o.getX(y+1),_=o.getX(y+2);(a=Ba(this,g,e,Sa,s,u,l,c,d,x,w,_))&&(a.faceIndex=Math.floor(y/3),a.face.materialIndex=m.materialIndex,t.push(a))}else for(var S=Math.max(0,p.start),k=Math.min(o.count,p.start+p.count);S<k;S+=3){var E=o.getX(S),M=o.getX(S+1),P=o.getX(S+2);(a=Ba(this,r,e,Sa,s,u,l,c,d,E,M,P))&&(a.faceIndex=Math.floor(S/3),t.push(a))}else if(void 0!==s)if(Array.isArray(r))for(var T=0,C=f.length;T<C;T++)for(var A=f[T],I=r[A.materialIndex],R=Math.max(A.start,p.start),O=Math.min(s.count,Math.min(A.start+A.count,p.start+p.count));R<O;R+=3){(a=Ba(this,I,e,Sa,s,u,l,c,d,R,R+1,R+2))&&(a.faceIndex=Math.floor(R/3),a.face.materialIndex=A.materialIndex,t.push(a))}else for(var D=Math.max(0,p.start),L=Math.min(s.count,p.start+p.count);D<L;D+=3){(a=Ba(this,r,e,Sa,s,u,l,c,d,D,D+1,D+2))&&(a.faceIndex=Math.floor(D/3),t.push(a))}}}}]),n}(Bi);function Ba(e,t,n,r,i,a,o,s,u,l,c,d){Ea.fromBufferAttribute(i,l),Ma.fromBufferAttribute(i,c),Pa.fromBufferAttribute(i,d);var f=e.morphTargetInfluences;if(a&&f){Ia.set(0,0,0),Ra.set(0,0,0),Oa.set(0,0,0);for(var p=0,h=a.length;p<h;p++){var v=f[p],m=a[p];0!==v&&(Ta.fromBufferAttribute(m,l),Ca.fromBufferAttribute(m,c),Aa.fromBufferAttribute(m,d),o?(Ia.addScaledVector(Ta,v),Ra.addScaledVector(Ca,v),Oa.addScaledVector(Aa,v)):(Ia.addScaledVector(Ta.sub(Ea),v),Ra.addScaledVector(Ca.sub(Ma),v),Oa.addScaledVector(Aa.sub(Pa),v)))}Ea.add(Ia),Ma.add(Ra),Pa.add(Oa)}e.isSkinnedMesh&&(e.boneTransform(l,Ea),e.boneTransform(c,Ma),e.boneTransform(d,Pa));var g=function(e,t,n,r,i,a,o,s){if(null===(t.side===K?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side!==X,s)))return null;za.copy(s),za.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(za);return u<n.near||u>n.far?null:{distance:u,point:za.clone(),object:e}}(e,t,n,r,Ea,Ma,Pa,Na);if(g){s&&(Da.fromBufferAttribute(s,l),La.fromBufferAttribute(s,c),ja.fromBufferAttribute(s,d),g.uv=Zi.getUV(Na,Ea,Ma,Pa,Da,La,ja,new sr)),u&&(Da.fromBufferAttribute(u,l),La.fromBufferAttribute(u,c),ja.fromBufferAttribute(u,d),g.uv2=Zi.getUV(Na,Ea,Ma,Pa,Da,La,ja,new sr));var y={a:l,b:c,c:d,normal:new zr,materialIndex:0};Zi.getNormal(Ea,Ma,Pa,y.normal),g.face=y}return g}var Ua=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;k(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var l=C(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var c=[],d=[],f=[],p=[],h=0,v=0;function m(e,t,n,r,i,a,o,s,u,m,g){for(var y=a/u,b=o/m,x=a/2,w=o/2,_=s/2,S=u+1,k=m+1,E=0,M=0,P=new zr,T=0;T<k;T++)for(var C=T*b-w,A=0;A<S;A++){var I=A*y-x;P[e]=I*r,P[t]=C*i,P[n]=_,d.push(P.x,P.y,P.z),P[e]=0,P[t]=0,P[n]=s>0?1:-1,f.push(P.x,P.y,P.z),p.push(A/u),p.push(1-T/m),E+=1}for(var R=0;R<m;R++)for(var O=0;O<u;O++){var D=h+O+S*R,L=h+O+S*(R+1),j=h+(O+1)+S*(R+1),N=h+(O+1)+S*R;c.push(D,L,N),c.push(L,j,N),M+=6}l.addGroup(v,M,g),v+=M,h+=E}return m("z","y","x",-1,-1,a,i,r,u,s,0),m("z","y","x",1,-1,a,i,-r,u,s,1),m("x","z","y",1,1,r,a,i,o,u,2),m("x","z","y",1,-1,r,a,-i,o,u,3),m("x","y","z",1,-1,r,i,a,o,s,4),m("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new fa(d,3)),e.setAttribute("normal",new fa(f,3)),e.setAttribute("uv",new fa(p,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(wa);function Va(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Ha(e){for(var t={},n=0;n<e.length;n++){var r=Va(e[n]);for(var i in r)t[i]=r[i]}return t}var Wa={clone:Va,merge:Ha},Ga=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Va(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(Ji),qa=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new vi,e.projectionMatrix=new vi,e.projectionMatrixInverse=new vi,e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){D(T(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){D(T(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Bi),Ka=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return k(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*$n*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Yn*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*$n*Math.atan(Math.tan(.5*Yn*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Yn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(qa),Xa=90,Ya=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;k(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i;var o=new Ka(Xa,1,e,r);o.layers=a.layers,o.up.set(0,-1,0),o.lookAt(new zr(1,0,0)),a.add(o);var s=new Ka(Xa,1,e,r);s.layers=a.layers,s.up.set(0,-1,0),s.lookAt(new zr(-1,0,0)),a.add(s);var u=new Ka(Xa,1,e,r);u.layers=a.layers,u.up.set(0,0,1),u.lookAt(new zr(0,1,0)),a.add(u);var l=new Ka(Xa,1,e,r);l.layers=a.layers,l.up.set(0,0,-1),l.lookAt(new zr(0,-1,0)),a.add(l);var c=new Ka(Xa,1,e,r);c.layers=a.layers,c.up.set(0,-1,0),c.lookAt(new zr(0,0,1)),a.add(c);var d=new Ka(Xa,1,e,r);return d.layers=a.layers,d.up.set(0,-1,0),d.lookAt(new zr(0,0,-1)),a.add(d),a}return M(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=y(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=Te,e.xr.enabled=!1;var p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=d,e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(Bi),$a=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s,u,l,c,d){var f;return k(this,n),e=void 0!==e?e:[],r=void 0!==r?r:Le,(f=t.call(this,e,r,i,a,o,s,u,l,c,d)).isCubeTexture=!0,f.flipY=!1,f}return M(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Cr),Za=function(e){P(n,e);var t=I(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(this,n),(r=t.call(this,e,e,i)).isWebGLCubeRenderTarget=!0;var a={width:e,height:e,depth:1},o=[a,a,a,a,a,a];return r.texture=new $a(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),r.texture.isRenderTargetTexture=!0,r.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,r.texture.minFilter=void 0!==i.minFilter?i.minFilter:Xe,r}return M(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Ua(5,5,5),o=new Ga({name:"CubemapFromEquirect",uniforms:Va(n),vertexShader:r,fragmentShader:i,side:K,blending:Y});o.uniforms.tEquirect.value=t;var s=new Fa(a,o),u=t.minFilter;return t.minFilter===Ze&&(t.minFilter=Xe),new Ya(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Ir),Qa=new zr,Ja=new zr,eo=new ur,to=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zr(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;k(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return M(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Qa.subVectors(n,t).cross(Ja.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(Qa),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||eo.getNormalMatrix(e),r=this.coplanarPoint(Qa).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),no=new oi,ro=new zr,io=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new to,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new to,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new to,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new to,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new to,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new to;k(this,e),this.planes=[t,n,r,i,a,o]}return M(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],d=n[8],f=n[9],p=n[10],h=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,c-s,h-d,y-v).normalize(),t[1].setComponents(o+r,c+s,h+d,y+v).normalize(),t[2].setComponents(o+i,c+u,h+f,y+m).normalize(),t[3].setComponents(o-i,c-u,h-f,y-m).normalize(),t[4].setComponents(o-a,c-l,h-p,y-g).normalize(),t[5].setComponents(o+a,c+l,h+p,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),no.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(no)}},{key:"intersectsSprite",value:function(e){return no.center.set(0,0,0),no.radius=.7071067811865476,no.applyMatrix4(e.matrixWorld),this.intersectsSphere(no)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(ro.x=r.normal.x>0?e.max.x:e.min.x,ro.y=r.normal.y>0?e.max.y:e.min.y,ro.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ro)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function ao(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function oo(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(a instanceof Int16Array)i=5122;else if(a instanceof Uint32Array)i=5125;else if(a instanceof Int32Array)i=5124;else if(a instanceof Int8Array)i=5120;else if(a instanceof Uint8Array)i=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=5121}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,i),o.version=t.version)}}}}var so=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;k(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,u=i/2,l=Math.floor(a),c=Math.floor(o),d=l+1,f=c+1,p=r/l,h=i/c,v=[],m=[],g=[],y=[],b=0;b<f;b++)for(var x=b*h-u,w=0;w<d;w++){var _=w*p-s;m.push(_,-x,0),g.push(0,0,1),y.push(w/l),y.push(1-b/c)}for(var S=0;S<c;S++)for(var E=0;E<l;E++){var M=E+d*S,P=E+d*(S+1),T=E+1+d*(S+1),C=E+1+d*S;v.push(M,P,C),v.push(P,T,C)}return e.setIndex(v),e.setAttribute("position",new fa(m,3)),e.setAttribute("normal",new fa(g,3)),e.setAttribute("uv",new fa(y,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(wa),uo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert\n#define Material_LightProbeLOD( material )\t(0)",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},lo={common:{diffuse:{value:new kr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ur},uv2Transform:{value:new ur},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new sr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new kr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new kr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ur}},sprite:{diffuse:{value:new kr(16777215)},opacity:{value:1},center:{value:new sr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ur}}},co={basic:{uniforms:Ha([lo.common,lo.specularmap,lo.envmap,lo.aomap,lo.lightmap,lo.fog]),vertexShader:uo.meshbasic_vert,fragmentShader:uo.meshbasic_frag},lambert:{uniforms:Ha([lo.common,lo.specularmap,lo.envmap,lo.aomap,lo.lightmap,lo.emissivemap,lo.bumpmap,lo.normalmap,lo.displacementmap,lo.fog,lo.lights,{emissive:{value:new kr(0)}}]),vertexShader:uo.meshlambert_vert,fragmentShader:uo.meshlambert_frag},phong:{uniforms:Ha([lo.common,lo.specularmap,lo.envmap,lo.aomap,lo.lightmap,lo.emissivemap,lo.bumpmap,lo.normalmap,lo.displacementmap,lo.fog,lo.lights,{emissive:{value:new kr(0)},specular:{value:new kr(1118481)},shininess:{value:30}}]),vertexShader:uo.meshphong_vert,fragmentShader:uo.meshphong_frag},standard:{uniforms:Ha([lo.common,lo.envmap,lo.aomap,lo.lightmap,lo.emissivemap,lo.bumpmap,lo.normalmap,lo.displacementmap,lo.roughnessmap,lo.metalnessmap,lo.fog,lo.lights,{emissive:{value:new kr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:uo.meshphysical_vert,fragmentShader:uo.meshphysical_frag},toon:{uniforms:Ha([lo.common,lo.aomap,lo.lightmap,lo.emissivemap,lo.bumpmap,lo.normalmap,lo.displacementmap,lo.gradientmap,lo.fog,lo.lights,{emissive:{value:new kr(0)}}]),vertexShader:uo.meshtoon_vert,fragmentShader:uo.meshtoon_frag},matcap:{uniforms:Ha([lo.common,lo.bumpmap,lo.normalmap,lo.displacementmap,lo.fog,{matcap:{value:null}}]),vertexShader:uo.meshmatcap_vert,fragmentShader:uo.meshmatcap_frag},points:{uniforms:Ha([lo.points,lo.fog]),vertexShader:uo.points_vert,fragmentShader:uo.points_frag},dashed:{uniforms:Ha([lo.common,lo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:uo.linedashed_vert,fragmentShader:uo.linedashed_frag},depth:{uniforms:Ha([lo.common,lo.displacementmap]),vertexShader:uo.depth_vert,fragmentShader:uo.depth_frag},normal:{uniforms:Ha([lo.common,lo.bumpmap,lo.normalmap,lo.displacementmap,{opacity:{value:1}}]),vertexShader:uo.meshnormal_vert,fragmentShader:uo.meshnormal_frag},sprite:{uniforms:Ha([lo.sprite,lo.fog]),vertexShader:uo.sprite_vert,fragmentShader:uo.sprite_frag},background:{uniforms:{uvTransform:{value:new ur},t2D:{value:null}},vertexShader:uo.background_vert,fragmentShader:uo.background_frag},cube:{uniforms:Ha([lo.envmap,{opacity:{value:1}}]),vertexShader:uo.cube_vert,fragmentShader:uo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:uo.equirect_vert,fragmentShader:uo.equirect_frag},distanceRGBA:{uniforms:Ha([lo.common,lo.displacementmap,{referencePosition:{value:new zr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:uo.distanceRGBA_vert,fragmentShader:uo.distanceRGBA_frag},shadow:{uniforms:Ha([lo.lights,lo.fog,{color:{value:new kr(0)},opacity:{value:1}}]),vertexShader:uo.shadow_vert,fragmentShader:uo.shadow_frag}};function fo(e,t,n,r,i,a){var o,s,u=new kr(0),l=!0===i?0:1,c=null,d=0,f=null;function p(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,a)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),p(u,l=t)},getClearAlpha:function(){return l},setClearAlpha:function(e){p(u,l=e)},render:function(n,i){var a=!1,h=!0===i.isScene?i.background:null;h&&h.isTexture&&(h=t.get(h));var v=e.xr,m=v.getSession&&v.getSession();m&&"additive"===m.environmentBlendMode&&(h=null),null===h?p(u,l):h&&h.isColor&&(p(h,1),a=!0),(e.autoClear||a)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),h&&(h.isCubeTexture||h.mapping===Fe)?(void 0===s&&((s=new Fa(new Ua(1,1,1),new Ga({name:"BackgroundCubeMaterial",uniforms:Va(co.cube.uniforms),vertexShader:co.cube.vertexShader,fragmentShader:co.cube.fragmentShader,side:K,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(s)),s.material.uniforms.envMap.value=h,s.material.uniforms.flipEnvMap.value=h.isCubeTexture&&!1===h.isRenderTargetTexture?-1:1,c===h&&d===h.version&&f===e.toneMapping||(s.material.needsUpdate=!0,c=h,d=h.version,f=e.toneMapping),s.layers.enableAll(),n.unshift(s,s.geometry,s.material,0,0,null)):h&&h.isTexture&&(void 0===o&&((o=new Fa(new so(2,2),new Ga({name:"BackgroundMaterial",uniforms:Va(co.background.uniforms),vertexShader:co.background.vertexShader,fragmentShader:co.background.fragmentShader,side:q,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=h,!0===h.matrixAutoUpdate&&h.updateMatrix(),o.material.uniforms.uvTransform.value.copy(h.matrix),c===h&&d===h.version&&f===e.toneMapping||(o.material.needsUpdate=!0,c=h,d=h.version,f=e.toneMapping),o.layers.enableAll(),n.unshift(o,o.geometry,o.material,0,0,null))}}}function po(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},u=p(null),l=u,c=!1;function d(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function p(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){m(e,0)}function m(n,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function g(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function b(){x(),c=!0,l!==u&&d((l=u).object)}function x(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,f,b,x){var w=!1;if(o){var _=function(t,n,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[n.id];void 0===l&&(l={},u[n.id]=l);var c=l[o];void 0===c&&(c=p(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(b,f,u);l!==_&&d((l=_).object),w=function(e,t,n,r){var i=l.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=i[u],d=a[u];if(void 0===d&&("instanceMatrix"===u&&e.instanceMatrix&&(d=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(d=e.instanceColor)),void 0===c)return!0;if(c.attribute!==d)return!0;if(d&&c.data!==d.data)return!0;o++}}return l.attributesNum!==o||l.index!==r}(i,b,f,x),w&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=a[u];void 0===c&&("instanceMatrix"===u&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(c=e.instanceColor));var d={};d.attribute=c,c&&c.data&&(d.data=c.data),i[u]=d,o++}}l.attributes=i,l.attributesNum=o,l.index=r}(i,b,f,x)}else{var S=!0===u.wireframe;l.geometry===b.id&&l.program===f.id&&l.wireframe===S||(l.geometry=b.id,l.program=f.id,l.wireframe=S,w=!0)}null!==x&&n.update(x,34963),(w||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;h();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var d in l){var f=l[d];if(f.location>=0){var p=u[d];if(void 0===p&&("instanceMatrix"===d&&i.instanceMatrix&&(p=i.instanceMatrix),"instanceColor"===d&&i.instanceColor&&(p=i.instanceColor)),void 0!==p){var b=p.normalized,x=p.itemSize,w=n.get(p);if(void 0===w)continue;var _=w.buffer,S=w.type,k=w.bytesPerElement;if(p.isInterleavedBufferAttribute){var E=p.data,M=E.stride,P=p.offset;if(E.isInstancedInterleavedBuffer){for(var T=0;T<f.locationSize;T++)m(f.location+T,E.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=E.meshPerAttribute*E.count)}else for(var C=0;C<f.locationSize;C++)v(f.location+C);e.bindBuffer(34962,_);for(var A=0;A<f.locationSize;A++)y(f.location+A,x/f.locationSize,S,b,M*k,(P+x/f.locationSize*A)*k)}else{if(p.isInstancedBufferAttribute){for(var I=0;I<f.locationSize;I++)m(f.location+I,p.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=p.meshPerAttribute*p.count)}else for(var R=0;R<f.locationSize;R++)v(f.location+R);e.bindBuffer(34962,_);for(var O=0;O<f.locationSize;O++)y(f.location+O,x/f.locationSize,S,b,x*k,x/f.locationSize*O*k)}}else if(void 0!==c){var D=c[d];if(void 0!==D)switch(D.length){case 2:e.vertexAttrib2fv(f.location,D);break;case 3:e.vertexAttrib3fv(f.location,D);break;case 4:e.vertexAttrib4fv(f.location,D);break;default:e.vertexAttrib1fv(f.location,D)}}}}g()}(i,u,f,b),null!==x&&e.bindBuffer(34963,n.get(x).buffer))},reset:b,resetDefaultState:x,dispose:function(){for(var e in b(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)f(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:h,enableAttribute:v,disableUnusedAttributes:g}}function ho(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,o,s),n.update(o,i,s)}}}function vo(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),d=e.getParameter(35660),f=e.getParameter(3379),p=e.getParameter(34076),h=e.getParameter(34921),v=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),y=d>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:p,maxAttributes:h,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:a?e.getParameter(36183):0}}function mo(e){var t=this,n=null,r=0,i=!1,a=!1,o=new to,s=new ur,u={value:null,needsUpdate:!1};function l(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,d=n.matrixWorldInverse;s.getNormalMatrix(d),(null===l||l.length<c)&&(l=new Float32Array(c));for(var f=0,p=r;f!==a;++f,p+=4)o.copy(e[f]).applyMatrix4(d,s),o.normal.toArray(l,p),l[p+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==r||i;return i=t,n=c(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,l()},this.setState=function(t,o,s){var d=t.clippingPlanes,f=t.clipIntersection,p=t.clipShadows,h=e.get(t);if(!i||null===d||0===d.length||a&&!p)a?c(null):l();else{var v=a?0:r,m=4*v,g=h.clippingState||null;u.value=g,g=c(d,o,m,s);for(var y=0;y!==m;++y)g[y]=n[y];h.clippingState=g,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=v}}}function go(e){var t=new WeakMap;function n(e,t){return t===Ne?e.mapping=Le:t===ze&&(e.mapping=je),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===Ne||a===ze){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Za(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}co.physical={uniforms:Ha([co.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new sr(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new kr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new sr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new kr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new kr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:uo.meshphysical_vert,fragmentShader:uo.meshphysical_frag};var yo=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return k(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(qa),bo=[.125,.215,.35,.446,.526,.582],xo=20,wo=new yo,_o=new kr,So=null,ko=(1+Math.sqrt(5))/2,Eo=1/ko,Mo=[new zr(1,1,1),new zr(-1,1,1),new zr(1,1,-1),new zr(-1,1,-1),new zr(0,ko,Eo),new zr(0,ko,-Eo),new zr(Eo,0,ko),new zr(-Eo,0,ko),new zr(ko,Eo,0),new zr(-ko,Eo,0)],Po=function(){function e(t){k(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return M(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;So=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Io(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Ao(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(So),e.scissorTest=!1,Co(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Le||e.mapping===je?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),So=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Xe,minFilter:Xe,generateMipmaps:!1,type:ot,format:ft,encoding:ln,depthBuffer:!1},r=To(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=To(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+bo.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var u=1/s;o>e-4?u=bo[o-e+4-1]:0===o&&(u=0),r.push(u);for(var l=1/(s-2),c=-l,d=1+l,f=[c,c,d,c,d,d,c,c,d,d,c,d],p=6,h=6,v=3,m=2,g=1,y=new Float32Array(v*h*p),b=new Float32Array(m*h*p),x=new Float32Array(g*h*p),w=0;w<p;w++){var _=w%3*2/3-1,S=w>2?0:-1,k=[_,S,0,_+2/3,S,0,_+2/3,S+1,0,_,S,0,_+2/3,S+1,0,_,S+1,0];y.set(k,v*h*w),b.set(f,m*h*w);var E=[w,w,w,w,w,w];x.set(E,g*h*w)}var M=new wa;M.setAttribute("position",new ra(y,v)),M.setAttribute("uv",new ra(b,m)),M.setAttribute("faceIndex",new ra(x,g)),t.push(M),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(xo),i=new zr(0,1,0);return new Ga({name:"SphericalGaussianBlur",defines:{n:xo,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Y,depthTest:!1,depthWrite:!1})}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new Fa(this._lodPlanes[0],e);this._renderer.compile(t,wo)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Ka(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor(_o),s.toneMapping=Te,s.autoClear=!1;var c=new ea({name:"PMREM.Background",side:K,depthWrite:!1,depthTest:!1}),d=new Fa(new Ua,c),f=!1,p=e.background;p?p.isColor&&(c.color.copy(p),e.background=null,f=!0):(c.color.copy(_o),f=!0);for(var h=0;h<6;h++){var v=h%3;0===v?(i.up.set(0,a[h],0),i.lookAt(o[h],0,0)):1===v?(i.up.set(0,0,a[h]),i.lookAt(0,o[h],0)):(i.up.set(0,a[h],0),i.lookAt(0,0,o[h]));var m=this._cubeSize;Co(r,v*m,h>2?m:0,m,m),s.setRenderTarget(r),f&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=p}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===Le||e.mapping===je;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Io()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Ao());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new Fa(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;Co(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,wo)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Mo[(r-1)%Mo.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new Fa(this._lodPlanes[r],u),c=u.uniforms,d=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,p=i/f,h=isFinite(i)?1+Math.floor(3*p):xo;h>xo&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(h," samples when the maximum is set to ").concat(xo));for(var v=[],m=0,g=0;g<xo;++g){var y=g/p,b=Math.exp(-y*y/2);v.push(b),0===g?m+=b:g<h&&(m+=2*b)}for(var x=0;x<v.length;x++)v[x]=v[x]/m;c.envMap.value=e.texture,c.samples.value=h,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var w=this._lodMax;c.dTheta.value=f,c.mipInt.value=w-n;var _=this._sizeLods[r];Co(t,3*_*(r>w-4?r-w+4:0),4*(this._cubeSize-_),3*_,2*_),s.setRenderTarget(t),s.render(l,wo)}}]),e}();function To(e,t,n){var r=new Ir(e,t,n);return r.texture.mapping=Fe,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Co(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Ao(){return new Ga({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Y,depthTest:!1,depthWrite:!1})}function Io(){return new Ga({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Y,depthTest:!1,depthWrite:!1})}function Ro(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===Ne||a===ze,s=a===Le||a===je;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var u=t.get(i);return null===n&&(n=new Po(e)),u=o?n.fromEquirectangular(i,u):n.fromCubemap(i,u),t.set(i,u),u.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||s&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new Po(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Oo(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Do(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);s.removeEventListener("dispose",o),delete i[s.id];var l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],d=s[u+1],f=s[u+2];n.push(c,d,d,f,f,c)}}else{var p=i.array;o=i.version;for(var h=0,v=p.length/3-1;h<v;h+=3){var m=h+0,g=h+1,y=h+2;n.push(m,g,g,y,y,m)}}var b=new(lr(n)?ca:ua)(n,1);b.version=o;var x=a.get(e);x&&t.remove(x),a.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Lo(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,d;if(s)c=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[d](i,u,a,r*o,l),n.update(u,i,l)}}}function jo(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function No(e,t){return e[0]-t[0]}function zo(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Fo(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new Ar,s=[],u=0;u<8;u++)s[u]=[u,0];return{update:function(u,l,c,d){var f=u.morphTargetInfluences;if(!0===t.isWebGL2){var p=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=void 0!==p?p.length:0,v=a.get(l);if(void 0===v||v.count!==h){void 0!==v&&v.texture.dispose();var m=void 0!==l.morphAttributes.position,g=void 0!==l.morphAttributes.normal,y=void 0!==l.morphAttributes.color,b=l.morphAttributes.position||[],x=l.morphAttributes.normal||[],w=l.morphAttributes.color||[],_=0;!0===m&&(_=1),!0===g&&(_=2),!0===y&&(_=3);var S=l.attributes.position.count*_,k=1;S>t.maxTextureSize&&(k=Math.ceil(S/t.maxTextureSize),S=t.maxTextureSize);var E=new Float32Array(S*k*4*h),M=new Rr(E,S,k,h);M.type=at,M.needsUpdate=!0;for(var P=4*_,T=0;T<h;T++)for(var C=b[T],A=x[T],I=w[T],R=S*k*4*T,O=0;O<C.count;O++){var D=O*P;!0===m&&(o.fromBufferAttribute(C,O),E[R+D+0]=o.x,E[R+D+1]=o.y,E[R+D+2]=o.z,E[R+D+3]=0),!0===g&&(o.fromBufferAttribute(A,O),E[R+D+4]=o.x,E[R+D+5]=o.y,E[R+D+6]=o.z,E[R+D+7]=0),!0===y&&(o.fromBufferAttribute(I,O),E[R+D+8]=o.x,E[R+D+9]=o.y,E[R+D+10]=o.z,E[R+D+11]=4===I.itemSize?o.w:1)}v={count:h,texture:M,size:new sr(S,k)},a.set(l,v),l.addEventListener("dispose",(function e(){M.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var L=0,j=0;j<f.length;j++)L+=f[j];var N=l.morphTargetsRelative?1:1-L;d.getUniforms().setValue(e,"morphTargetBaseInfluence",N),d.getUniforms().setValue(e,"morphTargetInfluences",f),d.getUniforms().setValue(e,"morphTargetsTexture",v.texture,n),d.getUniforms().setValue(e,"morphTargetsTextureSize",v.size)}else{var z=void 0===f?0:f.length,F=r[l.id];if(void 0===F||F.length!==z){F=[];for(var B=0;B<z;B++)F[B]=[B,0];r[l.id]=F}for(var U=0;U<z;U++){var V=F[U];V[0]=U,V[1]=f[U]}F.sort(zo);for(var H=0;H<8;H++)H<z&&F[H][1]?(s[H][0]=F[H][0],s[H][1]=F[H][1]):(s[H][0]=Number.MAX_SAFE_INTEGER,s[H][1]=0);s.sort(No);for(var W=l.morphAttributes.position,G=l.morphAttributes.normal,q=0,K=0;K<8;K++){var X=s[K],Y=X[0],$=X[1];Y!==Number.MAX_SAFE_INTEGER&&$?(W&&l.getAttribute("morphTarget"+K)!==W[Y]&&l.setAttribute("morphTarget"+K,W[Y]),G&&l.getAttribute("morphNormal"+K)!==G[Y]&&l.setAttribute("morphNormal"+K,G[Y]),i[K]=$,q+=$):(W&&!0===l.hasAttribute("morphTarget"+K)&&l.deleteAttribute("morphTarget"+K),G&&!0===l.hasAttribute("morphNormal"+K)&&l.deleteAttribute("morphNormal"+K),i[K]=0)}var Z=l.morphTargetsRelative?1:1-q;d.getUniforms().setValue(e,"morphTargetBaseInfluence",Z),d.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Bo(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,u=t.get(e,s);return i.get(u)!==o&&(t.update(u),i.set(u,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),u},dispose:function(){i=new WeakMap}}}var Uo=new Cr,Vo=new Rr,Ho=new Dr,Wo=new $a,Go=[],qo=[],Ko=new Float32Array(16),Xo=new Float32Array(9),Yo=new Float32Array(4);function $o(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Go[i];if(void 0===a&&(a=new Float32Array(i),Go[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Zo(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Qo(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Jo(e,t){var n=qo[t];void 0===n&&(n=new Int32Array(t),qo[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function es(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ts(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Zo(n,t))return;e.uniform2fv(this.addr,t),Qo(n,t)}}function ns(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Zo(n,t))return;e.uniform3fv(this.addr,t),Qo(n,t)}}function rs(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Zo(n,t))return;e.uniform4fv(this.addr,t),Qo(n,t)}}function is(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Zo(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Qo(n,t)}else{if(Zo(n,r))return;Yo.set(r),e.uniformMatrix2fv(this.addr,!1,Yo),Qo(n,r)}}function as(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Zo(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Qo(n,t)}else{if(Zo(n,r))return;Xo.set(r),e.uniformMatrix3fv(this.addr,!1,Xo),Qo(n,r)}}function os(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Zo(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Qo(n,t)}else{if(Zo(n,r))return;Ko.set(r),e.uniformMatrix4fv(this.addr,!1,Ko),Qo(n,r)}}function ss(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function us(e,t){var n=this.cache;Zo(n,t)||(e.uniform2iv(this.addr,t),Qo(n,t))}function ls(e,t){var n=this.cache;Zo(n,t)||(e.uniform3iv(this.addr,t),Qo(n,t))}function cs(e,t){var n=this.cache;Zo(n,t)||(e.uniform4iv(this.addr,t),Qo(n,t))}function ds(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function fs(e,t){var n=this.cache;Zo(n,t)||(e.uniform2uiv(this.addr,t),Qo(n,t))}function ps(e,t){var n=this.cache;Zo(n,t)||(e.uniform3uiv(this.addr,t),Qo(n,t))}function hs(e,t){var n=this.cache;Zo(n,t)||(e.uniform4uiv(this.addr,t),Qo(n,t))}function vs(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Uo,i)}function ms(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Ho,i)}function gs(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Wo,i)}function ys(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Vo,i)}function bs(e,t){e.uniform1fv(this.addr,t)}function xs(e,t){var n=$o(t,this.size,2);e.uniform2fv(this.addr,n)}function ws(e,t){var n=$o(t,this.size,3);e.uniform3fv(this.addr,n)}function _s(e,t){var n=$o(t,this.size,4);e.uniform4fv(this.addr,n)}function Ss(e,t){var n=$o(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ks(e,t){var n=$o(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Es(e,t){var n=$o(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ms(e,t){e.uniform1iv(this.addr,t)}function Ps(e,t){e.uniform2iv(this.addr,t)}function Ts(e,t){e.uniform3iv(this.addr,t)}function Cs(e,t){e.uniform4iv(this.addr,t)}function As(e,t){e.uniform1uiv(this.addr,t)}function Is(e,t){e.uniform2uiv(this.addr,t)}function Rs(e,t){e.uniform3uiv(this.addr,t)}function Os(e,t){e.uniform4uiv(this.addr,t)}function Ds(e,t,n){var r=this.cache,i=t.length,a=Jo(n,i);Zo(r,a)||(e.uniform1iv(this.addr,a),Qo(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||Uo,a[o])}function Ls(e,t,n){var r=this.cache,i=t.length,a=Jo(n,i);Zo(r,a)||(e.uniform1iv(this.addr,a),Qo(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||Ho,a[o])}function js(e,t,n){var r=this.cache,i=t.length,a=Jo(n,i);Zo(r,a)||(e.uniform1iv(this.addr,a),Qo(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||Wo,a[o])}function Ns(e,t,n){var r=this.cache,i=t.length,a=Jo(n,i);Zo(r,a)||(e.uniform1iv(this.addr,a),Qo(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||Vo,a[o])}var zs=M((function e(t,n,r){k(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return es;case 35664:return ts;case 35665:return ns;case 35666:return rs;case 35674:return is;case 35675:return as;case 35676:return os;case 5124:case 35670:return ss;case 35667:case 35671:return us;case 35668:case 35672:return ls;case 35669:case 35673:return cs;case 5125:return ds;case 36294:return fs;case 36295:return ps;case 36296:return hs;case 35678:case 36198:case 36298:case 36306:case 35682:return vs;case 35679:case 36299:case 36307:return ms;case 35680:case 36300:case 36308:case 36293:return gs;case 36289:case 36303:case 36311:case 36292:return ys}}(n.type)})),Fs=M((function e(t,n,r){k(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return bs;case 35664:return xs;case 35665:return ws;case 35666:return _s;case 35674:return Ss;case 35675:return ks;case 35676:return Es;case 5124:case 35670:return Ms;case 35667:case 35671:return Ps;case 35668:case 35672:return Ts;case 35669:case 35673:return Cs;case 5125:return As;case 36294:return Is;case 36295:return Rs;case 36296:return Os;case 35678:case 36198:case 36298:case 36306:case 35682:return Ds;case 35679:case 36299:case 36307:return Ls;case 35680:case 36300:case 36308:case 36293:return js;case 36289:case 36303:case 36311:case 36292:return Ns}}(n.type)})),Bs=function(){function e(t){k(this,e),this.id=t,this.seq=[],this.map={}}return M(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),Us=/(\w+)(\])?(\[|\.)?/g;function Vs(e,t){e.seq.push(t),e.map[t.id]=t}function Hs(e,t,n){var r=e.name,i=r.length;for(Us.lastIndex=0;;){var a=Us.exec(r),o=Us.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){Vs(n,void 0===l?new zs(s,e,t):new Fs(s,e,t));break}var c=n.map[s];void 0===c&&Vs(n,c=new Bs(s)),n=c}}var Ws=function(){function e(t,n){k(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,35718),i=0;i<r;++i){var a=t.getActiveUniform(n,i);Hs(a,t.getUniformLocation(n,a.name),this)}}return M(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function Gs(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var qs=0;function Ks(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function Xs(e,t){var n=function(e){switch(e){case ln:return["Linear","( value )"];case cn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ys(e,t){var n;switch(t){case Ce:n="Linear";break;case Ae:n="Reinhard";break;case Ie:n="OptimizedCineon";break;case Re:n="ACESFilmic";break;case Oe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function $s(e){return""!==e}function Zs(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Qs(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Js=/^[ \t]*#include +<([\w\d./]+)>/gm;function eu(e){return e.replace(Js,tu)}function tu(e,t){var n=uo[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return eu(n)}var nu=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ru(e){return e.replace(nu,iu)}function iu(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function au(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ou(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,u=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===H?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===W?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===G&&(t="SHADOWMAP_TYPE_VSM"),t}(n),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Le:case je:t="ENVMAP_TYPE_CUBE";break;case Fe:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),f=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===je&&(t="ENVMAP_MODE_REFRACTION");return t}(n),p=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Ee:t="ENVMAP_BLENDING_MULTIPLY";break;case Me:t="ENVMAP_BLENDING_MIX";break;case Pe:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter($s).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[m].filter($s).join("\n")).length>0&&(i+="\n"),(a=[v,m].filter($s).join("\n")).length>0&&(a+="\n")):(i=[au(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter($s).join("\n"),a=[v,au(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",n.envMap?"#define "+p:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Te?"#define TONE_MAPPING":"",n.toneMapping!==Te?uo.tonemapping_pars_fragment:"",n.toneMapping!==Te?Ys("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",uo.encodings_pars_fragment,Xs("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter($s).join("\n")),u=Qs(u=Zs(u=eu(u),n),n),l=Qs(l=Zs(l=eu(l),n),n),u=ru(u),l=ru(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Wn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Wn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,x,w=y+a+l,_=Gs(o,35633,y+i+u),S=Gs(o,35632,w);if(o.attachShader(g,_),o.attachShader(g,S),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var k=o.getProgramInfoLog(g).trim(),E=o.getShaderInfoLog(_).trim(),M=o.getShaderInfoLog(S).trim(),P=!0,T=!0;if(!1===o.getProgramParameter(g,35714)){P=!1;var C=Ks(o,_,"vertex"),A=Ks(o,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+k+"\n"+C+"\n"+A)}else""!==k?console.warn("THREE.WebGLProgram: Program Info Log:",k):""!==E&&""!==M||(T=!1);T&&(this.diagnostics={runnable:P,programLog:k,vertexShader:{log:E,prefix:i},fragmentShader:{log:M,prefix:a}})}return o.deleteShader(_),o.deleteShader(S),this.getUniforms=function(){return void 0===b&&(b=new Ws(o,g)),b},this.getAttributes=function(){return void 0===x&&(x=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;35674===a.type&&(s=2),35675===a.type&&(s=3),35676===a.type&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)),x},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=qs++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=_,this.fragmentShader=S,this}var su=0,uu=function(){function e(){k(this,e),this.shaderCache=new Map,this.materialCache=new Map}return M(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=x(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new lu(e),t.set(e,n)),n}}]),e}(),lu=M((function e(t){k(this,e),this.id=su++,this.code=t,this.usedTimes=0}));function cu(e,t,n,r,i,a,o){var s=new Mi,u=new uu,l=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures,p=i.precision,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,l,v,m){var g=v.fog,y=m.geometry,b=a.isMeshStandardMaterial?v.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),w=x&&x.mapping===Fe?x.image.height:null,_=h[a.type];null!==a.precision&&(p=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",p,"instead.");var S,k,E,M,P=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,T=void 0!==P?P.length:0,C=0;if(void 0!==y.morphAttributes.position&&(C=1),void 0!==y.morphAttributes.normal&&(C=2),void 0!==y.morphAttributes.color&&(C=3),_){var A=co[_];S=A.vertexShader,k=A.fragmentShader}else S=a.vertexShader,k=a.fragmentShader,u.update(a),E=u.getVertexShaderID(a),M=u.getFragmentShaderID(a);var I=e.getRenderTarget(),R=a.alphaTest>0,O=a.clearcoat>0,D=a.iridescence>0;return{isWebGL2:c,shaderID:_,shaderName:a.type,vertexShader:S,fragmentShader:k,defines:a.defines,customVertexShaderID:E,customFragmentShaderID:M,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:p,instancing:!0===m.isInstancedMesh,instancingColor:!0===m.isInstancedMesh&&null!==m.instanceColor,supportsVertexTextures:f,outputEncoding:null===I?e.outputEncoding:!0===I.isXRRenderTarget?I.texture.encoding:ln,map:!!a.map,matcap:!!a.matcap,envMap:!!x,envMapMode:x&&x.mapping,envMapCubeUVHeight:w,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===hn,tangentSpaceNormalMap:a.normalMapType===pn,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===cn,clearcoat:O,clearcoatMap:O&&!!a.clearcoatMap,clearcoatRoughnessMap:O&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:O&&!!a.clearcoatNormalMap,iridescence:D,iridescenceMap:D&&!!a.iridescenceMap,iridescenceThicknessMap:D&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===$,alphaMap:!!a.alphaMap,alphaTest:R,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!y.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.iridescenceMap||!!a.iridescenceThicknessMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap||!!a.specularIntensityMap||!!a.specularColorMap||!!a.sheenColorMap||!!a.sheenRoughnessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap)&&!!a.displacementMap,fog:!!g,useFog:!0===a.fog,fogExp2:g&&g.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===m.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:T,morphTextureStride:C,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:Te,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===X,flipSided:a.side===K,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.lightMap&&s.enable(7);t.aoMap&&s.enable(8);t.emissiveMap&&s.enable(9);t.bumpMap&&s.enable(10);t.normalMap&&s.enable(11);t.objectSpaceNormalMap&&s.enable(12);t.tangentSpaceNormalMap&&s.enable(13);t.clearcoat&&s.enable(14);t.clearcoatMap&&s.enable(15);t.clearcoatRoughnessMap&&s.enable(16);t.clearcoatNormalMap&&s.enable(17);t.iridescence&&s.enable(18);t.iridescenceMap&&s.enable(19);t.iridescenceThicknessMap&&s.enable(20);t.displacementMap&&s.enable(21);t.specularMap&&s.enable(22);t.roughnessMap&&s.enable(23);t.metalnessMap&&s.enable(24);t.gradientMap&&s.enable(25);t.alphaMap&&s.enable(26);t.alphaTest&&s.enable(27);t.vertexColors&&s.enable(28);t.vertexAlphas&&s.enable(29);t.vertexUvs&&s.enable(30);t.vertexTangents&&s.enable(31);t.uvsVertexOnly&&s.enable(32);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.physicallyCorrectLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.specularIntensityMap&&s.enable(15);t.specularColorMap&&s.enable(16);t.transmission&&s.enable(17);t.transmissionMap&&s.enable(18);t.thicknessMap&&s.enable(19);t.sheen&&s.enable(20);t.sheenColorMap&&s.enable(21);t.sheenRoughnessMap&&s.enable(22);t.decodeVideoTexture&&s.enable(23);t.opaque&&s.enable(24);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=h[e.type];if(n){var r=co[n];t=Wa.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=l.length;i<o;i++){var s=l[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new ou(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:l,dispose:function(){u.dispose()}}}function du(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function fu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function pu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function hu(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||fu),r.length>1&&r.sort(t||pu),i.length>1&&i.sort(t||pu)}}}function vu(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new hu,e.set(t,[r])):n>=i.length?(r=new hu,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function mu(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new zr,color:new kr};break;case"SpotLight":n={position:new zr,direction:new zr,color:new kr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new zr,color:new kr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new zr,skyColor:new kr,groundColor:new kr};break;case"RectAreaLight":n={color:new kr,position:new zr,halfWidth:new zr,halfHeight:new zr}}return e[t.id]=n,n}}}var gu=0;function yu(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function bu(e,t){for(var n=new mu,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sr};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sr,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new zr);var o=new zr,s=new vi,u=new vi;return{setup:function(a,o){for(var s=0,u=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var d=0,f=0,p=0,h=0,v=0,m=0,g=0,y=0,b=0,x=0;a.sort(yu);for(var w=!0!==o?Math.PI:1,_=0,S=a.length;_<S;_++){var k=a[_],E=k.color,M=k.intensity,P=k.distance,T=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)s+=E.r*M*w,u+=E.g*M*w,l+=E.b*M*w;else if(k.isLightProbe)for(var C=0;C<9;C++)i.probe[C].addScaledVector(k.sh.coefficients[C],M);else if(k.isDirectionalLight){var A=n.get(k);if(A.color.copy(k.color).multiplyScalar(k.intensity*w),k.castShadow){var I=k.shadow,R=r.get(k);R.shadowBias=I.bias,R.shadowNormalBias=I.normalBias,R.shadowRadius=I.radius,R.shadowMapSize=I.mapSize,i.directionalShadow[d]=R,i.directionalShadowMap[d]=T,i.directionalShadowMatrix[d]=k.shadow.matrix,m++}i.directional[d]=A,d++}else if(k.isSpotLight){var O=n.get(k);O.position.setFromMatrixPosition(k.matrixWorld),O.color.copy(E).multiplyScalar(M*w),O.distance=P,O.coneCos=Math.cos(k.angle),O.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),O.decay=k.decay,i.spot[p]=O;var D=k.shadow;if(k.map&&(i.spotLightMap[b]=k.map,b++,D.updateMatrices(k),k.castShadow&&x++),i.spotLightMatrix[p]=D.matrix,k.castShadow){var L=r.get(k);L.shadowBias=D.bias,L.shadowNormalBias=D.normalBias,L.shadowRadius=D.radius,L.shadowMapSize=D.mapSize,i.spotShadow[p]=L,i.spotShadowMap[p]=T,y++}p++}else if(k.isRectAreaLight){var j=n.get(k);j.color.copy(E).multiplyScalar(M),j.halfWidth.set(.5*k.width,0,0),j.halfHeight.set(0,.5*k.height,0),i.rectArea[h]=j,h++}else if(k.isPointLight){var N=n.get(k);if(N.color.copy(k.color).multiplyScalar(k.intensity*w),N.distance=k.distance,N.decay=k.decay,k.castShadow){var z=k.shadow,F=r.get(k);F.shadowBias=z.bias,F.shadowNormalBias=z.normalBias,F.shadowRadius=z.radius,F.shadowMapSize=z.mapSize,F.shadowCameraNear=z.camera.near,F.shadowCameraFar=z.camera.far,i.pointShadow[f]=F,i.pointShadowMap[f]=T,i.pointShadowMatrix[f]=k.shadow.matrix,g++}i.point[f]=N,f++}else if(k.isHemisphereLight){var B=n.get(k);B.skyColor.copy(k.color).multiplyScalar(M*w),B.groundColor.copy(k.groundColor).multiplyScalar(M*w),i.hemi[v]=B,v++}}h>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=lo.LTC_FLOAT_1,i.rectAreaLTC2=lo.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=lo.LTC_HALF_1,i.rectAreaLTC2=lo.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=u,i.ambient[2]=l;var U=i.hash;U.directionalLength===d&&U.pointLength===f&&U.spotLength===p&&U.rectAreaLength===h&&U.hemiLength===v&&U.numDirectionalShadows===m&&U.numPointShadows===g&&U.numSpotShadows===y&&U.numSpotMaps===b||(i.directional.length=d,i.spot.length=p,i.rectArea.length=h,i.point.length=f,i.hemi.length=v,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=y+b-x,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=x,U.directionalLength=d,U.pointLength=f,U.spotLength=p,U.rectAreaLength=h,U.hemiLength=v,U.numDirectionalShadows=m,U.numPointShadows=g,U.numSpotShadows=y,U.numSpotMaps=b,i.version=gu++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,c=0,d=t.matrixWorldInverse,f=0,p=e.length;f<p;f++){var h=e[f];if(h.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(d),n++}else if(h.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(h.matrixWorld),m.position.applyMatrix4(d),m.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(d),a++}else if(h.isRectAreaLight){var g=i.rectArea[l];g.position.setFromMatrixPosition(h.matrixWorld),g.position.applyMatrix4(d),u.identity(),s.copy(h.matrixWorld),s.premultiply(d),u.extractRotation(s),g.halfWidth.set(.5*h.width,0,0),g.halfHeight.set(0,.5*h.height,0),g.halfWidth.applyMatrix4(u),g.halfHeight.applyMatrix4(u),l++}else if(h.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(h.matrixWorld),y.position.applyMatrix4(d),r++}else if(h.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(h.matrixWorld),b.direction.transformDirection(d),c++}}},state:i}}function xu(e,t){var n=new bu(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function wu(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new xu(e,t),n.set(r,[i])):a>=o.length?(i=new xu(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var _u=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=dn,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Ji),Su=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.referencePosition=new zr,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Ji);function ku(e,t,n){var r=new io,i=new sr,a=new sr,o=new Ar,s=new _u({depthPacking:fn}),u=new Su,l={},c=n.maxTextureSize,d={0:K,1:q,2:X},f=new Ga({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new sr},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=f.clone();p.defines.HORIZONTAL_PASS=1;var h=new wa;h.setAttribute("position",new ra(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new Fa(h,f),m=this;function g(n,r){var a=t.update(v);f.defines.VSM_SAMPLES!==n.blurSamples&&(f.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Ir(i.x,i.y)),f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,f,v,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,p,v,null)}function y(t,n,r,i,a,o){var c=null,f=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(c=void 0!==f?f:!0===r.isPointLight?u:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0){var p=c.uuid,h=n.uuid,v=l[p];void 0===v&&(v={},l[p]=v);var m=v[h];void 0===m&&(m=c.clone(),v[h]=m),c=m}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=o===G?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],c.alphaMap=n.alphaMap,c.alphaTest=n.alphaTest,c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.displacementMap=n.displacementMap,c.displacementScale=n.displacementScale,c.displacementBias=n.displacementBias,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=i,c.farDistance=a),c}function b(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===G)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,d=0,f=c.length;d<f;d++){var p=c[d],h=l[p.materialIndex];if(h&&h.visible){var v=y(n,h,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,v,n,p)}}else if(l.visible){var m=y(n,l,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,m,n,null)}}for(var g=n.children,x=0,w=g.length;x<w;x++)b(g[x],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=H,this.render=function(t,n,s){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),f=e.state;f.setBlending(Y),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var p=0,h=t.length;p<h;p++){var v=t[p],y=v.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var x=y.getFrameExtents();if(i.multiply(x),a.copy(y.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/x.x),i.x=a.x*x.x,y.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/x.y),i.y=a.y*x.y,y.mapSize.y=a.y)),null===y.map){var w=this.type!==G?{minFilter:He,magFilter:He}:{};y.map=new Ir(i.x,i.y,w),y.map.texture.name=v.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var _=y.getViewportCount(),S=0;S<_;S++){var k=y.getViewport(S);o.set(a.x*k.x,a.y*k.y,a.x*k.z,a.y*k.w),f.viewport(o),y.updateMatrices(v,S),r=y.getFrustum(),b(n,s,y.camera,v,this.type)}!0!==y.isPointLightShadow&&this.type===G&&g(y,s),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(u,l,d)}}}function Eu(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new Ar,r=null,i=new Ar(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?q(2929):Ee(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case ge:e.depthFunc(512);break;case ye:e.depthFunc(519);break;case be:e.depthFunc(513);break;case xe:e.depthFunc(515);break;case we:e.depthFunc(514);break;case _e:e.depthFunc(518);break;case Se:e.depthFunc(516);break;case ke:e.depthFunc(517);break;default:e.depthFunc(515)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){t||(e?q(2960):Ee(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},l=new WeakMap,c=new WeakMap,d={},f={},h=new WeakMap,v=[],m=null,g=!1,y=null,b=null,x=null,w=null,_=null,S=null,k=null,E=!1,M=null,P=null,T=null,C=null,A=null,I=e.getParameter(35661),R=!1,O=0,D=e.getParameter(7938);-1!==D.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(D)[1]),R=O>=1):-1!==D.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),R=O>=2);var L=null,j={},N=e.getParameter(3088),U=e.getParameter(2978),V=(new Ar).fromArray(N),H=(new Ar).fromArray(U);function W(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var G={};function q(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function Ee(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}G[3553]=W(3553,3553,1),G[34067]=W(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),u.setClear(0),q(2929),s.setFunc(xe),Ae(!1),Ie(F),q(2884),Ce(Y);var Me=(p(r={},te,32774),p(r,ne,32778),p(r,re,32779),r);if(a)Me[ie]=32775,Me[ae]=32776;else{var Pe=t.get("EXT_blend_minmax");null!==Pe&&(Me[ie]=Pe.MIN_EXT,Me[ae]=Pe.MAX_EXT)}var Te=(p(i={},oe,0),p(i,se,1),p(i,ue,768),p(i,ce,770),p(i,me,776),p(i,he,774),p(i,fe,772),p(i,le,769),p(i,de,771),p(i,ve,775),p(i,pe,773),i);function Ce(t,n,r,i,a,o,s,u){if(t!==Y){if(!1===g&&(q(3042),g=!0),t===ee)a=a||n,o=o||r,s=s||i,n===b&&a===_||(e.blendEquationSeparate(Me[n],Me[a]),b=n,_=a),r===x&&i===w&&o===S&&s===k||(e.blendFuncSeparate(Te[r],Te[i],Te[o],Te[s]),x=r,w=i,S=o,k=s),y=t,E=null;else if(t!==y||u!==E){if(b===te&&_===te||(e.blendEquation(32774),b=te,_=te),u)switch(t){case $:e.blendFuncSeparate(1,771,1,771);break;case Z:e.blendFunc(1,1);break;case Q:e.blendFuncSeparate(0,769,0,1);break;case J:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case $:e.blendFuncSeparate(770,771,1,771);break;case Z:e.blendFunc(770,1);break;case Q:e.blendFuncSeparate(0,769,0,1);break;case J:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}x=null,w=null,S=null,k=null,y=t,E=u}}else!0===g&&(Ee(3042),g=!1)}function Ae(t){M!==t&&(t?e.frontFace(2304):e.frontFace(2305),M=t)}function Ie(t){t!==z?(q(2884),t!==P&&(t===F?e.cullFace(1029):t===B?e.cullFace(1028):e.cullFace(1032))):Ee(2884),P=t}function Re(t,n,r){t?(q(32823),C===n&&A===r||(e.polygonOffset(n,r),C=n,A=r)):Ee(32823)}return{buffers:{color:o,depth:s,stencil:u},enable:q,disable:Ee,bindFramebuffer:function(t,n){return f[t]!==n&&(e.bindFramebuffer(t,n),f[t]=n,a&&(36009===t&&(f[36160]=n),36160===t&&(f[36009]=n)),!0)},drawBuffers:function(r,i){var a=v,o=!1;if(r)if(void 0===(a=h.get(i))&&(a=[],h.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||36064!==a[0]){for(var u=0,l=s.length;u<l;u++)a[u]=36064+u;a.length=s.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:Ce,setMaterial:function(e,t){e.side===X?Ee(2884):q(2884);var n=e.side===K;t&&(n=!n),Ae(n),e.blending===$&&!1===e.transparent?Ce(Y):Ce(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;u.setTest(r),r&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Re(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?q(32926):Ee(32926)},setFlipSided:Ae,setCullFace:Ie,setLineWidth:function(t){t!==T&&(R&&e.lineWidth(t),T=t)},setPolygonOffset:Re,setScissorTest:function(e){e?q(3089):Ee(3089)},activeTexture:function(t){void 0===t&&(t=33984+I-1),L!==t&&(e.activeTexture(t),L=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===L?33984+I-1:L);var i=j[r];void 0===i&&(i={type:void 0,texture:void 0},j[r]=i),i.type===t&&i.texture===n||(L!==r&&(e.activeTexture(r),L=r),e.bindTexture(t,n||G[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=j[L];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=c.get(n).get(t);l.get(t)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),l.set(t,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===V.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),V.copy(t))},viewport:function(t){!1===H.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),H.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),d={},L=null,j={},f={},h=new WeakMap,v=[],m=null,g=!1,y=null,b=null,x=null,w=null,_=null,S=null,k=null,E=!1,M=null,P=null,T=null,C=null,A=null,V.set(0,0,e.canvas.width,e.canvas.height),H.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),u.reset()}}}function Mu(e,t,n,r,i,a,o){var s,u,l,c=i.isWebGL2,d=i.maxTextures,f=i.maxCubemapSize,h=i.maxTextureSize,v=i.maxSamples,m=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,g=/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap,b=new WeakMap,x=!1;try{x="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(G){}function w(e,t){return x?new OffscreenCanvas(e,t):fr("canvas")}function _(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?rr:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===l&&(l=w(o,s));var u=n?w(o,s):l;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function S(e){return tr(e.width)&&tr(e.height)}function k(e,t){return e.generateMipmaps&&t&&e.minFilter!==He&&e.minFilter!==Xe}function E(t){e.generateMipmap(t)}function M(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return 6403===r&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),33319===r&&(5126===i&&(s=33328),5131===i&&(s=33327),5121===i&&(s=33323)),6408===r&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=a===cn&&!1===o?35907:32856),32819===i&&(s=32854),32820===i&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function P(e,t,n){return!0===k(e,n)||e.isFramebufferTexture&&e.minFilter!==He&&e.minFilter!==Xe?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function T(e){return e===He||e===We||e===qe?9728:9729}function C(e){var t=e.target;t.removeEventListener("dispose",C),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=b.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&I(e),0===Object.keys(i).length&&b.delete(n)}r.remove(e)}(t),t.isVideoTexture&&y.delete(t)}function A(t){var n=t.target;n.removeEventListener("dispose",A),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var u=0;u<i.__webglColorRenderbuffer.length;u++)i.__webglColorRenderbuffer[u]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[u]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var l=0,c=n.length;l<c;l++){var d=r.get(n[l]);d.__webglTexture&&(e.deleteTexture(d.__webglTexture),o.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}(n)}function I(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete b.get(i)[n.__cacheKey],o.memory.textures--}var R=0;function O(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;y.get(e)!==t&&(y.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){var a=e.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void z(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,i.__webglTexture,33984+t)}var D=(p(s={},Be,10497),p(s,Ue,33071),p(s,Ve,33648),s),L=(p(u={},He,9728),p(u,We,9984),p(u,qe,9986),p(u,Xe,9729),p(u,Ye,9985),p(u,Ze,9987),u);function j(n,a,o){if(o?(e.texParameteri(n,10242,D[a.wrapS]),e.texParameteri(n,10243,D[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,D[a.wrapR]),e.texParameteri(n,10240,L[a.magFilter]),e.texParameteri(n,10241,L[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===Ue&&a.wrapT===Ue||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,T(a.magFilter)),e.texParameteri(n,10241,T(a.minFilter)),a.minFilter!==He&&a.minFilter!==Xe&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.type===at&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&a.type===ot&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function N(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",C));var i=n.source,a=b.get(i);void 0===a&&(a={},b.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var u=a[t.__cacheKey];void 0!==u&&(a[t.__cacheKey].usedTimes--,0===u.usedTimes&&I(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function z(t,i,o){var s=3553;i.isDataArrayTexture&&(s=35866),i.isData3DTexture&&(s=32879);var u=N(t,i),l=i.source;n.bindTexture(s,t.__webglTexture,33984+o);var d=r.get(l);if(l.version!==d.__version||!0===u){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);var f,p=function(e){return!c&&(e.wrapS!==Ue||e.wrapT!==Ue||e.minFilter!==He&&e.minFilter!==Xe)}(i)&&!1===S(i.image),v=_(i.image,p,!1,h),m=S(v=W(i,v))||c,g=a.convert(i.format,i.encoding),y=a.convert(i.type),b=M(i.internalFormat,g,y,i.encoding,i.isVideoTexture);j(s,i,m);var x=i.mipmaps,w=c&&!0!==i.isVideoTexture,T=void 0===d.__version||!0===u,C=P(i,v,m);if(i.isDepthTexture)b=6402,c?b=i.type===at?36012:i.type===it?33190:i.type===lt?35056:33189:i.type===at&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===vt&&6402===b&&i.type!==nt&&i.type!==it&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=it,y=a.convert(i.type)),i.format===mt&&6402===b&&(b=34041,i.type!==lt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=lt,y=a.convert(i.type))),T&&(w?n.texStorage2D(3553,1,b,v.width,v.height):n.texImage2D(3553,0,b,v.width,v.height,0,g,y,null));else if(i.isDataTexture)if(x.length>0&&m){w&&T&&n.texStorage2D(3553,C,b,x[0].width,x[0].height);for(var A=0,I=x.length;A<I;A++)f=x[A],w?n.texSubImage2D(3553,A,0,0,f.width,f.height,g,y,f.data):n.texImage2D(3553,A,b,f.width,f.height,0,g,y,f.data);i.generateMipmaps=!1}else w?(T&&n.texStorage2D(3553,C,b,v.width,v.height),n.texSubImage2D(3553,0,0,0,v.width,v.height,g,y,v.data)):n.texImage2D(3553,0,b,v.width,v.height,0,g,y,v.data);else if(i.isCompressedTexture){w&&T&&n.texStorage2D(3553,C,b,x[0].width,x[0].height);for(var R=0,O=x.length;R<O;R++)f=x[R],i.format!==ft?null!==g?w?n.compressedTexSubImage2D(3553,R,0,0,f.width,f.height,g,f.data):n.compressedTexImage2D(3553,R,b,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):w?n.texSubImage2D(3553,R,0,0,f.width,f.height,g,y,f.data):n.texImage2D(3553,R,b,f.width,f.height,0,g,y,f.data)}else if(i.isDataArrayTexture)w?(T&&n.texStorage3D(35866,C,b,v.width,v.height,v.depth),n.texSubImage3D(35866,0,0,0,0,v.width,v.height,v.depth,g,y,v.data)):n.texImage3D(35866,0,b,v.width,v.height,v.depth,0,g,y,v.data);else if(i.isData3DTexture)w?(T&&n.texStorage3D(32879,C,b,v.width,v.height,v.depth),n.texSubImage3D(32879,0,0,0,0,v.width,v.height,v.depth,g,y,v.data)):n.texImage3D(32879,0,b,v.width,v.height,v.depth,0,g,y,v.data);else if(i.isFramebufferTexture){if(T)if(w)n.texStorage2D(3553,C,b,v.width,v.height);else for(var D=v.width,L=v.height,z=0;z<C;z++)n.texImage2D(3553,z,b,D,L,0,g,y,null),D>>=1,L>>=1}else if(x.length>0&&m){w&&T&&n.texStorage2D(3553,C,b,x[0].width,x[0].height);for(var F=0,B=x.length;F<B;F++)f=x[F],w?n.texSubImage2D(3553,F,0,0,g,y,f):n.texImage2D(3553,F,b,g,y,f);i.generateMipmaps=!1}else w?(T&&n.texStorage2D(3553,C,b,v.width,v.height),n.texSubImage2D(3553,0,0,0,g,y,v)):n.texImage2D(3553,0,b,g,y,v);k(i,m)&&E(s),d.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function F(t,i,o,s,u){var l=a.convert(o.format,o.encoding),c=a.convert(o.type),d=M(o.internalFormat,l,c,o.encoding);r.get(i).__hasExternalTextures||(32879===u||35866===u?n.texImage3D(u,0,d,i.width,i.height,i.depth,0,l,c,null):n.texImage2D(u,0,d,i.width,i.height,0,l,c,null)),n.bindFramebuffer(36160,t),H(i)?m.framebufferTexture2DMultisampleEXT(36160,s,u,r.get(o).__webglTexture,0,V(i)):e.framebufferTexture2D(36160,s,u,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function B(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||H(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===at?i=36012:o.type===it&&(i=33190));var s=V(n);H(n)?m.renderbufferStorageMultisampleEXT(36161,s,i,n.width,n.height):e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var u=V(n);r&&!1===H(n)?e.renderbufferStorageMultisample(36161,u,35056,n.width,n.height):H(n)?m.renderbufferStorageMultisampleEXT(36161,u,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else for(var l=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<l.length;c++){var d=l[c],f=a.convert(d.format,d.encoding),p=a.convert(d.type),h=M(d.internalFormat,f,p,d.encoding),v=V(n);r&&!1===H(n)?e.renderbufferStorageMultisample(36161,v,h,n.width,n.height):H(n)?m.renderbufferStorageMultisampleEXT(36161,v,h,n.width,n.height):e.renderbufferStorage(36161,h,n.width,n.height)}e.bindRenderbuffer(36161,null)}function U(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),O(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=V(i);if(i.depthTexture.format===vt)H(i)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==mt)throw new Error("Unknown depthTexture format");H(i)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),B(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),B(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function V(e){return Math.min(v,e.samples)}function H(e){var n=r.get(e);return c&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function W(e,n){var r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Gn||r!==ln&&(r===cn?!1===c?!0===t.has("EXT_sRGB")&&i===ft?(e.format=Gn,e.minFilter=Xe,e.generateMipmaps=!1):n=Er.sRGBToLinear(n):i===ft&&a===Je||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=R;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),R+=1,e},this.resetTextureUnits=function(){R=0},this.setTexture2D=O,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?z(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?z(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;var s=N(t,i),u=i.source;n.bindTexture(34067,t.__webglTexture,33984+o);var l=r.get(u);if(u.version!==l.__version||!0===s){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);for(var d=i.isCompressedTexture||i.image[0].isCompressedTexture,p=i.image[0]&&i.image[0].isDataTexture,h=[],v=0;v<6;v++)h[v]=d||p?p?i.image[v].image:i.image[v]:_(i.image[v],!1,!0,f),h[v]=W(i,h[v]);var m,g=h[0],y=S(g)||c,b=a.convert(i.format,i.encoding),x=a.convert(i.type),w=M(i.internalFormat,b,x,i.encoding),T=c&&!0!==i.isVideoTexture,C=void 0===l.__version||!0===s,A=P(i,g,y);if(j(34067,i,y),d){T&&C&&n.texStorage2D(34067,A,w,g.width,g.height);for(var I=0;I<6;I++){m=h[I].mipmaps;for(var R=0;R<m.length;R++){var O=m[R];i.format!==ft?null!==b?T?n.compressedTexSubImage2D(34069+I,R,0,0,O.width,O.height,b,O.data):n.compressedTexImage2D(34069+I,R,w,O.width,O.height,0,O.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):T?n.texSubImage2D(34069+I,R,0,0,O.width,O.height,b,x,O.data):n.texImage2D(34069+I,R,w,O.width,O.height,0,b,x,O.data)}}}else{m=i.mipmaps,T&&C&&(m.length>0&&A++,n.texStorage2D(34067,A,w,h[0].width,h[0].height));for(var D=0;D<6;D++)if(p){T?n.texSubImage2D(34069+D,0,0,0,h[D].width,h[D].height,b,x,h[D].data):n.texImage2D(34069+D,0,w,h[D].width,h[D].height,0,b,x,h[D].data);for(var L=0;L<m.length;L++){var z=m[L].image[D].image;T?n.texSubImage2D(34069+D,L+1,0,0,z.width,z.height,b,x,z.data):n.texImage2D(34069+D,L+1,w,z.width,z.height,0,b,x,z.data)}}else{T?n.texSubImage2D(34069+D,0,0,0,b,x,h[D]):n.texImage2D(34069+D,0,w,b,x,h[D]);for(var F=0;F<m.length;F++){var B=m[F];T?n.texSubImage2D(34069+D,F+1,0,0,b,x,B.image[D]):n.texImage2D(34069+D,F+1,w,b,x,B.image[D])}}}k(i,y)&&E(34067),l.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(34067,o.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&F(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&U(e)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),l=r.get(s);t.addEventListener("dispose",A),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=s.version,o.memory.textures++);var d=!0===t.isWebGLCubeRenderTarget,f=!0===t.isWebGLMultipleRenderTargets,p=S(t)||c;if(d){u.__webglFramebuffer=[];for(var h=0;h<6;h++)u.__webglFramebuffer[h]=e.createFramebuffer()}else{if(u.__webglFramebuffer=e.createFramebuffer(),f)if(i.drawBuffers)for(var v=t.texture,m=0,g=v.length;m<g;m++){var y=r.get(v[m]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&t.samples>0&&!1===H(t)){var b=f?s:[s];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer);for(var x=0;x<b.length;x++){var w=b[x];u.__webglColorRenderbuffer[x]=e.createRenderbuffer(),e.bindRenderbuffer(36161,u.__webglColorRenderbuffer[x]);var _=a.convert(w.format,w.encoding),P=a.convert(w.type),T=M(w.internalFormat,_,P,w.encoding,!0===t.isXRRenderTarget),C=V(t);e.renderbufferStorageMultisample(36161,C,T,t.width,t.height),e.framebufferRenderbuffer(36160,36064+x,36161,u.__webglColorRenderbuffer[x])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),B(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(d){n.bindTexture(34067,l.__webglTexture),j(34067,s,p);for(var I=0;I<6;I++)F(u.__webglFramebuffer[I],t,s,36064,34069+I);k(s,p)&&E(34067),n.unbindTexture()}else if(f){for(var R=t.texture,O=0,D=R.length;O<D;O++){var L=R[O],N=r.get(L);n.bindTexture(3553,N.__webglTexture),j(3553,L,p),F(u.__webglFramebuffer,t,L,36064+O,3553),k(L,p)&&E(3553)}n.unbindTexture()}else{var z=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c?z=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(z,l.__webglTexture),j(z,s,p),F(u.__webglFramebuffer,t,s,36064,z),k(s,p)&&E(z),n.unbindTexture()}t.depthBuffer&&U(t)},this.updateRenderTargetMipmap=function(e){for(var t=S(e)||c,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=i.length;a<o;a++){var s=i[a];if(k(s,t)){var u=e.isWebGLCubeRenderTarget?34067:3553,l=r.get(s).__webglTexture;n.bindTexture(u,l),E(u),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(c&&t.samples>0&&!1===H(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=16384,u=[],l=t.stencilBuffer?33306:36096,d=r.get(t),f=!0===t.isWebGLMultipleRenderTargets;if(f)for(var p=0;p<i.length;p++)n.bindFramebuffer(36160,d.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+p,36161,null),n.bindFramebuffer(36160,d.__webglFramebuffer),e.framebufferTexture2D(36009,36064+p,3553,null,0);n.bindFramebuffer(36008,d.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,d.__webglFramebuffer);for(var h=0;h<i.length;h++){u.push(36064+h),t.depthBuffer&&u.push(l);var v=void 0!==d.__ignoreDepthValues&&d.__ignoreDepthValues;if(!1===v&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),f&&e.framebufferRenderbuffer(36008,36064,36161,d.__webglColorRenderbuffer[h]),!0===v&&(e.invalidateFramebuffer(36008,[l]),e.invalidateFramebuffer(36009,[l])),f){var m=r.get(i[h]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,m,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),g&&e.invalidateFramebuffer(36008,u)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),f)for(var y=0;y<i.length;y++){n.bindFramebuffer(36160,d.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+y,36161,d.__webglColorRenderbuffer[y]);var b=r.get(i[y]).__webglTexture;n.bindFramebuffer(36160,d.__webglFramebuffer),e.framebufferTexture2D(36009,36064+y,3553,b,0)}n.bindFramebuffer(36009,d.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=U,this.setupFrameBufferTexture=F,this.useMultisampledRTT=H}function Pu(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===Je)return 5121;if(n===st)return 32819;if(n===ut)return 32820;if(n===et)return 5120;if(n===tt)return 5122;if(n===nt)return 5123;if(n===rt)return 5124;if(n===it)return 5125;if(n===at)return 5126;if(n===ot)return r?5131:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===ct)return 6406;if(n===ft)return 6408;if(n===pt)return 6409;if(n===ht)return 6410;if(n===vt)return 6402;if(n===mt)return 34041;if(n===gt)return 6403;if(n===dt)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(n===Gn)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===yt)return 36244;if(n===bt)return 33319;if(n===xt)return 33320;if(n===wt)return 36249;if(n===_t||n===St||n===kt||n===Et)if(a===cn){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===_t)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===St)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===kt)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Et)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===_t)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===St)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===kt)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Et)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Mt||n===Pt||n===Tt||n===Ct){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===Mt)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Pt)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Tt)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ct)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===At)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===It||n===Rt){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===It)return a===cn?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===Rt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===Ot||n===Dt||n===Lt||n===jt||n===Nt||n===zt||n===Ft||n===Bt||n===Ut||n===Vt||n===Ht||n===Wt||n===Gt||n===qt){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===Ot)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Dt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Lt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===jt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Nt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===zt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Ft)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Bt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Ut)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Vt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Ht)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Wt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Gt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===qt)return a===cn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Kt){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===Kt)return a===cn?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}return n===lt?r?34042:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var Tu=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return k(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return M(n)}(Ka),Cu=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return M(n)}(Bi),Au={type:"move"},Iu=function(){function e(){k(this,e),this._targetRay=null,this._grip=null,this._hand=null}return M(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Cu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Cu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new zr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new zr),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Cu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new zr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new zr),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(u&&e.hand){a=!0;var l,c=x(e.hand.values());try{for(c.s();!(l=c.n()).done;){var d=l.value,f=t.getJointPose(d,n);if(void 0===u.joints[d.jointName]){var p=new Cu;p.matrixAutoUpdate=!1,p.visible=!1,u.joints[d.jointName]=p,u.add(p)}var h=u.joints[d.jointName];null!==f&&(h.matrix.fromArray(f.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=f.radius),h.visible=null!==f}}catch(y){c.e(y)}finally{c.f()}var v=u.joints["index-finger-tip"],m=u.joints["thumb-tip"],g=v.position.distanceTo(m.position);u.inputState.pinching&&g>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&g<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Au)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}}]),e}(),Ru=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s,u,l,c,d){var f;if(k(this,n),(d=void 0!==d?d:vt)!==vt&&d!==mt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&d===vt&&(i=it),void 0===i&&d===mt&&(i=lt),(f=t.call(this,null,a,o,s,u,l,d,i,c)).isDepthTexture=!0,f.image={width:e,height:r},f.magFilter=void 0!==u?u:He,f.minFilter=void 0!==l?l:He,f.flipY=!1,f.generateMipmaps=!1,f}return M(n)}(Cr),Ou=function(e){P(n,e);var t=I(n);function n(e,r){var i;k(this,n);var a=C(i=t.call(this)),s=null,l=1,c=null,d="local-floor",f=null,p=null,h=null,v=null,m=null,g=null,y=r.getContextAttributes(),b=null,x=null,w=[],_=[],S=new Ka;S.layers.enable(1),S.viewport=new Ar;var E=new Ka;E.layers.enable(2),E.viewport=new Ar;var M=[S,E],P=new Tu;P.layers.enable(1),P.layers.enable(2);var T=null,A=null;function I(e){var t=_.indexOf(e.inputSource);if(-1!==t){var n=w[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}}function R(){s.removeEventListener("select",I),s.removeEventListener("selectstart",I),s.removeEventListener("selectend",I),s.removeEventListener("squeeze",I),s.removeEventListener("squeezestart",I),s.removeEventListener("squeezeend",I),s.removeEventListener("end",R),s.removeEventListener("inputsourceschange",O);for(var t=0;t<w.length;t++){var n=_[t];null!==n&&(_[t]=null,w[t].disconnect(n))}T=null,A=null,e.setRenderTarget(b),m=null,v=null,h=null,s=null,x=null,z.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function O(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=_.indexOf(n);r>=0&&(_[r]=null,w[r].dispatchEvent({type:"disconnected",data:n}))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=_.indexOf(a);if(-1===o){for(var s=0;s<w.length;s++){if(s>=_.length){_.push(a),o=s;break}if(null===_[s]){_[s]=a,o=s;break}}if(-1===o)break}var u=w[o];u&&u.dispatchEvent({type:"connected",data:a})}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=w[e];return void 0===t&&(t=new Iu,w[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=w[e];return void 0===t&&(t=new Iu,w[e]=t),t.getGripSpace()},i.getHand=function(e){var t=w[e];return void 0===t&&(t=new Iu,w[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){l=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){d=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return f||c},i.setReferenceSpace=function(e){f=e},i.getBaseLayer=function(){return null!==v?v:m},i.getBinding=function(){return h},i.getFrame=function(){return g},i.getSession=function(){return s},i.setSession=function(){var t=u(o().mark((function t(n){var i,u,p,g,w;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(s=n)){t.next=25;break}if(b=e.getRenderTarget(),s.addEventListener("select",I),s.addEventListener("selectstart",I),s.addEventListener("selectend",I),s.addEventListener("squeeze",I),s.addEventListener("squeezestart",I),s.addEventListener("squeezeend",I),s.addEventListener("end",R),s.addEventListener("inputsourceschange",O),!0===y.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===s.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==s.renderState.layers||y.antialias,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:l},m=new XRWebGLLayer(s,r,i),s.updateRenderState({baseLayer:m}),x=new Ir(m.framebufferWidth,m.framebufferHeight,{format:ft,type:Je,encoding:e.outputEncoding,stencilBuffer:y.stencil})):(u=null,p=null,g=null,y.depth&&(g=y.stencil?35056:33190,u=y.stencil?mt:vt,p=y.stencil?lt:it),w={colorFormat:32856,depthFormat:g,scaleFactor:l},h=new XRWebGLBinding(s,r),v=h.createProjectionLayer(w),s.updateRenderState({layers:[v]}),x=new Ir(v.textureWidth,v.textureHeight,{format:ft,type:Je,depthTexture:new Ru(v.textureWidth,v.textureHeight,p,void 0,void 0,void 0,void 0,void 0,void 0,u),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0}),e.properties.get(x).__ignoreDepthValues=v.ignoreDepthValues),x.isXRRenderTarget=!0,this.setFoveation(1),f=null,t.next=20,s.requestReferenceSpace(d);case 20:c=t.sent,z.setContext(s),z.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var D=new zr,L=new zr;function j(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==s){P.near=E.near=S.near=e.near,P.far=E.far=S.far=e.far,T===P.near&&A===P.far||(s.updateRenderState({depthNear:P.near,depthFar:P.far}),T=P.near,A=P.far);var t=e.parent,n=P.cameras;j(P,t);for(var r=0;r<n.length;r++)j(n[r],t);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),e.matrix.copy(P.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var i=e.children,a=0,o=i.length;a<o;a++)i[a].updateMatrixWorld(!0);2===n.length?function(e,t,n){D.setFromMatrixPosition(t.matrixWorld),L.setFromMatrixPosition(n.matrixWorld);var r=D.distanceTo(L),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],f=o*c,p=o*d,h=r/(-c+d),v=h*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+h,g=s+h,y=f-v,b=p+(r-v),x=u*s/g*m,w=l*s/g*m;e.projectionMatrix.makePerspective(y,b,x,w,m,g)}(P,S,E):P.projectionMatrix.copy(S.projectionMatrix)}},i.getCamera=function(){return P},i.getFoveation=function(){return null!==v?v.fixedFoveation:null!==m?m.fixedFoveation:void 0},i.setFoveation=function(e){null!==v&&(v.fixedFoveation=e),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=e)};var N=null;var z=new ao;return z.setAnimationLoop((function(t,n){if(p=n.getViewerPose(f||c),g=n,null!==p){var r=p.views;null!==m&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));var i=!1;r.length!==P.cameras.length&&(P.cameras.length=0,i=!0);for(var a=0;a<r.length;a++){var o=r[a],s=null;if(null!==m)s=m.getViewport(o);else{var u=h.getViewSubImage(v,o);s=u.viewport,0===a&&(e.setRenderTargetTextures(x,u.colorTexture,v.ignoreDepthValues?void 0:u.depthStencilTexture),e.setRenderTarget(x))}var l=M[a];void 0===l&&((l=new Ka).layers.enable(a),l.viewport=new Ar,M[a]=l),l.matrix.fromArray(o.transform.matrix),l.projectionMatrix.fromArray(o.projectionMatrix),l.viewport.set(s.x,s.y,s.width,s.height),0===a&&P.matrix.copy(l.matrix),!0===i&&P.cameras.push(l)}}for(var d=0;d<w.length;d++){var y=_[d],b=w[d];null!==y&&void 0!==b&&b.update(y,n,f||c)}N&&N(t,n),g=null})),i.setAnimationLoop=function(e){N=e},i.dispose=function(){},i}return M(n)}(qn);function Du(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===K&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===K&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);var i,a,o=t.get(r).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;var s=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*s}r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap?i=r.emissiveMap:r.clearcoatMap?i=r.clearcoatMap:r.clearcoatNormalMap?i=r.clearcoatNormalMap:r.clearcoatRoughnessMap?i=r.clearcoatRoughnessMap:r.iridescenceMap?i=r.iridescenceMap:r.iridescenceThicknessMap?i=r.iridescenceThicknessMap:r.specularIntensityMap?i=r.specularIntensityMap:r.specularColorMap?i=r.specularColorMap:r.transmissionMap?i=r.transmissionMap:r.thicknessMap?i=r.thicknessMap:r.sheenColorMap?i=r.sheenColorMap:r.sheenRoughnessMap&&(i=r.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),n.uvTransform.value.copy(i.matrix)),r.aoMap?a=r.aoMap:r.lightMap&&(a=r.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,a,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap);n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===K&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,o)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Lu(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(35375):0;function u(e,t,n){var r=e.value;if(void 0===n[t])return n[t]="number"===typeof r?r:r.clone(),!0;if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else{var i=n[t];if(!1===i.equals(r))return i.copy(r),!0}return!1}function l(e){var t=e.value,n={boundary:0,storage:0};return"number"===typeof t?(n.boundary=4,n.storage=4):t.isVector2?(n.boundary=8,n.storage=8):t.isVector3||t.isColor?(n.boundary=16,n.storage=12):t.isVector4?(n.boundary=16,n.storage=16):t.isMatrix3?(n.boundary=48,n.storage=48):t.isMatrix4?(n.boundary=64,n.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),n}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){var f=i[n.id];void 0===f&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){var s=t[a],u=l(s);if(s.__data=new Float32Array(u.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-u.boundary<0&&(n+=r-i,s.__offset=n);n+=u.storage}(i=n%r)>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),f=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",c));var p=d.program;r.updateUBOMapping(n,p);var h=t.render.frame;a[n.id]!==h&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(var o=0,s=r.length;o<s;o++){var l=r[o];if(!0===u(l,o,a)){var c=l.value,d=l.__offset;"number"===typeof c?(l.__data[0]=c,e.bufferSubData(35345,d,l.__data)):(l.value.isMatrix3?(l.__data[0]=l.value.elements[0],l.__data[1]=l.value.elements[1],l.__data[2]=l.value.elements[2],l.__data[3]=l.value.elements[0],l.__data[4]=l.value.elements[3],l.__data[5]=l.value.elements[4],l.__data[6]=l.value.elements[5],l.__data[7]=l.value.elements[0],l.__data[8]=l.value.elements[6],l.__data[9]=l.value.elements[7],l.__data[10]=l.value.elements[8],l.__data[11]=l.value.elements[0]):c.toArray(l.__data),e.bufferSubData(35345,d,l.__data))}}e.bindBuffer(35345,null)}(n),a[n.id]=h)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}function ju(){var e=fr("canvas");return e.style.display="block",e}function Nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isWebGLRenderer=!0;var t,n=void 0!==e.canvas?e.canvas:ju(),r=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;t=null!==r?r.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;var d=null,f=null,p=[],h=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ln,this.physicallyCorrectLights=!1,this.toneMapping=Te,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});var v=this,m=!1,g=0,y=0,b=null,x=-1,w=null,_=new Ar,S=new Ar,k=null,E=n.width,M=n.height,P=1,T=null,C=null,A=new Ar(0,0,E,M),I=new Ar(0,0,E,M),R=!1,O=new io,D=!1,j=!1,N=null,z=new vi,F=new sr,B=new zr,U={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function V(){return null===b?P:1}var H,W,G,Y,$,Z,Q,J,ee,te,ne,re,ie,ae,oe,se,ue,le,ce,de,fe,pe,he,ve,me=r;function ge(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=n.getContext(i,t);if(null!==a)return a}return null}try{var ye={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat(L)),n.addEventListener("webglcontextlost",_e,!1),n.addEventListener("webglcontextrestored",Se,!1),n.addEventListener("webglcontextcreationerror",ke,!1),null===me){var be=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&be.shift(),null===(me=ge(be,ye)))throw ge(be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===me.getShaderPrecisionFormat&&(me.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(We){throw console.error("THREE.WebGLRenderer: "+We.message),We}function xe(){H=new Oo(me),W=new vo(me,H,e),H.init(W),pe=new Pu(me,H,W),G=new Eu(me,H,W),Y=new jo,$=new du,Z=new Mu(me,H,G,$,W,pe,Y),Q=new go(v),J=new Ro(v),ee=new oo(me,W),he=new po(me,H,ee,W),te=new Do(me,ee,Y,he),ne=new Bo(me,te,ee,Y),ce=new Fo(me,W,Z),se=new mo($),re=new cu(v,Q,J,H,W,he,se),ie=new Du(v,$),ae=new vu,oe=new wu(H,W),le=new fo(v,Q,G,ne,t,s),ue=new ku(v,ne,W),ve=new Lu(me,Y,W,G),de=new ho(me,H,Y,W),fe=new Lo(me,H,Y,W),Y.programs=re.programs,v.capabilities=W,v.extensions=H,v.properties=$,v.renderLists=ae,v.shadowMap=ue,v.state=G,v.info=Y}xe();var we=new Ou(v,me);function _e(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=Y.autoReset,t=ue.enabled,n=ue.autoUpdate,r=ue.needsUpdate,i=ue.type;xe(),Y.autoReset=e,ue.enabled=t,ue.autoUpdate=n,ue.needsUpdate=r,ue.type=i}function ke(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ee(e){var t=e.target;t.removeEventListener("dispose",Ee),Me(t)}function Me(e){Pe(e),$.remove(e)}function Pe(e){var t=$.get(e).programs;void 0!==t&&(t.forEach((function(e){re.releaseProgram(e)})),e.isShaderMaterial&&re.releaseShaderCache(e))}this.xr=we,this.getContext=function(){return me},this.getContextAttributes=function(){return me.getContextAttributes()},this.forceContextLoss=function(){var e=H.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=H.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(E,M,!1))},this.getSize=function(e){return e.set(E,M)},this.setSize=function(e,t,r){we.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=e,M=t,n.width=Math.floor(e*P),n.height=Math.floor(t*P),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(E*P,M*P).floor()},this.setDrawingBufferSize=function(e,t,r){E=e,M=t,P=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(_)},this.getViewport=function(e){return e.copy(A)},this.setViewport=function(e,t,n,r){e.isVector4?A.set(e.x,e.y,e.z,e.w):A.set(e,t,n,r),G.viewport(_.copy(A).multiplyScalar(P).floor())},this.getScissor=function(e){return e.copy(I)},this.setScissor=function(e,t,n,r){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,r),G.scissor(S.copy(I).multiplyScalar(P).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(e){G.setScissorTest(R=e)},this.setOpaqueSort=function(e){T=e},this.setTransparentSort=function(e){C=e},this.getClearColor=function(e){return e.copy(le.getClearColor())},this.setClearColor=function(){le.setClearColor.apply(le,arguments)},this.getClearAlpha=function(){return le.getClearAlpha()},this.setClearAlpha=function(){le.setClearAlpha.apply(le,arguments)},this.clear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),me.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",_e,!1),n.removeEventListener("webglcontextrestored",Se,!1),n.removeEventListener("webglcontextcreationerror",ke,!1),ae.dispose(),oe.dispose(),$.dispose(),Q.dispose(),J.dispose(),ne.dispose(),he.dispose(),ve.dispose(),re.dispose(),we.dispose(),we.removeEventListener("sessionstart",Ie),we.removeEventListener("sessionend",Re),N&&(N.dispose(),N=null),Oe.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=U);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=Ue(e,t,n,r,i);G.setMaterial(r,o);var u=n.index,l=n.attributes.position;if(null===u){if(void 0===l||0===l.count)return}else if(0===u.count)return;var c,d=1;!0===r.wireframe&&(u=te.getWireframeAttribute(n),d=2),he.setup(i,r,s,n,u);var f=de;null!==u&&(c=ee.get(u),(f=fe).setIndex(c));var p=null!==u?u.count:l.count,h=n.drawRange.start*d,v=n.drawRange.count*d,m=null!==a?a.start*d:0,g=null!==a?a.count*d:1/0,y=Math.max(h,m),b=Math.min(p,h+v,m+g)-1,x=Math.max(0,b-y+1);if(0!==x){if(i.isMesh)!0===r.wireframe?(G.setLineWidth(r.wireframeLinewidth*V()),f.setMode(1)):f.setMode(4);else if(i.isLine){var w=r.linewidth;void 0===w&&(w=1),G.setLineWidth(w*V()),i.isLineSegments?f.setMode(1):i.isLineLoop?f.setMode(2):f.setMode(3)}else i.isPoints?f.setMode(0):i.isSprite&&f.setMode(4);if(i.isInstancedMesh)f.renderInstances(y,x,i.count);else if(n.isInstancedBufferGeometry){var _=Math.min(n.instanceCount,n._maxInstanceCount);f.renderInstances(y,x,_)}else f.render(y,x)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===X?(e.side=K,e.needsUpdate=!0,Fe(e,t,n),e.side=q,e.needsUpdate=!0,Fe(e,t,n),e.side=X):Fe(e,t,n)}(f=oe.get(e)).init(),h.push(f),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))})),f.setupLights(v.physicallyCorrectLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),h.pop(),f=null};var Ce=null;function Ae(e){Ce&&Ce(e)}function Ie(){Oe.stop()}function Re(){Oe.start()}var Oe=new ao;function De(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)f.pushLight(e),e.castShadow&&f.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||O.intersectsSprite(e)){r&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var i=ne.update(e),a=e.material;a.visible&&d.push(e,i,a,n,B.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==Y.render.frame&&(e.skeleton.update(),e.skeleton.frame=Y.render.frame),!e.frustumCulled||O.intersectsObject(e))){r&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var o=ne.update(e),s=e.material;if(Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var p=u[l],h=s[p.materialIndex];h&&h.visible&&d.push(e,o,h,n,B.z,p)}else s.visible&&d.push(e,o,s,n,B.z,null)}for(var v=e.children,m=0,g=v.length;m<g;m++)De(v[m],t,n,r)}}function Le(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;f.setupLightsView(n),a.length>0&&je(i,t,n),r&&G.viewport(_.copy(r)),i.length>0&&Ne(i,t,n),a.length>0&&Ne(a,t,n),o.length>0&&Ne(o,t,n),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1)}function je(e,t,n){var r=W.isWebGL2;null===N&&(N=new Ir(1,1,{generateMipmaps:!0,type:H.has("EXT_color_buffer_half_float")?ot:Je,minFilter:Ze,samples:r&&!0===o?4:0})),v.getDrawingBufferSize(F),r?N.setSize(F.x,F.y):N.setSize(rr(F.x),rr(F.y));var i=v.getRenderTarget();v.setRenderTarget(N),v.clear();var a=v.toneMapping;v.toneMapping=Te,Ne(e,t,n),v.toneMapping=a,Z.updateMultisampleRenderTarget(N),Z.updateRenderTargetMipmap(N),v.setRenderTarget(i)}function Ne(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&ze(s,t,n,u,l,c)}}function ze(e,t,n,r,i,a){e.onBeforeRender(v,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(v,t,n,r,e,a),!0===i.transparent&&i.side===X?(i.side=K,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,a),i.side=q,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,a),i.side=X):v.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(v,t,n,r,i,a)}function Fe(e,t,n){!0!==t.isScene&&(t=U);var r=$.get(e),i=f.state.lights,a=f.state.shadowsArray,o=i.state.version,s=re.getParameters(e,i.state,a,t,n),u=re.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?J:Q).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Ee),l=new Map,r.programs=l);var c=l.get(u);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Be(e,s),c}else s.uniforms=re.getUniforms(e),e.onBuild(n,s,v),e.onBeforeCompile(s,v),c=re.acquireProgram(s,u),l.set(u,c),r.uniforms=s.uniforms;var d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=se.uniform),Be(e,s),r.needsLights=He(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);var p=c.getUniforms(),h=Ws.seqWithValue(p.seq,d);return r.currentProgram=c,r.uniformsList=h,c}function Be(e,t){var n=$.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function Ue(e,t,n,r,i){!0!==t.isScene&&(t=U),Z.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===b?v.outputEncoding:!0===b.isXRRenderTarget?b.texture.encoding:ln,u=(r.isMeshStandardMaterial?J:Q).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,d=!!n.morphAttributes.position,p=!!n.morphAttributes.normal,h=!!n.morphAttributes.color,m=r.toneMapped?v.toneMapping:Te,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==g?g.length:0,_=$.get(r),S=f.state.lights;if(!0===D&&(!0===j||e!==w)){var k=e===w&&r.id===x;se.setState(r,e,k)}var E=!1;r.version===_.__version?_.needsLights&&_.lightsStateVersion!==S.state.version||_.outputEncoding!==s||i.isInstancedMesh&&!1===_.instancing?E=!0:i.isInstancedMesh||!0!==_.instancing?i.isSkinnedMesh&&!1===_.skinning?E=!0:i.isSkinnedMesh||!0!==_.skinning?_.envMap!==u||!0===r.fog&&_.fog!==a?E=!0:void 0===_.numClippingPlanes||_.numClippingPlanes===se.numPlanes&&_.numIntersection===se.numIntersection?(_.vertexAlphas!==l||_.vertexTangents!==c||_.morphTargets!==d||_.morphNormals!==p||_.morphColors!==h||_.toneMapping!==m||!0===W.isWebGL2&&_.morphTargetsCount!==y)&&(E=!0):E=!0:E=!0:E=!0:(E=!0,_.__version=r.version);var T=_.currentProgram;!0===E&&(T=Fe(r,t,i));var C=!1,A=!1,I=!1,R=T.getUniforms(),O=_.uniforms;if(G.useProgram(T.program)&&(C=!0,A=!0,I=!0),r.id!==x&&(x=r.id,A=!0),C||w!==e){if(R.setValue(me,"projectionMatrix",e.projectionMatrix),W.logarithmicDepthBuffer&&R.setValue(me,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,A=!0,I=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var L=R.map.cameraPosition;void 0!==L&&L.setValue(me,B.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&R.setValue(me,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&R.setValue(me,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){R.setOptional(me,i,"bindMatrix"),R.setOptional(me,i,"bindMatrixInverse");var z=i.skeleton;z&&(W.floatVertexTextures?(null===z.boneTexture&&z.computeBoneTexture(),R.setValue(me,"boneTexture",z.boneTexture,Z),R.setValue(me,"boneTextureSize",z.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var F=n.morphAttributes;if((void 0!==F.position||void 0!==F.normal||void 0!==F.color&&!0===W.isWebGL2)&&ce.update(i,n,r,T),(A||_.receiveShadow!==i.receiveShadow)&&(_.receiveShadow=i.receiveShadow,R.setValue(me,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(O.envMap.value=u,O.flipEnvMap.value=u.isCubeTexture&&!1===u.isRenderTargetTexture?-1:1),A&&(R.setValue(me,"toneMappingExposure",v.toneMappingExposure),_.needsLights&&Ve(O,I),a&&!0===r.fog&&ie.refreshFogUniforms(O,a),ie.refreshMaterialUniforms(O,r,P,M,N),Ws.upload(me,_.uniformsList,O,Z)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Ws.upload(me,_.uniformsList,O,Z),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&R.setValue(me,"center",i.center),R.setValue(me,"modelViewMatrix",i.modelViewMatrix),R.setValue(me,"normalMatrix",i.normalMatrix),R.setValue(me,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var V=r.uniformsGroups,H=0,q=V.length;H<q;H++)if(W.isWebGL2){var K=V[H];ve.update(K,T),ve.bind(K,T)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return T}function Ve(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function He(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Oe.setAnimationLoop(Ae),"undefined"!==typeof self&&Oe.setContext(self),this.setAnimationLoop=function(e){Ce=e,we.setAnimationLoop(e),null===e?Oe.stop():Oe.start()},we.addEventListener("sessionstart",Ie),we.addEventListener("sessionend",Re),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==m){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(!0===we.cameraAutoUpdate&&we.updateCamera(t),t=we.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,b),(f=oe.get(e,h.length)).init(),h.push(f),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),O.setFromProjectionMatrix(z),j=this.localClippingEnabled,D=se.init(this.clippingPlanes,j,t),(d=ae.get(e,p.length)).init(),p.push(d),De(e,t,0,v.sortObjects),d.finish(),!0===v.sortObjects&&d.sort(T,C),!0===D&&se.beginShadows();var n=f.state.shadowsArray;if(ue.render(n,e,t),!0===D&&se.endShadows(),!0===this.info.autoReset&&this.info.reset(),le.render(d,e),f.setupLights(v.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Le(d,e,o,o.viewport)}else Le(d,e,t);null!==b&&(Z.updateMultisampleRenderTarget(b),Z.updateRenderTargetMipmap(b)),!0===e.isScene&&e.onAfterRender(v,e,t),he.resetDefaultState(),x=-1,w=null,h.pop(),f=h.length>0?h[h.length-1]:null,p.pop(),d=p.length>0?p[p.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(e,t,n){$.get(e.texture).__webglTexture=t,$.get(e.depthTexture).__webglTexture=n;var r=$.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===H.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=$.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=e,g=t,y=n;var r=!0;if(e){var i=$.get(e);void 0!==i.__useDefaultFramebuffer?(G.bindFramebuffer(36160,null),r=!1):void 0===i.__webglFramebuffer?Z.setupRenderTarget(e):i.__hasExternalTextures&&Z.rebindTextures(e,$.get(e.texture).__webglTexture,$.get(e.depthTexture).__webglTexture)}var a=null,o=!1,s=!1;if(e){var u=e.texture;(u.isData3DTexture||u.isDataArrayTexture)&&(s=!0);var l=$.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(a=l[t],o=!0):a=W.isWebGL2&&e.samples>0&&!1===Z.useMultisampledRTT(e)?$.get(e).__webglMultisampledFramebuffer:l,_.copy(e.viewport),S.copy(e.scissor),k=e.scissorTest}else _.copy(A).multiplyScalar(P).floor(),S.copy(I).multiplyScalar(P).floor(),k=R;var c=G.bindFramebuffer(36160,a);if(c&&W.drawBuffers&&r&&G.drawBuffers(e,a),G.viewport(_),G.scissor(S),G.setScissorTest(k),o){var d=$.get(e.texture);me.framebufferTexture2D(36160,36064,34069+t,d.__webglTexture,n)}else if(s){var f=$.get(e.texture),p=t||0;me.framebufferTextureLayer(36160,36064,f.__webglTexture,n||0,p)}x=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=$.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){G.bindFramebuffer(36160,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==ft&&pe.convert(l)!==me.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var d=c===ot&&(H.has("EXT_color_buffer_half_float")||W.isWebGL2&&H.has("EXT_color_buffer_float"));if(c!==Je&&pe.convert(c)!==me.getParameter(35738)&&(c!==at||!(W.isWebGL2||H.has("OES_texture_float")||H.has("WEBGL_color_buffer_float")))&&!d)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&me.readPixels(t,n,r,i,pe.convert(l),pe.convert(c),a)}finally{var f=null!==b?$.get(b).__webglFramebuffer:null;G.bindFramebuffer(36160,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);Z.setTexture2D(t,0),me.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),G.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=pe.convert(n.format),s=pe.convert(n.type);Z.setTexture2D(n,0),me.pixelStorei(37440,n.flipY),me.pixelStorei(37441,n.premultiplyAlpha),me.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?me.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?me.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):me.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&me.generateMipmap(3553),G.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(v.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=pe.convert(r.format),c=pe.convert(r.type);if(r.isData3DTexture)Z.setTexture3D(r,0),a=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Z.setTexture2DArray(r,0),a=35866}me.pixelStorei(37440,r.flipY),me.pixelStorei(37441,r.premultiplyAlpha),me.pixelStorei(3317,r.unpackAlignment);var d=me.getParameter(3314),f=me.getParameter(32878),p=me.getParameter(3316),h=me.getParameter(3315),m=me.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;me.pixelStorei(3314,g.width),me.pixelStorei(32878,g.height),me.pixelStorei(3316,e.min.x),me.pixelStorei(3315,e.min.y),me.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?me.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,g.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),me.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,g.data)):me.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,g),me.pixelStorei(3314,d),me.pixelStorei(32878,f),me.pixelStorei(3316,p),me.pixelStorei(3315,h),me.pixelStorei(32877,m),0===i&&r.generateMipmaps&&me.generateMipmap(a),G.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?Z.setTextureCube(e,0):e.isData3DTexture?Z.setTexture3D(e,0):e.isDataArrayTexture?Z.setTexture2DArray(e,0):Z.setTexture2D(e,0),G.unbindTexture()},this.resetState=function(){g=0,y=0,b=null,G.reset(),he.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var zu=function(e){P(n,e);var t=I(n);function n(){return k(this,n),t.apply(this,arguments)}return M(n)}(Nu);zu.prototype.isWebGL1Renderer=!0;var Fu,Bu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;k(this,e),this.isFogExp2=!0,this.name="",this.color=new kr(t),this.density=n}return M(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),Uu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;k(this,e),this.isFog=!0,this.name="",this.color=new kr(t),this.near=n,this.far=r}return M(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),Vu=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:C(e)})),e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(Bi),Hu=function(){function e(t,n){k(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Dn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Zn()}return M(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Zn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Zn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),Wu=new zr,Gu=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];k(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===i}return M(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Wu.fromBufferAttribute(this,t),Wu.applyMatrix4(e),this.setXYZ(t,Wu.x,Wu.y,Wu.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Wu.fromBufferAttribute(this,t),Wu.applyNormalMatrix(e),this.setXYZ(t,Wu.x,Wu.y,Wu.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Wu.fromBufferAttribute(this,t),Wu.transformDirection(e),this.setXYZ(t,Wu.x,Wu.y,Wu.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=ar(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=ar(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=ar(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=ar(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ir(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ir(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ir(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ir(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=ar(t,this.array),n=ar(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ar(t,this.array),n=ar(n,this.array),r=ar(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ar(t,this.array),n=ar(n,this.array),r=ar(r,this.array),i=ar(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new ra(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),qu=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new kr(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Ji),Ku=new zr,Xu=new zr,Yu=new zr,$u=new sr,Zu=new sr,Qu=new vi,Ju=new zr,el=new zr,tl=new zr,nl=new sr,rl=new sr,il=new sr,al=function(e){P(n,e);var t=I(n);function n(e){var r;if(k(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===Fu){Fu=new wa;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new Hu(i,5);Fu.setIndex([0,1,2,0,2,3]),Fu.setAttribute("position",new Gu(a,3,0,!1)),Fu.setAttribute("uv",new Gu(a,2,3,!1))}return r.geometry=Fu,r.material=void 0!==e?e:new qu,r.center=new sr(.5,.5),r}return M(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Xu.setFromMatrixScale(this.matrixWorld),Qu.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Xu.multiplyScalar(-Yu.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;ol(Ju.set(-.5,-.5,0),Yu,a,Xu,n,r),ol(el.set(.5,-.5,0),Yu,a,Xu,n,r),ol(tl.set(.5,.5,0),Yu,a,Xu,n,r),nl.set(0,0),rl.set(1,0),il.set(1,1);var o=e.ray.intersectTriangle(Ju,el,tl,!1,Ku);if(null!==o||(ol(el.set(-.5,.5,0),Yu,a,Xu,n,r),rl.set(0,1),null!==(o=e.ray.intersectTriangle(Ju,tl,el,!1,Ku)))){var s=e.ray.origin.distanceTo(Ku);s<e.near||s>e.far||t.push({distance:s,point:Ku.clone(),uv:Zi.getUV(Ku,Ju,el,tl,nl,rl,il,new sr),face:null,object:this})}}},{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Bi);function ol(e,t,n,r,i,a){$u.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Zu.x=a*$u.x-i*$u.y,Zu.y=i*$u.x+a*$u.y):Zu.copy($u),e.copy(t),e.x+=Zu.x,e.y+=Zu.y,e.applyMatrix4(Qu)}var sl=new zr,ul=new zr,ll=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(C(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return M(n,[{key:"copy",value:function(e){D(T(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){sl.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(sl);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){sl.setFromMatrixPosition(e.matrixWorld),ul.setFromMatrixPosition(this.matrixWorld);var n,r,i=sl.distanceTo(ul)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}]),n}(Bi),cl=new zr,dl=new Ar,fl=new Ar,pl=new zr,hl=new vi,vl=function(e){P(n,e);var t=I(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new vi,i.bindMatrixInverse=new vi,i}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Ar,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){D(T(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;dl.fromBufferAttribute(r.attributes.skinIndex,e),fl.fromBufferAttribute(r.attributes.skinWeight,e),cl.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=fl.getComponent(i);if(0!==a){var o=dl.getComponent(i);hl.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(pl.copy(cl).applyMatrix4(hl),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(Fa),ml=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return M(n)}(Bi),gl=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:He,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:He,p=arguments.length>10?arguments[10]:void 0,h=arguments.length>11?arguments[11]:void 0;return k(this,n),(e=t.call(this,null,u,l,c,d,f,o,s,p,h)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return M(n)}(Cr),yl=new vi,bl=new vi,xl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];k(this,e),this.uuid=Zn(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return M(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new vi)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new vi;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:bl;yl.multiplyMatrices(o,t[i]),yl.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=nr(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new gl(t,e,e,ft,at);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new ml),this.bones.push(a),this.boneInverses.push((new vi).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),wl=function(e){P(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return k(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(ra),_l=new vi,Sl=new vi,kl=[],El=new Fa,Ml=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new wl(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.frustumCulled=!1,a}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(El.geometry=this.geometry,El.material=this.material,void 0!==El.material)for(var i=0;i<r;i++){this.getMatrixAt(i,_l),Sl.multiplyMatrices(n,_l),El.matrixWorld=Sl,El.raycast(e,kl);for(var a=0,o=kl.length;a<o;a++){var s=kl[a];s.instanceId=i,s.object=this,t.push(s)}kl.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new wl(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Fa),Pl=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new kr(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(Ji),Tl=new zr,Cl=new zr,Al=new vi,Il=new hi,Rl=new oi,Ol=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wa,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pl;return k(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Tl.fromBufferAttribute(t,r-1),Cl.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Tl.distanceTo(Cl);e.setAttribute("lineDistance",new fa(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Rl.copy(n.boundingSphere),Rl.applyMatrix4(r),Rl.radius+=i,!1!==e.ray.intersectsSphere(Rl)){Al.copy(r).invert(),Il.copy(e.ray).applyMatrix4(Al);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new zr,l=new zr,c=new zr,d=new zr,f=this.isLineSegments?2:1,p=n.index,h=n.attributes.position;if(null!==p)for(var v=Math.max(0,a.start),m=Math.min(p.count,a.start+a.count)-1;v<m;v+=f){var g=p.getX(v),y=p.getX(v+1);if(u.fromBufferAttribute(h,g),l.fromBufferAttribute(h,y),!(Il.distanceSqToSegment(u,l,d,c)>s)){d.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(d);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var x=Math.max(0,a.start),w=Math.min(h.count,a.start+a.count)-1;x<w;x+=f){if(u.fromBufferAttribute(h,x),l.fromBufferAttribute(h,x+1),!(Il.distanceSqToSegment(u,l,d,c)>s)){d.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(d);_<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Bi),Dl=new zr,Ll=new zr,jl=function(e){P(n,e);var t=I(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return M(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Dl.fromBufferAttribute(t,r),Ll.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Dl.distanceTo(Ll);e.setAttribute("lineDistance",new fa(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(Ol),Nl=function(e){P(n,e);var t=I(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return M(n)}(Ol),zl=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new kr(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Ji),Fl=new vi,Bl=new hi,Ul=new oi,Vl=new zr,Hl=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wa,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zl;return k(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ul.copy(n.boundingSphere),Ul.applyMatrix4(r),Ul.radius+=i,!1!==e.ray.intersectsSphere(Ul)){Fl.copy(r).invert(),Bl.copy(e.ray).applyMatrix4(Fl);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=n.index,l=n.attributes.position;if(null!==u)for(var c=Math.max(0,a.start),d=Math.min(u.count,a.start+a.count);c<d;c++){var f=u.getX(c);Vl.fromBufferAttribute(l,f),Wl(Vl,f,s,r,e,t,this)}else for(var p=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);p<h;p++)Vl.fromBufferAttribute(l,p),Wl(Vl,p,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Bi);function Wl(e,t,n,r,i,a,o){var s=Bl.distanceSqToPoint(e);if(s<n){var u=new zr;Bl.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}var Gl=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s,u,l,c){var d;k(this,n),(d=t.call(this,e,r,i,a,o,s,u,l,c)).isVideoTexture=!0,d.minFilter=void 0!==s?s:Xe,d.magFilter=void 0!==o?o:Xe,d.generateMipmaps=!1;var f=C(d);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){f.needsUpdate=!0,e.requestVideoFrameCallback(t)})),d}return M(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Cr),ql=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,a.format=i,a.magFilter=He,a.minFilter=He,a.generateMipmaps=!1,a.needsUpdate=!0,a}return M(n)}(Cr),Kl=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s,u,l,c,d,f,p){var h;return k(this,n),(h=t.call(this,null,s,u,l,c,d,a,o,f,p)).isCompressedTexture=!0,h.image={width:r,height:i},h.mipmaps=e,h.flipY=!1,h.generateMipmaps=!1,h}return M(n)}(Cr),Xl=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s,u,l,c){var d;return k(this,n),(d=t.call(this,e,r,i,a,o,s,u,l,c)).isCanvasTexture=!0,d.needsUpdate=!0,d}return M(n)}(Cr),Yl=function(){function e(){k(this,e),this.type="Curve",this.arcLengthDivisions=200}return M(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new sr:new zr);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new zr,r=[],i=[],a=[],o=new zr,s=new vi,u=0;u<=e;u++){var l=u/e;r[u]=this.getTangentAt(l,new zr)}i[0]=new zr,a[0]=new zr;var c=Number.MAX_VALUE,d=Math.abs(r[0].x),f=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=c&&(c=d,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),p<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var h=1;h<=e;h++){if(i[h]=i[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(r[h-1],r[h]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(Qn(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(o,v))}a[h].crossVectors(r[h],i[h])}if(!0===t){var m=Math.acos(Qn(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],m*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),$l=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return k(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=l,e.aRotation=c,e}return M(n,[{key:"getPoint",value:function(e,t){for(var n=t||new sr,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,f=u-this.aY;s=d*l-f*c+this.aX,u=d*c+f*l+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(Yl),Zl=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s){var u;return k(this,n),(u=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,u.type="ArcCurve",u}return M(n)}($l);function Ql(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var Jl=new zr,ec=new Ql,tc=new Ql,nc=new Ql,rc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return k(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return M(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr,i=r,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,u=Math.floor(s),l=s-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:0===l&&u===o-1&&(u=o-2,l=1),this.closed||u>0?t=a[(u-1)%o]:(Jl.subVectors(a[0],a[1]).add(a[0]),t=Jl);var c=a[u%o],d=a[(u+1)%o];if(this.closed||u+2<o?n=a[(u+2)%o]:(Jl.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=Jl),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,p=Math.pow(t.distanceToSquared(c),f),h=Math.pow(c.distanceToSquared(d),f),v=Math.pow(d.distanceToSquared(n),f);h<1e-4&&(h=1),p<1e-4&&(p=h),v<1e-4&&(v=h),ec.initNonuniformCatmullRom(t.x,c.x,d.x,n.x,p,h,v),tc.initNonuniformCatmullRom(t.y,c.y,d.y,n.y,p,h,v),nc.initNonuniformCatmullRom(t.z,c.z,d.z,n.z,p,h,v)}else"catmullrom"===this.curveType&&(ec.initCatmullRom(t.x,c.x,d.x,n.x,this.tension),tc.initCatmullRom(t.y,c.y,d.y,n.y,this.tension),nc.initCatmullRom(t.z,c.z,d.z,n.z,this.tension));return i.set(ec.calc(l),tc.calc(l),nc.calc(l)),i}},{key:"copy",value:function(e){D(T(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){D(T(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new zr).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(Yl);function ic(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function ac(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function oc(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var sc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new sr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new sr;return k(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(oc(e,r.x,i.x,a.x,o.x),oc(e,r.y,i.y,a.y,o.y)),n}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Yl),uc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new zr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new zr;return k(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(oc(e,r.x,i.x,a.x,o.x),oc(e,r.y,i.y,a.y,o.y),oc(e,r.z,i.z,a.z,o.z)),n}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Yl),lc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr;return k(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new sr;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Yl),cc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr;return k(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Yl),dc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new sr;return k(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(ac(e,r.x,i.x,a.x),ac(e,r.y,i.y,a.y)),n}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Yl),fc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new zr;return k(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(ac(e,r.x,i.x,a.x),ac(e,r.y,i.y,a.y),ac(e,r.z,i.z,a.z)),n}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Yl),pc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return k(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr,n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(ic(o,s.x,u.x,l.x,c.x),ic(o,s.y,u.y,l.y,c.y)),n}},{key:"copy",value:function(e){D(T(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){D(T(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new sr).fromArray(i))}return this}}]),n}(Yl),hc=Object.freeze({__proto__:null,ArcCurve:Zl,CatmullRomCurve3:rc,CubicBezierCurve:sc,CubicBezierCurve3:uc,EllipseCurve:$l,LineCurve:lc,LineCurve3:cc,QuadraticBezierCurve:dc,QuadraticBezierCurve3:fc,SplineCurve:pc}),vc=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return M(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new lc(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),u=0===s?0:1-a/s;return o.getPointAt(u,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){D(T(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){D(T(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new hc[i.type]).fromJSON(i))}return this}}]),n}(Yl),mc=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).type="Path",r.currentPoint=new sr,e&&r.setFromPoints(e),r}return M(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new lc(this.currentPoint.clone(),new sr(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new dc(this.currentPoint.clone(),new sr(e,t),new sr(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new sc(this.currentPoint.clone(),new sr(e,t),new sr(n,r),new sr(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new pc(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var u=new $l(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(vc),gc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new sr(0,-.5),new sr(.5,0),new sr(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;k(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=Qn(o,0,2*Math.PI);for(var s=[],u=[],l=[],c=[],d=[],f=1/i,p=new zr,h=new sr,v=new zr,m=new zr,g=new zr,y=0,b=0,x=0;x<=r.length-1;x++)switch(x){case 0:y=r[x+1].x-r[x].x,b=r[x+1].y-r[x].y,v.x=1*b,v.y=-y,v.z=0*b,g.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case r.length-1:c.push(g.x,g.y,g.z);break;default:y=r[x+1].x-r[x].x,b=r[x+1].y-r[x].y,v.x=1*b,v.y=-y,v.z=0*b,m.copy(v),v.x+=g.x,v.y+=g.y,v.z+=g.z,v.normalize(),c.push(v.x,v.y,v.z),g.copy(m)}for(var w=0;w<=i;w++)for(var _=a+w*f*o,S=Math.sin(_),E=Math.cos(_),M=0;M<=r.length-1;M++){p.x=r[M].x*S,p.y=r[M].y,p.z=r[M].x*E,u.push(p.x,p.y,p.z),h.x=w/i,h.y=M/(r.length-1),l.push(h.x,h.y);var P=c[3*M+0]*S,T=c[3*M+1],C=c[3*M+0]*E;d.push(P,T,C)}for(var A=0;A<i;A++)for(var I=0;I<r.length-1;I++){var R=I+A*r.length,O=R,D=R+r.length,L=R+r.length+1,j=R+1;s.push(O,D,j),s.push(L,j,D)}return e.setIndex(s),e.setAttribute("position",new fa(u,3)),e.setAttribute("uv",new fa(l,2)),e.setAttribute("normal",new fa(d,3)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(wa),yc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;k(this,n);var s=new mc;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,height:i,capSegments:a,radialSegments:o},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(gc),bc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;k(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],u=[],l=[],c=[],d=new zr,f=new sr;u.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var p=0,h=3;p<=i;p++,h+=3){var v=a+p/i*o;d.x=r*Math.cos(v),d.y=r*Math.sin(v),u.push(d.x,d.y,d.z),l.push(0,0,1),f.x=(u[h]/r+1)/2,f.y=(u[h+1]/r+1)/2,c.push(f.x,f.y)}for(var m=1;m<=i;m++)s.push(m,m+1,0);return e.setIndex(s),e.setAttribute("position",new fa(u,3)),e.setAttribute("normal",new fa(l,3)),e.setAttribute("uv",new fa(c,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(wa),xc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;k(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:l,thetaLength:c};var d=C(e);o=Math.floor(o),s=Math.floor(s);var f=[],p=[],h=[],v=[],m=0,g=[],y=a/2,b=0;function x(){for(var e=new zr,t=new zr,n=0,u=(i-r)/a,x=0;x<=s;x++){for(var w=[],_=x/s,S=_*(i-r)+r,k=0;k<=o;k++){var E=k/o,M=E*c+l,P=Math.sin(M),T=Math.cos(M);t.x=S*P,t.y=-_*a+y,t.z=S*T,p.push(t.x,t.y,t.z),e.set(P,u,T).normalize(),h.push(e.x,e.y,e.z),v.push(E,1-_),w.push(m++)}g.push(w)}for(var C=0;C<o;C++)for(var A=0;A<s;A++){var I=g[A][C],R=g[A+1][C],O=g[A+1][C+1],D=g[A][C+1];f.push(I,R,D),f.push(R,O,D),n+=6}d.addGroup(b,n,0),b+=n}function w(e){for(var t=m,n=new sr,a=new zr,s=0,u=!0===e?r:i,g=!0===e?1:-1,x=1;x<=o;x++)p.push(0,y*g,0),h.push(0,g,0),v.push(.5,.5),m++;for(var w=m,_=0;_<=o;_++){var S=_/o*c+l,k=Math.cos(S),E=Math.sin(S);a.x=u*E,a.y=y*g,a.z=u*k,p.push(a.x,a.y,a.z),h.push(0,g,0),n.x=.5*k+.5,n.y=.5*E*g+.5,v.push(n.x,n.y),m++}for(var M=0;M<o;M++){var P=t+M,T=w+M;!0===e?f.push(T,T+1,P):f.push(T+1,T,P),s+=3}d.addGroup(b,s,!0===e?1:2),b+=s}return x(),!1===u&&(r>0&&w(!0),i>0&&w(!1)),e.setIndex(f),e.setAttribute("position",new fa(p,3)),e.setAttribute("normal",new fa(h,3)),e.setAttribute("uv",new fa(v,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(wa),wc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return k(this,n),(e=t.call(this,0,r,i,a,o,s,u,l)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(xc),_c=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;k(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],u=[];function l(e){for(var t=new zr,n=new zr,r=new zr,a=0;a<i.length;a+=3)v(i[a+0],t),v(i[a+1],n),v(i[a+2],r),c(t,n,r,e)}function c(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),u=t.clone().lerp(n,o/i),l=i-o,c=0;c<=l;c++)a[o][c]=0===c&&o===i?s:s.clone().lerp(u,c/l)}for(var d=0;d<i;d++)for(var f=0;f<2*(i-d)-1;f++){var p=Math.floor(f/2);f%2===0?(h(a[d][p+1]),h(a[d+1][p]),h(a[d][p])):(h(a[d][p+1]),h(a[d+1][p+1]),h(a[d+1][p]))}}function d(e){for(var t=new zr,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function f(){for(var e=new zr,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=y(e)/2/Math.PI+.5,r=b(e)/Math.PI+.5;u.push(n,1-r)}m(),p()}function p(){for(var e=0;e<u.length;e+=6){var t=u[e+0],n=u[e+2],r=u[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(u[e+0]+=1),n<.2&&(u[e+2]+=1),r<.2&&(u[e+4]+=1))}}function h(e){s.push(e.x,e.y,e.z)}function v(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function m(){for(var e=new zr,t=new zr,n=new zr,r=new zr,i=new sr,a=new sr,o=new sr,l=0,c=0;l<s.length;l+=9,c+=6){e.set(s[l+0],s[l+1],s[l+2]),t.set(s[l+3],s[l+4],s[l+5]),n.set(s[l+6],s[l+7],s[l+8]),i.set(u[c+0],u[c+1]),a.set(u[c+2],u[c+3]),o.set(u[c+4],u[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=y(r);g(i,c+0,e,d),g(a,c+2,t,d),g(o,c+4,n,d)}}function g(e,t,n,r){r<0&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}function y(e){return Math.atan2(e.z,-e.x)}function b(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return l(o),d(a),f(),e.setAttribute("position",new fa(s,3)),e.setAttribute("normal",new fa(s.slice(),3)),e.setAttribute("uv",new fa(u,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(wa),Sc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;k(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o],u=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,u,r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(_c),kc=new zr,Ec=new zr,Mc=new zr,Pc=new Zi,Tc=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(k(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=4,o=Math.pow(10,a),s=Math.cos(Yn*i),u=r.getIndex(),l=r.getAttribute("position"),c=u?u.count:l.count,d=[0,0,0],f=["a","b","c"],p=new Array(3),h={},v=[],m=0;m<c;m+=3){u?(d[0]=u.getX(m),d[1]=u.getX(m+1),d[2]=u.getX(m+2)):(d[0]=m,d[1]=m+1,d[2]=m+2);var g=Pc.a,y=Pc.b,b=Pc.c;if(g.fromBufferAttribute(l,d[0]),y.fromBufferAttribute(l,d[1]),b.fromBufferAttribute(l,d[2]),Pc.getNormal(Mc),p[0]="".concat(Math.round(g.x*o),",").concat(Math.round(g.y*o),",").concat(Math.round(g.z*o)),p[1]="".concat(Math.round(y.x*o),",").concat(Math.round(y.y*o),",").concat(Math.round(y.z*o)),p[2]="".concat(Math.round(b.x*o),",").concat(Math.round(b.y*o),",").concat(Math.round(b.z*o)),p[0]!==p[1]&&p[1]!==p[2]&&p[2]!==p[0])for(var x=0;x<3;x++){var w=(x+1)%3,_=p[x],S=p[w],E=Pc[f[x]],M=Pc[f[w]],P="".concat(_,"_").concat(S),T="".concat(S,"_").concat(_);T in h&&h[T]?(Mc.dot(h[T].normal)<=s&&(v.push(E.x,E.y,E.z),v.push(M.x,M.y,M.z)),h[T]=null):P in h||(h[P]={index0:d[x],index1:d[w],normal:Mc.clone()})}}for(var C in h)if(h[C]){var A=h[C],I=A.index0,R=A.index1;kc.fromBufferAttribute(l,I),Ec.fromBufferAttribute(l,R),v.push(kc.x,kc.y,kc.z),v.push(Ec.x,Ec.y,Ec.z)}e.setAttribute("position",new fa(v,3))}return e}return M(n)}(wa),Cc=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this,e)).uuid=Zn(),r.type="Shape",r.holes=[],r}return M(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){D(T(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){D(T(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new mc).fromJSON(i))}return this}}]),n}(mc),Ac=function(e,t){var n,r,i,a,o,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,d=c?t[0]*l:e.length,f=Ic(e,0,d,l,!0),p=[];if(!f||f.next===f.prev)return p;if(c&&(f=zc(e,t,f,l)),e.length>80*l){n=i=e[0],r=a=e[1];for(var h=l;h<d;h+=l)(o=e[h])<n&&(n=o),(s=e[h+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);u=0!==(u=Math.max(i-n,a-r))?1/u:0}return Oc(f,p,l,n,r,u),p};function Ic(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Jc(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Jc(a,e[a],e[a+1],o);return o&&Kc(o,o.next)&&(ed(o),o=o.next),o}function Rc(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Kc(r,r.next)&&0!==qc(r.prev,r,r.next))r=r.next;else{if(ed(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Oc(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Vc(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?Lc(e,r,i,a):Dc(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),ed(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?Oc(e=jc(Rc(e),t,n),t,n,r,i,a,2):2===o&&Nc(e,t,n,r,i,a):Oc(Rc(e),t,n,r,i,a,1);break}}}function Dc(e){var t=e.prev,n=e,r=e.next;if(qc(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Wc(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&qc(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Lc(e,t,n,r){var i=e.prev,a=e,o=e.next;if(qc(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=Vc(s,u,t,n,r),f=Vc(l,c,t,n,r),p=e.prevZ,h=e.nextZ;p&&p.z>=d&&h&&h.z<=f;){if(p!==e.prev&&p!==e.next&&Wc(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&qc(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,h!==e.prev&&h!==e.next&&Wc(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&qc(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&Wc(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&qc(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;h&&h.z<=f;){if(h!==e.prev&&h!==e.next&&Wc(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&qc(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function jc(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Kc(i,a)&&Xc(i,r,r.next,a)&&Zc(i,a)&&Zc(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),ed(r),ed(r.next),r=e=a),r=r.next}while(r!==e);return Rc(r)}function Nc(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Gc(o,s)){var u=Qc(o,s);return o=Rc(o,o.next),u=Rc(u,u.next),Oc(o,t,n,r,i,a),void Oc(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function zc(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=Ic(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Hc(o));for(s.sort(Fc),i=0;i<s.length;i++)Bc(s[i],n),n=Rc(n,n.next);return n}function Fc(e,t){return e.x-t.x}function Bc(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var u,l=n,c=n.x,d=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Wc(a<d?i:o,a,c,d,a<d?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),Zc(r,e)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&Uc(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(e,t),t){var n=Qc(t,e);Rc(t,t.next),Rc(n,n.next)}}function Uc(e,t){return qc(e.prev,e,t.prev)<0&&qc(t.next,e,e.next)<0}function Vc(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Hc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Wc(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Gc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Xc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Zc(e,t)&&Zc(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(qc(e.prev,e,t.prev)||qc(e,t.prev,t))||Kc(e,t)&&qc(e.prev,e,e.next)>0&&qc(t.prev,t,t.next)>0)}function qc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Kc(e,t){return e.x===t.x&&e.y===t.y}function Xc(e,t,n,r){var i=$c(qc(e,t,n)),a=$c(qc(e,t,r)),o=$c(qc(n,r,e)),s=$c(qc(n,r,t));return i!==a&&o!==s||(!(0!==i||!Yc(e,n,t))||(!(0!==a||!Yc(e,r,t))||(!(0!==o||!Yc(n,e,r))||!(0!==s||!Yc(n,t,r)))))}function Yc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function $c(e){return e>0?1:e<0?-1:0}function Zc(e,t){return qc(e.prev,e,e.next)<0?qc(e,t,e.next)>=0&&qc(e,e.prev,t)>=0:qc(e,t,e.prev)<0||qc(e,e.next,t)<0}function Qc(e,t){var n=new td(e.i,e.x,e.y),r=new td(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Jc(e,t,n,r){var i=new td(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ed(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function td(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var nd=function(){function e(){k(this,e)}return M(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];rd(e),id(n,e);var a=e.length;t.forEach(rd);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,id(n,t[o]);for(var s=Ac(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}]),e}();function rd(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function id(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var ad=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Cc([new sr(.5,.5),new sr(-.5,.5),new sr(-.5,-.5),new sr(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=C(e),o=[],s=[],u=0,l=r.length;u<l;u++){var c=r[u];d(c)}function d(e){var t,n,r,u,l,c=[],d=void 0!==i.curveSegments?i.curveSegments:12,f=void 0!==i.steps?i.steps:1,p=void 0!==i.depth?i.depth:1,h=void 0===i.bevelEnabled||i.bevelEnabled,v=void 0!==i.bevelThickness?i.bevelThickness:.2,m=void 0!==i.bevelSize?i.bevelSize:v-.1,g=void 0!==i.bevelOffset?i.bevelOffset:0,y=void 0!==i.bevelSegments?i.bevelSegments:3,b=i.extrudePath,x=void 0!==i.UVGenerator?i.UVGenerator:od,w=!1;b&&(t=b.getSpacedPoints(f),w=!0,h=!1,n=b.computeFrenetFrames(f,!1),r=new zr,u=new zr,l=new zr),h||(y=0,v=0,m=0,g=0);var _=e.extractPoints(d),S=_.shape,k=_.holes;if(!nd.isClockWise(S)){S=S.reverse();for(var E=0,M=k.length;E<M;E++){var P=k[E];nd.isClockWise(P)&&(k[E]=P.reverse())}}for(var T=nd.triangulateShape(S,k),C=S,A=0,I=k.length;A<I;A++){var R=k[A];S=S.concat(R)}function O(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var D=S.length,L=T.length;function j(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,d=o*l-s*u;if(Math.abs(d)>Number.EPSILON){var f=Math.sqrt(c),p=Math.sqrt(u*u+l*l),h=t.x-s/f,v=t.y+o/f,m=((n.x-l/p-h)*l-(n.y+u/p-v)*u)/(o*l-s*u),g=(r=h+o*m-e.x)*r+(i=v+s*m-e.y)*i;if(g<=2)return new sr(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new sr(r/a,i/a)}for(var N=[],z=0,F=C.length,B=F-1,U=z+1;z<F;z++,B++,U++)B===F&&(B=0),U===F&&(U=0),N[z]=j(C[z],C[B],C[U]);for(var V,H=[],W=N.concat(),G=0,q=k.length;G<q;G++){var K=k[G];V=[];for(var X=0,Y=K.length,$=Y-1,Z=X+1;X<Y;X++,$++,Z++)$===Y&&($=0),Z===Y&&(Z=0),V[X]=j(K[X],K[$],K[Z]);H.push(V),W=W.concat(V)}for(var Q=0;Q<y;Q++){for(var J=Q/y,ee=v*Math.cos(J*Math.PI/2),te=m*Math.sin(J*Math.PI/2)+g,ne=0,re=C.length;ne<re;ne++){var ie=O(C[ne],N[ne],te);Ie(ie.x,ie.y,-ee)}for(var ae=0,oe=k.length;ae<oe;ae++){var se=k[ae];V=H[ae];for(var ue=0,le=se.length;ue<le;ue++){var ce=O(se[ue],V[ue],te);Ie(ce.x,ce.y,-ee)}}}for(var de=m+g,fe=0;fe<D;fe++){var pe=h?O(S[fe],W[fe],de):S[fe];w?(u.copy(n.normals[0]).multiplyScalar(pe.x),r.copy(n.binormals[0]).multiplyScalar(pe.y),l.copy(t[0]).add(u).add(r),Ie(l.x,l.y,l.z)):Ie(pe.x,pe.y,0)}for(var he=1;he<=f;he++)for(var ve=0;ve<D;ve++){var me=h?O(S[ve],W[ve],de):S[ve];w?(u.copy(n.normals[he]).multiplyScalar(me.x),r.copy(n.binormals[he]).multiplyScalar(me.y),l.copy(t[he]).add(u).add(r),Ie(l.x,l.y,l.z)):Ie(me.x,me.y,p/f*he)}for(var ge=y-1;ge>=0;ge--){for(var ye=ge/y,be=v*Math.cos(ye*Math.PI/2),xe=m*Math.sin(ye*Math.PI/2)+g,we=0,_e=C.length;we<_e;we++){var Se=O(C[we],N[we],xe);Ie(Se.x,Se.y,p+be)}for(var ke=0,Ee=k.length;ke<Ee;ke++){var Me=k[ke];V=H[ke];for(var Pe=0,Te=Me.length;Pe<Te;Pe++){var Ce=O(Me[Pe],V[Pe],xe);w?Ie(Ce.x,Ce.y+t[f-1].y,t[f-1].x+be):Ie(Ce.x,Ce.y,p+be)}}}function Ae(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=f+2*y;a<o;a++){var s=D*a,u=D*(a+1);Oe(t+r+s,t+i+s,t+i+u,t+r+u)}}}function Ie(e,t,n){c.push(e),c.push(t),c.push(n)}function Re(e,t,n){De(e),De(t),De(n);var r=o.length/3,i=x.generateTopUV(a,o,r-3,r-2,r-1);Le(i[0]),Le(i[1]),Le(i[2])}function Oe(e,t,n,r){De(e),De(t),De(r),De(t),De(n),De(r);var i=o.length/3,s=x.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Le(s[0]),Le(s[1]),Le(s[3]),Le(s[1]),Le(s[2]),Le(s[3])}function De(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function Le(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(h){for(var t=0,n=D*t,r=0;r<L;r++){var i=T[r];Re(i[2]+n,i[1]+n,i[0]+n)}n=D*(t=f+2*y);for(var s=0;s<L;s++){var u=T[s];Re(u[0]+n,u[1]+n,u[2]+n)}}else{for(var l=0;l<L;l++){var c=T[l];Re(c[2],c[1],c[0])}for(var d=0;d<L;d++){var p=T[d];Re(p[0]+D*f,p[1]+D*f,p[2]+D*f)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Ae(C,t),t+=C.length;for(var n=0,r=k.length;n<r;n++){var i=k[n];Ae(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new fa(o,3)),e.setAttribute("uv",new fa(s,2)),e.computeVertexNormals(),e}return M(n,[{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new hc[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(wa),od={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new sr(a,o),new sr(s,u),new sr(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],d=t[3*r+2],f=t[3*i],p=t[3*i+1],h=t[3*i+2],v=t[3*a],m=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<Math.abs(o-l)?[new sr(o,1-u),new sr(l,1-d),new sr(f,1-h),new sr(v,1-g)]:[new sr(s,1-u),new sr(c,1-d),new sr(p,1-h),new sr(m,1-g)]}};var sd=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;k(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,o,s,r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(_c),ud=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;k(this,n);var a=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,a,o,r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(_c),ld=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;k(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:u},a=Math.max(3,a);for(var l=[],c=[],d=[],f=[],p=r,h=(i-r)/(o=Math.max(1,o)),v=new zr,m=new sr,g=0;g<=o;g++){for(var y=0;y<=a;y++){var b=s+y/a*u;v.x=p*Math.cos(b),v.y=p*Math.sin(b),c.push(v.x,v.y,v.z),d.push(0,0,1),m.x=(v.x/i+1)/2,m.y=(v.y/i+1)/2,f.push(m.x,m.y)}p+=h}for(var x=0;x<o;x++)for(var w=x*(a+1),_=0;_<a;_++){var S=_+w,E=S,M=S+a+1,P=S+a+2,T=S+1;l.push(E,M,T),l.push(M,P,T)}return e.setIndex(l),e.setAttribute("position",new fa(c,3)),e.setAttribute("normal",new fa(d,3)),e.setAttribute("uv",new fa(f,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(wa),cd=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Cc([new sr(0,.5),new sr(-.5,-.5),new sr(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;k(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],u=[],l=0,c=0;if(!1===Array.isArray(r))f(r);else for(var d=0;d<r.length;d++)f(r[d]),e.addGroup(l,c,d),l+=c,c=0;function f(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,l=n.holes;!1===nd.isClockWise(r)&&(r=r.reverse());for(var d=0,f=l.length;d<f;d++){var p=l[d];!0===nd.isClockWise(p)&&(l[d]=p.reverse())}for(var h=nd.triangulateShape(r,l),v=0,m=l.length;v<m;v++){var g=l[v];r=r.concat(g)}for(var y=0,b=r.length;y<b;y++){var x=r[y];o.push(x.x,x.y,0),s.push(0,0,1),u.push(x.x,x.y)}for(var w=0,_=h.length;w<_;w++){var S=h[w],k=S[0]+t,E=S[1]+t,M=S[2]+t;a.push(k,E,M),c+=3}}return e.setIndex(a),e.setAttribute("position",new fa(o,3)),e.setAttribute("normal",new fa(s,3)),e.setAttribute("uv",new fa(u,2)),e}return M(n,[{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(wa);var dd=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;k(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:u,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(u+l,Math.PI),d=0,f=[],p=new zr,h=new zr,v=[],m=[],g=[],y=[],b=0;b<=a;b++){var x=[],w=b/a,_=0;0==b&&0==u?_=.5/i:b==a&&c==Math.PI&&(_=-.5/i);for(var S=0;S<=i;S++){var E=S/i;p.x=-r*Math.cos(o+E*s)*Math.sin(u+w*l),p.y=r*Math.cos(u+w*l),p.z=r*Math.sin(o+E*s)*Math.sin(u+w*l),m.push(p.x,p.y,p.z),h.copy(p).normalize(),g.push(h.x,h.y,h.z),y.push(E+_,1-w),x.push(d++)}f.push(x)}for(var M=0;M<a;M++)for(var P=0;P<i;P++){var T=f[M][P+1],C=f[M][P],A=f[M+1][P],I=f[M+1][P+1];(0!==M||u>0)&&v.push(T,C,I),(M!==a-1||c<Math.PI)&&v.push(C,A,I)}return e.setIndex(v),e.setAttribute("position",new fa(m,3)),e.setAttribute("normal",new fa(g,3)),e.setAttribute("uv",new fa(y,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(wa),fd=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;k(this,n);var a=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,a,o,r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(_c),pd=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;k(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var u=[],l=[],c=[],d=[],f=new zr,p=new zr,h=new zr,v=0;v<=a;v++)for(var m=0;m<=o;m++){var g=m/o*s,y=v/a*Math.PI*2;p.x=(r+i*Math.cos(y))*Math.cos(g),p.y=(r+i*Math.cos(y))*Math.sin(g),p.z=i*Math.sin(y),l.push(p.x,p.y,p.z),f.x=r*Math.cos(g),f.y=r*Math.sin(g),h.subVectors(p,f).normalize(),c.push(h.x,h.y,h.z),d.push(m/o),d.push(v/a)}for(var b=1;b<=a;b++)for(var x=1;x<=o;x++){var w=(o+1)*b+x-1,_=(o+1)*(b-1)+x-1,S=(o+1)*(b-1)+x,E=(o+1)*b+x;u.push(w,_,E),u.push(_,S,E)}return e.setIndex(u),e.setAttribute("position",new fa(l,3)),e.setAttribute("normal",new fa(c,3)),e.setAttribute("uv",new fa(d,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(wa),hd=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;k(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:u},a=Math.floor(a),o=Math.floor(o);for(var l=[],c=[],d=[],f=[],p=new zr,h=new zr,v=new zr,m=new zr,g=new zr,y=new zr,b=new zr,x=0;x<=a;++x){var w=x/a*s*Math.PI*2;O(w,s,u,r,v),O(w+.01,s,u,r,m),y.subVectors(m,v),b.addVectors(m,v),g.crossVectors(y,b),b.crossVectors(g,y),g.normalize(),b.normalize();for(var _=0;_<=o;++_){var S=_/o*Math.PI*2,E=-i*Math.cos(S),M=i*Math.sin(S);p.x=v.x+(E*b.x+M*g.x),p.y=v.y+(E*b.y+M*g.y),p.z=v.z+(E*b.z+M*g.z),c.push(p.x,p.y,p.z),h.subVectors(p,v).normalize(),d.push(h.x,h.y,h.z),f.push(x/a),f.push(_/o)}}for(var P=1;P<=a;P++)for(var T=1;T<=o;T++){var C=(o+1)*(P-1)+(T-1),A=(o+1)*P+(T-1),I=(o+1)*P+T,R=(o+1)*(P-1)+T;l.push(C,A,R),l.push(A,I,R)}function O(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(l),e.setAttribute("position",new fa(c,3)),e.setAttribute("normal",new fa(d,3)),e.setAttribute("uv",new fa(f,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(wa),vd=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fc(new zr(-1,-1,0),new zr(-1,1,0),new zr(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];k(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var u=r.computeFrenetFrames(i,s);e.tangents=u.tangents,e.normals=u.normals,e.binormals=u.binormals;var l=new zr,c=new zr,d=new sr,f=new zr,p=[],h=[],v=[],m=[];function g(){for(var e=0;e<i;e++)y(e);y(!1===s?i:0),x(),b()}function y(e){f=r.getPointAt(e/i,f);for(var t=u.normals[e],n=u.binormals[e],s=0;s<=o;s++){var d=s/o*Math.PI*2,v=Math.sin(d),m=-Math.cos(d);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),h.push(c.x,c.y,c.z),l.x=f.x+a*c.x,l.y=f.y+a*c.y,l.z=f.z+a*c.z,p.push(l.x,l.y,l.z)}}function b(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;m.push(n,r,s),m.push(r,a,s)}}function x(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)d.x=e/i,d.y=t/o,v.push(d.x,d.y)}return g(),e.setIndex(m),e.setAttribute("position",new fa(p,3)),e.setAttribute("normal",new fa(h,3)),e.setAttribute("uv",new fa(v,2)),e}return M(n,[{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new hc[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(wa),md=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(k(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new zr,s=new zr;if(null!==r.index){var u=r.attributes.position,l=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:l.count,materialIndex:0}]);for(var d=0,f=c.length;d<f;++d)for(var p=c[d],h=p.start,v=p.count,m=h,g=h+v;m<g;m+=3)for(var y=0;y<3;y++){var b=l.getX(m+y),x=l.getX(m+(y+1)%3);o.fromBufferAttribute(u,b),s.fromBufferAttribute(u,x),!0===gd(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var w=r.attributes.position,_=0,S=w.count/3;_<S;_++)for(var E=0;E<3;E++){var M=3*_+E,P=3*_+(E+1)%3;o.fromBufferAttribute(w,M),s.fromBufferAttribute(w,P),!0===gd(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new fa(i,3))}return e}return M(n)}(wa);function gd(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var yd=Object.freeze({__proto__:null,BoxGeometry:Ua,CapsuleGeometry:yc,CircleGeometry:bc,ConeGeometry:wc,CylinderGeometry:xc,DodecahedronGeometry:Sc,EdgesGeometry:Tc,ExtrudeGeometry:ad,IcosahedronGeometry:sd,LatheGeometry:gc,OctahedronGeometry:ud,PlaneGeometry:so,PolyhedronGeometry:_c,RingGeometry:ld,ShapeGeometry:cd,SphereGeometry:dd,TetrahedronGeometry:fd,TorusGeometry:pd,TorusKnotGeometry:hd,TubeGeometry:vd,WireframeGeometry:md}),bd=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new kr(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(Ji),xd=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return M(n)}(Ga),wd=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new kr(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new kr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=pn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ji),_d=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new sr(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(C(r),"reflectivity",{get:function(){return Qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new kr(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new kr(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new kr(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._iridescence=0,r._transmission=0,r.setValues(e),r}return M(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=f(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(wd),Sd=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new kr(16777215),r.specular=new kr(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new kr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=pn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Ee,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ji),kd=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new kr(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new kr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=pn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Ji),Ed=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=pn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(Ji),Md=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new kr(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new kr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=pn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Ee,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ji),Pd=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new kr(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=pn,r.normalScale=new sr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ji),Td=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(Pl);function Cd(e,t,n){return Id(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function Ad(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Id(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rd(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function Od(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i}function Dd(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var Ld=Object.freeze({__proto__:null,arraySlice:Cd,convertArray:Ad,isTypedArray:Id,getKeyframeOrder:Rd,sortedArray:Od,flattenJSON:Dd,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],d=[],f=0;f<u.times.length;++f){var p=u.times[f]*i;if(!(p<n||p>=r)){c.push(u.times[f]);for(var h=0;h<l;++h)d.push(u.values[f*l+h])}}0!==c.length&&(u.times=Ad(c,u.times.constructor),u.values=Ad(d,u.values.constructor),o.push(u))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=u/3);var l=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var d=r.times.length-1,f=void 0;if(a<=r.times[0]){var p=s,h=u-s;f=Cd(r.values,p,h)}else if(a>=r.times[d]){var v=d*u+s,m=v+u-s;f=Cd(r.values,v,m)}else{var g=r.createInterpolant(),y=s,b=u-s;g.evaluate(a),f=Cd(g.resultBuffer,y,b)}"quaternion"===i&&(new Nr).fromArray(f).normalize().conjugate().toArray(f);for(var x=o.times.length,w=0;w<x;++w){var _=w*c+l;if("quaternion"===i)Nr.multiplyQuaternionsFlat(o.values,_,f,0,o.values,_);else for(var S=c-2*l,k=0;k<S;++k)o.values[_+k]-=f[k]}},s=0;s<i;++s)o(s);return e.blendMode=an,e}}),jd=function(){function e(t,n,r,i){k(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return M(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),Nd=function(e){P(n,e);var t=I(n);function n(e,r,i,a){var o;return k(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:en,endingEnd:en},o}return M(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case tn:i=e,o=2*t-n;break;case nn:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case tn:a=e,s=2*n-t;break;case nn:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,f=this._weightNext,p=(n-t)/(r-t),h=p*p,v=h*p,m=-d*v+2*d*h-d*p,g=(1+d)*v+(-1.5-2*d)*h+(-.5+d)*p+1,y=(-1-f)*v+(1.5+f)*h+.5*p,b=f*v-f*h,x=0;x!==o;++x)i[x]=m*a[l+x]+g*a[u+x]+y*a[s+x]+b*a[c+x];return i}}]),n}(jd),zd=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),t.call(this,e,r,i,a)}return M(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,d=0;d!==o;++d)i[d]=a[u+d]*c+a[s+d]*l;return i}}]),n}(jd),Fd=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),t.call(this,e,r,i,a)}return M(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(jd),Bd=function(){function e(t,n,r,i){if(k(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ad(n,this.TimeBufferType),this.values=Ad(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return M(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Fd(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new zd(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Nd(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Zt:t=this.InterpolantFactoryMethodDiscrete;break;case Qt:t=this.InterpolantFactoryMethodLinear;break;case Jt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Zt;case this.InterpolantFactoryMethodLinear:return Qt;case this.InterpolantFactoryMethodSmooth:return Jt}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Cd(n,i,a),this.values=Cd(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&Id(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Cd(this.times),t=Cd(this.values),n=this.getValueSize(),r=this.getInterpolation()===Jt,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var l=o*n,c=l-n,d=l+n,f=0;f!==n;++f){var p=t[l+f];if(p!==t[c+f]||p!==t[d+f]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var h=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[h+m]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=Cd(e,0,a),this.values=Cd(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Cd(this.times,0),t=Cd(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Ad(e.times,Array),values:Ad(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();Bd.prototype.TimeBufferType=Float32Array,Bd.prototype.ValueBufferType=Float32Array,Bd.prototype.DefaultInterpolation=Qt;var Ud=function(e){P(n,e);var t=I(n);function n(){return k(this,n),t.apply(this,arguments)}return M(n)}(Bd);Ud.prototype.ValueTypeName="bool",Ud.prototype.ValueBufferType=Array,Ud.prototype.DefaultInterpolation=Zt,Ud.prototype.InterpolantFactoryMethodLinear=void 0,Ud.prototype.InterpolantFactoryMethodSmooth=void 0;var Vd=function(e){P(n,e);var t=I(n);function n(){return k(this,n),t.apply(this,arguments)}return M(n)}(Bd);Vd.prototype.ValueTypeName="color";var Hd=function(e){P(n,e);var t=I(n);function n(){return k(this,n),t.apply(this,arguments)}return M(n)}(Bd);Hd.prototype.ValueTypeName="number";var Wd=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),t.call(this,e,r,i,a)}return M(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)Nr.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),n}(jd),Gd=function(e){P(n,e);var t=I(n);function n(){return k(this,n),t.apply(this,arguments)}return M(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Wd(this.times,this.values,this.getValueSize(),e)}}]),n}(Bd);Gd.prototype.ValueTypeName="quaternion",Gd.prototype.DefaultInterpolation=Qt,Gd.prototype.InterpolantFactoryMethodSmooth=void 0;var qd=function(e){P(n,e);var t=I(n);function n(){return k(this,n),t.apply(this,arguments)}return M(n)}(Bd);qd.prototype.ValueTypeName="string",qd.prototype.ValueBufferType=Array,qd.prototype.DefaultInterpolation=Zt,qd.prototype.InterpolantFactoryMethodLinear=void 0,qd.prototype.InterpolantFactoryMethodSmooth=void 0;var Kd=function(e){P(n,e);var t=I(n);function n(){return k(this,n),t.apply(this,arguments)}return M(n)}(Bd);Kd.prototype.ValueTypeName="vector";var Xd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rn;k(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Zn(),this.duration<0&&this.resetDuration()}return M(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Yd(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(Bd.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=Rd(s);s=Od(s,1,l),u=Od(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new Hd(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var d=[];for(var f in r)d.push(this.CreateFromMorphTargetSequence(f,r[f],t,n));return d}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Dd(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var d={},f=void 0;for(f=0;f<c.length;f++)if(c[f].morphTargets)for(var p=0;p<c[f].morphTargets.length;p++)d[c[f].morphTargets[p]]=-1;for(var h in d){for(var v=[],m=[],g=0;g!==c[f].morphTargets.length;++g){var y=c[f];v.push(y.time),m.push(y.morphTarget===h?1:0)}r.push(new Hd(".morphTargetInfluence["+h+"]",v,m))}s=d.length*a}else{var b=".bones["+t[l].name+"]";n(Kd,b+".position",c,"pos",r),n(Gd,b+".quaternion",c,"rot",r),n(Kd,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function Yd(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hd;case"vector":case"vector2":case"vector3":case"vector4":return Kd;case"color":return Vd;case"quaternion":return Gd;case"bool":case"boolean":return Ud;case"string":return qd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Dd(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var $d,Zd={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Qd=M((function e(t,n,r){k(this,e);var i=this,a=!1,o=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),Jd=new Qd,ef=function(){function e(t){k(this,e),this.manager=void 0!==t?t:Jd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return M(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),tf={},nf=function(e){P(n,e);var t=I(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).response=r,i}return M(n)}(R(Error)),rf=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=Zd.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===tf[e]){tf[e]=[],tf[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=tf[e],r=t.body.getReader(),i=t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a,s=0,u=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,u=r.value;if(i)e.close();else{s+=u.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,d=n.length;c<d;c++){var f=n[c];f.onProgress&&f.onProgress(l)}e.enqueue(u),t()}}))}()}});return new Response(u)}throw new nf('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(u){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){Zd.add(e,t);var n=tf[e];delete tf[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=tf[e];if(void 0===n)throw i.manager.itemError(e),t;delete tf[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else tf[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(ef),af=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new rf(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=Xd.parse(e[n]);t.push(r)}return t}}]),n}(ef),of=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new Kl,s=new rf(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var u=0;function l(l){s.load(e[l],(function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=Xe),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,d=e.length;c<d;++c)l(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Xe),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(ef),sf=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Zd.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=fr("img");function s(){l(),Zd.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(ef),uf=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=new $a,a=new sf(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}]),n}(ef),lf=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new gl,o=new rf(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Ue,a.wrapT=void 0!==n.wrapT?n.wrapT:Ue,a.magFilter=void 0!==n.magFilter?n.magFilter:Xe,a.minFilter=void 0!==n.minFilter?n.minFilter:Xe,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Ze),1===n.mipmapCount&&(a.minFilter=Xe),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(ef),cf=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=new Cr,a=new sf(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(ef),df=function(e){P(n,e);var t=I(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return k(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new kr(e),r.intensity=i,r}return M(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Bi),ff=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(Bi.DefaultUp),a.updateMatrix(),a.groundColor=new kr(r),a}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(df),pf=new vi,hf=new zr,vf=new zr,mf=function(){function e(t){k(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new sr(512,512),this.map=null,this.mapPass=null,this.matrix=new vi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new io,this._frameExtents=new sr(1,1),this._viewportCount=1,this._viewports=[new Ar(0,0,1,1)]}return M(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;hf.setFromMatrixPosition(e.matrixWorld),t.position.copy(hf),vf.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(vf),t.updateMatrixWorld(),pf.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pf),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(pf)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),gf=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this,new Ka(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return M(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*$n*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),D(T(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(mf),yf=function(e){P(n,e);var t=I(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return k(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(Bi.DefaultUp),i.updateMatrix(),i.target=new Bi,i.distance=a,i.angle=o,i.penumbra=s,i.decay=u,i.map=null,i.shadow=new gf,i}return M(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(df),bf=new vi,xf=new zr,wf=new zr,_f=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this,new Ka(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new sr(4,2),e._viewportCount=6,e._viewports=[new Ar(2,1,1,1),new Ar(0,1,1,1),new Ar(3,1,1,1),new Ar(1,1,1,1),new Ar(3,0,1,1),new Ar(1,0,1,1)],e._cubeDirections=[new zr(1,0,0),new zr(-1,0,0),new zr(0,0,1),new zr(0,0,-1),new zr(0,1,0),new zr(0,-1,0)],e._cubeUps=[new zr(0,1,0),new zr(0,1,0),new zr(0,1,0),new zr(0,1,0),new zr(0,0,1),new zr(0,0,-1)],e}return M(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),xf.setFromMatrixPosition(e.matrixWorld),n.position.copy(xf),wf.copy(n.position),wf.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(wf),n.updateMatrixWorld(),r.makeTranslation(-xf.x,-xf.y,-xf.z),bf.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(bf)}}]),n}(mf),Sf=function(e){P(n,e);var t=I(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return k(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new _f,i}return M(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(df),kf=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this,new yo(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return M(n)}(mf),Ef=function(e){P(n,e);var t=I(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(Bi.DefaultUp),i.updateMatrix(),i.target=new Bi,i.shadow=new kf,i}return M(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(df),Mf=function(e){P(n,e);var t=I(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return M(n)}(df),Pf=function(e){P(n,e);var t=I(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return k(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return M(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(df),Tf=function(){function e(){k(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new zr)}return M(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),Cf=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Tf,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return k(this,n),(e=t.call(this,void 0,i)).isLightProbe=!0,e.sh=r,e}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(df),Af=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this,e)).textures={},r}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new rf(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new kr).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=(new kr).setHex(o.value);break;case"v2":i.uniforms[a].value=(new sr).fromArray(o.value);break;case"v3":i.uniforms[a].value=(new zr).fromArray(o.value);break;case"v4":i.uniforms[a].value=(new Ar).fromArray(o.value);break;case"m3":i.uniforms[a].value=(new ur).fromArray(o.value);break;case"m4":i.uniforms[a].value=(new vi).fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(var s in e.extensions)i.extensions[s]=e.extensions[s];if(void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=r(e.map)),void 0!==e.matcap&&(i.matcap=r(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var u=e.normalScale;!1===Array.isArray(u)&&(u=[u,u]),i.normalScale=(new sr).fromArray(u)}return void 0!==e.displacementMap&&(i.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new sr).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=r(e.thicknessMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:bd,SpriteMaterial:qu,RawShaderMaterial:xd,ShaderMaterial:Ga,PointsMaterial:zl,MeshPhysicalMaterial:_d,MeshStandardMaterial:wd,MeshPhongMaterial:Sd,MeshToonMaterial:kd,MeshNormalMaterial:Ed,MeshLambertMaterial:Md,MeshDepthMaterial:_u,MeshDistanceMaterial:Su,MeshBasicMaterial:ea,MeshMatcapMaterial:Pd,LineDashedMaterial:Td,LineBasicMaterial:Pl,Material:Ji}[e]}}]),n}(ef),If=function(){function e(){k(this,e)}return M(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),Rf=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(wa),Of=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new rf(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),o=dr(i.type,a),s=new Hu(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new Rf:new wa,a=e.data.index;if(void 0!==a){var o=dr(a.type,a.array);i.setIndex(new ra(o,1))}var s=e.data.attributes;for(var u in s){var l=s[u],c=void 0;if(l.isInterleavedBufferAttribute){var d=r(e.data,l.data);c=new Gu(d,l.itemSize,l.offset,l.normalized)}else{var f=dr(l.type,l.array);c=new(l.isInstancedBufferAttribute?wl:ra)(f,l.itemSize,l.normalized)}void 0!==l.name&&(c.name=l.name),void 0!==l.usage&&c.setUsage(l.usage),void 0!==l.updateRange&&(c.updateRange.offset=l.updateRange.offset,c.updateRange.count=l.updateRange.count),i.setAttribute(u,c)}var p=e.data.morphAttributes;if(p)for(var h in p){for(var v=p[h],m=[],g=0,y=v.length;g<y;g++){var b=v[g],x=void 0;if(b.isInterleavedBufferAttribute){var w=r(e.data,b.data);x=new Gu(w,b.itemSize,b.offset,b.normalized)}else{var _=dr(b.type,b.array);x=new ra(_,b.itemSize,b.normalized)}void 0!==b.name&&(x.name=b.name),m.push(x)}i.morphAttributes[h]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var S=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==S)for(var k=0,E=S.length;k!==E;++k){var M=S[k];i.addGroup(M.start,M.count,M.materialIndex)}var P=e.data.boundingSphere;if(void 0!==P){var T=new zr;void 0!==P.center&&T.fromArray(P.center),i.boundingSphere=new oi(T,P.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(ef),Df=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?If.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new rf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}},{key:"loadAsync",value:function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?If.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new rf(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(s=e.sent,u=JSON.parse(s),void 0!==(l=u.metadata)&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(u);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(u)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,i,s,o,n),l=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,l),void 0!==t){var c=!1;for(var d in a)if(a[d].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(u)}return u}},{key:"parseAsync",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,u,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,s=this.parseTextures(t.textures,a),u=this.parseMaterials(t.materials,s),l=this.parseObject(t.object,i,u,s,n),c=this.parseSkeletons(t.skeletons,l),this.bindSkeletons(l,c),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Cc).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new xl).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new Of,i=0,a=e.length;i<a;i++){var o=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in yd?o=yd[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new Af;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=Xd.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:dr(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new Qd(t);(n=new sf(o)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var l=e[s],c=l.url;if(Array.isArray(c)){for(var d=[],f=0,p=c.length;f<p;f++){var h=a(c[f]);null!==h&&(h instanceof HTMLImageElement?d.push(h):d.push(new gl(h.data,h.width,h.height)))}i[l.uuid]=new Mr(d)}else{var v=a(l.url);i[l.uuid]=new Mr(v)}}}return i}},{key:"parseImagesAsync",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,l,c,d,f,p,h,v,m,g,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){return s=u(o().mark((function e(t){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:dr(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)},a=function(e){return s.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new sf(this.manager)).setCrossOrigin(this.crossOrigin),l=0,c=t.length;case 8:if(!(l<c)){e.next=33;break}if(d=t[l],f=d.url,!Array.isArray(f)){e.next=26;break}p=[],h=0,v=f.length;case 14:if(!(h<v)){e.next=23;break}return m=f[h],e.next=18,a(m);case 18:null!==(g=e.sent)&&(g instanceof HTMLImageElement?p.push(g):p.push(new gl(g.data,g.width,g.height)));case 20:h++,e.next=14;break;case 23:r[d.uuid]=new Mr(p),e.next=30;break;case 26:return e.next=28,a(d.url);case 28:y=e.sent,r[d.uuid]=new Mr(y);case 30:l++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],u=s.data,l=void 0;Array.isArray(u)?(l=new $a,6===u.length&&(l.needsUpdate=!0)):(l=u&&u.data?new gl:new Cr,u&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,Lf)),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],jf),l.wrapT=n(o.wrap[1],jf)),void 0!==o.format&&(l.format=o.format),void 0!==o.type&&(l.type=o.type),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,Nf)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,Nf)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,s;function u(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new Vu,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new kr(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new Uu(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Bu(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Ka(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new yo(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Mf(e.color,e.intensity);break;case"DirectionalLight":a=new Ef(e.color,e.intensity);break;case"PointLight":a=new Sf(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Pf(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new yf(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new ff(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new Cf).fromJSON(e);break;case"SkinnedMesh":o=u(e.geometry),s=l(e.material),a=new vl(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=u(e.geometry),s=l(e.material),a=new Fa(o,s);break;case"InstancedMesh":o=u(e.geometry),s=l(e.material);var d=e.count,f=e.instanceMatrix,p=e.instanceColor;(a=new Ml(o,s,d)).instanceMatrix=new wl(new Float32Array(f.array),16),void 0!==p&&(a.instanceColor=new wl(new Float32Array(p.array),p.itemSize));break;case"LOD":a=new ll;break;case"Line":a=new Ol(u(e.geometry),l(e.material));break;case"LineLoop":a=new Nl(u(e.geometry),l(e.material));break;case"LineSegments":a=new jl(u(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new Hl(u(e.geometry),l(e.material));break;case"Sprite":a=new al(l(e.material));break;case"Group":a=new Cu;break;case"Bone":a=new ml;break;default:a=new Bi}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var h=e.children,v=0;v<h.length;v++)a.add(this.parseObject(h[v],t,n,r,i));if(void 0!==e.animations)for(var m=e.animations,g=0;g<m.length;g++){var y=m[g];a.animations.push(i[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var b=e.levels,x=0;x<b.length;x++){var w=b[x],_=a.getObjectByProperty("uuid",w.object);void 0!==_&&a.addLevel(_,w.distance)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),n}(ef),Lf={UVMapping:De,CubeReflectionMapping:Le,CubeRefractionMapping:je,EquirectangularReflectionMapping:Ne,EquirectangularRefractionMapping:ze,CubeUVReflectionMapping:Fe},jf={RepeatWrapping:Be,ClampToEdgeWrapping:Ue,MirroredRepeatWrapping:Ve},Nf={NearestFilter:He,NearestMipmapNearestFilter:We,NearestMipmapLinearFilter:qe,LinearFilter:Xe,LinearMipmapNearestFilter:Ye,LinearMipmapLinearFilter:Ze},zf=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return M(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Zd.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){Zd.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(ef),Ff={getContext:function(){return void 0===$d&&($d=new(window.AudioContext||window.webkitAudioContext)),$d},setContext:function(e){$d=e}},Bf=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new rf(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{var a=n.slice(0);Ff.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}}]),n}(ef),Uf=function(e){P(n,e);var t=I(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;k(this,n),(i=t.call(this,void 0,a)).isHemisphereLightProbe=!0;var o=(new kr).set(e),s=(new kr).set(r),u=new zr(o.r,o.g,o.b),l=new zr(s.r,s.g,s.b),c=Math.sqrt(Math.PI),d=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(u).add(l).multiplyScalar(c),i.sh.coefficients[1].copy(u).sub(l).multiplyScalar(d),i}return M(n)}(Cf),Vf=function(e){P(n,e);var t=I(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;k(this,n),(r=t.call(this,void 0,i)).isAmbientLightProbe=!0;var a=(new kr).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return M(n)}(Cf),Hf=new vi,Wf=new vi,Gf=new vi,qf=function(){function e(){k(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ka,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ka,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return M(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Gf.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(Yn*t.fov*.5)/t.zoom;Wf.elements[12]=-i,Hf.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,Gf.elements[0]=2*t.near/(r-n),Gf.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(Gf),n=-o*t.aspect-a,r=o*t.aspect-a,Gf.elements[0]=2*t.near/(r-n),Gf.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(Gf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Wf),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Hf)}}]),e}(),Kf=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];k(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return M(e,[{key:"start",value:function(){this.startTime=Xf(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Xf();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Xf(){return("undefined"===typeof performance?Date:performance).now()}var Yf=new zr,$f=new Nr,Zf=new zr,Qf=new zr,Jf=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this)).type="AudioListener",e.context=Ff.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new Kf,e}return M(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){D(T(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Yf,$f,Zf),Qf.set(0,0,-1).applyQuaternion($f),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Yf.x,i),t.positionY.linearRampToValueAtTime(Yf.y,i),t.positionZ.linearRampToValueAtTime(Yf.z,i),t.forwardX.linearRampToValueAtTime(Qf.x,i),t.forwardY.linearRampToValueAtTime(Qf.y,i),t.forwardZ.linearRampToValueAtTime(Qf.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Yf.x,Yf.y,Yf.z),t.setOrientation(Qf.x,Qf.y,Qf.z,r.x,r.y,r.z)}}]),n}(Bi),ep=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return M(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Bi),tp=new zr,np=new Nr,rp=new zr,ip=new zr,ap=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return M(n,[{key:"disconnect",value:function(){D(T(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(D(T(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(tp,np,rp),ip.set(0,0,1).applyQuaternion(np);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(tp.x,r),t.positionY.linearRampToValueAtTime(tp.y,r),t.positionZ.linearRampToValueAtTime(tp.z,r),t.orientationX.linearRampToValueAtTime(ip.x,r),t.orientationY.linearRampToValueAtTime(ip.y,r),t.orientationZ.linearRampToValueAtTime(ip.z,r)}else t.setPosition(tp.x,tp.y,tp.z),t.setOrientation(ip.x,ip.y,ip.z)}}}]),n}(ep),op=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;k(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return M(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),sp=function(){function e(t,n,r){var i,a,o;switch(k(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return M(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(n[u]!==n[u+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){Nr.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;Nr.multiplyQuaternionsFlat(e,a,e,t,e,n),Nr.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),up="\\[\\]\\.:\\/",lp=new RegExp("[\\[\\]\\.:\\/]","g"),cp="[^\\[\\]\\.:\\/]",dp="[^"+up.replace("\\.","")+"]",fp=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",cp)+/(WCOD+)?/.source.replace("WCOD",dp)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",cp)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",cp)+"$"),pp=["material","materials","bones","map"],hp=function(){function e(t,n,r){k(this,e);var i=r||vp.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return M(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),vp=function(){function e(t,n,r){k(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return M(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var d=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(lp,"")}},{key:"parseTrackName",value:function(e){var t=fp.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==pp.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();vp.Composite=hp,vp.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},vp.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},vp.prototype.GetterByBindingType=[vp.prototype._getValue_direct,vp.prototype._getValue_array,vp.prototype._getValue_arrayElement,vp.prototype._getValue_toArray],vp.prototype.SetterByBindingTypeAndVersioning=[[vp.prototype._setValue_direct,vp.prototype._setValue_direct_setNeedsUpdate,vp.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vp.prototype._setValue_array,vp.prototype._setValue_array_setNeedsUpdate,vp.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vp.prototype._setValue_arrayElement,vp.prototype._setValue_arrayElement_setNeedsUpdate,vp.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vp.prototype._setValue_fromArray,vp.prototype._setValue_fromArray_setNeedsUpdate,vp.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var mp=function(){function e(){k(this,e),this.isAnimationObjectGroup=!0,this.uuid=Zn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return M(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,u=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var d=arguments[l],f=d.uuid,p=t[f];if(void 0===p){p=s++,t[f]=p,e.push(d);for(var h=0,v=a;h!==v;++h)i[h].push(new vp(d,n[h],r[h]))}else if(p<u){o=e[p];var m=--u,g=e[m];t[g.uuid]=p,e[p]=g,t[f]=m,e[m]=d;for(var y=0,b=a;y!==b;++y){var x=i[y],w=x[m],_=x[p];x[p]=w,void 0===_&&(_=new vp(d,n[y],r[y])),x[m]=_}}else e[p]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,d=e[c];t[d.uuid]=l,e[l]=d,t[u]=c,e[c]=s;for(var f=0,p=r;f!==p;++f){var h=n[f],v=h[c],m=h[l];h[l]=v,h[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var d=--i,f=e[d],p=--a,h=e[p];t[f.uuid]=c,e[c]=f,t[h.uuid]=d,e[d]=h,e.pop();for(var v=0,m=r;v!==m;++v){var g=n[v],y=g[d],b=g[p];g[c]=y,g[d]=b,g.pop()}}else{var x=--a,w=e[x];x>0&&(t[w.uuid]=c),e[c]=w,e.pop();for(var _=0,S=r;_!==S;++_){var k=n[_];k[c]=k[x],k.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var d=l,f=s.length;d!==f;++d){var p=s[d];c[d]=new vp(p,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}(),gp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;k(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),u={endingStart:en,endingEnd:en},l=0;l!==o;++l){var c=a[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Yt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return M(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;if(this.blendMode===an)for(var c=0,d=u.length;c!==d;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);else for(var f=0,p=u.length;f!==p;++f)u[f].evaluate(o),l[f].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===$t;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===Xt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=tn,r.endingEnd=tn):(r.endingStart=e?this.zeroSlopeAtStart?tn:en:nn,r.endingEnd=t?this.zeroSlopeAtEnd?tn:en:nn)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),yp=new Float32Array(1),bp=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return M(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var d=r[c],f=d.name,p=l[f];if(void 0!==p)++p.referenceCount,a[c]=p;else{if(void 0!==(p=a[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,f));continue}var h=t&&t._propertyBindings[c].binding.parsedPath;++(p=new sp(vp.create(n,f,h),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(p,s,f),a[c]=p}o[c].resultBuffer=p.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new zd(new Float32Array(2),new Float32Array(2),1,yp)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?Xd.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==a?a.blendMode:rn),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new gp(this,a,t,n);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Xd.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(qn),xp=function(){function e(t){k(this,e),this.value=t}return M(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),wp=0,_p=function(e){P(n,e);var t=I(n);function n(){var e;return k(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty(C(e),"id",{value:wp++}),e.name="",e.usage=Dn,e.uniforms=[],e}return M(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(qn),Sp=function(e){P(n,e);var t=I(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return k(this,n),(i=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=D(T(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(Hu),kp=function(){function e(t,n,r,i,a){k(this,e),this.isGLBufferAttribute=!0,this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return M(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),Ep=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;k(this,e),this.ray=new hi(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new Mi,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return M(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Pp(e,this,n,t),n.sort(Mp),n}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)Pp(e[r],this,n,t);return n.sort(Mp),n}}]),e}();function Mp(e,t){return e.distance-t.distance}function Pp(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)Pp(i[a],t,n,!0)}var Tp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return k(this,e),this.radius=t,this.phi=n,this.theta=r,this}return M(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Qn(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Cp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return k(this,e),this.radius=t,this.theta=n,this.y=r,this}return M(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Ap=new sr,Ip=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sr(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr(-1/0,-1/0);k(this,e),this.isBox2=!0,this.min=t,this.max=n}return M(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Ap.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Ap.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Rp=new zr,Op=new zr,Dp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr;k(this,e),this.start=t,this.end=n}return M(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){Rp.subVectors(e,this.start),Op.subVectors(this.end,this.start);var n=Op.dot(Op),r=Op.dot(Rp)/n;return t&&(r=Qn(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Lp=new zr,jp=function(e){P(n,e);var t=I(n);function n(e,r){var i;k(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r;for(var a=new wa,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var l=s/32*Math.PI*2,c=u/32*Math.PI*2;o.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new fa(o,3));var d=new Pl({fog:!1,toneMapped:!1});return i.cone=new jl(a,d),i.add(i.cone),i.update(),i}return M(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Lp.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Lp),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Bi),Np=new zr,zp=new vi,Fp=new vi,Bp=function(e){P(n,e);var t=I(n);function n(e){var r;k(this,n);for(var i=Up(e),a=new wa,o=[],s=[],u=new kr(0,0,1),l=new kr(0,1,0),c=0;c<i.length;c++){var d=i[c];d.parent&&d.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new fa(o,3)),a.setAttribute("color",new fa(s,3));var f=new Pl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,f)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return M(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");Fp.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(zp.multiplyMatrices(Fp,s.matrixWorld),Np.setFromMatrixPosition(zp),i.setXYZ(o,Np.x,Np.y,Np.z),zp.multiplyMatrices(Fp,s.parent.matrixWorld),Np.setFromMatrixPosition(zp),i.setXYZ(o+1,Np.x,Np.y,Np.z),o+=2)}r.getAttribute("position").needsUpdate=!0,D(T(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(jl);function Up(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,Up(e.children[n]));return t}var Vp=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;k(this,n);var o=new dd(r,4,2),s=new ea({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.light.updateMatrixWorld(),a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return M(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(Fa),Hp=new zr,Wp=new kr,Gp=new kr,qp=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;k(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i;var o=new ud(r);o.rotateY(.5*Math.PI),a.material=new ea({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new ra(u,3)),a.add(new Fa(o,a.material)),a.update(),a}return M(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Wp.copy(this.light.color),Gp.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?Wp:Gp;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(Hp.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Bi),Kp=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;k(this,n),a=new kr(a),o=new kr(o);for(var s=i/2,u=r/i,l=r/2,c=[],d=[],f=0,p=0,h=-l;f<=i;f++,h+=u){c.push(-l,0,h,l,0,h),c.push(h,0,-l,h,0,l);var v=f===s?a:o;v.toArray(d,p),p+=3,v.toArray(d,p),p+=3,v.toArray(d,p),p+=3,v.toArray(d,p),p+=3}var m=new wa;m.setAttribute("position",new fa(c,3)),m.setAttribute("color",new fa(d,3));var g=new Pl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,g)).type="GridHelper",e}return M(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(jl),Xp=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;k(this,n),s=new kr(s),u=new kr(u);var l=[],c=[];if(i>1)for(var d=0;d<i;d++){var f=d/i*(2*Math.PI),p=Math.sin(f)*r,h=Math.cos(f)*r;l.push(0,0,0),l.push(p,0,h);var v=1&d?s:u;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var m=0;m<a;m++)for(var g=1&m?s:u,y=r-r/a*m,b=0;b<o;b++){var x=b/o*(2*Math.PI),w=Math.sin(x)*y,_=Math.cos(x)*y;l.push(w,0,_),c.push(g.r,g.g,g.b),x=(b+1)/o*(2*Math.PI),w=Math.sin(x)*y,_=Math.cos(x)*y,l.push(w,0,_),c.push(g.r,g.g,g.b)}var S=new wa;S.setAttribute("position",new fa(l,3)),S.setAttribute("color",new fa(c,3));var E=new Pl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,S,E)).type="PolarGridHelper",e}return M(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(jl),Yp=new zr,$p=new zr,Zp=new zr,Qp=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;k(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,void 0===r&&(r=1);var o=new wa;o.setAttribute("position",new fa([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new Pl({fog:!1,toneMapped:!1});return a.lightPlane=new Ol(o,s),a.add(a.lightPlane),(o=new wa).setAttribute("position",new fa([0,0,0,0,0,1],3)),a.targetLine=new Ol(o,s),a.add(a.targetLine),a.update(),a}return M(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){Yp.setFromMatrixPosition(this.light.matrixWorld),$p.setFromMatrixPosition(this.light.target.matrixWorld),Zp.subVectors($p,Yp),this.lightPlane.lookAt($p),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt($p),this.targetLine.scale.z=Zp.length()}}]),n}(Bi),Jp=new zr,eh=new qa,th=function(e){P(n,e);var t=I(n);function n(e){var r;k(this,n);var i=new wa,a=new Pl({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={};function l(e,t){c(e),c(t)}function c(e){o.push(0,0,0),s.push(0,0,0),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4"),i.setAttribute("position",new fa(o,3)),i.setAttribute("color",new fa(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=u,r.update();var d=new kr(16755200),f=new kr(16711680),p=new kr(43775),h=new kr(16777215),v=new kr(3355443);return r.setColors(d,f,p,h,v),r}return M(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;eh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),nh("c",t,e,eh,0,0,-1),nh("t",t,e,eh,0,0,1),nh("n1",t,e,eh,-1,-1,-1),nh("n2",t,e,eh,1,-1,-1),nh("n3",t,e,eh,-1,1,-1),nh("n4",t,e,eh,1,1,-1),nh("f1",t,e,eh,-1,-1,1),nh("f2",t,e,eh,1,-1,1),nh("f3",t,e,eh,-1,1,1),nh("f4",t,e,eh,1,1,1),nh("u1",t,e,eh,.7,1.1,-1),nh("u2",t,e,eh,-.7,1.1,-1),nh("u3",t,e,eh,0,2,-1),nh("cf1",t,e,eh,-1,0,1),nh("cf2",t,e,eh,1,0,1),nh("cf3",t,e,eh,0,-1,1),nh("cf4",t,e,eh,0,1,1),nh("cn1",t,e,eh,-1,0,-1),nh("cn2",t,e,eh,1,0,-1),nh("cn3",t,e,eh,0,-1,-1),nh("cn4",t,e,eh,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(jl);function nh(e,t,n,r,i,a,o){Jp.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),l=0,c=s.length;l<c;l++)u.setXYZ(s[l],Jp.x,Jp.y,Jp.z)}var rh,ih,ah=new Ur,oh=function(e){P(n,e);var t=I(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;k(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new wa;return s.setIndex(new ra(a,1)),s.setAttribute("position",new ra(o,3)),(r=t.call(this,s,new Pl({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return M(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&ah.setFromObject(this.object),!ah.isEmpty()){var t=ah.min,n=ah.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(jl),sh=function(e){P(n,e);var t=I(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;k(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new wa;return s.setIndex(new ra(a,1)),s.setAttribute("position",new fa(o,3)),(r=t.call(this,s,new Pl({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return M(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),D(T(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(jl),uh=function(e){P(n,e);var t=I(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;k(this,n);var o=a,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],u=new wa;u.setAttribute("position",new fa(s,3)),u.computeBoundingSphere(),(r=t.call(this,u,new Pl({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new wa;return c.setAttribute("position",new fa(l,3)),c.computeBoundingSphere(),r.add(new Fa(c,new ea({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return M(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),D(T(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(Ol),lh=new zr,ch=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zr(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zr(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return k(this,n),(e=t.call(this)).type="ArrowHelper",void 0===rh&&((rh=new wa).setAttribute("position",new fa([0,0,0,0,1,0],3)),(ih=new xc(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new Ol(rh,new Pl({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new Fa(ih,new ea({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,u),e}return M(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{lh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(lh,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(Bi),dh=function(e){P(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;k(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new wa;o.setAttribute("position",new fa(i,3)),o.setAttribute("color",new fa(a,3));var s=new Pl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,s)).type="AxesHelper",e}return M(n,[{key:"setColors",value:function(e,t,n){var r=new kr,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(jl),fh=function(){function e(){k(this,e),this.type="ShapePath",this.color=new kr,this.subPaths=[],this.currentPath=null}return M(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new mc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=nd.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new Cc).curves=r.curves,s.push(i),s;var u=!a(o[0].getPoints());u=e?!u:u;var l,c,d=[],f=[],p=[],h=0;f[h]=void 0,p[h]=[];for(var v=0,m=o.length;v<m;v++)n=a(l=(r=o[v]).getPoints()),(n=e?!n:n)?(!u&&f[h]&&h++,f[h]={s:new Cc,p:l},f[h].s.curves=r.curves,u&&h++,p[h]=[]):p[h].push({h:r,p:l[0]});if(!f[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new Cc;a.curves=i.curves,t.push(a)}return t}(o);if(f.length>1){for(var g=!1,y=0,b=0,x=f.length;b<x;b++)d[b]=[];for(var w=0,_=f.length;w<_;w++)for(var S=p[w],k=0;k<S.length;k++){for(var E=S[k],M=!0,P=0;P<f.length;P++)t(E.p,f[P].p)&&(w!==P&&y++,M?(M=!1,d[P].push(E)):g=!0);M&&d[w].push(E)}y>0&&!1===g&&(p=d)}for(var T=0,C=f.length;T<C;T++){i=f[T].s,s.push(i);for(var A=0,I=(c=p[T]).length;A<I;A++)i.holes.push(c[A].h)}return s}}]),e}(),ph=hh();function hh(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),u=new Uint32Array(64),l=new Uint32Array(64),c=1;c<1024;++c){for(var d=c<<13,f=0;0===(8388608&d);)d<<=1,f-=8388608;d&=-8388609,f+=947912704,s[c]=d|f}for(var p=1024;p<2048;++p)s[p]=939524096+(p-1024<<13);for(var h=1;h<31;++h)u[h]=h<<23;u[31]=1199570944,u[32]=2147483648;for(var v=33;v<63;++v)u[v]=2147483648+(v-32<<23);u[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(l[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:u,offsetTable:l}}var vh=Object.freeze({__proto__:null,toHalfFloat:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Qn(e,-65504,65504),ph.floatView[0]=e;var t=ph.uint32View[0],n=t>>23&511;return ph.baseTable[n]+((8388607&t)>>ph.shiftTable[n])},fromHalfFloat:function(e){var t=e>>10;return ph.uint32View[0]=ph.mantissaTable[ph.offsetTable[t]+(1023&e)]+ph.exponentTable[t],ph.floatView[0]}});function mh(){console.error("THREE.ImmediateRenderObject has been removed.")}var gh=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;return k(this,n),console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),(a=t.call(this,e,r,i)).samples=4,a}return M(n)}(Ir),yh=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),t.call(this,e,r,i,a)}return M(n)}(Rr),bh=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),t.call(this,e,r,i,a)}return M(n)}(Dr),xh=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s){return k(this,n),console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),t.call(this,e,r,i,a,o,s)}return M(n)}(Ua),wh=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),t.call(this,e,r,i,a)}return M(n)}(yc),_h=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),t.call(this,e,r,i,a)}return M(n)}(bc),Sh=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s,u){return k(this,n),console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),t.call(this,e,r,i,a,o,s,u)}return M(n)}(wc),kh=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s,u,l){return k(this,n),console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),t.call(this,e,r,i,a,o,s,u,l)}return M(n)}(xc),Eh=function(e){P(n,e);var t=I(n);function n(e,r){return k(this,n),console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),t.call(this,e,r)}return M(n)}(Sc),Mh=function(e){P(n,e);var t=I(n);function n(e,r){return k(this,n),console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),t.call(this,e,r)}return M(n)}(ad),Ph=function(e){P(n,e);var t=I(n);function n(e,r){return k(this,n),console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),t.call(this,e,r)}return M(n)}(sd),Th=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),t.call(this,e,r,i,a)}return M(n)}(gc),Ch=function(e){P(n,e);var t=I(n);function n(e,r){return k(this,n),console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),t.call(this,e,r)}return M(n)}(ud),Ah=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),t.call(this,e,r,i,a)}return M(n)}(so),Ih=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),t.call(this,e,r,i,a)}return M(n)}(_c),Rh=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s){return k(this,n),console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),t.call(this,e,r,i,a,o,s)}return M(n)}(ld),Oh=function(e){P(n,e);var t=I(n);function n(e,r){return k(this,n),console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),t.call(this,e,r)}return M(n)}(cd),Dh=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s,u){return k(this,n),console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),t.call(this,e,r,i,a,o,s,u)}return M(n)}(dd),Lh=function(e){P(n,e);var t=I(n);function n(e,r){return k(this,n),console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),t.call(this,e,r)}return M(n)}(fd),jh=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o){return k(this,n),console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),t.call(this,e,r,i,a,o)}return M(n)}(pd),Nh=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o,s){return k(this,n),console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),t.call(this,e,r,i,a,o,s)}return M(n)}(hd),zh=function(e){P(n,e);var t=I(n);function n(e,r,i,a,o){return k(this,n),console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),t.call(this,e,r,i,a,o)}return M(n)}(vd);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:L}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=L);var Fh=n(4585);function Bh(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var Uh="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;var Vh=n(258),Hh=n.n(Vh),Wh=n(4545);function Gh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}var qh=[];function Kh(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=x(qh);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(Gh(t,o.keys,o.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return o.response;if(!r)throw o.promise}}}catch(u){a.e(u)}finally{a.f()}var s={keys:t,equal:i.equal,promise:e.apply(void 0,f(t)).then((function(e){return s.response=e})).then((function(){i.lifespan&&i.lifespan>0&&setTimeout((function(){var e=qh.indexOf(s);-1!==e&&qh.splice(e,1)}),i.lifespan)})).catch((function(e){return s.error=e}))};if(qh.push(s),!r)throw s.promise}var Xh,Yh,$h=["children","key","ref"],Zh=["children","key","ref"],Qh=["args","attach"],Jh=["args","children"],ev=["args","children"],tv=["params"],nv=function(e){return e&&e.isOrthographicCamera},rv="undefined"!==typeof window&&(null!=(Xh=window.document)&&Xh.createElement||"ReactNative"===(null==(Yh=window.navigator)?void 0:Yh.product))?r.useLayoutEffect:r.useEffect;function iv(e){var t=r.useRef(e);return rv((function(){t.current=e}),[e]),t}function av(e){var t=e.set;return rv((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var ov=function(e){P(n,e);var t=I(n);function n(){var e;k(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return M(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(r.Component);ov.getDerivedStateFromError=function(){return{error:!0}};var sv="__default";function uv(e){var t="undefined"!==typeof window?window.devicePixelRatio:1;return Array.isArray(e)?Math.min(Math.max(e[0],t),e[1]):e}var lv=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},cv={obj:function(e){return e===Object(e)&&!cv.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,o=void 0===a?"reference":a,s=n.strict,u=void 0===s||s;if(typeof e!==typeof t||!!e!==!!t)return!1;if(cv.str(e)||cv.num(e))return e===t;var l=cv.obj(e);if(l&&"reference"===o)return e===t;var c,d=cv.arr(e);if(d&&"reference"===i)return e===t;if((d||l)&&e===t)return!0;for(c in e)if(!(c in t))return!1;for(c in u?t:e)if(e[c]!==t[c])return!1;if(cv.und(c)){if(d&&0===e.length&&0===t.length)return!0;if(l&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function dv(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function fv(e,t){var n=e;return(null!=t&&t.primitive||!n.__r3f)&&(n.__r3f=v({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t)),e}function pv(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:i}}return{target:n,key:t}}var hv=/-\d+$/;function vv(e,t,n){if(cv.str(n)){if(hv.test(n)){var r=pv(e,n.replace(hv,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var o=pv(e,n),s=o.target,u=o.key;t.__r3f.previousAttach=s[u],s[u]=t}else t.__r3f.previousAttach=n(e,t)}function mv(e,t,n){var r,i;if(cv.str(n)){var a=pv(e,n),o=a.target,s=a.key,u=t.__r3f.previousAttach;void 0===u?delete o[s]:o[s]=u}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function gv(e,t){t.children,t.key,t.ref;var n,r=b(t,$h),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(i.children,i.key,i.ref,b(i,Zh)),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null!=(n=null==e?void 0:e.__r3f)?n:{},u=Object.entries(r),l=[];if(o)for(var c=Object.keys(a),d=0;d<c.length;d++)r.hasOwnProperty(c[d])||u.unshift([c[d],sv+"remove"]);u.forEach((function(t){var n,i=y(t,2),o=i[0],s=i[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==o)&&!cv.equ(s,a[o])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(o))return l.push([o,s,!0,[]]);var u=[];for(var c in o.includes("-")&&(u=o.split("-")),l.push([o,s,!1,u]),r){var d=r[c];c.startsWith("".concat(o,"-"))&&l.push([c,d,!1,c.split("-")])}}}));var f=v({},r);return s.memoizedProps&&s.memoizedProps.args&&(f.args=s.memoizedProps.args),s.memoizedProps&&s.memoizedProps.attach&&(f.attach=s.memoizedProps.attach),{memoized:f,changes:l}}function yv(e,t){var n,r,i,a,o,s=null!=(n=e.__r3f)?n:{},u=s.root,l=null!=(r=null==u||null==u.getState?void 0:u.getState())?r:{},p=(a=t)&&a.memoized&&a.changes?t:gv(e,t),h=p.memoized,v=p.changes,b=s.eventCount;e.__r3f&&(e.__r3f.memoizedProps=h);for(var x=0;x<v.length;x++){var w,_=y(v[x],4),k=_[0],E=_[1],M=_[2],P=_[3],T=e,C=T[k];if(P.length&&(C=P.reduce((function(e,t){return e[t]}),e),!C||!C.set)){var A=P.reverse(),I=m(o=A)||c(o)||d(o)||g(),R=I[0];T=I.slice(1).reverse().reduce((function(e,t){return e[t]}),e),k=R}if(E===sv+"remove")if(C&&C.constructor)E=S(C.constructor,f(null!=(w=h.args)?w:[]));else if(T.constructor){var O,D=S(T.constructor,f(null!=(O=T.__r3f.memoizedProps.args)?O:[]));E=D[C],D.dispose&&D.dispose()}else E=0;if(M)E?s.handlers[k]=E:delete s.handlers[k],s.eventCount=Object.keys(s.handlers).length;else if(C&&C.set&&(C.copy||C instanceof Mi)){var L;if(Array.isArray(E))C.fromArray?C.fromArray(E):(L=C).set.apply(L,f(E));else if(C.copy&&E&&E.constructor&&C.constructor.name===E.constructor.name)C.copy(E);else if(void 0!==E){var j=C instanceof kr;!j&&C.setScalar?C.setScalar(E):C instanceof Mi&&E instanceof Mi?C.mask=E.mask:C.set(E);0}}else T[k]=E,!l.linear&&T[k]instanceof Cr&&(T[k].encoding=cn);bv(e)}if(s.parent&&l.internal&&e.raycast&&b!==s.eventCount){var N=l.internal.interaction.indexOf(e);N>-1&&l.internal.interaction.splice(N,1),s.eventCount&&l.internal.interaction.push(e)}return v.length&&null!=(i=e.__r3f)&&i.parent&&xv(e),e}function bv(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function xv(e){null==e.onUpdate||e.onUpdate(e)}function wv(e,t){e.manual||(nv(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function _v(e,t,n){var r=n.pop(),i=n.reduce((function(e,t){return e[t]}),e);return i[r]=t}function Sv(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function kv(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function Ev(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,i=x(r.hovered.values());try{var a=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var i=e.eventObject.__r3f,a=null==i?void 0:i.handlers;if(r.hovered.delete(Sv(e)),null!=i&&i.eventCount){var o=v(v({},e),{},{intersections:t});null==a.onPointerOut||a.onPointerOut(o),null==a.onPointerLeave||a.onPointerLeave(o)}}};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&!r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}}return function(a){var o=e.getState(),s=o.onPointerMissed,u=o.internal;u.lastEvent.current=a;var l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,d=function(t,n){for(var r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction,s=0;s<o.length;s++){var u=lv(o[s]);u&&(u.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var l=o.flatMap((function(e){var n,r=lv(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=lv(e.object),r=lv(t.object);return n&&r?r.events.priority-n.events.priority||e.distance-t.distance:0})).filter((function(e){var t=Sv(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(l=r.events.filter(l,r));var c,d=x(l);try{for(d.s();!(c=d.n()).done;)for(var f=c.value,p=f.object;p;){var h;null!=(h=p.__r3f)&&h.eventCount&&a.push(v(v({},f),{},{eventObject:p})),p=p.parent}}catch(b){d.e(b)}finally{d.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var m,g=x(r.internal.capturedMap.get(t.pointerId).values());try{for(g.s();!(m=g.n()).done;){var y=m.value;a.push(y.intersection)}}catch(b){g.e(b)}finally{g.f()}}return a}(a,l?t:void 0),p=c?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(u.initialClick=[a.offsetX,a.offsetY],u.initialHits=d.map((function(e){return e.eventObject}))),c&&!d.length&&p<=2&&(r(a,u.interaction),s&&s(a)),l&&n(d),function(t,r,i,a){var o=e.getState();t.length&&function(){var e,s={stopped:!1},u=x(t);try{var l=function(){var u=e.value,l=lv(u.object)||o,c=l.raycaster,d=l.pointer,p=l.camera,h=l.internal,m=new zr(d.x,d.y,0).unproject(p),g=function(e){var t,n;return null!=(t=null==(n=h.capturedMap.get(e))?void 0:n.has(u.eventObject))&&t},y=function(e){var t={intersection:u,target:r.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(u.eventObject,t):h.capturedMap.set(e,new Map([[u.eventObject,t]])),r.target.setPointerCapture(e)},b=function(e){var t=h.capturedMap.get(e);t&&kv(h.capturedMap,u.eventObject,t,e)},x={};for(var w in r){var _=r[w];"function"!==typeof _&&(x[w]=_)}var S=v(v(v({},u),x),{},{pointer:d,intersections:t,stopped:s.stopped,delta:i,unprojectedPoint:m,ray:c.ray,camera:p,stopPropagation:function(){var e="pointerId"in r&&h.capturedMap.get(r.pointerId);if((!e||e.has(u.eventObject))&&(S.stopped=s.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((function(e){return e.eventObject===u.eventObject})))){var i=t.slice(0,t.indexOf(u));n([].concat(f(i),[u]))}},target:{hasPointerCapture:g,setPointerCapture:y,releasePointerCapture:b},currentTarget:{hasPointerCapture:g,setPointerCapture:y,releasePointerCapture:b},nativeEvent:r});if(a(S),!0===s.stopped)return"break"};for(u.s();!(e=u.n()).done&&"break"!==l(););}catch(c){u.e(c)}finally{u.f()}}()}(d,a,p,(function(e){var t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){var s=Sv(e),d=u.hovered.get(s);d?d.stopped&&e.stopPropagation():(u.hovered.set(s,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{var f=o[i];f?c&&!u.initialHits.includes(t)||(r(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)}))),f(e)):c&&u.initialHits.includes(t)&&r(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)})))}}))}}}}var Mv={};var Pv,Tv=function(e){return!(null==e||!e.render)},Cv=r.createContext(null);var Av,Iv,Rv=new Set,Ov=new Set,Dv=new Set;function Lv(e,t){if(e.size){var n,r=x(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(i){r.e(i)}finally{r.f()}}}function jv(e,t){switch(e){case"before":return Lv(Rv,t);case"after":return Lv(Ov,t);case"tail":return Lv(Dv,t)}}function Nv(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),Av=t.internal.subscribers,Pv=0;Pv<Av.length;Pv++)(Iv=Av[Pv]).ref.current(Iv.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function zv(){var e=r.useContext(Cv);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function Fv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return zv()(e,t)}function Bv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=zv(),r=n.getState().internal.subscribe,i=iv(e);return rv((function(){return r(i,t,n)}),[t,r,n]),null}function Uv(e,t){return function(n){var r=new n;e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,dv(e.scene)),n(e)}),t,(function(t){return i(new Error("Could not load ".concat(e,": ").concat(t.message,")")))}))}))})))}}function Vv(e,t,n,r){var i=Array.isArray(t)?t:[t],a=function(e,t,n){return Kh(e,t,!1,n)}(Uv(n,r),[e].concat(f(i)),{equal:cv.equ});return Array.isArray(t)?a:a[0]}Vv.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){Kh(e,t,!0,n)}(Uv(n),[e].concat(f(r)))},Vv.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)qh.splice(0,qh.length);else{var t=qh.find((function(t){return Gh(e,t.keys,t.equal)}));if(t){var n=qh.indexOf(t);-1!==n&&qh.splice(n,1)}}}([e].concat(f(n)))};var Hv=new Map,Wv=function(e){var t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,jv("before",o);var s,u=x(e.values());try{for(u.s();!(s=u.n()).done;){var l,c=s.value;!(r=c.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=Nv(o,r))}}catch(d){u.e(d)}finally{u.f()}if(jv("after",o),0===t)return jv("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState())}),o);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+o),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&jv("before",t),r)Nv(t,r,i);else{var a,o=x(e.values());try{for(o.s();!(a=o.n()).done;){var s=a.value;Nv(t,s.store.getState())}}catch(u){o.e(u)}finally{o.f()}}n&&jv("after",t)}}}(Hv),Gv=Wv.invalidate,qv=Wv.advance,Kv=function(e,t){function n(e,t,n){var r,i=t.args,a=void 0===i?[]:i,o=t.attach,s=b(t,Qh),u="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=fv(s.object,{type:e,root:n,attach:o,primitive:!0})}else{var l=Mv[u];if(!l)throw new Error("R3F: ".concat(u," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");r=fv(S(l,f(a)),{type:e,root:n,attach:o,memoizedProps:{args:a}})}return void 0===r.__r3f.attach&&(r instanceof wa?r.__r3f.attach="geometry":r instanceof Ji&&(r.__r3f.attach="material")),"inject"!==u&&yv(r,s),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?vv(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||fv(t,{}),t.__r3f.parent=e,xv(t),bv(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)vv(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var o=e.children.filter((function(e){return e!==t})),s=o.indexOf(n);e.children=[].concat(f(o.slice(0,s)),[t],f(o.slice(s))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||fv(t,{}),t.__r3f.parent=e,xv(t),bv(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&f(e).forEach((function(e){return o(t,e,n)}))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)mv(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach((function(e,r){kv(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}var u,l=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!l:n;if(!l)a(null==(u=t.__r3f)?void 0:u.objects,t,c),a(t.children,t,c);t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,l||delete t.__r3f),c&&t.dispose&&"Scene"!==t.type&&(0,Wh.unstable_scheduleCallback)(Wh.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),bv(e)}}var s=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")};return{reconciler:Hh()({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&o(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&i(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];var i=r.args,a=void 0===i?[]:i,o=(r.children,b(r,Jh)),s=n.args,u=void 0===s?[]:s,l=(n.children,b(n,ev));if(!Array.isArray(a))throw new Error("R3F: the args prop must be an array!");if(a.some((function(e,t){return e!==u[t]})))return[!0];var c=gv(e,o,l,!0);return c.changes.length?[!1,c]:null},commitUpdate:function(e,t,i,a,s,u){var l=y(t,2),c=l[0],d=l[1];c?function(e,t,i,a){var s,u=null==(s=e.__r3f)?void 0:s.parent;if(u){var l=n(t,i,e.__r3f.root);if(e.children){var c,d=x(e.children);try{for(d.s();!(c=d.n()).done;){var f=c.value;f.__r3f&&r(l,f)}}catch(p){d.e(p)}finally{d.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(l,e)})),e.__r3f.objects=[],o(u,e),r(u,l),l.raycast&&l.__r3f.eventCount&&l.__r3f.root.getState().internal.interaction.push(l),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=l,e.ref&&("function"===typeof e.ref?e.ref(l):e.ref.current=l))}))}}(e,i,s,u):yv(e,d)},commitMount:function(e,t,n,r){var i,a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return fv(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&mv(i,e,r),e.isObject3D&&(e.visible=!1),bv(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&vv(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),bv(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:function(){return t?t():Fh.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!==typeof performance&&cv.fun(performance.now)?performance.now:cv.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:cv.fun(setTimeout)?setTimeout:void 0,cancelTimeout:cv.fun(clearTimeout)?clearTimeout:void 0}),applyProps:yv}}(0,(function(){var e,t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return Fh.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Fh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Fh.ContinuousEventPriority;default:return Fh.DefaultEventPriority}})),Xv=Kv.reconciler,Yv=Kv.applyProps,$v={objects:"shallow",strict:!1},Zv=function(e,t){var n="function"===typeof e?e(t):e;return Tv(n)?n:new Nu(v({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function Qv(e,t){if(t)return t;if(e instanceof HTMLCanvasElement&&e.parentElement){var n=e.parentElement.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,left:n.left}}return{width:0,height:0,top:0,left:0}}function Jv(t){var n=Hv.get(t),i=null==n?void 0:n.fiber,a=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");var o,s="function"===typeof reportError?reportError:console.error,u=a||function(e,t){var n=function(e){var t="function"===typeof e?Bh(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,a=y((0,r.useReducer)((function(e){return e+1}),0),2)[1],o=t.getState(),s=(0,r.useRef)(o),u=(0,r.useRef)(n),l=(0,r.useRef)(i),c=(0,r.useRef)(!1),d=(0,r.useRef)();void 0===d.current&&(d.current=n(o));var f=!1;(s.current!==o||u.current!==n||l.current!==i||c.current)&&(e=n(o),f=!i(d.current,e)),Uh((function(){f&&(d.current=e),s.current=o,u.current=n,l.current=i,c.current=!1}));var p=(0,r.useRef)(o);Uh((function(){var e=function(){try{var e=t.getState(),n=u.current(e);l.current(d.current,n)||(s.current=e,d.current=n,a())}catch(r){c.current=!0,a()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n}),[]);var h=f?e:d.current;return(0,r.useDebugValue)(h),h};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}((function(n,i){var a=new zr,o=new zr,s=new zr;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size,r=n.width,u=n.height,l=n.top,c=n.left,d=r/u;t instanceof zr?s.copy(t):s.set.apply(s,f(t));var p=e.getWorldPosition(a).distanceTo(s);if(nv(e))return{width:r/e.zoom,height:u/e.zoom,top:l,left:c,factor:1,distance:p,aspect:d};var h=e.fov*Math.PI/180,v=2*Math.tan(h/2)*p,m=v*(r/u);return{width:m,height:v,top:l,left:c,factor:r/m,distance:p,aspect:d}}var l=void 0,c=function(e){return n((function(t){return{performance:v(v({},t.performance),{},{current:e})}}))},d=new sr,p={set:n,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:function(e,n){return t(e,n,i())},legacy:!1,linear:!1,flat:!1,scene:fv(new Vu),controls:null,clock:new Kf,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=i();l&&clearTimeout(l),e.performance.current!==e.performance.min&&c(e.performance.min),l=setTimeout((function(){return c(i().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:function(e){return n((function(t){return v(v({},t),{},{events:v(v({},t.events),e)})}))},setSize:function(e,t,r,a,s){var l=i().camera,c={width:e,height:t,top:a||0,left:s||0,updateStyle:r};n((function(e){return{size:c,viewport:v(v({},e.viewport),u(l,o,c))}}))},setDpr:function(e){return n((function(t){var n=uv(e);return{viewport:v(v({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:r.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}};return p})),i=n.getState(),a=i.size,o=i.viewport.dpr,s=i.camera;return n.subscribe((function(){var e=n.getState(),t=e.camera,r=e.size,i=e.viewport,u=e.gl,l=e.set;r===a&&i.dpr===o||(a=r,o=i.dpr,wv(t,r),u.setPixelRatio(i.dpr),u.setSize(r.width,r.height,r.updateStyle)),t!==s&&(s=t,l((function(e){return{viewport:v(v({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),n.subscribe((function(t){return e(t)})),n}(Gv,qv),l=i||Xv.createContainer(u,Fh.ConcurrentRoot,null,!1,null,"",s,null);n||Hv.set(t,{fiber:l,store:u});var c=!1;return{configure:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.gl,i=n.size,a=n.events,s=n.onCreated,l=n.shadows,d=void 0!==l&&l,f=n.linear,p=void 0!==f&&f,h=n.flat,m=void 0!==h&&h,g=n.legacy,y=void 0!==g&&g,x=n.orthographic,w=void 0!==x&&x,_=n.frameloop,S=void 0===_?"always":_,k=n.dpr,E=void 0===k?[1,2]:k,M=n.performance,P=n.raycaster,T=n.camera,C=n.onPointerMissed,A=u.getState(),I=A.gl;A.gl||A.set({gl:I=Zv(r,t)});var R=A.raycaster;R||A.set({raycaster:R=new Ep});var O=P||{},D=O.params,L=b(O,tv);if(cv.equ(L,R,$v)||Yv(R,v({},L)),cv.equ(D,R.params,$v)||Yv(R,{params:v(v({},R.params),D)}),!A.camera){var j=T instanceof qa,N=j?T:w?new yo(0,0,0,0,.1,1e3):new Ka(75,0,.1,1e3);j||(N.position.z=5,T&&Yv(N,T),null!=T&&T.rotation||N.lookAt(0,0,0)),A.set({camera:N})}if(!A.xr){var z=function(e,t){var n=u.getState();"never"!==n.frameloop&&qv(e,!0,n,t)},F=function(){var e=u.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?z:null),e.gl.xr.isPresenting||Gv(e)},B={connect:function(){var e=u.getState().gl;e.xr.addEventListener("sessionstart",F),e.xr.addEventListener("sessionend",F)},disconnect:function(){var e=u.getState().gl;e.xr.removeEventListener("sessionstart",F),e.xr.removeEventListener("sessionend",F)}};I.xr&&B.connect(),A.set({xr:B})}if(I.shadowMap){var U=cv.boo(d);if(U&&I.shadowMap.enabled!==d||!cv.equ(d,I.shadowMap,$v)){var V=I.shadowMap.enabled;I.shadowMap.enabled=!!d,U?I.shadowMap.type=W:Object.assign(I.shadowMap,d),V!==I.shadowMap.enabled&&(I.shadowMap.needsUpdate=!0)}}_v(e,y,["ColorManagement","legacyMode"]);var H=p?ln:cn,G=m?Te:Re;I.outputEncoding!==H&&(I.outputEncoding=H),I.toneMapping!==G&&(I.toneMapping=G),A.legacy!==y&&A.set((function(){return{legacy:y}})),A.linear!==p&&A.set((function(){return{linear:p}})),A.flat!==m&&A.set((function(){return{flat:m}})),!r||cv.fun(r)||Tv(r)||cv.equ(r,I,$v)||Yv(I,r),a&&!A.events.handlers&&A.set({events:a(u)}),E&&A.viewport.dpr!==uv(E)&&A.setDpr(E);var q=Qv(t,i);return cv.equ(q,A.size,$v)||A.setSize(q.width,q.height,q.updateStyle,q.top,q.left),A.frameloop!==S&&A.setFrameloop(S),A.onPointerMissed||A.set({onPointerMissed:C}),M&&!cv.equ(M,A.performance,$v)&&A.set((function(e){return{performance:v(v({},e.performance),M)}})),o=s,c=!0,this},render:function(e){return c||this.configure(),Xv.updateContainer(r.createElement(em,{store:u,children:e,onCreated:o,rootElement:t}),l,null,(function(){})),u},unmount:function(){tm(t)}}}function em(e){var t=e.store,n=e.children,i=e.onCreated,a=e.rootElement;return rv((function(){var e=t.getState();e.set((function(e){return{internal:v(v({},e.internal),{},{active:!0})}})),i&&i(e),t.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),r.createElement(Cv.Provider,{value:t},n)}function tm(e,t){var n=Hv.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),Xv.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),Hv.delete(e),t&&t(e)}catch(s){}}),500)}))}}Xv.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:r.version});r.unstable_act;function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nm.apply(this,arguments)}var rm=n(7494),im=n.n(rm);function am(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,i=t.scroll,a=t.polyfill,o=t.offsetSize,s=a||("undefined"===typeof window?M((function e(){k(this,e)})):window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var u=y((0,r.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),l=u[0],c=u[1],d=(0,r.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),f=n?"number"===typeof n?n:n.scroll:null,p=n?"number"===typeof n?n:n.resize:null,h=(0,r.useRef)(!1);(0,r.useEffect)((function(){return h.current=!0,function(){h.current=!1}}));var v=y((0,r.useMemo)((function(){var e=function(){if(d.current.element){var e=d.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};d.current.element instanceof HTMLElement&&o&&(t.height=d.current.element.offsetHeight,t.width=d.current.element.offsetWidth),Object.freeze(t),h.current&&!um(d.current.lastBounds,t)&&c(d.current.lastBounds=t)}};return[e,p?im()(e,p):e,f?im()(e,f):e]}),[c,o,f,p]),3),m=v[0],g=v[1],b=v[2];function x(){d.current.scrollContainers&&(d.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",b,!0)})),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function w(){d.current.element&&(d.current.resizeObserver=new s(b),d.current.resizeObserver.observe(d.current.element),i&&d.current.scrollContainers&&d.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",b,{capture:!0,passive:!0})})))}var _,S,E;return _=b,S=Boolean(i),(0,r.useEffect)((function(){if(S){var e=_;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[_,S]),E=g,(0,r.useEffect)((function(){var e=E;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[E]),(0,r.useEffect)((function(){x(),w()}),[i,b,g]),(0,r.useEffect)((function(){return x}),[]),[function(e){e&&e!==d.current.element&&(x(),d.current.element=e,d.current.scrollContainers=om(e),w())},l,m]}function om(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,f(om(e.parentElement)))}var sm=["x","y","top","bottom","left","right","width","height"],um=function(e,t){return sm.every((function(n){return e[n]===t[n]}))},lm=Object.defineProperty,cm=Object.defineProperties,dm=Object.getOwnPropertyDescriptors,fm=Object.getOwnPropertySymbols,pm=Object.prototype.hasOwnProperty,hm=Object.prototype.propertyIsEnumerable,vm=function(e,t,n){return t in e?lm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},mm=function(e,t){for(var n in t||(t={}))pm.call(t,n)&&vm(e,n,t[n]);if(fm){var r,i=x(fm(t));try{for(i.s();!(r=i.n()).done;){n=r.value;hm.call(t,n)&&vm(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e};function gm(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var i=gm(r,t,n);if(i)return i;r=t?null:r.sibling}}}function ym(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(t){return e}}var bm=ym(r.createContext(null)),xm=function(e){P(n,e);var t=I(n);function n(){return k(this,n),t.apply(this,arguments)}return M(n,[{key:"render",value:function(){return r.createElement(bm.Provider,{value:this._reactInternals},this.props.children)}}]),n}(r.Component),wm=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_m=wm.ReactCurrentOwner,Sm=wm.ReactCurrentDispatcher;function km(){var e=r.useContext(bm);if(!e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var t=r.useId();return r.useMemo((function(){var n;return null!=(n=_m.current)?n:gm(e,!1,(function(e){for(var n=e.memoizedState;n;){if(n.memoizedState===t)return!0;n=n.next}}))}),[e,t])}var Em=[],Mm=new WeakMap;function Pm(){var e,t=km();Em.splice(0,Em.length),gm(t,!0,(function(e){var t,n=null==(t=e.type)?void 0:t._context;n&&n!==bm&&Em.push(ym(n))}));var n,i=x(Em);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=null==(e=Sm.current)?void 0:e.readContext(a);Mm.set(a,o)}}catch(s){i.e(s)}finally{i.f()}return r.useMemo((function(){return Em.reduce((function(e,t){return function(n){return r.createElement(e,null,r.createElement(t.Provider,(i=mm({},n),a={value:Mm.get(t)},cm(i,dm(a)))));var i,a}}),(function(e){return r.createElement(xm,mm({},e))}))}),[])}var Tm=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],Cm={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Am(e){var t=Ev(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(Cm).reduce((function(e,n){return v(v({},e),{},p({},n,t(n)))}),{}),connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:v(v({},e.events),{},{connected:t})}})),Object.entries(null!=(n=a.handlers)?n:[]).forEach((function(e){var n=y(e,2),r=n[0],i=n[1],a=y(Cm[r],2),o=a[0],s=a[1];t.addEventListener(o,i,{passive:s})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=y(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=y(Cm[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:v(v({},e.events),{},{connected:void 0})}})))}}}var Im=r.forwardRef((function(t,n){var i=t.children,a=t.fallback,o=t.resize,s=t.style,u=t.gl,l=t.events,c=void 0===l?Am:l,d=t.eventSource,f=t.eventPrefix,p=t.shadows,h=t.linear,m=t.flat,g=t.legacy,x=t.orthographic,w=t.frameloop,_=t.dpr,S=t.performance,k=t.raycaster,E=t.camera,M=t.onPointerMissed,P=t.onCreated,T=b(t,Tm);r.useMemo((function(){return t=e,void(Mv=v(v({},Mv),t));var t}),[]);var C=Pm(),A=y(am(v({scroll:!0,debounce:{scroll:50,resize:0}},o)),2),I=A[0],R=A[1],O=r.useRef(null),D=r.useRef(null),L=y(r.useState(null),2),j=L[0],N=L[1];r.useImperativeHandle(n,(function(){return O.current}));var z=iv(M),F=y(r.useState(!1),2),B=F[0],U=F[1],V=y(r.useState(!1),2),H=V[0],W=V[1];if(B)throw B;if(H)throw H;var G=r.useRef(null);R.width>0&&R.height>0&&j&&(G.current||(G.current=Jv(j)),G.current.configure({gl:u,events:c,shadows:p,linear:h,flat:m,legacy:g,orthographic:x,frameloop:w,dpr:_,performance:S,raycaster:k,camera:E,size:R,onPointerMissed:function(){return null==z.current?void 0:z.current.apply(z,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(d?(t=d)&&t.hasOwnProperty("current")?d.current:d:D.current),f&&e.setEvents({compute:function(e,t){var n=e[f+"X"],r=e[f+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==P||P(e)}}),G.current.render(r.createElement(C,null,r.createElement(ov,{set:W},r.createElement(r.Suspense,{fallback:r.createElement(av,{set:U})},i))))),rv((function(){N(O.current)}),[]),r.useEffect((function(){if(j)return function(){return tm(j)}}),[j]);var q=d?"none":"auto";return r.createElement("div",nm({ref:D,style:v({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q},s)},T),r.createElement("div",{ref:I,style:{width:"100%",height:"100%"}},r.createElement("canvas",{ref:O,style:{display:"block"}},a)))})),Rm=r.forwardRef((function(e,t){return r.createElement(xm,null,r.createElement(Im,nm({},e,{ref:t})))})),Om=function(e,t){return(e%t+t)%t},Dm=function(e){P(n,e);var t=I(n);function n(e,r){var i;k(this,n),p(C(i=t.call(this)),"object",void 0),p(C(i),"domElement",void 0),p(C(i),"enabled",!0),p(C(i),"target",new zr),p(C(i),"minDistance",0),p(C(i),"maxDistance",1/0),p(C(i),"minZoom",0),p(C(i),"maxZoom",1/0),p(C(i),"minPolarAngle",0),p(C(i),"maxPolarAngle",Math.PI),p(C(i),"minAzimuthAngle",-1/0),p(C(i),"maxAzimuthAngle",1/0),p(C(i),"enableDamping",!1),p(C(i),"dampingFactor",.05),p(C(i),"enableZoom",!0),p(C(i),"zoomSpeed",1),p(C(i),"enableRotate",!0),p(C(i),"rotateSpeed",1),p(C(i),"enablePan",!0),p(C(i),"panSpeed",1),p(C(i),"screenSpacePanning",!0),p(C(i),"keyPanSpeed",7),p(C(i),"autoRotate",!1),p(C(i),"autoRotateSpeed",2),p(C(i),"reverseOrbit",!1),p(C(i),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),p(C(i),"mouseButtons",{LEFT:j.ROTATE,MIDDLE:j.DOLLY,RIGHT:j.PAN}),p(C(i),"touches",{ONE:N.ROTATE,TWO:N.DOLLY_PAN}),p(C(i),"target0",void 0),p(C(i),"position0",void 0),p(C(i),"zoom0",void 0),p(C(i),"_domElementKeyEvents",null),p(C(i),"getPolarAngle",void 0),p(C(i),"getAzimuthalAngle",void 0),p(C(i),"setPolarAngle",void 0),p(C(i),"setAzimuthalAngle",void 0),p(C(i),"getDistance",void 0),p(C(i),"listenToKeyEvents",void 0),p(C(i),"saveState",void 0),p(C(i),"reset",void 0),p(C(i),"update",void 0),p(C(i),"connect",void 0),p(C(i),"dispose",void 0),i.object=e,i.domElement=r,i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object instanceof Ka?i.object.zoom:1,i.getPolarAngle=function(){return f.phi},i.getAzimuthalAngle=function(){return f.theta},i.setPolarAngle=function(e){var t=Om(e,2*Math.PI),n=f.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),h.phi=t-n,a.update()},i.setAzimuthalAngle=function(e){var t=Om(e,2*Math.PI),n=f.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),h.theta=t-n,a.update()},i.getDistance=function(){return a.object.position.distanceTo(a.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",ee),i._domElementKeyEvents=e},i.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object instanceof Ka?a.object.zoom:1},i.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object instanceof Ka&&(a.object.zoom=a.zoom0,a.object.updateProjectionMatrix()),a.dispatchEvent(o),a.update(),c=l.NONE},i.update=function(){var t=new zr,n=(new Nr).setFromUnitVectors(e.up,new zr(0,1,0)),r=n.clone().invert(),i=new zr,s=new Nr,u=2*Math.PI;return function(){var e=a.object.position;t.copy(e).sub(a.target),t.applyQuaternion(n),f.setFromVector3(t),a.autoRotate&&c===l.NONE&&R(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(f.theta+=h.theta*a.dampingFactor,f.phi+=h.phi*a.dampingFactor):(f.theta+=h.theta,f.phi+=h.phi);var p=a.minAzimuthAngle,y=a.maxAzimuthAngle;return isFinite(p)&&isFinite(y)&&(p<-Math.PI?p+=u:p>Math.PI&&(p-=u),y<-Math.PI?y+=u:y>Math.PI&&(y-=u),f.theta=p<=y?Math.max(p,Math.min(y,f.theta)):f.theta>(p+y)/2?Math.max(p,f.theta):Math.min(y,f.theta)),f.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=v,f.radius=Math.max(a.minDistance,Math.min(a.maxDistance,f.radius)),!0===a.enableDamping?a.target.addScaledVector(m,a.dampingFactor):a.target.add(m),t.setFromSpherical(f),t.applyQuaternion(r),e.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(h.theta*=1-a.dampingFactor,h.phi*=1-a.dampingFactor,m.multiplyScalar(1-a.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),v=1,!!(g||i.distanceToSquared(a.object.position)>d||8*(1-s.dot(a.object.quaternion))>d)&&(a.dispatchEvent(o),i.copy(a.object.position),s.copy(a.object.quaternion),g=!1,!0)}}(),i.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.style.touchAction="none",a.domElement.addEventListener("contextmenu",te),a.domElement.addEventListener("pointerdown",Y),a.domElement.addEventListener("pointercancel",Q),a.domElement.addEventListener("wheel",J)},i.dispose=function(){var e,t,n,r,i,o;null===(e=a.domElement)||void 0===e||e.removeEventListener("contextmenu",te),null===(t=a.domElement)||void 0===t||t.removeEventListener("pointerdown",Y),null===(n=a.domElement)||void 0===n||n.removeEventListener("pointercancel",Q),null===(r=a.domElement)||void 0===r||r.removeEventListener("wheel",J),null===(i=a.domElement)||void 0===i||i.ownerDocument.removeEventListener("pointermove",$),null===(o=a.domElement)||void 0===o||o.ownerDocument.removeEventListener("pointerup",Z),null!==a._domElementKeyEvents&&a._domElementKeyEvents.removeEventListener("keydown",ee)};var a=C(i),o={type:"change"},s={type:"start"},u={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=l.NONE,d=1e-6,f=new Tp,h=new Tp,v=1,m=new zr,g=!1,y=new sr,b=new sr,x=new sr,w=new sr,_=new sr,S=new sr,E=new sr,M=new sr,P=new sr,T=[],A={};function I(){return Math.pow(.95,a.zoomSpeed)}function R(e){a.reverseOrbit?h.theta+=e:h.theta-=e}function O(e){a.reverseOrbit?h.phi+=e:h.phi-=e}var D=function(){var e=new zr;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),m.add(e)}}(),L=function(){var e=new zr;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),m.add(e)}}(),z=function(){var e=new zr;return function(t,n){var r=a.domElement;if(r&&a.object instanceof Ka&&a.object.isPerspectiveCamera){var i=a.object.position;e.copy(i).sub(a.target);var o=e.length();o*=Math.tan(a.object.fov/2*Math.PI/180),D(2*t*o/r.clientHeight,a.object.matrix),L(2*n*o/r.clientHeight,a.object.matrix)}else r&&a.object instanceof yo&&a.object.isOrthographicCamera?(D(t*(a.object.right-a.object.left)/a.object.zoom/r.clientWidth,a.object.matrix),L(n*(a.object.top-a.object.bottom)/a.object.zoom/r.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function F(e){a.object instanceof Ka&&a.object.isPerspectiveCamera?v/=e:a.object instanceof yo&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function B(e){a.object instanceof Ka&&a.object.isPerspectiveCamera?v*=e:a.object instanceof yo&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function U(e){y.set(e.clientX,e.clientY)}function V(e){w.set(e.clientX,e.clientY)}function H(){if(1==T.length)y.set(T[0].pageX,T[0].pageY);else{var e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);y.set(e,t)}}function W(){if(1==T.length)w.set(T[0].pageX,T[0].pageY);else{var e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);w.set(e,t)}}function G(){var e=T[0].pageX-T[1].pageX,t=T[0].pageY-T[1].pageY,n=Math.sqrt(e*e+t*t);E.set(0,n)}function q(e){if(1==T.length)b.set(e.pageX,e.pageY);else{var t=ie(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);b.set(n,r)}x.subVectors(b,y).multiplyScalar(a.rotateSpeed);var i=a.domElement;i&&(R(2*Math.PI*x.x/i.clientHeight),O(2*Math.PI*x.y/i.clientHeight)),y.copy(b)}function K(e){if(1==T.length)_.set(e.pageX,e.pageY);else{var t=ie(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);_.set(n,r)}S.subVectors(_,w).multiplyScalar(a.panSpeed),z(S.x,S.y),w.copy(_)}function X(e){var t=ie(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);M.set(0,i),P.set(0,Math.pow(M.y/E.y,a.zoomSpeed)),F(P.y),E.copy(M)}function Y(e){if(!1!==a.enabled){var t,n;if(0===T.length)null===(t=a.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",$),null===(n=a.domElement)||void 0===n||n.ownerDocument.addEventListener("pointerup",Z);!function(e){T.push(e)}(e),"touch"===e.pointerType?function(e){switch(re(e),T.length){case 1:switch(a.touches.ONE){case N.ROTATE:if(!1===a.enableRotate)return;H(),c=l.TOUCH_ROTATE;break;case N.PAN:if(!1===a.enablePan)return;W(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(a.touches.TWO){case N.DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;a.enableZoom&&G(),a.enablePan&&W(),c=l.TOUCH_DOLLY_PAN;break;case N.DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;a.enableZoom&&G(),a.enableRotate&&H(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&a.dispatchEvent(s)}(e):function(e){var t;switch(e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case j.DOLLY:if(!1===a.enableZoom)return;!function(e){E.set(e.clientX,e.clientY)}(e),c=l.DOLLY;break;case j.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;V(e),c=l.PAN}else{if(!1===a.enableRotate)return;U(e),c=l.ROTATE}break;case j.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;U(e),c=l.ROTATE}else{if(!1===a.enablePan)return;V(e),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&a.dispatchEvent(s)}(e)}}function $(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){switch(re(e),c){case l.TOUCH_ROTATE:if(!1===a.enableRotate)return;q(e),a.update();break;case l.TOUCH_PAN:if(!1===a.enablePan)return;K(e),a.update();break;case l.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&X(e),a.enablePan&&K(e)}(e),a.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&X(e),a.enableRotate&&q(e)}(e),a.update();break;default:c=l.NONE}}(e):function(e){if(!1===a.enabled)return;switch(c){case l.ROTATE:if(!1===a.enableRotate)return;!function(e){b.set(e.clientX,e.clientY),x.subVectors(b,y).multiplyScalar(a.rotateSpeed);var t=a.domElement;t&&(R(2*Math.PI*x.x/t.clientHeight),O(2*Math.PI*x.y/t.clientHeight)),y.copy(b),a.update()}(e);break;case l.DOLLY:if(!1===a.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),P.subVectors(M,E),P.y>0?F(I()):P.y<0&&B(I()),E.copy(M),a.update()}(e);break;case l.PAN:if(!1===a.enablePan)return;!function(e){_.set(e.clientX,e.clientY),S.subVectors(_,w).multiplyScalar(a.panSpeed),z(S.x,S.y),w.copy(_),a.update()}(e)}}(e))}function Z(e){var t,n,r;(ne(e),0===T.length)&&(null===(t=a.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(n=a.domElement)||void 0===n||n.ownerDocument.removeEventListener("pointermove",$),null===(r=a.domElement)||void 0===r||r.ownerDocument.removeEventListener("pointerup",Z));a.dispatchEvent(u),c=l.NONE}function Q(e){ne(e)}function J(e){!1===a.enabled||!1===a.enableZoom||c!==l.NONE&&c!==l.ROTATE||(e.preventDefault(),a.dispatchEvent(s),function(e){e.deltaY<0?B(I()):e.deltaY>0&&F(I()),a.update()}(e),a.dispatchEvent(u))}function ee(e){!1!==a.enabled&&!1!==a.enablePan&&function(e){var t=!1;switch(e.code){case a.keys.UP:z(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:z(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:z(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:z(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function te(e){!1!==a.enabled&&e.preventDefault()}function ne(e){delete A[e.pointerId];for(var t=0;t<T.length;t++)if(T[t].pointerId==e.pointerId)return void T.splice(t,1)}function re(e){var t=A[e.pointerId];void 0===t&&(t=new sr,A[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ie(e){var t=e.pointerId===T[0].pointerId?T[1]:T[0];return A[t.pointerId]}return void 0!==r&&i.connect(r),i.update(),i}return M(n)}(qn),Lm=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],jm=r.forwardRef((function(e,t){var n=e.makeDefault,i=e.camera,a=e.regress,o=e.domElement,s=e.enableDamping,u=void 0===s||s,l=e.onChange,c=e.onStart,d=e.onEnd,f=b(e,Lm),p=Fv((function(e){return e.invalidate})),h=Fv((function(e){return e.camera})),v=Fv((function(e){return e.gl})),m=Fv((function(e){return e.events})),g=Fv((function(e){return e.set})),y=Fv((function(e){return e.get})),x=Fv((function(e){return e.performance})),w=i||h,_=o||m.connected||v.domElement,S=r.useMemo((function(){return new Dm(w)}),[w]);return Bv((function(){S.enabled&&S.update()}),-1),r.useEffect((function(){return S.connect(_),function(){S.dispose()}}),[_,a,S,p]),r.useEffect((function(){var e=function(e){p(),a&&x.regress(),l&&l(e)};return S.addEventListener("change",e),c&&S.addEventListener("start",c),d&&S.addEventListener("end",d),function(){c&&S.removeEventListener("start",c),d&&S.removeEventListener("end",d),S.removeEventListener("change",e)}}),[l,c,d,S,p]),r.useEffect((function(){if(n){var e=y().controls;return g({controls:S}),function(){return g({controls:e})}}}),[n,S]),r.createElement("primitive",nm({ref:t,object:S,enableDamping:u},f))})),Nm=n(7357),zm=n.n(Nm),Fm=n(708),Bm=n.n(Fm),Um=function(e){P(n,e);var t=I(n);function n(e,r){var i,a;k(this,n),p(C(a=t.call(this)),"isTransformControls",!0),p(C(a),"visible",!1),p(C(a),"domElement",void 0),p(C(a),"raycaster",new Ep),p(C(a),"gizmo",void 0),p(C(a),"plane",void 0),p(C(a),"tempVector",new zr),p(C(a),"tempVector2",new zr),p(C(a),"tempQuaternion",new Nr),p(C(a),"unit",{X:new zr(1,0,0),Y:new zr(0,1,0),Z:new zr(0,0,1)}),p(C(a),"pointStart",new zr),p(C(a),"pointEnd",new zr),p(C(a),"offset",new zr),p(C(a),"rotationAxis",new zr),p(C(a),"startNorm",new zr),p(C(a),"endNorm",new zr),p(C(a),"rotationAngle",0),p(C(a),"cameraPosition",new zr),p(C(a),"cameraQuaternion",new Nr),p(C(a),"cameraScale",new zr),p(C(a),"parentPosition",new zr),p(C(a),"parentQuaternion",new Nr),p(C(a),"parentQuaternionInv",new Nr),p(C(a),"parentScale",new zr),p(C(a),"worldPositionStart",new zr),p(C(a),"worldQuaternionStart",new Nr),p(C(a),"worldScaleStart",new zr),p(C(a),"worldPosition",new zr),p(C(a),"worldQuaternion",new Nr),p(C(a),"worldQuaternionInv",new Nr),p(C(a),"worldScale",new zr),p(C(a),"eye",new zr),p(C(a),"positionStart",new zr),p(C(a),"quaternionStart",new Nr),p(C(a),"scaleStart",new zr),p(C(a),"camera",void 0),p(C(a),"object",void 0),p(C(a),"enabled",!0),p(C(a),"axis",null),p(C(a),"mode","translate"),p(C(a),"translationSnap",null),p(C(a),"rotationSnap",null),p(C(a),"scaleSnap",null),p(C(a),"space","world"),p(C(a),"size",1),p(C(a),"dragging",!1),p(C(a),"showX",!0),p(C(a),"showY",!0),p(C(a),"showZ",!0),p(C(a),"changeEvent",{type:"change"}),p(C(a),"mouseDownEvent",{type:"mouseDown",mode:a.mode}),p(C(a),"mouseUpEvent",{type:"mouseUp",mode:a.mode}),p(C(a),"objectChangeEvent",{type:"objectChange"}),p(C(a),"intersectObjectWithRay",(function(e,t,n){for(var r=t.intersectObject(e,!0),i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1})),p(C(a),"attach",(function(e){return a.object=e,a.visible=!0,C(a)})),p(C(a),"detach",(function(){return a.object=void 0,a.visible=!1,a.axis=null,C(a)})),p(C(a),"reset",(function(){return a.enabled?(a.dragging&&void 0!==a.object&&(a.object.position.copy(a.positionStart),a.object.quaternion.copy(a.quaternionStart),a.object.scale.copy(a.scaleStart),a.dispatchEvent(a.changeEvent),a.dispatchEvent(a.objectChangeEvent),a.pointStart.copy(a.pointEnd)),C(a)):C(a)})),p(C(a),"updateMatrixWorld",(function(){void 0!==a.object&&(a.object.updateMatrixWorld(),null===a.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):a.object.parent.matrixWorld.decompose(a.parentPosition,a.parentQuaternion,a.parentScale),a.object.matrixWorld.decompose(a.worldPosition,a.worldQuaternion,a.worldScale),a.parentQuaternionInv.copy(a.parentQuaternion).invert(),a.worldQuaternionInv.copy(a.worldQuaternion).invert()),a.camera.updateMatrixWorld(),a.camera.matrixWorld.decompose(a.cameraPosition,a.cameraQuaternion,a.cameraScale),a.eye.copy(a.cameraPosition).sub(a.worldPosition).normalize(),D((i=C(a),T(n.prototype)),"updateMatrixWorld",i).call(i)})),p(C(a),"pointerHover",(function(e){if(void 0!==a.object&&!0!==a.dragging){a.raycaster.setFromCamera(e,a.camera);var t=a.intersectObjectWithRay(a.gizmo.picker[a.mode],a.raycaster);a.axis=t?t.object.name:null}})),p(C(a),"pointerDown",(function(e){if(void 0!==a.object&&!0!==a.dragging&&0===e.button&&null!==a.axis){a.raycaster.setFromCamera(e,a.camera);var t=a.intersectObjectWithRay(a.plane,a.raycaster,!0);if(t){var n=a.space;if("scale"===a.mode?n="local":"E"!==a.axis&&"XYZE"!==a.axis&&"XYZ"!==a.axis||(n="world"),"local"===n&&"rotate"===a.mode){var r=a.rotationSnap;"X"===a.axis&&r&&(a.object.rotation.x=Math.round(a.object.rotation.x/r)*r),"Y"===a.axis&&r&&(a.object.rotation.y=Math.round(a.object.rotation.y/r)*r),"Z"===a.axis&&r&&(a.object.rotation.z=Math.round(a.object.rotation.z/r)*r)}a.object.updateMatrixWorld(),a.object.parent&&a.object.parent.updateMatrixWorld(),a.positionStart.copy(a.object.position),a.quaternionStart.copy(a.object.quaternion),a.scaleStart.copy(a.object.scale),a.object.matrixWorld.decompose(a.worldPositionStart,a.worldQuaternionStart,a.worldScaleStart),a.pointStart.copy(t.point).sub(a.worldPositionStart)}a.dragging=!0,a.mouseDownEvent.mode=a.mode,a.dispatchEvent(a.mouseDownEvent)}})),p(C(a),"pointerMove",(function(e){var t=a.axis,n=a.mode,r=a.object,i=a.space;if("scale"===n?i="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(i="world"),void 0!==r&&null!==t&&!1!==a.dragging&&-1===e.button){a.raycaster.setFromCamera(e,a.camera);var o=a.intersectObjectWithRay(a.plane,a.raycaster,!0);if(o){if(a.pointEnd.copy(o.point).sub(a.worldPositionStart),"translate"===n)a.offset.copy(a.pointEnd).sub(a.pointStart),"local"===i&&"XYZ"!==t&&a.offset.applyQuaternion(a.worldQuaternionInv),-1===t.indexOf("X")&&(a.offset.x=0),-1===t.indexOf("Y")&&(a.offset.y=0),-1===t.indexOf("Z")&&(a.offset.z=0),"local"===i&&"XYZ"!==t?a.offset.applyQuaternion(a.quaternionStart).divide(a.parentScale):a.offset.applyQuaternion(a.parentQuaternionInv).divide(a.parentScale),r.position.copy(a.offset).add(a.positionStart),a.translationSnap&&("local"===i&&(r.position.applyQuaternion(a.tempQuaternion.copy(a.quaternionStart).invert()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/a.translationSnap)*a.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/a.translationSnap)*a.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/a.translationSnap)*a.translationSnap),r.position.applyQuaternion(a.quaternionStart)),"world"===i&&(r.parent&&r.position.add(a.tempVector.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/a.translationSnap)*a.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/a.translationSnap)*a.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/a.translationSnap)*a.translationSnap),r.parent&&r.position.sub(a.tempVector.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var s=a.pointEnd.length()/a.pointStart.length();a.pointEnd.dot(a.pointStart)<0&&(s*=-1),a.tempVector2.set(s,s,s)}else a.tempVector.copy(a.pointStart),a.tempVector2.copy(a.pointEnd),a.tempVector.applyQuaternion(a.worldQuaternionInv),a.tempVector2.applyQuaternion(a.worldQuaternionInv),a.tempVector2.divide(a.tempVector),-1===t.search("X")&&(a.tempVector2.x=1),-1===t.search("Y")&&(a.tempVector2.y=1),-1===t.search("Z")&&(a.tempVector2.z=1);r.scale.copy(a.scaleStart).multiply(a.tempVector2),a.scaleSnap&&a.object&&(-1!==t.search("X")&&(a.object.scale.x=Math.round(r.scale.x/a.scaleSnap)*a.scaleSnap||a.scaleSnap),-1!==t.search("Y")&&(r.scale.y=Math.round(r.scale.y/a.scaleSnap)*a.scaleSnap||a.scaleSnap),-1!==t.search("Z")&&(r.scale.z=Math.round(r.scale.z/a.scaleSnap)*a.scaleSnap||a.scaleSnap))}else if("rotate"===n){a.offset.copy(a.pointEnd).sub(a.pointStart);var u=20/a.worldPosition.distanceTo(a.tempVector.setFromMatrixPosition(a.camera.matrixWorld));"E"===t?(a.rotationAxis.copy(a.eye),a.rotationAngle=a.pointEnd.angleTo(a.pointStart),a.startNorm.copy(a.pointStart).normalize(),a.endNorm.copy(a.pointEnd).normalize(),a.rotationAngle*=a.endNorm.cross(a.startNorm).dot(a.eye)<0?1:-1):"XYZE"===t?(a.rotationAxis.copy(a.offset).cross(a.eye).normalize(),a.rotationAngle=a.offset.dot(a.tempVector.copy(a.rotationAxis).cross(a.eye))*u):"X"!==t&&"Y"!==t&&"Z"!==t||(a.rotationAxis.copy(a.unit[t]),a.tempVector.copy(a.unit[t]),"local"===i&&a.tempVector.applyQuaternion(a.worldQuaternion),a.rotationAngle=a.offset.dot(a.tempVector.cross(a.eye).normalize())*u),a.rotationSnap&&(a.rotationAngle=Math.round(a.rotationAngle/a.rotationSnap)*a.rotationSnap),"local"===i&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(a.quaternionStart),r.quaternion.multiply(a.tempQuaternion.setFromAxisAngle(a.rotationAxis,a.rotationAngle)).normalize()):(a.rotationAxis.applyQuaternion(a.parentQuaternionInv),r.quaternion.copy(a.tempQuaternion.setFromAxisAngle(a.rotationAxis,a.rotationAngle)),r.quaternion.multiply(a.quaternionStart).normalize())}a.dispatchEvent(a.changeEvent),a.dispatchEvent(a.objectChangeEvent)}}})),p(C(a),"pointerUp",(function(e){0===e.button&&(a.dragging&&null!==a.axis&&(a.mouseUpEvent.mode=a.mode,a.dispatchEvent(a.mouseUpEvent)),a.dragging=!1,a.axis=null)})),p(C(a),"getPointer",(function(e){var t;if(a.domElement&&null!==(t=a.domElement.ownerDocument)&&void 0!==t&&t.pointerLockElement)return{x:0,y:0,button:e.button};var n,r=e.changedTouches?e.changedTouches[0]:e,i=null===(n=a.domElement)||void 0===n?void 0:n.getBoundingClientRect();return{x:(r.clientX-i.left)/i.width*2-1,y:-(r.clientY-i.top)/i.height*2+1,button:e.button}})),p(C(a),"onPointerHover",(function(e){if(a.enabled)switch(e.pointerType){case"mouse":case"pen":a.pointerHover(a.getPointer(e))}})),p(C(a),"onPointerDown",(function(e){a.enabled&&a.domElement&&(a.domElement.style.touchAction="none",a.domElement.ownerDocument.addEventListener("pointermove",a.onPointerMove),a.pointerHover(a.getPointer(e)),a.pointerDown(a.getPointer(e)))})),p(C(a),"onPointerMove",(function(e){a.enabled&&a.pointerMove(a.getPointer(e))})),p(C(a),"onPointerUp",(function(e){a.enabled&&a.domElement&&(a.domElement.style.touchAction="",a.domElement.ownerDocument.removeEventListener("pointermove",a.onPointerMove),a.pointerUp(a.getPointer(e)))})),p(C(a),"getMode",(function(){return a.mode})),p(C(a),"setMode",(function(e){a.mode=e})),p(C(a),"setTranslationSnap",(function(e){a.translationSnap=e})),p(C(a),"setRotationSnap",(function(e){a.rotationSnap=e})),p(C(a),"setScaleSnap",(function(e){a.scaleSnap=e})),p(C(a),"setSize",(function(e){a.size=e})),p(C(a),"setSpace",(function(e){a.space=e})),p(C(a),"update",(function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")})),p(C(a),"connect",(function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.addEventListener("pointerdown",a.onPointerDown),a.domElement.addEventListener("pointermove",a.onPointerHover),a.domElement.ownerDocument.addEventListener("pointerup",a.onPointerUp)})),p(C(a),"dispose",(function(){var e,t,n,r,i,o;null===(e=a.domElement)||void 0===e||e.removeEventListener("pointerdown",a.onPointerDown),null===(t=a.domElement)||void 0===t||t.removeEventListener("pointermove",a.onPointerHover),null===(n=a.domElement)||void 0===n||null===(r=n.ownerDocument)||void 0===r||r.removeEventListener("pointermove",a.onPointerMove),null===(i=a.domElement)||void 0===i||null===(o=i.ownerDocument)||void 0===o||o.removeEventListener("pointerup",a.onPointerUp),a.traverse((function(e){var t=e;t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}))})),a.domElement=r,a.camera=e,a.gizmo=new Vm,a.add(a.gizmo),a.plane=new Hm,a.add(a.plane);var o=function(e,t){var n=t;Object.defineProperty(C(a),e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,this.plane[e]=t,this.gizmo[e]=t,this.dispatchEvent({type:e+"-changed",value:t}),this.dispatchEvent(this.changeEvent))}}),a[e]=t,a.plane[e]=t,a.gizmo[e]=t};return o("camera",a.camera),o("object",a.object),o("enabled",a.enabled),o("axis",a.axis),o("mode",a.mode),o("translationSnap",a.translationSnap),o("rotationSnap",a.rotationSnap),o("scaleSnap",a.scaleSnap),o("space",a.space),o("size",a.size),o("dragging",a.dragging),o("showX",a.showX),o("showY",a.showY),o("showZ",a.showZ),o("worldPosition",a.worldPosition),o("worldPositionStart",a.worldPositionStart),o("worldQuaternion",a.worldQuaternion),o("worldQuaternionStart",a.worldQuaternionStart),o("cameraPosition",a.cameraPosition),o("cameraQuaternion",a.cameraQuaternion),o("pointStart",a.pointStart),o("pointEnd",a.pointEnd),o("rotationAxis",a.rotationAxis),o("rotationAngle",a.rotationAngle),o("eye",a.eye),void 0!==r&&a.connect(r),a}return M(n)}(Bi),Vm=function(e){P(n,e);var t=I(n);function n(){var e,r;k(this,n),p(C(r=t.call(this)),"isTransformControlsGizmo",!0),p(C(r),"type","TransformControlsGizmo"),p(C(r),"tempVector",new zr(0,0,0)),p(C(r),"tempEuler",new Ei),p(C(r),"alignVector",new zr(0,1,0)),p(C(r),"zeroVector",new zr(0,0,0)),p(C(r),"lookAtMatrix",new vi),p(C(r),"tempQuaternion",new Nr),p(C(r),"tempQuaternion2",new Nr),p(C(r),"identityQuaternion",new Nr),p(C(r),"unitX",new zr(1,0,0)),p(C(r),"unitY",new zr(0,1,0)),p(C(r),"unitZ",new zr(0,0,1)),p(C(r),"gizmo",void 0),p(C(r),"picker",void 0),p(C(r),"helper",void 0),p(C(r),"rotationAxis",new zr),p(C(r),"cameraPosition",new zr),p(C(r),"worldPositionStart",new zr),p(C(r),"worldQuaternionStart",new Nr),p(C(r),"worldPosition",new zr),p(C(r),"worldQuaternion",new Nr),p(C(r),"eye",new zr),p(C(r),"camera",null),p(C(r),"enabled",!0),p(C(r),"axis",null),p(C(r),"mode","translate"),p(C(r),"space","world"),p(C(r),"size",1),p(C(r),"dragging",!1),p(C(r),"showX",!0),p(C(r),"showY",!0),p(C(r),"showZ",!0),p(C(r),"updateMatrixWorld",(function(){var t=r.space;"scale"===r.mode&&(t="local");var i="local"===t?r.worldQuaternion:r.identityQuaternion;r.gizmo.translate.visible="translate"===r.mode,r.gizmo.rotate.visible="rotate"===r.mode,r.gizmo.scale.visible="scale"===r.mode,r.helper.translate.visible="translate"===r.mode,r.helper.rotate.visible="rotate"===r.mode,r.helper.scale.visible="scale"===r.mode;var a=[];a=(a=(a=a.concat(r.picker[r.mode].children)).concat(r.gizmo[r.mode].children)).concat(r.helper[r.mode].children);for(var o=function(e){var t=a[e];t.visible=!0,t.rotation.set(0,0,0),t.position.copy(r.worldPosition);var n=void 0;if(n=r.camera.isOrthographicCamera?(r.camera.top-r.camera.bottom)/r.camera.zoom:r.worldPosition.distanceTo(r.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*r.camera.fov/360)/r.camera.zoom,7),t.scale.set(1,1,1).multiplyScalar(n*r.size/7),"helper"===t.tag)return t.visible=!1,"AXIS"===t.name?(t.position.copy(r.worldPositionStart),t.visible=!!r.axis,"X"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,0)),t.quaternion.copy(i).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye))>.9&&(t.visible=!1)),"Y"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,Math.PI/2)),t.quaternion.copy(i).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye))>.9&&(t.visible=!1)),"Z"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),t.quaternion.copy(i).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye))>.9&&(t.visible=!1)),"XYZE"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),r.alignVector.copy(r.rotationAxis),t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.zeroVector,r.alignVector,r.unitY)),t.quaternion.multiply(r.tempQuaternion),t.visible=r.dragging),"E"===r.axis&&(t.visible=!1)):"START"===t.name?(t.position.copy(r.worldPositionStart),t.visible=r.dragging):"END"===t.name?(t.position.copy(r.worldPosition),t.visible=r.dragging):"DELTA"===t.name?(t.position.copy(r.worldPositionStart),t.quaternion.copy(r.worldQuaternionStart),r.tempVector.set(1e-10,1e-10,1e-10).add(r.worldPositionStart).sub(r.worldPosition).multiplyScalar(-1),r.tempVector.applyQuaternion(r.worldQuaternionStart.clone().invert()),t.scale.copy(r.tempVector),t.visible=r.dragging):(t.quaternion.copy(i),r.dragging?t.position.copy(r.worldPositionStart):t.position.copy(r.worldPosition),r.axis&&(t.visible=-1!==r.axis.search(t.name))),"continue";if(t.quaternion.copy(i),"translate"===r.mode||"scale"===r.mode){var o=.99;"X"!==t.name&&"XYZX"!==t.name||Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"Y"!==t.name&&"XYZY"!==t.name||Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"Z"!==t.name&&"XYZZ"!==t.name||Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XY"===t.name&&Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"YZ"===t.name&&Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XZ"===t.name&&Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),-1!==t.name.search("X")&&(r.alignVector.copy(r.unitX).applyQuaternion(i).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.x*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Y")&&(r.alignVector.copy(r.unitY).applyQuaternion(i).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.y*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Z")&&(r.alignVector.copy(r.unitZ).applyQuaternion(i).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.z*=-1:"bwd"===t.tag&&(t.visible=!1))}else"rotate"===r.mode&&(r.tempQuaternion2.copy(i),r.alignVector.copy(r.eye).applyQuaternion(r.tempQuaternion.copy(i).invert()),-1!==t.name.search("E")&&t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.eye,r.zeroVector,r.unitY)),"X"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitX,Math.atan2(-r.alignVector.y,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Y"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitY,Math.atan2(r.alignVector.x,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Z"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitZ,Math.atan2(r.alignVector.y,r.alignVector.x)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)));t.visible=t.visible&&(-1===t.name.indexOf("X")||r.showX),t.visible=t.visible&&(-1===t.name.indexOf("Y")||r.showY),t.visible=t.visible&&(-1===t.name.indexOf("Z")||r.showZ),t.visible=t.visible&&(-1===t.name.indexOf("E")||r.showX&&r.showY&&r.showZ),t.material.tempOpacity=t.material.tempOpacity||t.material.opacity,t.material.tempColor=t.material.tempColor||t.material.color.clone(),t.material.color.copy(t.material.tempColor),t.material.opacity=t.material.tempOpacity,r.enabled?r.axis&&(t.name===r.axis||r.axis.split("").some((function(e){return t.name===e}))?(t.material.opacity=1,t.material.color.lerp(new kr(1,1,1),.5)):(t.material.opacity*=.25,t.material.color.lerp(new kr(1,1,1),.5))):(t.material.opacity*=.5,t.material.color.lerp(new kr(1,1,1),.5))},s=0;s<a.length;s++)o(s);D((e=C(r),T(n.prototype)),"updateMatrixWorld",e).call(e)}));var i=new ea({depthTest:!1,depthWrite:!1,transparent:!0,side:X,fog:!1,toneMapped:!1}),a=new Pl({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),o=i.clone();o.opacity=.15;var s=i.clone();s.opacity=.33;var u=i.clone();u.color.set(16711680);var l=i.clone();l.color.set(65280);var c=i.clone();c.color.set(255);var d=i.clone();d.opacity=.25;var f=d.clone();f.color.set(16776960);var h=d.clone();h.color.set(65535);var v=d.clone();v.color.set(16711935),i.clone().color.set(16776960);var m=a.clone();m.color.set(16711680);var g=a.clone();g.color.set(65280);var y=a.clone();y.color.set(255);var b=a.clone();b.color.set(65535);var x=a.clone();x.color.set(16711935);var w=a.clone();w.color.set(16776960);var _=a.clone();_.color.set(7895160);var S=w.clone();S.opacity=.25;var E=new xc(0,.05,.2,12,1,!1),M=new Ua(.125,.125,.125),P=new wa;P.setAttribute("position",new fa([0,0,0,1,0,0],3));var A=function(e,t){for(var n=new wa,r=[],i=0;i<=64*t;++i)r.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new fa(r,3)),n},I={X:[[new Fa(E,u),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new Fa(E,u),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new Ol(P,m)]],Y:[[new Fa(E,l),[0,1,0],null,null,"fwd"],[new Fa(E,l),[0,1,0],[Math.PI,0,0],null,"bwd"],[new Ol(P,g),null,[0,0,Math.PI/2]]],Z:[[new Fa(E,c),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new Fa(E,c),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new Ol(P,y),null,[0,-Math.PI/2,0]]],XYZ:[[new Fa(new ud(.1,0),d.clone()),[0,0,0],[0,0,0]]],XY:[[new Fa(new so(.295,.295),f.clone()),[.15,.15,0]],[new Ol(P,w),[.18,.3,0],null,[.125,1,1]],[new Ol(P,w),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Fa(new so(.295,.295),h.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new Ol(P,b),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new Ol(P,b),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Fa(new so(.295,.295),v.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new Ol(P,x),[.18,0,.3],null,[.125,1,1]],[new Ol(P,x),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},R={X:[[new Fa(new xc(.2,0,1,4,1,!1),o),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Fa(new xc(.2,0,1,4,1,!1),o),[0,.6,0]]],Z:[[new Fa(new xc(.2,0,1,4,1,!1),o),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Fa(new ud(.2,0),o)]],XY:[[new Fa(new so(.4,.4),o),[.2,.2,0]]],YZ:[[new Fa(new so(.4,.4),o),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new Fa(new so(.4,.4),o),[.2,0,.2],[-Math.PI/2,0,0]]]},O={START:[[new Fa(new ud(.01,2),s),null,null,null,"helper"]],END:[[new Fa(new ud(.01,2),s),null,null,null,"helper"]],DELTA:[[new Ol(function(){var e=new wa;return e.setAttribute("position",new fa([0,0,0,1,1,1],3)),e}(),s),null,null,null,"helper"]],X:[[new Ol(P,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Ol(P,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Ol(P,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},L={X:[[new Ol(A(1,.5),m)],[new Fa(new ud(.04,0),u),[0,0,.99],null,[1,3,1]]],Y:[[new Ol(A(1,.5),g),null,[0,0,-Math.PI/2]],[new Fa(new ud(.04,0),l),[0,0,.99],null,[3,1,1]]],Z:[[new Ol(A(1,.5),y),null,[0,Math.PI/2,0]],[new Fa(new ud(.04,0),c),[.99,0,0],null,[1,3,1]]],E:[[new Ol(A(1.25,1),S),null,[0,Math.PI/2,0]],[new Fa(new xc(.03,0,.15,4,1,!1),S),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new Fa(new xc(.03,0,.15,4,1,!1),S),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new Fa(new xc(.03,0,.15,4,1,!1),S),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new Fa(new xc(.03,0,.15,4,1,!1),S),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new Ol(A(1,1),_),null,[0,Math.PI/2,0]]]},j={AXIS:[[new Ol(P,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},N={X:[[new Fa(new pd(1,.1,4,24),o),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Fa(new pd(1,.1,4,24),o),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Fa(new pd(1,.1,4,24),o),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Fa(new pd(1.25,.1,2,24),o)]],XYZE:[[new Fa(new dd(.7,10,8),o)]]},z={X:[[new Fa(M,u),[.8,0,0],[0,0,-Math.PI/2]],[new Ol(P,m),null,null,[.8,1,1]]],Y:[[new Fa(M,l),[0,.8,0]],[new Ol(P,g),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new Fa(M,c),[0,0,.8],[Math.PI/2,0,0]],[new Ol(P,y),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new Fa(M,f),[.85,.85,0],null,[2,2,.2]],[new Ol(P,w),[.855,.98,0],null,[.125,1,1]],[new Ol(P,w),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Fa(M,h),[0,.85,.85],null,[.2,2,2]],[new Ol(P,b),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new Ol(P,b),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Fa(M,v),[.85,0,.85],null,[2,.2,2]],[new Ol(P,x),[.855,0,.98],null,[.125,1,1]],[new Ol(P,x),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new Fa(new Ua(.125,.125,.125),d.clone()),[1.1,0,0]]],XYZY:[[new Fa(new Ua(.125,.125,.125),d.clone()),[0,1.1,0]]],XYZZ:[[new Fa(new Ua(.125,.125,.125),d.clone()),[0,0,1.1]]]},F={X:[[new Fa(new xc(.2,0,.8,4,1,!1),o),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new Fa(new xc(.2,0,.8,4,1,!1),o),[0,.5,0]]],Z:[[new Fa(new xc(.2,0,.8,4,1,!1),o),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new Fa(M,o),[.85,.85,0],null,[3,3,.2]]],YZ:[[new Fa(M,o),[0,.85,.85],null,[.2,3,3]]],XZ:[[new Fa(M,o),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new Fa(new Ua(.2,.2,.2),o),[1.1,0,0]]],XYZY:[[new Fa(new Ua(.2,.2,.2),o),[0,1.1,0]]],XYZZ:[[new Fa(new Ua(.2,.2,.2),o),[0,0,1.1]]]},B={X:[[new Ol(P,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Ol(P,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Ol(P,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},U=function(e){var t=new Bi;for(var n in e)for(var r=e[n].length;r--;){var i=e[n][r][0].clone(),a=e[n][r][1],o=e[n][r][2],s=e[n][r][3],u=e[n][r][4];i.name=n,i.tag=u,a&&i.position.set(a[0],a[1],a[2]),o&&i.rotation.set(o[0],o[1],o[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();var l=i.geometry.clone();l.applyMatrix4(i.matrix),i.geometry=l,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t};return r.gizmo={},r.picker={},r.helper={},r.add(r.gizmo.translate=U(I)),r.add(r.gizmo.rotate=U(L)),r.add(r.gizmo.scale=U(z)),r.add(r.picker.translate=U(R)),r.add(r.picker.rotate=U(N)),r.add(r.picker.scale=U(F)),r.add(r.helper.translate=U(O)),r.add(r.helper.rotate=U(j)),r.add(r.helper.scale=U(B)),r.picker.translate.visible=!1,r.picker.rotate.visible=!1,r.picker.scale.visible=!1,r}return M(n)}(Bi),Hm=function(e){P(n,e);var t=I(n);function n(){var e,r;return k(this,n),p(C(r=t.call(this,new so(1e5,1e5,2,2),new ea({visible:!1,wireframe:!0,side:X,transparent:!0,opacity:.1,toneMapped:!1}))),"isTransformControlsPlane",!0),p(C(r),"type","TransformControlsPlane"),p(C(r),"unitX",new zr(1,0,0)),p(C(r),"unitY",new zr(0,1,0)),p(C(r),"unitZ",new zr(0,0,1)),p(C(r),"tempVector",new zr),p(C(r),"dirVector",new zr),p(C(r),"alignVector",new zr),p(C(r),"tempMatrix",new vi),p(C(r),"identityQuaternion",new Nr),p(C(r),"cameraQuaternion",new Nr),p(C(r),"worldPosition",new zr),p(C(r),"worldQuaternion",new Nr),p(C(r),"eye",new zr),p(C(r),"axis",null),p(C(r),"mode","translate"),p(C(r),"space","world"),p(C(r),"updateMatrixWorld",(function(){var t=r.space;switch(r.position.copy(r.worldPosition),"scale"===r.mode&&(t="local"),r.unitX.set(1,0,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitY.set(0,1,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitZ.set(0,0,1).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.alignVector.copy(r.unitY),r.mode){case"translate":case"scale":switch(r.axis){case"X":r.alignVector.copy(r.eye).cross(r.unitX),r.dirVector.copy(r.unitX).cross(r.alignVector);break;case"Y":r.alignVector.copy(r.eye).cross(r.unitY),r.dirVector.copy(r.unitY).cross(r.alignVector);break;case"Z":r.alignVector.copy(r.eye).cross(r.unitZ),r.dirVector.copy(r.unitZ).cross(r.alignVector);break;case"XY":r.dirVector.copy(r.unitZ);break;case"YZ":r.dirVector.copy(r.unitX);break;case"XZ":r.alignVector.copy(r.unitZ),r.dirVector.copy(r.unitY);break;case"XYZ":case"E":r.dirVector.set(0,0,0)}break;default:r.dirVector.set(0,0,0)}0===r.dirVector.length()?r.quaternion.copy(r.cameraQuaternion):(r.tempMatrix.lookAt(r.tempVector.set(0,0,0),r.dirVector,r.alignVector),r.quaternion.setFromRotationMatrix(r.tempMatrix)),D((e=C(r),T(n.prototype)),"updateMatrixWorld",e).call(e)})),r}return M(n)}(Fa),Wm=["children","domElement","onChange","onMouseDown","onMouseUp","onObjectChange","object","makeDefault"],Gm=["camera"],qm=r.forwardRef((function(e,t){var n=e.children,i=e.domElement,a=e.onChange,o=e.onMouseDown,s=e.onMouseUp,u=e.onObjectChange,l=e.object,c=e.makeDefault,d=b(e,Wm),f=["enabled","axis","mode","translationSnap","rotationSnap","scaleSnap","space","size","showX","showY","showZ"],p=d.camera,h=b(d,Gm),v=Bm()(h,f),m=zm()(h,f),g=Fv((function(e){return e.controls})),y=Fv((function(e){return e.gl})),x=Fv((function(e){return e.events})),w=Fv((function(e){return e.camera})),_=Fv((function(e){return e.invalidate})),S=Fv((function(e){return e.get})),k=Fv((function(e){return e.set})),E=p||w,M=i||x.connected||y.domElement,P=r.useMemo((function(){return new Um(E,M)}),[E,M]),T=r.useRef();r.useLayoutEffect((function(){return l?P.attach(l instanceof Bi?l:l.current):T.current instanceof Bi&&P.attach(T.current),function(){P.detach()}}),[l,n,P]),r.useEffect((function(){if(g){var e=function(e){return g.enabled=!e.value};return P.addEventListener("dragging-changed",e),function(){return P.removeEventListener("dragging-changed",e)}}}),[P,g]);var C=r.useRef(),A=r.useRef(),I=r.useRef(),R=r.useRef();return r.useLayoutEffect((function(){return C.current=a}),[a]),r.useLayoutEffect((function(){return A.current=o}),[o]),r.useLayoutEffect((function(){return I.current=s}),[s]),r.useLayoutEffect((function(){return R.current=u}),[u]),r.useEffect((function(){var e=function(e){_(),null==C.current||C.current(e)},t=function(e){return null==A.current?void 0:A.current(e)},n=function(e){return null==I.current?void 0:I.current(e)},r=function(e){return null==R.current?void 0:R.current(e)};return P.addEventListener("change",e),P.addEventListener("mouseDown",t),P.addEventListener("mouseUp",n),P.addEventListener("objectChange",r),function(){P.removeEventListener("change",e),P.removeEventListener("mouseDown",t),P.removeEventListener("mouseUp",n),P.removeEventListener("objectChange",r)}}),[_,P]),r.useEffect((function(){if(c){var e=S().controls;return k({controls:P}),function(){return k({controls:e})}}}),[c,P]),P?r.createElement(r.Fragment,null,r.createElement("primitive",nm({ref:t,object:P},v)),r.createElement("group",nm({ref:T},m),n)):null})),Km=new to,Xm=new Ep,Ym=new sr,$m=new zr,Zm=new zr,Qm=new zr,Jm=new vi,eg=function(e){P(n,e);var t=I(n);function n(e,r,i){var a;k(this,n),a=t.call(this),i.style.touchAction="none";var o=null,s=null,u=[],l=C(a);function c(){i.addEventListener("pointermove",f),i.addEventListener("pointerdown",p),i.addEventListener("pointerup",h),i.addEventListener("pointerleave",h)}function d(){i.removeEventListener("pointermove",f),i.removeEventListener("pointerdown",p),i.removeEventListener("pointerup",h),i.removeEventListener("pointerleave",h),i.style.cursor=""}function f(t){if(!1!==l.enabled){if(v(t),Xm.setFromCamera(Ym,r),o)return Xm.ray.intersectPlane(Km,Zm)&&o.position.copy(Zm.sub($m).applyMatrix4(Jm)),void l.dispatchEvent({type:"drag",object:o});if("mouse"===t.pointerType||"pen"===t.pointerType)if(u.length=0,Xm.setFromCamera(Ym,r),Xm.intersectObjects(e,!0,u),u.length>0){var n=u[0].object;Km.setFromNormalAndCoplanarPoint(r.getWorldDirection(Km.normal),Qm.setFromMatrixPosition(n.matrixWorld)),s!==n&&null!==s&&(l.dispatchEvent({type:"hoveroff",object:s}),i.style.cursor="auto",s=null),s!==n&&(l.dispatchEvent({type:"hoveron",object:n}),i.style.cursor="pointer",s=n)}else null!==s&&(l.dispatchEvent({type:"hoveroff",object:s}),i.style.cursor="auto",s=null)}}function p(t){!1!==l.enabled&&(v(t),u.length=0,Xm.setFromCamera(Ym,r),Xm.intersectObjects(e,!0,u),u.length>0&&(o=!0===l.transformGroup?e[0]:u[0].object,Km.setFromNormalAndCoplanarPoint(r.getWorldDirection(Km.normal),Qm.setFromMatrixPosition(o.matrixWorld)),Xm.ray.intersectPlane(Km,Zm)&&(Jm.copy(o.parent.matrixWorld).invert(),$m.copy(Zm).sub(Qm.setFromMatrixPosition(o.matrixWorld))),i.style.cursor="move",l.dispatchEvent({type:"dragstart",object:o})))}function h(){!1!==l.enabled&&(o&&(l.dispatchEvent({type:"dragend",object:o}),o=null),i.style.cursor=s?"pointer":"auto")}function v(e){var t=i.getBoundingClientRect();Ym.x=(e.clientX-t.left)/t.width*2-1,Ym.y=-(e.clientY-t.top)/t.height*2+1}return c(),a.enabled=!0,a.transformGroup=!1,a.activate=c,a.deactivate=d,a.dispose=function(){d()},a.getObjects=function(){return e},a.getRaycaster=function(){return Xm},a}return M(n)}(qn);function tg(e,t){return function(){return e.apply(t,arguments)}}var ng,rg=Object.prototype.toString,ig=Object.getPrototypeOf,ag=(ng=Object.create(null),function(e){var t=rg.call(e);return ng[t]||(ng[t]=t.slice(8,-1).toLowerCase())}),og=function(e){return e=e.toLowerCase(),function(t){return ag(t)===e}},sg=function(e){return function(t){return typeof t===e}},ug=Array.isArray,lg=sg("undefined");var cg=og("ArrayBuffer");var dg=sg("string"),fg=sg("function"),pg=sg("number"),hg=function(e){return null!==e&&"object"===typeof e},vg=function(e){if("object"!==ag(e))return!1;var t=ig(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mg=og("Date"),gg=og("File"),yg=og("Blob"),bg=og("FileList"),xg=og("URLSearchParams");function wg(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ug(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var s,u=o?Object.getOwnPropertyNames(e):Object.keys(e),l=u.length;for(n=0;n<l;n++)s=u[n],t.call(null,e[s],s,e)}}var _g,Sg=(_g="undefined"!==typeof Uint8Array&&ig(Uint8Array),function(e){return _g&&e instanceof _g}),kg=og("HTMLFormElement"),Eg=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Mg=og("RegExp"),Pg=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};wg(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},Tg={isArray:ug,isArrayBuffer:cg,isBuffer:function(e){return null!==e&&!lg(e)&&null!==e.constructor&&!lg(e.constructor)&&fg(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||rg.call(e)===t||fg(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&cg(e.buffer)},isString:dg,isNumber:pg,isBoolean:function(e){return!0===e||!1===e},isObject:hg,isPlainObject:vg,isUndefined:lg,isDate:mg,isFile:gg,isBlob:yg,isRegExp:Mg,isFunction:fg,isStream:function(e){return hg(e)&&fg(e.pipe)},isURLSearchParams:xg,isTypedArray:Sg,isFileList:bg,forEach:wg,merge:function e(){for(var t={},n=function(n,r){vg(t[r])&&vg(n)?t[r]=e(t[r],n):vg(n)?t[r]=e({},n):ug(n)?t[r]=n.slice():t[r]=n},r=0,i=arguments.length;r<i;r++)arguments[r]&&wg(arguments[r],n);return t},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return wg(t,(function(t,r){n&&fg(t)?e[r]=tg(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&ig(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ag,kindOfTest:og,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(ug(e))return e;var t=e.length;if(!pg(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:kg,hasOwnProperty:Eg,hasOwnProp:Eg,reduceDescriptors:Pg,freezeMethods:function(e){Pg(e,(function(t,n){var r=e[n];fg(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return ug(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t}};function Cg(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Tg.inherits(Cg,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ag=Cg.prototype,Ig={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Ig[e]={value:e}})),Object.defineProperties(Cg,Ig),Object.defineProperty(Ag,"isAxiosError",{value:!0}),Cg.from=function(e,t,n,r,i,a){var o=Object.create(Ag);return Tg.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Cg.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Rg=Cg,Og=n(7472);function Dg(e){return Tg.isPlainObject(e)||Tg.isArray(e)}function Lg(e){return Tg.endsWith(e,"[]")?e.slice(0,-2):e}function jg(e,t,n){return e?e.concat(t).map((function(e,t){return e=Lg(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Ng=Tg.toFlatObject(Tg,{},null,(function(e){return/^is[A-Z]/.test(e)}));var zg=function(e,t,n){if(!Tg.isObject(e))throw new TypeError("target must be an object");t=t||new(Og||FormData);var r,i=(n=Tg.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Tg.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,o=n.dots,s=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&Tg.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!Tg.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Tg.isDate(e))return e.toISOString();if(!u&&Tg.isBlob(e))throw new Rg("Blob is not supported. Use a Buffer instead.");return Tg.isArrayBuffer(e)||Tg.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(Tg.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Tg.isArray(e)&&function(e){return Tg.isArray(e)&&!e.some(Dg)}(e)||Tg.isFileList(e)||Tg.endsWith(n,"[]")&&(a=Tg.toArray(e)))return n=Lg(n),a.forEach((function(e,r){!Tg.isUndefined(e)&&t.append(!0===s?jg([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!Dg(e)||(t.append(jg(r,n,o),l(e)),!1)}var d=[],f=Object.assign(Ng,{defaultVisitor:c,convertValue:l,isVisitable:Dg});if(!Tg.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Tg.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Tg.forEach(n,(function(n,i){!0===(!Tg.isUndefined(n)&&a.call(t,n,Tg.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])})),d.pop()}}(e),t};function Fg(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Bg(e,t){this._pairs=[],e&&zg(e,this,t)}var Ug=Bg.prototype;Ug.append=function(e,t){this._pairs.push([e,t])},Ug.toString=function(e){var t=e?function(t){return e.call(this,t,Fg)}:Fg;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Vg=Bg;function Hg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Wg(e,t,n){if(!t)return e;var r=e.indexOf("#");-1!==r&&(e=e.slice(0,r));var i=n&&n.encode||Hg,a=Tg.isURLSearchParams(t)?t.toString():new Vg(t,n).toString(i);return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}var Gg=function(){function e(){k(this,e),this.handlers=[]}return M(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Tg.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),qg=Gg,Kg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xg="undefined"!==typeof URLSearchParams?URLSearchParams:Vg,Yg=FormData,$g=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),Zg={isBrowser:!0,classes:{URLSearchParams:Xg,FormData:Yg,Blob:Blob},isStandardBrowserEnv:$g,protocols:["http","https","file","blob","url","data"]};var Qg=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&Tg.isArray(r)?r.length:a,s?(Tg.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Tg.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Tg.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Tg.isFormData(e)&&Tg.isFunction(e.entries)){var n={};return Tg.forEachEntry(e,(function(e,r){t(function(e){return Tg.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var Jg=Zg.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Tg.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Tg.isString(r)&&o.push("path="+r),Tg.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function ey(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var ty=Zg.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Tg.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function ny(e,t,n){Rg.call(this,null==e?"canceled":e,Rg.ERR_CANCELED,t,n),this.name="CanceledError"}Tg.inherits(ny,Rg,{__CANCEL__:!0});var ry=ny;var iy=Tg.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ay=Symbol("internals"),oy=Symbol("defaults");function sy(e){return e&&String(e).trim().toLowerCase()}function uy(e){return!1===e||null==e?e:String(e)}function ly(e,t,n,r){return Tg.isFunction(r)?r.call(this,t,n):Tg.isString(t)?Tg.isString(r)?-1!==t.indexOf(r):Tg.isRegExp(r)?r.test(t):void 0:void 0}function cy(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}function dy(e,t){e&&this.set(e),this[oy]=t||null}Object.assign(dy.prototype,{set:function(e,t,n){var r=this;function i(e,t,n){var i=sy(t);if(!i)throw new Error("header name must be a non-empty string");var a=cy(r,i);(!a||!0===n||!1!==r[a]&&!1!==n)&&(e=Tg.isArray(e)?e.map(uy):uy(e),r[a||t]=e)}return Tg.isPlainObject(e)?Tg.forEach(e,(function(e,n){i(e,n,t)})):i(t,e,n),this},get:function(e,t){if(e=sy(e)){var n=cy(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Tg.isFunction(t))return t.call(this,r,n);if(Tg.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}},has:function(e,t){if(e=sy(e)){var n=cy(this,e);return!(!n||t&&!ly(0,this[n],n,t))}return!1},delete:function(e,t){var n=this,r=!1;function i(e){if(e=sy(e)){var i=cy(n,e);!i||t&&!ly(0,n[i],i,t)||(delete n[i],r=!0)}}return Tg.isArray(e)?e.forEach(i):i(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){var t=this,n={};return Tg.forEach(this,(function(r,i){var a=cy(n,i);if(a)return t[a]=uy(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=uy(r),n[o]=!0})),this},toJSON:function(){var e=Object.create(null);return Tg.forEach(Object.assign({},this[oy]||null,this),(function(t,n){null!=t&&!1!==t&&(e[n]=Tg.isArray(t)?t.join(", "):t)})),e}}),Object.assign(dy,{from:function(e){return Tg.isString(e)?new this(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&iy[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e)):e instanceof this?e:new this(e)},accessor:function(e){var t=(this[ay]=this[ay]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=sy(e);t[r]||(!function(e,t){var n=Tg.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Tg.isArray(e)?e.forEach(r):r(e),this}}),dy.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),Tg.freezeMethods(dy.prototype),Tg.freezeMethods(dy);var fy=dy;var py=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),l=i[o];n||(n=u),r[a]=s,i[a]=u;for(var c=o,d=0;c!==a;)d+=r[c++],c%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var f=l&&u-l;return f?Math.round(1e3*d/f):void 0}}};function hy(e,t){var n=0,r=py(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var l={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0};l[t?"download":"upload"]=!0,e(l)}}function vy(e){return new Promise((function(t,n){var r,i=e.data,a=fy.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Tg.isFormData(i)&&Zg.isStandardBrowserEnv&&a.setContentType(!1);var u=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(l+":"+c))}var d=ey(e.baseURL,e.url);function f(){if(u){var r=fy.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Rg("Request failed with status code "+n.status,[Rg.ERR_BAD_REQUEST,Rg.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),Wg(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(n(new Rg("Request aborted",Rg.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new Rg("Network Error",Rg.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Kg;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Rg(t,r.clarifyTimeoutError?Rg.ETIMEDOUT:Rg.ECONNABORTED,e,u)),u=null},Zg.isStandardBrowserEnv){var p=(e.withCredentials||ty(d))&&e.xsrfCookieName&&Jg.read(e.xsrfCookieName);p&&a.set(e.xsrfHeaderName,p)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&Tg.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Tg.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",hy(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",hy(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new ry(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var h=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);h&&-1===Zg.protocols.indexOf(h)?n(new Rg("Unsupported protocol "+h+":",Rg.ERR_BAD_REQUEST,e)):u.send(i||null)}))}var my={http:vy,xhr:vy},gy=function(e){if(Tg.isString(e)){var t=my[e];if(!e)throw Error(Tg.hasOwnProp(e)?"Adapter '".concat(e,"' is not available in the build"):"Can not resolve adapter '".concat(e,"'"));return t}if(!Tg.isFunction(e))throw new TypeError("adapter is not a function");return e},yy={"Content-Type":"application/x-www-form-urlencoded"};var by={transitional:Kg,adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=gy("xhr"):"undefined"!==typeof process&&"process"===Tg.kindOf(process)&&(e=gy("http")),e}(),transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Tg.isObject(e);if(a&&Tg.isHTMLForm(e)&&(e=new FormData(e)),Tg.isFormData(e))return i&&i?JSON.stringify(Qg(e)):e;if(Tg.isArrayBuffer(e)||Tg.isBuffer(e)||Tg.isStream(e)||Tg.isFile(e)||Tg.isBlob(e))return e;if(Tg.isArrayBufferView(e))return e.buffer;if(Tg.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return zg(e,new Zg.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Zg.isNode&&Tg.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Tg.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return zg(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Tg.isString(e))try{return(t||JSON.parse)(e),Tg.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||by.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Tg.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Rg.from(a,Rg.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zg.classes.FormData,Blob:Zg.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Tg.forEach(["delete","get","head"],(function(e){by.headers[e]={}})),Tg.forEach(["post","put","patch"],(function(e){by.headers[e]=Tg.merge(yy)}));var xy=by;function wy(e,t){var n=this||xy,r=t||n,i=fy.from(r.headers),a=r.data;return Tg.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function _y(e){return!(!e||!e.__CANCEL__)}function Sy(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ry}function ky(e){return Sy(e),e.headers=fy.from(e.headers),e.data=wy.call(e,e.transformRequest),(e.adapter||xy.adapter)(e).then((function(t){return Sy(e),t.data=wy.call(e,e.transformResponse,t),t.headers=fy.from(t.headers),t}),(function(t){return _y(t)||(Sy(e),t&&t.response&&(t.response.data=wy.call(e,e.transformResponse,t.response),t.response.headers=fy.from(t.response.headers))),Promise.reject(t)}))}function Ey(e,t){t=t||{};var n={};function r(e,t){return Tg.isPlainObject(e)&&Tg.isPlainObject(t)?Tg.merge(e,t):Tg.isPlainObject(t)?Tg.merge({},t):Tg.isArray(t)?t.slice():t}function i(n){return Tg.isUndefined(t[n])?Tg.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function a(e){if(!Tg.isUndefined(t[e]))return r(void 0,t[e])}function o(n){return Tg.isUndefined(t[n])?Tg.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s};return Tg.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,r=t(e);Tg.isUndefined(r)&&t!==s||(n[e]=r)})),n}var My="1.1.2",Py={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Py[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Ty={};Py.transitional=function(e,t,n){function r(e,t){return"[Axios v1.1.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Rg(r(i," has been removed"+(t?" in "+t:"")),Rg.ERR_DEPRECATED);return t&&!Ty[i]&&(Ty[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Cy={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Rg("options must be an object",Rg.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new Rg("option "+a+" must be "+u,Rg.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Rg("Unknown option "+a,Rg.ERR_BAD_OPTION)}},validators:Py},Ay=Cy.validators,Iy=function(){function e(t){k(this,e),this.defaults=t,this.interceptors={request:new qg,response:new qg}}return M(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=(t=Ey(this.defaults,t)).transitional;void 0!==n&&Cy.assertOptions(n,{silentJSONParsing:Ay.transitional(Ay.boolean),forcedJSONParsing:Ay.transitional(Ay.boolean),clarifyTimeoutError:Ay.transitional(Ay.boolean)},!1),t.method=(t.method||this.defaults.method||"get").toLowerCase();var r=t.headers&&Tg.merge(t.headers.common,t.headers[t.method]);r&&Tg.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),t.headers=new fy(t.headers,r);var i=[],a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var o,s=[];this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)}));var u,l=0;if(!a){var c=[ky.bind(this),void 0];for(c.unshift.apply(c,i),c.push.apply(c,s),u=c.length,o=Promise.resolve(t);l<u;)o=o.then(c[l++],c[l++]);return o}u=i.length;var d=t;for(l=0;l<u;){var f=i[l++],p=i[l++];try{d=f(d)}catch(h){p.call(this,h);break}}try{o=ky.call(this,d)}catch(h){return Promise.reject(h)}for(l=0,u=s.length;l<u;)o=o.then(s[l++],s[l++]);return o}},{key:"getUri",value:function(e){return Wg(ey((e=Ey(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Tg.forEach(["delete","get","head","options"],(function(e){Iy.prototype[e]=function(t,n){return this.request(Ey(n||{},{method:e,url:t,data:(n||{}).data}))}})),Tg.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Ey(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Iy.prototype[e]=t(),Iy.prototype[e+"Form"]=t(!0)}));var Ry=Iy,Oy=function(){function e(t){if(k(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new ry(e,t,i),n(r.reason))}))}return M(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),Dy=Oy;var Ly=function e(t){var n=new Ry(t),r=tg(Ry.prototype.request,n);return Tg.extend(r,Ry.prototype,n,{allOwnKeys:!0}),Tg.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ey(t,n))},r}(xy);Ly.Axios=Ry,Ly.CanceledError=ry,Ly.CancelToken=Dy,Ly.isCancel=_y,Ly.VERSION=My,Ly.toFormData=zg,Ly.AxiosError=Rg,Ly.Cancel=Ly.CanceledError,Ly.all=function(e){return Promise.all(e)},Ly.spread=function(e){return function(t){return e.apply(null,t)}},Ly.isAxiosError=function(e){return Tg.isObject(e)&&!0===e.isAxiosError},Ly.formToJSON=function(e){return Qg(Tg.isHTMLForm(e)?new FormData(e):e)};var jy=Ly,Ny="http://"+window.location.host.split(":")[0]+":9000",zy=function(e){var t={string:e};jy.post(Ny+"/endpoint",t).then((function(e){})).catch((function(e){console.log("Error",e)}))};[].concat(f([{name:"roll-in-left",value:"@keyframes roll-in-left{0%{transform:translateX(-800px) rotate(-540deg);opacity:0}100%{transform:translateX(0) rotate(0deg);opacity:1}} div {animation:roll-in-left .6s ease-out both}"},{name:"rotate-in-center",value:"@keyframes rotate-in-center{0%{transform:rotate(-360deg);opacity:0}100%{transform:rotate(0);opacity:1}} div {animation:rotate-in-center .6s cubic-bezier(.25,.46,.45,.94) both}"},{name:"keyframes rotate-in-2-cw",value:"@keyframes rotate-in-2-cw{0%{transform:rotate(-45deg);opacity:0}100%{transform:rotate(0);opacity:1}} div{animation:rotate-in-2-cw .5s cubic-bezier(.25,.46,.45,.94) both}"},{name:"slide-in-left-bottom",value:"@keyframes slide-in-left-bottom{0%{transform:translateX(-1400px) translateY(800px);opacity:0}100%{transform:translateX(0) translateY(0);opacity:1}} div {animation:slide-in-left-bottom .7s cubic-bezier(.25,.46,.45,.94) both}"},{name:"animation:shake-horizontal",value:"@keyframes shake-horizontal{0%,100%{transform:translateX(0)}10%,30%,50%,70%{transform:translateX(-10px)}20%,40%,60%{transform:translateX(10px)}80%{transform:translateX(8px)}90%{transform:translateX(-8px)}} div {animation:shake-horizontal .8s cubic-bezier(.455,.03,.515,.955) both}"},{name:"bounce-top",value:"@keyframes bounce-top{0%{transform:translateY(-45px);animation-timing-function:ease-in;opacity:1}24%{opacity:1}40%{transform:translateY(-24px);animation-timing-function:ease-in}65%{transform:translateY(-12px);animation-timing-function:ease-in}82%{transform:translateY(-6px);animation-timing-function:ease-in}93%{transform:translateY(-4px);animation-timing-function:ease-in}25%,55%,75%,87%{transform:translateY(0);animation-timing-function:ease-out}100%{transform:translateY(0);animation-timing-function:ease-out;opacity:1}} div {animation:bounce-top .9s both}"},{name:"slide-in-bck-center",value:"@keyframes slide-in-bck-center{0%{transform:translateZ(600px);opacity:0}100%{transform:translateZ(0);opacity:1}} div {animation:slide-in-bck-center .7s cubic-bezier(.25,.46,.45,.94) both}"},{name:"blinking",value:"@keyframes blinking {50% {opacity:0}} div {animation:blinking 1s linear infinite; }"}].map((function(e){return e.name}))),["lefttoright","mix"]);var Fy=["bevelEnabled","bevelSize","bevelThickness","font","height","size","lineHeight","letterSpacing"],By=function(e){P(n,e);var t=I(n);function n(e,r){var i;k(this,n);var a=r.bevelEnabled,o=void 0!==a&&a,s=r.bevelSize,u=void 0===s?8:s,l=r.bevelThickness,c=void 0===l?10:l,d=r.font,f=r.height,p=void 0===f?50:f,h=r.size,m=void 0===h?100:h,g=r.lineHeight,y=void 0===g?1:g,x=r.letterSpacing,w=void 0===x?0:x,_=b(r,Fy),S=d.generateShapes(e,m,{lineHeight:y,letterSpacing:w});return(i=t.call(this,S,v(v({},_),{},{bevelEnabled:o,bevelSize:u,bevelThickness:c,depth:p}))).type="TextGeometry",i}return M(n)}(ad);var Uy=function(){function e(){k(this,e),this.pluginCallbacks=[],this.register((function(e){return new mb(e)})),this.register((function(e){return new gb(e)})),this.register((function(e){return new yb(e)})),this.register((function(e){return new wb(e)})),this.register((function(e){return new _b(e)})),this.register((function(e){return new bb(e)})),this.register((function(e){return new xb(e)}))}return M(e,[{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){for(var i=new vb,a=[],o=0,s=this.pluginCallbacks.length;o<s;o++)a.push(this.pluginCallbacks[o](i));i.setPlugins(a),i.write(e,t,r).catch(n)}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,r,i,t)}))}}]),e}(),Vy=0,Hy=1,Wy=2,Gy=3,qy=4,Ky=5121,Xy=5123,Yy=5126,$y=5125,Zy=34962,Qy=34963,Jy=9728,eb=9729,tb=9984,nb=9985,rb=9986,ib=9987,ab=33071,ob=33648,sb=10497,ub={};ub[He]=Jy,ub[We]=tb,ub[qe]=rb,ub[Xe]=eb,ub[Ye]=nb,ub[Ze]=ib,ub[Ue]=ab,ub[Be]=sb,ub[Ve]=ob;var lb={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"};function cb(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function db(e){return 4*Math.ceil(e/4)}function fb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=db(e.byteLength);if(n!==e.byteLength){var r=new Uint8Array(n);if(r.set(new Uint8Array(e)),0!==t)for(var i=e.byteLength;i<n;i++)r[i]=t;return r.buffer}return e}function pb(){return"undefined"===typeof document&&"undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas")}function hb(e,t){return void 0!==e.toBlob?new Promise((function(n){return e.toBlob(n,t)})):("image/jpeg"===t?n=.92:"image/webp"===t&&(n=.8),e.convertToBlob({type:t,quality:n}));var n}var vb=function(){function e(){k(this,e),this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}return M(e,[{key:"setPlugins",value:function(e){this.plugins=e}},{key:"write",value:function(){var e=u(o().mark((function e(t,n,r){var i,a,s,u,l,c,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},r),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(t),e.next=5,Promise.all(this.pending);case 5:a=(i=this).buffers,s=i.json,r=i.options,u=i.extensionsUsed,l=new Blob(a,{type:"application/octet-stream"}),(c=Object.keys(u)).length>0&&(s.extensionsUsed=c),s.buffers&&s.buffers.length>0&&(s.buffers[0].byteLength=l.size),!0===r.binary?((d=new FileReader).readAsArrayBuffer(l),d.onloadend=function(){var e=fb(d.result),t=new DataView(new ArrayBuffer(8));t.setUint32(0,e.byteLength,!0),t.setUint32(4,5130562,!0);var r,i=fb((r=JSON.stringify(s),(new TextEncoder).encode(r).buffer),32),a=new DataView(new ArrayBuffer(8));a.setUint32(0,i.byteLength,!0),a.setUint32(4,1313821514,!0);var o=new ArrayBuffer(12),u=new DataView(o);u.setUint32(0,1179937895,!0),u.setUint32(4,2,!0);var l=12+a.byteLength+i.byteLength+t.byteLength+e.byteLength;u.setUint32(8,l,!0);var c=new Blob([o,a,i,t,e],{type:"application/octet-stream"}),f=new FileReader;f.readAsArrayBuffer(c),f.onloadend=function(){n(f.result)}}):s.buffers&&s.buffers.length>0?((f=new FileReader).readAsDataURL(l),f.onloadend=function(){var e=f.result;s.buffers[0].uri=e,n(s)}):n(s);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"serializeUserData",value:function(e,t){if(0!==Object.keys(e.userData).length){var n=this.options,r=this.extensionsUsed;try{var i=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&i.gltfExtensions){for(var a in void 0===t.extensions&&(t.extensions={}),i.gltfExtensions)t.extensions[a]=i.gltfExtensions[a],r[a]=!0;delete i.gltfExtensions}Object.keys(i).length>0&&(t.extras=i)}catch(o){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+o.message)}}}},{key:"getUID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!1===this.uids.has(e)){var n=new Map;n.set(!0,this.uid++),n.set(!1,this.uid++),this.uids.set(e,n)}var r=this.uids.get(e);return r.get(t)}},{key:"isNormalizedNormalAttribute",value:function(e){if(this.cache.attributesNormalized.has(e))return!1;for(var t=new zr,n=0,r=e.count;n<r;n++)if(Math.abs(t.fromBufferAttribute(e,n).length()-1)>5e-4)return!1;return!0}},{key:"createNormalizedNormalAttribute",value:function(e){var t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);for(var n=e.clone(),r=new zr,i=0,a=n.count;i<a;i++)r.fromBufferAttribute(n,i),0===r.x&&0===r.y&&0===r.z?r.setX(1):r.normalize(),n.setXYZ(i,r.x,r.y,r.z);return t.attributesNormalized.set(e,n),n}},{key:"applyTextureTransform",value:function(e,t){var n=!1,r={};0===t.offset.x&&0===t.offset.y||(r.offset=t.offset.toArray(),n=!0),0!==t.rotation&&(r.rotation=t.rotation,n=!0),1===t.repeat.x&&1===t.repeat.y||(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}},{key:"buildMetalRoughTexture",value:function(e,t){if(e===t)return e;function n(e){return e.encoding===cn?function(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}:function(e){return e}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");var r=null===e||void 0===e?void 0:e.image,i=null===t||void 0===t?void 0:t.image,a=Math.max((null===r||void 0===r?void 0:r.width)||0,(null===i||void 0===i?void 0:i.width)||0),o=Math.max((null===r||void 0===r?void 0:r.height)||0,(null===i||void 0===i?void 0:i.height)||0),s=pb();s.width=a,s.height=o;var u=s.getContext("2d");u.fillStyle="#00ffff",u.fillRect(0,0,a,o);var l=u.getImageData(0,0,a,o);if(r){u.drawImage(r,0,0,a,o);for(var c=n(e),d=u.getImageData(0,0,a,o).data,f=2;f<d.length;f+=4)l.data[f]=256*c(d[f]/256)}if(i){u.drawImage(i,0,0,a,o);for(var p=n(t),h=u.getImageData(0,0,a,o).data,v=1;v<h.length;v+=4)l.data[v]=256*p(h[v]/256)}u.putImageData(l,0,0);var m=(e||t).clone();return m.source=new Mr(s),m.encoding=ln,m}},{key:"processBuffer",value:function(e){var t=this.json,n=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),n.push(e),0}},{key:"processBufferView",value:function(e,t,n,r,i){var a,o=this.json;o.bufferViews||(o.bufferViews=[]),a=t===Ky?1:t===Xy?2:4;for(var s=db(r*e.itemSize*a),u=new DataView(new ArrayBuffer(s)),l=0,c=n;c<n+r;c++)for(var d=0;d<e.itemSize;d++){var f=void 0;e.itemSize>4?f=e.array[c*e.itemSize+d]:0===d?f=e.getX(c):1===d?f=e.getY(c):2===d?f=e.getZ(c):3===d&&(f=e.getW(c)),t===Yy?u.setFloat32(l,f,!0):t===$y?u.setUint32(l,f,!0):t===Xy?u.setUint16(l,f,!0):t===Ky&&u.setUint8(l,f),l+=a}var p={buffer:this.processBuffer(u.buffer),byteOffset:this.byteOffset,byteLength:s};return void 0!==i&&(p.target=i),i===Zy&&(p.byteStride=e.itemSize*a),this.byteOffset+=s,o.bufferViews.push(p),{id:o.bufferViews.length-1,byteLength:0}}},{key:"processBufferViewImage",value:function(e){var t=this,n=t.json;return n.bufferViews||(n.bufferViews=[]),new Promise((function(r){var i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){var e=fb(i.result),a={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,r(n.bufferViews.push(a)-1)}}))}},{key:"processAccessor",value:function(e,t,n,r){var i,a=this.options,o=this.json;if(e.array.constructor===Float32Array)i=Yy;else if(e.array.constructor===Uint32Array)i=$y;else if(e.array.constructor===Uint16Array)i=Xy;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");i=Ky}if(void 0===n&&(n=0),void 0===r&&(r=e.count),a.truncateDrawRange&&void 0!==t&&null===t.index){var s=n+r,u=t.drawRange.count===1/0?e.count:t.drawRange.start+t.drawRange.count;n=Math.max(n,t.drawRange.start),(r=Math.min(s,u)-n)<0&&(r=0)}if(0===r)return null;var l,c=function(e,t,n){for(var r={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},i=t;i<t+n;i++)for(var a=0;a<e.itemSize;a++){var o=void 0;e.itemSize>4?o=e.array[i*e.itemSize+a]:0===a?o=e.getX(i):1===a?o=e.getY(i):2===a?o=e.getZ(i):3===a&&(o=e.getW(i)),r.min[a]=Math.min(r.min[a],o),r.max[a]=Math.max(r.max[a],o)}return r}(e,n,r);void 0!==t&&(l=e===t.index?Qy:Zy);var d=this.processBufferView(e,i,n,r,l),f={bufferView:d.id,byteOffset:d.byteOffset,componentType:i,count:r,max:c.max,min:c.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(f.normalized=!0),o.accessors||(o.accessors=[]),o.accessors.push(f)-1}},{key:"processImage",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"image/png",i=this,a=i.cache,o=i.json,s=i.options,u=i.pending;a.images.has(e)||a.images.set(e,{});var l=a.images.get(e),c=r+":flipY/"+n.toString();if(void 0!==l[c])return l[c];o.images||(o.images=[]);var d={mimeType:r},f=pb();f.width=Math.min(e.width,s.maxTextureSize),f.height=Math.min(e.height,s.maxTextureSize);var p=f.getContext("2d");if(!0===n&&(p.translate(0,f.height),p.scale(1,-1)),void 0!==e.data){t!==ft&&console.error("GLTFExporter: Only RGBAFormat is supported."),(e.width>s.maxTextureSize||e.height>s.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);for(var h=new Uint8ClampedArray(e.height*e.width*4),v=0;v<h.length;v+=4)h[v+0]=e.data[v+0],h[v+1]=e.data[v+1],h[v+2]=e.data[v+2],h[v+3]=e.data[v+3];p.putImageData(new ImageData(h,e.width,e.height),0,0)}else p.drawImage(e,0,0,f.width,f.height);!0===s.binary?u.push(hb(f,r).then((function(e){return i.processBufferViewImage(e)})).then((function(e){d.bufferView=e}))):void 0!==f.toDataURL?d.uri=f.toDataURL(r):u.push(hb(f,r).then((function(e){return(new FileReader).readAsDataURL(e)})).then((function(e){d.uri=e})));var m=o.images.push(d)-1;return l[c]=m,m}},{key:"processSampler",value:function(e){var t=this.json;t.samplers||(t.samplers=[]);var n={magFilter:ub[e.magFilter],minFilter:ub[e.minFilter],wrapS:ub[e.wrapS],wrapT:ub[e.wrapT]};return t.samplers.push(n)-1}},{key:"processTexture",value:function(e){var t=this.cache,n=this.json;if(t.textures.has(e))return t.textures.get(e);n.textures||(n.textures=[]);var r=e.userData.mimeType;"image/webp"===r&&(r="image/png");var i={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,r)};e.name&&(i.name=e.name),this._invokeAll((function(t){t.writeTexture&&t.writeTexture(e,i)}));var a=n.textures.push(i)-1;return t.textures.set(e,a),a}},{key:"processMaterial",value:function(e){var t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;n.materials||(n.materials=[]);var r={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&!0!==e.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var i=e.color.toArray().concat([e.opacity]);if(cb(i,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=i),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=.5,r.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){var a=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),o={index:this.processTexture(a)};this.applyTextureTransform(o,a),r.pbrMetallicRoughness.metallicRoughnessTexture=o}if(e.map){var s={index:this.processTexture(e.map)};this.applyTextureTransform(s,e.map),r.pbrMetallicRoughness.baseColorTexture=s}if(e.emissive){var u=e.emissive.clone().multiplyScalar(e.emissiveIntensity),l=Math.max(u.r,u.g,u.b);if(l>1&&(u.multiplyScalar(1/l),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),l>0&&(r.emissiveFactor=u.toArray()),e.emissiveMap){var c={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(c,e.emissiveMap),r.emissiveTexture=c}}if(e.normalMap){var d={index:this.processTexture(e.normalMap)};e.normalScale&&1!==e.normalScale.x&&(d.scale=e.normalScale.x),this.applyTextureTransform(d,e.normalMap),r.normalTexture=d}if(e.aoMap){var f={index:this.processTexture(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(f.strength=e.aoMapIntensity),this.applyTextureTransform(f,e.aoMap),r.occlusionTexture=f}e.transparent?r.alphaMode="BLEND":e.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=e.alphaTest),e.side===X&&(r.doubleSided=!0),""!==e.name&&(r.name=e.name),this.serializeUserData(e,r),this._invokeAll((function(t){t.writeMaterial&&t.writeMaterial(e,r)}));var p=n.materials.push(r)-1;return t.materials.set(e,p),p}},{key:"processMesh",value:function(e){var t=this.cache,n=this.json,r=[e.geometry.uuid];if(Array.isArray(e.material))for(var i=0,a=e.material.length;i<a;i++)r.push(e.material[i].uuid);else r.push(e.material.uuid);var o=r.join(":");if(t.meshes.has(o))return t.meshes.get(o);var s,u=e.geometry;s=e.isLineSegments?Hy:e.isLineLoop?Wy:e.isLine?Gy:e.isPoints?Vy:e.material.wireframe?Hy:qy;var l={},c={},d=[],f=[],p={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},h=u.getAttribute("normal");void 0===h||this.isNormalizedNormalAttribute(h)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),u.setAttribute("normal",this.createNormalizedNormalAttribute(h)));var v=null;for(var m in u.attributes)if("morph"!==m.slice(0,5)){var g=u.attributes[m];m=p[m]||m.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(m)||(m="_"+m),t.attributes.has(this.getUID(g)))c[m]=t.attributes.get(this.getUID(g));else{v=null;var y=g.array;"JOINTS_0"!==m||y instanceof Uint16Array||y instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),v=new ra(new Uint16Array(y),g.itemSize,g.normalized));var b=this.processAccessor(v||g,u);null!==b&&(c[m]=b,t.attributes.set(this.getUID(g),b))}}if(void 0!==h&&u.setAttribute("normal",h),0===Object.keys(c).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){var x=[],w=[],_={};if(void 0!==e.morphTargetDictionary)for(var S in e.morphTargetDictionary)_[e.morphTargetDictionary[S]]=S;for(var k=0;k<e.morphTargetInfluences.length;++k){var E={},M=!1;for(var P in u.morphAttributes)if("position"===P||"normal"===P){var T=u.morphAttributes[P][k],C=P.toUpperCase(),A=u.attributes[P];if(t.attributes.has(this.getUID(T,!0)))E[C]=t.attributes.get(this.getUID(T,!0));else{var I=T.clone();if(!u.morphTargetsRelative)for(var R=0,O=T.count;R<O;R++)I.setXYZ(R,T.getX(R)-A.getX(R),T.getY(R)-A.getY(R),T.getZ(R)-A.getZ(R));E[C]=this.processAccessor(I,u),t.attributes.set(this.getUID(A,!0),E[C])}}else M||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),M=!0);f.push(E),x.push(e.morphTargetInfluences[k]),void 0!==e.morphTargetDictionary&&w.push(_[k])}l.weights=x,w.length>0&&(l.extras={},l.extras.targetNames=w)}var D=Array.isArray(e.material);if(D&&0===u.groups.length)return null;for(var L=D?e.material:[e.material],j=D?u.groups:[{materialIndex:0,start:void 0,count:void 0}],N=0,z=j.length;N<z;N++){var F={mode:s,attributes:c};if(this.serializeUserData(u,F),f.length>0&&(F.targets=f),null!==u.index){var B=this.getUID(u.index);void 0===j[N].start&&void 0===j[N].count||(B+=":"+j[N].start+":"+j[N].count),t.attributes.has(B)?F.indices=t.attributes.get(B):(F.indices=this.processAccessor(u.index,u,j[N].start,j[N].count),t.attributes.set(B,F.indices)),null===F.indices&&delete F.indices}var U=this.processMaterial(L[j[N].materialIndex]);null!==U&&(F.material=U),d.push(F)}l.primitives=d,n.meshes||(n.meshes=[]),this._invokeAll((function(t){t.writeMesh&&t.writeMesh(e,l)}));var V=n.meshes.push(l)-1;return t.meshes.set(o,V),V}},{key:"processCamera",value:function(e){var t=this.json;t.cameras||(t.cameras=[]);var n=e.isOrthographicCamera,r={type:n?"orthographic":"perspective"};return n?r.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:or.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(r.name=e.type),t.cameras.push(r)-1}},{key:"processAnimation",value:function(e,t){var n=this.json,r=this.nodeMap;n.animations||(n.animations=[]);for(var i=(e=Uy.Utils.mergeMorphTargetTracks(e.clone(),t)).tracks,a=[],o=[],s=0;s<i.length;++s){var u=i[s],l=vp.parseTrackName(u.name),c=vp.findNode(t,l.nodeName),d=lb[l.propertyName];if("bones"===l.objectName&&(c=!0===c.isSkinnedMesh?c.skeleton.getBoneByName(l.objectIndex):void 0),!c||!d)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',u.name),null;var f=u.values.length/u.times.length;d===lb.morphTargetInfluences&&(f/=c.morphTargetInfluences.length);var p=void 0;!0===u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(p="CUBICSPLINE",f/=3):p=u.getInterpolation()===Zt?"STEP":"LINEAR",o.push({input:this.processAccessor(new ra(u.times,1)),output:this.processAccessor(new ra(u.values,f)),interpolation:p}),a.push({sampler:o.length-1,target:{node:r.get(c),path:d}})}return n.animations.push({name:e.name||"clip_"+n.animations.length,samplers:o,channels:a}),n.animations.length-1}},{key:"processSkin",value:function(e){var t=this.json,n=this.nodeMap,r=t.nodes[n.get(e)],i=e.skeleton;if(void 0===i)return null;var a=e.skeleton.bones[0];if(void 0===a)return null;for(var o=[],s=new Float32Array(16*i.bones.length),u=new vi,l=0;l<i.bones.length;++l)o.push(n.get(i.bones[l])),u.copy(i.boneInverses[l]),u.multiply(e.bindMatrix).toArray(s,16*l);return void 0===t.skins&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new ra(s,16)),joints:o,skeleton:n.get(a)}),r.skin=t.skins.length-1}},{key:"processNode",value:function(e){var t=this.json,n=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);var i={};if(n.trs){var a=e.quaternion.toArray(),o=e.position.toArray(),s=e.scale.toArray();cb(a,[0,0,0,1])||(i.rotation=a),cb(o,[0,0,0])||(i.translation=o),cb(s,[1,1,1])||(i.scale=s)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===cb(e.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(i.matrix=e.matrix.elements);if(""!==e.name&&(i.name=String(e.name)),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){var u=this.processMesh(e);null!==u&&(i.mesh=u)}else e.isCamera&&(i.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){for(var l=[],c=0,d=e.children.length;c<d;c++){var f=e.children[c];if(f.visible||!1===n.onlyVisible){var p=this.processNode(f);null!==p&&l.push(p)}}l.length>0&&(i.children=l)}this._invokeAll((function(t){t.writeNode&&t.writeNode(e,i)}));var h=t.nodes.push(i)-1;return r.set(e,h),h}},{key:"processScene",value:function(e){var t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);var r={};""!==e.name&&(r.name=e.name),t.scenes.push(r);for(var i=[],a=0,o=e.children.length;a<o;a++){var s=e.children[a];if(s.visible||!1===n.onlyVisible){var u=this.processNode(s);null!==u&&i.push(u)}}i.length>0&&(r.nodes=i),this.serializeUserData(e,r)}},{key:"processObjects",value:function(e){var t=new Vu;t.name="AuxScene";for(var n=0;n<e.length;n++)t.children.push(e[n]);this.processScene(t)}},{key:"processInput",value:function(e){var t=this.options;e=e instanceof Array?e:[e],this._invokeAll((function(t){t.beforeParse&&t.beforeParse(e)}));for(var n=[],r=0;r<e.length;r++)e[r]instanceof Vu?this.processScene(e[r]):n.push(e[r]);n.length>0&&this.processObjects(n);for(var i=0;i<this.skins.length;++i)this.processSkin(this.skins[i]);for(var a=0;a<t.animations.length;++a)this.processAnimation(t.animations[a],e[0]);this._invokeAll((function(t){t.afterParse&&t.afterParse(e)}))}},{key:"_invokeAll",value:function(e){for(var t=0,n=this.plugins.length;t<n;t++)e(this.plugins[t])}}]),e}(),mb=function(){function e(t){k(this,e),this.writer=t,this.name="KHR_lights_punctual"}return M(e,[{key:"writeNode",value:function(e,t){if(e.isLight)if(e.isDirectionalLight||e.isPointLight||e.isSpotLight){var n=this.writer,r=n.json,i=n.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!e.target||e.target.parent===e&&0===e.target.position.x&&0===e.target.position.y&&-1===e.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),i[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},i[this.name]=!0);var o=r.extensions[this.name].lights;o.push(a),t.extensions=t.extensions||{},t.extensions[this.name]={light:o.length-1}}else console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e)}}]),e}(),gb=function(){function e(t){k(this,e),this.writer=t,this.name="KHR_materials_unlit"}return M(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshBasicMaterial){var n=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},n[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}}]),e}(),yb=function(){function e(t){k(this,e),this.writer=t,this.name="KHR_materials_pbrSpecularGlossiness"}return M(e,[{key:"writeMaterial",value:function(e,t){if(e.isGLTFSpecularGlossinessMaterial){var n=this.writer,r=n.extensionsUsed,i={};t.pbrMetallicRoughness.baseColorFactor&&(i.diffuseFactor=t.pbrMetallicRoughness.baseColorFactor);var a=[1,1,1];if(e.specular.toArray(a,0),i.specularFactor=a,i.glossinessFactor=e.glossiness,t.pbrMetallicRoughness.baseColorTexture&&(i.diffuseTexture=t.pbrMetallicRoughness.baseColorTexture),e.specularMap){var o={index:n.processTexture(e.specularMap)};n.applyTextureTransform(o,e.specularMap),i.specularGlossinessTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),bb=function(){function e(t){k(this,e),this.writer=t,this.name="KHR_materials_clearcoat"}return M(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial){var n=this.writer,r=n.extensionsUsed,i={};if(i.clearcoatFactor=e.clearcoat,e.clearcoatMap){var a={index:n.processTexture(e.clearcoatMap)};n.applyTextureTransform(a,e.clearcoatMap),i.clearcoatTexture=a}if(i.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){var o={index:n.processTexture(e.clearcoatRoughnessMap)};n.applyTextureTransform(o,e.clearcoatRoughnessMap),i.clearcoatRoughnessTexture=o}if(e.clearcoatNormalMap){var s={index:n.processTexture(e.clearcoatNormalMap)};n.applyTextureTransform(s,e.clearcoatNormalMap),i.clearcoatNormalTexture=s}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),xb=function(){function e(t){k(this,e),this.writer=t,this.name="KHR_materials_iridescence"}return M(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial){var n=this.writer,r=n.extensionsUsed,i={};if(i.iridescenceFactor=e.iridescence,e.iridescenceMap){var a={index:n.processTexture(e.iridescenceMap)};n.applyTextureTransform(a,e.iridescenceMap),i.iridescenceTexture=a}if(i.iridescenceIor=e.iridescenceIOR,i.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],i.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){var o={index:n.processTexture(e.iridescenceThicknessMap)};n.applyTextureTransform(o,e.iridescenceThicknessMap),i.iridescenceThicknessTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),wb=function(){function e(t){k(this,e),this.writer=t,this.name="KHR_materials_transmission"}return M(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,i={};if(i.transmissionFactor=e.transmission,e.transmissionMap){var a={index:n.processTexture(e.transmissionMap)};n.applyTextureTransform(a,e.transmissionMap),i.transmissionTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),_b=function(){function e(t){k(this,e),this.writer=t,this.name="KHR_materials_volume"}return M(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,i={};if(i.thicknessFactor=e.thickness,e.thicknessMap){var a={index:n.processTexture(e.thicknessMap)};n.applyTextureTransform(a,e.thicknessMap),i.thicknessTexture=a}i.attenuationDistance=e.attenuationDistance,i.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}();Uy.Utils={insertKeyframe:function(e,t){var n,r=.001,i=e.getValueSize(),a=new e.TimeBufferType(e.times.length+1),o=new e.ValueBufferType(e.values.length+i),s=e.createInterpolant(new e.ValueBufferType(i));if(0===e.times.length){a[0]=t;for(var u=0;u<i;u++)o[u]=0;n=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<r)return 0;a[0]=t,a.set(e.times,1),o.set(s.evaluate(t),0),o.set(e.values,i),n=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<r)return e.times.length-1;a[a.length-1]=t,a.set(e.times,0),o.set(e.values,0),o.set(s.evaluate(t),e.values.length),n=a.length-1}else for(var l=0;l<e.times.length;l++){if(Math.abs(e.times[l]-t)<r)return l;if(e.times[l]<t&&e.times[l+1]>t){a.set(e.times.slice(0,l+1),0),a[l+1]=t,a.set(e.times.slice(l+1),l+2),o.set(e.values.slice(0,(l+1)*i),0),o.set(s.evaluate(t),(l+1)*i),o.set(e.values.slice((l+1)*i),(l+2)*i),n=l+1;break}}return e.times=a,e.values=o,n},mergeMorphTargetTracks:function(e,t){for(var n=[],r={},i=e.tracks,a=0;a<i.length;++a){var o=i[a],s=vp.parseTrackName(o.name),u=vp.findNode(t,s.nodeName);if("morphTargetInfluences"===s.propertyName&&void 0!==s.propertyIndex){if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(o=o.clone()).setInterpolation(Qt)}var l=u.morphTargetInfluences.length,c=u.morphTargetDictionary[s.propertyIndex];if(void 0===c)throw new Error("THREE.GLTFExporter: Morph target name not found: "+s.propertyIndex);var d=void 0;if(void 0!==r[u.uuid]){var f=o.createInterpolant(new o.ValueBufferType(1));d=r[u.uuid];for(var p=0;p<d.times.length;p++)d.values[p*l+c]=f.evaluate(d.times[p]);for(var h=0;h<o.times.length;h++){var v=this.insertKeyframe(d,o.times[h]);d.values[v*l+c]=o.values[h]}}else{for(var m=new((d=o.clone()).ValueBufferType)(l*d.times.length),g=0;g<d.times.length;g++)m[g*l+c]=d.values[g];d.name=(s.nodeName||"")+".morphTargetInfluences",d.values=m,r[u.uuid]=d,n.push(d)}}else n.push(o)}return e.tracks=n,e}};var Sb=function(e){P(n,e);var t=I(n);function n(e){var r;return k(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new Cb(e)})),r.register((function(e){return new jb(e)})),r.register((function(e){return new Nb(e)})),r.register((function(e){return new Ib(e)})),r.register((function(e){return new Rb(e)})),r.register((function(e){return new Ob(e)})),r.register((function(e){return new Db(e)})),r.register((function(e){return new Tb(e)})),r.register((function(e){return new Lb(e)})),r.register((function(e){return new Ab(e)})),r.register((function(e){return new Mb(e)})),r.register((function(e){return new zb(e)})),r}return M(n,[{key:"load",value:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:If.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new rf(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,a={},o={};if("string"===typeof e)i=e;else if(If.decodeText(new Uint8Array(e,0,4))===Fb){try{a[Eb.KHR_BINARY_GLTF]=new Vb(e)}catch(h){return void(r&&r(h))}i=a[Eb.KHR_BINARY_GLTF].content}else i=If.decodeText(new Uint8Array(e));var s=JSON.parse(i);if(void 0===s.asset||s.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new wx(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var l=0;l<this.pluginCallbacks.length;l++){var c=this.pluginCallbacks[l](u);o[c.name]=c,a[c.name]=!0}if(s.extensionsUsed)for(var d=0;d<s.extensionsUsed.length;++d){var f=s.extensionsUsed[d],p=s.extensionsRequired||[];switch(f){case Eb.KHR_MATERIALS_UNLIT:a[f]=new Pb;break;case Eb.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[f]=new qb;break;case Eb.KHR_DRACO_MESH_COMPRESSION:a[f]=new Hb(s,this.dracoLoader);break;case Eb.KHR_TEXTURE_TRANSFORM:a[f]=new Wb;break;case Eb.KHR_MESH_QUANTIZATION:a[f]=new Kb;break;default:p.indexOf(f)>=0&&void 0===o[f]&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(a),u.setPlugins(o),u.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(ef);function kb(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var Eb={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},Mb=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return M(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new kr(16777215);void 0!==o.color&&s.fromArray(o.color);var u=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new Ef(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new Sf(s)).distance=u;break;case"spot":(i=new yf(s)).distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),Pb=function(){function e(){k(this,e),this.name=Eb.KHR_MATERIALS_UNLIT}return M(e,[{key:"getMaterialType",value:function(){return ea}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new kr(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,cn))}return Promise.all(r)}}]),e}(),Tb=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.KHR_MATERIALS_EMISSIVE_STRENGTH}return M(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),Cb=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.KHR_MATERIALS_CLEARCOAT}return M(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?_d:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new sr(o,o)}return Promise.all(i)}}]),e}(),Ab=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.KHR_MATERIALS_IRIDESCENCE}return M(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?_d:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),Ib=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.KHR_MATERIALS_SHEEN}return M(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?_d:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new kr(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,cn)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),Rb=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.KHR_MATERIALS_TRANSMISSION}return M(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?_d:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),Ob=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.KHR_MATERIALS_VOLUME}return M(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?_d:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=new kr(o[0],o[1],o[2]),Promise.all(i)}}]),e}(),Db=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.KHR_MATERIALS_IOR}return M(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?_d:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),Lb=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.KHR_MATERIALS_SPECULAR}return M(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?_d:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=new kr(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,cn)),Promise.all(i)}}]),e}(),jb=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.KHR_TEXTURE_BASISU}return M(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),Nb=function(){function e(t){k(this,e),this.parser=t,this.name=Eb.EXT_TEXTURE_WEBP,this.isSupported=null}return M(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),zb=function(){function e(t){k(this,e),this.name=Eb.EXT_MESHOPT_COMPRESSION,this.parser=t}return M(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),Fb="glTF",Bb=1313821514,Ub=5130562,Vb=M((function e(t){k(this,e),this.name=Eb.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:If.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Fb)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,i=new DataView(t,12),a=0;a<r;){var o=i.getUint32(a,!0);a+=4;var s=i.getUint32(a,!0);if(a+=4,s===Bb){var u=new Uint8Array(t,12+a,o);this.content=If.decodeText(u)}else if(s===Ub){var l=12+a;this.body=t.slice(l,l+o)}a+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),Hb=function(){function e(t,n){if(k(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Eb.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return M(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},u={};for(var l in a){var c=ux[l]||l.toLowerCase();o[c]=a[l]}for(var d in e.attributes){var f=ux[d]||d.toLowerCase();if(void 0!==a[d]){var p=n.accessors[e.attributes[d]],h=ix[p.componentType];u[f]=h.name,s[f]=!0===p.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,u)}))}))}}]),e}(),Wb=function(){function e(){k(this,e),this.name=Eb.KHR_TEXTURE_TRANSFORM}return M(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),Gb=function(e){P(n,e);var t=I(n);function n(e){var r;k(this,n),(r=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var i=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),u=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),l={specular:{value:(new kr).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=l,r.onBeforeCompile=function(e){for(var t in l)e.uniforms[t]=l[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",i).replace("#include <metalnessmap_pars_fragment>",a).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",u)},Object.defineProperties(C(r),{specular:{get:function(){return l.specular.value},set:function(e){l.specular.value=e}},specularMap:{get:function(){return l.specularMap.value},set:function(e){l.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return l.glossiness.value},set:function(e){l.glossiness.value=e}},glossinessMap:{get:function(){return l.glossinessMap.value},set:function(e){l.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(wd),qb=function(){function e(){k(this,e),this.name=Eb.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}return M(e,[{key:"getMaterialType",value:function(){return Gb}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new kr(1,1,1),e.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var a=r.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture,cn)),e.emissive=new kr(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new kr(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",o)),i.push(n.assignTexture(e,"specularMap",o,cn))}return Promise.all(i)}},{key:"createMaterial",value:function(e){var t=new Gb(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=pn,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t}}]),e}(),Kb=M((function e(){k(this,e),this.name=Eb.KHR_MESH_QUANTIZATION})),Xb=function(e){P(n,e);var t=I(n);function n(e,r,i,a){return k(this,n),t.call(this,e,r,i,a)}return M(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,l=r-t,c=(n-t)/l,d=c*c,f=d*c,p=e*u,h=p-u,v=-2*f+3*d,m=f-d,g=1-v,y=m-d+c,b=0;b!==o;b++){var x=a[h+b+o],w=a[h+b+s]*l,_=a[p+b+o],S=a[p+b]*l;i[b]=g*x+y*w+v*_+m*S}return i}}]),n}(jd),Yb=new Nr,$b=function(e){P(n,e);var t=I(n);function n(){return k(this,n),t.apply(this,arguments)}return M(n,[{key:"interpolate_",value:function(e,t,r,i){var a=D(T(n.prototype),"interpolate_",this).call(this,e,t,r,i);return Yb.fromArray(a).normalize().toArray(a),a}}]),n}(Xb),Zb=0,Qb=1,Jb=2,ex=3,tx=4,nx=5,rx=6,ix={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ax={9728:He,9729:Xe,9984:We,9985:Ye,9986:qe,9987:Ze},ox={33071:Ue,33648:Ve,10497:Be},sx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ux={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},lx={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},cx={CUBICSPLINE:void 0,LINEAR:Qt,STEP:Zt},dx="OPAQUE",fx="MASK",px="BLEND";function hx(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new wd({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:q})),e.DefaultMaterial}function vx(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function mx(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function gx(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function yx(e){var t=e.extensions&&e.extensions[Eb.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+bx(t.attributes):e.indices+":"+bx(e.attributes)+":"+e.mode}function bx(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function xx(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var wx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new kb,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=navigator.userAgent.indexOf("Firefox")>-1,a=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;"undefined"===typeof createImageBitmap||r||i&&a<98?this.textureLoader=new cf(this.options.manager):this.textureLoader=new zf(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new rf(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return M(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};vx(i,a,r),mx(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var u=0,l=e.length;u<l;u++){var c=e[u];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var i=n.clone();return function e(t,n){var i=r.associations.get(t);null!=i&&r.associations.set(n,i);var a,o=x(t.children.entries());try{for(o.s();!(a=o.n()).done;){var s=y(a.value,2),u=s[0];e(s[1],n.children[u])}}catch(l){o.e(l)}finally{o.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Eb.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(If.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,a,o=e[0],s=sx[r.type],u=ix[r.componentType],l=u.BYTES_PER_ELEMENT,c=l*s,d=r.byteOffset||0,f=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(f&&f!==c){var h=Math.floor(d/f),v="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+h+":"+r.count,m=t.cache.get(v);m||(i=new u(o,h*f,r.count*f/l),m=new Hu(i,f/l),t.cache.add(v,m)),a=new Gu(m,s,d%f/l,p)}else i=null===o?new u(r.count*s):new u(o,d,r.count*s),a=new ra(i,s,p);if(void 0!==r.sparse){var g=sx.SCALAR,y=ix[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,w=new y(e[1],b,r.sparse.count*g),_=new u(e[2],x,r.sparse.count*s);null!==o&&(a=new ra(a.array.slice(),a.itemSize,a.normalized));for(var S=0,k=w.length;S<k;S++){var E=w[S];if(a.setX(E,_[S*s]),s>=2&&a.setY(E,_[S*s+1]),s>=3&&a.setZ(E,_[S*s+2]),s>=4&&a.setW(E,_[S*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var u=this.loadImageSource(t,n).then((function(t){t.flipY=!1,a.name&&(t.name=a.name);var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=ax[n.magFilter]||Xe,t.minFilter=ax[n.minFilter]||Ze,t.wrapS=ox[n.wrapS]||Be,t.wrapT=ox[n.wrapT]||Be,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=u,u}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=n.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var u=Promise.resolve(o).then((function(e){return new Promise((function(n,i){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new Cr(e);t.needsUpdate=!0,n(t)}),t.load(If.resolveURL(e,r.path),a,void 0,i)}))})).then((function(e){var t;return!0===s&&a.revokeObjectURL(o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=u,u}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[Eb.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[Eb.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[Eb.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==r&&(a.encoding=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new zl,Ji.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var u="LineBasicMaterial:"+n.uuid,l=this.cache.get(u);l||(l=new Pl,Ji.prototype.copy.call(l,n),l.color.copy(n.color),this.cache.add(u,l)),n=l}if(r||i||a){var c="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),r&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),a&&(c+="flat-shading:");var d=this.cache.get(c);d||(d=n.clone(),i&&(d.vertexColors=!0),a&&(d.flatShading=!0),r&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(c,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return wd}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=a.extensions||{},u=[];if(s[Eb.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=i[Eb.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=l.getMaterialType(),u.push(l.extendParams(o,a,n))}else if(s[Eb.KHR_MATERIALS_UNLIT]){var c=i[Eb.KHR_MATERIALS_UNLIT];t=c.getMaterialType(),u.push(c.extendParams(o,a,n))}else{var d=a.pbrMetallicRoughness||{};if(o.color=new kr(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){var f=d.baseColorFactor;o.color.fromArray(f),o.opacity=f[3]}void 0!==d.baseColorTexture&&u.push(n.assignTexture(o,"map",d.baseColorTexture,cn)),o.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,o.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(u.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),u.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=X);var p=a.alphaMode||dx;if(p===px?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,p===fx&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==ea&&(u.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new sr(1,1),void 0!==a.normalTexture.scale)){var h=a.normalTexture.scale;o.normalScale.set(h,h)}return void 0!==a.occlusionTexture&&t!==ea&&(u.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==ea&&(o.emissive=(new kr).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==ea&&u.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,cn)),Promise.all(u).then((function(){var r;return r=t===Gb?i[Eb.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),a.name&&(r.name=a.name),mx(r,a),n.associations.set(r,{materials:e}),a.extensions&&vx(i,r,a),r}))}},{key:"createUniqueName",value:function(e){for(var t=vp.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[Eb.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return Sx(n,e,t)}))}for(var a=[],o=0,s=e.length;o<s;o++){var u=e[o],l=yx(u),c=r[l];if(c)a.push(c.promise);else{var d=void 0;d=u.extensions&&u.extensions[Eb.KHR_DRACO_MESH_COMPRESSION]?i(u):Sx(new wa,u,t),r[l]={primitive:u,promise:d},a.push(d)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t=this,n=this.json,r=this.extensions,i=n.meshes[e],a=i.primitives,o=[],s=0,u=a.length;s<u;s++){var l=void 0===a[s].material?hx(this.cache):this.getDependency("material",a[s].material);o.push(l)}return o.push(t.loadGeometries(a)),Promise.all(o).then((function(n){for(var o=n.slice(0,n.length-1),s=n[n.length-1],u=[],l=0,c=s.length;l<c;l++){var d=s[l],f=a[l],p=void 0,h=o[l];if(f.mode===tx||f.mode===nx||f.mode===rx||void 0===f.mode)!0!==(p=!0===i.isSkinnedMesh?new vl(d,h):new Fa(d,h)).isSkinnedMesh||p.geometry.attributes.skinWeight.normalized||p.normalizeSkinWeights(),f.mode===nx?p.geometry=kx(p.geometry,sn):f.mode===rx&&(p.geometry=kx(p.geometry,un));else if(f.mode===Qb)p=new jl(d,h);else if(f.mode===ex)p=new Ol(d,h);else if(f.mode===Jb)p=new Nl(d,h);else{if(f.mode!==Zb)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);p=new Hl(d,h)}Object.keys(p.geometry.morphAttributes).length>0&&gx(p,i),p.name=t.createUniqueName(i.name||"mesh_"+e),mx(p,i),f.extensions&&vx(r,p,f),t.assignFinalMaterial(p),u.push(p)}for(var v=0,m=u.length;v<m;v++)t.associations.set(u[v],{meshes:e,primitives:v});if(1===u.length)return u[0];var g=new Cu;t.associations.set(g,{meshes:e});for(var y=0,b=u.length;y<b;y++)g.add(u[y]);return g}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new Ka(or.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new yo(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),mx(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],a=[],o=[],s=0,u=t.channels.length;s<u;s++){var l=t.channels[s],c=t.samplers[l.sampler],d=l.target,f=d.node,p=void 0!==t.parameters?t.parameters[c.input]:c.input,h=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",f)),r.push(this.getDependency("accessor",p)),i.push(this.getDependency("accessor",h)),a.push(c),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){for(var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=[],l=function(e,t){var n=r[e],l=i[e],c=a[e],d=o[e],f=s[e];if(void 0===n)return"continue";n.updateMatrix();var p=void 0;switch(lx[f.path]){case lx.weights:p=Hd;break;case lx.rotation:p=Gd;break;default:p=Kd}var h=n.name?n.name:n.uuid,v=void 0!==d.interpolation?cx[d.interpolation]:Qt,m=[];lx[f.path]===lx.weights?n.traverse((function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(h);var g=c.array;if(c.normalized){for(var y=xx(g.constructor),b=new Float32Array(g.length),x=0,w=g.length;x<w;x++)b[x]=g[x]*y;g=b}for(var _=0,S=m.length;_<S;_++){var k=new p(m[_]+"."+lx[f.path],l.array,g,v);"CUBICSPLINE"===d.interpolation&&(k.createInterpolant=function(e){return new(this instanceof Gd?$b:Xb)(this.times,this.values,this.getValueSize()/3,e)},k.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(k)}},c=0,d=r.length;c<d;c++)l(c);var f=t.name?t.name:"animation_"+e;return new Xd(f,void 0,u)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==i.camera&&t.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var o;if((o=!0===i.isBone?new ml:t.length>1?new Cu:1===t.length?t[0]:new Bi)!==t[0])for(var s=0,u=t.length;s<u;s++)o.add(t[s]);if(i.name&&(o.userData.name=i.name,o.name=a),mx(o,i),i.extensions&&vx(n,o,i),void 0!==i.matrix){var l=new vi;l.fromArray(i.matrix),o.applyMatrix4(l)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],i=this,a=new Cu;r.name&&(a.name=i.createUniqueName(r.name)),mx(a,r),r.extensions&&vx(n,a,r);for(var o=r.nodes||[],s=[],u=0,l=o.length;u<l;u++)s.push(_x(o[u],a,t,i));return Promise.all(s).then((function(){return i.associations=function(e){var t,n=new Map,r=x(i.associations);try{for(r.s();!(t=r.n()).done;){var a=y(t.value,2),o=a[0],s=a[1];(o instanceof Ji||o instanceof Cr)&&n.set(o,s)}}catch(u){r.e(u)}finally{r.f()}return e.traverse((function(e){var t=i.associations.get(e);null!=t&&n.set(e,t)})),n}(a),a}))}}]),e}();function _x(e,t,n,r){var i=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===i.skin?e:r.getDependency("skin",i.skin).then((function(e){for(var n=[],i=0,a=(t=e).joints.length;i<a;i++)n.push(r.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],i=[],a=0,o=n.length;a<o;a++){var s=n[a];if(s){r.push(s);var u=new vi;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*a),i.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new xl(r,i),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var a=[];if(i.children)for(var o=i.children,s=0,u=o.length;s<u;s++){var l=o[s];a.push(_x(l,e,n,r))}return Promise.all(a)}))}function Sx(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=ux[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var u=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(u)}return mx(e,t),function(e,t,n){var r=t.attributes,i=new Ur;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new zr(o[0],o[1],o[2]),new zr(s[0],s[1],s[2])),a.normalized){var u=xx(ix[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}var l=t.targets;if(void 0!==l){for(var c=new zr,d=new zr,f=0,p=l.length;f<p;f++){var h=l[f];if(void 0!==h.POSITION){var v=n.json.accessors[h.POSITION],m=v.min,g=v.max;if(void 0!==m&&void 0!==g){if(d.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),d.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),d.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),v.normalized){var y=xx(ix[v.componentType]);d.multiplyScalar(y)}c.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(c)}e.boundingBox=i;var b=new oi;i.getCenter(b.center),b.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=b}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var u=t[o];if(void 0!==u.POSITION&&(r=!0),void 0!==u.NORMAL&&(i=!0),void 0!==u.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var l=[],c=[],d=[],f=0,p=t.length;f<p;f++){var h=t[f];if(r){var v=void 0!==h.POSITION?n.getDependency("accessor",h.POSITION):e.attributes.position;l.push(v)}if(i){var m=void 0!==h.NORMAL?n.getDependency("accessor",h.NORMAL):e.attributes.normal;c.push(m)}if(a){var g=void 0!==h.COLOR_0?n.getDependency("accessor",h.COLOR_0):e.attributes.color;d.push(g)}}return Promise.all([Promise.all(l),Promise.all(c),Promise.all(d)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function kx(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===un)for(var u=1;u<=o;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var l=0;l<o;l++)l%2===0?(s.push(n.getX(l)),s.push(n.getX(l+1)),s.push(n.getX(l+2))):(s.push(n.getX(l+2)),s.push(n.getX(l+1)),s.push(n.getX(l)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c}var Ex=function(e){P(n,e);var t=I(n);function n(e){return k(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new rf(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){var n=i.parse(JSON.parse(e));t&&t(n)}),n,r)}},{key:"parse",value:function(e){return new Mx(e)}}]),n}(ef),Mx=function(){function e(t){k(this,e),this.isFont=!0,this.type="Font",this.data=t}return M(e,[{key:"generateShapes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],r=Px(e,t,this.data),i=0,a=r.length;i<a;i++)n.push.apply(n,f(r[i].toShapes()));return n}}]),e}();function Px(e,t,n){for(var r=Array.from(e),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,u=0,l=0;l<r.length;l++){var c=r[l];if("\n"===c)s=0,u-=a;else{var d=Tx(c,i,s,u,n);s+=d.offsetX,o.push(d.path)}}return o}function Tx(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,u,l,c,d,f,p,h=new fh;if(a.o)for(var v=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),m=0,g=v.length;m<g;){switch(v[m++]){case"m":o=v[m++]*t+n,s=v[m++]*t+r,h.moveTo(o,s);break;case"l":o=v[m++]*t+n,s=v[m++]*t+r,h.lineTo(o,s);break;case"q":u=v[m++]*t+n,l=v[m++]*t+r,c=v[m++]*t+n,d=v[m++]*t+r,h.quadraticCurveTo(c,d,u,l);break;case"b":u=v[m++]*t+n,l=v[m++]*t+r,c=v[m++]*t+n,d=v[m++]*t+r,f=v[m++]*t+n,p=v[m++]*t+r,h.bezierCurveTo(c,d,f,p,u,l)}}return{offsetX:a.ha*t,path:h}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}var Cx,Ax,Ix=n(6209),Rx=n(3604),Ox=n.n(Rx),Dx=Object.create,Lx=Object.defineProperty,jx=Object.defineProperties,Nx=Object.getOwnPropertyDescriptor,zx=Object.getOwnPropertyDescriptors,Fx=Object.getOwnPropertyNames,Bx=Object.getOwnPropertySymbols,Ux=Object.getPrototypeOf,Vx=Object.prototype.hasOwnProperty,Hx=Object.prototype.propertyIsEnumerable,Wx=function(e,t,n){return t in e?Lx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Gx=function(e,t){for(var n in t||(t={}))Vx.call(t,n)&&Wx(e,n,t[n]);if(Bx){var r,i=x(Bx(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Hx.call(t,n)&&Wx(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},qx=function(e,t){return jx(e,zx(t))},Kx=function(e,t){var n={};for(var r in e)Vx.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bx){var i,a=x(Bx(e));try{for(a.s();!(i=a.n()).done;){r=i.value;t.indexOf(r)<0&&Hx.call(e,r)&&(n[r]=e[r])}}catch(o){a.e(o)}finally{a.f()}}return n},Xx=function(e){return function(e,t,n){if(t&&"object"===typeof t||"function"===typeof t){var r,i=x(Fx(t));try{var a=function(){var i=r.value;Vx.call(e,i)||"default"===i||Lx(e,i,{get:function(){return t[i]},enumerable:!(n=Nx(t,i))||n.enumerable})};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}return e}((t=Lx(null!=e?Dx(Ux(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0}),Lx(t,"__esModule",{value:!0})),e);var t}((Cx={"../../node_modules/zustand/vanilla.js":function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e,r,a){void 0===r&&(r=i),void 0===a&&(a=Object.is);var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}}},function(){return Ax||(0,Cx[Object.keys(Cx)[0]])((Ax={exports:{}}).exports,Ax),Ax.exports})()),Yx=new WeakSet,$x=(0,Xx.default)((function(e,t){return{sheet:null,editorObject:null,scene:null,gl:null,helpersRoot:new Cu,editables:{},canvasName:"default",sceneSnapshot:null,editablesSnapshot:null,initialEditorCamera:{},init:function(n,r){e({scene:n,gl:r}),t().createSnapshot()},addEditable:function(t,n){e((function(e){return{editables:qx(Gx({},e.editables),p({},t,n))}}))},removeEditable:function(t){e((function(e){var n=Gx({},e.editables);return delete n[t],{editables:n}}))},createSnapshot:function(){e((function(e){var t,n;return{sceneSnapshot:null!=(n=null==(t=e.scene)?void 0:t.clone())?n:null,editablesSnapshot:e.editables}}))},setSnapshotProxyObject:function(t,n){e((function(e){return{editablesSnapshot:qx(Gx({},e.editablesSnapshot),p({},n,qx(Gx({},e.editablesSnapshot[n]),{proxyObject:t})))}}))}}}));var Zx=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}};var Qx=(0,r.createContext)(void 0),Jx=function(){return function(){var e=(0,r.useContext)(Qx);if(!e)throw new Error("No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider");return e}().sheet},ew=function(e){var t=e.sheet,n=e.children,i=Fv((function(e){return{scene:e.scene,gl:e.gl}})),a=i.scene,o=i.gl;return(0,r.useEffect)((function(){if(!t||"Theatre_Sheet_PublicAPI"!==t.type)throw new Error("sheet in <Wrapper sheet={sheet}> has an invalid value")}),[t]),(0,r.useLayoutEffect)((function(){!function(e){var t=e.gl,n=e.scene;(0,$x.getState().init)(n,t)}({gl:o,scene:a})}),[a,o]),r.createElement(Qx.Provider,{value:{sheet:t}},n)};function tw(e){return"number"===typeof e&&isFinite(e)}function nw(e){return["x","y","z"].every((function(t){return tw(e[t])}))}var rw,iw=function(e){return e?{x:e[0],y:e[1],z:e[2]}:{x:0,y:0,z:0}},aw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iw(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.nudgeMultiplier,i=void 0===r?.01:r;return{parse:function(n){var r=n[e],i=r?Array.isArray(r)?iw(r):tw(r)?{x:r,y:r,z:r}:nw(r)?{x:r.x,y:r.y,z:r.z}:(console.warn("Couldn't parse prop %c".concat(e,"={").concat(JSON.stringify(r),"}%c, falling back to default value."),"background: black; color: white"),t):t;return["x","y","z"].forEach((function(t){n["".concat(e,"-").concat(t)]&&(i[t]=n["".concat(e,"-").concat(t)])})),i},apply:function(t,n){n[e].set(t.x,t.y,t.z)},type:p({},e,{x:Ix.types.number(t.x,{nudgeMultiplier:i}),y:Ix.types.number(t.y,{nudgeMultiplier:i}),z:Ix.types.number(t.z,{nudgeMultiplier:i})})}},ow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.nudgeMultiplier,i=void 0===r?.01:r;return{parse:function(n){var r;return null!=(r=n[e])?r:t},apply:function(t,n){n[e]=t},type:p({},e,Ix.types.number(t,{nudgeMultiplier:i}))}},sw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new kr(0,0,0);return{parse:function(n){var r;return qx(Gx({},null!=(r=n[e])?r:t),{a:1})},apply:function(t,n){n[e].setRGB(t.r,t.g,t.b)},type:p({},e,Ix.types.rgba(qx(Gx({},t),{a:1})))}},uw=function(e,t){return qx(Gx({},e),{props:Gx(Gx({},e.props),t)})},lw={props:{position:aw("position"),rotation:aw("rotation"),scale:aw("scale",iw([1,1,1]))},useTransformControls:!0,icon:"cube",createHelper:function(e){return new oh(e,fw)}},cw=qx(Gx({},uw(lw,{intensity:ow("intensity",1),distance:ow("distance"),decay:ow("decay"),color:sw("color",new kr("white"))})),{dimensionless:!0}),dw=qx(Gx({},uw(lw,{near:ow("near",.1,{nudgeMultiplier:.1}),far:ow("far",2e3,{nudgeMultiplier:.1})})),{updateObject:function(e){e.updateProjectionMatrix()},icon:"camera",dimensionless:!0,createHelper:function(e){return new th(e)}}),fw="#40AAA4",pw={group:qx(Gx({},lw),{icon:"collection",createHelper:function(e){return new oh(e,fw)}}),mesh:qx(Gx({},lw),{icon:"cube",createHelper:function(e){return new oh(e,fw)}}),spotLight:qx(Gx({},uw(cw,{angle:ow("angle",0,{nudgeMultiplier:.001}),penumbra:ow("penumbra",0,{nudgeMultiplier:.001})})),{icon:"spotLight",createHelper:function(e){return new jp(e,fw)}}),directionalLight:qx(Gx({},uw(lw,{intensity:ow("intensity",1),color:sw("color",new kr("white"))})),{icon:"sun",dimensionless:!0,createHelper:function(e){return new Qp(e,1,fw)}}),pointLight:qx(Gx({},cw),{icon:"lightBulb",createHelper:function(e){return new Vp(e,1,fw)}}),ambientLight:{props:{intensity:ow("intensity",1),color:sw("color",new kr("white"))},useTransformControls:!1,icon:"lightBulb"},hemisphereLight:{props:{intensity:ow("intensity",1),color:sw("color",new kr("white")),groundColor:sw("groundColor",new kr("white"))},useTransformControls:!1,icon:"lightBulb"},perspectiveCamera:uw(dw,{fov:ow("fov",50,{nudgeMultiplier:.1}),zoom:ow("zoom",1)}),orthographicCamera:dw,points:lw,line:lw,lineLoop:lw,lineSegments:lw,fog:{props:{color:sw("color"),near:ow("near",1,{nudgeMultiplier:.1}),far:ow("far",1e3,{nudgeMultiplier:.1})},useTransformControls:!1,icon:"cloud"}},hw=($x.getState().createSnapshot,function(e){var t=function(t,n){return(0,r.forwardRef)((function(i,a){var o=i,s=o.theatreKey,u=o.visible,l=o.editableType,c=o.additionalProps,d=o.objRef,p=Kx(o,["theatreKey","visible","editableType","additionalProps","objRef"]),h=null!=n?n:l,v=(0,r.useRef)(),m=Jx(),g=y((0,r.useState)(void 0),2),b=g[0],x=g[1],w=(0,r.useMemo)((function(){return e=qx(Gx({},m.address),{objectKey:s}),"".concat(e.sheetId,":").concat(e.sheetInstanceId,":").concat(e.objectKey);var e}),[m,s]),_=Fv((function(e){return e.invalidate}));return(0,r.useEffect)((function(){if("perspectiveCamera"===t||"orthographicCamera"===t){var e=t.charAt(0).toUpperCase()+t.slice(1);console.warn("You seem to have declared the camera %c".concat(s,"%c simply as <e.").concat(t," ... />. This alone won't make r3f use it for rendering.\n\nThe easiest way to create a custom animatable ").concat(e," is to import it from @react-three/drei, and make it editable.\n\n%cimport {").concat(e,"} from '@react-three/drei'\nconst EditableCamera = editable(").concat(e,", '").concat(t,"')%c\n\nThen you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.\n\n%c<EditableCamera\n  theatreKey=\"").concat(s,'"\n  makeDefault\n>'),"font-style: italic;","font-style: inherit;","background: black; color: white;","background: inherit; color: inherit","background: black; color: white;")}}),[t,s]),(0,r.useLayoutEffect)((function(){if(m)if(b)m.object(s,Object.assign.apply(Object,[Gx({},c)].concat(f(Object.values(e[h].props).map((function(e){return e.type}))))),{override:!0});else{var t=m.object(s,Object.assign.apply(Object,[Gx({},c)].concat(f(Object.values(e[h].props).map((function(e){return e.type}))))));Yx.add(t),x(t),d&&("function"===typeof d?d(t):d.current=t),$x.getState().addEditable(w,{type:h,sheetObject:t,visibleOnlyInEditor:"editor"===u,objectConfig:e[h]})}}),[m,w,c]),(0,r.useLayoutEffect)((function(){b&&(b.initialValue=Object.fromEntries(Object.entries(e[h].props).map((function(e){var t=y(e,2);return[t[0],t[1].parse(p)]}))))}),[b].concat(f(Object.keys(e[h].props).map((function(e){return p[e]}))))),(0,r.useLayoutEffect)((function(){if(b){var t=v.current,n=function(n){var r,i;Object.entries(e[h].props).forEach((function(e){var r=y(e,2),i=r[0];return r[1].apply(n[i],t)})),null==(i=(r=e[h]).updateObject)||i.call(r,t),_()};n(b.value);var r=b.onValuesChange(n);return function(){r(),b.sheet.deleteObject(s),Yx.delete(b),$x.getState().removeEditable(w)}}}),[b]),r.createElement(t,qx(Gx({ref:Zx([v,a])},p),{visible:"editor"!==u&&u,userData:{__editable:!0,__storeKey:w}}))}))},n=qx(Gx({},Object.fromEntries(Object.keys(e).map((function(e){return[e,t(e,e)]})))),{primitive:t("primitive",null)});return Object.assign(t,n)}(pw)),vw=hw,mw=(vw((0,r.forwardRef)((function(e,t){var n=e,i=n.makeDefault,a=n.lookAt,o=Kx(n,["makeDefault","lookAt"]),s=Fv((function(e){return e.set})),u=Fv((function(e){return e.camera})),l=Fv((function(e){return e.size})),c=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){o.manual||(c.current.aspect=l.width/l.height)}),[l,o]),(0,r.useLayoutEffect)((function(){c.current.updateProjectionMatrix()})),(0,r.useLayoutEffect)((function(){if(i){var e=u;return s((function(){return{camera:c.current}})),function(){return s((function(){return{camera:e}}))}}}),[c,i,s]),Bv((function(){var e;if(a&&c.current){c.current.lookAt(Array.isArray(a)?S(zr,f(a)):a.current?a.current.position:a);var t=$x.getState().editablesSnapshot;t&&(null==(e=t[c.current.userData.__storeKey].proxyObject)||e.rotation.copy(c.current.rotation))}})),(0,r.createElement)("perspectiveCamera",Gx({ref:Zx([c,t])},o))})),"perspectiveCamera"),vw((0,r.forwardRef)((function(e,t){var n=e,i=n.makeDefault,a=n.lookAt,o=Kx(n,["makeDefault","lookAt"]),s=Fv((function(e){return e.set})),u=Fv((function(e){return e.camera})),l=Fv((function(e){return e.size})),c=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){o.manual||c.current.updateProjectionMatrix()}),[l,o]),(0,r.useLayoutEffect)((function(){c.current.updateProjectionMatrix()})),(0,r.useLayoutEffect)((function(){if(i){var e=u;return s((function(){return{camera:c.current}})),function(){return s((function(){return{camera:e}}))}}}),[c,i,s]),Bv((function(){var e;if(a&&c.current){c.current.lookAt(Array.isArray(a)?S(zr,f(a)):a.current?a.current.position:a);var t=$x.getState().editablesSnapshot;t&&(null==(e=t[c.current.userData.__storeKey].proxyObject)||e.rotation.copy(c.current.rotation))}})),(0,r.createElement)("orthographicCamera",Gx({left:l.width/-2,right:l.width/2,top:l.height/2,bottom:l.height/-2,ref:Zx([c,t])},o))})),"orthographicCamera"),n(184)),gw=(0,Ix.getProject)("Demo Project").sheet("Demo Sheet"),yw=["scale","rotate","translate"],bw=function(){var e=y((0,r.useState)({}),2),t=e[0],n=e[1],i=y((0,r.useState)({}),2),a=i[0],s=i[1],l=y((0,r.useState)(),2),c=l[0],d=l[1],p=y((0,r.useState)(),2),h=p[0],m=p[1],g=y((0,r.useState)(new Ep),2),b=g[0],x=g[1],w=(0,r.useRef)(),_=y((0,r.useState)(!1),2),S=_[0],k=_[1],E=y((0,r.useState)([]),2),M=E[0],P=E[1],T=y((0,r.useState)(),2),C=T[0],A=T[1],I=function(e){var t=(0,r.useRef)(),n={box:new Ua(6,1,.3),cylinder:new xc(1,1,1,32),donut:new pd(.5,.2,3,20),sphere:new dd(.5,16,16)};return(0,mw.jsxs)(vw.mesh,v(v({},e),{},{ref:t,scale:[1.5,1.5,1.5],onPointerOver:function(e){e.object.material.emissive.r=1},onPointerOut:function(e){e.object.material.emissive.r=0},children:[(0,mw.jsx)("primitive",{object:n[e.shape],attach:"geometry"}),(0,mw.jsx)("meshStandardMaterial",{color:{box:"red",cylinder:"pink",donut:"blue",sphere:"green"}[e.shape]})]}))},R=function(e){var t=(0,r.useRef)();return(0,mw.jsxs)(vw.mesh,v(v({},e),{},{ref:t,onPointerOver:function(e){e.object.material.emissive.r=1},onPointerOut:function(e){e.object.material.emissive.r=0},children:[(0,mw.jsx)("primitive",{object:e.geometry,attach:"geometry"}),(0,mw.jsx)("meshStandardMaterial",{color:e.color})]}))},O=function(e){var t=(0,r.useRef)();return(0,mw.jsxs)(vw.mesh,v(v({},e),{},{ref:t,onPointerOver:function(e){e.object.material.emissive&&(e.object.material.emissive.r=1)},onPointerOut:function(e){e.object.material.emissive&&(e.object.material.emissive.r=0)},children:[(0,mw.jsx)("primitive",{object:e.geometry,attach:"geometry"}),(0,mw.jsx)("primitive",{object:e.material,attach:"material"})]}))},D=function(e){var t=(0,r.useRef)();return(0,mw.jsxs)(vw.mesh,v(v({},e),{},{ref:t,onPointerOver:function(e){e.object.material.emissive&&(e.object.material.emissive.r=1)},onPointerOut:function(e){e.object.material.emissive&&(e.object.material.emissive.r=0)},children:[(0,mw.jsx)("primitive",{object:e.geometry,attach:"geometry"}),(0,mw.jsx)("primitive",{object:e.material,attach:"material"})]}))},L=y((0,r.useState)([]),2),j=L[0],N=L[1],z=function(e){var t=j.length,n=e.target.getAttribute("data-shape");N([].concat(f(j),[(0,mw.jsx)(I,{shape:n,theatreKey:n+t,position:[10*Math.random()-4,0,0]},t)]))},F=y((0,r.useState)([]),2),B=F[0],U=F[1],V=function(e,t,n){var r=j.length;B.push((0,mw.jsx)(H,{shape:e,theatreKey:e+r+n,position:t.position,rotation:t.rotation,scale:t.scale,geometry:t.geometry,material:t.material.clone()},r+n))},H=function(e){var t=(0,r.useRef)();return(0,mw.jsx)(mw.Fragment,{children:(0,mw.jsxs)(vw.mesh,v(v({},e),{},{ref:t,onPointerOver:function(e){e.object.material.emissive&&(e.object.material.emissive.r=1)},onPointerOut:function(e){e.object.material.emissive&&(e.object.material.emissive.r=0)},children:[(0,mw.jsx)("primitive",{object:e.geometry,attach:"geometry"}),(0,mw.jsx)("primitive",{object:e.material,attach:"material"})]}))})},W=y((0,r.useState)(),2),G=W[0],q=W[1];(0,r.useEffect)((function(){var e;return Ox().initialize(),M.length>0&&((e=new eg(M,c,null===G||void 0===G?void 0:G.domElement)).addEventListener("dragstart",(function(e){k(!1)})),e.addEventListener("dragend",(function(e){k(!0)})),w.current.addEventListener("dragging-changed",(function(e){k(!e.value)}))),function(){M.length>0&&(e.removeEventListener("dragstart",!1),e.removeEventListener("dragend",!1),w.current.removeEventListener("dragging-changed",!1))}}),[M]),(0,r.useEffect)((function(){return setTimeout((function(){var e;if((null===t||void 0===t?void 0:t.children)&&(null===t||void 0===t||t.children[2].detach()),(null===t||void 0===t||null===(e=t.children)||void 0===e?void 0:e.length)>3){var n=f(t.children);n.splice(0,3),P(n),t.children[2].attach(t.children[t.children.length-1]),A(t.children[t.children.length-1])}}),100),function(){}}),[j]);function K(){return(K=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new Uy).parse(t,(function(e){Y(e)}),(function(e){console.log("An error happened")}),{});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return $.apply(this,arguments)}function $(){return $=u(o().mark((function e(t){var n,r,i,a,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("a"),r=JSON.stringify(t),i=new Blob([r],{type:"text/plain"}),n.href=URL.createObjectURL(i),a=(new Date).toLocaleTimeString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"}),s={suggestedName:a,types:[{description:"gltf file",accept:{"application/json":[".gltf"]}}]},e.next=8,window.showSaveFilePicker(s);case 8:return u=e.sent,e.next=11,u.createWritable();case 11:return l=e.sent,e.next=14,l.write(i);case 14:return e.next=16,l.close();case 16:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}window.demoSheet=gw;var Z=y((0,r.useState)("Vimlesh Kumar"),2),Q=Z[0],J=Z[1],ee=function(){var e=function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),i=100;r.font="normal 100px Arial";var a=r.measureText(e).width;n.width=a,n.height=i,r.font="normal 100px Arial",r.textAlign="center",r.textBaseline="middle",r.fillStyle="#ffffff",r.fillText(e,a/2,50);var o=new Cr(n);o.needsUpdate=!0;var s=new ea({color:16777215,side:X,map:o,transparent:!0}),u=new so(t*a/i,t);return new Fa(u,s)}(Q,1.5),t=j.length,n="2dText";N([].concat(f(j),[(0,mw.jsx)(O,{shape:n,geometry:e.geometry,material:e.material,scale:[.64,.54,1],position:[0,-3,.27],theatreKey:n+t,color:"white"},t)]))},te=function(){t.children[2].detach(),A(null)};function ne(e){(rw=b.intersectObjects(M,!1)).length>0&&(A(rw[0].object),t.children[2].attach(rw[0].object))}return(0,r.useEffect)((function(){return document.addEventListener("click",ne,!1),function(){document.removeEventListener("click",ne)}}),[M]),(0,mw.jsxs)("div",{children:[(0,mw.jsxs)("div",{style:{display:"flex",border:"1px solid red"},children:[(0,mw.jsx)("div",{style:{minWidth:200,backgroundColor:"darkgrey",border:"1px solid red"},children:" "}),(0,mw.jsxs)("div",{style:{border:"1px solid red"},children:[(0,mw.jsxs)("div",{style:{border:"1px solid red"},children:[(0,mw.jsxs)("div",{style:{border:"1px solid red"},children:["Casparc Control",(0,mw.jsx)("button",{onClick:function(){return window.open("/ReactCasparClient/threejs")},children:" Opebn Full Window"}),(0,mw.jsx)("button",{onClick:function(){zy('play 1-97 [html] "http://localhost:10000/ReactCasparClient/threejs2"')},children:"Initialise casparcg"}),(0,mw.jsx)("button",{onClick:function(){zy('call 1-97 "\n        camera1.position.set(0, 3.061616997868383e-16, 5)\n        "')},children:"caspar camera Reset"})]}),(0,mw.jsx)("button",{onClick:function(){var e=j.length;N([].concat(f(j),[(0,mw.jsx)(R,{shape:"box",geometry:new Ua(11,1,.3),position:[0,-3,0],theatreKey:"box"+e,color:"maroon"},e)]))},"data-shape":"box",children:"Box "}),(0,mw.jsx)("button",{onClick:z,"data-shape":"cylinder",children:"Cylinder "}),(0,mw.jsx)("button",{onClick:z,"data-shape":"donut",children:"Donut "}),(0,mw.jsx)("button",{onClick:z,"data-shape":"sphere",children:"sphere "}),(0,mw.jsx)("button",{onClick:function(){(new Ex).load(window.location.origin+"/three/helvetiker_regular.typeface.json",(function(e){var t=new By(Q,{font:e,size:1.2,height:.001,curveSegments:10,bevelThickness:.1,bevelSize:.01,bevelEnabled:!0}),n=j.length,r="text3d";N([].concat(f(j),[(0,mw.jsx)(R,{shape:r,geometry:t,scale:[.8,.6,1],position:[-5,-3.2,.25],theatreKey:r+n,color:"yellow"},n)]))}))},"data-shape":"text3D",children:"3D Text"}),(0,mw.jsx)("button",{onClick:function(){return ee()},children:"2D Text"}),(0,mw.jsx)("button",{onClick:function(){C&&(new Ex).load("helvetiker_regular.typeface.json",(function(e){var t=new By(Q,{font:e,size:1.2,height:.001,curveSegments:10,bevelThickness:.1,bevelSize:.01,bevelEnabled:!0});C.geometry=t}))},children:"Change text"}),(0,mw.jsx)("button",{onClick:function(){if(rw[0]){t.children[2].detach();var e=f(j),n=e.filter((function(t,n){return rw[0].object.userData.__storeKey!=="Demo Sheet:default:"+e[n].props.theatreKey}));N(n);var r=f(M);r.filter((function(e){return e!==rw[0].object})),P(r),A(null)}},children:"Delete"}),(0,mw.jsx)("button",{onClick:function(){return t.children[2].detach(),P([]),A(null),void N([])},children:"Delete All"}),(0,mw.jsx)("button",{onClick:function(){C&&(V("copied",C,4545),N([].concat(f(j),f(B))),U([]))},children:"copy"}),(0,mw.jsx)("button",{onClick:function(){return te()},children:"DeSelect All"}),(0,mw.jsx)("input",{type:"color",onChange:function(e){return function(e){C&&C.material.color.set(new kr(e.target.value))}(e)}}),(0,mw.jsx)("input",{size:10,type:"text",value:Q,onChange:function(e){return J(e.target.value)}}),yw.map((function(e,t){return(0,mw.jsxs)("span",{children:["  ",(0,mw.jsx)("input",{defaultChecked:"translate"===e,onClick:function(e){return w.current.setMode(e.target.value)},type:"radio",id:e,value:e,name:"transformMode"}),(0,mw.jsx)("label",{htmlFor:e,children:e})]},t)})),"Texture",(0,mw.jsx)("input",{id:"importjson",type:"file",className:"input-file",accept:".png,jpg,.bmp,.jpeg",onChange:function(e){return function(e){if(C){var t=new FileReader;t.onload=function(e){var t=new cf;t.crossOrigin="",t.load(e.target.result,(function(e){var t=new ea({map:e,color:"grey"});C.material=t,C.material.map.needsUpdate=!0}),(function(){}),(function(e){console.log(e)}))},t.readAsDataURL(e)}}(e.target.files[0])}}),(0,mw.jsx)("button",{onClick:function(){te(),(new Uy).parse(t,(function(e){var t=JSON.stringify(e);(new Sb).parse(t,"",(function(e){zy('call 1-97 "\n                importScenefromData('.concat(JSON.stringify(e.scene.toJSON()).replaceAll('"','\\"'),");\n                camera1.position.set(").concat(c.position.x,", ").concat(c.position.y,", ").concat(c.position.z,');\n                "'))}))}),(function(e){console.log("An error happened")}),{})},children:"Update to Caspar"}),(0,mw.jsx)("button",{onClick:function(){c.position.set(0,3061616997868383e-31,5)},children:"Reset Camera"}),(0,mw.jsx)("button",{onClick:function(){var e=new Ua(7,4,5),t=new ea({transparent:!0,map:(new cf).load(localStorage.getItem("RCC_currentcanvas"),(function(n){console.log(n);var r=j.length,i="fabricjs";N([].concat(f(j),[(0,mw.jsx)(D,{shape:i,geometry:e,material:t,theatreKey:i+r},r)]))}))})},children:"Load fabricjs here"}),(0,mw.jsx)("button",{onClick:function(){return K.apply(this,arguments)},children:"FileSave As gltf"}),"Open gltf file: ",(0,mw.jsx)("input",{id:"importjson",type:"file",className:"input-file",accept:".gltf",onChange:function(e){return function(e){var t=new FileReader;t.onload=function(e){(new Sb).load(e.target.result,(function(e){e.scene.children.forEach((function(e,t){console.log(e),"Mesh"===e.type&&V("imported",e,t)})),N([].concat(f(j),f(B))),U([])}))},t.readAsDataURL(e)}(e.target.files[0])}}),(0,mw.jsxs)("label",{htmlFor:"hhh",children:[" orbitcontrolenable: ",(0,mw.jsx)("input",{id:"hhh",type:"checkbox",checked:S,onChange:function(){return k(!S)}})]}),(0,mw.jsx)("button",{onClick:function(){console.log(t.children)},children:"console log"}),(0,mw.jsx)("button",{onClick:function(){gw.sequence.play({rate:10})},children:"Test4"})]}),(0,mw.jsx)("div",{style:{height:650,backgroundColor:"grey",border:"1px solid red"},children:(0,mw.jsx)(Rm,{gl:{preserveDrawingBuffer:!0},onCreated:function(e){var t=e.gl,r=e.raycaster,i=e.scene,a=e.camera;n(i),d(a),x(r),q(t)},children:(0,mw.jsxs)(ew,{sheet:gw,children:[(0,mw.jsx)(jm,{enabled:S,theatreKey:"orb 1"}),(0,mw.jsx)(qm,{ref:w,theatreKey:"transformControls 1"}),(0,mw.jsx)(vw.spotLight,{position:[10,15,10],angle:10.5,theatreKey:"spotLight 1"}),(0,mw.jsx)(r.Suspense,{fallback:null,children:j})]})})})]}),(0,mw.jsxs)("div",{style:{border:"1px solid red"},children:[(0,mw.jsxs)("div",{style:{minWidth:300,backgroundColor:"darkgrey",border:"1px solid red"},children:["  ",(0,mw.jsx)("h3",{children:"Props Area"})," "]}),(0,mw.jsxs)("div",{style:{position:"absolute",top:475,border:"1px solid red"},children:["gltf file ",(0,mw.jsx)("input",{id:"importjson",type:"file",className:"input-file",accept:".gltf",onChange:function(e){return function(e){var t=new FileReader;t.onload=function(e){(new Sb).load(e.target.result,(function(e){s(e.scene)}))},t.readAsDataURL(e)}(e.target.files[0])}}),(0,mw.jsx)("button",{onClick:u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new Uy).parse(t,(function(e){var t=JSON.stringify(e);(new Sb).parse(t,"",(function(e){s(e.scene)}))}),(function(e){console.log("An error happened")}),{});case 2:case"end":return e.stop()}}),e)}))),children:" load above as gltf"}),(0,mw.jsx)("button",{onClick:function(){zy('call 1-97 "\n        importScenefromData('.concat(JSON.stringify(a.toJSON()).replaceAll('"','\\"'),");\n        camera1.position.set(").concat(h.position.x,", ").concat(h.position.y,", ").concat(h.position.z,');\n        "'))},children:"Update to Caspar"}),(0,mw.jsx)("button",{onClick:function(){h.position.set(0,3061616997868383e-31,5)},children:"Reset Camera"}),(0,mw.jsx)("button",{onClick:function(){var e=new Mf("white",1);a.add(e)},children:"Add light"}),(0,mw.jsx)("button",{onClick:function(){return console.log(a)},children:"console log"})]}),(0,mw.jsx)("div",{style:{position:"absolute",top:575,minWidth:200,height:150,backgroundColor:"grey",border:"1px solid red"},children:(0,mw.jsxs)(Rm,{onCreated:function(e){e.gl,e.raycaster,e.scene;var t=e.camera;m(t)},children:[(0,mw.jsx)(jm,{}),a&&(0,mw.jsx)("primitive",{object:a})]})})]})]}),(0,mw.jsx)("div",{style:{textAlign:"center",minHeight:220,border:"1px solid red"},children:(0,mw.jsx)("h1",{children:"Timeline Area"})})]})},xw=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,mw.jsx)(r.StrictMode,{children:(0,mw.jsx)(bw,{})})),xw()}()}();
//# sourceMappingURL=main.5664bd5b.js.map